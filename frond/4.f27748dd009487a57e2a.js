(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{UGqF:function(e,t,i){"use strict";i.r(t),i.d(t,"QualificationModule",function(){return yu});var o=i("ofXK"),n=i("3Pt+"),r=i("tyNb");const a=[{name:"Alabama",abbreviation:"AL"},{name:"Alaska",abbreviation:"AK"},{name:"American Samoa",abbreviation:"AS"},{name:"Arizona",abbreviation:"AZ"},{name:"Arkansas",abbreviation:"AR"},{name:"California",abbreviation:"CA"},{name:"Colorado",abbreviation:"CO"},{name:"Connecticut",abbreviation:"CT"},{name:"Delaware",abbreviation:"DE"},{name:"District Of Columbia",abbreviation:"DC"},{name:"Federated States Of Micronesia",abbreviation:"FM"},{name:"Florida",abbreviation:"FL"},{name:"Georgia",abbreviation:"GA"},{name:"Guam",abbreviation:"GU"},{name:"Hawaii",abbreviation:"HI"},{name:"Idaho",abbreviation:"ID"},{name:"Illinois",abbreviation:"IL"},{name:"Indiana",abbreviation:"IN"},{name:"Iowa",abbreviation:"IA"},{name:"Kansas",abbreviation:"KS"},{name:"Kentucky",abbreviation:"KY"},{name:"Louisiana",abbreviation:"LA"},{name:"Maine",abbreviation:"ME"},{name:"Marshall Islands",abbreviation:"MH"},{name:"Maryland",abbreviation:"MD"},{name:"Massachusetts",abbreviation:"MA"},{name:"Michigan",abbreviation:"MI"},{name:"Minnesota",abbreviation:"MN"},{name:"Mississippi",abbreviation:"MS"},{name:"Missouri",abbreviation:"MO"},{name:"Montana",abbreviation:"MT"},{name:"Nebraska",abbreviation:"NE"},{name:"Nevada",abbreviation:"NV"},{name:"New Hampshire",abbreviation:"NH"},{name:"New Jersey",abbreviation:"NJ"},{name:"New Mexico",abbreviation:"NM"},{name:"New York",abbreviation:"NY"},{name:"North Carolina",abbreviation:"NC"},{name:"North Dakota",abbreviation:"ND"},{name:"Northern Mariana Islands",abbreviation:"MP"},{name:"Ohio",abbreviation:"OH"},{name:"Oklahoma",abbreviation:"OK"},{name:"Oregon",abbreviation:"OR"},{name:"Palau",abbreviation:"PW"},{name:"Pennsylvania",abbreviation:"PA"},{name:"Puerto Rico",abbreviation:"PR"},{name:"Rhode Island",abbreviation:"RI"},{name:"South Carolina",abbreviation:"SC"},{name:"South Dakota",abbreviation:"SD"},{name:"Tennessee",abbreviation:"TN"},{name:"Texas",abbreviation:"TX"},{name:"Utah",abbreviation:"UT"},{name:"Vermont",abbreviation:"VT"},{name:"Virgin Islands",abbreviation:"VI"},{name:"Virginia",abbreviation:"VA"},{name:"Washington",abbreviation:"WA"},{name:"West Virginia",abbreviation:"WV"},{name:"Wisconsin",abbreviation:"WI"},{name:"Wyoming",abbreviation:"WY"},{name:"Other",abbreviation:"OT"}];var s=i("fXoL"),c=i("WyCn"),l=i("VZc4"),d=i("+lv+"),u=i("FbN+"),b=i("2Vo4"),p=i("pLZG");let m=(()=>{class e{constructor(){this.toastParam=null,this.subject=new b.a(this.toastParam),this.toast$=this.subject.asObservable().pipe(Object(p.a)(e=>null!==e))}show(e,t,i,o){this.subject.next({type:e,title:t,body:i,delay:o})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var f=i("5eHb"),h=i("0IaG"),g=i("0+Iz");let _=(()=>{class e{constructor(){this.showAdmin=!1,this.organization_status=""}setAdmin(e){this.showAdmin=e}setOrganization(e){this.organization_status=e}setOrgupdatedate(e){this.getOrgupdatedate=e}validateEmpty(e){return null==e||"null"==e||null==e||"undefined"==e||-2147483648==e?"":e}formDisable(e){return"Under initial Risk review"==e||"Under final Risk review"==e||"Risk review Completed"==e||"Under Risk Review I"==e||"Under Risk Review II"==e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var v=i("gren");let y=(()=>{class e{constructor(e){this.ngControl=e}onModelChange(e){this.onInputChange(e,!1)}keydownBackspace(e){this.onInputChange(e.target.value,!0)}onInputChange(e,t){var i;let o=e.replace(/\D/g,"");t&&o.length<=6&&(o=o.substring(0,o.length-1)),0===o.length?o="":o.length<=3?o=o.replace(/^(\d{0,3})/,"($1)"):o.length<=6?o=o.replace(/^(\d{0,3})(\d{0,3})/,"($1) $2"):(o.length<=10||(o=o.substring(0,10)),o=o.replace(/^(\d{0,3})(\d{0,3})(\d{0,4})/,"($1) $2-$3")),null===(i=this.ngControl.valueAccessor)||void 0===i||i.writeValue(o)}}return e.\u0275fac=function(t){return new(t||e)(s.Pb(n.i))},e.\u0275dir=s.Kb({type:e,selectors:[["","formControlName","","appPhoneMask",""]],hostBindings:function(e,t){1&e&&s.cc("ngModelChange",function(e){return t.onModelChange(e)})("keydown.backspace",function(e){return t.keydownBackspace(e)})}}),e})();class V{constructor(e){this._name=e,this.last=null,this.picker="",this.dragStart=!1,this.dragOver=!1,this.pick=[],this.list=[],this.sift=[]}get name(){return this._name}}function U(e,t){if(1&e){const e=s.Wb();s.Vb(0,"form",9),s.Vb(1,"input",10),s.cc("ngModelChange",function(t){return s.uc(e),s.gc().available.picker=t})("ngModelChange",function(){s.uc(e);const t=s.gc();return t.onFilter(t.available)}),s.Ub(),s.Ub()}if(2&e){const e=s.gc();s.Db(1),s.mc("ngModel",e.available.picker)}}const D=function(e,t){return{selected:e,disabled:t}};function C(e,t){if(1&e){const e=s.Wb();s.Vb(0,"li",11),s.cc("click",function(i){s.uc(e);const o=t.$implicit,n=t.index,r=s.gc();return!r.disabled&&r.selectItem(r.available.pick,o),r.shiftClick(i,n,r.available,o)})("dragstart",function(i){s.uc(e);const o=t.$implicit,n=s.gc();return n.drag(i,o,n.available)})("dragend",function(){s.uc(e);const t=s.gc();return t.dragEnd(t.available)}),s.Vb(1,"label"),s.Dc(2),s.Ub(),s.Ub()}if(2&e){const e=t.$implicit,i=s.gc();s.mc("ngClass",s.qc(3,D,i.isItemSelected(i.available.pick,e),i.disabled))("draggable",!i.disabled&&i.format.draggable),s.Db(2),s.Ec(e._name)}}function I(e,t){if(1&e){const e=s.Wb();s.Vb(0,"form",9),s.Vb(1,"input",12),s.cc("ngModelChange",function(t){return s.uc(e),s.gc().confirmed.picker=t})("ngModelChange",function(){s.uc(e);const t=s.gc();return t.onFilter(t.confirmed)}),s.Ub(),s.Ub()}if(2&e){const e=s.gc();s.Db(1),s.mc("ngModel",e.confirmed.picker)}}function R(e,t){if(1&e){const e=s.Wb();s.Vb(0,"li",11,13),s.cc("click",function(i){s.uc(e);const o=t.$implicit,n=t.index,r=s.gc();return!r.disabled&&r.selectItem(r.confirmed.pick,o),r.shiftClick(i,n,r.confirmed,o)})("dragstart",function(i){s.uc(e);const o=t.$implicit,n=s.gc();return n.drag(i,o,n.confirmed)})("dragend",function(){s.uc(e);const t=s.gc();return t.dragEnd(t.confirmed)}),s.Vb(2,"label"),s.Dc(3),s.Ub(),s.Ub()}if(2&e){const e=t.$implicit,i=s.gc();s.mc("ngClass",s.qc(3,D,i.isItemSelected(i.confirmed.pick,e),i.disabled))("draggable",!i.disabled&&i.format.draggable),s.Db(3),s.Ec(e._name)}}const w=function(e,t){return{order:e,"margin-left":t}},F=function(e,t){return{"max-height":e,"min-height":t}},S=function(e){return{over:e}};var k=0;let x=(()=>{class e{constructor(t){this.differs=t,this.id="dual-list-"+k++,this.key="_id",this.display="_name",this.height="100px",this.filter=!1,this.format=e.DEFAULT_FORMAT,this.sort=!1,this.source=[],this.destination=[],this.destinationChange=new s.o,this.sorter=(e,t)=>e._name<t._name?-1:e._name>t._name?1:0,this.available=new V(e.AVAILABLE_LIST_NAME),this.confirmed=new V(e.CONFIRMED_LIST_NAME),console.log("dualbox disabled ="+this.disabled)}ngOnChanges(t){t.disabled&&(this.disabled=t.disabled.currentValue),t.filter&&!1===t.filter.currentValue&&(this.clearFilter(this.available),this.clearFilter(this.confirmed)),t.sort&&(!0===t.sort.currentValue&&void 0===this.compare?this.compare=this.sorter:!1===t.sort.currentValue&&(this.compare=void 0)),t.format&&(this.format=t.format.currentValue,void 0===this.format.direction&&(this.format.direction=e.LTR),void 0===this.format.add&&(this.format.add=e.DEFAULT_FORMAT.add),void 0===this.format.remove&&(this.format.remove=e.DEFAULT_FORMAT.remove),void 0===this.format.all&&(this.format.all=e.DEFAULT_FORMAT.all),void 0===this.format.none&&(this.format.none=e.DEFAULT_FORMAT.none),void 0===this.format.draggable&&(this.format.draggable=e.DEFAULT_FORMAT.draggable)),t.source&&(this.available=new V(e.AVAILABLE_LIST_NAME),this.updatedSource(),this.updatedDestination()),t.destination&&(this.confirmed=new V(e.CONFIRMED_LIST_NAME),this.updatedDestination(),this.updatedSource())}ngDoCheck(){this.source&&this.buildAvailable(this.source)&&this.onFilter(this.available),this.destination&&this.buildConfirmed(this.destination)&&this.onFilter(this.confirmed)}buildAvailable(e){const t=this.sourceDiffer.diff(e);return!!t&&(t.forEachRemovedItem(e=>{const t=this.findItemIndex(this.available.list,e.item,this.key);-1!==t&&this.available.list.splice(t,1)}),t.forEachAddedItem(e=>{-1===this.findItemIndex(this.available.list,e.item,this.key)&&this.available.list.push({_id:this.makeId(e.item),_name:this.makeName(e.item)})}),void 0!==this.compare&&this.available.list.sort(this.compare),this.available.sift=this.available.list,!0)}buildConfirmed(e){let t=!1;const i=this.destinationDiffer.diff(e);return!!i&&(i.forEachRemovedItem(e=>{const i=this.findItemIndex(this.confirmed.list,e.item,this.key);-1!==i&&(this.isItemSelected(this.confirmed.pick,this.confirmed.list[i])||this.selectItem(this.confirmed.pick,this.confirmed.list[i]),this.moveItem(this.confirmed,this.available,this.confirmed.list[i],!1),t=!0)}),i.forEachAddedItem(e=>{const i=this.findItemIndex(this.available.list,e.item,this.key);-1!==i&&(this.isItemSelected(this.available.pick,this.available.list[i])||this.selectItem(this.available.pick,this.available.list[i]),this.moveItem(this.available,this.confirmed,this.available.list[i],!1),t=!0)}),void 0!==this.compare&&this.confirmed.list.sort(this.compare),this.confirmed.sift=this.confirmed.list,t&&this.trueUp(),!0)}updatedSource(){this.available.list.length=0,this.available.pick.length=0,void 0!==this.source&&(this.sourceDiffer=this.differs.find(this.source).create())}updatedDestination(){void 0!==this.destination&&(this.destinationDiffer=this.differs.find(this.destination).create())}direction(){return this.format.direction===e.LTR}dragEnd(e){return e?e.dragStart=!1:(this.available.dragStart=!1,this.confirmed.dragStart=!1),!1}drag(e,t,i){var o;this.isItemSelected(i.pick,t)||this.selectItem(i.pick,t),i.dragStart=!0,null===(o=null==e?void 0:e.dataTransfer)||void 0===o||o.setData(this.id,t._id)}allowDrop(e,t){var i;return(null===(i=e.dataTransfer)||void 0===i?void 0:i.types.length)&&e.dataTransfer.types[0]===this.id&&(e.preventDefault(),t.dragStart||(t.dragOver=!0)),!1}dragLeave(){this.available.dragOver=!1,this.confirmed.dragOver=!1}drop(e,t){var i;(null===(i=null==e?void 0:e.dataTransfer)||void 0===i?void 0:i.types.length)&&e.dataTransfer.types[0]===this.id&&(e.preventDefault(),this.dragLeave(),this.dragEnd(),t===this.available?this.moveItem(this.available,this.confirmed):this.moveItem(this.confirmed,this.available))}trueUp(){let e=!1,t=this.destination.length;for(;(t-=1)>=0;)0===this.confirmed.list.filter(e=>"object"==typeof this.destination[t]?e._id===this.destination[t][this.key]:e._id===this.destination[t]).length&&(this.destination.splice(t,1),e=!0);for(let i=0,o=this.confirmed.list.length;i<o;i+=1){let t=this.destination.filter(e=>"object"==typeof e?e[this.key]===this.confirmed.list[i]._id:e===this.confirmed.list[i]._id);0===t.length&&(t=this.source.filter(e=>"object"==typeof e?e[this.key]===this.confirmed.list[i]._id:e===this.confirmed.list[i]._id),t.length>0&&(this.destination.push(t[0]),e=!0))}e&&this.destinationChange.emit(this.destination)}findItemIndex(e,t,i="_id"){let o=-1;return e.filter("object"==typeof t?function(n){return n._id===t[i]&&(o=e.indexOf(n),!0)}:function(i){return i._id===t&&(o=e.indexOf(i),!0)}),o}makeUnavailable(e,t){const i=e.list.indexOf(t);-1!==i&&e.list.splice(i,1)}moveItem(e,t,i=null,o=!0){let n=0,r=e.pick.length;for(i&&(n=e.list.indexOf(i),r=n+1);n<r;n+=1){let o=[];if(i){const t=this.findItemIndex(e.pick,i);-1!==t&&(o[0]=e.pick[t])}else o=e.list.filter(t=>t._id===e.pick[n]._id);1===o.length&&(0===t.list.filter(e=>e._id===o[0]._id).length&&t.list.push(o[0]),this.makeUnavailable(e,o[0]))}void 0!==this.compare&&t.list.sort(this.compare),e.pick.length=0,o&&this.trueUp(),setTimeout(()=>{this.onFilter(e),this.onFilter(t)},10)}isItemSelected(e,t){return e.filter(e=>Object.is(e,t)).length>0}shiftClick(e,t,i,o){if(e.shiftKey&&i.last&&!Object.is(o,i.last)){const e=i.sift.indexOf(i.last);if(t>e)for(let o=e+1;o<t;o+=1)this.selectItem(i.pick,i.sift[o]);else if(-1!==e)for(let o=t+1;o<e;o+=1)this.selectItem(i.pick,i.sift[o])}i.last=o}selectItem(e,t){const i=e.filter(e=>Object.is(e,t));if(i.length>0)for(let o=0,n=i.length;o<n;o+=1){const t=e.indexOf(i[o]);-1!==t&&e.splice(t,1)}else e.push(t)}selectAll(e){e.pick.length=0,e.pick=e.sift.slice(0)}selectNone(e){e.pick.length=0}isAllSelected(e){return 0===e.list.length||e.list.length===e.pick.length}isAnySelected(e){return e.pick.length>0}unpick(e){for(let t=e.pick.length-1;t>=0;t-=1)-1===e.sift.indexOf(e.pick[t])&&e.pick.splice(t,1)}clearFilter(e){e&&(e.picker="",this.onFilter(e))}onFilter(e){if(e.picker.length>0)try{const t=e.list.filter(t=>"[object Object]"===Object.prototype.toString.call(t)?void 0!==t._name?-1!==t._name.toLocaleLowerCase(this.format.locale).indexOf(e.picker.toLocaleLowerCase(this.format.locale)):-1!==JSON.stringify(t).toLocaleLowerCase(this.format.locale).indexOf(e.picker.toLocaleLowerCase(this.format.locale)):-1!==t.toLocaleLowerCase(this.format.locale).indexOf(e.picker.toLocaleLowerCase(this.format.locale)));e.sift=t,this.unpick(e)}catch(t){t instanceof RangeError&&(this.format.locale=void 0),e.sift=e.list}else e.sift=e.list}makeId(e){return"object"==typeof e?e[this.key]:e}makeName(e,t="_"){const i=this.display;function o(e){switch(Object.prototype.toString.call(e)){case"[object Number]":case"[object String]":return e;default:return void 0!==e?e[i]:"undefined"}}let n="";if(void 0!==this.display)switch(Object.prototype.toString.call(this.display)){case"[object Function]":n=this.display(e);break;case"[object Array]":for(let i=0,o=this.display.length;i<o;i+=1)if(n.length>0&&(n+=t),-1===this.display[i].indexOf("."))n+=e[this.display[i]];else{const t=this.display[i].split("."),o=e[t[0]];if(o)if(-1!==t[1].indexOf("substring")){const e=t[1].substring(t[1].indexOf("(")+1,t[1].indexOf(")")).split(",");switch(e.length){case 1:n+=o.substring(parseInt(e[0],10));break;case 2:n+=o.substring(parseInt(e[0],10),parseInt(e[1],10));break;default:n+=o}}else n+=o}break;default:n=o(e)}else n=o(e);return n}}return e.AVAILABLE_LIST_NAME="available",e.CONFIRMED_LIST_NAME="confirmed",e.LTR="left-to-right",e.RTL="right-to-left",e.DEFAULT_FORMAT={add:"Add",remove:"Remove",all:"All",none:"None",direction:e.LTR,draggable:!0,locale:void 0},e.\u0275fac=function(t){return new(t||e)(s.Pb(s.u))},e.\u0275cmp=s.Jb({type:e,selectors:[["app-duallist"]],inputs:{id:"id",key:"key",display:"display",height:"height",filter:"filter",format:"format",sort:"sort",compare:"compare",disabled:"disabled",source:"source",destination:"destination"},outputs:{destinationChange:"destinationChange"},features:[s.Bb],decls:17,vars:32,consts:[[1,"dual-list"],[1,"listbox",3,"ngStyle"],["class","filter",4,"ngIf"],[1,"record-picker"],[3,"ngStyle","ngClass","drop","dragover","dragleave"],[3,"ngClass","draggable","click","dragstart","dragend",4,"ngFor","ngForOf"],[1,"button-bar"],["type","button","name","addBtn",1,"btn","btn-primary","btn-block",3,"ngClass","disabled","click"],["type","button","name","removeBtn",1,"btn","btn-primary","btn-block",3,"ngClass","disabled","click"],[1,"filter"],["name","filterSource",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngClass","draggable","click","dragstart","dragend"],["name","filterDestination",1,"form-control",3,"ngModel","ngModelChange"],["itmConf",""]],template:function(e,t){1&e&&(s.Vb(0,"div",0),s.Vb(1,"div",1),s.Bc(2,U,2,1,"form",2),s.Vb(3,"div",3),s.Vb(4,"ul",4),s.cc("drop",function(e){return t.drop(e,t.confirmed)})("dragover",function(e){return t.allowDrop(e,t.available)})("dragleave",function(){return t.dragLeave()}),s.Bc(5,C,3,6,"li",5),s.Ub(),s.Ub(),s.Vb(6,"div",6),s.Vb(7,"button",7),s.cc("click",function(){return t.moveItem(t.available,t.confirmed)}),s.Dc(8),s.Ub(),s.Ub(),s.Ub(),s.Vb(9,"div",1),s.Bc(10,I,2,1,"form",2),s.Vb(11,"div",3),s.Vb(12,"ul",4),s.cc("drop",function(e){return t.drop(e,t.available)})("dragover",function(e){return t.allowDrop(e,t.confirmed)})("dragleave",function(){return t.dragLeave()}),s.Bc(13,R,4,6,"li",5),s.Ub(),s.Ub(),s.Vb(14,"div",6),s.Vb(15,"button",8),s.cc("click",function(){return t.moveItem(t.confirmed,t.available)}),s.Dc(16),s.Ub(),s.Ub(),s.Ub(),s.Ub()),2&e&&(s.Db(1),s.mc("ngStyle",s.qc(16,w,t.direction()?1:2,t.direction()?0:"10px")),s.Db(1),s.mc("ngIf",t.filter),s.Db(2),s.mc("ngStyle",s.qc(19,F,t.height,t.height))("ngClass",s.pc(22,S,t.available.dragOver)),s.Db(1),s.mc("ngForOf",t.available.sift),s.Db(2),s.mc("ngClass",t.direction()?"point-right":"point-left")("disabled",0===t.available.pick.length||t.disabled),s.Db(1),s.Ec(t.format.add),s.Db(1),s.mc("ngStyle",s.qc(24,w,t.direction()?2:1,t.direction()?"10px":0)),s.Db(1),s.mc("ngIf",t.filter),s.Db(2),s.mc("ngStyle",s.qc(27,F,t.height,t.height))("ngClass",s.pc(30,S,t.confirmed.dragOver)),s.Db(1),s.mc("ngForOf",t.confirmed.sift),s.Db(2),s.mc("ngClass",t.direction()?"point-left":"point-right")("disabled",0===t.confirmed.pick.length||t.disabled),s.Db(1),s.Ec(t.format.remove))},directives:[o.m,o.l,o.j,o.k,n.v,n.k,n.l,n.b,n.j,n.m],styles:['div.record-picker[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto;border:1px solid #ddd;border-radius:8px;position:relative;cursor:pointer;height:175px}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-button{width:0;height:0}div.record-picker[_ngcontent-%COMP%]{scrollbar-base-color:#4a7729;scrollbar-3dlight-color:#4a7729;scrollbar-highlight-color:#4a7729;scrollbar-track-color:#eee;scrollbar-arrow-color:grey;scrollbar-shadow-color:grey;scrollbar-dark-shadow-color:grey}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#eee;box-shadow:inset 0 0 3px #dfdfdf;border-top-right-radius:8px;border-bottom-right-radius:8px}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#337ab7;border:thin solid grey;border-top-right-radius:8px;border-bottom-right-radius:8px}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#286090}.record-picker[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding:0 0 1px}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-top:thin solid #ddd;border-bottom:1px solid #ddd;display:block;padding:2px 2px 2px 10px;margin-bottom:-1px;font-size:.85em;cursor:pointer;white-space:nowrap;min-height:16px}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.record-picker[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background-color:#d9edf7}.record-picker[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:hover{background-color:#c4e3f3}.record-picker[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:default;background-color:inherit}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{border-top-left-radius:8px;border-top-right-radius:8px;border-top:none}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom-left-radius:8px;border-bottom-right-radius:8px;border-bottom:none}.record-picker[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;font-weight:inherit;font-size:14px;padding:4px;margin-bottom:-1px;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.record-picker[_ngcontent-%COMP%]   ul.over[_ngcontent-%COMP%]{background-color:#d3d3d3}.dual-list[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-content:flex-start}.dual-list[_ngcontent-%COMP%]   .listbox[_ngcontent-%COMP%]{width:50%;margin:0}.dual-list[_ngcontent-%COMP%]   .button-bar[_ngcontent-%COMP%]{margin-top:8px}.point-right[_ngcontent-%COMP%]:after{content:"\\25B6";padding-left:1em}.point-left[_ngcontent-%COMP%]:before{content:"\\25C0";padding-right:1em}.dual-list[_ngcontent-%COMP%]   .button-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:47%}button.btn-block[_ngcontent-%COMP%]{display:block;width:100%;margin-bottom:8px;background-color:#4a7729!important}.filter[_ngcontent-%COMP%]{margin-bottom:-2.2em}.filter[_ngcontent-%COMP%]:after{content:"o";width:40px;color:transparent;font-size:2em;background-image:url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M0 64l192 192v192l128-32V256L512 64H0z"/></svg>\');background-repeat:no-repeat;background-position:50%;opacity:.2;top:-36px;left:calc(100% - 21px);position:relative}']}),e})();var P=i("Xa2L"),j=i("vrVw"),A=i("hlQ1"),O=i("tk/3");let E=(()=>{class e extends A.a{constructor(e,t){super("Comments",e,t,{root:j.a.webserviceURlLocal})}getAll(){return super.getAll()}getRecord(e,t,i){const o={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}},n=this.httpUrlGenerator.entityResource(`Comments/${e}/${t}/${i}`,j.a.webserviceURlLocal);return this.http.get(n,o)}deleteRecord(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.delete(j.a.webserviceURlLocal+"Files/"+e,t)}getRecords(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("Comments/"+e,j.a.webserviceURlLocal);return this.http.get(i,t)}updateRecord(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("Comments",j.a.webserviceURlLocal)+t;return this.http.put(o,e,i)}addRecord(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("Comments",j.a.webserviceURlLocal);return this.http.post(i,e,t)}}return e.\u0275fac=function(t){return new(t||e)(s.Zb(O.b),s.Zb(A.c))},e.\u0275prov=s.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function M(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Additional notes from Risk is required "),s.Ub())}function N(e,t){if(1&e&&(s.Vb(0,"div",16),s.Bc(1,M,2,0,"div",17),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.comment.errors.required)}}function B(e,t){1&e&&(s.Vb(0,"div",18),s.Vb(1,"span"),s.Dc(2,"Uploading..."),s.Ub(),s.Qb(3,"mat-progress-spinner",19),s.Ub())}function q(e,t){if(1&e&&(s.Vb(0,"div"),s.Vb(1,"p",20),s.Vb(2,"small"),s.Vb(3,"a",21),s.Dc(4),s.Ub(),s.Ub(),s.Ub(),s.Ub()),2&e){const e=t.$implicit;s.Db(3),s.nc("href",e.file_Path,s.wc),s.Db(1),s.Ec(e.name)}}function T(e,t){if(1&e&&(s.Vb(0,"a",21),s.Dc(1),s.Ub()),2&e){const e=t.$implicit;s.mc("href",e.file_path,s.wc),s.Db(1),s.Ec(e.file_name)}}function L(e,t){if(1&e&&(s.Vb(0,"tr"),s.Vb(1,"td"),s.Dc(2),s.Ub(),s.Vb(3,"td"),s.Dc(4),s.hc(5,"date"),s.Ub(),s.Vb(6,"td"),s.Dc(7),s.Ub(),s.Vb(8,"td"),s.Bc(9,T,2,2,"a",24),s.Ub(),s.Ub()),2&e){const e=t.$implicit;s.Db(2),s.Ec(e.createUser),s.Db(2),s.Ec(s.jc(5,4,e.createdDate,"MM-dd-yyyy hh:mm a")),s.Db(3),s.Ec(e.comment),s.Db(2),s.mc("ngForOf",e.attachment)}}function Y(e,t){if(1&e&&(s.Vb(0,"table",22),s.Vb(1,"tr",23),s.Vb(2,"td"),s.Dc(3,"Created By"),s.Ub(),s.Vb(4,"td"),s.Dc(5,"Date"),s.Ub(),s.Vb(6,"td"),s.Dc(7,"Risk Notes"),s.Ub(),s.Vb(8,"td"),s.Dc(9,"Attachments"),s.Ub(),s.Ub(),s.Bc(10,L,10,7,"tr",12),s.Ub()),2&e){const e=s.gc();s.Db(10),s.mc("ngForOf",e.listComments)}}const z=function(e){return{"is-invalid":e}};let G=(()=>{class e{constructor(e,t){this.fb=e,this.commentservice=t,this.formname="",this.formId=0,this.companyId=0,this.headerReview="",this.listComments=[],this.url=j.a.webserviceURlLocal.replace("api/",""),this.i=1,this.submitted=!1,this.attachment=[],this.commentForm=this.fb.group({id:[0],companyId:[""],comment:["",n.u.required],attachment:[""]}),this.spinner={bondingSpinner:!1}}ngAfterViewChecked(){this.companyId>0&&1==this.i&&(this.gridload(),this.i=2)}gridload(){this.commentservice.getRecord(this.companyId,this.formname,this.formId).subscribe(e=>{this.listComments=e.map(e=>Object.assign(Object.assign({},e),{attachment:e.files.map(e=>({file_path:e.file_Path,file_name:e.file_Name}))}))}),this.i=2}ngOnInit(){}get f(){return this.commentForm.controls}qcpUpload(e){let t=document.getElementById("attachment");for(let i=0;i<t.files.length;i++)this.attachment.push(t.files[i]);this.fileupload()}filepreview(e,t){var i=new FileReader;i.onload=i=>{let o=new Blob(e.files,{type:e.files[t].type});var n=(window.URL||window.webkitURL).createObjectURL(o),r=document.createElement("a"),a=document.createTextNode("View File");r.target="_blank",r.appendChild(a),r.href=n,r.click(),e.appendChild(r)},i.readAsDataURL(e.files[t])}fileupload(){}formMethod(){var e=new FormData;switch(e.append("companyId",this.companyId),e.append("comment",this.commentForm.value.comment),this.formname){case"organization":e.append("organizationId",this.formId);break;case"experience":e.append("experienceId",this.formId);break;case"safety":e.append("safetyId",this.formId);break;case"financial":e.append("financialId",this.formId);break;case"personnel":e.append("personnelId",this.formId);break;case"surety":e.append("suretyId",this.formId);break;case"signature":e.append("signatureId",this.formId)}for(let t=0;t<this.attachment.length;t++)e.append("attachment",this.attachment[t]);return e}commentsubmit(){this.submitted=!0;let e=this.formMethod();this.commentservice.addRecord(e).subscribe(e=>{this.gridload(),this.commentForm.patchValue({comment:"",attachment:[]}),this.attachment=[],this.submitted=!1})}}return e.\u0275fac=function(t){return new(t||e)(s.Pb(n.d),s.Pb(E))},e.\u0275cmp=s.Jb({type:e,selectors:[["app-comment"]],inputs:{formname:"formname",formId:"formId",companyId:"companyId",headerReview:"headerReview"},decls:27,vars:12,consts:[[1,"section"],[1,"bgyellow"],[1,"comment-section"],[1,"form",3,"formGroup","ngSubmit","keydown.enter"],[1,"row"],["formControlName","comment","id","comment","name","comment",1,"form-control","rowform",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for",""],[1,"form-control-customitem","form-control","rowform"],["type","file","title","Choose file","formControlName","attachment","id","attachment","name","attachment","multiple","",3,"ngClass","change"],["for","attachment"],["class","spinner__loading pt-3",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"text-end"],[1,"btn","ml-4","default-btn"],["class","table",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner__loading","pt-3"],["diameter","18","mode","indeterminate",1,"mt-1"],[1,"file-tag"],["target","_blank",3,"href"],[1,"table"],[2,"font-weight","bold"],["target","_blank",3,"href",4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(s.Vb(0,"div",0),s.Vb(1,"div"),s.Vb(2,"span",1),s.Dc(3),s.Ub(),s.Ub(),s.Vb(4,"div",2),s.Vb(5,"form",3),s.cc("ngSubmit",function(){return t.commentsubmit()})("keydown.enter",function(e){return e.preventDefault()}),s.Vb(6,"div",4),s.Vb(7,"label"),s.Dc(8,"1. Additional notes from Risk"),s.Ub(),s.Qb(9,"textarea",5),s.Bc(10,N,2,1,"div",6),s.Ub(),s.Vb(11,"div",4),s.Vb(12,"label",7),s.Dc(13,"2. Additional Attachment "),s.Ub(),s.Vb(14,"div",8),s.Vb(15,"input",9),s.cc("change",function(e){return t.qcpUpload(e)}),s.Ub(),s.Vb(16,"span",10),s.Dc(17,' \xa0Choose Files with "Click to Add Files"'),s.Ub(),s.Bc(18,B,4,0,"div",11),s.Bc(19,q,5,2,"div",12),s.Ub(),s.Ub(),s.Vb(20,"div",13),s.Vb(21,"button",14),s.Dc(22,"Submit"),s.Ub(),s.Ub(),s.Ub(),s.Vb(23,"h2"),s.Vb(24,"b"),s.Dc(25,"Risk Notes History"),s.Ub(),s.Ub(),s.Bc(26,Y,11,1,"table",15),s.Ub(),s.Ub()),2&e&&(s.Db(3),s.Ec(t.headerReview),s.Db(2),s.mc("formGroup",t.commentForm),s.Db(4),s.mc("ngClass",s.pc(8,z,t.submitted&&t.f.comment.errors)),s.Db(1),s.mc("ngIf",t.submitted&&t.f.comment.errors),s.Db(5),s.mc("ngClass",s.pc(10,z,t.submitted&&t.f.attachment.errors)),s.Db(3),s.mc("ngIf",null==t.spinner?null:t.spinner.bondingSpinner),s.Db(1),s.mc("ngForOf",t.attachment),s.Db(7),s.mc("ngIf",t.listComments.length))},directives:[n.v,n.k,n.g,n.b,n.j,n.f,o.j,o.l,o.k,P.a],pipes:[o.e],styles:[".table[_ngcontent-%COMP%]{width:95%;margin:10px auto;border-top:1px solid #ccc;border-right:1px solid #ccc}.table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px;border-bottom:1px solid #ccc;border-left:1px solid #ccc}.section[_ngcontent-%COMP%]{margin:-14px auto 0;padding:10px;width:99%;background-color:#fff}.comment-section[_ngcontent-%COMP%]{width:95%;padding:20px 10px 10px;margin:10px auto;background-color:#fff;border-radius:12px}.form[_ngcontent-%COMP%]{margin:10px;padding:10px 0}.row[_ngcontent-%COMP%]{margin:10px 0}.rowform[_ngcontent-%COMP%]{margin-left:30px;margin-top:5px;width:98%}.bgyellow[_ngcontent-%COMP%]{background-color:#ff0;height:20px;font-weight:700;padding:5px 10px}"]}),e})();const Q=["exampleModal"];function $(e,t){1&e&&(s.Vb(0,"div",172),s.Dc(1,"Organization type is required "),s.Ub())}function W(e,t){if(1&e&&(s.Vb(0,"div",170),s.Bc(1,$,2,0,"div",171),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.org_Type.errors.required)}}function H(e,t){1&e&&(s.Vb(0,"div",180),s.Dc(1," Reason is required "),s.Ub())}function Z(e,t){if(1&e&&(s.Vb(0,"div",178),s.Bc(1,H,2,0,"div",179),s.Ub()),2&e){const e=s.gc(2);s.Db(1),s.mc("ngIf",null==e.f.org_Other_Details||null==e.f.org_Other_Details.errors?null:e.f.org_Other_Details.errors.required)}}const K=function(e){return{"is-invalid":e}};function J(e,t){if(1&e){const e=s.Wb();s.Vb(0,"div",9),s.Qb(1,"div",173),s.Vb(2,"div",103),s.Vb(3,"div",174),s.Vb(4,"label",175),s.Dc(5,"If other, describe circumstances. "),s.Ub(),s.Vb(6,"textarea",176),s.cc("ngModelChange",function(){return s.uc(e),s.gc().idleReset(1)}),s.Ub(),s.Bc(7,Z,2,1,"div",177),s.Ub(),s.Ub(),s.Ub()}if(2&e){const e=s.gc();s.Db(6),s.mc("ngClass",s.pc(2,K,e.submitted&&(null==e.f.org_Other_Details?null:e.f.org_Other_Details.errors))),s.Db(1),s.mc("ngIf",(e.submitted||e.f.org_Other_Details.touched)&&(null==e.f.org_Other_Details?null:e.f.org_Other_Details.errors))}}function X(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Date of incorporation is required"),s.Ub())}function ee(e,t){if(1&e&&(s.Vb(0,"div",181),s.Bc(1,X,2,0,"div",182),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.date_Of_Incorporation.errors.required)}}function te(e,t){if(1&e&&(s.Vb(0,"option",15),s.Dc(1),s.Ub()),2&e){const e=t.$implicit;s.mc("ngValue",e.name),s.Db(1),s.Fc("",e.name," ")}}function ie(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"State of incorporation is required"),s.Ub())}function oe(e,t){if(1&e&&(s.Vb(0,"div",181),s.Bc(1,ie,2,0,"div",182),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.state_Of_Incorporation.errors.required)}}function ne(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Prequalification Contact name is required"),s.Ub())}function re(e,t){if(1&e&&(s.Vb(0,"div",181),s.Bc(1,ne,2,0,"div",182),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.contact_Name.errors.required)}}function ae(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Prequalification Contact email is required"),s.Ub())}function se(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Enter a valid Email"),s.Ub())}function ce(e,t){if(1&e&&(s.Vb(0,"div",181),s.Bc(1,ae,2,0,"div",182),s.Bc(2,se,2,0,"div",182),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.contact_Email.errors.required),s.Db(1),s.mc("ngIf",e.f.contact_Email.errors.email)}}function le(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Prequalification contact phone is required"),s.Ub())}function de(e,t){if(1&e&&(s.Vb(0,"div",181),s.Bc(1,le,2,0,"div",182),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.contact_Mobile.errors.required)}}function ue(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Extension is required "),s.Ub())}function be(e,t){if(1&e&&(s.Vb(0,"div",181),s.Bc(1,ue,2,0,"div",182),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.contact_Mobile_Ext.errors.required)}}function pe(e,t){1&e&&(s.Vb(0,"div",185),s.Dc(1," Certified diverse/minority business is required "),s.Ub())}function me(e,t){if(1&e&&(s.Vb(0,"div",183),s.Bc(1,pe,2,0,"div",184),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",null==e.f.is_Certified_Diverse.errors?null:e.f.is_Certified_Diverse.errors.required)}}function fe(e,t){1&e&&(s.Vb(0,"span",12),s.Dc(1,"*"),s.Ub())}function he(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Last year is required"),s.Ub())}function ge(e,t){if(1&e&&(s.Vb(0,"div",181),s.Bc(1,he,2,0,"div",182),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.annual_Construction_Last_Year.errors.required)}}function _e(e,t){1&e&&(s.Vb(0,"span",12),s.Dc(1,"*"),s.Ub())}function ve(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Past 2 years is required"),s.Ub())}function ye(e,t){if(1&e&&(s.Vb(0,"div",181),s.Bc(1,ve,2,0,"div",182),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.annual_Construction_2_Years.errors.required)}}function Ve(e,t){1&e&&(s.Vb(0,"span",12),s.Dc(1,"*"),s.Ub())}function Ue(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Past 3 years is required"),s.Ub())}function De(e,t){if(1&e&&(s.Vb(0,"div",181),s.Bc(1,Ue,2,0,"div",182),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.annual_Construction_3_Years.errors.required)}}function Ce(e,t){1&e&&(s.Vb(0,"div",188),s.Dc(1," Parent company is required "),s.Ub())}function Ie(e,t){if(1&e&&(s.Vb(0,"div",186),s.Bc(1,Ce,2,0,"div",187),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",null==e.f.is_Parent_Company.errors?null:e.f.is_Parent_Company.errors.required)}}function Re(e,t){1&e&&(s.Vb(0,"span",12),s.Dc(1,"*"),s.Ub())}function we(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Contact name is required "),s.Ub())}function Fe(e,t){if(1&e&&(s.Vb(0,"div",181),s.Bc(1,we,2,0,"div",182),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.parent_Company_Name.errors.required)}}function Se(e,t){1&e&&(s.Vb(0,"span",12),s.Dc(1,"*"),s.Ub())}function ke(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Address Line 1 is required"),s.Ub())}function xe(e,t){if(1&e&&(s.Vb(0,"div",181),s.Bc(1,ke,2,0,"div",182),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.parent_Company_Address1.errors.required)}}function Pe(e,t){1&e&&(s.Vb(0,"span",12),s.Dc(1,"*"),s.Ub())}function je(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"City is required"),s.Ub())}function Ae(e,t){if(1&e&&(s.Vb(0,"div",181),s.Bc(1,je,2,0,"div",182),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.parent_Company_City.errors.required)}}function Oe(e,t){1&e&&(s.Vb(0,"span",12),s.Dc(1,"*"),s.Ub())}function Ee(e,t){if(1&e&&(s.Vb(0,"option",15),s.Dc(1),s.Ub()),2&e){const e=t.$implicit;s.mc("ngValue",e.name),s.Db(1),s.Fc("",e.name," ")}}function Me(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"State is required"),s.Ub())}function Ne(e,t){if(1&e&&(s.Vb(0,"div",181),s.Bc(1,Me,2,0,"div",182),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.parent_Company_State.errors.required)}}function Be(e,t){1&e&&(s.Vb(0,"span",12),s.Dc(1,"*"),s.Ub())}function qe(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Zip code is required "),s.Ub())}function Te(e,t){if(1&e&&(s.Vb(0,"div",181),s.Bc(1,qe,2,0,"div",182),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.parent_Company_Zipcode.errors.required)}}function Le(e,t){1&e&&(s.Vb(0,"span",12),s.Dc(1,"*"),s.Ub())}function Ye(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Country is required "),s.Ub())}function ze(e,t){if(1&e&&(s.Vb(0,"div",181),s.Bc(1,Ye,2,0,"div",182),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.parent_Company_Country.errors.required)}}function Ge(e,t){1&e&&(s.Vb(0,"span",12),s.Dc(1,"*"),s.Ub())}function Qe(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Parent Company FEIN Number / Tax-id is required"),s.Ub())}function $e(e,t){if(1&e&&(s.Vb(0,"div",181),s.Bc(1,Qe,2,0,"div",182),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.parent_Company_FEIN.errors.required)}}function We(e,t){1&e&&(s.Vb(0,"span",12),s.Dc(1,"*"),s.Ub())}function He(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Attachment is required"),s.Ub())}function Ze(e,t){if(1&e&&(s.Vb(0,"div",181),s.Bc(1,He,2,0,"div",182),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.w9_Document_Attachment.errors.required)}}function Ke(e,t){1&e&&(s.Vb(0,"div",189),s.Vb(1,"span"),s.Dc(2,"Uploading..."),s.Ub(),s.Qb(3,"mat-progress-spinner",190),s.Ub())}function Je(e,t){if(1&e){const e=s.Wb();s.Vb(0,"div"),s.Vb(1,"p",191),s.Vb(2,"small"),s.Vb(3,"a",192),s.Dc(4),s.Ub(),s.Ub(),s.Vb(5,"small",193),s.cc("click",function(){s.uc(e);const i=t.index,o=t.$implicit;return s.gc().removedocumentw9file(i,o)}),s.Dc(6,"X"),s.Ub(),s.Ub(),s.Ub()}if(2&e){const e=t.$implicit;s.Db(3),s.nc("href",e.file_Path,s.wc),s.Db(1),s.Ec(e.name)}}function Xe(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Executive officer #1 name is required"),s.Ub())}function et(e,t){if(1&e&&(s.Vb(0,"div",181),s.Bc(1,Xe,2,0,"div",182),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.executive_Officer_Name.errors.required)}}function tt(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Executive officer #1 title is required"),s.Ub())}function it(e,t){if(1&e&&(s.Vb(0,"div",181),s.Bc(1,tt,2,0,"div",182),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.executive_Officer_Title.errors.required)}}function ot(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Executive officer #1 email is required"),s.Ub())}function nt(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Enter a valid Email"),s.Ub())}function rt(e,t){if(1&e&&(s.Vb(0,"div",181),s.Bc(1,ot,2,0,"div",182),s.Bc(2,nt,2,0,"div",182),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.executive_Officer_Email.errors.required),s.Db(1),s.mc("ngIf",e.f.executive_Officer_Email.errors.email)}}function at(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Enter a valid Email"),s.Ub())}function st(e,t){if(1&e&&(s.Vb(0,"div",181),s.Bc(1,at,2,0,"div",182),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.executive_Officer_Email2.errors.email)}}function ct(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Bankruptcy proceeding is required"),s.Ub())}function lt(e,t){if(1&e&&(s.Vb(0,"div",181),s.Bc(1,ct,2,0,"div",182),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.is_Bank_Ruptcy.errors.required)}}function dt(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Reason is required"),s.Ub())}function ut(e,t){if(1&e&&(s.Vb(0,"div",181),s.Bc(1,dt,2,0,"div",182),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.bank_Ruptcy_Info.errors.required)}}function bt(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Limits or restrictions is required "),s.Ub())}function pt(e,t){if(1&e&&(s.Vb(0,"div",181),s.Bc(1,bt,2,0,"div",182),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.is_Limit_Licenses.errors.required)}}function mt(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Reason is required"),s.Ub())}function ft(e,t){if(1&e&&(s.Vb(0,"div",181),s.Bc(1,mt,2,0,"div",182),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.limit_Licenses_Info.errors.required)}}function ht(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"License suspended or revoked is required"),s.Ub())}function gt(e,t){if(1&e&&(s.Vb(0,"div",181),s.Bc(1,ht,2,0,"div",182),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.is_Suspended_Licenses.errors.required)}}function _t(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Reason is required"),s.Ub())}function vt(e,t){if(1&e&&(s.Vb(0,"div",181),s.Bc(1,_t,2,0,"div",182),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.suspended_Licenses_Info.errors.required)}}function yt(e,t){if(1&e){const e=s.Wb();s.Vb(0,"div",194),s.Vb(1,"button",195),s.cc("click",function(){return s.uc(e),s.gc().gotoHome()}),s.Dc(2," << BACK"),s.Ub(),s.Vb(3,"button",196),s.cc("click",function(){return s.uc(e),s.gc().save()}),s.Dc(4),s.Ub(),s.Vb(5,"button",197),s.Dc(6,"NEXT >>"),s.Ub(),s.Ub()}if(2&e){const e=s.gc();s.Db(4),s.Ec(e.submitText)}}function Vt(e,t){if(1&e){const e=s.Wb();s.Vb(0,"div",198),s.Vb(1,"button",195),s.cc("click",function(){return s.uc(e),s.gc().gotoHome()}),s.Dc(2," << BACK"),s.Ub(),s.Vb(3,"button",199),s.cc("click",function(){return s.uc(e),s.gc().nextroutePage()}),s.Dc(4,"NEXT >>"),s.Ub(),s.Ub()}}function Ut(e,t){if(1&e&&s.Qb(0,"app-comment",200),2&e){const e=s.gc();s.mc("formId",e.tempcompanyid)("companyId",e.tempcompanyid)}}const Dt=function(e){return{"bg-grey":e}},Ct=function(e){return{"bg-grey4":e}};let It=(()=>{class e{constructor(e,t,i,o,r,s,c,l,d,u,b,p,m){this.formBuilder=e,this.router=t,this.companyservice=i,this.bnIdle=o,this.zone=r,this.idle=s,this.keepalive=c,this.toaster=l,this.toastr=d,this.dialog=u,this.project=b,this.logininfo=p,this.ngxUiLoader=m,this.currentForm=0,this.submitted=!1,this.prequalification_status="",this.regionSource=["Charlotte, North Carolina","Cincinnati, Ohio","Columbus, Ohio","Dayton, Ohio","Indianapolis, Indiana","Knoxville, Tennessee","Lexington, Kentucky","Louisville, Kentucky","Nashville, Tennessee","Raleigh, North Carolina"],this.regionDest=[],this.companyInfo=this.formBuilder.group({id:[0],vendorID:[],taxID:[""],companyName:[""],org_Type:["",[n.u.required,n.u.maxLength(130)]],org_Other_Details:[""],date_Of_Incorporation:["",[n.u.required]],state_Of_Incorporation:["",[n.u.required]],contact_Name:["",[n.u.required,n.u.maxLength(256)]],contact_Email:["",[n.u.required,n.u.maxLength(256),n.u.email,n.u.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)]],contact_Mobile:["",[n.u.required,n.u.minLength(15)]],contact_Mobile_Ext:["",[n.u.maxLength(256)]],is_Certified_Diverse:["no",[n.u.required,n.u.maxLength(130)]],is_Parent_Company:["no",[n.u.required]],parent_Company_Name:[""],parent_Company_Address1:[""],parent_Company_Address2:[""],parent_Company_City:[""],parent_Company_State:[""],parent_Company_Zipcode:[""],parent_Company_Country:["USA"],parent_Company_FEIN:[""],w9_Document_Attachment:[""],geographic_Area:["",[n.u.required]],percentage_Of_Annual_Revenue:["00",[n.u.required,n.u.pattern(/^-?(0|[1-9]\d*)?$/)]],annual_Construction_Last_Year:["",[n.u.required]],annual_Construction_2_Years:["",[n.u.required]],annual_Construction_3_Years:["",[n.u.required]],executive_Officer_Name:["",[n.u.required]],executive_Officer_Title:["",[n.u.required]],executive_Officer_Email:["",[n.u.required,n.u.maxLength(256),n.u.email,n.u.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)]],executive_Officer_Name2:[""],executive_Officer_Title2:[""],executive_Officer_Email2:["",[n.u.email]],is_Bank_Ruptcy:["no",[n.u.required]],bank_Ruptcy_Info:[""],is_Limit_Licenses:["no",[n.u.required]],limit_Licenses_Info:[""],is_Suspended_Licenses:["no",[n.u.required]],suspended_Licenses_Info:[""],preQualification_Status:["To complete prequalification"],approved_Date:[""],reject_Reason:[""],standing:[""],user_Type:[""],safety:[""],experience:[""],finance:[""],personnel:[""],surity:[""],reference:[""],other:[""],organizationStatus:[""],signature:[""],certified_Diverse_Attachment:["",[n.u.maxLength(130)]],additional_Details:["",[n.u.maxLength(256)]],CD_Upload:[""],other_details:["",n.u.maxLength(256)],isAutosave:[!1],city:[""],state:[null],org_Size:[],region:[]}),this.cpaUpload=[],this.autoSaveAlert=!1,this.setTimeout=0,this.firstTime=0,this.resetTimer=0,this.is_Certified_Diverse="no",this.showSaveModal=!1,this.showAdmin=!1,this.userRole="",this.companyId=0,this.selectdisabled=!1,this.worktypes=["Option 1","Option 2","Option 3","Option 4","Option 1","Option 2","Option 3","Option 4","Option 1","Option 2","Option 3","Option 4","Option 1","Option 2","Option 3","Option 4"],this.spinner={trirLastSpinner:!1,trirTwoSpinner:!1,trirThreeSpinner:!1,docmentSpinner:!1},this.tempannuallastyear=[],this.annualtwoyear=[],this.annualthreeyear=[],this.tempannualtwoyear=[],this.tempannualthreeyear=[],this.annuallastyear=[],this.stateNames=a,this.tempdocumentw9file=[],this.documentw9file=[],this.toppings=new n.e,this.stateTotal=[{name:"",percentage:""}]}ngOnInit(){this.ngxUiLoader.startLoader("loader-01");let e=localStorage.getItem("userDetails");e&&(e=JSON.parse(atob(e)),this.userDetails=e,this.userRole=e.role,this.tempcompanyid=localStorage.getItem("tempcompanyid"),this.tempcompanyid=Number(atob(this.tempcompanyid)),console.log(this.tempcompanyid),localStorage.setItem("currPage","companyinfo"),this.tempcompanyid>0&&"Subcontractor"!=this.userRole&&(this.showAdmin=!0,this.selectdisabled=!0,this.companyservice.getRecord(this.tempcompanyid).subscribe(e=>{e=e[0],this.companyservice.companyId=this.tempcompanyid,this.logininfo.setOrgupdatedate(e.updatedDate),this.updateCompanyinfo(e)}),this.companyInfo.disable(),this.companyInfo.updateValueAndValidity(),this.logininfo.setAdmin(!0)),this.submitText="SAVE",null!=this.userDetails.vendorId&&null!=this.userDetails.taxId&&"Subcontractor"==this.userRole&&this.companyservice.getUser(this.userDetails.vendorId,this.userDetails.taxId).subscribe(e=>{this.companyId=e.id,this.companyservice.companyId=e.id,localStorage.setItem("companyid",btoa(e.id)),this.companyId>0&&(localStorage.setItem("companyid",btoa(this.companyId)),this.companyservice.getRecord(this.companyId).subscribe(e=>{this.logininfo.setOrgupdatedate(e[0].updatedDate),console.log(e,e[0].preQualification_Status),console.log(e,e[0].preQualification_Status,"To complete prequalification"!=e[0].preQualification_Status,"Additional Info Needed from Subcontractor"!=e[0].preQualification_Status),e[0].preQualification_Status&&this.logininfo.formDisable(e[0].preQualification_Status)&&(this.selectdisabled=!0,this.companyInfo.disable(),this.companyInfo.updateValueAndValidity()),this.submitText="UPDATE",this.updateCompanyinfo(e[0])}))}),this.ngxUiLoader.stopLoader("loader-01"))}getRecord(){this.companyservice.getUser(this.userDetails.vendorId,this.userDetails.taxId).subscribe(e=>{this.companyId=e.id,this.companyId>0&&(localStorage.setItem("companyid",btoa(this.companyId)),this.companyservice.getRecord(this.companyId).subscribe(t=>{this.submitText=t[0].is_Parent_Company?"UPDATE":"SAVE",console.log(e.updateDate),this.logininfo.setOrgupdatedate(t.updatedDate),this.updateCompanyinfo(t[0])}))})}CommaFormatted(e,t){var i,o;e.AT_TARGET>=37&&e.AT_TARGET<=40||this.companyInfo.patchValue({[t]:null===(o=null===(i=this.companyInfo.get(t))||void 0===i?void 0:i.value)||void 0===o?void 0:o.replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,",")})}numberCheck(e){return"e"!==e.key&&"+"!==e.key&&"-"!==e.key}companyDetailReset(){this.companyInfo.patchValue({parent_Company_Name:"",parent_Company_Address1:"",parent_Company_Address2:"",parent_Company_City:"",parent_Company_State:"",parent_Company_Zipcode:"",parent_Company_Country:"",parent_Company_FEIN:""}),this.selectdisabled=!1,this.documentw9file.forEach((e,t)=>{this.removedocumentw9file(t,e,!1)})}licenseStateReset(){this.companyInfo.patchValue({suspended_Licenses_Info:""})}licenseReset(){this.companyInfo.patchValue({limit_Licenses_Info:""})}bankruptcyReset(){this.companyInfo.patchValue({bank_Ruptcy_Info:""})}updateCompanyinfo(e){var t,i,o,n;let r=[];this.stateTotal=[],null===(t=null==e?void 0:e.geographic_Area)||void 0===t||t.split(",").filter(e=>{this.stateTotal.push({name:e.split("--")[0],percentage:e.split("--")[1]})}),0==this.stateTotal.length&&this.stateTotal.push({name:"",percentage:""}),console.log(r),console.log(e.org_Type),this.companyInfo.patchValue({id:e.id,org_Type:this.logininfo.validateEmpty(null===(i=null==e?void 0:e.org_Type)||void 0===i?void 0:i.toLowerCase()),org_Other_Details:this.logininfo.validateEmpty(e.org_Other_Details),date_Of_Incorporation:this.logininfo.validateEmpty(null===(o=null==e?void 0:e.date_Of_Incorporation)||void 0===o?void 0:o.split("T")[0]),state_Of_Incorporation:this.logininfo.validateEmpty(e.state_Of_Incorporation),contact_Name:this.logininfo.validateEmpty(e.contact_Name),contact_Email:this.logininfo.validateEmpty(e.contact_Email),contact_Mobile:this.logininfo.validateEmpty(e.contact_Mobile),contact_Mobile_Ext:this.logininfo.validateEmpty(e.contact_Mobile_Ext),is_Certified_Diverse:this.logininfo.validateEmpty(e.is_Certified_Diverse),is_Parent_Company:this.logininfo.validateEmpty(e.is_Parent_Company),parent_Company_Name:this.logininfo.validateEmpty(e.parent_Company_Name),parent_Company_Address1:this.logininfo.validateEmpty(e.parent_Company_Address1),parent_Company_Address2:this.logininfo.validateEmpty(e.parent_Company_Address2),parent_Company_City:this.logininfo.validateEmpty(e.parent_Company_City),parent_Company_State:this.logininfo.validateEmpty(e.parent_Company_State),parent_Company_Zipcode:this.logininfo.validateEmpty(e.parent_Company_Zipcode),parent_Company_Country:this.logininfo.validateEmpty(e.parent_Company_Country),parent_Company_FEIN:this.logininfo.validateEmpty(e.parent_Company_FEIN),geographic_Area:this.logininfo.validateEmpty(this.stateTotal),percentage_Of_Annual_Revenue:this.logininfo.validateEmpty(e.percentage_Of_Annual_Revenue),executive_Officer_Name:this.logininfo.validateEmpty(e.executive_Officer_Name),executive_Officer_Title:this.logininfo.validateEmpty(e.executive_Officer_Title),executive_Officer_Email:this.logininfo.validateEmpty(e.executive_Officer_Email),executive_Officer_Name2:this.logininfo.validateEmpty(e.executive_Officer_Name2),executive_Officer_Title2:this.logininfo.validateEmpty(e.executive_Officer_Title2),executive_Officer_Email2:this.logininfo.validateEmpty(e.executive_Officer_Email2),is_Bank_Ruptcy:this.logininfo.validateEmpty(e.is_Bank_Ruptcy),bank_Ruptcy_Info:this.logininfo.validateEmpty(e.bank_Ruptcy_Info),is_Limit_Licenses:this.logininfo.validateEmpty(e.is_Limit_Licenses),limit_Licenses_Info:this.logininfo.validateEmpty(e.limit_Licenses_Info),is_Suspended_Licenses:this.logininfo.validateEmpty(e.is_Suspended_Licenses),suspended_Licenses_Info:this.logininfo.validateEmpty(e.suspended_Licenses_Info),preQualification_Status:this.logininfo.validateEmpty(e.preQualification_Status),reject_Reason:this.logininfo.validateEmpty(e.reject_Reason),standing:e.standing,companyName:e.companyName,vendorID:e.vendorID,taxID:e.taxID,approved_Date:e.approved_Date,annual_Construction_Last_Year:this.logininfo.validateEmpty(e.annual_Construction_Last_Year),annual_Construction_2_Years:this.logininfo.validateEmpty(e.annual_Construction_2_Years),annual_Construction_3_Years:this.logininfo.validateEmpty(e.annual_Construction_3_Years),region:e.messer_Region,org_Size:e.messer_Dollar});let a=null===(n=e.messer_Region)||void 0===n?void 0:n.split(",");if(a)for(let s=0;s<a.length-1;s+=2)this.regionDest.push(`${a[s]},${a[s+1]}`);this.selectedToppings=r,(null==e?void 0:e.additional_Details)&&"null"!=(null==e?void 0:e.additional_Details)&&this.companyInfo.patchValue({additional_Details:null==e?void 0:e.additional_Details}),this.prequalification_status=e.preQualification_Status,this.logininfo.setOrganization(e.preQualification_Status),this.annuallastyear=[],this.annualtwoyear=[],this.annualthreeyear=[],this.documentw9file=[],e.files.filter(e=>{"Annual_Construction_Last_Year"==e.file_Type&&0==e.isDeleted&&(e.file_Name.length<31?this.annuallastyear.push({id:e.id,name:e.file_Name,file_Path:e.file_Path}):0==e.isDeleted&&this.annuallastyear.push({id:e.id,name:e.file_Name.substring(0,31)+"....",file_Path:e.file_Path})),"Annual_Construction_2_Years"==e.file_Type&&0==e.isDeleted&&(e.file_Name.length<31?this.annualtwoyear.push({id:e.id,name:e.file_Name,file_Path:e.file_Path}):0==e.isDeleted&&this.annualtwoyear.push({id:e.id,name:e.file_Name.substring(0,31)+"....",file_Path:e.file_Path})),"Annual_Construction_3_Years"==e.file_Type&&0==e.isDeleted&&(e.file_Name.length<31?this.annualthreeyear.push({id:e.id,name:e.file_Name,file_Path:e.file_Path}):0==e.isDeleted&&this.annualthreeyear.push({id:e.id,name:e.file_Name.substring(0,31)+"....",file_Path:e.file_Path})),"W9_Document_Attachment"==e.file_Type&&0==e.isDeleted&&(e.file_Name.length<31?this.documentw9file.push({id:e.id,name:e.file_Name,file_Path:e.file_Path}):0==e.isDeleted&&this.documentw9file.push({id:e.id,name:e.file_Name.substring(0,31)+"....",file_Path:e.file_Path}))})}ngAfterViewInit(){this.keepalive.interval(30),this.keepalive.start(),this.keepalive.stop()}ngOnDestroy(){this.keepalive.stop(),this.nextpage()}ngOnChanges(){document.getElementById("exampleModals").click()}idleReset(e){this.keepalive.start(),this.resetTimer=0}get f(){return"other"==this.companyInfo.value.org_Type?this.companyInfo.controls.org_Other_Details.setValidators([n.u.required,n.u.maxLength(256)]):(this.companyInfo.controls.org_Other_Details.clearValidators(),this.companyInfo.patchValue({org_Other_Details:this.logininfo.validateEmpty(this.companyInfo.value.org_Other_Details)})),this.companyInfo.controls.org_Other_Details.updateValueAndValidity(),"yes"==this.companyInfo.value.is_Parent_Company?(this.companyInfo.controls.parent_Company_Name.setValidators([n.u.required,n.u.maxLength(256)]),this.companyInfo.controls.parent_Company_Address1.setValidators([n.u.required,n.u.maxLength(256)]),this.companyInfo.controls.parent_Company_City.setValidators([n.u.required,n.u.maxLength(256)]),this.companyInfo.controls.parent_Company_State.setValidators([n.u.required,n.u.maxLength(256)]),this.companyInfo.controls.parent_Company_Zipcode.setValidators([n.u.required,n.u.maxLength(256),n.u.pattern(/^-?(0|[1-9]\d*)?$/)]),this.companyInfo.controls.parent_Company_Country.setValidators([n.u.required,n.u.maxLength(256)]),this.companyInfo.controls.parent_Company_FEIN.setValidators([n.u.required,n.u.maxLength(256)]),this.companyInfo.controls.w9_Document_Attachment.setValidators([n.u.required])):"no"==this.companyInfo.value.is_Parent_Company&&(this.companyInfo.controls.parent_Company_Name.clearValidators(),this.companyInfo.controls.parent_Company_Address1.clearValidators(),this.companyInfo.controls.parent_Company_City.clearValidators(),this.companyInfo.controls.parent_Company_State.clearValidators(),this.companyInfo.controls.parent_Company_Country.clearValidators(),this.companyInfo.controls.parent_Company_Zipcode.clearValidators(),this.companyInfo.controls.parent_Company_FEIN.clearValidators(),this.companyInfo.controls.w9_Document_Attachment.clearValidators()),this.companyInfo.controls.parent_Company_Name.updateValueAndValidity(),this.companyInfo.controls.parent_Company_Address1.updateValueAndValidity(),this.companyInfo.controls.parent_Company_City.updateValueAndValidity(),this.companyInfo.controls.parent_Company_State.updateValueAndValidity(),this.companyInfo.controls.parent_Company_Country.updateValueAndValidity(),this.companyInfo.controls.parent_Company_FEIN.updateValueAndValidity(),this.companyInfo.controls.parent_Company_Zipcode.updateValueAndValidity(),this.companyInfo.controls.w9_Document_Attachment.updateValueAndValidity(),null==this.companyInfo.value.is_Certified_Diverse?this.companyInfo.controls.is_Certified_Diverse.setValidators([n.u.required]):this.companyInfo.controls.is_Certified_Diverse.setValue(this.companyInfo.value.is_Certified_Diverse),"yes"==this.companyInfo.value.is_Bank_Ruptcy?this.companyInfo.controls.bank_Ruptcy_Info.setValidators([n.u.required,n.u.maxLength(256)]):(this.companyInfo.controls.bank_Ruptcy_Info.clearValidators(),this.companyInfo.patchValue({bank_Ruptcy_Info:this.logininfo.validateEmpty(this.companyInfo.value.bank_Ruptcy_Info)})),this.companyInfo.controls.bank_Ruptcy_Info.updateValueAndValidity(),"yes"==this.companyInfo.value.is_Limit_Licenses?this.companyInfo.controls.limit_Licenses_Info.setValidators([n.u.required,n.u.maxLength(256)]):(this.companyInfo.controls.limit_Licenses_Info.clearValidators(),this.companyInfo.patchValue({limit_Licenses_Info:this.logininfo.validateEmpty(this.companyInfo.value.limit_Licenses_Info)})),this.companyInfo.controls.limit_Licenses_Info.updateValueAndValidity(),"yes"==this.companyInfo.value.is_Suspended_Licenses?this.companyInfo.controls.suspended_Licenses_Info.setValidators([n.u.required,n.u.maxLength(256)]):(this.companyInfo.controls.suspended_Licenses_Info.clearValidators(),this.companyInfo.patchValue({suspended_Licenses_Info:this.logininfo.validateEmpty(this.companyInfo.value.suspended_Licenses_Info)})),this.companyInfo.controls.suspended_Licenses_Info.updateValueAndValidity(),1==this.stateTotal.length?""!=this.stateTotal[0].name||""!=this.stateTotal[0].percentage?(this.companyInfo.controls.geographic_Area.clearValidators(),this.companyInfo.controls.percentage_Of_Annual_Revenue.clearValidators()):(this.companyInfo.controls.geographic_Area.setValidators([n.u.required]),this.companyInfo.controls.percentage_Of_Annual_Revenue.setValidators([n.u.required])):this.stateNames.length>1&&(this.companyInfo.controls.geographic_Area.clearValidators(),this.companyInfo.controls.percentage_Of_Annual_Revenue.clearValidators()),this.companyInfo.controls.geographic_Area.updateValueAndValidity(),this.companyInfo.controls.percentage_Of_Annual_Revenue.updateValueAndValidity(),this.companyInfo.controls}submit(){if(this.keepalive.stop(),this.ngxUiLoader.startLoader("loader-01"),"Subcontractor"!=this.userRole)this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`]);else if(0==this.companyId){this.companyInfo.patchValue({isAutosave:!1});let e=this.formMethod();this.companyservice.addRecord(e).subscribe(e=>{localStorage.setItem("companyid",btoa(e.id)),this.companyInfo.patchValue({id:e.id,isAutosave:!1}),this.autoSaveAlert=!1,this.toastr.success("Organization Information saved successfully","Organizational Information"),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])})}else{this.companyInfo.patchValue({id:this.companyId,isAutosave:!0});let e=this.formMethod();this.companyservice.updateRecord(e,this.companyInfo.value.id).subscribe(e=>{this.companyservice.companyId=e.id,localStorage.setItem("companyid",btoa(e.id)),this.toastr.success("Organization Info updated successfully","Organizational Information"),this.autoSaveAlert=!1,this.getRecord(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])})}}save(){if(this.submitted=!0,this.keepalive.stop(),this.companyInfo.patchValue({companyName:this.userDetails.companyName,vendorID:this.userDetails.vendorID,taxID:this.userDetails.taxID}),console.log(this.companyInfo),this.companyInfo.valid)if(0==this.companyId){this.companyInfo.patchValue({isAutosave:!1});let e=this.formMethod();this.companyservice.addRecord(e).subscribe(e=>{localStorage.setItem("companyid",btoa(e.id)),this.companyservice.companyId=e.id,this.companyInfo.patchValue({id:e.id}),this.submitText="UPDATE",this.autoSaveAlert=!1,this.toastr.success("Organizational Information saved successfully","Organization Information"),this.getRecord()},e=>{})}else{this.companyInfo.patchValue({isAutosave:!0,id:this.companyId});let e=this.formMethod();this.companyservice.updateRecord(e,this.companyInfo.value.id).subscribe(e=>{this.companyservice.companyId=e.id,localStorage.setItem("companyid",btoa(e.id)),this.autoSaveAlert=!1,this.getRecord(),this.toastr.success("Organizational Information updated successfully","Organization Information")})}}autoSave(){if(this.companyInfo.patchValue({companyName:this.userDetails.companyName,vendorID:this.userDetails.vendorID,taxID:this.userDetails.taxID}),this.resetTimer+=1,1==this.resetTimer)if(this.keepalive.stop(),this.showSaveModal=!1,0==this.companyId){this.companyInfo.patchValue({isAutosave:!1});let e=this.formMethod();this.companyservice.addRecord(e).subscribe(e=>{this.companyInfo.patchValue({id:e.id,isAutosave:!1}),this.submitText="UPDATE",this.autoSaveAlert=!1,this.keepalive.stop(),this.getRecord()})}else{this.companyInfo.patchValue({id:this.companyId,isAutosave:!0});let e=this.formMethod();this.companyservice.updateRecord(e,this.companyInfo.value.id).subscribe(e=>{this.autoSaveAlert=!1,this.keepalive.stop(),this.getRecord()})}}nextpage(){if("Subcontractor"==this.userRole)if(0==this.companyId){this.companyInfo.patchValue({isAutosave:!1});let e=this.formMethod();this.companyservice.addRecord(e).subscribe(e=>{localStorage.setItem("companyid",btoa(e.id)),this.companyInfo.patchValue({id:e.id,isAutosave:!1}),this.autoSaveAlert=!1})}else{this.companyInfo.patchValue({id:this.companyId,isAutosave:!0});let e=this.formMethod();this.companyservice.updateRecord(e,this.companyInfo.value.id).subscribe(e=>{this.companyservice.companyId=e.id,localStorage.setItem("companyid",btoa(e.id)),this.autoSaveAlert=!1})}}formMethod(){var e=new FormData;e.append("id",this.companyInfo.value.id),e.append("additional_Details",this.logininfo.validateEmpty(this.companyInfo.value.additional_Details)),e.append("certified_Diverse_Attachment",this.logininfo.validateEmpty(this.companyInfo.value.certified_Diverse_Attachment)),e.append("contact_Email",this.logininfo.validateEmpty(this.companyInfo.value.contact_Email)),e.append("contact_Mobile",this.logininfo.validateEmpty(this.companyInfo.value.contact_Mobile)),e.append("contact_Name",this.logininfo.validateEmpty(this.companyInfo.value.contact_Name)),e.append("is_Certified_Diverse",this.logininfo.validateEmpty(this.companyInfo.value.is_Certified_Diverse)),e.append("org_Type",this.logininfo.validateEmpty(this.companyInfo.value.org_Type)),e.append("CD_Upload",""),e.append("preQualification_Status",this.logininfo.validateEmpty(this.companyInfo.value.preQualification_Status)),e.append("companyName",this.logininfo.validateEmpty(this.userDetails.companyName)),e.append("vendorID",this.logininfo.validateEmpty(this.userDetails.vendorId)),e.append("taxID",this.logininfo.validateEmpty(this.userDetails.taxId)),e.append("org_Other_Details",this.logininfo.validateEmpty(this.companyInfo.value.org_Other_Details)),e.append("date_Of_Incorporation",this.logininfo.validateEmpty(this.companyInfo.value.date_Of_Incorporation)),e.append("state_Of_Incorporation",this.logininfo.validateEmpty(this.companyInfo.value.state_Of_Incorporation)),e.append("contact_Name",this.logininfo.validateEmpty(this.companyInfo.value.contact_Name)),e.append("contact_Mobile",this.logininfo.validateEmpty(this.companyInfo.value.contact_Mobile)),e.append("contact_Mobile_Ext",this.logininfo.validateEmpty(this.companyInfo.value.contact_Mobile_Ext)),e.append("is_Parent_Company",this.logininfo.validateEmpty(this.companyInfo.value.is_Parent_Company)),e.append("parent_Company_Name",this.logininfo.validateEmpty(this.companyInfo.value.parent_Company_Name)),e.append("parent_Company_Address1",this.logininfo.validateEmpty(this.companyInfo.value.parent_Company_Address1)),e.append("parent_Company_Address2",this.logininfo.validateEmpty(this.companyInfo.value.parent_Company_Address2)),e.append("parent_Company_City",this.logininfo.validateEmpty(this.companyInfo.value.parent_Company_City)),e.append("parent_Company_State",this.logininfo.validateEmpty(this.companyInfo.value.parent_Company_State)),e.append("parent_Company_Zipcode",this.logininfo.validateEmpty(this.companyInfo.value.parent_Company_Zipcode)),e.append("parent_Company_Country",this.logininfo.validateEmpty(this.companyInfo.value.parent_Company_Country)),e.append("parent_Company_FEIN",this.logininfo.validateEmpty(this.companyInfo.value.parent_Company_FEIN)),e.append("percentage_Of_Annual_Revenue","00"),e.append("executive_Officer_Name",this.logininfo.validateEmpty(this.companyInfo.value.executive_Officer_Name)),e.append("executive_Officer_Title",this.logininfo.validateEmpty(this.companyInfo.value.executive_Officer_Title)),e.append("executive_Officer_Email",this.logininfo.validateEmpty(this.companyInfo.value.executive_Officer_Email)),e.append("executive_Officer_Name2",this.logininfo.validateEmpty(this.companyInfo.value.executive_Officer_Name2)),e.append("executive_Officer_Title2",this.logininfo.validateEmpty(this.companyInfo.value.executive_Officer_Title2)),e.append("executive_Officer_Email2",this.logininfo.validateEmpty(this.companyInfo.value.executive_Officer_Email2)),e.append("is_Bank_Ruptcy",this.logininfo.validateEmpty(this.companyInfo.value.is_Bank_Ruptcy)),e.append("bank_Ruptcy_Info",this.logininfo.validateEmpty(this.companyInfo.value.bank_Ruptcy_Info)),e.append("is_Limit_Licenses",this.logininfo.validateEmpty(this.companyInfo.value.is_Limit_Licenses)),e.append("limit_Licenses_Info",this.logininfo.validateEmpty(this.companyInfo.value.limit_Licenses_Info)),e.append("is_Suspended_Licenses",this.logininfo.validateEmpty(this.companyInfo.value.is_Suspended_Licenses)),e.append("suspended_Licenses_Info",this.logininfo.validateEmpty(this.companyInfo.value.suspended_Licenses_Info)),e.append("annual_Construction_Last_Year",this.companyInfo.value.annual_Construction_Last_Year),e.append("annual_Construction_2_Years",this.companyInfo.value.annual_Construction_2_Years),e.append("annual_Construction_3_Years",this.companyInfo.value.annual_Construction_3_Years),e.append("messer_Region",this.regionDest),e.append("messer_Dollar",this.companyInfo.value.org_Size),this.tempannualthreeyear=[];for(let i=0;i<this.tempdocumentw9file.length;i++)e.append("W9_Document_Attachment",this.tempdocumentw9file[i]);this.tempdocumentw9file=[];let t=[];return this.stateTotal.filter(e=>{""!=e.name&&""!=e.percentage&&t.push(e.name+"--"+e.percentage)}),console.log(t),e.append("geographic_Area",String(t)),e}gotoHome(){this.router.navigate(["/home"])}gotoNext(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])}triRInfoLastYearUpload(e){let t=document.getElementById("annual_Construction_Last_Year");for(let i=0;i<t.files.length;i++)this.tempannuallastyear.push(t.files[i]);this.spinner.trirLastSpinner=!0,this.fileupload()}removetriRInfoLastYearUpload(e,t){this.selectdisabled||this.companyservice.deleteRecord(t.id).subscribe(t=>{this.toastr.info("File removed successfully","Company Info"),this.annuallastyear.splice(e,1)})}triRInfoThreeYearsUpload(e){let t=document.getElementById("annual_Construction_3_Years");for(let i=0;i<t.files.length;i++)this.tempannualthreeyear.push(t.files[i]);this.spinner.trirThreeSpinner=!0,this.fileupload()}removetriRInfoThreeYearsUpload(e,t){this.selectdisabled||this.companyservice.deleteRecord(t.id).subscribe(t=>{this.toastr.info("File removed successfully","Company Info"),this.annualthreeyear.splice(e,1)})}triRInfoTwoYearsUpload(e){let t=document.getElementById("annual_Construction_2_Years");for(let i=0;i<t.files.length;i++)this.tempannualtwoyear.push(t.files[i]);this.spinner.trirTwoSpinner=!0,this.fileupload()}removetriRInfoTwoYearsUpload(e,t){this.selectdisabled||this.companyservice.deleteRecord(t.id).subscribe(t=>{this.toastr.info("File removed successfully","Company Info"),this.annualtwoyear.splice(e,1)})}documentw9fileUpload(e){let t=document.getElementById("w9_Document_Attachment");for(let i=0;i<t.files.length;i++)this.tempdocumentw9file.push(t.files[i]);this.spinner.docmentSpinner=!0,this.fileupload()}removedocumentw9file(e,t,i=!0){this.selectdisabled||this.companyservice.deleteRecord(t.id).subscribe(t=>{i&&this.toastr.info("File removed successfully","Company Info"),this.documentw9file.splice(e,1)})}fileupload(){if(0==this.companyId){this.companyInfo.patchValue({isAutosave:!0});let e=this.formMethod();this.companyservice.addRecord(e).subscribe(e=>{this.submitText="UPDATE",this.getRecord(),this.fileReset(),this.keepalive.stop(),this.resetSpinner()})}else{this.companyInfo.patchValue({isAutosave:!0});let e=this.formMethod();this.companyservice.updateRecord(e,this.companyId).subscribe(e=>{this.getRecord(),this.fileReset(),this.keepalive.stop(),this.resetSpinner(),this.companyInfo.patchValue({isAutosave:!1})})}}fileReset(){this.companyInfo.patchValue({triR_Info_LastYear:"",triR_Info_TwoYears:"",triR_Info_ThreeYears:""})}resetSpinner(){this.spinner={trirLastSpinner:!1,trirTwoSpinner:!1,trirThreeSpinner:!1,docmentSpinner:!1}}addGeographicarea(){this.stateTotal.push({name:"",percentage:""})}removeGeographicalarea(e,t){this.selectdisabled||(this.stateTotal.splice(t,1),0==this.stateTotal.length&&this.stateTotal.push({name:"",percentage:""}))}nextroutePage(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])}}return e.\u0275fac=function(t){return new(t||e)(s.Pb(n.d),s.Pb(r.f),s.Pb(c.a),s.Pb(l.a),s.Pb(s.B),s.Pb(d.a),s.Pb(u.a),s.Pb(m),s.Pb(f.b),s.Pb(h.a),s.Pb(g.a),s.Pb(_),s.Pb(v.c))},e.\u0275cmp=s.Jb({type:e,selectors:[["app-companyinfo"]],viewQuery:function(e,t){if(1&e&&s.Hc(Q,1),2&e){let e;s.rc(e=s.dc())&&(t.exampleModals=e.first)}},features:[s.Bb],decls:449,vars:214,consts:[[1,"m-2",3,"formGroup","ngSubmit","keydown.enter"],[1,"px-2","form-bg",3,"ngClass"],[1,"form-group","input-group","row","px-1","mx-auto","pt-3"],[1,"row"],[1,"col-lg-6","col-head-0","mx-auto"],[1,"row","col-curve-top","bg-white","mx-0","px-0","pt-2","pb-4"],[1,"col-12","pt-2"],[1,"row","my-auto","pt-2","ps"],["for","organization-type",1,"my-auto","fw-bold"],[1,"row","my-auto","pt-1","mx-auto","ps-2"],[1,"col-5","col-lg-4","my-auto"],["for","organization-type",1,"my-auto","font-italic"],[1,"text-danger"],[1,"col-7","col-lg-8"],["formControlName","org_Type","id","organization-type","name","org_Type","aria-label","Default select example",1,"form-control","form-select","my-2",3,"ngClass","ngModelChange"],[3,"ngValue"],["selected","",3,"ngValue"],["class","invalid-feedback","id","org_Type",4,"ngIf"],["class","row  my-auto pt-1 mx-auto ps-2",4,"ngIf"],["for","date_Of_Incorporation",1,"my-auto","font-italic"],[1,""],["type","date","row","5","formControlName","date_Of_Incorporation","id","date_Of_Incorporation","name","date_Of_Incorporation",1,"form-control",3,"ngClass","ngModelChange"],["class","invalid-feedback",4,"ngIf"],[1,"row","my-auto","pt-2","mx-auto","ps-2"],["for","state_Of_Incorporation",1,"my-auto","font-italic"],["id","state_Of_Incorporation","name","state_Of_Incorporation","formControlName","state_Of_Incorporation",1,"form-control","form-select","select-height",3,"ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"note","fw-bold","p-0","pt-3",3,"ngClass"],[1,"col-lg-6","pe-1","ps-3","col-head-0","mx-auto"],[1,"row","bg-white","col-curve-top","mx-0","px-0","pt-2","pb-0"],[1,"col-12","pb-1"],[1,"col-5","col-lg-12","my-auto","pt-2","pt-3","pb-2","mx-auto"],[1,"row","my-2","my-auto","pt-2","pb-2","mx-auto"],[1,"col-5","col-lg-4"],["for","contact_Name",1,"my-auto","font-italic"],["type","text","row","5","formControlName","contact_Name","id","contact_Name","name","contact_Name",1,"form-control",3,"ngClass","ngModelChange"],[1,"row","mb-2","my-auto","pt-2","pb-1","mx-auto"],["for","contact_Email",1,"my-auto","font-italic"],["type","email","formControlName","contact_Email","id","contact_Email","name","contact_Email",1,"form-control",3,"ngClass","ngModelChange"],[1,"row","mb-2","my-auto","pt-2","mx-auto"],["for","contact_Mobile",1,"my-auto","font-italic"],[1,"col-9","pe-0"],["appPhoneMask","","onKeyPress","if(this.value.length==15) return false;","autocomplete","disabled","formControlName","contact_Mobile","id","contact_Mobile","name","contact_Mobile",1,"form-control",3,"ngClass","ngModelChange"],[1,"col-3","ps-0"],["type","number","onKeyPress","if(this.value.length==3) return false;","pattern","[0-9]+","formControlName","contact_Mobile_Ext","id","contact_Mobile_Ext","name","contact_Mobile_Ext",1,"form-control",3,"ngClass","ngModelChange"],[1,"col-lg-6","pe-1","ps-2","col-head-1","mx-auto","pt-3"],[1,"row","bg-white","col-curve","py-2","mt-0"],[1,"col-9","pull-left"],["for","is_Certified_Diverse",1,"my-auto","fw-bold"],[1,"col-3","pull-left"],[1,"row","pt-1"],[1,"col-lg-6"],["type","radio","formControlName","is_Certified_Diverse","value","yes","checked","checked","name","is_Certified_Diverse","id","is_Certified_Diverse_yes","required","",3,"ngModel","ngClass","ngModelChange"],["for","is_Certified_Diverse_yes"],["type","radio","formControlName","is_Certified_Diverse","value","no","name","is_Certified_Diverse","id","is_Certified_Diverse_no","required","",3,"ngModel","ngClass","ngModelChange"],["for","is_Certified_Diverse_no"],["class","invalid-feedback mt-2","id","is_Certified_Diverse",4,"ngIf"],[1,"col-12","form-group","input-group","row","m-0"],[1,"row","bg-white","col-curve","py-2","mt-3"],[1,"fw-bold"],[1,"red",3,"source","destination","disabled","destinationChange"],[1,"col-12","mx-auto","pt-2"],["for","annual_Construction_Last_Year",1,"my-auto","float-right"],[1,"col-lg-12","mt-2","bg-white","col-curve"],["for","annual_Construction_Last_Year",1,"font-italic","float-right"],["class","text-danger",4,"ngIf"],["type","text","formControlName","annual_Construction_Last_Year","name","annual_Construction_Last_Year",1,"form-control",3,"ngClass","keydown","keyup"],["for","annual_Construction_2_Years",1,"font-italic","float-right"],["type","text","formControlName","annual_Construction_2_Years","title","Choose file","id","annual_Construction_2_Years","name","annual_Construction_2_Years",1,"form-control",3,"ngClass","keydown","keyup"],[1,"row","pb-3"],["for","annual_Construction_3_Years",1,"font-italic","float-right"],["type","text","formControlName","annual_Construction_3_Years","id","annual_Construction_3_Years","name","annual_Construction_3_Years",1,"form-control",3,"ngClass","keydown","keyup"],[1,"col-lg-6","pe-0","ps-0","col-head-1","mx-auto","pt-3"],[1,"row","bg-white","col-curve","mx-auto","py-2","mx-0","px-0","mt-2"],[1,"col-6"],["for","is_Parent_Company",1,"my-auto","font-italic"],[1,"col-lg-3"],["type","radio","formControlName","is_Parent_Company","value","yes","checked","checked","name","is_Parent_Company","id","is_Parent_Company_yes","required","",3,"ngClass","ngModelChange"],["for","is_Parent_Company_yes"],[1,"col-lg-9"],["type","radio","formControlName","is_Parent_Company","value","no","name","is_Parent_Company","id","is_Parent_Company_no","required","",3,"ngClass","ngModelChange","click"],["for","is_Parent_Company_no"],["class","invalid-feedback mt-2","id","is_Parent_Company",4,"ngIf"],[1,"col-12",3,"ngClass"],[1,"row","my-2"],["for","parent_Company_Name",1,"my-auto","font-italic"],["type","text","row","5","formControlName","parent_Company_Name","id","parent_Company_Name","name","parent_Company_Name",1,"form-control",3,"ngClass","ngModelChange"],["for","parent_Company_Address1",1,"my-auto","font-italic"],["type","text","row","5","formControlName","parent_Company_Address1","id","parent_Company_Address1","name","parent_Company_Address1",1,"form-control",3,"ngClass","ngModelChange"],["type","text","row","5","formControlName","parent_Company_Address2","id","parent_Company_Address2","name","parent_Company_Address2",1,"form-control",3,"ngModelChange"],["for","parent_Company_City",1,"my-auto","font-italic"],["type","text","formControlName","parent_Company_City","id","parent_Company_City","name","parent_Company_City",1,"form-control",3,"ngClass","ngModelChange"],["for","parent_Company_State",1,"my-auto","font-italic","float-right"],["formControlName","parent_Company_State","id","parent_Company_State","name","parent_Company_State",1,"form-control","form-select",3,"ngClass","ngModelChange"],["for","parent_Company_Zipcode",1,"my-auto","font-italic"],["type","number","row","5","formControlName","parent_Company_Zipcode","id","parent_Company_Zipcode","name","parent_Company_Zipcode",1,"form-control",3,"ngClass","ngModelChange"],["for","parent_Company_Country",1,"my-auto","font-italic"],["type","text","row","5","formControlName","parent_Company_Country","id","parent_Company_Country","value","USA","name","parent_Company_Country",1,"form-control",3,"ngClass","ngModelChange"],["for","parent_Company_FEIN",1,"my-auto","font-italic"],["type","text","row","5","formControlName","parent_Company_FEIN","id","parent_Company_FEIN","name","parent_Company_FEIN",1,"form-control",3,"ngClass","ngModelChange"],[1,"row","mb-1"],[1,"col-4","my-auto"],["for","w9_Document_Attachment",1,"my-auto","font-italic","float-right"],[1,"col-8"],[1,"form-control-customitem","form-control"],["type","file","title","Choose file","formControlName","w9_Document_Attachment","id","w9_Document_Attachment","name","w9_Document_Attachment","multiple","",3,"ngClass","change"],["for","w9_Document_Attachment",3,"ngClass"],["class","spinner__loading pt-3",4,"ngIf"],[4,"ngFor","ngForOf"],["formControlName","org_Size","id","organization-Size","name","org_Size","aria-label","Default select example",1,"form-control","form-select","my-2","ml-1",2,"width","96%","margin-left","10px",3,"ngClass","ngModelChange"],[1,"col-lg-6","pe-1","ps-3","col-head-1"],[1,"row","bg-white","col-curve","mx-auto","py-1","mx-0","px-0","mt-1"],["for","executive_Officer_Name",1,"my-auto","fw-bold","pt-3"],[1,"row","my-1"],["for","executive_Officer_Name",1,"my-auto","font-italic"],["type","text","row","5","formControlName","executive_Officer_Name","id","executive_Officer_Name","name","executive_Officer_Name",1,"form-control",3,"ngClass","ngModelChange"],["for","executive_Officer_Title",1,"my-auto","font-italic"],["type","text","row","5","formControlName","executive_Officer_Title","id","executive_Officer_Title","name","executive_Officer_Title",1,"form-control",3,"ngClass","ngModelChange"],["for","executive_Officer_Email",1,"my-auto","font-italic"],["type","email","row","5","formControlName","executive_Officer_Email","id","executive_Officer_Email","name","executive_Officer_Email",1,"form-control",3,"ngClass","ngModelChange"],["for","executive_Officer_Name2",1,"my-auto","font-italic"],["type","text","row","5","formControlName","executive_Officer_Name2","id","executive_Officer_Name2","name","executive_Officer_Name2",1,"form-control",3,"ngModelChange"],["for","executive_Officer_Title2",1,"my-auto","font-italic"],["type","text","row","5","formControlName","executive_Officer_Title2","id","executive_Officer_Title2","name","executive_Officer_Title2",1,"form-control",3,"ngModelChange"],["for","executive_Officer_Email2",1,"my-auto","font-italic"],["type","email","formControlName","executive_Officer_Email2","id","executive_Officer_Email2","name","executive_Officer_Email2",1,"form-control",3,"ngModelChange"],["for","additional_Details",1,"my-auto","font-italic"],[1,"col-lg-2"],["type","radio","formControlName","is_Bank_Ruptcy","value","yes","checked","checked","name","is_Bank_Ruptcy","id","is_Bank_Ruptcy_yes",3,"ngClass","ngModelChange"],["for","is_Bank_Ruptcy_yes"],[1,"col-lg-10"],["type","radio","formControlName","is_Bank_Ruptcy","value","no","name","is_Bank_Ruptcy","id","is_Bank_Ruptcy_no",3,"ngClass","ngModelChange","click"],["for","is_Bank_Ruptcy_no"],[1,"mr-4","mt-1"],[1,"note","fw-bold",3,"ngClass"],[1,"col-lg-12","bg-white"],["formControlName","bank_Ruptcy_Info","id","bank_Ruptcy_Info","name","bank_Ruptcy_Info",1,"form-control",3,"ngClass","ngModelChange"],[1,"col-lg-6","pe-0","ps-0","col-head-1","mx-auto"],[1,"row","bg-white","col-curve","py-2","mx-3","px-0","mt-1"],[1,"mt-2"],["for","is_Limit_Licenses",1,"my-auto","fw-bold"],["for","is_Limit_Licenses",1,"my-auto","font-italic"],["type","radio","formControlName","is_Limit_Licenses","value","yes","checked","checked","name","is_Limit_Licenses","id","is_Limit_Licenses_yes",3,"ngClass","ngModelChange"],["for","is_Limit_Licenses_yes"],["type","radio","formControlName","is_Limit_Licenses","value","no","name","is_Limit_Licenses","id","is_Limit_Licenses_no",3,"ngClass","ngModelChange","click"],["for","is_Limit_Licenses_no"],["formControlName","limit_Licenses_Info","id","limit_Licenses_Info","name","limit_Licenses_Info",1,"form-control",3,"ngClass","ngModelChange"],[1,"pt-1"],["type","radio","formControlName","is_Suspended_Licenses","value","yes","checked","checked","name","is_Suspended_Licenses","id","is_Suspended_Licenses_yes",3,"ngClass","ngModelChange"],["for","is_Suspended_Licenses_yes"],["type","radio","formControlName","is_Suspended_Licenses","value","no","name","is_Suspended_Licenses","id","is_Suspended_Licenses_no",3,"ngClass","ngModelChange","click"],["for","is_Suspended_Licenses_no"],["formControlName","suspended_Licenses_Info","id","suspended_Licenses_Info","name","suspended_Licenses_Info",1,"form-control",3,"ngClass","ngModelChange"],[1,"pt-5","pb-1"],["class","text-end mx-lg-4 my-3",4,"ngIf"],["class","text-end mx-4 my-3",4,"ngIf"],["headerReview","Risk Review & Inputs","formname","organization",3,"formId","companyId",4,"ngIf"],["type","button","id","exampleModals","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn-hide"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["exampleModal",""],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"text-success"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","default-btn","modal-cancel"],["type","button","data-bs-dismiss","modal",1,"btn","default-btn"],["id","org_Type",1,"invalid-feedback"],["id","org_Type",4,"ngIf"],["id","org_Type"],[1,"col-4"],[1,"col-12"],["for","organization-others",1,"my-auto","font-italic","note"],["formControlName","org_Other_Details","id","organization-others","name","organizationOthers",1,"form-control",3,"ngClass","ngModelChange"],["class","invalid-feedback","id","organizationothers",4,"ngIf"],["id","organizationothers",1,"invalid-feedback"],["id","org_Other_Details",4,"ngIf"],["id","org_Other_Details"],[1,"invalid-feedback"],[4,"ngIf"],["id","is_Certified_Diverse",1,"invalid-feedback","mt-2"],["id","is_Certified_Diverse",4,"ngIf"],["id","is_Certified_Diverse"],["id","is_Parent_Company",1,"invalid-feedback","mt-2"],["id","is_Parent_Company",4,"ngIf"],["id","is_Parent_Company"],[1,"spinner__loading","pt-3"],["diameter","18","mode","indeterminate",1,"mt-1"],[1,"file-tag"],["target","_blank",3,"href"],[1,"file-close","text-white",3,"click"],[1,"text-end","mx-lg-4","my-3"],[1,"btn","float-start","btn","default-btn",3,"click"],["type","button",1,"btn","ml-4","default-btn",3,"click"],["type","submit",1,"btn","btn-success","mx-2","default-btn"],[1,"text-end","mx-4","my-3"],[1,"btn","btn-success","mx-2","default-btn",3,"click"],["headerReview","Risk Review & Inputs","formname","organization",3,"formId","companyId"]],template:function(e,t){1&e&&(s.Vb(0,"form",0),s.cc("ngSubmit",function(){return t.submit()})("keydown.enter",function(e){return e.preventDefault()}),s.Vb(1,"div",1),s.Vb(2,"div",2),s.Vb(3,"div",3),s.Vb(4,"div",4),s.Vb(5,"div",5),s.Vb(6,"div",6),s.Vb(7,"div",7),s.Vb(8,"h6",8),s.Dc(9,"1. Organization Details "),s.Ub(),s.Ub(),s.Vb(10,"div",9),s.Vb(11,"div",10),s.Vb(12,"label",11),s.Dc(13,"Type of Organization: "),s.Vb(14,"span",12),s.Dc(15,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(16,"div",13),s.Vb(17,"select",14),s.cc("ngModelChange",function(){return t.idleReset(1)}),s.Vb(18,"option",15),s.Dc(19,"Select"),s.Ub(),s.Vb(20,"option",16),s.Dc(21,"Corporation"),s.Ub(),s.Vb(22,"option",15),s.Dc(23,"Partnership"),s.Ub(),s.Vb(24,"option",15),s.Dc(25,"Joint Venture"),s.Ub(),s.Vb(26,"option",15),s.Dc(27,"Limited Liability Company "),s.Ub(),s.Vb(28,"option",15),s.Dc(29,"Sole Proprietorship"),s.Ub(),s.Vb(30,"option",15),s.Dc(31,"Other"),s.Ub(),s.Ub(),s.Bc(32,W,2,1,"div",17),s.Ub(),s.Ub(),s.Bc(33,J,8,4,"div",18),s.Vb(34,"div",9),s.Vb(35,"div",10),s.Vb(36,"label",19),s.Dc(37,"Date of Incorporation: "),s.Vb(38,"span",12),s.Dc(39,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(40,"div",13),s.Vb(41,"div",20),s.Vb(42,"input",21),s.cc("ngModelChange",function(){return t.idleReset(1)}),s.Ub(),s.Bc(43,ee,2,1,"div",22),s.Ub(),s.Ub(),s.Ub(),s.Vb(44,"div",23),s.Vb(45,"div",10),s.Vb(46,"label",24),s.Dc(47,"State of Incorporation: "),s.Vb(48,"span",12),s.Dc(49,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(50,"div",13),s.Vb(51,"select",25),s.cc("ngModelChange",function(){return t.idleReset(1)}),s.Vb(52,"option",15),s.Dc(53,"Select State"),s.Ub(),s.Bc(54,te,2,2,"option",26),s.Ub(),s.Vb(55,"small",27),s.Dc(56,"NOTE: If your country is outside of USA, please select \u2018Other\u2019. "),s.Ub(),s.Bc(57,oe,2,1,"div",22),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(58,"div",28),s.Vb(59,"div",29),s.Vb(60,"div",30),s.Vb(61,"div",31),s.Vb(62,"h6",8),s.Dc(63,"2. Prequalification Contact Info "),s.Vb(64,"span",12),s.Dc(65,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(66,"div",30),s.Vb(67,"div",32),s.Vb(68,"div",33),s.Vb(69,"label",34),s.Dc(70,"Prequalification Contact Name:"),s.Vb(71,"span",12),s.Dc(72,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(73,"div",13),s.Vb(74,"input",35),s.cc("ngModelChange",function(){return t.idleReset(1)}),s.Ub(),s.Bc(75,re,2,1,"div",22),s.Ub(),s.Ub(),s.Vb(76,"div",36),s.Vb(77,"div",33),s.Vb(78,"label",37),s.Dc(79,"Prequalification Contact Email: "),s.Vb(80,"span",12),s.Dc(81,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(82,"div",13),s.Vb(83,"input",38),s.cc("ngModelChange",function(){return t.idleReset(1)}),s.Ub(),s.Bc(84,ce,3,2,"div",22),s.Ub(),s.Ub(),s.Vb(85,"div",39),s.Vb(86,"div",33),s.Vb(87,"label",40),s.Dc(88,"Prequalification Contact Phone: "),s.Vb(89,"span",12),s.Dc(90,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(91,"div",13),s.Vb(92,"div",3),s.Vb(93,"div",41),s.Vb(94,"input",42),s.cc("ngModelChange",function(){return t.idleReset(1)}),s.Ub(),s.Bc(95,de,2,1,"div",22),s.Ub(),s.Vb(96,"div",43),s.Vb(97,"input",44),s.cc("ngModelChange",function(){return t.idleReset(1)}),s.Ub(),s.Bc(98,be,2,1,"div",22),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(99,"div",3),s.Vb(100,"div",45),s.Vb(101,"div",46),s.Vb(102,"div",6),s.Vb(103,"div",47),s.Vb(104,"h6",48),s.Dc(105,"3. Is your organization a certified diverse business (i.e., MBE, WBE, SBE, DBE, VBE, etc.,)? "),s.Vb(106,"span",12),s.Dc(107,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(108,"div",49),s.Vb(109,"div",50),s.Vb(110,"span",51),s.Vb(111,"input",52),s.cc("ngModelChange",function(){return t.idleReset(1)})("ngModelChange",function(e){return t.is_Certified_Diverse=e}),s.Ub(),s.Vb(112,"label",53),s.Dc(113," YES"),s.Ub(),s.Ub(),s.Vb(114,"span",51),s.Vb(115,"input",54),s.cc("ngModelChange",function(){return t.idleReset(1)})("ngModelChange",function(e){return t.is_Certified_Diverse=e}),s.Ub(),s.Vb(116,"label",55),s.Dc(117," NO"),s.Ub(),s.Ub(),s.Ub(),s.Bc(118,me,2,1,"div",56),s.Ub(),s.Ub(),s.Vb(119,"div",57),s.Vb(120,"small",27),s.Dc(121,"If yes, please submit a copy of each of your certification documents on the MBP or contact nmoffitt@messer.com to check if you qualify to become certified. "),s.Ub(),s.Ub(),s.Ub(),s.Vb(122,"div",58),s.Vb(123,"div",6),s.Vb(124,"div"),s.Vb(125,"h6",59),s.Dc(126,"5. Please pick all the Messer regions your company is willing to operate / perform work?"),s.Ub(),s.Ub(),s.Vb(127,"div",50),s.Vb(128,"app-duallist",60),s.cc("destinationChange",function(e){return t.regionDest=e}),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(129,"div",58),s.Vb(130,"div",61),s.Vb(131,"h6",62),s.Dc(132,"6. Annual Construction volume of work you\u2019ve completed in the past 3 years "),s.Vb(133,"span",12),s.Dc(134,"*"),s.Ub(),s.Ub(),s.Vb(135,"div",63),s.Vb(136,"div",3),s.Vb(137,"div",33),s.Vb(138,"label",64),s.Dc(139,"Last year: "),s.Bc(140,fe,2,0,"span",65),s.Ub(),s.Ub(),s.Vb(141,"div",13),s.Vb(142,"div"),s.Vb(143,"input",66),s.cc("keydown",function(e){return t.numberCheck(e)})("keyup",function(e){return t.CommaFormatted(e,"annual_Construction_Last_Year")}),s.Ub(),s.Ub(),s.Bc(144,ge,2,1,"div",22),s.Ub(),s.Ub(),s.Ub(),s.Vb(145,"div",63),s.Vb(146,"div",3),s.Vb(147,"div",33),s.Vb(148,"label",67),s.Dc(149,"Past 2 years: "),s.Bc(150,_e,2,0,"span",65),s.Ub(),s.Ub(),s.Vb(151,"div",13),s.Vb(152,"div"),s.Vb(153,"input",68),s.cc("keydown",function(e){return t.numberCheck(e)})("keyup",function(e){return t.CommaFormatted(e,"annual_Construction_2_Years")}),s.Ub(),s.Ub(),s.Bc(154,ye,2,1,"div",22),s.Ub(),s.Ub(),s.Ub(),s.Vb(155,"div",63),s.Vb(156,"div",69),s.Vb(157,"div",33),s.Vb(158,"label",70),s.Dc(159,"Past 3 years:"),s.Bc(160,Ve,2,0,"span",65),s.Ub(),s.Ub(),s.Vb(161,"div",13),s.Vb(162,"div"),s.Vb(163,"input",71),s.cc("keydown",function(e){return t.numberCheck(e)})("keyup",function(e){return t.CommaFormatted(e,"annual_Construction_3_Years")}),s.Ub(),s.Ub(),s.Bc(164,De,2,1,"div",22),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(165,"div",72),s.Vb(166,"div",73),s.Vb(167,"div",6),s.Vb(168,"div",3),s.Vb(169,"h6"),s.Dc(170,"4. Parent Company Details"),s.Ub(),s.Ub(),s.Vb(171,"div",3),s.Vb(172,"div",74),s.Vb(173,"label",75),s.Dc(174,"Do you have a parent company: "),s.Vb(175,"span",12),s.Dc(176,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(177,"div",74),s.Vb(178,"div",50),s.Vb(179,"span",76),s.Vb(180,"input",77),s.cc("ngModelChange",function(){return t.idleReset(1)}),s.Ub(),s.Vb(181,"label",78),s.Dc(182," YES"),s.Ub(),s.Ub(),s.Vb(183,"span",79),s.Vb(184,"input",80),s.cc("ngModelChange",function(){return t.idleReset(1)})("click",function(){return t.companyDetailReset()}),s.Ub(),s.Vb(185,"label",81),s.Dc(186," NO"),s.Ub(),s.Ub(),s.Ub(),s.Bc(187,Ie,2,1,"div",82),s.Ub(),s.Ub(),s.Ub(),s.Vb(188,"div",83),s.Vb(189,"div",84),s.Vb(190,"div",33),s.Vb(191,"label",85),s.Dc(192,"Parent Company Name:"),s.Bc(193,Re,2,0,"span",65),s.Ub(),s.Ub(),s.Vb(194,"div",13),s.Vb(195,"input",86),s.cc("ngModelChange",function(){return t.idleReset(1)}),s.Ub(),s.Bc(196,Fe,2,1,"div",22),s.Ub(),s.Ub(),s.Vb(197,"div",84),s.Vb(198,"div",33),s.Vb(199,"label",87),s.Dc(200,"Parent Company Address Line 1: "),s.Bc(201,Se,2,0,"span",65),s.Ub(),s.Ub(),s.Vb(202,"div",13),s.Vb(203,"input",88),s.cc("ngModelChange",function(){return t.idleReset(1)}),s.Ub(),s.Bc(204,xe,2,1,"div",22),s.Ub(),s.Ub(),s.Vb(205,"div",84),s.Vb(206,"div",33),s.Vb(207,"label",87),s.Dc(208,"Parent Company Address Line 2: "),s.Ub(),s.Ub(),s.Vb(209,"div",13),s.Vb(210,"input",89),s.cc("ngModelChange",function(){return t.idleReset(1)}),s.Ub(),s.Ub(),s.Ub(),s.Vb(211,"div",84),s.Vb(212,"div",33),s.Vb(213,"label",90),s.Dc(214,"City: "),s.Bc(215,Pe,2,0,"span",65),s.Ub(),s.Ub(),s.Vb(216,"div",13),s.Vb(217,"input",91),s.cc("ngModelChange",function(){return t.idleReset(1)}),s.Ub(),s.Bc(218,Ae,2,1,"div",22),s.Ub(),s.Ub(),s.Vb(219,"div",84),s.Vb(220,"div",33),s.Vb(221,"label",92),s.Dc(222,"State: "),s.Bc(223,Oe,2,0,"span",65),s.Ub(),s.Ub(),s.Vb(224,"div",13),s.Vb(225,"select",93),s.cc("ngModelChange",function(){return t.idleReset(1)}),s.Vb(226,"option",15),s.Dc(227,"Select"),s.Ub(),s.Bc(228,Ee,2,2,"option",26),s.Ub(),s.Vb(229,"small",27),s.Dc(230,"NOTE: If your country is outside of USA, please select \u2018Other\u2019. "),s.Ub(),s.Bc(231,Ne,2,1,"div",22),s.Ub(),s.Ub(),s.Vb(232,"div",84),s.Vb(233,"div",33),s.Vb(234,"label",94),s.Dc(235,"Zip code: "),s.Bc(236,Be,2,0,"span",65),s.Ub(),s.Ub(),s.Vb(237,"div",13),s.Vb(238,"input",95),s.cc("ngModelChange",function(){return t.idleReset(1)}),s.Ub(),s.Bc(239,Te,2,1,"div",22),s.Ub(),s.Ub(),s.Vb(240,"div",84),s.Vb(241,"div",33),s.Vb(242,"label",96),s.Dc(243,"Country: "),s.Bc(244,Le,2,0,"span",65),s.Ub(),s.Ub(),s.Vb(245,"div",13),s.Vb(246,"input",97),s.cc("ngModelChange",function(){return t.idleReset(1)}),s.Ub(),s.Bc(247,ze,2,1,"div",22),s.Ub(),s.Ub(),s.Vb(248,"div",84),s.Vb(249,"div",33),s.Vb(250,"label",98),s.Dc(251,"Parent Company FEIN Number / Tax-id: "),s.Bc(252,Ge,2,0,"span",65),s.Ub(),s.Ub(),s.Vb(253,"div",13),s.Vb(254,"input",99),s.cc("ngModelChange",function(){return t.idleReset(1)}),s.Ub(),s.Bc(255,$e,2,1,"div",22),s.Ub(),s.Ub(),s.Vb(256,"div",100),s.Vb(257,"div",101),s.Vb(258,"label",102),s.Dc(259,"Attach your w9 document: "),s.Bc(260,We,2,0,"span",65),s.Ub(),s.Ub(),s.Vb(261,"div",103),s.Vb(262,"div",104),s.Vb(263,"input",105),s.cc("change",function(e){return t.documentw9fileUpload(e)}),s.Ub(),s.Vb(264,"span",106),s.Dc(265," \xa0 Click here to Add Files"),s.Ub(),s.Ub(),s.Bc(266,Ze,2,1,"div",22),s.Bc(267,Ke,4,0,"div",107),s.Bc(268,Je,7,2,"div",108),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(269,"div",73),s.Vb(270,"div",6),s.Vb(271,"div",3),s.Vb(272,"h6"),s.Dc(273,"7. What size (dollar value) of contracts do you wish to perform with Messer? "),s.Ub(),s.Ub(),s.Vb(274,"div",3),s.Vb(275,"select",109),s.cc("ngModelChange",function(){return t.idleReset(1)}),s.Vb(276,"option",15),s.Dc(277,"Select"),s.Ub(),s.Vb(278,"option",16),s.Dc(279,"Less than $50k"),s.Ub(),s.Vb(280,"option",15),s.Dc(281,"$50k - $250K"),s.Ub(),s.Vb(282,"option",15),s.Dc(283,"$250K - $500K"),s.Ub(),s.Vb(284,"option",15),s.Dc(285,"$500K - $1 million "),s.Ub(),s.Vb(286,"option",15),s.Dc(287,"$1million - $5million"),s.Ub(),s.Vb(288,"option",15),s.Dc(289,"$5million - $20 million"),s.Ub(),s.Vb(290,"option",15),s.Dc(291,"$20 million +"),s.Ub(),s.Ub(),s.Ub(),s.Vb(292,"div"),s.Dc(293,"\xa0"),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(294,"div",2),s.Vb(295,"div",3),s.Vb(296,"div",110),s.Vb(297,"div",111),s.Vb(298,"h6",112),s.Dc(299,"8. Executive Officers "),s.Vb(300,"span",12),s.Dc(301,"*"),s.Ub(),s.Ub(),s.Qb(302,"br"),s.Vb(303,"div"),s.Vb(304,"div",113),s.Vb(305,"div",33),s.Vb(306,"label",114),s.Dc(307,"Executive Officer #1 Name:"),s.Vb(308,"span",12),s.Dc(309,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(310,"div",13),s.Vb(311,"input",115),s.cc("ngModelChange",function(){return t.idleReset(1)}),s.Ub(),s.Bc(312,et,2,1,"div",22),s.Ub(),s.Ub(),s.Vb(313,"div",113),s.Vb(314,"div",33),s.Vb(315,"label",116),s.Dc(316,"Executive Officer #1 Title:"),s.Vb(317,"span",12),s.Dc(318,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(319,"div",13),s.Vb(320,"input",117),s.cc("ngModelChange",function(){return t.idleReset(1)}),s.Ub(),s.Bc(321,it,2,1,"div",22),s.Ub(),s.Ub(),s.Vb(322,"div",100),s.Vb(323,"div",33),s.Vb(324,"label",118),s.Dc(325,"Executive Officer #1 Email:"),s.Vb(326,"span",12),s.Dc(327,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(328,"div",13),s.Vb(329,"input",119),s.cc("ngModelChange",function(){return t.idleReset(1)}),s.Ub(),s.Bc(330,rt,3,2,"div",22),s.Ub(),s.Ub(),s.Ub(),s.Vb(331,"div"),s.Vb(332,"div",113),s.Vb(333,"div",33),s.Vb(334,"label",120),s.Dc(335,"Executive Officer #2 Name: "),s.Ub(),s.Ub(),s.Vb(336,"div",13),s.Vb(337,"input",121),s.cc("ngModelChange",function(){return t.idleReset(1)}),s.Ub(),s.Ub(),s.Ub(),s.Vb(338,"div",113),s.Vb(339,"div",33),s.Vb(340,"label",122),s.Dc(341,"Executive Officer #2 Title: "),s.Ub(),s.Ub(),s.Vb(342,"div",13),s.Vb(343,"input",123),s.cc("ngModelChange",function(){return t.idleReset(1)}),s.Ub(),s.Ub(),s.Ub(),s.Vb(344,"div",100),s.Vb(345,"div",33),s.Vb(346,"label",124),s.Dc(347,"Executive Officer #2 Email: "),s.Ub(),s.Ub(),s.Vb(348,"div",13),s.Vb(349,"input",125),s.cc("ngModelChange",function(){return t.idleReset(1)}),s.Ub(),s.Bc(350,st,2,1,"div",22),s.Ub(),s.Ub(),s.Ub(),s.Vb(351,"div"),s.Vb(352,"label",126),s.Dc(353,"Has your company, or any of the executive officers mentioned above has/have been the subject of any bankruptcy proceeding within the last three years."),s.Vb(354,"span",12),s.Dc(355,"*"),s.Ub(),s.Ub(),s.Vb(356,"div",50),s.Vb(357,"span",127),s.Vb(358,"input",128),s.cc("ngModelChange",function(){return t.idleReset(1)}),s.Ub(),s.Vb(359,"label",129),s.Dc(360," YES"),s.Ub(),s.Ub(),s.Vb(361,"span",130),s.Vb(362,"input",131),s.cc("ngModelChange",function(){return t.idleReset(1)})("click",function(){return t.bankruptcyReset()}),s.Ub(),s.Vb(363,"label",132),s.Dc(364," NO"),s.Ub(),s.Ub(),s.Ub(),s.Bc(365,lt,2,1,"div",22),s.Vb(366,"div",133),s.Vb(367,"small",134),s.Dc(368,"If yes, describe the circumstances."),s.Ub(),s.Ub(),s.Vb(369,"div",135),s.Vb(370,"textarea",136),s.cc("ngModelChange",function(){return t.idleReset(1)}),s.Ub(),s.Bc(371,ut,2,1,"div",22),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(372,"div",137),s.Vb(373,"div",138),s.Vb(374,"div",139),s.Vb(375,"h6",140),s.Dc(376,"9. Company Licenses & Registrations"),s.Vb(377,"span",12),s.Dc(378,"*"),s.Ub(),s.Ub(),s.Qb(379,"br"),s.Ub(),s.Vb(380,"div"),s.Vb(381,"label",141),s.Dc(382,"Do you have any limits or restrictions to current licenses registrations. "),s.Vb(383,"span",12),s.Dc(384,"*"),s.Ub(),s.Ub(),s.Vb(385,"div",50),s.Vb(386,"span",127),s.Vb(387,"input",142),s.cc("ngModelChange",function(){return t.idleReset(1)}),s.Ub(),s.Vb(388,"label",143),s.Dc(389," YES"),s.Ub(),s.Ub(),s.Vb(390,"span",130),s.Vb(391,"input",144),s.cc("ngModelChange",function(){return t.idleReset(1)})("click",function(){return t.licenseReset()}),s.Ub(),s.Vb(392,"label",145),s.Dc(393," NO"),s.Ub(),s.Ub(),s.Ub(),s.Bc(394,pt,2,1,"div",22),s.Vb(395,"div",133),s.Vb(396,"small",134),s.Dc(397,"If yes, please explain the details."),s.Ub(),s.Ub(),s.Vb(398,"div",135),s.Vb(399,"textarea",146),s.cc("ngModelChange",function(){return t.idleReset(1)}),s.Ub(),s.Bc(400,ft,2,1,"div",22),s.Ub(),s.Ub(),s.Vb(401,"div",147),s.Vb(402,"label",126),s.Dc(403,"Has your company ever been debarred from performing Federal or State contracts? "),s.Vb(404,"span",12),s.Dc(405,"*"),s.Ub(),s.Ub(),s.Vb(406,"div",50),s.Vb(407,"span",127),s.Vb(408,"input",148),s.cc("ngModelChange",function(){return t.idleReset(1)}),s.Ub(),s.Vb(409,"label",149),s.Dc(410," YES"),s.Ub(),s.Ub(),s.Vb(411,"span",130),s.Vb(412,"input",150),s.cc("ngModelChange",function(){return t.idleReset(1)})("click",function(){return t.licenseStateReset()}),s.Ub(),s.Vb(413,"label",151),s.Dc(414," NO"),s.Ub(),s.Ub(),s.Ub(),s.Bc(415,gt,2,1,"div",22),s.Vb(416,"div",133),s.Vb(417,"small",134),s.Dc(418,"If yes, describe circumstances, including jurisdiction and bases for suspension or revocation:"),s.Ub(),s.Ub(),s.Vb(419,"div",135),s.Vb(420,"textarea",152),s.cc("ngModelChange",function(){return t.idleReset(1)}),s.Ub(),s.Bc(421,vt,2,1,"div",22),s.Ub(),s.Ub(),s.Vb(422,"div",153),s.Dc(423,"\xa0"),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Bc(424,yt,7,1,"div",154),s.Ub(),s.Ub(),s.Bc(425,Vt,5,0,"div",155),s.Bc(426,Ut,1,2,"app-comment",156),s.Qb(427,"button",157),s.Vb(428,"div",158,159),s.Vb(430,"div",160),s.Vb(431,"div",161),s.Vb(432,"div",162),s.Vb(433,"h6",163),s.Dc(434,"Leave page?"),s.Ub(),s.Qb(435,"button",164),s.Ub(),s.Vb(436,"div",165),s.Dc(437," You have unsaved changes. Press "),s.Vb(438,"code",166),s.Dc(439,"SAVE"),s.Ub(),s.Dc(440," to update these changes, or "),s.Vb(441,"code",12),s.Dc(442,"CANCEL"),s.Ub(),s.Dc(443," to lose these changes. "),s.Ub(),s.Vb(444,"div",167),s.Vb(445,"button",168),s.Dc(446,"CANCEL"),s.Ub(),s.Vb(447,"button",169),s.Dc(448,"SAVE"),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub()),2&e&&(s.mc("formGroup",t.companyInfo),s.Db(1),s.mc("ngClass",s.pc(128,Dt,1==t.selectdisabled)),s.Db(16),s.mc("ngClass",s.pc(130,K,t.submitted&&t.f.org_Type.errors)),s.Db(1),s.mc("ngValue",""),s.Db(2),s.mc("ngValue","corporation"),s.Db(2),s.mc("ngValue","partnership"),s.Db(2),s.mc("ngValue","joint_venture"),s.Db(2),s.mc("ngValue","limited_liability_company"),s.Db(2),s.mc("ngValue","sole_proprietorship"),s.Db(2),s.mc("ngValue","other"),s.Db(2),s.mc("ngIf",t.submitted&&t.f.org_Type.errors),s.Db(1),s.mc("ngIf","other"==(null==t.f.org_Type?null:t.f.org_Type.value)),s.Db(9),s.mc("ngClass",s.pc(132,K,t.submitted&&t.f.date_Of_Incorporation.errors)),s.Db(1),s.mc("ngIf",t.submitted&&t.f.date_Of_Incorporation.errors),s.Db(8),s.Eb("disabled",t.selectdisabled?"":null),s.Db(1),s.mc("ngValue",""),s.Db(2),s.mc("ngForOf",t.stateNames),s.Db(1),s.mc("ngClass",s.pc(134,Ct,t.selectdisabled)),s.Db(2),s.mc("ngIf",t.submitted&&t.f.state_Of_Incorporation.errors),s.Db(17),s.mc("ngClass",s.pc(136,K,t.submitted&&t.f.contact_Name.errors)),s.Db(1),s.mc("ngIf",t.submitted&&t.f.contact_Name.errors),s.Db(8),s.mc("ngClass",s.pc(138,K,t.submitted&&t.f.contact_Email.errors)),s.Db(1),s.mc("ngIf",(t.submitted||t.f.contact_Email.touched)&&t.f.contact_Email.errors),s.Db(10),s.mc("ngClass",s.pc(140,K,t.submitted&&t.f.contact_Mobile.errors)),s.Db(1),s.mc("ngIf",(t.submitted||t.f.contact_Mobile.touched)&&t.f.contact_Mobile.errors),s.Db(2),s.mc("ngClass",s.pc(142,K,t.submitted&&t.f.contact_Mobile_Ext.errors)),s.Db(1),s.mc("ngIf",(t.submitted||t.f.contact_Mobile_Ext.touched)&&t.f.contact_Mobile_Ext.errors),s.Db(13),s.mc("ngModel",t.is_Certified_Diverse)("ngClass",s.pc(144,K,t.submitted&&t.f.is_Certified_Diverse.errors)),s.Db(4),s.mc("ngModel",t.is_Certified_Diverse)("ngClass",s.pc(146,K,t.submitted&&t.f.is_Certified_Diverse.errors)),s.Db(3),s.mc("ngIf",(t.submitted||t.f.is_Certified_Diverse.touched)&&t.f.is_Certified_Diverse.errors),s.Db(2),s.mc("ngClass",s.pc(148,Ct,t.selectdisabled)),s.Db(8),s.mc("source",t.regionSource)("destination",t.regionDest)("disabled",t.selectdisabled),s.Db(12),s.mc("ngIf",null==t.f.annual_Construction_Last_Year||null==t.f.annual_Construction_Last_Year.errors?null:t.f.annual_Construction_Last_Year.errors.required),s.Db(3),s.mc("ngClass",s.pc(150,K,t.submitted&&t.f.annual_Construction_Last_Year.errors)),s.Db(1),s.mc("ngIf",t.submitted&&t.f.annual_Construction_Last_Year.errors),s.Db(6),s.mc("ngIf",null==t.f.annual_Construction_2_Years||null==t.f.annual_Construction_2_Years.errors?null:t.f.annual_Construction_2_Years.errors.required),s.Db(3),s.mc("ngClass",s.pc(152,K,t.submitted&&t.f.annual_Construction_2_Years.errors)),s.Db(1),s.mc("ngIf",t.submitted&&t.f.annual_Construction_2_Years.errors),s.Db(6),s.mc("ngIf",null==t.f.annual_Construction_3_Years||null==t.f.annual_Construction_3_Years.errors?null:t.f.annual_Construction_3_Years.errors.required),s.Db(3),s.mc("ngClass",s.pc(154,K,t.submitted&&t.f.annual_Construction_3_Years.errors)),s.Db(1),s.mc("ngIf",t.submitted&&t.f.annual_Construction_3_Years.errors),s.Db(16),s.mc("ngClass",s.pc(156,K,t.submitted&&t.f.is_Parent_Company.errors)),s.Db(4),s.mc("ngClass",s.pc(158,K,t.submitted&&t.f.is_Parent_Company.errors)),s.Db(3),s.mc("ngIf",(t.submitted||t.f.is_Parent_Company.touched)&&t.f.is_Parent_Company.errors),s.Db(1),s.mc("ngClass",s.pc(160,Dt,"no"==t.f.is_Parent_Company.value)),s.Db(5),s.mc("ngIf","yes"==(null==t.companyInfo||null==t.companyInfo.value?null:t.companyInfo.value.is_Parent_Company)),s.Db(2),s.mc("ngClass",s.pc(162,K,t.submitted&&t.f.parent_Company_Name.errors)),s.Eb("disabled","no"==t.f.is_Parent_Company.value?"":null),s.Db(1),s.mc("ngIf",t.submitted&&t.f.parent_Company_Name.errors),s.Db(5),s.mc("ngIf","yes"==(null==t.companyInfo||null==t.companyInfo.value?null:t.companyInfo.value.is_Parent_Company)),s.Db(2),s.mc("ngClass",s.pc(164,K,t.submitted&&t.f.parent_Company_Address1.errors)),s.Eb("disabled","no"==t.f.is_Parent_Company.value?"":null),s.Db(1),s.mc("ngIf",t.submitted&&t.f.parent_Company_Address1.errors),s.Db(6),s.Eb("disabled","no"==t.f.is_Parent_Company.value?"":null),s.Db(5),s.mc("ngIf","yes"==(null==t.companyInfo||null==t.companyInfo.value?null:t.companyInfo.value.is_Parent_Company)),s.Db(2),s.mc("ngClass",s.pc(166,K,t.submitted&&t.f.parent_Company_City.errors)),s.Eb("disabled","no"==t.f.is_Parent_Company.value?"":null),s.Db(1),s.mc("ngIf",(t.submitted||t.f.parent_Company_City.touched)&&t.f.parent_Company_City.errors),s.Db(5),s.mc("ngIf","yes"==(null==t.companyInfo||null==t.companyInfo.value?null:t.companyInfo.value.is_Parent_Company)),s.Db(2),s.mc("ngClass",s.pc(168,K,t.submitted&&t.f.parent_Company_State.errors)),s.Eb("disabled","no"==t.f.is_Parent_Company.value?"":null),s.Db(1),s.mc("ngValue",""),s.Db(2),s.mc("ngForOf",t.stateNames),s.Db(1),s.mc("ngClass",s.pc(170,Ct,t.selectdisabled)),s.Db(2),s.mc("ngIf",(t.submitted||t.f.parent_Company_State.touched)&&t.f.parent_Company_State.errors),s.Db(5),s.mc("ngIf","yes"==(null==t.companyInfo||null==t.companyInfo.value?null:t.companyInfo.value.is_Parent_Company)),s.Db(2),s.mc("ngClass",s.pc(172,K,t.submitted&&t.f.parent_Company_Zipcode.errors)),s.Eb("disabled","no"==t.f.is_Parent_Company.value?"":null),s.Db(1),s.mc("ngIf",t.submitted&&t.f.parent_Company_Zipcode.errors),s.Db(5),s.mc("ngIf","yes"==(null==t.companyInfo||null==t.companyInfo.value?null:t.companyInfo.value.is_Parent_Company)),s.Db(2),s.mc("ngClass",s.pc(174,K,t.submitted&&t.f.parent_Company_Country.errors)),s.Eb("disabled","no"==t.f.is_Parent_Company.value?"":null),s.Db(1),s.mc("ngIf",t.submitted&&t.f.parent_Company_Country.errors),s.Db(5),s.mc("ngIf","yes"==(null==t.companyInfo||null==t.companyInfo.value?null:t.companyInfo.value.is_Parent_Company)),s.Db(2),s.mc("ngClass",s.pc(176,K,t.submitted&&t.f.parent_Company_FEIN.errors)),s.Eb("disabled","no"==t.f.is_Parent_Company.value?"":null),s.Db(1),s.mc("ngIf",t.submitted&&t.f.parent_Company_FEIN.errors),s.Db(5),s.mc("ngIf",null==t.f.w9_Document_Attachment||null==t.f.w9_Document_Attachment.errors?null:t.f.w9_Document_Attachment.errors.required),s.Db(3),s.mc("ngClass",s.pc(178,K,t.submitted&&t.f.w9_Document_Attachment.errors)),s.Eb("disabled",t.selectdisabled||"no"==t.f.is_Parent_Company.value?"":null),s.Db(1),s.mc("ngClass",s.pc(180,Dt,"no"==t.f.is_Parent_Company.value)),s.Db(2),s.mc("ngIf",t.submitted&&t.f.w9_Document_Attachment.errors),s.Db(1),s.mc("ngIf",null==t.spinner?null:t.spinner.docmentSpinner),s.Db(1),s.mc("ngForOf",t.documentw9file),s.Db(7),s.mc("ngClass",s.pc(182,K,t.submitted&&t.f.org_Size.errors)),s.Db(1),s.mc("ngValue",""),s.Db(2),s.mc("ngValue","Less than $50k"),s.Db(2),s.mc("ngValue","$50k - $250K"),s.Db(2),s.mc("ngValue","$250K -  $500K"),s.Db(2),s.mc("ngValue","$500K - $1 million"),s.Db(2),s.mc("ngValue","$1million - $5million"),s.Db(2),s.mc("ngValue","$5million - $20 million"),s.Db(2),s.mc("ngValue","$20 million +"),s.Db(21),s.mc("ngClass",s.pc(184,K,t.submitted&&t.f.executive_Officer_Name.errors)),s.Db(1),s.mc("ngIf",t.submitted&&t.f.executive_Officer_Name.errors),s.Db(8),s.mc("ngClass",s.pc(186,K,t.submitted&&t.f.contact_Name.errors)),s.Db(1),s.mc("ngIf",t.submitted&&t.f.executive_Officer_Title.errors),s.Db(8),s.mc("ngClass",s.pc(188,K,t.submitted&&t.f.executive_Officer_Email.errors)),s.Db(1),s.mc("ngIf",(t.submitted||t.f.executive_Officer_Email.touched)&&t.f.executive_Officer_Email.errors),s.Db(20),s.mc("ngIf",(t.submitted||t.f.executive_Officer_Email2.touched)&&t.f.executive_Officer_Email2.errors),s.Db(8),s.mc("ngClass",s.pc(190,K,t.submitted&&t.f.is_Bank_Ruptcy.errors)),s.Db(4),s.mc("ngClass",s.pc(192,K,t.submitted&&t.f.is_Bank_Ruptcy.errors)),s.Db(3),s.mc("ngIf",t.submitted&&t.f.is_Bank_Ruptcy.errors),s.Db(2),s.mc("ngClass",s.pc(194,Ct,"no"==t.f.is_Bank_Ruptcy.value||1==t.selectdisabled)),s.Db(3),s.mc("ngClass",s.pc(196,K,t.submitted&&t.f.bank_Ruptcy_Info.errors)),s.Eb("disabled","no"==t.f.is_Bank_Ruptcy.value?"":null),s.Db(1),s.mc("ngIf",t.submitted&&t.f.bank_Ruptcy_Info.errors),s.Db(16),s.mc("ngClass",s.pc(198,K,t.submitted&&t.f.is_Limit_Licenses.errors)),s.Db(4),s.mc("ngClass",s.pc(200,K,t.submitted&&t.f.is_Limit_Licenses.errors)),s.Db(3),s.mc("ngIf",t.submitted&&t.f.is_Limit_Licenses.errors),s.Db(2),s.mc("ngClass",s.pc(202,Ct,"no"==t.f.is_Limit_Licenses.value||1==t.selectdisabled)),s.Db(3),s.mc("ngClass",s.pc(204,K,t.submitted&&t.f.limit_Licenses_Info.errors)),s.Eb("disabled","no"==t.f.is_Limit_Licenses.value?"":null),s.Db(1),s.mc("ngIf",t.submitted&&t.f.limit_Licenses_Info.errors),s.Db(8),s.mc("ngClass",s.pc(206,K,t.submitted&&t.f.is_Suspended_Licenses.errors)),s.Db(4),s.mc("ngClass",s.pc(208,K,t.submitted&&t.f.is_Suspended_Licenses.errors)),s.Db(3),s.mc("ngIf",t.submitted&&t.f.is_Suspended_Licenses.errors),s.Db(2),s.mc("ngClass",s.pc(210,Ct,"no"==t.f.is_Suspended_Licenses.value||1==t.selectdisabled)),s.Db(3),s.mc("ngClass",s.pc(212,K,t.submitted&&t.f.suspended_Licenses_Info.errors)),s.Eb("disabled","no"==t.f.is_Suspended_Licenses.value?"":null),s.Db(1),s.mc("ngIf",t.submitted&&t.f.suspended_Licenses_Info.errors),s.Db(3),s.mc("ngIf",!(t.showAdmin||t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status)),s.Db(1),s.mc("ngIf",!t.showAdmin&&t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status||t.showAdmin),s.Db(1),s.mc("ngIf","Subcontractor"!=t.userRole&&"Prequal form submitted and under quality check"!=t.prequalification_status))},directives:[n.v,n.k,n.g,o.j,n.t,n.j,n.f,n.n,n.w,o.l,n.b,o.k,y,n.o,n.p,n.q,n.s,x,P.a,G],styles:[".form-group[_ngcontent-%COMP%]{margin:15px 0}.border[_ngcontent-%COMP%]{border:4px solid hsla(0,0%,86.7%,.6196078431372549)!important}.col-curve-top[_ngcontent-%COMP%]{border-top-left-radius:22px 22px!important;border-top-right-radius:22px 22px!important;border-bottom-left-radius:18px 19px!important;border-bottom-right-radius:18px 19px!important;border-top:6px solid #c3bdbd!important}.col-curve[_ngcontent-%COMP%]{border-radius:18px 19px!important}h6[_ngcontent-%COMP%]{font-size:13px!important}.bg-grey[_ngcontent-%COMP%], .bg-grey4[_ngcontent-%COMP%], .bg-grey[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .bg-grey[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{color:#c7bfbf!important}.file-close-geographical[_ngcontent-%COMP%]{padding:2px 6px!important;background:#969294!important;border-radius:50%;cursor:pointer;border:1px solid #fff}.listchk[_ngcontent-%COMP%]{list-style-type:none;margin-left:10px}"]}),e})();var Rt=i("cp0P");let wt=(()=>{class e extends A.a{constructor(e,t){super("Reference",e,t,{root:j.a.webserviceURlLocal})}getAll(){return super.getAll()}getRecords(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("Reference/"+e,j.a.webserviceURlLocal);return this.http.get(i,t)}updateRecord(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("Reference/"+t,j.a.webserviceURlLocal);return this.http.put(o,e,i)}addRecord(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("Reference",j.a.webserviceURlLocal);return this.http.post(i,e,t)}getUser(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("Organization/"+e+"/"+t,j.a.webserviceURlLocal);return this.http.get(o,i)}getComplete(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("Organization/Getstatus/"+e,j.a.webserviceURlLocal);return this.http.get(i,t)}deleteRecord(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.delete(j.a.webserviceURlLocal+"reference/"+e,t)}}return e.\u0275fac=function(t){return new(t||e)(s.Zb(O.b),s.Zb(A.c))},e.\u0275prov=s.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Ft=(()=>{class e{constructor(e){this.http=e}updateRecord(e,t,i){const o={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.put(j.a.webserviceURlLocal+e+"/"+i,t,o)}addRecord(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.post(j.a.webserviceURlLocal+e,t,i)}deleteRecord(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.delete(j.a.webserviceURlLocal+"reference/"+e,t)}}return e.\u0275fac=function(t){return new(t||e)(s.Zb(O.b))},e.\u0275prov=s.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function St(e,t){1&e&&(s.Vb(0,"span",20),s.Dc(1,"*"),s.Ub())}function kt(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Project Name is required "),s.Ub())}function xt(e,t){if(1&e&&(s.Vb(0,"div",21),s.Bc(1,kt,2,0,"div",22),s.Ub()),2&e){const e=s.gc(2);s.Db(1),s.mc("ngIf",e.ff.project_Name.errors.required)}}function Pt(e,t){1&e&&(s.Vb(0,"span",20),s.Dc(1,"*"),s.Ub())}function jt(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Scope of work is required"),s.Ub())}function At(e,t){if(1&e&&(s.Vb(0,"div",21),s.Bc(1,jt,2,0,"div",22),s.Ub()),2&e){const e=s.gc(2);s.Db(1),s.mc("ngIf",e.ff.project_Detail.errors.required)}}function Ot(e,t){1&e&&(s.Vb(0,"span",20),s.Dc(1,"*"),s.Ub())}function Et(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"City is required"),s.Ub())}function Mt(e,t){if(1&e&&(s.Vb(0,"div",21),s.Bc(1,Et,2,0,"div",22),s.Ub()),2&e){const e=s.gc(2);s.Db(1),s.mc("ngIf",e.ff.project_City.errors.required)}}function Nt(e,t){1&e&&(s.Vb(0,"span",20),s.Dc(1,"*"),s.Ub())}function Bt(e,t){if(1&e&&(s.Vb(0,"option",15),s.Dc(1),s.Ub()),2&e){const e=t.$implicit;s.mc("ngValue",e.name),s.Db(1),s.Fc(" ",e.name,"")}}function qt(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"State is required"),s.Ub())}function Tt(e,t){if(1&e&&(s.Vb(0,"div",21),s.Bc(1,qt,2,0,"div",22),s.Ub()),2&e){const e=s.gc(2);s.Db(1),s.mc("ngIf",e.ff.project_State.errors.required)}}function Lt(e,t){1&e&&(s.Vb(0,"span",20),s.Dc(1,"*"),s.Ub())}function Yt(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Messer Contact person is required"),s.Ub())}function zt(e,t){if(1&e&&(s.Vb(0,"div",21),s.Bc(1,Yt,2,0,"div",22),s.Ub()),2&e){const e=s.gc(2);s.Db(1),s.mc("ngIf",e.ff.project_MesserContact.errors.required)}}const Gt=function(e){return{"bg-grey":e}},Qt=function(e){return{"is-invalid":e}};function $t(e,t){if(1&e){const e=s.Wb();s.Vb(0,"div",1),s.Vb(1,"div",2),s.Vb(2,"div",3),s.Vb(3,"div",4),s.Vb(4,"label",5),s.Dc(5,"Project Name: "),s.Bc(6,St,2,0,"span",6),s.Ub(),s.Ub(),s.Vb(7,"div",4),s.Qb(8,"input",7),s.Bc(9,xt,2,1,"div",8),s.Ub(),s.Ub(),s.Vb(10,"div",3),s.Vb(11,"div",4),s.Vb(12,"label",9),s.Dc(13," Scope of work:"),s.Bc(14,Pt,2,0,"span",6),s.Ub(),s.Ub(),s.Vb(15,"div",4),s.Qb(16,"textarea",10),s.Bc(17,At,2,1,"div",8),s.Ub(),s.Ub(),s.Vb(18,"div",3),s.Vb(19,"div",4),s.Vb(20,"label",11),s.Dc(21,"City: "),s.Bc(22,Ot,2,0,"span",6),s.Ub(),s.Ub(),s.Vb(23,"div",4),s.Vb(24,"input",12),s.cc("ngModelChange",function(){return s.uc(e),s.gc().idleReset()}),s.Ub(),s.Bc(25,Mt,2,1,"div",8),s.Ub(),s.Ub(),s.Vb(26,"div",3),s.Vb(27,"div",4),s.Vb(28,"label",13),s.Dc(29,"State: "),s.Bc(30,Nt,2,0,"span",6),s.Ub(),s.Ub(),s.Vb(31,"div",4),s.Vb(32,"select",14),s.cc("ngModelChange",function(){return s.uc(e),s.gc().idleReset()}),s.Vb(33,"option",15),s.Dc(34,"Select"),s.Ub(),s.Bc(35,Bt,2,2,"option",16),s.Ub(),s.Vb(36,"small",17),s.cc("[ngClass]",function(){return s.uc(e),s.gc().stateCSS}),s.Dc(37,"NOTE: If your country is outside of USA, please select \u2018Other\u2019. "),s.Ub(),s.Bc(38,Tt,2,1,"div",8),s.Ub(),s.Ub(),s.Vb(39,"div",3),s.Vb(40,"div",4),s.Vb(41,"label",18),s.Dc(42,"Messer Contact Person: "),s.Bc(43,Lt,2,0,"span",6),s.Ub(),s.Ub(),s.Vb(44,"div",4),s.Vb(45,"input",19),s.cc("ngModelChange",function(){return s.uc(e),s.gc().idleReset()}),s.Ub(),s.Bc(46,zt,2,1,"div",8),s.Ub(),s.Ub(),s.Ub(),s.Ub()}if(2&e){const e=s.gc();s.mc("formGroup",e.tempownerForm)("ngClass",s.pc(19,Gt,1==e.showdisabled)),s.Db(6),s.mc("ngIf",1!=e.showdisabled),s.Db(2),s.mc("ngClass",s.pc(21,Qt,e.tempownersubmitted&&e.ff.project_Name.errors)),s.Db(1),s.mc("ngIf",(e.ff.project_Name.touched||e.tempownersubmitted)&&e.ff.project_Name.errors),s.Db(5),s.mc("ngIf",1!=e.showdisabled),s.Db(2),s.mc("ngClass",s.pc(23,Qt,e.tempownersubmitted&&e.ff.project_Detail.errors)),s.Db(1),s.mc("ngIf",(e.ff.project_Detail.touched||e.tempownersubmitted)&&e.ff.project_Detail.errors),s.Db(5),s.mc("ngIf",1!=e.showdisabled),s.Db(2),s.mc("ngClass",s.pc(25,Qt,e.tempownersubmitted&&e.ff.project_City.errors)),s.Db(1),s.mc("ngIf",(e.tempownersubmitted||e.ff.project_City.touched)&&e.ff.project_City.errors),s.Db(5),s.mc("ngIf",1!=e.showdisabled),s.Db(2),s.mc("ngClass",s.pc(27,Qt,e.tempownersubmitted&&e.ff.project_State.errors)),s.Db(1),s.mc("ngValue",""),s.Db(2),s.mc("ngForOf",e.stateNames),s.Db(3),s.mc("ngIf",(e.tempownersubmitted||e.ff.project_State.touched)&&e.ff.project_State.errors),s.Db(5),s.mc("ngIf",1!=e.showdisabled),s.Db(2),s.mc("ngClass",s.pc(29,Qt,e.tempownersubmitted&&e.ff.project_MesserContact.errors)),s.Db(1),s.mc("ngIf",(e.tempownersubmitted||e.ff.project_MesserContact.touched)&&e.ff.project_MesserContact.errors)}}let Wt=(()=>{class e{constructor(e,t,i){this.fb=e,this.formBuilder=t,this.keepalive=i,this.tempownersubmitted=!1,this.stateNames=a,this.submitted=!1,this.stateCSS="note fw-bold p-0 pt-3",this.isMesserProject=!0,this.resetTimer=0}ngAfterContentChecked(){var e;this.showdisabled&&(null===(e=this.tempownerForm)||void 0===e||e.disable())}ngOnChanges(){this.showdisabled&&(this.stateCSS=this.stateCSS+" bg-grey",console.log(this.stateCSS))}ngAfterViewInit(){var e;this.showdisabled&&(null===(e=this.tempownerForm)||void 0===e||e.disable())}ngOnInit(){console.log(this.showdisabled)}chkContractor(e){this.isMesserProject="Yes"==e}get getDisabled(){var e;return"no"==(null===(e=this.ff)||void 0===e?void 0:e.CompletedProject.value)}get ff(){var e;return null===(e=this.tempownerForm)||void 0===e?void 0:e.controls}idleReset(){this.keepalive.start(),this.resetTimer=0}}return e.\u0275fac=function(t){return new(t||e)(s.Pb(n.d),s.Pb(n.d),s.Pb(u.a))},e.\u0275cmp=s.Jb({type:e,selectors:[["app-experiencenew"]],inputs:{tempownerForm:["formInfo","tempownerForm"],showdisabled:"showdisabled"},features:[s.Bb],decls:1,vars:1,consts:[["style","padding-top:5%;padding-bottom:5%;",3,"formGroup","ngClass",4,"ngIf"],[2,"padding-top","5%","padding-bottom","5%",3,"formGroup","ngClass"],[1,"px-2"],[1,"row"],[1,"col-6"],["for","owner-company_Name",1,"my-auto","font-italic"],["class","text-danger",4,"ngIf"],["type","text","formControlName","project_Name","id","project-Name","autocomplete","disabled","name","project_Name",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","project_Detail",1,"my-auto","font-italic"],["type","text","formControlName","project_Detail","id","project-Name","autocomplete","off","name","project_Detail",1,"form-control",3,"ngClass"],["for","project_City",1,"my-auto","font-italic"],["type","text","formControlName","project_City","id","project_City","name","project_City","autocomplete","disabled",1,"form-control",3,"ngClass","ngModelChange"],["for","project_State",1,"my-auto","font-italic","float-right"],["formControlName","project_State","id","state","name","project_State",1,"form-control","form-select",3,"ngClass","ngModelChange"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"[ngClass]"],["for","project_MesserContact",1,"my-auto","font-italic"],["type","text","formControlName","project_MesserContact","autocomplete","disabled","id","project_MesserContact","name","project_MesserContact",1,"form-control",3,"ngClass","ngModelChange"],[1,"text-danger"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(e,t){1&e&&s.Bc(0,$t,47,31,"div",0),2&e&&s.mc("ngIf",t.ff&&t.tempownerForm)},directives:[o.l,n.k,n.g,o.j,n.b,n.j,n.f,n.t,n.n,n.w,o.k],styles:[".row[_ngcontent-%COMP%]{padding:5px 1px}"]}),e})();function Ht(e,t){1&e&&s.Qb(0,"hr",51)}function Zt(e,t){if(1&e&&s.Qb(0,"app-experiencenew",17),2&e){const e=s.gc();s.mc("formInfo",e.currentProject1)("showdisabled",e.showdisabled)}}function Kt(e,t){if(1&e){const e=s.Wb();s.Vb(0,"button",52),s.cc("click",function(){return s.uc(e),s.gc().addcurrentProject()}),s.Dc(1),s.Ub()}if(2&e){const e=s.gc();s.Eb("disabled",e.radioDisable),s.Db(1),s.Fc("",e.isProject1?"Remove":"Add Another"," ")}}function Jt(e,t){1&e&&s.Qb(0,"hr",51)}function Xt(e,t){if(1&e&&s.Qb(0,"app-experiencenew",17),2&e){const e=s.gc();s.mc("formInfo",e.ongoingproject1)("showdisabled",e.showdisabled)}}function ei(e,t){if(1&e){const e=s.Wb();s.Vb(0,"button",52),s.cc("click",function(){return s.uc(e),s.gc().addOngoing()}),s.Dc(1),s.Ub()}if(2&e){const e=s.gc();s.Eb("disabled",e.radioDisable),s.Db(1),s.Ec(e.isProject2?"Remove":"Add Another")}}function ti(e,t){1&e&&(s.Vb(0,"span",53),s.Dc(1,"*"),s.Ub())}function ii(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1," Project Reference Contact Name is required "),s.Ub())}function oi(e,t){if(1&e&&(s.Vb(0,"div",54),s.Bc(1,ii,2,0,"div",55),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.nonMesserReference.controls.project_ReferenceName.errors.required)}}function ni(e,t){1&e&&(s.Vb(0,"span",53),s.Dc(1,"*"),s.Ub())}function ri(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1," Reference Contact Type is required"),s.Ub())}function ai(e,t){if(1&e&&(s.Vb(0,"div",54),s.Bc(1,ri,2,0,"div",55),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.nonMesserReference.controls.project_Contact_Type.errors.required)}}function si(e,t){1&e&&(s.Vb(0,"span",53),s.Dc(1,"*"),s.Ub())}function ci(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1," Email Project Reference Contact is required "),s.Ub())}function li(e,t){if(1&e&&(s.Vb(0,"div",54),s.Bc(1,ci,2,0,"div",55),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.nonMesserReference.controls.project_EmailReferenceName.errors.required)}}function di(e,t){1&e&&(s.Vb(0,"span",53),s.Dc(1,"*"),s.Ub())}function ui(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1," Project Reference Contact Name 2 is required "),s.Ub())}function bi(e,t){if(1&e&&(s.Vb(0,"div",54),s.Bc(1,ui,2,0,"div",55),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.nonMesserReference.controls.project_ReferenceName2.errors.required)}}function pi(e,t){1&e&&(s.Vb(0,"span",53),s.Dc(1,"*"),s.Ub())}function mi(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1," Reference Contact Type 2 is required "),s.Ub())}function fi(e,t){if(1&e&&(s.Vb(0,"div",54),s.Bc(1,mi,2,0,"div",55),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.nonMesserReference.controls.project_Contact_Type2.errors.required)}}function hi(e,t){1&e&&(s.Vb(0,"span",53),s.Dc(1,"*"),s.Ub())}function gi(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1," Email Project Reference Contact 2 is required "),s.Ub())}function _i(e,t){if(1&e&&(s.Vb(0,"div",54),s.Bc(1,gi,2,0,"div",55),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.nonMesserReference.controls.project_EmailReferenceName2.errors.required)}}function vi(e,t){if(1&e){const e=s.Wb();s.Vb(0,"div",56),s.Vb(1,"button",57),s.cc("click",function(){return s.uc(e),s.gc().gotoHome()}),s.Dc(2," << BACK"),s.Ub(),s.Vb(3,"button",58),s.cc("click",function(){return s.uc(e),s.gc().save()}),s.Dc(4),s.Ub(),s.Vb(5,"button",59),s.cc("click",function(){return s.uc(e),s.gc().submit()}),s.Dc(6,"NEXT >>"),s.Ub(),s.Ub()}if(2&e){const e=s.gc();s.Db(4),s.Ec(e.submitText)}}function yi(e,t){if(1&e){const e=s.Wb();s.Vb(0,"div",60),s.Vb(1,"button",57),s.cc("click",function(){return s.uc(e),s.gc().gotoHome()}),s.Dc(2," << BACK"),s.Ub(),s.Vb(3,"button",61),s.cc("click",function(){return s.uc(e),s.gc().nextroutePage()}),s.Dc(4,"NEXT >>"),s.Ub(),s.Ub()}}function Vi(e,t){if(1&e&&s.Qb(0,"app-comment",62),2&e){const e=s.gc();s.mc("formId",e.experienceId)("companyId",e.tempcompanyid)}}const Ui=function(e){return{"bg-grey":e}},Di=function(e){return{"is-invalid":e}};let Ci=(()=>{class e{constructor(e,t,i,o,r,a,s,c,l,d,u){this.formBuilder=e,this.router=t,this.experienceservice=i,this.bnIdle=o,this.keepalive=r,this.toastr=a,this.companyservice=s,this.loginInfo=c,this.ngxUiLoader=l,this.logininfo=d,this.expService=u,this.currentForm=2,this.submitted=!1,this.companyId=0,this.userRole="",this.resetTimer=0,this.showAdmin=!1,this.tempcompanyid=0,this.submitText="",this.prequalification_status="",this.showdisabled=!1,this.radioDisable=null,this.isOngoing=!1,this.isCurrent=!1,this.isNonmesser=!1,this.isOnemesser=!1,this.isProject2=!1,this.isProject1=!1,this.experienceId=0,this.experienceForm=this.formBuilder.group({experience:this.formBuilder.array([])}),this.nonMesserReference=this.formBuilder.group({project_ReferenceName:["",[n.u.required]],project_Contact_Type:["",[n.u.required]],project_EmailReferenceName:["",[n.u.required,n.u.email]],project_ReferenceName2:["",[n.u.required]],project_Contact_Type2:["",[n.u.required]],project_EmailReferenceName2:["",[n.u.required,n.u.email]],project_onemesserreference:["",[]],project_nonmesserreference:["",[]]}),this.ongoingproject=this.newExperience(),this.currentProject=this.newExperience(),this.ongoingproject1=this.newExperience(),this.currentProject1=this.newExperience();let b=localStorage.getItem("userDetails");b=JSON.parse(atob(b)),this.userDetails=b,this.userRole=b.role;let p=localStorage.getItem("tempcompanyid");this.tempcompanyid=Number(p?atob(p):0),this.submitText="SAVE",localStorage.setItem("currPage","experienceinfo"),this.showdisabled="Subcontractor"!=this.userRole,this.tempcompanyid>0&&"Subcontractor"!=this.userRole&&(this.showAdmin=!0,this.showdisabled=!0,this.radioDisable=!0,this.getRecords(this.tempcompanyid),this.nonMesserReference.disable()),null!=this.userDetails.vendorId&&null!=this.userDetails.taxId&&"Subcontractor"==this.userRole&&this.experienceservice.getUser(this.userDetails.vendorId,this.userDetails.taxId).subscribe(e=>{this.companyId=e.id,localStorage.setItem("companyid",btoa(this.companyId.toString())),this.getRecords(this.companyId)})}get getexperience(){return this.experienceForm.get("experience")}addExperience(){this.getexperience.push(this.newExperience()),this.getexperience.push(this.newExperience())}addcurrentProject(){this.isProject1=!this.isProject1}addOngoing(){this.isProject2=!this.isProject2}nonmesserReference(){var e=document.getElementById("project_nonmesserreference");this.isNonmesser=null==e?void 0:e.checked,this.isNonmesser?(this.isOnemesser=!1,this.nonMesserReference.patchValue({project_ReferenceName:"",project_Contact_Type:"",project_EmailReferenceName:"",project_ReferenceName2:"",project_Contact_Type2:"",project_EmailReferenceName2:""}),this.nonMesserReference.disable(),this.nonMesserReference.controls.project_onemesserreference.enable(),this.nonMesserReference.controls.project_nonmesserreference.enable()):(this.nonMesserReference.patchValue({project_ReferenceName:"",project_Contact_Type:"",project_EmailReferenceName:"",project_ReferenceName2:"",project_Contact_Type2:"",project_EmailReferenceName2:""}),this.nonMesserReference.enable())}onemesserReference(){var e=document.getElementById("project_onemesserreference");this.isOnemesser=null==e?void 0:e.checked,this.isNonmesser&&(this.isNonmesser=!this.isOnemesser),1==this.isOnemesser?(this.nonMesserReference.patchValue({project_ReferenceName2:"",project_Contact_Type2:"",project_EmailReferenceName2:""}),this.nonMesserReference.controls.project_ReferenceName.enable(),this.nonMesserReference.controls.project_Contact_Type.enable(),this.nonMesserReference.controls.project_EmailReferenceName.enable(),this.nonMesserReference.controls.project_ReferenceName2.disable(),this.nonMesserReference.controls.project_Contact_Type2.disable(),this.nonMesserReference.controls.project_EmailReferenceName2.disable()):(this.nonMesserReference.patchValue({project_ReferenceName2:"",project_Contact_Type2:"",project_EmailReferenceName2:""}),this.nonMesserReference.controls.project_ReferenceName2.enable(),this.nonMesserReference.controls.project_Contact_Type2.enable(),this.nonMesserReference.controls.project_EmailReferenceName2.enable())}newExperience(){return this.formBuilder.group({id:0,companyId:0,type:[""],CompletedProject:[],project_Name:["",[n.u.required,n.u.maxLength(130)]],project_Detail:["",[n.u.required,n.u.maxLength(130)]],project_Price:["",[]],isMesserProject:[""],project_Completion:["",[]],project_City:["",[n.u.required]],project_State:["",[n.u.required]],project_MesserContact:["",[n.u.required]],project_Reference:["",[]],project_Contact_Type:["",[]],project_Email:["",[]]})}ngOnInit(){this.ngxUiLoader.startLoader("loader-01"),this.chkExperience("no","CurrentProject"),this.chkExperience("no","OngoingProject"),console.log("show",this.showdisabled)}chkExperience(e,t){console.log(e+" - "+t),"OngoingProject"===t?(this.ongoingproject.controls.CompletedProject.setValue(e),"no"==e?(this.isOngoing=!1,this.ongoingproject.patchValue({type:"",CompletedProject:"",project_Name:"",project_Detail:"",project_Price:"",isMesserProject:"",project_Completion:"",project_City:"",project_State:"",project_MesserContact:"",project_Reference:"",project_Contact_Type:"",project_Email:""}),this.isProject2&&(this.ongoingproject1.patchValue({type:"",CompletedProject:"",project_Name:"",project_Detail:"",project_Price:"",isMesserProject:"",project_Completion:"",project_City:"",project_State:"",project_MesserContact:"",project_Reference:"",project_Contact_Type:"",project_Email:""}),this.addOngoing(),this.ongoingproject1.disable()),this.ongoingproject.disable()):(this.isOngoing=!0,this.ongoingproject.enable(),this.isProject2&&(this.ongoingproject1.enable(),this.ongoingproject1.controls.CompletedProject.setValue(e)))):(this.currentProject.controls.CompletedProject.setValue(e),"no"==e?(this.isCurrent=!1,this.currentProject.disable(),this.currentProject.patchValue({type:"",CompletedProject:"",project_Name:"",project_Detail:"",project_Price:"",isMesserProject:"",project_Completion:"",project_City:"",project_State:"",project_MesserContact:"",project_Reference:"",project_Contact_Type:"",project_Email:""}),this.isProject1&&(this.currentProject1.disable(),this.currentProject1.patchValue({type:"",CompletedProject:"",project_Name:"",project_Detail:"",project_Price:"",isMesserProject:"",project_Completion:"",project_City:"",project_State:"",project_MesserContact:"",project_Reference:"",project_Contact_Type:"",project_Email:""}),this.addcurrentProject())):(this.isCurrent=!0,this.currentProject.enable(),this.isProject1&&(this.currentProject1.enable(),this.currentProject1.controls.CompletedProject.setValue(e))))}ngOnDestroy(){this.keepalive.stop()}getRecords(e){this.experienceservice.getRecords(e).subscribe(e=>{if(e.length>0){this.experienceId=e[0].id;var t=e.filter(function(e){return"CurrentProject"==e.type}),i=e.filter(function(e){return"OngoingProject"==e.type}),o=i.filter(function(e){return e.projectReference||e.projectContactType||e.projectEmail}).length>=1?i.filter(function(e){return e.projectReference||e.projectContactType||e.projectEmail})[0]:null,n=t.filter(function(e){return e.projectReference||e.projectContactType||e.projectEmail}).length>=1?t.filter(function(e){return e.projectReference||e.projectContactType||e.projectEmail})[0]:null;this.isProject1=2==t.length,this.isProject2=2==i.length,this.isOnemesser=e[0].isOneReference,this.isNonmesser=e[0].isNoReference;var r=0,a=0,s=!1;n&&o&&this.isRefPresent(n)&&this.isRefPresent(o)&&(s=(2==e.length||4==e.length)&&t.length==i.length),e=e.sort((e,t)=>{var i,o,n,r,a;return(null!==(o=null!==(i=e.projectReference)&&void 0!==i?i:e.projectContactType)&&void 0!==o?o:e.projectEmail).length>(null===(a=null!==(r=null!==(n=t.projectReference)&&void 0!==n?n:t.projectContactType)&&void 0!==r?r:t.projectEmail)||void 0===a?void 0:a.length)?-1:1});for(var c=0;c<e.length;c++){var l=e[c];if("CurrentProject"==l.type){var d=2==(r+=1)?this.currentProject1:this.currentProject,u=""==l.completedProject||null==l.completedProject?"no":l.completedProject;2==r&&(u="Yes"),this.chkExperience(u,l.type),this.updateExperience(d,l,l.type,2==r)}else{var b=2==(a+=1)?this.ongoingproject1:this.ongoingproject;u=""==l.completedProject||null==l.completedProject?"no":l.completedProject,2==a&&(u="Yes"),this.chkExperience(u,l.type),this.updateExperience(b,l,l.type,2==a||s)}}0==i.length&&this.chkExperience("no","OngoingProject"),0==t.length&&this.chkExperience("no","CurrentProject"),this.submitText="UPDATE",this.nonMesserReference.controls.project_onemesserreference.setValue(this.isOnemesser),this.nonMesserReference.controls.project_nonmesserreference.setValue(this.isNonmesser),this.isNonmesser&&this.nonmesserReference(),this.isOnemesser&&this.onemesserReference()}else this.chkExperience("no","CurrentProject"),this.chkExperience("no","OngoingProject")}),e>0&&this.companyservice.getRecord(e).subscribe(e=>{this.prequalification_status=(e=e[0]).preQualification_Status,e.preQualification_Status&&this.loginInfo.formDisable(e.preQualification_Status)&&(this.showdisabled=!0,this.radioDisable=!0,this.ongoingproject.disable(),this.ongoingproject.updateValueAndValidity(),this.ongoingproject1.disable(),this.ongoingproject1.updateValueAndValidity(),this.currentProject.disable(),this.currentProject.updateValueAndValidity(),this.currentProject1.disable())})}updateExperience(e,t,i,o){var n;e.controls.id.setValue(t.id),e.controls.companyId.setValue(this.companyId),e.controls.type.setValue(t.type),e.controls.project_Name.setValue(t.projectName),e.controls.project_Detail.setValue(t.projectDetail),e.controls.project_Price.setValue(null!==(n=t.projectPrice)&&void 0!==n?n:0),e.controls.isMesserProject.setValue(t.isMesserProject),e.controls.project_Completion.setValue(t.projectCompletion),e.controls.project_City.setValue(t.projectCity),e.controls.project_State.setValue(t.projectState),e.controls.project_MesserContact.setValue(t.projectMesserContact),console.log("data",i,t);var r=this.isRefPresent(t);this.nonMesserReference.controls.project_onemesserreference.setValue(t.isOneReference),this.nonMesserReference.controls.project_nonmesserreference.setValue(t.isNoReference),r&&("CurrentProject"==i&&"Yes"==t.completedProject||"OngoingProject"==i&&"Yes"==t.completedProject?o&&!this.nonMesserReference.controls.project_ReferenceName2.value||this.nonMesserReference.controls.project_ReferenceName.value?(this.nonMesserReference.controls.project_ReferenceName2.setValue(t.projectReference),this.nonMesserReference.controls.project_Contact_Type2.setValue(t.projectContactType),this.nonMesserReference.controls.project_EmailReferenceName2.setValue(t.projectEmail)):(this.nonMesserReference.controls.project_ReferenceName.setValue(t.projectReference),this.nonMesserReference.controls.project_Contact_Type.setValue(t.projectContactType),this.nonMesserReference.controls.project_EmailReferenceName.setValue(t.projectEmail)):"CurrentProject"==i?(this.nonMesserReference.controls.project_ReferenceName.setValue(t.projectReference),this.nonMesserReference.controls.project_Contact_Type.setValue(t.projectContactType),this.nonMesserReference.controls.project_EmailReferenceName.setValue(t.projectEmail)):o?(this.nonMesserReference.controls.project_ReferenceName2.setValue(t.projectReference),this.nonMesserReference.controls.project_Contact_Type2.setValue(t.projectContactType),this.nonMesserReference.controls.project_EmailReferenceName2.setValue(t.projectEmail)):(this.nonMesserReference.controls.project_ReferenceName.setValue(t.projectReference),this.nonMesserReference.controls.project_Contact_Type.setValue(t.projectContactType),this.nonMesserReference.controls.project_EmailReferenceName.setValue(t.projectEmail)))}isRefPresent(e){return!!e&&!!(e.projectReference||e.projectContactType||e.projectEmail)}updateExperienceinfo(e){}ngAfterViewInit(){}idleReset(){this.keepalive.start(),this.resetTimer=0}submit(){this.keepalive.stop(),"Subcontractor"!=this.userRole?this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`]):this.companyId>0&&(this.multiSave(!0),this.ngxUiLoader.startLoader("loader-01"))}nextpage(){this.companyId>0&&this.multiSave(!0)}save(){this.keepalive.stop(),this.companyId>0&&this.multiSave(!1)}multiSave(e){var t=this.formMethod(this.currentProject,"CurrentProject"),i=this.formMethod(this.ongoingproject,"OngoingProject"),o=this.formMethod(this.currentProject1,"CurrentProject"),n=this.formMethod(this.ongoingproject1,"OngoingProject"),r=[],a={isCurrent:this.isCurrent,isOngoing:this.isOngoing,isProject1:this.isProject1,isProject2:this.isProject2,isOnemesser:this.isOnemesser,isNonmesser:this.isNonmesser};console.log(a),a.isNonmesser||a.isOnemesser?a.isOnemesser?(t.projectReference=this.nonMesserReference.value.project_ReferenceName,t.projectContactType=this.nonMesserReference.value.project_Contact_Type,t.projectEmail=this.nonMesserReference.value.project_EmailReferenceName,o.projectReference="",o.projectContactType="",o.projectEmail="",i.projectReference="",i.projectContactType="",i.projectEmail="",n.projectReference="",n.projectContactType="",n.projectEmail=""):(t.projectReference="",t.projectContactType="",t.projectEmail="",o.projectReference="",o.projectContactType="",o.projectEmail="",n.projectReference="",n.projectContactType="",n.projectEmail="",i.projectReference="",i.projectContactType="",i.projectEmail=""):(i.projectReference=this.nonMesserReference.value.project_ReferenceName2,i.projectContactType=this.nonMesserReference.value.project_Contact_Type2,i.projectEmail=this.nonMesserReference.value.project_EmailReferenceName2,t.projectReference=this.nonMesserReference.value.project_ReferenceName,t.projectContactType=this.nonMesserReference.value.project_Contact_Type,t.projectEmail=this.nonMesserReference.value.project_EmailReferenceName,o.projectReference="",o.projectContactType="",o.projectEmail="",n.projectReference="",n.projectContactType="",n.projectEmail=""),a.isCurrent||a.isOngoing?a.isCurrent&&!a.isOngoing?(console.log("Secenario 2 curr -yes & ong- no"),t.completedProject="Yes",t.projectReference=this.nonMesserReference.value.project_ReferenceName,t.projectContactType=this.nonMesserReference.value.project_Contact_Type,t.projectEmail=this.nonMesserReference.value.project_EmailReferenceName,(r=this.setDeleteCalls(n,r)).push(this.expService.addRecord("Reference",t)),a.isProject1?(o.completedProject="Yes",a.isNonmesser||a.isOnemesser||(o.projectReference=this.nonMesserReference.value.project_ReferenceName2,o.projectContactType=this.nonMesserReference.value.project_Contact_Type2,o.projectEmail=this.nonMesserReference.value.project_EmailReferenceName2,t.projectReference=this.nonMesserReference.value.project_ReferenceName,t.projectContactType=this.nonMesserReference.value.project_Contact_Type,t.projectEmail=this.nonMesserReference.value.project_EmailReferenceName),r.push(this.expService.addRecord("Reference",o)),r=this.setDeleteCalls(i,r)):this.nonMesserReference.value.project_ReferenceName2?((i=this.clearFormData(i)).completedProject="no",i.projectReference=this.nonMesserReference.value.project_ReferenceName2,i.projectContactType=this.nonMesserReference.value.project_Contact_Type2,i.projectEmail=this.nonMesserReference.value.project_EmailReferenceName2,r.push(this.expService.addRecord("Reference",i)),r=this.setDeleteCalls(o,r)):(r=this.setDeleteCalls(o,r),r=this.setDeleteCalls(i,r))):!a.isCurrent&&a.isOngoing?(console.log("Secenario 3 curr -no & ong- yes"),i.completedProject="Yes",i.projectReference=this.nonMesserReference.value.project_ReferenceName,i.projectContactType=this.nonMesserReference.value.project_Contact_Type,i.projectEmail=this.nonMesserReference.value.project_EmailReferenceName,r.push(this.expService.addRecord("Reference",i)),r=this.setDeleteCalls(o,r),a.isProject2?(n.completedProject="Yes",a.isNonmesser||a.isOnemesser||(n.projectReference=this.nonMesserReference.value.project_ReferenceName2,n.projectContactType=this.nonMesserReference.value.project_Contact_Type2,n.projectEmail=this.nonMesserReference.value.project_EmailReferenceName2,i.projectReference=this.nonMesserReference.value.project_ReferenceName,i.projectContactType=this.nonMesserReference.value.project_Contact_Type,i.projectEmail=this.nonMesserReference.value.project_EmailReferenceName),r.push(this.expService.addRecord("Reference",n)),r=this.setDeleteCalls(t,r)):this.nonMesserReference.value.project_ReferenceName2?((t=this.clearFormData(t)).completedProject="no",t.projectReference=this.nonMesserReference.value.project_ReferenceName2,t.projectContactType=this.nonMesserReference.value.project_Contact_Type2,t.projectEmail=this.nonMesserReference.value.project_EmailReferenceName2,r.push(this.expService.addRecord("Reference",t)),r=this.setDeleteCalls(n,r)):(r=this.setDeleteCalls(n,r),r=this.setDeleteCalls(t,r))):(console.log("Secenario 4 both yes"),r.push(this.expService.addRecord("Reference",t)),r.push(this.expService.addRecord("Reference",i)),a.isProject1&&a.isProject2?(o.completedProject="Yes",r.push(this.expService.addRecord("Reference",o)),n.completedProject="Yes",r.push(this.expService.addRecord("Reference",n))):a.isProject1||a.isProject2?a.isProject1?(o.completedProject="Yes",(r=this.setDeleteCalls(n,r)).push(this.expService.addRecord("Reference",o))):(n.completedProject="Yes",(r=this.setDeleteCalls(o,r)).push(this.expService.addRecord("Reference",n))):(r=this.setDeleteCalls(o,r),r=this.setDeleteCalls(n,r))):(console.log("Secenario 1 both no"),r=this.setDeleteCalls(n,r),r=this.setDeleteCalls(o,r),a.isNonmesser||a.isOnemesser?a.isOnemesser?((t=this.clearFormData(t)).completedProject="no",r.push(this.expService.addRecord("Reference",t)),r=this.setDeleteCalls(i,r)):(r=this.setDeleteCalls(t,r),r=this.setDeleteCalls(i,r),a.isNonmesser&&((t=this.clearFormData(t)).completedProject="no",t.isNoReference=!0,r.push(this.expService.addRecord("Reference",t)))):(t=this.clearFormData(t),i=this.clearFormData(i),t.completedProject="no",i.completedProject="no",r.push(this.expService.addRecord("Reference",i)),r.push(this.expService.addRecord("Reference",t)))),Object(Rt.a)(r).subscribe(t=>{this.toastr.success("Project Experience & References saved successfully","Project Experience & References"),e&&this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`]),this.submitText="UPDATE"})}setDeleteCalls(e,t){return 0!=e.id&&t.push(this.expService.deleteRecord(e.id)),t}clearFormData(e){return e.completedProject="",e.projectName="",e.projectDetail="",e.projectPrice=0,e.isMesserProject=!1,e.projectCompletion="",e.projectCity="",e.projectState="",e.projectMesserContact="",e}firstFormssubmit(){}saveForms(){return[]}firstForms(){}autoSave(){}formMethod(e,t){var i={};return i.id=e.value.id,i.companyId=this.companyId,i.type=t,i.completedProject=e.value.CompletedProject,i.projectName=e.value.project_Name,i.projectDetail=e.value.project_Detail,i.projectPrice=""==e.value.project_Price?0:e.value.project_Price,i.isMesserProject=""!=e.value.isMesserProject&&e.value.isMesserProject,i.projectCompletion=e.value.project_Completion,i.projectCity=e.value.project_City,i.projectState=e.value.project_State,i.projectMesserContact=e.value.project_MesserContact,i.isOneReference=this.isOnemesser,i.isNoReference=this.isNonmesser,"CurrentProject"==t?(i.projectReference=this.nonMesserReference.value.project_ReferenceName,i.projectContactType=this.nonMesserReference.value.project_Contact_Type,i.projectEmail=this.nonMesserReference.value.project_EmailReferenceName):(i.projectReference=this.nonMesserReference.value.project_ReferenceName2,i.projectContactType=this.nonMesserReference.value.project_Contact_Type2,i.projectEmail=this.nonMesserReference.value.project_EmailReferenceName2),i}gotoHome(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm-1].url}`])}addOwner(){}addOwner2(){}addArchitect(){}addArchitect2(){}addSupplier(){}addSupplier2(){}removeReference(e,t){}editreference(e,t){}ownerformcheckformValidation(){}ownerform2checkformValidation(){}architectformcheckformValidation(){}architect2formcheckformValidation(){}supplierformcheckformValidation(){}supplierform2checkformValidation(){}tempownercheckformValidation(){}temparchitectcheckformValidation(){}tempsuppliercheckformValidation(){}validateEmpty(e){return null==e||"null"==e||null==e||"undefined"==e?"":e}referenceupdate(e,t){}cancelUpdate(e,t){}nextroutePage(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])}}return e.\u0275fac=function(t){return new(t||e)(s.Pb(n.d),s.Pb(r.f),s.Pb(wt),s.Pb(l.a),s.Pb(u.a),s.Pb(f.b),s.Pb(c.a),s.Pb(_),s.Pb(v.c),s.Pb(_),s.Pb(Ft))},e.\u0275cmp=s.Jb({type:e,selectors:[["app-experience"]],decls:138,vars:81,consts:[[1,"px-2","py-2","my-2","form-bg",3,"ngClass"],[1,"form-group","input-group","row"],[1,"col-lg-11","py-1","mx-auto"],[1,"row"],[1,"col-lg-6","pe-1","ps-2","col-head-1","mx-auto"],[1,"row","col-curve-top","bg-white","mx-0","px-0","pt-2","pb-3"],[3,"formGroup","keydown.enter"],[1,"col-6","pull-left","pt-1"],[1,"fw-bold"],[1,"col-6","pull-left"],[1,"row","pt-1"],[1,"col-lg-6"],["type","radio","value","yes","name","isMesserProject","id","isMesserProject_yes","required","",3,"checked","ngClass","click"],["for","isMesserProject_yes"],[1,"col-lg-4"],["type","radio","value","no","name","isMesserProject","id","isMesserProject_no","required","",3,"checked","ngClass","click"],["for","isMesserProject_no"],[3,"formInfo","showdisabled"],["style","width: 98%;margin: 0 auto;",4,"ngIf"],[3,"formInfo","showdisabled",4,"ngIf"],[1,"row","text-right"],["class","btn btnlg default-btn",3,"click",4,"ngIf"],["type","radio","value","yes","name","Ongoingproject","id","ongoingisMesserProject_yes","required","",3,"checked","ngClass","click"],["for","ongoingisMesserProject_yes"],["type","radio","value","no","name","Ongoingproject","id","ongoingisMesserProject_no","required","",3,"checked","ngClass","click"],["for","ongoingisMesserProject_no"],[1,"col-lg-12","py-2","mx-auto"],[1,"row","bg-white","col-curve","mx-auto","py-2","pt-1"],[1,"row","px-2"],[1,"col-6"],["for","owner-company_Name",1,"my-auto","font-italic"],["class","text-danger",4,"ngIf"],["type","text","formControlName","project_ReferenceName","id","project_ReferenceName","name","project_ReferenceName","autocomplete","disabled",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","project_Contact_Type",1,"my-auto","font-italic"],["formControlName","project_Contact_Type","id","state","name","state",1,"form-control","form-select",3,"ngClass","ngModelChange"],[3,"ngValue"],["type","text","formControlName","project_EmailReferenceName","id","project_EmailReferenceName","name","project_EmailReferenceName","autocomplete","disabled",1,"form-control",3,"ngClass"],[1,"row","mx-auto"],["for","owner-company_Name2",1,"my-auto","font-italic"],["type","text","formControlName","project_ReferenceName2","name","project_EmailReferenceName2","autocomplete","disabled","id","project_ReferenceName2","name","project_ReferenceName2",1,"form-control",3,"ngClass"],["for","project_Contact_Type2",1,"my-auto","font-italic"],["formControlName","project_Contact_Type2","id","state","name","state",1,"form-control","form-select",3,"ngClass","ngModelChange"],["for","project_EmailReferenceName2",1,"my-auto","font-italic"],["type","text","formControlName","project_EmailReferenceName2","id","project_EmailReferenceName2","autocomplete","disabled",1,"form-control",3,"ngClass"],["for","project_onemesserreference",1,"my-auto","font-italic"],["type","checkbox","formControlName","project_onemesserreference","id","project_onemesserreference","name","project_onemesserreference",3,"checked","click"],["type","checkbox","formControlName","project_nonmesserreference","id","project_nonmesserreference","name","project_nonmesserreference",3,"checked","click"],["class","text-end mx-lg-4 my-3",4,"ngIf"],["class","text-end mx-4 my-3",4,"ngIf"],["headerReview","Risk Review & Inputs","formname","experience",3,"formId","companyId",4,"ngIf"],[2,"width","98%","margin","0 auto"],[1,"btn","btnlg","default-btn",3,"click"],[1,"text-danger"],[1,"invalid-feedback"],[4,"ngIf"],[1,"text-end","mx-lg-4","my-3"],[1,"btn","float-start","btn","default-btn",3,"click"],["type","button",1,"btn","ml-4","default-btn",3,"click"],["type","button",1,"btn","mx-2","default-btn",3,"click"],[1,"text-end","mx-4","my-3"],[1,"btn","btn-success","mx-2","default-btn",3,"click"],["headerReview","Risk Review & Inputs","formname","experience",3,"formId","companyId"]],template:function(e,t){1&e&&(s.Vb(0,"div",0),s.Vb(1,"div",1),s.Vb(2,"div",2),s.Tb(3),s.Vb(4,"div",3),s.Vb(5,"div",4),s.Vb(6,"div",5),s.Vb(7,"form",6),s.cc("keydown.enter",function(e){return e.preventDefault()}),s.Vb(8,"div",3),s.Vb(9,"div",7),s.Vb(10,"h6",8),s.Dc(11,"1. Have you completed any projects with Messer in the past 5 years? "),s.Ub(),s.Ub(),s.Vb(12,"div",9),s.Vb(13,"div",10),s.Vb(14,"span",11),s.Vb(15,"input",12),s.cc("click",function(){return t.chkExperience("Yes","CurrentProject")}),s.Ub(),s.Vb(16,"label",13),s.Dc(17," YES"),s.Ub(),s.Ub(),s.Vb(18,"span",14),s.Vb(19,"input",15),s.cc("click",function(){return t.chkExperience("no","CurrentProject")}),s.Ub(),s.Vb(20,"label",16),s.Dc(21," NO"),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(22,"div",3),s.Qb(23,"app-experiencenew",17),s.Bc(24,Ht,1,0,"hr",18),s.Bc(25,Zt,1,2,"app-experiencenew",19),s.Ub(),s.Vb(26,"div",20),s.Bc(27,Kt,2,2,"button",21),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(28,"div",4),s.Vb(29,"div",5),s.Vb(30,"form",6),s.cc("keydown.enter",function(e){return e.preventDefault()}),s.Vb(31,"div",3),s.Vb(32,"div",7),s.Vb(33,"h6",8),s.Dc(34,"2. Are you currently on any ongoing projects with Messer? "),s.Ub(),s.Ub(),s.Vb(35,"div",9),s.Vb(36,"div",10),s.Vb(37,"span",11),s.Vb(38,"input",22),s.cc("click",function(){return t.chkExperience("Yes","OngoingProject")}),s.Ub(),s.Vb(39,"label",23),s.Dc(40," YES"),s.Ub(),s.Ub(),s.Vb(41,"span",14),s.Vb(42,"input",24),s.cc("click",function(){return t.chkExperience("no","OngoingProject")}),s.Ub(),s.Vb(43,"label",25),s.Dc(44," NO"),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(45,"div",3),s.Qb(46,"app-experiencenew",17),s.Bc(47,Jt,1,0,"hr",18),s.Bc(48,Xt,1,2,"app-experiencenew",19),s.Ub(),s.Vb(49,"div",20),s.Bc(50,ei,2,2,"button",21),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(51,"div",26),s.Vb(52,"form",6),s.cc("keydown.enter",function(e){return e.preventDefault()}),s.Vb(53,"div",27),s.Vb(54,"div",7),s.Vb(55,"h6",8),s.Dc(56,"3. Please provide two non - Messer references"),s.Ub(),s.Ub(),s.Vb(57,"div",28),s.Vb(58,"div",29),s.Vb(59,"label",30),s.Dc(60,"Project Reference Contact Name: "),s.Bc(61,ti,2,0,"span",31),s.Ub(),s.Ub(),s.Vb(62,"div",29),s.Qb(63,"input",32),s.Bc(64,oi,2,1,"div",33),s.Ub(),s.Ub(),s.Vb(65,"div",28),s.Vb(66,"div",29),s.Vb(67,"label",34),s.Dc(68,"Reference Contact Type: "),s.Bc(69,ni,2,0,"span",31),s.Ub(),s.Ub(),s.Vb(70,"div",29),s.Vb(71,"select",35),s.cc("ngModelChange",function(){return t.idleReset()}),s.Vb(72,"option",36),s.Dc(73,"Select"),s.Ub(),s.Vb(74,"option",36),s.Dc(75,"CM/GC"),s.Ub(),s.Vb(76,"option",36),s.Dc(77,"Owner"),s.Ub(),s.Vb(78,"option",36),s.Dc(79,"Designer"),s.Ub(),s.Ub(),s.Bc(80,ai,2,1,"div",33),s.Ub(),s.Ub(),s.Vb(81,"div",28),s.Vb(82,"div",29),s.Vb(83,"label",30),s.Dc(84,"Email for Project Reference Contact: "),s.Bc(85,si,2,0,"span",31),s.Ub(),s.Ub(),s.Vb(86,"div",29),s.Qb(87,"input",37),s.Bc(88,li,2,1,"div",33),s.Ub(),s.Ub(),s.Vb(89,"div",38),s.Qb(90,"hr"),s.Vb(91,"div",28),s.Vb(92,"div",29),s.Vb(93,"label",39),s.Dc(94,"Project Reference Contact Name 2: "),s.Bc(95,di,2,0,"span",31),s.Ub(),s.Ub(),s.Vb(96,"div",29),s.Qb(97,"input",40),s.Bc(98,bi,2,1,"div",33),s.Ub(),s.Ub(),s.Vb(99,"div",28),s.Vb(100,"div",29),s.Vb(101,"label",41),s.Dc(102,"Reference Contact Type 2: "),s.Bc(103,pi,2,0,"span",31),s.Ub(),s.Ub(),s.Vb(104,"div",29),s.Vb(105,"select",42),s.cc("ngModelChange",function(){return t.idleReset()}),s.Vb(106,"option",36),s.Dc(107,"Select"),s.Ub(),s.Vb(108,"option",36),s.Dc(109,"CM/GC"),s.Ub(),s.Vb(110,"option",36),s.Dc(111,"Owner"),s.Ub(),s.Vb(112,"option",36),s.Dc(113,"Designer"),s.Ub(),s.Ub(),s.Bc(114,fi,2,1,"div",33),s.Ub(),s.Ub(),s.Vb(115,"div",28),s.Vb(116,"div",29),s.Vb(117,"label",43),s.Dc(118,"Email for Project Reference Contact 2: "),s.Bc(119,hi,2,0,"span",31),s.Ub(),s.Ub(),s.Vb(120,"div",29),s.Qb(121,"input",44),s.Bc(122,_i,2,1,"div",33),s.Ub(),s.Ub(),s.Ub(),s.Vb(123,"div",28),s.Vb(124,"div",29),s.Vb(125,"label",45),s.Dc(126,"I only have one non-messer references "),s.Ub(),s.Ub(),s.Vb(127,"div",29),s.Vb(128,"input",46),s.cc("click",function(){return t.onemesserReference()}),s.Ub(),s.Ub(),s.Ub(),s.Vb(129,"div",28),s.Vb(130,"div",29),s.Vb(131,"label",30),s.Dc(132,"I have no non-messer references "),s.Ub(),s.Ub(),s.Vb(133,"div",29),s.Vb(134,"input",47),s.cc("click",function(){return t.nonmesserReference()}),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Sb(),s.Ub(),s.Ub(),s.Bc(135,vi,7,1,"div",48),s.Bc(136,yi,5,0,"div",49),s.Ub(),s.Bc(137,Vi,1,2,"app-comment",50)),2&e&&(s.mc("ngClass",s.pc(59,Ui,1==t.showdisabled)),s.Db(7),s.mc("formGroup",t.currentProject),s.Eb("disabled",t.showdisabled),s.Db(8),s.mc("checked",t.isCurrent)("ngClass",s.pc(61,Di,t.submitted&&t.currentProject.controls.CompletedProject.errors)),s.Eb("disabled",t.radioDisable),s.Db(4),s.mc("checked",!t.isCurrent)("ngClass",s.pc(63,Di,t.submitted&&t.currentProject.controls.CompletedProject.errors)),s.Eb("disabled",t.radioDisable),s.Db(4),s.mc("formInfo",t.currentProject)("showdisabled",t.showdisabled),s.Db(1),s.mc("ngIf",t.isProject1&&t.isCurrent),s.Db(1),s.mc("ngIf",t.isProject1&&t.isCurrent),s.Db(2),s.mc("ngIf",t.isCurrent),s.Db(3),s.mc("formGroup",t.ongoingproject),s.Db(8),s.mc("checked",t.isOngoing)("ngClass",s.pc(65,Di,t.submitted&&t.ongoingproject.controls.CompletedProject.errors)),s.Eb("disabled",!0===t.showdisabled)("disabled",t.radioDisable),s.Db(4),s.mc("checked",!t.isOngoing)("ngClass",s.pc(67,Di,t.submitted&&t.ongoingproject.controls.CompletedProject.errors)),s.Eb("disabled",t.radioDisable),s.Db(4),s.mc("formInfo",t.ongoingproject)("showdisabled",t.showdisabled),s.Db(1),s.mc("ngIf",t.isProject2&&t.isOngoing),s.Db(1),s.mc("ngIf",t.isProject2&&t.isOngoing),s.Db(2),s.mc("ngIf",t.isOngoing),s.Db(2),s.mc("formGroup",t.nonMesserReference),s.Db(9),s.mc("ngIf",1!=t.showdisabled),s.Db(2),s.mc("ngClass",s.pc(69,Di,t.nonMesserReference.controls.project_ReferenceName.touched&&t.nonMesserReference.controls.project_ReferenceName.errors)),s.Db(1),s.mc("ngIf",t.nonMesserReference.controls.project_ReferenceName.touched&&t.nonMesserReference.controls.project_ReferenceName.errors),s.Db(5),s.mc("ngIf",1!=t.showdisabled),s.Db(2),s.mc("ngClass",s.pc(71,Di,t.nonMesserReference.controls.project_Contact_Type.touched&&t.nonMesserReference.controls.project_Contact_Type.errors)),s.Db(1),s.mc("ngValue",""),s.Db(2),s.mc("ngValue","Architect"),s.Db(2),s.mc("ngValue","Owner"),s.Db(2),s.mc("ngValue","Designer"),s.Db(2),s.mc("ngIf",t.nonMesserReference.controls.project_Contact_Type.touched&&t.nonMesserReference.controls.project_Contact_Type.errors),s.Db(5),s.mc("ngIf",1!=t.showdisabled),s.Db(2),s.mc("ngClass",s.pc(73,Di,t.nonMesserReference.controls.project_ReferenceName.touched&&t.nonMesserReference.controls.project_EmailReferenceName.errors)),s.Db(1),s.mc("ngIf",t.nonMesserReference.controls.project_ReferenceName.touched&&t.nonMesserReference.controls.project_EmailReferenceName.errors),s.Db(7),s.mc("ngIf",1!=t.showdisabled),s.Db(2),s.mc("ngClass",s.pc(75,Di,t.nonMesserReference.controls.project_ReferenceName2.touched&&t.nonMesserReference.controls.project_ReferenceName2.errors)),s.Db(1),s.mc("ngIf",t.nonMesserReference.controls.project_ReferenceName2.touched&&t.nonMesserReference.controls.project_ReferenceName2.errors),s.Db(5),s.mc("ngIf",1!=t.showdisabled),s.Db(2),s.mc("ngClass",s.pc(77,Di,t.nonMesserReference.controls.project_Contact_Type2.touched&&t.nonMesserReference.controls.project_Contact_Type2.errors)),s.Db(1),s.mc("ngValue",""),s.Db(2),s.mc("ngValue","Architect"),s.Db(2),s.mc("ngValue","Owner"),s.Db(2),s.mc("ngValue","Designer"),s.Db(2),s.mc("ngIf",t.nonMesserReference.controls.project_Contact_Type2.touched&&t.nonMesserReference.controls.project_Contact_Type2.errors),s.Db(5),s.mc("ngIf",1!=t.showdisabled),s.Db(2),s.mc("ngClass",s.pc(79,Di,t.nonMesserReference.controls.project_ReferenceName2.touched&&t.nonMesserReference.controls.project_EmailReferenceName2.errors)),s.Db(1),s.mc("ngIf",t.nonMesserReference.controls.project_ReferenceName2.touched&&t.nonMesserReference.controls.project_EmailReferenceName2.errors),s.Db(6),s.mc("checked",t.isOnemesser),s.Db(6),s.mc("checked",t.isNonmesser),s.Db(1),s.mc("ngIf",!(t.showAdmin||t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status)),s.Db(1),s.mc("ngIf",!t.showAdmin&&t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status||t.showAdmin),s.Db(1),s.mc("ngIf","Subcontractor"!=t.userRole&&"Prequal form submitted and under quality check"!=t.prequalification_status))},directives:[o.j,n.v,n.k,n.g,Wt,o.l,n.b,n.j,n.f,n.t,n.n,n.w,n.a,G],styles:[".cont-border-left[_ngcontent-%COMP%]{border:4px solid #fff;border-right:0}.cont-border-right[_ngcontent-%COMP%]{border:4px solid #fff;border-left:0}.col-curve-top[_ngcontent-%COMP%]{border-top:6px solid #c3bdbd!important}.col-curve[_ngcontent-%COMP%], .col-curve-top[_ngcontent-%COMP%]{border-radius:18px 19px!important}.border[_ngcontent-%COMP%]{border:1px solid #fff!important}.border-end[_ngcontent-%COMP%]{border-bottom-left-radius:13px!important;border-bottom-right-radius:13px!important}.left-col-curve[_ngcontent-%COMP%]{border-top-left-radius:18px 19px!important}.right-col-curve[_ngcontent-%COMP%]{border-top-right-radius:18px 19px!important}.record-shadow[_ngcontent-%COMP%]{border:1px solid #ddd;box-shadow:0 .5rem 1rem rgba(0,0,0,.15)!important}.file-close[_ngcontent-%COMP%]{padding:2px 6px!important;background:#969294!important}.fileclose[_ngcontent-%COMP%]{font-size:22px;color:#6e6767;cursor:pointer}.edit[_ngcontent-%COMP%]{font-size:18px;cursor:pointer}h6[_ngcontent-%COMP%]{font-size:13px!important}.row[_ngcontent-%COMP%]{padding:5px 1px}.btnlg[_ngcontent-%COMP%]{width:180px!important}.text-right[_ngcontent-%COMP%]{float:right;padding-right:10px;display:block;text-align:right}.bg-grey[_ngcontent-%COMP%], .bg-grey[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .bg-grey[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{color:#c7bfbf!important}"]}),e})(),Ii=(()=>{class e extends A.a{constructor(e,t){super("Financial",e,t,{root:j.a.webserviceURlLocal})}getAll(){return super.getAll()}getRecord(e){let t={Screen_ID:e,Screen_Type:"Financial"};const i={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")},body:t};return this.http.get(j.a.webserviceURlLocal+"Files/"+e+"?Screen_Type=Financial",i)}deleteRecord(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.delete(j.a.webserviceURlLocal+"Files/"+e,t)}getRecords(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("financial/"+e,j.a.webserviceURlLocal);return this.http.get(i,t)}updateRecord(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("Financial",j.a.webserviceURlLocal)+t;return this.http.put(o,e,i)}addRecord(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("Financial",j.a.webserviceURlLocal);return this.http.post(i,e,t)}getUser(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("Organization/"+e+"/"+t,j.a.webserviceURlLocal);return this.http.get(o,i)}getComplete(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("Organization/Getstatus/"+e,j.a.webserviceURlLocal);return this.http.get(i,t)}updateOrgRecord(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.put(j.a.webserviceURlLocal+"Organization/UpdateStatus?id="+t,e,i)}getRiskRecords(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.get(j.a.webserviceURlLocal+"Organization/GetRisk?id="+e,t)}}return e.\u0275fac=function(t){return new(t||e)(s.Zb(O.b),s.Zb(A.c))},e.\u0275prov=s.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Ri=i("jhN1");function wi(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Compiled independent credit is required"),s.Ub())}function Fi(e,t){if(1&e&&(s.Vb(0,"div",99),s.Bc(1,wi,2,0,"div",100),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.is_Independent_CPA.errors.required)}}function Si(e,t){1&e&&(s.Vb(0,"span",7),s.Dc(1,"*"),s.Ub())}function ki(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"CPA audited, reviewed and verified records is required"),s.Ub())}function xi(e,t){if(1&e&&(s.Vb(0,"div",99),s.Bc(1,ki,2,0,"div",100),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.cpa_auditReviewed.errors.required)}}function Pi(e,t){1&e&&(s.Vb(0,"div",101),s.Vb(1,"span"),s.Dc(2,"Uploading..."),s.Ub(),s.Qb(3,"mat-progress-spinner",102),s.Ub())}function ji(e,t){if(1&e){const e=s.Wb();s.Vb(0,"div",103),s.Vb(1,"p",104),s.Vb(2,"small"),s.Vb(3,"a",105),s.cc("click",function(){s.uc(e);const i=t.$implicit;return s.gc().openlink(i)}),s.Dc(4),s.Ub(),s.Ub(),s.Vb(5,"small",106),s.cc("click",function(){s.uc(e);const i=t.index,o=t.$implicit;return s.gc().removecpaUpload(i,o)}),s.Dc(6,"X"),s.Ub(),s.Ub(),s.Ub()}if(2&e){const e=t.$implicit;s.Db(3),s.nc("href",e.file_Path,s.wc),s.Db(1),s.Ec(e.name)}}function Ai(e,t){1&e&&(s.Vb(0,"span",7),s.Dc(1,"*"),s.Ub())}function Oi(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Balance sheet is required"),s.Ub())}function Ei(e,t){if(1&e&&(s.Vb(0,"div",99),s.Bc(1,Oi,2,0,"div",100),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.internal_Balance_Upload.errors.required)}}function Mi(e,t){1&e&&(s.Vb(0,"div",101),s.Vb(1,"span"),s.Dc(2,"Uploading..."),s.Ub(),s.Qb(3,"mat-progress-spinner",102),s.Ub())}function Ni(e,t){if(1&e){const e=s.Wb();s.Vb(0,"div",103),s.Vb(1,"p",104),s.Vb(2,"small"),s.Vb(3,"a",105),s.cc("click",function(){s.uc(e);const i=t.$implicit;return s.gc().openlink(i)}),s.Dc(4),s.Ub(),s.Ub(),s.Vb(5,"small",106),s.cc("click",function(){s.uc(e);const i=t.index,o=t.$implicit;return s.gc().removebalanceSheetUpload(i,o)}),s.Dc(6,"X"),s.Ub(),s.Ub(),s.Ub()}if(2&e){const e=t.$implicit;s.Db(3),s.nc("href",e.file_Path,s.wc),s.Db(1),s.Ec(e.name)}}function Bi(e,t){1&e&&(s.Vb(0,"span",7),s.Dc(1,"*"),s.Ub())}function qi(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Internal Profit & Loss Statement is required"),s.Ub())}function Ti(e,t){if(1&e&&(s.Vb(0,"div",99),s.Bc(1,qi,2,0,"div",100),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.internal_Profit_Upload.errors.required)}}function Li(e,t){1&e&&(s.Vb(0,"div",101),s.Vb(1,"span"),s.Dc(2,"Uploading..."),s.Ub(),s.Qb(3,"mat-progress-spinner",102),s.Ub())}function Yi(e,t){if(1&e){const e=s.Wb();s.Vb(0,"div",103),s.Vb(1,"p",104),s.Vb(2,"small"),s.Vb(3,"a",105),s.cc("click",function(){s.uc(e);const i=t.$implicit;return s.gc().openlink(i)}),s.Dc(4),s.Ub(),s.Ub(),s.Vb(5,"small",106),s.cc("click",function(){s.uc(e);const i=t.index,o=t.$implicit;return s.gc().removeprofitlossUpload(i,o)}),s.Dc(6,"X"),s.Ub(),s.Ub(),s.Ub()}if(2&e){const e=t.$implicit;s.Db(3),s.nc("href",e.file_Path,s.wc),s.Db(1),s.Ec(e.name)}}function zi(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Extended credit is required"),s.Ub())}function Gi(e,t){if(1&e&&(s.Vb(0,"div",99),s.Bc(1,zi,2,0,"div",100),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.iS_Extended_Credit.errors.required)}}function Qi(e,t){1&e&&(s.Vb(0,"span",7),s.Dc(1,"*"),s.Ub())}function $i(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Approximate value of line of credit is required "),s.Ub())}function Wi(e,t){if(1&e&&(s.Vb(0,"div",99),s.Bc(1,$i,2,0,"div",100),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.appr_CreditValue.errors.required)}}function Hi(e,t){1&e&&(s.Vb(0,"span",7),s.Dc(1,"*"),s.Ub())}function Zi(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Approximate value used on your line of credit is required "),s.Ub())}function Ki(e,t){if(1&e&&(s.Vb(0,"div",99),s.Bc(1,Zi,2,0,"div",100),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.appr_CreditValue_Used.errors.required)}}function Ji(e,t){1&e&&(s.Vb(0,"span",7),s.Dc(1,"*"),s.Ub())}function Xi(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Bank Name of line of credit is required "),s.Ub())}function eo(e,t){if(1&e&&(s.Vb(0,"div",99),s.Bc(1,Xi,2,0,"div",100),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.bank_Name.errors.required)}}function to(e,t){1&e&&(s.Vb(0,"span",7),s.Dc(1,"*"),s.Ub())}function io(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Bank contact personnel is required"),s.Ub())}function oo(e,t){if(1&e&&(s.Vb(0,"div",99),s.Bc(1,io,2,0,"div",100),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.bank_Contact_Personnnel.errors.required)}}function no(e,t){1&e&&(s.Vb(0,"span",7),s.Dc(1,"*"),s.Ub())}function ro(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Bank contact email is required "),s.Ub())}function ao(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Bank contact email is valid "),s.Ub())}function so(e,t){if(1&e&&(s.Vb(0,"div",99),s.Bc(1,ro,2,0,"div",100),s.Bc(2,ao,2,0,"div",100),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.bank_Contact_email.errors.required),s.Db(1),s.mc("ngIf",e.f.bank_Contact_email.errors.email)}}function co(e,t){1&e&&(s.Vb(0,"span",7),s.Dc(1,"*"),s.Ub())}function lo(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Bank contact phone is required "),s.Ub())}function uo(e,t){if(1&e&&(s.Vb(0,"div",99),s.Bc(1,lo,2,0,"div",100),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.bank_Contact_phone.errors.required)}}function bo(e,t){1&e&&(s.Vb(0,"div",101),s.Vb(1,"span"),s.Dc(2,"Uploading..."),s.Ub(),s.Qb(3,"mat-progress-spinner",102),s.Ub())}function po(e,t){if(1&e){const e=s.Wb();s.Vb(0,"div",103),s.Vb(1,"p",104),s.Vb(2,"small"),s.Vb(3,"a",107),s.Dc(4),s.Ub(),s.Ub(),s.Vb(5,"small",106),s.cc("click",function(){s.uc(e);const i=t.index,o=t.$implicit;return s.gc().removetriRInfoTwoYearsUpload(i,o)}),s.Dc(6,"X"),s.Ub(),s.Ub(),s.Ub()}if(2&e){const e=t.$implicit;s.Db(3),s.nc("href",e.file_Path,s.wc),s.nc("download",e.name),s.Db(1),s.Ec(e.name)}}function mo(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Work in progress file is required"),s.Ub())}function fo(e,t){if(1&e&&(s.Vb(0,"div",99),s.Bc(1,mo,2,0,"div",100),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.WIP_Upload.errors.required)}}function ho(e,t){if(1&e&&(s.Vb(0,"p",119),s.Dc(1,"Application Status: "),s.Vb(2,"span",116),s.Dc(3),s.Ub(),s.Ub()),2&e){const e=s.gc(2).$implicit;s.Db(3),s.Ec(e.risk_Reviewer_1_Status)}}function go(e,t){1&e&&(s.Vb(0,"p"),s.Vb(1,"span",120),s.Dc(2,"Conditional Approval Reason:"),s.Ub(),s.Ub())}function _o(e,t){if(1&e&&(s.Vb(0,"small",121),s.Vb(1,"span",122),s.Dc(2),s.Ub(),s.Ub()),2&e){const e=s.gc(2).$implicit;s.Db(2),s.Ec(e.risk_Reviewer_1_Reason)}}function vo(e,t){if(1&e&&(s.Vb(0,"div"),s.Vb(1,"div",8),s.Vb(2,"div",112),s.Bc(3,ho,4,1,"p",113),s.Ub(),s.Vb(4,"div",114),s.Vb(5,"p",115),s.Dc(6,"Date: "),s.Vb(7,"span",116),s.Dc(8),s.hc(9,"date"),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(10,"div",8),s.Vb(11,"div",117),s.Bc(12,go,3,0,"p",100),s.Bc(13,_o,3,1,"small",118),s.Ub(),s.Ub(),s.Ub()),2&e){const e=s.gc().$implicit;s.Db(3),s.mc("ngIf","Conditionally Approved"==e.risk_Reviewer_1_Status||"Approved"==e.risk_Reviewer_1_Status),s.Db(5),s.Ec(s.jc(9,4,e.reviewer_1_Approved_Date,"MM/dd/yyyy")),s.Db(4),s.mc("ngIf","Conditionally Approved"==e.risk_Reviewer_1_Status),s.Db(1),s.mc("ngIf",null!=e.risk_Reviewer_1_Reason&&"null"!=e.risk_Reviewer_1_Reason&&"Conditionally Approved"==e.risk_Reviewer_1_Status)}}function yo(e,t){if(1&e&&(s.Vb(0,"div",111),s.Bc(1,vo,14,7,"div",100),s.Ub()),2&e){const e=t.$implicit;s.Db(1),s.mc("ngIf",null!=e.risk_Reviewer_1_Status)}}function Vo(e,t){if(1&e&&(s.Vb(0,"div",108),s.Vb(1,"h6",109),s.Dc(2,"Risk User 1 - Review"),s.Ub(),s.Bc(3,yo,2,1,"div",110),s.Ub()),2&e){const e=s.gc();s.Db(3),s.mc("ngForOf",e.getriskrecords)}}function Uo(e,t){if(1&e&&(s.Vb(0,"p",127),s.Vb(1,"span",120),s.Dc(2,"Application Status: "),s.Vb(3,"span",116),s.Dc(4),s.Ub(),s.Ub(),s.Ub()),2&e){const e=s.gc(2).$implicit;s.Db(4),s.Ec(e.risk_Reviewer_2_Status)}}function Do(e,t){1&e&&(s.Vb(0,"p"),s.Vb(1,"span",120),s.Dc(2,"Conditional Approval Reason:"),s.Ub(),s.Ub())}function Co(e,t){if(1&e&&(s.Vb(0,"small",121),s.Vb(1,"span",122),s.Dc(2),s.Ub(),s.Ub()),2&e){const e=s.gc(2).$implicit;s.Db(2),s.Ec(e.risk_Reviewer_2_Reason)}}function Io(e,t){if(1&e&&(s.Vb(0,"div"),s.Vb(1,"div",8),s.Vb(2,"div",112),s.Bc(3,Uo,5,1,"p",125),s.Ub(),s.Vb(4,"div",114),s.Vb(5,"p",126),s.Dc(6,"Date: "),s.Vb(7,"span",116),s.Dc(8),s.hc(9,"date"),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(10,"div",8),s.Vb(11,"div",117),s.Bc(12,Do,3,0,"p",100),s.Bc(13,Co,3,1,"small",118),s.Ub(),s.Ub(),s.Ub()),2&e){const e=s.gc().$implicit;s.Db(3),s.mc("ngIf","Conditionally Approved"==e.risk_Reviewer_2_Status||"Approved"==e.risk_Reviewer_2_Status),s.Db(5),s.Ec(s.jc(9,4,e.reviewer_2_Approved_Date,"MM/dd/yyyy")),s.Db(4),s.mc("ngIf","Conditionally Approved"==e.risk_Reviewer_2_Status),s.Db(1),s.mc("ngIf",null!=e.risk_Reviewer_2_Reason&&"null"!=e.risk_Reviewer_2_Reason&&"Conditionally Approved"==e.risk_Reviewer_2_Status)}}function Ro(e,t){if(1&e&&(s.Vb(0,"div",111),s.Bc(1,Io,14,7,"div",100),s.Ub()),2&e){const e=t.$implicit;s.Db(1),s.mc("ngIf",null!=e.risk_Reviewer_2_Status)}}function wo(e,t){if(1&e&&(s.Vb(0,"div",123),s.Vb(1,"h6",124),s.Dc(2,"Risk User 2 - Review"),s.Ub(),s.Bc(3,Ro,2,1,"div",110),s.Ub()),2&e){const e=s.gc();s.Db(3),s.mc("ngForOf",e.getrisk2records)}}function Fo(e,t){if(1&e){const e=s.Wb();s.Vb(0,"div",128),s.Vb(1,"button",129),s.cc("click",function(){return s.uc(e),s.gc().gotoHome()}),s.Dc(2," << BACK"),s.Ub(),s.Vb(3,"button",130),s.cc("click",function(){return s.uc(e),s.gc().save()}),s.Dc(4),s.Ub(),s.Vb(5,"button",131),s.cc("click",function(){return s.uc(e),s.gc().submit()}),s.Dc(6,"NEXT >>"),s.Ub(),s.Ub()}if(2&e){const e=s.gc();s.Db(4),s.Ec(e.submitText)}}function So(e,t){if(1&e){const e=s.Wb();s.Vb(0,"div",132),s.Vb(1,"button",129),s.cc("click",function(){return s.uc(e),s.gc().gotoHome()}),s.Dc(2," << BACK"),s.Ub(),s.Vb(3,"button",133),s.cc("click",function(){return s.uc(e),s.gc().nextroutePage()}),s.Dc(4,"NEXT >>"),s.Ub(),s.Ub()}}function ko(e,t){if(1&e){const e=s.Wb();s.Vb(0,"div",134),s.Vb(1,"button",135),s.cc("click",function(){return s.uc(e),s.gc().gotoHome()}),s.Dc(2," << BACK"),s.Ub(),s.Ub()}}function xo(e,t){if(1&e&&s.Qb(0,"app-comment",136),2&e){const e=s.gc();s.mc("formId",e.financialid)("companyId",e.tempcompanyid)}}function Po(e,t){1&e&&(s.Vb(0,"div",99),s.Vb(1,"div"),s.Dc(2,"Reason is required"),s.Ub(),s.Ub())}const jo=function(e){return{"bg-grey":e}},Ao=function(e){return{"is-invalid":e}},Oo=function(e){return{"pointer-events":e}};let Eo=(()=>{class e{constructor(e,t,i,o,r,a,s,c,l,d){this.formBuilder=e,this.router=t,this.financialservice=i,this.bnIdle=o,this.keepalive=r,this.toastr=a,this.companyservice=s,this.loginInfo=c,this.sanitizer=l,this.ngxUiLoader=d,this.currentForm=5,this.submitted=!1,this.financialinfoForm=this.formBuilder.group({id:[0],companyId:[0],is_Independent_CPA:["no",[n.u.required]],cpa_auditReviewed:["",[n.u.required]],internal_Balance_Upload:["",[n.u.required]],internal_Profit_Upload:["",[n.u.required]],WIP_Upload:["",[n.u.required]],iS_Extended_Credit:["no",[n.u.required]],appr_CreditValue:["",[n.u.maxLength(256),n.u.pattern(/^-?(0|[1-9]\d*)?$/)]],appr_CreditValue_Used:["",[n.u.maxLength(256),n.u.pattern(/^-?(0|[1-9]\d*)?$/)]],bank_Name:["",[n.u.required,n.u.maxLength(256)]],bank_Contact_Personnnel:["",[n.u.required,n.u.maxLength(256)]],bank_Contact_email:["",[n.u.required,n.u.email,n.u.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)]],bank_Contact_phone:["",[n.u.required,n.u.pattern(/^-?(0|[1-9]\d*)?$/)]],isAutosave:[!1],reject_Reason:[""],approved_Date:[""],preQualification_Status:["In-Progress"],isCompleted:[!1]}),this.companyInfo=this.formBuilder.group({id:["0"],org_Type:[null,[n.u.required,n.u.maxLength(130)]],is_Certified_Diverse:["",[n.u.required,n.u.maxLength(130)]],certified_Diverse_Attachment:["null",[n.u.maxLength(130)]],contact_Name:["",[n.u.required,n.u.maxLength(256)]],contact_Email:["",[n.u.required,n.u.maxLength(256),n.u.email,n.u.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)]],contact_Mobile:["",[n.u.required,n.u.maxLength(256),n.u.pattern("^((\\+91-?) |0)?[0-9]{10}$")]],additional_Details:["",[n.u.required,n.u.maxLength(256)]],CD_Upload:[null],other_details:["",n.u.maxLength(256)],isAutosave:[!0],preQualification_Status:["In-Progress"],isComplete:[!1],approved_Date:[""],reject_Reason:[""]}),this.cpaAttachment=[],this.wipAttachment=[],this.tempcpaAttachment=[],this.tempwipAttachment=[],this.setTimeout=0,this.spinner={cpaSpinner:!1,balanceSpinner:!1,lossSpinner:!1,wipSpinner:!1},this.resetTimer=0,this.showAdmin=!1,this.rejecionrequired=!1,this.completionclicked=0,this.userRole="",this.companyId=0,this.financialid=0,this.isCompleted=!1,this.formCompleted=!1,this.prequalification_status="",this.getriskrecords=[],this.getrisk2records=[],this.tempinternalBalanceUpload=[],this.tempinternalProfitUpload=[],this.balancesheetAttachment=[],this.profitlossAttachment=[],this.showdisabled=!1}ngOnInit(){this.ngxUiLoader.startLoader("loader-01"),localStorage.setItem("currPage","financialinfo"),this.prequalification_status=this.loginInfo.organization_status;let e=localStorage.getItem("userDetails");e=JSON.parse(atob(e)),this.userDetails=e,this.userRole=e.role,this.tempcompanyid=localStorage.getItem("tempcompanyid"),this.tempcompanyid=Number(atob(this.tempcompanyid)),this.submitText="SAVE",this.tempcompanyid>0&&"Subcontractor"!=this.userRole&&(this.showAdmin=!0,this.companyId=this.tempcompanyid,this.showdisabled=!0,this.getRecords(),this.financialinfoForm.disable(),this.financialinfoForm.updateValueAndValidity(),this.financialinfoForm.controls.reject_Reason.enable(),this.financialinfoForm.controls.reject_Reason.updateValueAndValidity()),null!=this.userDetails.vendorId&&null!=this.userDetails.taxId&&"Subcontractor"==this.userRole&&this.financialservice.getUser(this.userDetails.vendorId,this.userDetails.taxId).subscribe(e=>{this.companyId=e.id,this.getRecords(),this.companyservice.getRecord(this.companyId).subscribe(e=>{this.updateCompanyinfo(e),this.prequalification_status=e.preQualification_Status})}),this.ngxUiLoader.stopLoader("loader-01")}ngAfterViewInit(){this.keepalive.interval(30),this.keepalive.stop()}CommaFormatted(e,t){var i,o;e.AT_TARGET>=37&&e.AT_TARGET<=40||this.financialinfoForm.patchValue({[t]:null===(o=null===(i=this.financialinfoForm.get(t))||void 0===i?void 0:i.value)||void 0===o?void 0:o.replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,",")})}numberCheck(e){return"e"!==e.key&&"+"!==e.key&&"-"!==e.key}resetFinance(){this.financialinfoForm.patchValue({appr_CreditValue:"",appr_CreditValue_Used:"",bank_Name:"",bank_Contact_Personnnel:"",bank_Contact_email:"",bank_Contact_phone:""})}resetNo(){this.showdisabled=!1,this.cpaAttachment.forEach((e,t)=>{this.removecpaUpload(t,e,!1)})}resetYes(){this.showdisabled=!1,this.profitlossAttachment.forEach((e,t)=>{this.removeprofitlossUpload(t,e,!1)}),this.balancesheetAttachment.forEach((e,t)=>{this.removebalanceSheetUpload(t,e,!1)})}ngOnDestroy(){this.keepalive.stop(),this.nextpage()}getRecords(){this.financialservice.getRecords(this.companyId).subscribe(e=>{var t;this.submitText=e[0].is_Independent_CPA?"UPDATE":"SAVE",this.financialid=e[0].id,this.updateFinancialinfo(e),this.getFiles(null===(t=e[0])||void 0===t?void 0:t.files),this.companyservice.getRecord(this.companyId).subscribe(e=>{(e=e[0]).preQualification_Status&&this.loginInfo.formDisable(e.preQualification_Status)&&(this.showdisabled=!0,this.financialinfoForm.disable(),this.financialinfoForm.updateValueAndValidity()),this.updateCompanyinfo(e),this.companydata=e,console.log(e)})})}checkRisk2approved(e){return"Approved"==e.risk_Reviewer_2_Status}checkRisk1approved(e){return"Approved"==e.risk_Reviewer_1_Status}editrecord(e){this.tempriskrecord=e.risk_Reviewer_1_Reason,this.financialinfoForm.patchValue({reject_Reason:this.tempriskrecord}),this.financialinfoForm.controls.reject_Reason.updateValueAndValidity()}updateFinancialinfo(e){this.financialinfoForm.patchValue({id:e[0].id,companyId:e[0].companyId,is_Independent_CPA:e[0].is_Independent_CPA,iS_Extended_Credit:e[0].iS_Extended_Credit,appr_CreditValue:e[0].appr_CreditValue,appr_CreditValue_Used:e[0].appr_CreditValue_Used&&"null"!=e[0].appr_CreditValue_Used?e[0].appr_CreditValue_Used:"",bank_Name:e[0].bank_Name&&"null"!=e[0].bank_Name?e[0].bank_Name:"",bank_Contact_Personnnel:e[0].bank_Contact_Personnnel&&"null"!=e[0].bank_Contact_Personnnel?e[0].bank_Contact_Personnnel:"",bank_Contact_email:e[0].bank_Contact_email&&"null"!=e[0].bank_Contact_email?e[0].bank_Contact_email:"",bank_Contact_phone:e[0].bank_Contact_phone&&"null"!=e[0].bank_Contact_phone?e[0].bank_Contact_phone:""}),this.tempcompanyid>0&&"Subcontractor"!=this.userRole&&this.condApprovetxt()}updateCompanyinfo(e){var t;this.companyInfo.patchValue({id:e.id,org_Type:null===(t=e.org_Type)||void 0===t?void 0:t.toLowerCase(),is_Certified_Diverse:e.is_Certified_Diverse,contact_Name:this.loginInfo.validateEmpty(e.contact_Name),contact_Email:this.loginInfo.validateEmpty(e.contact_Email),contact_Mobile:this.loginInfo.validateEmpty(e.contact_Mobile),additional_Details:this.loginInfo.validateEmpty(e.additional_Details),other_details:this.loginInfo.validateEmpty(e.other_details),reject_Reason:this.loginInfo.validateEmpty(e.reject_Reason),standing:this.loginInfo.validateEmpty(e.standing),approved_Date:this.loginInfo.validateEmpty(e.approved_Date)}),this.reject_Reason=e.reject_Reason,this.prequalification_status=e.preQualification_Status,this.risk_Reviewer_1_Reason=e.risk_Reviewer_1_Reason,this.risk_Reviewer_2_Reason=e.risk_Reviewer_2_Reason,"Subcontractor"==this.userRole&&this.companyInfo.patchValue({companyName:this.userDetails.companyName,vendorID:this.userDetails.vendorId,taxID:this.userDetails.taxId}),"Subcontractor"!=this.userRole&&this.companyInfo.patchValue({companyName:localStorage.getItem("userName"),vendorID:localStorage.getItem("vendorID"),taxID:localStorage.getItem("taxID")}),"Subcontractor"!=this.userRole&&this.financialinfoForm.patchValue({reject_Reason:""})}idleReset(){this.keepalive.stop(),this.keepalive.start(),this.resetTimer=0}getFiles(e){this.cpaAttachment=[],this.balancesheetAttachment=[],this.wipAttachment=[],this.profitlossAttachment=[],console.log(e),e.filter(e=>{"Internal_Balance_Upload"==e.file_Type?e.file_Name.length<49&&0==e.isDeleted?this.balancesheetAttachment.push({id:e.id,name:e.file_Name,file_Path:e.file_Path}):0==e.isDeleted&&this.balancesheetAttachment.push({id:e.id,name:e.file_Name.substring(0,49)+"....",file_Path:e.file_Path}):"Internal_Profit_Upload"==e.file_Type?e.file_Name.length<49&&0==e.isDeleted?this.profitlossAttachment.push({id:e.id,name:e.file_Name,file_Path:e.file_Path}):0==e.isDeleted&&this.profitlossAttachment.push({id:e.id,name:e.file_Name.substring(0,49)+"....",file_Path:e.file_Path}):"WIP_Upload"==e.file_Type?e.file_Name.length<49&&0==e.isDeleted?this.wipAttachment.push({id:e.id,name:e.file_Name,file_Path:e.file_Path}):0==e.isDeleted&&this.wipAttachment.push({id:e.id,name:e.file_Name.substring(0,49)+"....",file_Path:e.file_Path}):e.file_Name.length<49&&0==e.isDeleted?this.cpaAttachment.push({id:e.id,name:e.file_Name,file_Path:e.file_Path}):0==e.isDeleted&&this.cpaAttachment.push({id:e.id,name:e.file_Name.substring(0,49)+"....",file_Path:e.file_Path})})}get f(){var e,t,i,o;return"yes"==this.financialinfoForm.value.iS_Extended_Credit?(this.financialinfoForm.controls.appr_CreditValue.setValidators([n.u.required,n.u.maxLength(256)]),this.financialinfoForm.controls.appr_CreditValue_Used.setValidators([n.u.required,n.u.maxLength(256)]),this.financialinfoForm.controls.bank_Name.setValidators([n.u.required,n.u.maxLength(256)]),this.financialinfoForm.controls.bank_Contact_Personnnel.setValidators([n.u.required,n.u.maxLength(256)]),this.financialinfoForm.controls.bank_Contact_email.setValidators([n.u.required,n.u.maxLength(256),n.u.email,n.u.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)]),this.financialinfoForm.controls.bank_Contact_phone.setValidators([n.u.required,n.u.maxLength(256)])):(this.financialinfoForm.controls.appr_CreditValue.clearValidators(),this.financialinfoForm.controls.appr_CreditValue_Used.clearValidators(),this.financialinfoForm.controls.bank_Name.clearValidators(),this.financialinfoForm.controls.bank_Contact_Personnnel.clearValidators(),this.financialinfoForm.controls.bank_Contact_email.clearValidators(),this.financialinfoForm.controls.bank_Contact_phone.clearValidators()),this.financialinfoForm.controls.appr_CreditValue.updateValueAndValidity(),this.financialinfoForm.controls.appr_CreditValue_Used.updateValueAndValidity(),this.financialinfoForm.controls.bank_Name.updateValueAndValidity(),this.financialinfoForm.controls.bank_Contact_Personnnel.updateValueAndValidity(),this.financialinfoForm.controls.bank_Contact_email.updateValueAndValidity(),this.financialinfoForm.controls.bank_Contact_phone.updateValueAndValidity(),"no"==this.financialinfoForm.value.is_Independent_CPA?(this.financialinfoForm.controls.cpa_auditReviewed.clearValidators(),this.financialinfoForm.controls.internal_Balance_Upload.setValidators([n.u.required]),this.financialinfoForm.controls.internal_Profit_Upload.setValidators([n.u.required])):(this.financialinfoForm.controls.cpa_auditReviewed.setValidators([n.u.required]),this.financialinfoForm.controls.internal_Balance_Upload.clearValidators(),this.financialinfoForm.controls.internal_Profit_Upload.clearValidators()),this.financialinfoForm.controls.cpa_auditReviewed.updateValueAndValidity(),this.financialinfoForm.controls.internal_Balance_Upload.updateValueAndValidity(),this.financialinfoForm.controls.internal_Profit_Upload.updateValueAndValidity(),(null===(e=this.cpaAttachment)||void 0===e?void 0:e.length)>0&&(this.financialinfoForm.controls.cpa_auditReviewed.setValidators(null),this.financialinfoForm.controls.cpa_auditReviewed.updateValueAndValidity()),(null===(t=this.balancesheetAttachment)||void 0===t?void 0:t.length)>0&&(this.financialinfoForm.controls.internal_Balance_Upload.setValidators(null),this.financialinfoForm.controls.internal_Balance_Upload.updateValueAndValidity()),(null===(i=this.profitlossAttachment)||void 0===i?void 0:i.length)>0&&(this.financialinfoForm.controls.internal_Profit_Upload.setValidators(null),this.financialinfoForm.controls.internal_Profit_Upload.updateValueAndValidity()),(null===(o=this.wipAttachment)||void 0===o?void 0:o.length)>0&&(this.financialinfoForm.controls.WIP_Upload.setValidators(null),this.financialinfoForm.controls.WIP_Upload.updateValueAndValidity()),"Subcontractor"==this.userRole&&(this.financialinfoForm.controls.reject_Reason.setValidators(null),this.financialinfoForm.controls.reject_Reason.updateValueAndValidity()),"Admin"==this.userRole&&(this.financialinfoForm.controls.reject_Reason.setValidators([n.u.required]),this.financialinfoForm.controls.reject_Reason.updateValueAndValidity()),this.financialinfoForm.value.reject_Reason>0&&(this.financialinfoForm.controls.reject_Reason.setValidators(null),this.financialinfoForm.controls.reject_Reason.updateValueAndValidity()),this.financialinfoForm.updateValueAndValidity(),this.financialinfoForm.controls}submit(){if(this.keepalive.stop(),"Subcontractor"!=this.userRole)this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`]);else{this.formCompleted=!0,this.financialinfoForm.patchValue({isAutosave:!1,isCompleted:!0});let e=this.formMethod();if(0==this.financialid)this.financialservice.addRecord(e).subscribe(e=>{this.financialinfoForm.patchValue({isCompleted:!1,id:e.id}),this.toastr.success("Financial Information saved successfully","Financial Information"),this.getRecords(),this.formCompleted=!1,this.resetSpinner(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])});else{this.financialinfoForm.patchValue({id:this.financialid,isAutosave:!1,isCompleted:!1});let e=this.formMethod();this.financialservice.updateRecord(e,this.financialinfoForm.value.id).subscribe(e=>{this.toastr.success("Financial Information updated successfully","Financial Information"),this.getRecords(),this.resetSpinner()},e=>{},()=>{this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`]),this.resetSpinner()})}}}save(){if(this.submitted=!0,this.keepalive.stop(),console.log(this.financialinfoForm),this.financialinfoForm.valid)if(0==this.financialid){this.financialinfoForm.patchValue({isAutosave:!1,isCompleted:!1});let e=this.formMethod();this.financialservice.addRecord(e).subscribe(e=>{this.financialinfoForm.patchValue({id:e.id}),this.submitText="UPDATE",this.financialinfoForm.patchValue({cpa_auditReviewed:"",internal_Balance_Upload:"",internal_Profit_Upload:"",WIP_Upload:""}),this.toastr.success("Financial Information saved successfully","Financial Information"),this.getRecords(),this.resetSpinner()})}else{this.financialinfoForm.patchValue({id:this.financialid,isAutosave:!1,isCompleted:!1});let e=this.formMethod();this.financialservice.updateRecord(e,this.financialinfoForm.value.id).subscribe(e=>{this.financialinfoForm.patchValue({cpa_auditReviewed:"",internal_Balance_Upload:"",internal_Profit_Upload:"",WIP_Upload:""}),this.toastr.success("Financial Information updated successfully","Financial Information"),this.getRecords(),this.resetSpinner()})}}autoSave(){if(this.resetTimer+=1,1==this.resetTimer)if(0==this.financialid){this.financialinfoForm.patchValue({isAutosave:!1}),this.financialinfoForm.patchValue({isCompleted:!1});let e=this.formMethod();this.financialservice.addRecord(e).subscribe(e=>{this.keepalive.stop(),this.financialinfoForm.patchValue({id:e.id,cpa_auditReviewed:"",internal_Balance_Upload:"",internal_Profit_Upload:"",WIP_Upload:""}),this.submitText="UPDATE",this.getRecords(),this.resetSpinner()})}else{this.financialinfoForm.patchValue({id:this.financialid}),this.financialinfoForm.patchValue({isAutosave:!0}),this.financialinfoForm.patchValue({isCompleted:!1});let e=this.formMethod();this.financialservice.updateRecord(e,this.financialinfoForm.value.id).subscribe(e=>{this.keepalive.stop(),this.getRecords(),this.resetSpinner(),this.financialinfoForm.patchValue({internal_Balance_Upload:"",internal_Profit_Upload:"",WIP_Upload:""})})}}nextpage(){if("Subcontractor"==this.userRole){this.formCompleted=!0,this.financialinfoForm.patchValue({isAutosave:!1,isCompleted:!0});let e=this.formMethod();if(0==this.financialid)this.financialservice.addRecord(e).subscribe(e=>{this.financialinfoForm.patchValue({isCompleted:!1,id:e.id}),this.formCompleted=!1});else{this.financialinfoForm.patchValue({id:this.financialid,isAutosave:!1,isCompleted:!1});let e=this.formMethod();this.financialservice.updateRecord(e,this.financialinfoForm.value.id).subscribe(e=>{})}}}formMethod(){this.financialinfoForm.updateValueAndValidity();var e=new FormData;e.append("id",this.financialinfoForm.value.id),e.append("companyId",String(this.companyId)),e.append("is_Independent_CPA",this.loginInfo.validateEmpty(this.financialinfoForm.value.is_Independent_CPA)),e.append("iS_Extended_Credit",this.loginInfo.validateEmpty(this.financialinfoForm.value.iS_Extended_Credit)),e.append("appr_CreditValue",this.loginInfo.validateEmpty(this.financialinfoForm.value.appr_CreditValue)),e.append("appr_CreditValue_Used",this.loginInfo.validateEmpty(this.financialinfoForm.value.appr_CreditValue_Used)),e.append("bank_Name",this.loginInfo.validateEmpty(this.financialinfoForm.value.bank_Name)),e.append("bank_Contact_Personnnel",this.loginInfo.validateEmpty(this.financialinfoForm.value.bank_Contact_Personnnel)),e.append("bank_Contact_email",this.loginInfo.validateEmpty(this.financialinfoForm.value.bank_Contact_email)),e.append("bank_Contact_phone",this.loginInfo.validateEmpty(this.financialinfoForm.value.bank_Contact_phone)),e.append("isAutosave",this.financialinfoForm.value.isAutosave),e.append("isCompleted",1==this.formCompleted);for(let t=0;t<this.tempcpaAttachment.length;t++)e.append("cpa_auditReviewed",this.tempcpaAttachment[t]);this.tempcpaAttachment=[];for(let t=0;t<this.tempinternalBalanceUpload.length;t++)e.append("internal_Balance_Upload",this.tempinternalBalanceUpload[t]);this.tempinternalBalanceUpload=[];for(let t=0;t<this.tempinternalProfitUpload.length;t++)e.append("internal_Profit_Upload",this.tempinternalProfitUpload[t]);this.tempinternalProfitUpload=[];for(let t=0;t<this.tempwipAttachment.length;t++)e.append("WIP_Upload",this.tempwipAttachment[t]);return this.tempwipAttachment=[],e}companyformMethod(){var e=new FormData;return e.append("id",this.companyInfo.value.id),e.append("additional_Details",this.companyInfo.value.additional_Details),e.append("certified_Diverse_Attachment",this.companyInfo.value.certified_Diverse_Attachment),e.append("contact_Email",this.companyInfo.value.contact_Email),e.append("contact_Mobile",this.companyInfo.value.contact_Mobile),e.append("contact_Name",this.companyInfo.value.contact_Name),e.append("is_Certified_Diverse",this.companyInfo.value.is_Certified_Diverse),e.append("org_Type",this.companyInfo.value.org_Type),this.companyInfo.value.approved_Date&&e.append("approved_Date",this.companyInfo.value.approved_Date),e.append("CD_Upload",""),e.append("standing",this.companyInfo.value.standing),e.append("other_details",this.companyInfo.value.other_details),"Subcontractor"==this.userRole&&(e.append("companyName",this.userDetails.companyName),e.append("vendorID",this.userDetails.vendorId),e.append("taxID",this.userDetails.taxId),e.append("reject_Reason",this.companyInfo.value.reject_Reason),1==this.isCompleted?(e.append("PreQualification_Status","Under Review"),e.append("approved_Date",(new Date).toLocaleDateString("en-us"))):0==this.isCompleted&&e.append("PreQualification_Status",this.companyInfo.value.PreQualification_Status)),"Admin"!=this.userRole&&"SafetyUser"!=this.userRole&&"RiskUser"!=this.userRole||(e.append("companyName",localStorage.getItem("userName")),e.append("vendorID",localStorage.getItem("vendorID")),e.append("taxID",localStorage.getItem("taxID")),e.append("reject_Reason",this.financialinfoForm.value.reject_Reason),1==this.completionclicked?e.append("PreQualification_Status","Approved"):2==this.completionclicked&&e.append("PreQualification_Status","Conditionally Approved")),e}CPAAuditUpload(e){let t=document.getElementById("cpa_auditReviewed");for(let i=0;i<t.files.length;i++)this.tempcpaAttachment.push(t.files[i]);this.spinner.cpaSpinner=!0,this.fileupload()}balanceSheetUpload(e){let t=document.getElementById("internal_Balance_Upload");for(let i=0;i<t.files.length;i++)this.tempinternalBalanceUpload.push(t.files[i]);this.spinner.balanceSpinner=!0,this.fileupload()}filepreview(e,t){var i=new FileReader;i.onload=i=>{console.log(i.target);let o=new Blob(e.files,{type:e.files[t].type});var n=(window.URL||window.webkitURL).createObjectURL(o);console.log("path",n,e.value);var r=document.createElement("a"),a=document.createTextNode("View File");r.target="_blank",r.appendChild(a),r.href=n,r.click(),e.appendChild(r)},i.readAsDataURL(e.files[t])}removebalanceSheetUpload(e,t,i=!0){this.showdisabled||this.financialservice.deleteRecord(t.id).subscribe(t=>{this.balancesheetAttachment.splice(e,1),i&&this.toastr.info("File removed successfully","Financial Info")})}removecpaUpload(e,t,i=!0){this.showdisabled||this.financialservice.deleteRecord(t.id).subscribe(t=>{this.cpaAttachment.splice(e,1),i&&this.toastr.info("File removed successfully","Financial Info")})}profitlossUpload(e){let t=document.getElementById("internal_Profit_Upload");for(let i=0;i<t.files.length;i++)this.tempinternalProfitUpload.push(t.files[i]);this.spinner.cpaSpinner=!0,this.fileupload()}removeprofitlossUpload(e,t,i=!0){this.showdisabled||this.financialservice.deleteRecord(t.id).subscribe(t=>{this.profitlossAttachment.splice(e,1),i&&this.toastr.info("File removed successfully","Financial Info")})}wipUpload(e){let t=document.getElementById("WIP_Upload");for(let i=0;i<t.files.length;i++)this.tempwipAttachment.push(t.files[i]);this.spinner.wipSpinner=!0,this.fileupload()}removetriRInfoTwoYearsUpload(e,t){this.showdisabled||this.financialservice.deleteRecord(t.id).subscribe(t=>{this.toastr.info("File removed successfully","Financial Info"),this.wipAttachment.splice(e,1)})}resetSpinner(){this.spinner={cpaSpinner:!1,balanceSpinner:!1,lossSpinner:!1,wipSpinner:!1}}rejectionalert(){this.financialinfoForm.value.reject_Reason.length>0?(this.financialinfoForm.controls.reject_Reason.setValidators(null),this.financialinfoForm.updateValueAndValidity()):(this.financialinfoForm.controls.reject_Reason.setValidators([n.u.required]),this.financialinfoForm.updateValueAndValidity()),this.condApprovetxt()}completion(){this.financialinfoForm.controls.reject_Reason.clearValidators(),this.completionclicked=1,this.financialinfoForm.updateValueAndValidity();let e=new FormData;e.append("PreQualification_Status","Approved"),e.append("User_Type",this.userRole),this.financialservice.updateOrgRecord(e,this.companyInfo.value.id).subscribe(e=>{this.companyId=e.id,this.financialinfoForm.patchValue({reject_Reason:""}),this.getRecords(),this.toastr.success("Submission approved successfully","Application Submission")})}condApprove(){if(this.completionclicked=2,0==this.financialinfoForm.value.reject_Reason.length)this.submitted=!0;else{let e=new FormData;e.append("PreQualification_Status","Conditionally Approved"),e.append("User_Type",this.userRole),e.append("reject_Reason",this.financialinfoForm.value.reject_Reason),document.getElementById("exampleModals").click(),this.financialservice.updateOrgRecord(e,this.companyInfo.value.id).subscribe(e=>{this.companyId=e.id,this.getRecords(),this.toastr.success("Submission conditionally approved successfully","Application Submission")})}}condApprovetxt(){var e;(null===(e=this.financialinfoForm.value.reject_Reason)||void 0===e?void 0:e.length)>0?(this.submitted=!1,this.rejecionrequired=!1):(this.submitted=!0,this.rejecionrequired=!0),this.financialinfoForm.controls.reject_Reason.enable(),this.financialinfoForm.controls.reject_Reason.updateValueAndValidity()}fileupload(){if(this.keepalive.stop(),0==this.financialid){this.financialinfoForm.patchValue({isAutosave:!0});let e=this.formMethod();this.financialservice.addRecord(e).subscribe(e=>{this.keepalive.stop(),this.financialinfoForm.patchValue({cpa_auditReviewed:"",internal_Balance_Upload:"",internal_Profit_Upload:"",WIP_Upload:"",id:e.id}),this.submitText="UPDATE",this.getRecords(),this.resetSpinner()})}else{this.financialinfoForm.patchValue({id:this.financialid,isAutosave:!0});let e=this.formMethod();this.financialservice.updateRecord(e,this.financialinfoForm.value.id).subscribe(e=>{this.keepalive.stop(),this.getRecords(),this.resetSpinner(),this.financialinfoForm.patchValue({cpa_auditReviewed:"",internal_Balance_Upload:"",internal_Profit_Upload:"",WIP_Upload:""})})}}getComplete(){this.financialservice.getComplete(this.companyId).subscribe(e=>{if(e.data.length&&"Under Review"==e.data[0].preQualification_Status){this.isCompleted=!0;let e=new FormData;e.append("PreQualification_Status","Under Review"),e.append("Approved_Date",(new Date).toLocaleDateString("en-in")),e.append("User_Type",this.userRole),this.financialservice.updateOrgRecord(e,this.companyInfo.value.id).subscribe(e=>{this.router.navigate(["/home"])})}})}gotoHome(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm-1].url}`])}openlink(e){this.sanitizer.bypassSecurityTrustUrl(e.file_Path)}nextroutePage(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])}}return e.\u0275fac=function(t){return new(t||e)(s.Pb(n.d),s.Pb(r.f),s.Pb(Ii),s.Pb(l.a),s.Pb(u.a),s.Pb(f.b),s.Pb(c.a),s.Pb(_),s.Pb(Ri.b),s.Pb(v.c))},e.\u0275cmp=s.Jb({type:e,selectors:[["app-financialinfo"]],decls:222,vars:130,consts:[[1,"px-2",3,"formGroup","ngClass","ngSubmit","keydown.enter"],[1,"px-2","my-1","pb-1","form-bg"],[1,"form-group","input-group","row","mx-auto","mb-3","pt-2"],[1,"col-lg-6","pe-1","py-2","col-head-1"],[1,"row","bg-white","col-curve-top","mx-auto"],[1,"col-12","py-2"],["for","is_Independent_CPA",1,"my-auto","fw-bold","pt-2"],[1,"text-danger"],[1,"row"],[1,"col-lg-2"],["type","radio","formControlName","is_Independent_CPA","value","yes","checked","checked","name","is_Independent_CPA","id","is_Independent_CPA_yes",3,"ngModelChange","click"],["for","is_Independent_CPA_yes"],[1,"col-lg-10"],["type","radio","formControlName","is_Independent_CPA","value","no","name","is_Independent_CPA","id","is_Independent_CPA_no",3,"ngModelChange","click"],["for","is_Independent_CPA_no"],["class","invalid-feedback",4,"ngIf"],[1,"row","mt-1",3,"ngClass"],[1,"col-5"],["for","cpa_auditReviewed",1,"my-auto","font-italic"],["class","text-danger",4,"ngIf"],[1,"col-7"],[1,"form-control-customitem","form-control"],["type","file","title","Choose file","formControlName","cpa_auditReviewed","id","cpa_auditReviewed","name","cpa_auditReviewed","multiple","",3,"ngClass","change"],["for","cpa_auditReviewed",3,"ngClass"],["class","spinner__loading pt-3",4,"ngIf"],["class","me-2",4,"ngFor","ngForOf"],["for","internal_Balance_Upload",1,"my-auto","font-italic"],["type","file","title","Choose file","formControlName","internal_Balance_Upload","id","internal_Balance_Upload","name","internal_Balance_Upload","multiple","",3,"ngClass","change"],["for","internal_Balance_Upload",3,"ngClass"],[1,"row","py-2",3,"ngClass"],["for","internal_Profit_Upload",1,"my-auto","font-italic"],["type","file","title","Choose file","formControlName","internal_Profit_Upload","id","internal_Profit_Upload","name","internal_Profit_Upload","multiple","",3,"ngClass","change"],["for","internal_Profit_Upload",3,"ngClass"],[1,"row","bg-white","col-curve","py-2","mt-3","mx-auto","wip-bottom"],[1,"row","pt-2"],[1,"fw-bold"],[1,"col-6"],["for","iS_Extended_Credit",1,"my-auto","font-italic","float-right"],[1,"row","pt-1"],[1,"col-lg-4"],["type","radio","formControlName","iS_Extended_Credit","value","yes","checked","checked","name","iS_Extended_Credit","id","iS_Extended_Credit_yes",3,"ngModelChange"],["for","iS_Extended_Credit_yes"],[1,"col-lg-8"],["type","radio","formControlName","iS_Extended_Credit","value","no","name","iS_Extended_Credit","id","iS_Extended_Credit_no",3,"click","ngModelChange"],["for","iS_Extended_Credit_no"],[1,"row","mt-2",3,"ngClass"],["for","appr_CreditValue",1,"my-auto","font-italic","float-right"],["type","text","formControlName","appr_CreditValue","pattern","[0-9]+","id","appr_CreditValue","name","appr_CreditValue",1,"form-control",3,"ngClass","keydown","keyup","ngModelChange"],["for","appr_CreditValue_Used",1,"my-auto","font-italic","float-right"],["type","text","formControlName","appr_CreditValue_Used","pattern","[0-9]+","id","appr_CreditValue_Used","name","appr_CreditValue_Used",1,"form-control",3,"ngClass","keydown","keyup","ngModelChange"],["for","bank_Name",1,"my-auto","font-italic","float-right"],["type","text","formControlName","bank_Name","pattern","[0-9]+","id","bank_Name","name","bank_Name",1,"form-control",3,"ngClass","ngModelChange"],["for","bank_Contact_Personnnel",1,"my-auto","font-italic","float-right"],["type","text","formControlName","bank_Contact_Personnnel","id","bank_Contact_Personnnel","name","bank_Contact_Personnnel",1,"form-control",3,"ngClass","ngModelChange"],["for","bank_Contact_email",1,"my-auto","font-italic","float-right"],["type","text","formControlName","bank_Contact_email","id","bank_Contact_email","name","bank_Contact_email",1,"form-control",3,"ngClass","ngModelChange"],["for","bank_Contact_phone",1,"my-auto","font-italic","float-right"],["type","text","appPhoneMask","","onKeyPress","if(this.value.length==15) return false;","formControlName","bank_Contact_phone","id","bank_Contact_phone","name","bank_Contact_phone",1,"form-control",3,"ngClass","ngModelChange"],[1,"col-lg-6","pe-1","py-2","mt-2","bg-white","col-curve-top","col-head-2","mx-auto"],[1,"row","my-auto","pt-2"],["for","WIP_Upload",1,"my-auto","fw-bold"],["type","file","formControlName","WIP_Upload","title","Choose file","id","WIP_Upload","name","WIP_Upload","multiple","",3,"ngClass","change"],["for","WIP_Upload",3,"ngClass"],[1,"pt-2"],["href","assets/WIP Sheet.XLSX","target","_blank",1,"font-bold",3,"ngClass","ngStyle"],["class","mr-4 px-3 border pb-4",4,"ngIf"],["class","mr-4 px-3 border mt-4 pb-4",4,"ngIf"],["class","text-end mx-lg-4 my-4",4,"ngIf"],["class","text-end mx-lg-4 d-none d-lg-block my-4",4,"ngIf"],["class","text-end mx-lg-4 d-lg-none pb-3",4,"ngIf"],["headerReview","Risk Review & Inputs","formname","financial",3,"formId","companyId",4,"ngIf"],["type","button","id","exampleModals","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn-hide"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","false",1,"modal","fade"],["exampleModal",""],[1,"modal-dialog","modal-lg","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","text-success"],["type","button","id","closebutton","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"px-2",3,"formGroup","ngSubmit","keydown.enter"],["formControlName","reject_Reason","id","reject_Reason","rows","13","name","reject_Reason",1,"form-control",3,"ngClass","ngModelChange"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","default-btn","modal-cancel"],["type","submit",1,"btn","default-btn",3,"click"],["type","button","id","formsubmitmodal","data-bs-toggle","modal","data-bs-target","#formsubmitmodals",1,"btn-hide"],["id","formsubmitmodals","tabindex","-1","aria-labelledby","formsubmitmodals","aria-hidden","false",1,"modal","fade"],["formsubmitmodals",""],[1,"modal-dialog","modal-md","modal-dialog-centered"],["id","formsubmitmodal",1,"modal-title","text-success"],[1,"modal-body","my-3"],[1,"modal-footer","py-1"],["type","button","id","beforesubmitmodal","data-bs-toggle","modal","data-bs-target","#beforesubmitmodals",1,"btn-hide"],["id","beforesubmitmodals","tabindex","-1","aria-labelledby","beforesubmitmodals","aria-hidden","false",1,"modal","fade"],["beforesubmitmodals",""],["type","button","data-bs-dismiss","modal",1,"btn","default-btn",3,"click"],["type","button","id","previewimagemodal","data-bs-toggle","modal","data-bs-target","#previewimagemodal",1,"btn-hide"],["id","previewimagemodals","tabindex","-1","aria-labelledby","previewimagemodals","aria-hidden","false",1,"modal","fade"],["previewimagemodal",""],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner__loading","pt-3"],["diameter","18","mode","indeterminate",1,"mt-1"],[1,"me-2"],[1,"file-tag"],["target","_blank",3,"href","click"],[1,"file-close","text-white",3,"click"],["target","_blank",3,"href","download"],[1,"mr-4","px-3","border","pb-4"],[1,"text-center","text-success","my-3"],["class","p-3 record-shadow my-2",4,"ngFor","ngForOf"],[1,"p-3","record-shadow","my-2"],[1,"col-lg-10","p-1","px-lg-2"],["class","pt-2 text-succes fw-bold text-success m-0",4,"ngIf"],[1,"col-lg-2","py-2","ps-1","px-lg-2"],[1,"fw-bold","text-success","float-lg-end","m-0"],[1,"fw-normal"],[1,"col-10","p-1","m-0","px-lg-2"],["class","mb-4",4,"ngIf"],[1,"pt-2","text-succes","fw-bold","text-success","m-0"],[1,"fw-bold","text-success"],[1,"mb-4"],[1,"text-capitalize","ps-4"],[1,"mr-4","px-3","border","mt-4","pb-4"],[1,"text-center","my-2","text-success"],["class","pt-2 text-success",4,"ngIf"],[1,"fw-bold","text-success","float-end"],[1,"pt-2","text-success"],[1,"text-end","mx-lg-4","my-4"],[1,"btn","float-start","btn","default-btn",3,"click"],["type","button",1,"btn","ml-4","default-btn",3,"click"],["type","button",1,"btn","ms-2","default-btn",3,"click"],[1,"text-end","mx-lg-4","d-none","d-lg-block","my-4"],[1,"btn","btn-success","mx-2","default-btn",3,"click"],[1,"text-end","mx-lg-4","d-lg-none","pb-3"],[1,"btn","float-start","btn","mx-3","default-btn",3,"click"],["headerReview","Risk Review & Inputs","formname","financial",3,"formId","companyId"]],template:function(e,t){1&e&&(s.Vb(0,"form",0),s.cc("ngSubmit",function(){return t.submit()})("keydown.enter",function(e){return e.preventDefault()}),s.Vb(1,"div",1),s.Vb(2,"div",2),s.Vb(3,"div",3),s.Vb(4,"div",4),s.Vb(5,"div",5),s.Vb(6,"h6",6),s.Dc(7,"1. Has your company had their most recent year-end financial statements audited, reviewed, or compiled by an independant CPA? "),s.Vb(8,"span",7),s.Dc(9,"*"),s.Ub(),s.Ub(),s.Qb(10,"br"),s.Vb(11,"div",8),s.Vb(12,"span",9),s.Vb(13,"input",10),s.cc("ngModelChange",function(){return t.idleReset()})("click",function(){return t.resetYes()}),s.Ub(),s.Vb(14,"label",11),s.Dc(15," YES"),s.Ub(),s.Ub(),s.Vb(16,"span",12),s.Vb(17,"input",13),s.cc("ngModelChange",function(){return t.idleReset()})("click",function(){return t.resetNo()}),s.Ub(),s.Vb(18,"label",14),s.Dc(19," NO"),s.Ub(),s.Ub(),s.Bc(20,Fi,2,1,"div",15),s.Vb(21,"div",16),s.Vb(22,"div",17),s.Vb(23,"label",18),s.Dc(24,"CPA audited, reviewed and verified records "),s.Bc(25,Si,2,0,"span",19),s.Ub(),s.Ub(),s.Vb(26,"div",20),s.Vb(27,"div",21),s.Vb(28,"input",22),s.cc("change",function(e){return t.CPAAuditUpload(e)}),s.Ub(),s.Vb(29,"span",23),s.Dc(30," \xa0Click here to Add Files"),s.Ub(),s.Ub(),s.Bc(31,xi,2,1,"div",15),s.Bc(32,Pi,4,0,"div",24),s.Bc(33,ji,7,2,"div",25),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(34,"div",16),s.Vb(35,"div",17),s.Vb(36,"label",26),s.Dc(37,"Internal Balance Sheet "),s.Bc(38,Ai,2,0,"span",19),s.Ub(),s.Ub(),s.Vb(39,"div",20),s.Vb(40,"div",21),s.Vb(41,"input",27),s.cc("change",function(e){return t.balanceSheetUpload(e)}),s.Ub(),s.Vb(42,"span",28),s.Dc(43," \xa0Click here to Add Files"),s.Ub(),s.Ub(),s.Bc(44,Ei,2,1,"div",15),s.Bc(45,Mi,4,0,"div",24),s.Bc(46,Ni,7,2,"div",25),s.Ub(),s.Ub(),s.Vb(47,"div",29),s.Vb(48,"div",17),s.Vb(49,"label",30),s.Dc(50,"Internal Profit & Loss Statement "),s.Bc(51,Bi,2,0,"span",19),s.Ub(),s.Ub(),s.Vb(52,"div",20),s.Vb(53,"div",21),s.Vb(54,"input",31),s.cc("change",function(e){return t.profitlossUpload(e)}),s.Ub(),s.Vb(55,"span",32),s.Dc(56," \xa0Click here to Add Files"),s.Ub(),s.Ub(),s.Bc(57,Ti,2,1,"div",15),s.Bc(58,Li,4,0,"div",24),s.Bc(59,Yi,7,2,"div",25),s.Ub(),s.Ub(),s.Ub(),s.Vb(60,"div",33),s.Vb(61,"div",34),s.Vb(62,"h6",35),s.Dc(63,"3. Banking Information"),s.Ub(),s.Vb(64,"div",34),s.Vb(65,"div",36),s.Vb(66,"label",37),s.Dc(67," Do you have access to extended line of credit? "),s.Vb(68,"span",7),s.Dc(69,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(70,"div",36),s.Vb(71,"div",38),s.Vb(72,"span",39),s.Vb(73,"input",40),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Vb(74,"label",41),s.Dc(75," YES"),s.Ub(),s.Ub(),s.Vb(76,"span",42),s.Vb(77,"input",43),s.cc("click",function(){return t.resetFinance()})("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Vb(78,"label",44),s.Dc(79," NO"),s.Ub(),s.Ub(),s.Ub(),s.Bc(80,Gi,2,1,"div",15),s.Ub(),s.Vb(81,"div",45),s.Vb(82,"div",36),s.Vb(83,"label",46),s.Dc(84," Approximate value of line of credit: "),s.Bc(85,Qi,2,0,"span",19),s.Ub(),s.Ub(),s.Vb(86,"div",36),s.Vb(87,"input",47),s.cc("keydown",function(e){return t.numberCheck(e)})("keyup",function(e){return t.CommaFormatted(e,"appr_CreditValue")})("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Bc(88,Wi,2,1,"div",15),s.Ub(),s.Ub(),s.Vb(89,"div",45),s.Vb(90,"div",36),s.Vb(91,"label",48),s.Dc(92," Approximate value used on your line of credit: "),s.Bc(93,Hi,2,0,"span",19),s.Ub(),s.Ub(),s.Vb(94,"div",36),s.Vb(95,"input",49),s.cc("keydown",function(e){return t.numberCheck(e)})("keyup",function(e){return t.CommaFormatted(e,"appr_CreditValue_Used")})("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Bc(96,Ki,2,1,"div",15),s.Ub(),s.Ub(),s.Vb(97,"div",45),s.Vb(98,"div",36),s.Vb(99,"label",50),s.Dc(100," Bank Name: "),s.Bc(101,Ji,2,0,"span",19),s.Ub(),s.Ub(),s.Vb(102,"div",36),s.Vb(103,"input",51),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Bc(104,eo,2,1,"div",15),s.Ub(),s.Ub(),s.Vb(105,"div",45),s.Vb(106,"div",36),s.Vb(107,"label",52),s.Dc(108," Bank contact personnel: "),s.Bc(109,to,2,0,"span",19),s.Ub(),s.Ub(),s.Vb(110,"div",36),s.Vb(111,"input",53),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Bc(112,oo,2,1,"div",15),s.Ub(),s.Ub(),s.Vb(113,"div",45),s.Vb(114,"div",36),s.Vb(115,"label",54),s.Dc(116," Bank contact email: "),s.Bc(117,no,2,0,"span",19),s.Ub(),s.Ub(),s.Vb(118,"div",36),s.Vb(119,"input",55),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Bc(120,so,3,2,"div",15),s.Ub(),s.Ub(),s.Vb(121,"div",45),s.Vb(122,"div",36),s.Vb(123,"label",56),s.Dc(124,"Bank contact phone: "),s.Bc(125,co,2,0,"span",19),s.Ub(),s.Ub(),s.Vb(126,"div",36),s.Vb(127,"input",57),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Bc(128,uo,2,1,"div",15),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(129,"div",58),s.Vb(130,"div",59),s.Vb(131,"div",17),s.Vb(132,"h6",60),s.Dc(133,"2. Work in progress file attachment "),s.Vb(134,"span",7),s.Dc(135,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(136,"div",20),s.Vb(137,"div",21),s.Vb(138,"input",61),s.cc("change",function(e){return t.wipUpload(e)}),s.Ub(),s.Vb(139,"span",62),s.Dc(140," \xa0Click here to Add Files"),s.Ub(),s.Ub(),s.Bc(141,bo,4,0,"div",24),s.Bc(142,po,7,3,"div",25),s.Bc(143,fo,2,1,"div",15),s.Ub(),s.Vb(144,"label",63),s.Dc(145,"If you don't have work in progress(WIP) document, please use the "),s.Vb(146,"u"),s.Vb(147,"a",64),s.Dc(148,"attached template"),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Bc(149,Vo,4,1,"div",65),s.Bc(150,wo,4,1,"div",66),s.Bc(151,Fo,7,1,"div",67),s.Ub(),s.Bc(152,So,5,0,"div",68),s.Bc(153,ko,3,0,"div",69),s.Bc(154,xo,1,2,"app-comment",70),s.Qb(155,"button",71),s.Vb(156,"div",72,73),s.Vb(158,"div",74),s.Vb(159,"div",75),s.Vb(160,"div",76),s.Vb(161,"h6",77),s.Dc(162,"Conditionally approved reason"),s.Ub(),s.Qb(163,"button",78),s.Ub(),s.Vb(164,"div",79),s.Vb(165,"form",80),s.cc("ngSubmit",function(){return t.submit()})("keydown.enter",function(e){return e.preventDefault()}),s.Vb(166,"textarea",81),s.cc("ngModelChange",function(){return t.condApprovetxt()}),s.Ub(),s.Bc(167,Po,3,0,"div",15),s.Ub(),s.Ub(),s.Vb(168,"div",82),s.Vb(169,"button",83),s.Dc(170,"CANCEL"),s.Ub(),s.Vb(171,"button",84),s.cc("click",function(){return t.condApprove()}),s.Dc(172,"SAVE"),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Qb(173,"button",85),s.Vb(174,"div",86,87),s.Vb(176,"div",88),s.Vb(177,"div",75),s.Vb(178,"div",76),s.Vb(179,"h6",89),s.Dc(180,"Application incomplete alert"),s.Ub(),s.Qb(181,"button",78),s.Ub(),s.Vb(182,"div",90),s.Vb(183,"small"),s.Dc(184,"Application section is incomplete. Please review and ensure all the required fields are filled."),s.Ub(),s.Ub(),s.Vb(185,"div",91),s.Vb(186,"button",83),s.Dc(187,"CLOSE"),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Qb(188,"button",92),s.Vb(189,"div",93,94),s.Vb(191,"div",88),s.Vb(192,"div",75),s.Vb(193,"div",76),s.Vb(194,"h6",89),s.Dc(195,"Messer"),s.Ub(),s.Qb(196,"button",78),s.Ub(),s.Vb(197,"div",90),s.Vb(198,"small"),s.Dc(199,"Are you sure you want to submit the application?"),s.Ub(),s.Ub(),s.Vb(200,"div",91),s.Vb(201,"button",95),s.cc("click",function(){return t.submit()}),s.Dc(202,"YES"),s.Ub(),s.Vb(203,"button",83),s.Dc(204,"NO"),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Qb(205,"button",96),s.Vb(206,"div",97,98),s.Vb(208,"div",88),s.Vb(209,"div",75),s.Vb(210,"div",76),s.Vb(211,"h6",89),s.Dc(212,"Messer"),s.Ub(),s.Qb(213,"button",78),s.Ub(),s.Vb(214,"div",90),s.Vb(215,"p"),s.Dc(216),s.Ub(),s.Ub(),s.Vb(217,"div",91),s.Vb(218,"button",95),s.cc("click",function(){return t.submit()}),s.Dc(219,"YES"),s.Ub(),s.Vb(220,"button",83),s.Dc(221,"NO"),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub()),2&e&&(s.mc("formGroup",t.financialinfoForm)("ngClass",s.pc(76,jo,1==t.showdisabled)),s.Db(20),s.mc("ngIf",(t.f.is_Independent_CPA.touched||t.submitted)&&t.f.is_Independent_CPA.errors),s.Db(1),s.mc("ngClass",s.pc(78,jo,!0===t.showdisabled||"no"==t.f.is_Independent_CPA.value)),s.Db(4),s.mc("ngIf","yes"==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.is_Independent_CPA)),s.Db(3),s.mc("ngClass",s.pc(80,Ao,t.submitted&&t.f.cpa_auditReviewed.errors)),s.Eb("disabled","no"==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.is_Independent_CPA)?"":null),s.Db(1),s.mc("ngClass",s.pc(82,jo,!0===t.showdisabled||"no"==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.is_Independent_CPA))),s.Db(2),s.mc("ngIf","yes"==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.is_Independent_CPA)&&(t.f.cpa_auditReviewed.touched||t.submitted)&&t.f.cpa_auditReviewed.errors),s.Db(1),s.mc("ngIf",null==t.spinner?null:t.spinner.cpaSpinner),s.Db(1),s.mc("ngForOf",t.cpaAttachment),s.Db(1),s.mc("ngClass",s.pc(84,jo,!0===t.showdisabled||"no"!=t.f.is_Independent_CPA.value)),s.Db(4),s.mc("ngIf","no"==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.is_Independent_CPA)),s.Db(3),s.mc("ngClass",s.pc(86,Ao,t.submitted&&t.f.internal_Balance_Upload.errors)),s.Eb("disabled","no"!=(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.is_Independent_CPA)?"":null),s.Db(1),s.mc("ngClass",s.pc(88,jo,!0===t.showdisabled||"no"!=(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.is_Independent_CPA))),s.Db(2),s.mc("ngIf",(t.f.internal_Balance_Upload.touched||t.submitted)&&t.f.internal_Balance_Upload.errors),s.Db(1),s.mc("ngIf",null==t.spinner?null:t.spinner.balanceSpinner),s.Db(1),s.mc("ngForOf",t.balancesheetAttachment),s.Db(1),s.mc("ngClass",s.pc(90,jo,!0===t.showdisabled||"no"!==t.f.is_Independent_CPA.value)),s.Db(4),s.mc("ngIf","no"==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.is_Independent_CPA)),s.Db(3),s.mc("ngClass",s.pc(92,Ao,t.submitted&&t.f.internal_Profit_Upload.errors)),s.Eb("disabled","no"!=(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.is_Independent_CPA)?"":null),s.Db(1),s.mc("ngClass",s.pc(94,jo,!0===t.showdisabled||"no"!==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.is_Independent_CPA))),s.Db(2),s.mc("ngIf",(t.f.internal_Profit_Upload.touched||t.submitted)&&t.f.internal_Profit_Upload.errors),s.Db(1),s.mc("ngIf",null==t.spinner?null:t.spinner.lossSpinner),s.Db(1),s.mc("ngForOf",t.profitlossAttachment),s.Db(21),s.mc("ngIf",(t.f.iS_Extended_Credit.touched||t.submitted)&&t.f.iS_Extended_Credit.errors),s.Db(1),s.mc("ngClass",s.pc(96,jo,!0===t.showdisabled||"no"==t.f.iS_Extended_Credit.value)),s.Db(4),s.mc("ngIf","yes"==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.iS_Extended_Credit)),s.Db(2),s.mc("ngClass",s.pc(98,Ao,t.submitted&&t.f.appr_CreditValue.errors)),s.Eb("disabled","no"==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.iS_Extended_Credit)?"":null),s.Db(1),s.mc("ngIf",(t.submitted||t.f.appr_CreditValue.touched)&&t.f.appr_CreditValue.errors),s.Db(1),s.mc("ngClass",s.pc(100,jo,"no"==t.f.iS_Extended_Credit.value)),s.Db(4),s.mc("ngIf","yes"==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.iS_Extended_Credit)),s.Db(2),s.mc("ngClass",s.pc(102,Ao,t.submitted&&t.f.appr_CreditValue_Used.errors)),s.Eb("disabled","no"==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.iS_Extended_Credit)?"":null),s.Db(1),s.mc("ngIf",(t.submitted||t.f.appr_CreditValue_Used.touched)&&t.f.appr_CreditValue_Used.errors),s.Db(1),s.mc("ngClass",s.pc(104,jo,"no"==t.f.iS_Extended_Credit.value)),s.Db(4),s.mc("ngIf","yes"==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.iS_Extended_Credit)),s.Db(2),s.mc("ngClass",s.pc(106,Ao,t.submitted&&t.f.bank_Name.errors)),s.Eb("disabled","no"==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.iS_Extended_Credit)?"":null),s.Db(1),s.mc("ngIf",(t.submitted||t.f.bank_Name.touched)&&t.f.bank_Name.errors),s.Db(1),s.mc("ngClass",s.pc(108,jo,"no"==t.f.iS_Extended_Credit.value)),s.Db(4),s.mc("ngIf","yes"==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.iS_Extended_Credit)),s.Db(2),s.mc("ngClass",s.pc(110,Ao,t.submitted&&t.f.bank_Contact_Personnnel.errors)),s.Eb("disabled","no"==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.iS_Extended_Credit)?"":null),s.Db(1),s.mc("ngIf",t.submitted&&t.f.bank_Contact_Personnnel.errors),s.Db(1),s.mc("ngClass",s.pc(112,jo,"no"==t.f.iS_Extended_Credit.value)),s.Db(4),s.mc("ngIf","yes"==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.iS_Extended_Credit)),s.Db(2),s.mc("ngClass",s.pc(114,Ao,t.submitted&&t.f.bank_Contact_email.errors)),s.Eb("disabled","no"==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.iS_Extended_Credit)?"":null),s.Db(1),s.mc("ngIf",t.submitted&&t.f.bank_Contact_email.errors),s.Db(1),s.mc("ngClass",s.pc(116,jo,"no"==t.f.iS_Extended_Credit.value)),s.Db(4),s.mc("ngIf","yes"==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.iS_Extended_Credit)),s.Db(2),s.mc("ngClass",s.pc(118,Ao,t.submitted&&t.f.bank_Contact_phone.errors)),s.Eb("disabled","no"==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.iS_Extended_Credit)?"":null),s.Db(1),s.mc("ngIf",t.submitted&&t.f.bank_Contact_phone.errors),s.Db(10),s.mc("ngClass",s.pc(120,Ao,t.submitted&&t.f.WIP_Upload.errors)),s.Db(1),s.mc("ngClass",s.pc(122,jo,!0===t.showdisabled)),s.Db(2),s.mc("ngIf",null==t.spinner?null:t.spinner.wipSpinner),s.Db(1),s.mc("ngForOf",t.wipAttachment),s.Db(1),s.mc("ngIf",t.submitted&&t.f.WIP_Upload.errors),s.Db(4),s.mc("ngClass",s.pc(124,jo,t.showdisabled))("ngStyle",s.pc(126,Oo,t.showdisabled?"none":"auto")),s.Db(2),s.mc("ngIf","Subcontractor"!=t.userRole&&(null==t.getriskrecords?null:t.getriskrecords.length)>0),s.Db(1),s.mc("ngIf","Subcontractor"!=t.userRole&&t.showrisk1status&&(null==t.getrisk2records?null:t.getrisk2records.length)>0),s.Db(1),s.mc("ngIf",!(t.showAdmin||t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status)),s.Db(1),s.mc("ngIf",!t.showAdmin&&t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status||t.showAdmin),s.Db(1),s.mc("ngIf",!t.showAdmin&&t.prequalification_status&&"In-Progress"!=t.prequalification_status||t.showAdmin),s.Db(1),s.mc("ngIf","Subcontractor"!=t.userRole&&"Prequal form submitted and under quality check"!=t.prequalification_status),s.Db(11),s.mc("formGroup",t.financialinfoForm),s.Db(1),s.mc("ngClass",s.pc(128,Ao,t.rejecionrequired)),s.Eb("disable",!1),s.Db(1),s.mc("ngIf",t.rejecionrequired),s.Db(49),s.Ec(t.previewimgurl))},directives:[n.v,n.k,n.g,o.j,n.q,n.b,n.j,n.f,o.l,o.k,n.p,y,o.m,P.a,G],pipes:[o.e],styles:[".form-group[_ngcontent-%COMP%]{margin:15px 0}input[type=file][_ngcontent-%COMP%]{width:90px;color:transparent}.form-control-customitem[_ngcontent-%COMP%]{width:98%;cursor:pointer}.form-control-customitem[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer}.record-shadow[_ngcontent-%COMP%]{border:1px solid #ddd;box-shadow:0 .5rem 1rem rgba(0,0,0,.15)!important}.border[_ngcontent-%COMP%]{border:4px solid hsla(0,0%,86.7%,.6196078431372549)!important}.col-curve-top[_ngcontent-%COMP%]{border-top:6px solid #c3bdbd!important}.col-curve[_ngcontent-%COMP%], .col-curve-top[_ngcontent-%COMP%]{border-radius:18px 19px!important}.wip-bottom[_ngcontent-%COMP%]{position:relative;bottom:-8px}h6[_ngcontent-%COMP%]{font-size:13px!important}.bg-grey[_ngcontent-%COMP%]{color:#c7bfbf!important}"]}),e})(),Mo=(()=>{class e extends A.a{constructor(e,t){super("safety",e,t,{root:j.a.webserviceURlLocal})}getAll(){return super.getAll()}getRecord(e){let t={Screen_ID:e,Screen_Type:"Safety"};const i={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")},body:t},o=this.httpUrlGenerator.entityResource("Files/"+e+"?Screen_Type=Safety",j.a.webserviceURlLocal);return this.http.get(o,i)}deleteRecord(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.delete(j.a.webserviceURlLocal+"Files/"+e,t)}getRecords(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("Safety/"+e,j.a.webserviceURlLocal);return this.http.get(i,t)}updateRecord(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("Safety",j.a.webserviceURlLocal)+t;return this.http.put(o,e,i)}addRecord(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("Safety",j.a.webserviceURlLocal);return this.http.post(i,e,t)}getUser(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("Organization/"+e+"/"+t,j.a.webserviceURlLocal);return this.http.get(o,i)}getComplete(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("Organization/Getstatus/"+e,j.a.webserviceURlLocal);return this.http.get(i,t)}}return e.\u0275fac=function(t){return new(t||e)(s.Zb(O.b),s.Zb(A.c))},e.\u0275prov=s.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),No=(()=>{class e extends A.a{constructor(e,t){super("safetycomment",e,t,{root:j.a.webserviceURlLocal})}getAll(){return super.getAll()}getRecord(e){let t={Screen_ID:e,Screen_Type:"safetycomments"};const i={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")},body:t},o=this.httpUrlGenerator.entityResource("Files/"+e+"?Screen_Type=safetycomments",j.a.webserviceURlLocal);return this.http.get(o,i)}deleteRecord(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.delete(j.a.webserviceURlLocal+"Files/"+e,t)}getRecords(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("Safety/"+e,j.a.webserviceURlLocal);return this.http.get(i,t)}updateRecord(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("safetycomment",j.a.webserviceURlLocal)+t;return this.http.put(o,e,i)}addRecord(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("safetycomment",j.a.webserviceURlLocal);return this.http.post(i,e,t)}getUser(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("Organization/"+e+"/"+t,j.a.webserviceURlLocal);return this.http.get(o,i)}getComplete(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("Organization/Getstatus/"+e,j.a.webserviceURlLocal);return this.http.get(i,t)}}return e.\u0275fac=function(t){return new(t||e)(s.Zb(O.b),s.Zb(A.c))},e.\u0275prov=s.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Bo(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Safety Officer is required "),s.Ub())}function qo(e,t){if(1&e&&(s.Vb(0,"div",32),s.Bc(1,Bo,2,0,"div",33),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.safety_officer.errors.required)}}function To(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Safety Program is required "),s.Ub())}function Lo(e,t){if(1&e&&(s.Vb(0,"div",32),s.Bc(1,To,2,0,"div",33),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.safety_program.errors.required)}}function Yo(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Drug & Alcohol Policy is required "),s.Ub())}function zo(e,t){if(1&e&&(s.Vb(0,"div",32),s.Bc(1,Yo,2,0,"div",33),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.drug_alcohol.errors.required)}}function Go(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Current Year is required "),s.Ub())}function Qo(e,t){if(1&e&&(s.Vb(0,"div",32),s.Bc(1,Go,2,0,"div",33),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.emr_currentyear.errors.required)}}function $o(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Last Year is required "),s.Ub())}function Wo(e,t){if(1&e&&(s.Vb(0,"div",32),s.Bc(1,$o,2,0,"div",33),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.emr_lastyear.errors.required)}}function Ho(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Last Year is required "),s.Ub())}function Zo(e,t){if(1&e&&(s.Vb(0,"div",32),s.Bc(1,Ho,2,0,"div",33),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.emr_twoyear.errors.required)}}function Ko(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Last Year is required "),s.Ub())}function Jo(e,t){if(1&e&&(s.Vb(0,"div",32),s.Bc(1,Ko,2,0,"div",33),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.trir_lastyear.errors.required)}}function Xo(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Two Years Ago is required "),s.Ub())}function en(e,t){if(1&e&&(s.Vb(0,"div",32),s.Bc(1,Xo,2,0,"div",33),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.trir_twoyear.errors.required)}}function tn(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Three Years Ago is required "),s.Ub())}function on(e,t){if(1&e&&(s.Vb(0,"div",32),s.Bc(1,tn,2,0,"div",33),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.trir_threeyear.errors.required)}}function nn(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Safety Grade is required "),s.Ub())}function rn(e,t){if(1&e&&(s.Vb(0,"div",32),s.Bc(1,nn,2,0,"div",33),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.grade_safety.errors.required)}}function an(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Comments is required "),s.Ub())}function sn(e,t){if(1&e&&(s.Vb(0,"div",32),s.Bc(1,an,2,0,"div",33),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.comment.errors.required)}}function cn(e,t){1&e&&(s.Vb(0,"div",34),s.Vb(1,"span"),s.Dc(2,"Uploading..."),s.Ub(),s.Qb(3,"mat-progress-spinner",35),s.Ub())}function ln(e,t){if(1&e&&(s.Vb(0,"div"),s.Vb(1,"p",36),s.Vb(2,"small"),s.Vb(3,"a",37),s.Dc(4),s.Ub(),s.Ub(),s.Ub(),s.Ub()),2&e){const e=t.$implicit;s.Db(3),s.nc("href",e.file_Path,s.wc),s.Db(1),s.Ec(e.name)}}const dn=function(e){return{"is-invalid":e}};let un=(()=>{class e{constructor(e,t,i){this.fb=e,this.safetycommentservice=t,this.financialservice=i,this.companyId=0,this.formId=0,this.attachment=[],this.safety_Calcuate="",this.commentForm=this.fb.group({id:[0],CompanyId:[""],safety_officer:["",n.u.required],safety_program:["",n.u.required],drug_alcohol:["",n.u.required],emr_currentyear:["",n.u.required],emr_lastyear:["",n.u.required],emr_twoyear:["",n.u.required],trir_lastyear:["",n.u.required],trir_twoyear:["",n.u.required],trir_threeyear:["",n.u.required],grade_safety:["",n.u.required],grade_value:[],comment:["",n.u.required],overallNotes:[""],attachment:[""]}),this.spinner={bondingSpinner:!1},this.submitted=!1}ngOnInit(){}get f(){return this.commentForm.controls}safetygradecalculation(){this.safety_Calcuate="3.5"}qcpUpload(e){let t=document.getElementById("attachment");for(let i=0;i<t.files.length;i++)this.attachment.push(t.files[i])}filepreview(e,t){var i=new FileReader;i.onload=i=>{let o=new Blob(e.files,{type:e.files[t].type});var n=(window.URL||window.webkitURL).createObjectURL(o),r=document.createElement("a"),a=document.createTextNode("View File");r.target="_blank",r.appendChild(a),r.href=n,r.click(),e.appendChild(r)},i.readAsDataURL(e.files[t])}formMethod(){var e=new FormData;e.append("companyId",this.companyId),e.append("safetyId",this.formId),e.append("safety_officer",this.commentForm.value.safety_officer),e.append("safety_program",this.commentForm.value.safety_program),e.append("drug_alcohol",this.commentForm.value.drug_alcohol),e.append("emr_currentyear",this.commentForm.value.emr_currentyear),e.append("emr_lastyear",this.commentForm.value.emr_lastyear),e.append("emr_twoyear",this.commentForm.value.emr_twoyear),e.append("trir_lastyear",this.commentForm.value.trir_lastyear),e.append("trir_twoyear",this.commentForm.value.trir_twoyear),e.append("trir_threeyear",this.commentForm.value.trir_threeyear),e.append("grade_safety",this.commentForm.value.grade_safety),e.append("grade_value",this.commentForm.value.grade_value),e.append("comment",this.commentForm.value.comment),e.append("overallNotes",this.commentForm.value.overallNotes);for(let t=0;t<this.attachment.length;t++)e.append("attachment",this.attachment[t]);return e}commentsubmit(){this.submitted=!0;let e=this.formMethod();this.safetycommentservice.addRecord(e).subscribe(e=>{})}commentFinalsubmit(){this.submitted=!0;let e=this.formMethod();this.safetycommentservice.addRecord(e).subscribe(e=>{let t=new FormData;t.append("PreQualification_Status","Safety Reviewed"),t.append("Approved_Date",(new Date).toLocaleString()),this.financialservice.updateOrgRecord(t,this.companyId).subscribe(e=>{})})}}return e.\u0275fac=function(t){return new(t||e)(s.Pb(n.d),s.Pb(No),s.Pb(Ii))},e.\u0275cmp=s.Jb({type:e,selectors:[["app-safetycomment"]],inputs:{companyId:"companyId",formId:"formId"},decls:168,vars:21,consts:[[1,"section"],[1,"bgyellow"],[1,"comment-section"],[1,"form",3,"formGroup","ngSubmit","keydown.enter"],[1,"table"],["formControlName","safety_officer",1,"form-select"],["class","invalid-feedback",4,"ngIf"],["formControlName","safety_program",1,"form-select"],["formControlName","drug_alcohol",1,"form-select"],[1,"font-bold"],["formControlName","emr_currentyear",1,"form-control"],["rowspan","3"],["formControlName","emr_lastyear",1,"form-control"],["formControlName","emr_twoyear",1,"form-control"],["formControlName","trir_lastyear",1,"form-control"],["formControlName","trir_twoyear",1,"form-control"],["formControlName","trir_threeyear",1,"form-control"],[1,"btn","default-btn",3,"click"],["formControlName","grade_safety",1,"form-select"],[1,"row"],["for","is_Surety_Bond",1,"my-auto1","fw-bold"],["formControlName","comment","id","comment","name","comment",1,"form-control","rowform",3,"ngClass"],["formControlName","overallNotes","id","comment","name","overallNotes",1,"form-control","rowform"],[1,"my-auto1"],[1,"form-control-customitem","form-control","rowform"],["type","file","title","Choose file","formControlName","attachment","id","attachment","name","attachment","multiple","",3,"ngClass","change"],["for","attachment"],["class","spinner__loading pt-3",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"text-left","col-md-6"],[1,"btn","default-btn"],[1,"col-md-6","text-end"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner__loading","pt-3"],["diameter","18","mode","indeterminate",1,"mt-1"],[1,"file-tag"],["target","_blank",3,"href"]],template:function(e,t){1&e&&(s.Vb(0,"div",0),s.Vb(1,"div"),s.Vb(2,"span",1),s.Dc(3,"SAFETY REVIEW \u2013 Info entered on this page will sent to Risk and be a part of the prequalification review"),s.Ub(),s.Ub(),s.Vb(4,"div",2),s.Vb(5,"form",3),s.cc("ngSubmit",function(){return t.commentsubmit()})("keydown.enter",function(e){return e.preventDefault()}),s.Vb(6,"table",4),s.Vb(7,"tr"),s.Vb(8,"td"),s.Dc(9,"Safety Officer"),s.Vb(10,"span"),s.Dc(11,"*"),s.Ub(),s.Ub(),s.Vb(12,"td"),s.Vb(13,"select",5),s.Vb(14,"option"),s.Dc(15,"Approved"),s.Ub(),s.Vb(16,"option"),s.Dc(17,"Conditional"),s.Ub(),s.Vb(18,"option"),s.Dc(19,"Not Approved"),s.Ub(),s.Ub(),s.Bc(20,qo,2,1,"div",6),s.Ub(),s.Qb(21,"td"),s.Ub(),s.Vb(22,"tr"),s.Vb(23,"td"),s.Dc(24,"Safety Program"),s.Vb(25,"span"),s.Dc(26,"*"),s.Ub(),s.Ub(),s.Vb(27,"td"),s.Vb(28,"select",7),s.Vb(29,"option"),s.Dc(30,"Approved"),s.Ub(),s.Vb(31,"option"),s.Dc(32,"Conditional"),s.Ub(),s.Vb(33,"option"),s.Dc(34,"Not Approved"),s.Ub(),s.Ub(),s.Bc(35,Lo,2,1,"div",6),s.Ub(),s.Qb(36,"td"),s.Ub(),s.Vb(37,"tr"),s.Vb(38,"td"),s.Dc(39,"Drug & Alcohol Policy"),s.Vb(40,"span"),s.Dc(41,"*"),s.Ub(),s.Ub(),s.Vb(42,"td"),s.Vb(43,"select",8),s.Vb(44,"option"),s.Dc(45,"Approved"),s.Ub(),s.Vb(46,"option"),s.Dc(47,"Conditional"),s.Ub(),s.Vb(48,"option"),s.Dc(49,"Not Approved"),s.Ub(),s.Ub(),s.Bc(50,zo,2,1,"div",6),s.Ub(),s.Qb(51,"td"),s.Ub(),s.Ub(),s.Vb(52,"table",4),s.Vb(53,"tr"),s.Vb(54,"td",9),s.Dc(55,"EMR Records"),s.Ub(),s.Qb(56,"td"),s.Vb(57,"td"),s.Dc(58,"EMR Calculation"),s.Ub(),s.Ub(),s.Vb(59,"tr"),s.Vb(60,"td"),s.Dc(61,"Current Year "),s.Vb(62,"span"),s.Dc(63,"*"),s.Ub(),s.Ub(),s.Vb(64,"td"),s.Qb(65,"input",10),s.Bc(66,Qo,2,1,"div",6),s.Ub(),s.Qb(67,"td",11),s.Ub(),s.Vb(68,"tr"),s.Vb(69,"td"),s.Dc(70,"Last Year "),s.Vb(71,"span"),s.Dc(72,"*"),s.Ub(),s.Ub(),s.Vb(73,"td"),s.Qb(74,"input",12),s.Bc(75,Wo,2,1,"div",6),s.Ub(),s.Ub(),s.Vb(76,"tr"),s.Vb(77,"td"),s.Dc(78,"Two Years Ago "),s.Vb(79,"span"),s.Dc(80,"*"),s.Ub(),s.Ub(),s.Vb(81,"td"),s.Qb(82,"input",13),s.Bc(83,Zo,2,1,"div",6),s.Ub(),s.Ub(),s.Ub(),s.Vb(84,"table",4),s.Vb(85,"tr"),s.Vb(86,"td",9),s.Dc(87,"TRIR Information"),s.Ub(),s.Qb(88,"td"),s.Vb(89,"td"),s.Dc(90,"TRIR Calculation"),s.Ub(),s.Ub(),s.Vb(91,"tr"),s.Vb(92,"td"),s.Dc(93,"Last Year "),s.Vb(94,"span"),s.Dc(95,"*"),s.Ub(),s.Ub(),s.Vb(96,"td"),s.Qb(97,"input",14),s.Bc(98,Jo,2,1,"div",6),s.Ub(),s.Qb(99,"td",11),s.Ub(),s.Vb(100,"tr"),s.Vb(101,"td"),s.Dc(102,"Two Years Ago "),s.Vb(103,"span"),s.Dc(104,"*"),s.Ub(),s.Ub(),s.Vb(105,"td"),s.Qb(106,"input",15),s.Bc(107,en,2,1,"div",6),s.Ub(),s.Ub(),s.Vb(108,"tr"),s.Vb(109,"td"),s.Dc(110,"Three Years Ago "),s.Vb(111,"span"),s.Dc(112,"*"),s.Ub(),s.Ub(),s.Vb(113,"td"),s.Qb(114,"input",16),s.Bc(115,on,2,1,"div",6),s.Ub(),s.Ub(),s.Ub(),s.Vb(116,"table",4),s.Vb(117,"tr"),s.Vb(118,"td",9),s.Dc(119,"Safety Score \u2013 All above info is mandatory for calculation"),s.Ub(),s.Vb(120,"td"),s.Dc(121,"Calculated Safety Grade"),s.Ub(),s.Vb(122,"td"),s.Dc(123,"Safety Grade by Safety "),s.Vb(124,"span"),s.Dc(125,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(126,"tr"),s.Vb(127,"td"),s.Vb(128,"button",17),s.cc("click",function(){return t.safetygradecalculation()}),s.Dc(129,"Calculated Safety Grade"),s.Ub(),s.Ub(),s.Vb(130,"td"),s.Dc(131),s.Ub(),s.Vb(132,"td"),s.Vb(133,"select",18),s.Vb(134,"option"),s.Dc(135,"A"),s.Ub(),s.Vb(136,"option"),s.Dc(137,"B"),s.Ub(),s.Vb(138,"option"),s.Dc(139,"C"),s.Ub(),s.Vb(140,"option"),s.Dc(141,"D"),s.Ub(),s.Ub(),s.Bc(142,rn,2,1,"div",6),s.Ub(),s.Ub(),s.Ub(),s.Vb(143,"div",19),s.Vb(144,"h6",20),s.Dc(145,"Reason for change of Safety Grade*"),s.Ub(),s.Qb(146,"textarea",21),s.Bc(147,sn,2,1,"div",6),s.Ub(),s.Vb(148,"div",19),s.Vb(149,"h6",20),s.Dc(150,"Overall Safety Notes"),s.Ub(),s.Qb(151,"textarea",22),s.Ub(),s.Vb(152,"div",19),s.Vb(153,"label",23),s.Dc(154,"Additional Attachment "),s.Ub(),s.Vb(155,"div",24),s.Vb(156,"input",25),s.cc("change",function(e){return t.qcpUpload(e)}),s.Ub(),s.Vb(157,"span",26),s.Dc(158,' \xa0Choose Files with "Click to Add Files"'),s.Ub(),s.Bc(159,cn,4,0,"div",27),s.Bc(160,ln,5,2,"div",28),s.Ub(),s.Ub(),s.Vb(161,"div",19),s.Vb(162,"div",29),s.Vb(163,"button",30),s.Dc(164,"Save "),s.Ub(),s.Ub(),s.Vb(165,"div",31),s.Vb(166,"button",17),s.cc("click",function(){return t.commentFinalsubmit()}),s.Dc(167,"Approve & Send to Risk "),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub()),2&e&&(s.Db(5),s.mc("formGroup",t.commentForm),s.Db(15),s.mc("ngIf",t.submitted&&t.f.safety_officer.errors),s.Db(15),s.mc("ngIf",t.submitted&&t.f.safety_program.errors),s.Db(15),s.mc("ngIf",t.submitted&&t.f.drug_alcohol.errors),s.Db(16),s.mc("ngIf",t.submitted&&t.f.emr_currentyear.errors),s.Db(9),s.mc("ngIf",t.submitted&&t.f.emr_lastyear.errors),s.Db(8),s.mc("ngIf",t.submitted&&t.f.emr_twoyear.errors),s.Db(15),s.mc("ngIf",t.submitted&&t.f.trir_lastyear.errors),s.Db(9),s.mc("ngIf",t.submitted&&t.f.trir_twoyear.errors),s.Db(8),s.mc("ngIf",t.submitted&&t.f.trir_threeyear.errors),s.Db(16),s.Ec(t.safety_Calcuate),s.Db(11),s.mc("ngIf",t.submitted&&t.f.grade_safety.errors),s.Db(4),s.mc("ngClass",s.pc(17,dn,t.submitted&&t.f.comment.errors)),s.Db(1),s.mc("ngIf",t.submitted&&t.f.comment.errors),s.Db(9),s.mc("ngClass",s.pc(19,dn,t.submitted&&t.f.attachment.errors)),s.Db(3),s.mc("ngIf",null==t.spinner?null:t.spinner.bondingSpinner),s.Db(1),s.mc("ngForOf",t.attachment))},directives:[n.v,n.k,n.g,n.t,n.j,n.f,n.n,n.w,o.l,n.b,o.j,o.k,P.a],styles:[".table[_ngcontent-%COMP%]{width:95%;margin:10px auto;border-top:1px solid #ccc;border-right:1px solid #ccc}.table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px;border-bottom:1px solid #ccc;border-left:1px solid #ccc;width:33%;font-style:italic!important;font-weight:600;font-size:13px}.section[_ngcontent-%COMP%]{margin:-14px auto 0;padding:10px;width:99%;background-color:#fff}.comment-section[_ngcontent-%COMP%]{width:95%;padding:0 10px 10px;margin:10px auto;background-color:#fff;border-radius:12px}.form[_ngcontent-%COMP%]{margin:10px;padding:10px 0}.row[_ngcontent-%COMP%]{margin:15px 0 15px 5px;width:97%}.my-auto1[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]{font-style:italic!important;font-weight:600}.my-auto1[_ngcontent-%COMP%]{margin:0 10px;font-size:13px!important}.rowform[_ngcontent-%COMP%]{margin-left:18px;margin-top:5px;width:98%}.bgyellow[_ngcontent-%COMP%]{background-color:#ff0;height:20px;font-weight:700;padding:5px 10px}.font-bold[_ngcontent-%COMP%]{font-weight:700;font-style:italic!important;font-weight:600;font-size:15px}.table[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:last-child) > [_ngcontent-%COMP%]:last-child > *[_ngcontent-%COMP%]{border-bottom-color:#fff}"]}),e})();function bn(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Supplier is required"),s.Ub())}function pn(e,t){if(1&e&&(s.Vb(0,"div",121),s.Bc(1,bn,2,0,"div",120),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.is_Supplier.errors.required)}}const mn=function(e){return{"bg-grey":e}};function fn(e,t){if(1&e&&(s.Vb(0,"div",122),s.Vb(1,"small",123),s.Dc(2,"As a supplier, you are not required to complete this section. Please move to the NEXT section."),s.Ub(),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngClass",s.pc(1,mn,1==e.showdisabled))}}function hn(e,t){1&e&&(s.Vb(0,"span",9),s.Dc(1,"*"),s.Ub())}function gn(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Safety officer/safety department is required"),s.Ub())}function _n(e,t){if(1&e&&(s.Vb(0,"div",121),s.Bc(1,gn,2,0,"div",120),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.is_Safety_Officer.errors.required)}}function vn(e,t){1&e&&(s.Vb(0,"span",9),s.Dc(1,"*"),s.Ub())}function yn(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Safety officer name is required "),s.Ub())}function Vn(e,t){if(1&e&&(s.Vb(0,"div",121),s.Bc(1,yn,2,0,"div",120),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.safety_Officer_Name.errors.required)}}function Un(e,t){1&e&&(s.Vb(0,"span",9),s.Dc(1,"*"),s.Ub())}function Dn(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Safety officer phone is required "),s.Ub())}function Cn(e,t){if(1&e&&(s.Vb(0,"div",121),s.Bc(1,Dn,2,0,"div",120),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.safety_Officer_Phone.errors.required)}}function In(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Extention is required "),s.Ub())}function Rn(e,t){if(1&e&&(s.Vb(0,"div",121),s.Bc(1,In,2,0,"div",120),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.safety_Officer_Phone_Ext.errors.required)}}function wn(e,t){1&e&&(s.Vb(0,"span",9),s.Dc(1,"*"),s.Ub())}function Fn(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Safety officer email is required "),s.Ub())}function Sn(e,t){if(1&e&&(s.Vb(0,"div",121),s.Bc(1,Fn,2,0,"div",120),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.safety_Officer_Email.errors.required)}}function kn(e,t){1&e&&(s.Vb(0,"span",9),s.Dc(1,"*"),s.Ub())}function xn(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Safety program is required"),s.Ub())}function Pn(e,t){if(1&e&&(s.Vb(0,"div",121),s.Bc(1,xn,2,0,"div",120),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.is_Safety_Program.errors.required)}}function jn(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Safety program attachment is required"),s.Ub())}function An(e,t){if(1&e&&(s.Vb(0,"div",121),s.Bc(1,jn,2,0,"div",120),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.safety_Program_Upload.errors.required)}}function On(e,t){1&e&&(s.Vb(0,"div",124),s.Vb(1,"span"),s.Dc(2,"Uploading..."),s.Ub(),s.Qb(3,"mat-progress-spinner",125),s.Ub())}function En(e,t){if(1&e){const e=s.Wb();s.Vb(0,"div"),s.Vb(1,"p",126),s.Vb(2,"small"),s.Vb(3,"a",127),s.Dc(4),s.Ub(),s.Ub(),s.Vb(5,"small",128),s.cc("click",function(){s.uc(e);const i=t.index,o=t.$implicit;return s.gc().removesafetyProgramFile(i,o)}),s.Dc(6,"X"),s.Ub(),s.Ub(),s.Ub()}if(2&e){const e=t.$implicit;s.Db(3),s.nc("href",e.file_Path,s.wc),s.Db(1),s.Ec(e.name)}}function Mn(e,t){1&e&&(s.Vb(0,"span",9),s.Dc(1,"*"),s.Ub())}function Nn(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Drug and alcohol testing policy is required"),s.Ub())}function Bn(e,t){if(1&e&&(s.Vb(0,"div",121),s.Bc(1,Nn,2,0,"div",120),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.is_Drug_Testing_Policy.errors.required)}}function qn(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Attachment is required"),s.Ub())}function Tn(e,t){if(1&e&&(s.Vb(0,"div",121),s.Bc(1,qn,2,0,"div",120),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.drug_Testing_Upload.errors.required)}}function Ln(e,t){1&e&&(s.Vb(0,"div",124),s.Vb(1,"span"),s.Dc(2,"Uploading..."),s.Ub(),s.Qb(3,"mat-progress-spinner",125),s.Ub())}function Yn(e,t){if(1&e){const e=s.Wb();s.Vb(0,"div"),s.Vb(1,"p",126),s.Vb(2,"small"),s.Vb(3,"a",127),s.Dc(4),s.Ub(),s.Ub(),s.Vb(5,"small",128),s.cc("click",function(){s.uc(e);const i=t.index,o=t.$implicit;return s.gc().removesafetyofficerFile(i,o)}),s.Dc(6,"X"),s.Ub(),s.Ub(),s.Ub()}if(2&e){const e=t.$implicit;s.Db(3),s.nc("href",e.file_Path,s.wc),s.Db(1),s.Ec(e.name)}}function zn(e,t){1&e&&(s.Vb(0,"span",9),s.Dc(1,"*"),s.Ub())}function Gn(e,t){1&e&&(s.Vb(0,"span",9),s.Dc(1,"*"),s.Ub())}function Qn(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Last year TRIR is required"),s.Ub())}function $n(e,t){if(1&e&&(s.Vb(0,"div",121),s.Bc(1,Qn,2,0,"div",120),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.triR_Info_LastYear.errors.required)}}function Wn(e,t){1&e&&(s.Vb(0,"span",9),s.Dc(1,"*"),s.Ub())}function Hn(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Two years TRIR is required"),s.Ub())}function Zn(e,t){if(1&e&&(s.Vb(0,"div",121),s.Bc(1,Hn,2,0,"div",120),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.triR_Info_TwoYears.errors.required)}}function Kn(e,t){1&e&&(s.Vb(0,"span",9),s.Dc(1,"*"),s.Ub())}function Jn(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Three years TRIR is required "),s.Ub())}function Xn(e,t){if(1&e&&(s.Vb(0,"div",121),s.Bc(1,Jn,2,0,"div",120),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.triR_Info_ThreeYears.errors.required)}}function er(e,t){1&e&&(s.Vb(0,"span",9),s.Dc(1,"*"),s.Ub())}function tr(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Employees count is required "),s.Ub())}function ir(e,t){if(1&e&&(s.Vb(0,"div",121),s.Bc(1,tr,2,0,"div",120),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.number_Of_Employees.errors.required)}}function or(e,t){1&e&&(s.Vb(0,"span",9),s.Dc(1,"*"),s.Ub())}function nr(e,t){1&e&&(s.Vb(0,"div",124),s.Vb(1,"span"),s.Dc(2,"Uploading..."),s.Ub(),s.Qb(3,"mat-progress-spinner",125),s.Ub())}function rr(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Last year OSHA log is required"),s.Ub())}function ar(e,t){if(1&e&&(s.Vb(0,"div",121),s.Bc(1,rr,2,0,"div",120),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.oshA_Log_LastYear.errors.required)}}function sr(e,t){if(1&e){const e=s.Wb();s.Vb(0,"div"),s.Vb(1,"p",126),s.Vb(2,"small"),s.Vb(3,"a",127),s.Dc(4),s.Ub(),s.Ub(),s.Vb(5,"small",128),s.cc("click",function(){s.uc(e);const i=t.index,o=t.$implicit;return s.gc().removeOSHALastYearUpload(i,o)}),s.Dc(6,"X"),s.Ub(),s.Ub(),s.Ub()}if(2&e){const e=t.$implicit;s.Db(3),s.nc("href",e.file_Path,s.wc),s.Db(1),s.Ec(e.name)}}function cr(e,t){1&e&&(s.Vb(0,"span",9),s.Dc(1,"*"),s.Ub())}function lr(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"OSHA is required"),s.Ub())}function dr(e,t){if(1&e&&(s.Vb(0,"div",121),s.Bc(1,lr,2,0,"div",120),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.is_OSHA.errors.required)}}function ur(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"OSHA citation is required"),s.Ub())}function br(e,t){if(1&e&&(s.Vb(0,"div",121),s.Bc(1,ur,2,0,"div",120),s.Ub()),2&e){const e=s.gc(2);s.Db(1),s.mc("ngIf",e.f.oshA_Citation.errors.required)}}function pr(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"OSHA additional information is required"),s.Ub())}function mr(e,t){if(1&e&&(s.Vb(0,"div",121),s.Bc(1,pr,2,0,"div",120),s.Ub()),2&e){const e=s.gc(2);s.Db(1),s.mc("ngIf",e.f.oshA_AddInfo.errors.required)}}const fr=function(e){return{"is-invalid":e}};function hr(e,t){if(1&e){const e=s.Wb();s.Vb(0,"div",129),s.Vb(1,"label"),s.Dc(2,"1. How many citations? "),s.Ub(),s.Vb(3,"input",130),s.cc("ngModelChange",function(){return s.uc(e),s.gc().idleReset()}),s.Ub(),s.Bc(4,br,2,1,"div",17),s.Vb(5,"label"),s.Dc(6,"2. Additional Details"),s.Ub(),s.Vb(7,"textarea",131),s.cc("ngModelChange",function(){return s.uc(e),s.gc().idleReset()}),s.Ub(),s.Bc(8,mr,2,1,"div",17),s.Ub()}if(2&e){const e=s.gc();s.Db(3),s.mc("ngClass",s.pc(4,fr,e.submitted&&e.f.oshA_AddInfo.errors)),s.Db(1),s.mc("ngIf",e.submitted&&e.f.oshA_Citation.errors),s.Db(3),s.mc("ngClass",s.pc(6,fr,e.submitted&&e.f.oshA_AddInfo.errors)),s.Db(1),s.mc("ngIf",e.submitted&&e.f.oshA_AddInfo.errors)}}function gr(e,t){1&e&&(s.Vb(0,"span",9),s.Dc(1,"*"),s.Ub())}function _r(e,t){1&e&&(s.Vb(0,"span",9),s.Dc(1,"*"),s.Ub())}function vr(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Current year EMR is required"),s.Ub())}function yr(e,t){if(1&e&&(s.Vb(0,"div",121),s.Bc(1,vr,2,0,"div",120),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.emR_LastYear_Upload.errors.required)}}function Vr(e,t){1&e&&(s.Vb(0,"span",9),s.Dc(1,"*"),s.Ub())}function Ur(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Last year EMR is required"),s.Ub())}function Dr(e,t){if(1&e&&(s.Vb(0,"div",121),s.Bc(1,Ur,2,0,"div",120),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.emR_TwoYears_Upload.errors.required)}}function Cr(e,t){1&e&&(s.Vb(0,"span",9),s.Dc(1,"*"),s.Ub())}function Ir(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Two years EMR is required "),s.Ub())}function Rr(e,t){if(1&e&&(s.Vb(0,"div",121),s.Bc(1,Ir,2,0,"div",120),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.emR_ThreeYears_Upload.errors.required)}}function wr(e,t){1&e&&(s.Vb(0,"span",9),s.Dc(1,"*"),s.Ub())}function Fr(e,t){1&e&&(s.Vb(0,"span",9),s.Dc(1,"*"),s.Ub())}function Sr(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"EMR is required"),s.Ub())}function kr(e,t){if(1&e&&(s.Vb(0,"div",121),s.Bc(1,Sr,2,0,"div",120),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.emR_Verification_Upload.errors.required)}}function xr(e,t){1&e&&(s.Vb(0,"div",124),s.Vb(1,"span"),s.Dc(2,"Uploading..."),s.Ub(),s.Qb(3,"mat-progress-spinner",125),s.Ub())}function Pr(e,t){if(1&e){const e=s.Wb();s.Vb(0,"div"),s.Vb(1,"p",126),s.Vb(2,"small"),s.Vb(3,"a",127),s.Dc(4),s.Ub(),s.Ub(),s.Vb(5,"small",128),s.cc("click",function(){s.uc(e);const i=t.index,o=t.$implicit;return s.gc().removeemRVerificationUpload(i,o)}),s.Dc(6,"X"),s.Ub(),s.Ub(),s.Ub()}if(2&e){const e=t.$implicit;s.Db(3),s.nc("href",e.file_Path,s.wc),s.Db(1),s.Ec(e.name)}}function jr(e,t){if(1&e){const e=s.Wb();s.Vb(0,"div",132),s.Vb(1,"button",133),s.cc("click",function(){return s.uc(e),s.gc().gotoHome()}),s.Dc(2," << BACK"),s.Ub(),s.Vb(3,"button",134),s.cc("click",function(){return s.uc(e),s.gc().save()}),s.Dc(4),s.Ub(),s.Vb(5,"button",135),s.Dc(6,"NEXT >>"),s.Ub(),s.Ub()}if(2&e){const e=s.gc();s.Db(4),s.Ec(e.submitText)}}function Ar(e,t){if(1&e){const e=s.Wb();s.Vb(0,"div",136),s.Vb(1,"button",133),s.cc("click",function(){return s.uc(e),s.gc().gotoHome()}),s.Dc(2," << BACK"),s.Ub(),s.Vb(3,"button",137),s.cc("click",function(){return s.uc(e),s.gc().nextroutePage()}),s.Dc(4,"NEXT >>"),s.Ub(),s.Ub()}}function Or(e,t){if(1&e&&s.Qb(0,"app-safetycomment",138),2&e){const e=s.gc();s.mc("formId",e.safetyid)("companyId",e.tempcompanyid)}}function Er(e,t){1&e&&(s.Vb(0,"div"),s.Vb(1,"button",139),s.Dc(2,"SUBMIT SAFETY INPUTS "),s.Ub(),s.Ub())}let Mr=(()=>{class e{constructor(e,t,i,o,r,a,s,c,l){this.formBuilder=e,this.router=t,this.safetyservice=i,this.bnIdle=o,this.keepalive=r,this.toastr=a,this.companyservice=s,this.loginInfo=c,this.ngxUiLoader=l,this.currentForm=3,this.submitted=!1,this.safetyinfoForm=this.formBuilder.group({id:[0],companyId:[0],is_Supplier:["no",[n.u.required]],is_Safety_Officer:["no",[n.u.required]],safety_Officer_Name:["",[n.u.required,n.u.maxLength(130)]],safety_Officer_Phone:["",[n.u.required,n.u.pattern(/^-?(0|[1-9]\d*)?$/)]],safety_Officer_Phone_Ext:["",[n.u.maxLength(5)]],safety_Officer_Email:["",[n.u.required,n.u.email,n.u.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)]],is_Safety_Program:["no",[n.u.required]],safety_Program_Upload:[null,[n.u.required]],is_Drug_Testing_Policy:["no",[n.u.required]],drug_Testing_Upload:[null,[n.u.required]],number_Of_Employees:["",[n.u.required,n.u.maxLength(130)]],oshA_Log_LastYear:[null,[n.u.required]],is_OSHA:["no",[n.u.required]],oshA_AddInfo:["",[n.u.required]],oshA_Citation:["",[n.u.required]],isnumber_Of_Employees:[!1],triR_Info_LastYear:[null,[n.u.required]],triR_Info_TwoYears:[null,[n.u.required]],triR_Info_ThreeYears:[null,[n.u.required]],emR_LastYear_Upload:[null,[n.u.required]],emR_TwoYears_Upload:[null,[n.u.required]],emR_ThreeYears_Upload:[null,[n.u.required]],emR_Verification_Upload:[null,[n.u.required]],isAutosave:[!1],preQualification_Status:["In-Progress"],isComplete:[!1]}),this.companyInfo=this.formBuilder.group({id:["0"],org_Type:[null,[n.u.required,n.u.maxLength(130)]],is_Certified_Diverse:["",[n.u.required,n.u.maxLength(130)]],certified_Diverse_Attachment:["null",[n.u.maxLength(130)]],contact_Name:[null,[n.u.required,n.u.maxLength(256)]],contact_Email:[null,[n.u.required,n.u.maxLength(256),n.u.email,n.u.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)]],contact_Mobile:[null,[n.u.required,n.u.maxLength(256),n.u.pattern(/^-?(0|[1-9]\d*)?$/)]],additional_Details:["",[n.u.required,n.u.maxLength(256)]],CD_Upload:[null],other_details:["",n.u.maxLength(256)],isAutosave:[!0],preQualification_Status:["In-Progress"],isComplete:[!0],reject_Reason:[""]}),this.safetyProgramAttachments=[],this.oshALogLastYear=[],this.oshALogThreeYears=[],this.oshALogTwoYears=[],this.triRInfoLastYear=[],this.triRInfoThreeYears=[],this.triRInfoTwoYears=[],this.Safety_Program_Upload=[],this.tempSafetyProgramUpload=[],this.tempOSHALastYearUpload=[],this.tempOSHAThreeYearsUpload=[],this.tempOSHATwoYearsUpload=[],this.tempTRIRLastYearUpload=[],this.tempTRIRThreeYearsUpload=[],this.tempTRIRTwoYearsUpload=[],this.setTimeout=0,this.formSubmited=!1,this.is_Supplier=!1,this.spinner={safetySpinner:!1,oshaLastSpinner:!1,oshaTwoSpinner:!1,oshaThreeSpinner:!1,trirLastSpinner:!1,trirTwoSpinner:!1,trirThreeSpinner:!1,drugtestingSpinner:!1,emrLastSpinner:!1,emrTwoSpinner:!1,emrThreeSpinner:!1,emrverification:!1},this.resetTimer=0,this.showAdmin=!1,this.userRole="",this.companyId=0,this.safetyid=0,this.isCompleted=!1,this.prequalification_status="",this.drugTestingUploadAttachments=[],this.tempdrugTestingUpload=[],this.tempemRLastYearUpload=[],this.emRLastYear=[],this.tempemRTwoYearsUpload=[],this.emRTwoYears=[],this.tempemRThreeYearsUpload=[],this.emRThreeYears=[],this.tempemRVerificationUpload=[],this.emRVerification=[],this.showdisabled=!1}ngOnInit(){this.ngxUiLoader.startLoader("loader-01"),localStorage.setItem("currPage","safetyinfo"),this.prequalification_status=this.loginInfo.organization_status,this.submitText="SAVE";let e=localStorage.getItem("userDetails");e=JSON.parse(atob(e)),this.userDetails=e,this.userRole=e.role,this.tempcompanyid=localStorage.getItem("tempcompanyid"),this.tempcompanyid=Number(atob(this.tempcompanyid)),this.tempcompanyid>0&&"Subcontractor"!=this.userRole&&(this.showAdmin=!0,this.showdisabled=!0,this.safetyservice.getRecords(this.tempcompanyid).subscribe(e=>{var t;this.safetyinfoForm.disable(),this.safetyinfoForm.updateValueAndValidity(),this.showAdmin=!0,this.showdisabled=!0,(null==e?void 0:e.length)&&(this.safetyid=e[0].id,this.submitText=e[0].is_Supplier?"UPDATE":"SAVE",this.updateSafetyinfo(e),this.getFiles(null===(t=e[0])||void 0===t?void 0:t.files))})),null!=this.userDetails.vendorId&&null!=this.userDetails.taxId&&"Subcontractor"==this.userRole&&this.safetyservice.getUser(this.userDetails.vendorId,this.userDetails.taxId).subscribe(e=>{this.companyId=e.id,localStorage.setItem("companyid",btoa(this.companyId)),this.getRecords(this.companyId)}),this.ngxUiLoader.stopLoader("loader-01")}resetSupplierYes(){console.log("resetSafety"),this.safetyinfoForm.controls.is_Safety_Officer.setValue("no"),this.resetSafety(),this.safetyinfoForm.controls.is_Safety_Program.setValue("no"),this.resetSafetyProgram(),this.safetyinfoForm.controls.is_Drug_Testing_Policy.setValue("no"),this.resetDrug(),this.safetyinfoForm.patchValue({triR_Info_LastYear:"",triR_Info_TwoYears:"",triR_Info_ThreeYears:"",emR_LastYear_Upload:"",emR_TwoYears_Upload:"",emR_ThreeYears_Upload:""}),this.safetyinfoForm.controls.number_Of_Employees.setValue(""),this.isNumberEmployees(!0),this.safetyinfoForm.controls.is_OSHA.setValue("no"),this.safetyinfoForm.controls.oshA_AddInfo.setValidators(null),this.safetyinfoForm.controls.oshA_AddInfo.updateValueAndValidity(),this.safetyinfoForm.controls.oshA_AddInfo.setValue(""),this.safetyinfoForm.controls.oshA_Citation.setValidators(null),this.safetyinfoForm.controls.oshA_Citation.updateValueAndValidity(),this.safetyinfoForm.controls.oshA_Citation.setValue(""),this.emRVerification.forEach((e,t)=>{this.safetyservice.deleteRecord(e.id).subscribe(e=>{this.emRVerification.splice(t,1)})})}getRecords(e){this.safetyservice.getRecords(e).subscribe(e=>{var t;console.log(e),e.length&&(this.safetyid=e[0].id,this.submitText=e[0].is_Supplier?"UPDATE":"SAVE",this.updateSafetyinfo(e),this.getFiles(null===(t=e[0])||void 0===t?void 0:t.files))}),this.companyId>0&&this.companyservice.getRecord(e).subscribe(e=>{this.prequalification_status=e[0].preQualification_Status,e[0].preQualification_Status&&this.loginInfo.formDisable(e[0].preQualification_Status)&&(this.showdisabled=!0,this.safetyinfoForm.disable(),this.safetyinfoForm.updateValueAndValidity(),this.safetyinfoForm.controls.oshA_Log_LastYear.disable(),this.safetyinfoForm.controls.oshA_Log_LastYear.updateValueAndValidity())})}resetSafety(){this.safetyinfoForm.patchValue({safety_Officer_Email:"",safety_Officer_Name:"",safety_Officer_Phone:"",safety_Officer_Phone_Ext:""})}resetSafetyProgram(){this.showdisabled=!1,this.safetyProgramAttachments.forEach((e,t)=>{this.removesafetyProgramFile(t,e,!1)})}resetDrug(){var e;this.showdisabled=!1,null===(e=this.drugTesting)||void 0===e||e.forEach((e,t)=>{this.removesafetyofficerFile(t,e,!1)})}updateSafetyinfo(e){this.safetyinfoForm.patchValue({id:e[0].id,companyId:e[0].companyId,is_Supplier:e[0].is_Supplier,is_Safety_Officer:e[0].is_Safety_Officer,is_Drug_Testing_Policy:e[0].is_Drug_Testing_Policy,is_Safety_Program:e[0].is_Safety_Program,number_Of_Employees:e[0].number_Of_Employees&&"null"!=e[0].number_Of_Employees?e[0].number_Of_Employees:"",safety_Officer_Email:e[0].safety_Officer_Email&&"null"!=e[0].safety_Officer_Email?e[0].safety_Officer_Email:"",safety_Officer_Name:e[0].safety_Officer_Name&&"null"!=e[0].safety_Officer_Name?e[0].safety_Officer_Name:"",safety_Officer_Phone:e[0].safety_Officer_Phone&&"null"!=e[0].safety_Officer_Phone?e[0].safety_Officer_Phone:"",safety_Officer_Phone_Ext:e[0].safety_Officer_Phone_Ext&&"null"!=e[0].safety_Officer_Phone_Ext?e[0].safety_Officer_Phone_Ext:"",triR_Info_LastYear:e[0].triR_Info_LastYear?e[0].triR_Info_LastYear:"",triR_Info_TwoYears:e[0].triR_Info_TwoYears?e[0].triR_Info_TwoYears:"",triR_Info_ThreeYears:e[0].triR_Info_ThreeYears?e[0].triR_Info_ThreeYears:"",emR_LastYear_Upload:e[0].emR_LastYear_Upload?e[0].emR_LastYear_Upload:"",emR_TwoYears_Upload:e[0].emR_TwoYears_Upload?e[0].emR_TwoYears_Upload:"",emR_ThreeYears_Upload:e[0].emR_ThreeYears_Upload?e[0].emR_ThreeYears_Upload:"",isnumber_Of_Employees:!!e[0].isnumber_Of_Employees&&e[0].isnumber_Of_Employees}),this.safetyinfoForm.patchValue(e[0].supplier_Definition&&"null"!=e[0].supplier_Definition?{supplier_Definition:e[0].supplier_Definition}:{supplier_Definition:""}),this.safetyinfoForm.patchValue(null!=e[0].oshA_AddInfo&&"null"!=e[0].oshA_AddInfo?{oshA_AddInfo:e[0].oshA_AddInfo}:{oshA_AddInfo:""}),this.safetyinfoForm.patchValue(null!=e[0].citation&&"null"!=e[0].citation?{oshA_Citation:e[0].citation}:{oshA_Citation:""}),null!=e[0].is_OSHA&&"null"!=e[0].is_OSHA&&this.safetyinfoForm.patchValue({is_OSHA:e[0].is_OSHA}),null!=e[0].is_Safety_Program&&"null"!=e[0].is_Safety_Program&&this.safetyinfoForm.patchValue({is_Safety_Program:e[0].is_Safety_Program}),"Subcontractor"!=this.userRole&&"yes"==this.safetyinfoForm.value.is_Supplier&&(this.safetyinfoForm.controls.is_Safety_Program.setValidators([n.u.required]),this.safetyinfoForm.controls.is_OSHA.setValidators([n.u.required]),this.safetyinfoForm.controls.oshA_AddInfo.setValidators([n.u.required]),this.safetyinfoForm.controls.oshA_Citation.setValidators([n.u.required]),this.safetyinfoForm.controls.oshA_Log_LastYear.setValidators([n.u.required]),this.safetyinfoForm.controls.triR_Info_LastYear.setValidators([n.u.required]),this.safetyinfoForm.controls.triR_Info_TwoYears.setValidators([n.u.required]),this.safetyinfoForm.controls.triR_Info_ThreeYears.setValidators([n.u.required]))}ngOnDestroy(){this.keepalive.stop(),this.nextpage()}ngAfterViewInit(){this.keepalive.interval(30),this.keepalive.stop(),0==this.setTimeout&&this.keepalive.stop(),0==this.showAdmin&&this.keepalive.onPing.subscribe(()=>{"safetyinfo"==localStorage.getItem("currPage")&&(1==this.setTimeout?(this.autoSave(),this.keepalive.stop(),this.setTimeout=0):this.setTimeout=1)})}idleReset(){this.keepalive.stop(),this.keepalive.start(),this.resetTimer=0}getFiles(e){this.safetyProgramAttachments=[],this.oshALogLastYear=[],this.oshALogTwoYears=[],this.oshALogThreeYears=[],this.triRInfoLastYear=[],this.triRInfoTwoYears=[],this.triRInfoThreeYears=[],this.drugTesting=[],this.emRLastYear=[],this.emRTwoYears=[],this.emRThreeYears=[],this.emRVerification=[],e.filter(e=>{"Safety_Program_Upload"==e.file_Type&&0==e.isDeleted&&(e.file_Name.length<31?this.safetyProgramAttachments.push({id:e.id,name:e.file_Name,file_Path:e.file_Path}):0==e.isDeleted&&this.safetyProgramAttachments.push({id:e.id,name:e.file_Name.substring(0,31)+"....",file_Path:e.file_Path})),"OSHA_LastYear_Upload"==e.file_Type&&0==e.isDeleted&&(e.file_Name.length<31?this.oshALogLastYear.push({id:e.id,name:e.file_Name,file_Path:e.file_Path}):0==e.isDeleted&&this.oshALogLastYear.push({id:e.id,name:e.file_Name.substring(0,31)+"....",file_Path:e.file_Path})),"OSHA_TwoYears_Upload"==e.file_Type&&0==e.isDeleted&&(e.file_Name.length<31?this.oshALogTwoYears.push({id:e.id,name:e.file_Name,file_Path:e.file_Path}):0==e.isDeleted&&this.oshALogTwoYears.push({id:e.id,name:e.file_Name.substring(0,31)+"....",file_Path:e.file_Path})),"OSHA_ThreeYears_Upload"==e.file_Type&&0==e.isDeleted&&(e.file_Name.length<31?this.oshALogThreeYears.push({id:e.id,name:e.file_Name,file_Path:e.file_Path}):0==e.isDeleted&&this.oshALogThreeYears.push({id:e.id,name:e.file_Name.substring(0,31)+"....",file_Path:e.file_Path})),"Drug_Testing_Upload"==e.file_Type&&0==e.isDeleted&&(e.file_Name.length<31?this.drugTesting.push({id:e.id,name:e.file_Name,file_Path:e.file_Path}):0==e.isDeleted&&this.drugTesting.push({id:e.id,name:e.file_Name.substring(0,31)+"....",file_Path:e.file_Path})),"EMR_Verification_Upload"==e.file_Type&&0==e.isDeleted&&(e.file_Name.length<31?this.emRVerification.push({id:e.id,name:e.file_Name,file_Path:e.file_Path}):0==e.isDeleted&&this.emRVerification.push({id:e.id,name:e.file_Name.substring(0,31)+"....",file_Path:e.file_Path}))})}get f(){var e,t,i,o;return this.safetyinfoForm.value.is_Supplier&&"no"!=this.safetyinfoForm.value.is_Supplier||!1!==this.showdisabled?((o=[]).push(this.safetyinfoForm.controls.safety_Officer_Name),o.push(this.safetyinfoForm.controls.safety_Officer_Phone),o.push(this.safetyinfoForm.controls.safety_Officer_Email),o.push(this.safetyinfoForm.controls.safety_Program_Upload),o.push(this.safetyinfoForm.controls.drug_Testing_Upload),o.push(this.safetyinfoForm.controls.triR_Info_LastYear),o.push(this.safetyinfoForm.controls.triR_Info_TwoYears),o.push(this.safetyinfoForm.controls.triR_Info_ThreeYears),o.push(this.safetyinfoForm.controls.number_Of_Employees),o.push(this.safetyinfoForm.controls.oshA_Log_LastYear),o.push(this.safetyinfoForm.controls.oshA_Citation),o.push(this.safetyinfoForm.controls.oshA_AddInfo),o.push(this.safetyinfoForm.controls.emR_LastYear_Upload),o.push(this.safetyinfoForm.controls.emR_TwoYears_Upload),o.push(this.safetyinfoForm.controls.emR_ThreeYears_Upload),o.push(this.safetyinfoForm.controls.emR_Verification_Upload),o=this.validatorEnableOrDisable(!1,o)):((o=[]).push(this.safetyinfoForm.controls.safety_Officer_Name),o.push(this.safetyinfoForm.controls.safety_Officer_Phone),o.push(this.safetyinfoForm.controls.safety_Officer_Email),(o=this.validatorEnableOrDisable(!this.safetyinfoForm.value.is_Safety_Officer||"yes"==this.safetyinfoForm.value.is_Safety_Officer,o)).push(this.safetyinfoForm.controls.safety_Program_Upload),(o=this.validatorEnableOrDisable((!this.safetyinfoForm.value.is_Safety_Program||"yes"==this.safetyinfoForm.value.is_Safety_Program)&&0==(null===(e=this.safetyProgramAttachments)||void 0===e?void 0:e.length),o)).push(this.safetyinfoForm.controls.drug_Testing_Upload),(o=this.validatorEnableOrDisable((!this.safetyinfoForm.value.is_Drug_Testing_Policy||"yes"==this.safetyinfoForm.value.is_Drug_Testing_Policy)&&0==(null===(t=this.drugTesting)||void 0===t?void 0:t.length),o)).push(this.safetyinfoForm.controls.triR_Info_LastYear),o.push(this.safetyinfoForm.controls.triR_Info_TwoYears),o.push(this.safetyinfoForm.controls.triR_Info_ThreeYears),o=this.validatorEnableOrDisable(!0,o),this.safetyinfoForm.controls.number_Of_Employees.setValidators([n.u.required,n.u.maxLength(130)]),this.safetyinfoForm.controls.number_Of_Employees.enable(),this.safetyinfoForm.controls.number_Of_Employees.updateValueAndValidity(),o.push(this.safetyinfoForm.controls.oshA_Log_LastYear),(o=this.validatorEnableOrDisable(null==this.safetyinfoForm.value.isnumber_Of_Employees||0==this.safetyinfoForm.value.isnumber_Of_Employees,o)).push(this.safetyinfoForm.controls.oshA_Citation),o.push(this.safetyinfoForm.controls.oshA_AddInfo),(o=this.validatorEnableOrDisable(!this.safetyinfoForm.value.is_OSHA||"yes"==this.safetyinfoForm.value.is_OSHA,o)).push(this.safetyinfoForm.controls.emR_LastYear_Upload),o.push(this.safetyinfoForm.controls.emR_TwoYears_Upload),o.push(this.safetyinfoForm.controls.emR_ThreeYears_Upload),(o=this.validatorEnableOrDisable(!0,o)).push(this.safetyinfoForm.controls.emR_Verification_Upload),o=this.validatorEnableOrDisable(0===(null===(i=this.emRVerification)||void 0===i?void 0:i.length),o)),this.safetyinfoForm.controls}validatorEnableOrDisable(e,t){return t.forEach(t=>{e?(t.setValidators([n.u.required]),t.enable()):(t.clearValidators(),t.disable()),t.updateValueAndValidity()}),[]}submit(){if(this.keepalive.stop(),this.ngxUiLoader.startLoader("loader-01"),"Subcontractor"!=this.userRole)this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`]);else if(0==this.safetyid){("yes"==this.safetyinfoForm.value.is_Supplier||"no"==this.safetyinfoForm.value.is_Supplier)&&this.safetyinfoForm.patchValue({isAutosave:!0});let e=this.formMethod();this.safetyservice.addRecord(e).subscribe(e=>{this.getRecords(this.companyId)},e=>{},()=>{this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])})}else{this.safetyinfoForm.patchValue({isAutosave:!0});let e=this.formMethod();this.safetyservice.updateRecord(e,this.safetyid).subscribe(e=>{this.getRecords(this.companyId)},e=>{},()=>{this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])})}}save(){if(this.submitted=!0,this.formSubmited=!0,this.keepalive.stop(),this.safetyinfoForm.value.isnumber_Of_Employees&&this.safetyinfoForm.controls.oshA_Log_LastYear.setValidators(null),console.log(this.safetyinfoForm.controls.oshA_Log_LastYear.valid),this.safetyinfoForm.valid)if(0==this.safetyid){this.safetyinfoForm.patchValue({isAutosave:!0}),("yes"==this.safetyinfoForm.value.is_Supplier||"no"==this.safetyinfoForm.value.is_Supplier)&&this.safetyinfoForm.patchValue({isAutosave:!0});let e=this.formMethod();this.safetyservice.addRecord(e).subscribe(e=>{this.getRecords(this.companyId),this.submitText="UPDATE",this.getRecords(this.companyId),this.fileReset(),this.resetSpinner(),this.toastr.success("Safety Information saved successfully","Safety Information")})}else{this.safetyinfoForm.patchValue({isAutosave:!0});let e=this.formMethod();console.log(e),this.safetyservice.updateRecord(e,this.safetyid).subscribe(e=>{this.getRecords(this.companyId),this.fileReset(),this.resetSpinner(),this.toastr.success("Safety Information updated successfully","Safety Information")})}}autoSave(){if(this.resetTimer+=1,1==this.resetTimer)if(0==this.safetyid){this.safetyinfoForm.patchValue({isAutosave:!0});let e=this.formMethod();this.safetyservice.addRecord(e).subscribe(e=>{this.submitText="UPDATE",this.getRecords(this.companyId),this.fileReset(),this.keepalive.stop(),this.resetSpinner()})}else{this.safetyinfoForm.patchValue({isAutosave:!0});let e=this.formMethod();this.safetyservice.updateRecord(e,this.safetyid).subscribe(e=>{this.getRecords(this.companyId),this.fileReset(),this.keepalive.stop(),this.resetSpinner(),this.safetyinfoForm.patchValue({isAutosave:!0})})}}isNumberEmployees(e){1==e?(this.showdisabled=!1,this.oshALogLastYear.forEach((e,t)=>{this.removeOSHALastYearUpload(t,e,!1)}),this.safetyinfoForm.controls.oshA_Log_LastYear.disable(),this.safetyinfoForm.controls.oshA_Log_LastYear.setValidators(null),this.safetyinfoForm.controls.oshA_Log_LastYear.updateValueAndValidity()):(this.safetyinfoForm.controls.oshA_Log_LastYear.setValidators([n.u.required]),this.safetyinfoForm.controls.oshA_Log_LastYear.enable())}nextpage(){if("Subcontractor"==this.userRole)if(0==this.safetyid){("yes"==this.safetyinfoForm.value.is_Supplier||"no"==this.safetyinfoForm.value.is_Supplier)&&this.safetyinfoForm.patchValue({isAutosave:!0});let e=this.formMethod();this.safetyservice.addRecord(e).subscribe(e=>{this.toastr.success("Safety Information saved successfully","Safety Information"),this.keepalive.stop(),this.resetSpinner()})}else if(!this.showdisabled){this.safetyinfoForm.patchValue({isAutosave:!0});let e=this.formMethod();console.log(e),this.safetyservice.updateRecord(e,this.safetyid).subscribe(e=>{this.toastr.success("Safety Information updated successfully","Safety Information"),this.keepalive.stop(),this.resetSpinner()})}}fileReset(){this.safetyinfoForm.patchValue({oshA_Log_LastYear:"",triR_Info_LastYear:"",triR_Info_TwoYears:"",triR_Info_ThreeYears:"",safety_Program_Upload:"",drug_Testing_Upload:"",emR_LastYear_Upload:"",emR_TwoYears_Upload:"",emR_ThreeYears_Upload:"",emR_Verification_Upload:""})}formMethod(){var e=new FormData;e.append("id",this.safetyinfoForm.value.id),e.append("companyId",this.companyId),e.append("is_Supplier",this.loginInfo.validateEmpty(this.safetyinfoForm.value.is_Supplier)),e.append("is_Safety_Officer",this.loginInfo.validateEmpty(this.safetyinfoForm.value.is_Safety_Officer)),e.append("is_Drug_Testing_Policy",this.loginInfo.validateEmpty(this.safetyinfoForm.value.is_Drug_Testing_Policy)),e.append("safety_Officer_Name",this.loginInfo.validateEmpty(this.safetyinfoForm.value.safety_Officer_Name)),e.append("safety_Officer_Phone",this.loginInfo.validateEmpty(this.safetyinfoForm.value.safety_Officer_Phone)),e.append("safety_Officer_Phone_Ext",this.loginInfo.validateEmpty(this.safetyinfoForm.value.safety_Officer_Phone_Ext)),e.append("safety_Officer_Email",this.loginInfo.validateEmpty(this.safetyinfoForm.value.safety_Officer_Email)),e.append("is_Safety_Program",this.loginInfo.validateEmpty(this.safetyinfoForm.value.is_Safety_Program)),e.append("number_Of_Employees",this.loginInfo.validateEmpty(this.safetyinfoForm.value.number_Of_Employees)),e.append("is_OSHA",this.loginInfo.validateEmpty(this.safetyinfoForm.value.is_OSHA)),e.append("oshA_AddInfo",this.loginInfo.validateEmpty(this.safetyinfoForm.value.oshA_AddInfo)),e.append("citation",this.safetyinfoForm.value.oshA_Citation?this.safetyinfoForm.value.oshA_Citation:0),e.append("isComplete",!1),e.append("isAutosave",this.safetyinfoForm.value.isAutosave),e.append("isnumber_Of_Employees",this.safetyinfoForm.value.isnumber_Of_Employees),e.append("triR_Info_LastYear",this.safetyinfoForm.value.triR_Info_LastYear?this.safetyinfoForm.value.triR_Info_LastYear:""),e.append("triR_Info_TwoYears",this.safetyinfoForm.value.triR_Info_TwoYears?this.safetyinfoForm.value.triR_Info_TwoYears:""),e.append("triR_Info_ThreeYears",this.safetyinfoForm.value.triR_Info_ThreeYears?this.safetyinfoForm.value.triR_Info_ThreeYears:""),e.append("emR_LastYear_Upload",this.safetyinfoForm.value.emR_LastYear_Upload?this.safetyinfoForm.value.emR_LastYear_Upload:""),e.append("emR_TwoYears_Upload",this.safetyinfoForm.value.emR_TwoYears_Upload?this.safetyinfoForm.value.emR_TwoYears_Upload:""),e.append("emR_ThreeYears_Upload",this.safetyinfoForm.value.emR_ThreeYears_Upload?this.safetyinfoForm.value.emR_ThreeYears_Upload:"");for(let t=0;t<this.tempSafetyProgramUpload.length;t++)e.append("Safety_Program_Upload",this.tempSafetyProgramUpload[t]);this.tempSafetyProgramUpload=[];for(let t=0;t<this.tempdrugTestingUpload.length;t++)e.append("drug_Testing_Upload",this.tempdrugTestingUpload[t]);this.tempdrugTestingUpload=[];for(let t=0;t<this.tempOSHALastYearUpload.length;t++)e.append("OSHA_LastYear_Upload",this.tempOSHALastYearUpload[t]);this.tempOSHALastYearUpload=[];for(let t=0;t<this.tempOSHATwoYearsUpload.length;t++)e.append("OSHA_TwoYears_Upload",this.tempOSHATwoYearsUpload[t]);this.tempOSHATwoYearsUpload=[];for(let t=0;t<this.tempOSHAThreeYearsUpload.length;t++)e.append("OSHA_ThreeYears_Upload",this.tempOSHAThreeYearsUpload[t]);return this.tempOSHAThreeYearsUpload=[],this.tempTRIRThreeYearsUpload=[],this.tempemRThreeYearsUpload=[],this.tempemRVerificationUpload.filter(t=>{e.append("emR_Verification_Upload",t)}),this.tempemRVerificationUpload=[],e}safetyProgramUpload(e){let t=document.getElementById("safety_Program_Upload");for(let i=0;i<t.files.length;i++)this.tempSafetyProgramUpload.push(t.files[i]);this.spinner.safetySpinner=!0,this.fileupload()}removesafetyProgramFile(e,t,i=!0){this.showdisabled||this.safetyservice.deleteRecord(t.id).subscribe(t=>{1==i&&this.toastr.info("File removed successfully","Safety Info"),this.safetyProgramAttachments.splice(e,1)})}safetyofficerUpload(e){let t=document.getElementById("drug_Testing_Upload");for(let i=0;i<t.files.length;i++)this.tempdrugTestingUpload.push(t.files[i]);this.spinner.drugtestingSpinner=!0,this.fileupload()}removesafetyofficerFile(e,t,i=!0){this.showdisabled||this.safetyservice.deleteRecord(t.id).subscribe(t=>{i&&this.toastr.info("File removed successfully","Safety Info"),this.drugTesting.splice(e,1)})}OSHALastYearUpload(e){let t=document.getElementById("OSHA_LastYear_Upload");for(let i=0;i<t.files.length;i++)this.tempOSHALastYearUpload.push(t.files[i]);this.spinner.oshaLastSpinner=!0,this.fileupload()}removeOSHALastYearUpload(e,t,i=!0){this.showdisabled||this.safetyservice.deleteRecord(t.id).subscribe(t=>{i&&this.toastr.info("File removed successfully","Safety Info"),this.oshALogLastYear.splice(e,1)})}oshALogThreeYearsUpload(e){let t=document.getElementById("OSHA_ThreeYears_Upload");for(let i=0;i<t.files.length;i++)this.tempOSHAThreeYearsUpload.push(t.files[i]);this.spinner.oshaThreeSpinner=!0,this.fileupload()}removeoshALogThreeYearsUpload(e,t){this.showdisabled||this.safetyservice.deleteRecord(t.id).subscribe(t=>{this.toastr.info("File removed successfully","Safety Info"),this.oshALogThreeYears.splice(e,1)})}oshALogTwoYearsUpload(e){let t=document.getElementById("OSHA_TwoYears_Upload");for(let i=0;i<t.files.length;i++)this.tempOSHATwoYearsUpload.push(t.files[i]);this.spinner.oshaTwoSpinner=!0,this.fileupload()}removeoshALogTwoYearsUpload(e,t){this.showdisabled||this.safetyservice.deleteRecord(t.id).subscribe(t=>{this.toastr.info("File removed successfully","Safety Info"),this.oshALogTwoYears.splice(e,1)})}triRInfoLastYearUpload(e){let t=document.getElementById("TRIR_LastYear_Upload");for(let i=0;i<t.files.length;i++)this.tempTRIRLastYearUpload.push(t.files[i]);this.spinner.trirLastSpinner=!0,this.fileupload()}removetriRInfoLastYearUpload(e,t){this.showdisabled||this.safetyservice.deleteRecord(t.id).subscribe(t=>{this.toastr.info("File removed successfully","Safety Info"),this.triRInfoLastYear.splice(e,1)})}triRInfoThreeYearsUpload(e){let t=document.getElementById("TRIR_ThreeYears_Upload");for(let i=0;i<t.files.length;i++)this.tempTRIRThreeYearsUpload.push(t.files[i]);this.spinner.trirThreeSpinner=!0,this.fileupload()}removetriRInfoThreeYearsUpload(e,t){this.showdisabled||this.safetyservice.deleteRecord(t.id).subscribe(t=>{this.toastr.info("File removed successfully","Safety Info"),this.triRInfoThreeYears.splice(e,1)})}triRInfoTwoYearsUpload(e){let t=document.getElementById("TRIR_TwoYears_Upload");for(let i=0;i<t.files.length;i++)this.tempTRIRTwoYearsUpload.push(t.files[i]);this.spinner.trirTwoSpinner=!0,this.fileupload()}removetriRInfoTwoYearsUpload(e,t){this.showdisabled||this.safetyservice.deleteRecord(t.id).subscribe(t=>{this.toastr.info("File removed successfully","Safety Info"),this.triRInfoTwoYears.splice(e,1)})}emRLastYearUpload(e){let t=document.getElementById("emR_LastYear_Upload");for(let i=0;i<t.files.length;i++)this.tempemRLastYearUpload.push(t.files[i]);this.spinner.trirTwoSpinner=!0,this.fileupload()}removeemRLastYearUpload(e,t){this.showdisabled||this.safetyservice.deleteRecord(t.id).subscribe(t=>{this.toastr.info("File removed successfully","Safety Info"),this.emRLastYear.splice(e,1)})}emRTwoYearsUpload(e){let t=document.getElementById("emR_TwoYears_Upload");for(let i=0;i<t.files.length;i++)this.tempemRTwoYearsUpload.push(t.files[i]);this.spinner.emrTwoSpinner=!0,this.fileupload()}removeemRTwoYearsUpload(e,t){this.showdisabled||this.safetyservice.deleteRecord(t.id).subscribe(t=>{this.toastr.info("File removed successfully","Safety Info"),this.emRTwoYears.splice(e,1)})}emRThreeYearsUpload(e){let t=document.getElementById("emR_ThreeYears_Upload");for(let i=0;i<t.files.length;i++)this.tempemRThreeYearsUpload.push(t.files[i]);this.spinner.emrThreeSpinner=!0,this.fileupload()}removeemRThreeYearsUpload(e,t){this.showdisabled||this.safetyservice.deleteRecord(t.id).subscribe(t=>{this.toastr.info("File removed successfully","Safety Info"),this.emRThreeYears.splice(e,1)})}emRVerificationUpload(e){let t=document.getElementById("emR_Verification_Upload");for(let i=0;i<t.files.length;i++)this.tempemRVerificationUpload.push(t.files[i]);this.spinner.emrverification=!0,this.fileupload()}removeemRVerificationUpload(e,t){this.showdisabled||this.safetyservice.deleteRecord(t.id).subscribe(t=>{this.toastr.info("File removed successfully","Safety Info"),this.emRVerification.splice(e,1)})}resetSpinner(){this.spinner={safetySpinner:!1,oshaLastSpinner:!1,oshaTwoSpinner:!1,oshaThreeSpinner:!1,trirLastSpinner:!1,trirTwoSpinner:!1,trirThreeSpinner:!1,drugtestingSpinner:!1,emrLastSpinner:!1,emrTwoSpinner:!1,emrThreeSpinner:!1,emrverification:!1}}fileupload(){if(0==this.safetyid){this.safetyinfoForm.patchValue({isAutosave:!0});let e=this.formMethod();this.safetyservice.addRecord(e).subscribe(e=>{this.submitText="UPDATE",this.getRecords(this.companyId),this.fileReset(),this.keepalive.stop(),this.resetSpinner()})}else{this.safetyinfoForm.patchValue({isAutosave:!0});let e=this.formMethod();this.safetyservice.updateRecord(e,this.safetyid).subscribe(e=>{this.getRecords(this.companyId),this.fileReset(),this.keepalive.stop(),this.resetSpinner(),this.safetyinfoForm.patchValue({isAutosave:!0})})}}gotoHome(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm-1].url}`])}filepreview(e,t){var i=new FileReader;i.onload=i=>{console.log(i.target);let o=new Blob(e.files,{type:e.files[t].type});var n=(window.URL||window.webkitURL).createObjectURL(o);console.log("path",n,e.value);var r=document.createElement("a"),a=document.createTextNode("View File");r.target="_blank",r.appendChild(a),r.href=n,r.click(),e.appendChild(r)},i.readAsDataURL(e.files[t])}nextroutePage(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])}}return e.\u0275fac=function(t){return new(t||e)(s.Pb(n.d),s.Pb(r.f),s.Pb(Mo),s.Pb(l.a),s.Pb(u.a),s.Pb(f.b),s.Pb(c.a),s.Pb(_),s.Pb(v.c))},e.\u0275cmp=s.Jb({type:e,selectors:[["app-safetyinfo"]],decls:283,vars:207,consts:[[1,"px-2",3,"formGroup","ngSubmit","keydown.enter"],[1,"px-1","my-2","form-bg",3,"ngClass"],[1,"form-group","row","px-2","mx-auto","pb-3"],[1,"row"],[1,"col-lg-6","px-2","mt-2"],[1,"row","col-curve-top","bg-white","mx-0","px-0","py-2","mt-2"],[1,"row","pt-2"],[1,"col-5"],["for","is_Supplier",1,"my-auto"],[1,"text-danger"],[1,"col-7"],[1,"col-lg-3"],["type","radio","formControlName","is_Supplier","value","yes","checked","checked","name","is_Supplier","id","is_Supplier_yes",3,"ngModelChange","click"],["for","is_Supplier_yes",3,"ngClass"],[1,"col-lg-9"],["type","radio","formControlName","is_Supplier","value","no","name","is_Supplier","id","is_Supplier_no",3,"ngClass","ngModelChange"],["for","is_Supplier_no"],["class","invalid-feedback",4,"ngIf"],["class","col-lg-12 text-danger",4,"ngIf"],[1,"row","px-4","mt-2"],[1,"row","pb-5"],[1,"row","pb-4"],[1,"row","col-curve-top","bg-white","mx-0","px-0","py-2","mt-2",3,"ngClass"],[1,"col-lg-12","pt-2","mx-auto","bg-white","col-curve"],[1,"col-8"],["for","is_Safety_Officer",1,"my-auto","float-right"],["class","text-danger",4,"ngIf"],[1,"col-4"],[1,"col-lg-6"],["type","radio","formControlName","is_Safety_Officer","value","yes","checked","checked","name","is_Safety_Officer","id","is_Safety_Officer_yes",3,"ngClass","ngModelChange"],["for","is_Safety_Officer_yes"],["type","radio","formControlName","is_Safety_Officer","value","no","name","is_Safety_Officer","id","is_Safety_Officer_no",3,"ngClass","ngModelChange","click"],["for","is_Safety_Officer_no"],[1,"row","mt-1",3,"ngClass"],["for","safety_Officer_Name",1,"my-auto","font-italic","float-right"],["type","text","formControlName","safety_Officer_Name","pattern","[0-9]+","id","safety_Officer_Name","name","safety_Officer_Name",1,"form-control",3,"ngClass","ngModelChange"],["for","safety_Officer_Phone",1,"my-auto","font-italic","float-right"],[1,"col-10","pe-0"],["type","text","appPhoneMask","","onKeyPress","if(this.value.length==15) return false;","formControlName","safety_Officer_Phone","id","safety_Officer_Phone","name","safety_Officer_Phone",1,"form-control",3,"ngClass","ngModelChange"],[1,"col-2","ps-0"],["type","number","onKeyPress","if(this.value.length==3) return false;","formControlName","safety_Officer_Phone_Ext","pattern","[0-9]+","id","safety_Officer_Phone_Ext","name","safety_Officer_Phone_Ext",1,"form-control",3,"ngClass","ngModelChange"],["for","safety_Officer_Email",1,"my-auto","font-italic","float-right"],["type","text","formControlName","safety_Officer_Email","pattern","[0-9]+","id","safety_Officer_Email","name","safety_Officer_Email",1,"form-control",3,"ngClass","ngModelChange"],[1,"row","col-curve","bg-white","mx-0","px-0","py-2","mt-2",3,"ngClass"],[1,"row","pt-3"],[1,"col-6"],["for","is_Safety_Program",1,"my-auto","float-right"],["type","radio","formControlName","is_Safety_Program","value","yes","checked","checked","name","is_Safety_Program","id","is_Safety_Program_yes",3,"ngClass","ngModelChange"],["for","is_Safety_Program_yes"],["type","radio","formControlName","is_Safety_Program","value","no","name","is_Safety_Program","id","is_Safety_Program_no",3,"ngClass","ngModelChange","click"],["for","is_Safety_Program_no"],[1,"pt-2","pb-4",3,"ngClass"],["for","Safety_Program_Upload",1,"my-auto","font-italic","float-right"],[1,"form-control-customitem","form-control","fupupload"],["type","file","formControlName","safety_Program_Upload","title","Choose file","id","safety_Program_Upload","name","Safety_Program_Upload","multiple","",3,"ngClass","change"],["for","CPA_Upload",3,"ngClass"],["class","spinner__loading pt-3",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"col-lg-12","py-2","mx-auto","bg-white","col-curve"],[1,"mt-1"],[1,"row","pt-1"],["for","is_Drug_Testing_Policy",1,"my-auto","float-right"],["type","radio","formControlName","is_Drug_Testing_Policy","value","yes","checked","checked","name","is_Drug_Testing_Policy","id","is_Drug_Testing_Policy_yes",3,"ngClass","ngModelChange"],["for","is_Drug_Testing_Policy_yes"],["type","radio","formControlName","is_Drug_Testing_Policy","value","no","name","is_Drug_Testing_Policy","id","is_Drug_Testing_Policy_no",3,"ngClass","ngModelChange","click"],["for","is_Drug_Testing_Policy_no"],[1,"pt-2",3,"ngClass"],["for","drug_Testing_Upload",1,"my-auto","font-italic","float-right"],["type","file","formControlName","drug_Testing_Upload","title","Choose file","id","drug_Testing_Upload","name","drug_Testing_Upload","multiple","",3,"ngClass","change"],["for","drug_Testing_Upload",3,"ngClass"],[1,"bg-white","pt-3"],["for","project-zipcode",1,"my-auto","float-right"],["for","project-zipcode",1,"my-auto","font-italic","float-right","mt-3"],["for","triR_Info_LastYear",1,"my-auto","font-italic","float-right"],["type","number","formControlName","triR_Info_LastYear","id","triR_Info_LastYear","name","triR_Info_LastYear",1,"form-control",3,"ngClass"],["for","triR_Info_TwoYears",1,"my-auto","font-italic","float-right"],["type","number","formControlName","triR_Info_TwoYears","id","triR_Info_TwoYears","name","triR_Info_TwoYears",1,"form-control",3,"ngClass"],["for","triR_Info_ThreeYears",1,"my-auto","font-italic","float-right"],["type","number","formControlName","triR_Info_ThreeYears","id","triR_Info_ThreeYears","name","triR_Info_ThreeYears",1,"form-control",3,"ngClass"],[1,"pb-5","pt-4"],[1,"pb-4","pt-4"],[1,"row","mt-2"],[1,"col-12","my-auto","font-italic","float-right"],["type","checkbox","formControlName","isnumber_Of_Employees","id","isnumber_Of_Employees","name","isnumber_Of_Employees",3,"change"],[1,"col-12"],["for","number_Of_Employees",1,"my-auto","font-italic","float-right"],["type","number","formControlName","number_Of_Employees","pattern","[0-9]+","id","number_Of_Employees","name","number_Of_Employees",1,"form-control",3,"ngClass","ngModelChange"],["for","project-zipcode",1,"my-auto","font-italic","float-right"],[1,"col-lg-12","mt-3","bg-white","col-curve"],["type","file","formControlName","oshA_Log_LastYear","id","OSHA_LastYear_Upload","title","Choose file","name","oshA_Log_LastYear","multiple","",3,"ngClass","change"],["for","oshA_Log_LastYear",3,"ngClass"],[1,"mt-2"],["for","is_OSHA",1,"my-auto","font-italic","float-right"],[1,"col-lg-2"],["type","radio","formControlName","is_OSHA","value","yes","checked","checked","name","is_OSHA","id","is_OSHA_yes",3,"ngClass","ngModelChange"],["for","is_OSHA_yes"],[1,"col-lg-10"],["type","radio","formControlName","is_OSHA","value","no","name","is_OSHA","id","is_OSHA_no",3,"ngClass","ngModelChange"],["for","is_OSHA_no"],[1,"mr-4","mt-1"],[1,"note","fw-bold",3,"ngClass"],["class","col-lg-12 bg-white",4,"ngIf"],[1,"my-auto","float-right"],["for","emR_LastYear_Upload",1,"my-auto","font-italic","float-right","mt-2"],["for","emR_LastYear_Upload",1,"my-auto","font-italic","float-right"],["type","number","formControlName","emR_LastYear_Upload","id","emR_LastYear_Upload","name","emR_LastYear_Upload",1,"form-control",3,"ngClass"],["for","emR_TwoYears_Upload",1,"my-auto","font-italic","float-right"],["type","number","formControlName","emR_TwoYears_Upload","title","Choose file","id","emR_TwoYears_Upload","name","emR_TwoYears_Upload",1,"form-control",3,"ngClass"],["for","emR_ThreeYears_Upload",1,"my-auto","font-italic","float-right"],["type","number","formControlName","emR_ThreeYears_Upload","id","emR_ThreeYears_Upload","name","emR_ThreeYears_Upload",1,"form-control",3,"ngClass"],[1,"my-auto","float-right","pt-3"],[1,"col-lg-12","mt-2","bg-white","col-curve"],["for","emR_Verification_Upload",1,"my-auto","font-italic","float-right","col-2"],["type","file","title","Choose file","formControlName","emR_Verification_Upload","id","emR_Verification_Upload","name","emR_Verification_Upload","multiple","",3,"ngClass","change"],["for","emR_Verification_Upload",3,"ngClass"],[1,"pb-5","pt-5"],[1,"pt-2"],["class","text-end mx-lg-4 my-3",4,"ngIf"],["class","text-end mx-4 my-3",4,"ngIf"],[3,"formId","companyId",4,"ngIf"],[4,"ngIf"],[1,"invalid-feedback"],[1,"col-lg-12","text-danger"],[1,"fw-bold","note",3,"ngClass"],[1,"spinner__loading","pt-3"],["diameter","18","mode","indeterminate",1,"mt-1"],[1,"file-tag"],["target","_blank",3,"href"],[1,"file-close","text-white",3,"click"],[1,"col-lg-12","bg-white"],["type","number","formControlName","oshA_Citation","id","oshA_Citation","name","oshA_Citation",1,"form-control",3,"ngClass","ngModelChange"],["formControlName","oshA_AddInfo","id","oshA_AddInfo","name","oshA_AddInfo",1,"form-control",3,"ngClass","ngModelChange"],[1,"text-end","mx-lg-4","my-3"],[1,"btn","float-start","btn","default-btn",3,"click"],["type","button",1,"btn","ml-4","default-btn",3,"click"],["type","submit",1,"btn","mx-2","default-btn"],[1,"text-end","mx-4","my-3"],[1,"btn","btn-success","mx-2","default-btn",3,"click"],[3,"formId","companyId"],[1,"btn","btn","my-2","default-btn","float-end","me-4"]],template:function(e,t){1&e&&(s.Vb(0,"form",0),s.cc("ngSubmit",function(){return t.submit()})("keydown.enter",function(e){return e.preventDefault()}),s.Vb(1,"div",1),s.Vb(2,"div",2),s.Vb(3,"div",3),s.Vb(4,"div",4),s.Vb(5,"div",5),s.Vb(6,"div",6),s.Vb(7,"div",7),s.Vb(8,"h6",8),s.Dc(9,"1. Are you a supplier? "),s.Vb(10,"span",9),s.Dc(11,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(12,"div",10),s.Vb(13,"div",3),s.Vb(14,"span",11),s.Vb(15,"input",12),s.cc("ngModelChange",function(){return t.idleReset()})("click",function(){return t.resetSupplierYes()}),s.Ub(),s.Vb(16,"label",13),s.Dc(17," YES"),s.Ub(),s.Ub(),s.Vb(18,"span",14),s.Vb(19,"input",15),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Vb(20,"label",16),s.Dc(21," NO"),s.Ub(),s.Ub(),s.Ub(),s.Bc(22,pn,2,1,"div",17),s.Ub(),s.Bc(23,fn,3,3,"div",18),s.Ub(),s.Vb(24,"div",19),s.Dc(25,"Supplier = You only supply materials to the project sites. You DO NOT perform work in the field or provide any field services."),s.Ub(),s.Qb(26,"div",20),s.Qb(27,"div",21),s.Ub(),s.Ub(),s.Vb(28,"div",4),s.Vb(29,"div",22),s.Vb(30,"div",23),s.Vb(31,"div",3),s.Vb(32,"div",24),s.Vb(33,"h6",25),s.Dc(34,"2. Do you have a safety officer/safety department in your company?"),s.Bc(35,hn,2,0,"span",26),s.Ub(),s.Ub(),s.Vb(36,"div",27),s.Vb(37,"div",3),s.Vb(38,"span",28),s.Vb(39,"input",29),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Vb(40,"label",30),s.Dc(41," YES"),s.Ub(),s.Ub(),s.Vb(42,"span",28),s.Vb(43,"input",31),s.cc("ngModelChange",function(){return t.idleReset()})("click",function(){return t.resetSafety()}),s.Ub(),s.Vb(44,"label",32),s.Dc(45," NO"),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Bc(46,_n,2,1,"div",17),s.Ub(),s.Vb(47,"div",33),s.Vb(48,"div",3),s.Vb(49,"div",7),s.Vb(50,"label",34),s.Dc(51," Safety Officer Name: "),s.Bc(52,vn,2,0,"span",26),s.Ub(),s.Ub(),s.Vb(53,"div",10),s.Vb(54,"input",35),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Bc(55,Vn,2,1,"div",17),s.Ub(),s.Ub(),s.Ub(),s.Vb(56,"div",33),s.Vb(57,"div",3),s.Vb(58,"div",7),s.Vb(59,"label",36),s.Dc(60," Safety Officer Phone: "),s.Bc(61,Un,2,0,"span",26),s.Ub(),s.Ub(),s.Vb(62,"div",10),s.Vb(63,"div",3),s.Vb(64,"div",37),s.Vb(65,"input",38),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Bc(66,Cn,2,1,"div",17),s.Ub(),s.Vb(67,"div",39),s.Vb(68,"input",40),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Bc(69,Rn,2,1,"div",17),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(70,"div",33),s.Vb(71,"div",3),s.Vb(72,"div",7),s.Vb(73,"label",41),s.Dc(74," Safety Officer Email: "),s.Bc(75,wn,2,0,"span",26),s.Ub(),s.Ub(),s.Vb(76,"div",10),s.Vb(77,"input",42),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Bc(78,Sn,2,1,"div",17),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(79,"div",3),s.Vb(80,"div",4),s.Vb(81,"div",43),s.Vb(82,"div",44),s.Vb(83,"div",45),s.Vb(84,"h6",46),s.Dc(85,"3. Do you have a written safety program ? "),s.Bc(86,kn,2,0,"span",26),s.Ub(),s.Ub(),s.Vb(87,"div",45),s.Vb(88,"div",3),s.Vb(89,"span",11),s.Vb(90,"input",47),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Vb(91,"label",48),s.Dc(92," YES"),s.Ub(),s.Ub(),s.Vb(93,"span",14),s.Vb(94,"input",49),s.cc("ngModelChange",function(){return t.idleReset()})("click",function(){return t.resetSafetyProgram()}),s.Ub(),s.Vb(95,"label",50),s.Dc(96," NO"),s.Ub(),s.Ub(),s.Ub(),s.Bc(97,Pn,2,1,"div",17),s.Ub(),s.Ub(),s.Vb(98,"div",51),s.Vb(99,"label",52),s.Dc(100,"Please attach your company's safety program: "),s.Ub(),s.Vb(101,"div",53),s.Vb(102,"input",54),s.cc("change",function(e){return t.safetyProgramUpload(e)}),s.Ub(),s.Vb(103,"span",55),s.Dc(104," \xa0 Click here to Add Files"),s.Ub(),s.Ub(),s.Bc(105,An,2,1,"div",17),s.Bc(106,On,4,0,"div",56),s.Bc(107,En,7,2,"div",57),s.Ub(),s.Ub(),s.Ub(),s.Vb(108,"div",4),s.Vb(109,"div",43),s.Vb(110,"div",58),s.Vb(111,"div",59),s.Vb(112,"div",60),s.Vb(113,"div",45),s.Vb(114,"h6",61),s.Dc(115,"4. Do you have a drug and alcohol testing policy? "),s.Bc(116,Mn,2,0,"span",26),s.Ub(),s.Ub(),s.Vb(117,"div",45),s.Vb(118,"div",3),s.Vb(119,"span",11),s.Vb(120,"input",62),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Vb(121,"label",63),s.Dc(122," YES"),s.Ub(),s.Ub(),s.Vb(123,"span",14),s.Vb(124,"input",64),s.cc("ngModelChange",function(){return t.idleReset()})("click",function(){return t.resetDrug()}),s.Ub(),s.Vb(125,"label",65),s.Dc(126," NO"),s.Ub(),s.Ub(),s.Ub(),s.Bc(127,Bn,2,1,"div",17),s.Ub(),s.Ub(),s.Ub(),s.Vb(128,"div",66),s.Vb(129,"label",67),s.Dc(130,"Please attach your company's alcohol testing policy: "),s.Ub(),s.Vb(131,"div",53),s.Vb(132,"input",68),s.cc("change",function(e){return t.safetyofficerUpload(e)}),s.Ub(),s.Vb(133,"span",69),s.Dc(134," \xa0 Click here to Add Files"),s.Ub(),s.Ub(),s.Bc(135,Tn,2,1,"div",17),s.Bc(136,Ln,4,0,"div",56),s.Bc(137,Yn,7,2,"div",57),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(138,"div",3),s.Vb(139,"div",4),s.Vb(140,"div",43),s.Vb(141,"div",70),s.Vb(142,"h6",71),s.Dc(143,"5. TRIR Information "),s.Ub(),s.Ub(),s.Vb(144,"label",72),s.Dc(145,"List your company\u2019s Total Recordable Incident Rate (TRIR) for the past 3 years."),s.Bc(146,zn,2,0,"span",26),s.Ub(),s.Vb(147,"div",6),s.Vb(148,"div",45),s.Vb(149,"label",73),s.Dc(150,"Last year: "),s.Bc(151,Gn,2,0,"span",26),s.Ub(),s.Ub(),s.Vb(152,"div",45),s.Vb(153,"div"),s.Qb(154,"input",74),s.Ub(),s.Bc(155,$n,2,1,"div",17),s.Ub(),s.Ub(),s.Vb(156,"div",6),s.Vb(157,"div",45),s.Vb(158,"label",75),s.Dc(159,"Two years ago: "),s.Bc(160,Wn,2,0,"span",26),s.Ub(),s.Ub(),s.Vb(161,"div",45),s.Vb(162,"div"),s.Qb(163,"input",76),s.Ub(),s.Bc(164,Zn,2,1,"div",17),s.Ub(),s.Ub(),s.Vb(165,"div",6),s.Vb(166,"div",45),s.Vb(167,"label",77),s.Dc(168,"Three years ago: "),s.Bc(169,Kn,2,0,"span",26),s.Ub(),s.Ub(),s.Vb(170,"div",45),s.Vb(171,"div"),s.Qb(172,"input",78),s.Ub(),s.Bc(173,Xn,2,1,"div",17),s.Ub(),s.Ub(),s.Qb(174,"div",79),s.Qb(175,"div",80),s.Ub(),s.Ub(),s.Vb(176,"div",4),s.Vb(177,"div",43),s.Vb(178,"div",70),s.Vb(179,"h6",71),s.Dc(180,"6. OSHA Records "),s.Ub(),s.Vb(181,"div",81),s.Vb(182,"div",82),s.Vb(183,"label"),s.Dc(184,"I don\u2019t have more than 10 employees as of today?"),s.Ub(),s.Dc(185," \xa0 \xa0 \xa0 \xa0 "),s.Vb(186,"input",83),s.cc("change",function(){return t.isNumberEmployees(t.safetyinfoForm.value.isnumber_Of_Employees)}),s.Ub(),s.Ub(),s.Ub(),s.Vb(187,"div",81),s.Vb(188,"div",84),s.Vb(189,"label",85),s.Dc(190," How many employees does your company have as of today ? "),s.Bc(191,er,2,0,"span",26),s.Ub(),s.Vb(192,"input",86),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Bc(193,ir,2,1,"div",17),s.Ub(),s.Ub(),s.Ub(),s.Vb(194,"div",59),s.Vb(195,"label",87),s.Dc(196,"Provide Subcontractors's OSHA No. 300A Summary of Occupational injuries and illnesses of the past three years:"),s.Bc(197,or,2,0,"span",26),s.Ub(),s.Ub(),s.Vb(198,"div",88),s.Vb(199,"div",53),s.Vb(200,"input",89),s.cc("change",function(e){return t.OSHALastYearUpload(e)}),s.Ub(),s.Vb(201,"span",90),s.Dc(202," \xa0 Click here to Add Files"),s.Ub(),s.Ub(),s.Bc(203,nr,4,0,"div",56),s.Bc(204,ar,2,1,"div",17),s.Bc(205,sr,7,2,"div",57),s.Ub(),s.Vb(206,"div",91),s.Vb(207,"label",92),s.Dc(208,"Has OSHA (federal or state) issued any citation(s) to your company over the past 5 years period? "),s.Bc(209,cr,2,0,"span",26),s.Ub(),s.Vb(210,"div",60),s.Vb(211,"span",93),s.Vb(212,"input",94),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Vb(213,"label",95),s.Dc(214," YES"),s.Ub(),s.Ub(),s.Vb(215,"span",96),s.Vb(216,"input",97),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Vb(217,"label",98),s.Dc(218," NO"),s.Ub(),s.Ub(),s.Ub(),s.Bc(219,dr,2,1,"div",17),s.Vb(220,"div",99),s.Vb(221,"small",100),s.Dc(222,"If yes, please denote how many & other details."),s.Ub(),s.Ub(),s.Bc(223,hr,9,8,"div",101),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(224,"div",3),s.Vb(225,"div",4),s.Vb(226,"div",43),s.Vb(227,"div",70),s.Vb(228,"h6",102),s.Dc(229,"7. Experience Modification Rate (EMR) Records "),s.Ub(),s.Ub(),s.Vb(230,"label",103),s.Dc(231,"List your company\u2019s workers compensation / Experience Modification Rate (EMR) and the last 3 years. "),s.Bc(232,gr,2,0,"span",26),s.Ub(),s.Vb(233,"div",81),s.Vb(234,"div",45),s.Vb(235,"label",104),s.Dc(236,"Current year: "),s.Bc(237,_r,2,0,"span",26),s.Ub(),s.Ub(),s.Vb(238,"div",45),s.Vb(239,"div"),s.Qb(240,"input",105),s.Ub(),s.Bc(241,yr,2,1,"div",17),s.Ub(),s.Ub(),s.Vb(242,"div",81),s.Vb(243,"div",45),s.Vb(244,"label",106),s.Dc(245,"Last year: "),s.Bc(246,Vr,2,0,"span",26),s.Ub(),s.Ub(),s.Vb(247,"div",45),s.Vb(248,"div"),s.Qb(249,"input",107),s.Ub(),s.Bc(250,Dr,2,1,"div",17),s.Ub(),s.Ub(),s.Vb(251,"div",81),s.Vb(252,"div",45),s.Vb(253,"label",108),s.Dc(254,"Two years ago: "),s.Bc(255,Cr,2,0,"span",26),s.Ub(),s.Ub(),s.Vb(256,"div",45),s.Vb(257,"div"),s.Qb(258,"input",109),s.Ub(),s.Bc(259,Rr,2,1,"div",17),s.Qb(260,"div",80),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(261,"div",4),s.Vb(262,"div",43),s.Vb(263,"h6",110),s.Dc(264,"8. Attach a copy of the insurance agent's EMR verification letter: "),s.Bc(265,wr,2,0,"span",26),s.Ub(),s.Vb(266,"div",111),s.Vb(267,"label",112),s.Dc(268,"Add Attachment: "),s.Bc(269,Fr,2,0,"span",26),s.Ub(),s.Vb(270,"div",53),s.Vb(271,"input",113),s.cc("change",function(e){return t.emRVerificationUpload(e)}),s.Ub(),s.Vb(272,"span",114),s.Dc(273," \xa0 Click here to Add Files"),s.Ub(),s.Ub(),s.Bc(274,kr,2,1,"div",17),s.Bc(275,xr,4,0,"div",56),s.Bc(276,Pr,7,2,"div",57),s.Ub(),s.Qb(277,"div",115),s.Qb(278,"div",116),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Bc(279,jr,7,1,"div",117),s.Ub(),s.Bc(280,Ar,5,0,"div",118),s.Bc(281,Or,1,2,"app-safetycomment",119),s.Bc(282,Er,3,0,"div",120)),2&e&&(s.mc("formGroup",t.safetyinfoForm),s.Db(1),s.mc("ngClass",s.pc(121,mn,1==t.showdisabled)),s.Db(15),s.mc("ngClass",s.pc(123,fr,t.submitted&&t.f.is_Supplier.errors)),s.Db(3),s.mc("ngClass",s.pc(125,fr,t.submitted&&t.f.is_Supplier.errors)),s.Db(3),s.mc("ngIf",(t.f.is_Supplier.touched||t.submitted)&&t.f.is_Supplier.errors),s.Db(1),s.mc("ngIf","yes"==t.f.is_Supplier.value),s.Db(6),s.mc("ngClass",s.pc(127,mn,"yes"==t.f.is_Supplier.value)),s.Db(6),s.mc("ngIf",null==t.f.is_Safety_Officer||null==t.f.is_Safety_Officer.errors?null:t.f.is_Safety_Officer.errors.required),s.Db(4),s.mc("ngClass",s.pc(129,fr,t.submitted&&t.f.is_Safety_Officer.errors)),s.Eb("disabled","yes"==t.f.is_Supplier.value?"":null),s.Db(4),s.mc("ngClass",s.pc(131,fr,t.submitted&&t.f.is_Safety_Officer.errors)),s.Eb("disabled","yes"==t.f.is_Supplier.value?"":null),s.Db(3),s.mc("ngIf",t.submitted&&t.f.is_Safety_Officer.errors),s.Db(1),s.mc("ngClass",s.pc(133,mn,"no"==t.f.is_Safety_Officer.value)),s.Db(5),s.mc("ngIf",null==t.f.safety_Officer_Name||null==t.f.safety_Officer_Name.errors?null:t.f.safety_Officer_Name.errors.required),s.Db(2),s.mc("ngClass",s.pc(135,fr,t.submitted&&t.f.safety_Officer_Name.errors)),s.Eb("disabled","no"==t.safetyinfoForm.value.is_Safety_Officer?"":null),s.Db(1),s.mc("ngIf",(t.submitted||t.f.safety_Officer_Name.touched)&&t.f.safety_Officer_Name.errors),s.Db(1),s.mc("ngClass",s.pc(137,mn,"no"==t.f.is_Safety_Officer.value)),s.Db(5),s.mc("ngIf",null==t.f.safety_Officer_Phone||null==t.f.safety_Officer_Phone.errors?null:t.f.safety_Officer_Phone.errors.required),s.Db(4),s.mc("ngClass",s.pc(139,fr,t.submitted&&t.f.safety_Officer_Phone.errors)),s.Eb("disabled","no"==t.safetyinfoForm.value.is_Safety_Officer?"":null),s.Db(1),s.mc("ngIf",(t.submitted||t.f.safety_Officer_Phone.touched)&&t.f.safety_Officer_Phone.errors),s.Db(2),s.mc("ngClass",s.pc(141,fr,t.submitted&&t.f.safety_Officer_Phone_Ext.errors)),s.Eb("disabled","no"==t.safetyinfoForm.value.is_Safety_Officer?"":null),s.Db(1),s.mc("ngIf",(t.submitted||t.f.safety_Officer_Phone_Ext.touched)&&t.f.safety_Officer_Phone_Ext.errors),s.Db(1),s.mc("ngClass",s.pc(143,mn,"no"==t.f.is_Safety_Officer.value)),s.Db(5),s.mc("ngIf",null==t.f.safety_Officer_Email||null==t.f.safety_Officer_Email.errors?null:t.f.safety_Officer_Email.errors.required),s.Db(2),s.mc("ngClass",s.pc(145,fr,t.submitted&&t.f.safety_Officer_Email.errors)),s.Eb("disabled","no"==t.safetyinfoForm.value.is_Safety_Officer?"":null),s.Db(1),s.mc("ngIf",(t.submitted||t.f.safety_Officer_Email.touched)&&t.f.safety_Officer_Email.errors),s.Db(3),s.mc("ngClass",s.pc(147,mn,"yes"==t.f.is_Supplier.value)),s.Db(5),s.mc("ngIf","no"==(null==t.safetyinfoForm||null==t.safetyinfoForm.value?null:t.safetyinfoForm.value.is_Supplier)),s.Db(4),s.mc("ngClass",s.pc(149,fr,t.submitted&&t.f.is_Safety_Program.errors)),s.Eb("disabled","yes"==t.f.is_Supplier.value?"":null),s.Db(4),s.mc("ngClass",s.pc(151,fr,t.submitted&&t.f.is_Safety_Program.errors)),s.Eb("disabled","yes"==t.f.is_Supplier.value?"":null),s.Db(3),s.mc("ngIf",t.submitted&&t.f.is_Safety_Program.errors),s.Db(1),s.mc("ngClass",s.pc(153,mn,"no"==t.f.is_Safety_Program.value)),s.Db(4),s.mc("ngClass",s.pc(155,fr,t.submitted&&t.f.safety_Program_Upload.errors)),s.Eb("disabled",1==t.showdisabled||("no"==t.f.is_Safety_Program.value?"":null)),s.Db(1),s.mc("ngClass",s.pc(157,mn,t.showdisabled||"yes"==t.f.is_Supplier.value||"no"==t.f.is_Safety_Program.value)),s.Db(2),s.mc("ngIf",t.submitted&&t.f.safety_Program_Upload.errors),s.Db(1),s.mc("ngIf",null==t.spinner?null:t.spinner.safetySpinner),s.Db(1),s.mc("ngForOf",t.safetyProgramAttachments),s.Db(2),s.mc("ngClass",s.pc(159,mn,"yes"==t.f.is_Supplier.value)),s.Db(7),s.mc("ngIf","no"==(null==t.safetyinfoForm||null==t.safetyinfoForm.value?null:t.safetyinfoForm.value.is_Supplier)),s.Db(4),s.mc("ngClass",s.pc(161,fr,t.submitted&&t.f.is_Drug_Testing_Policy.errors)),s.Eb("disabled","yes"==t.f.is_Supplier.value?"":null),s.Db(4),s.mc("ngClass",s.pc(163,fr,t.submitted&&t.f.is_Drug_Testing_Policy.errors)),s.Eb("disabled","yes"==t.f.is_Supplier.value?"":null),s.Db(3),s.mc("ngIf",t.submitted&&t.f.is_Drug_Testing_Policy.errors),s.Db(1),s.mc("ngClass",s.pc(165,mn,"no"==t.f.is_Drug_Testing_Policy.value)),s.Db(4),s.mc("ngClass",s.pc(167,fr,t.submitted&&t.f.drug_Testing_Upload.errors)),s.Eb("disabled",1==t.showdisabled||("yes"==t.f.is_Drug_Testing_Policy.value?"":null)),s.Db(1),s.mc("ngClass",s.pc(169,mn,t.showdisabled||"yes"==t.f.is_Supplier.value||"no"==t.f.is_Drug_Testing_Policy.value)),s.Db(2),s.mc("ngIf",t.submitted&&t.f.drug_Testing_Upload.errors),s.Db(1),s.mc("ngIf",null==t.spinner?null:t.spinner.drugtestingSpinner),s.Db(1),s.mc("ngForOf",t.drugTesting),s.Db(3),s.mc("ngClass",s.pc(171,mn,"yes"==t.f.is_Supplier.value)),s.Db(6),s.mc("ngIf","no"==(null==t.safetyinfoForm||null==t.safetyinfoForm.value?null:t.safetyinfoForm.value.is_Supplier)),s.Db(5),s.mc("ngIf","no"==(null==t.safetyinfoForm||null==t.safetyinfoForm.value?null:t.safetyinfoForm.value.is_Supplier)||(null==t.f.triR_Info_LastYear||null==t.f.triR_Info_LastYear.errors?null:t.f.triR_Info_LastYear.errors.required)),s.Db(3),s.mc("ngClass",s.pc(173,fr,t.submitted&&t.f.triR_Info_LastYear.errors)),s.Eb("disabled","yes"==t.f.is_Supplier.value?"":null),s.Db(1),s.mc("ngIf",t.submitted&&t.f.triR_Info_LastYear.errors),s.Db(5),s.mc("ngIf","no"==(null==t.safetyinfoForm||null==t.safetyinfoForm.value?null:t.safetyinfoForm.value.is_Supplier)||(null==t.f.triR_Info_TwoYears||null==t.f.triR_Info_TwoYears.errors?null:t.f.triR_Info_TwoYears.errors.required)),s.Db(3),s.mc("ngClass",s.pc(175,fr,t.submitted&&t.f.triR_Info_TwoYears.errors)),s.Eb("disabled","yes"==t.f.is_Supplier.value?"":null),s.Db(1),s.mc("ngIf",t.submitted&&t.f.triR_Info_TwoYears.errors),s.Db(5),s.mc("ngIf","no"==(null==t.safetyinfoForm||null==t.safetyinfoForm.value?null:t.safetyinfoForm.value.is_Supplier)||(null==t.f.triR_Info_ThreeYears||null==t.f.triR_Info_ThreeYears.errors?null:t.f.triR_Info_ThreeYears.errors.required)),s.Db(3),s.mc("ngClass",s.pc(177,fr,t.submitted&&t.f.triR_Info_ThreeYears.errors)),s.Eb("disabled","yes"==t.f.is_Supplier.value?"":null),s.Db(1),s.mc("ngIf",t.submitted&&t.f.triR_Info_ThreeYears.errors),s.Db(4),s.mc("ngClass",s.pc(179,mn,"yes"==t.f.is_Supplier.value)),s.Db(9),s.Eb("disabled","yes"==t.f.is_Supplier.value?"":null),s.Db(5),s.mc("ngIf","no"==(null==t.safetyinfoForm||null==t.safetyinfoForm.value?null:t.safetyinfoForm.value.is_Supplier)),s.Db(1),s.mc("ngClass",s.pc(181,fr,t.submitted&&t.f.number_Of_Employees.errors)),s.Eb("disabled","yes"==t.f.is_Supplier.value?"":null),s.Db(1),s.mc("ngIf",(t.submitted||t.f.number_Of_Employees.touched)&&t.f.number_Of_Employees.errors),s.Db(4),s.mc("ngIf","no"==(null==t.safetyinfoForm||null==t.safetyinfoForm.value?null:t.safetyinfoForm.value.is_Supplier)),s.Db(3),s.mc("ngClass",s.pc(183,fr,t.submitted&&t.f.oshA_Log_LastYear.errors)),s.Eb("disabled",!0!==t.showdisabled&&("yes"==t.f.is_Supplier.value||1==t.f.isnumber_Of_Employees.value?"":null)),s.Db(1),s.mc("ngClass",s.pc(185,mn,t.showdisabled||"yes"==t.f.is_Supplier.value||1==t.f.isnumber_Of_Employees.value)),s.Db(2),s.mc("ngIf",null==t.spinner?null:t.spinner.oshaLastSpinner),s.Db(1),s.mc("ngIf",t.submitted&&t.f.oshA_Log_LastYear.errors),s.Db(1),s.mc("ngForOf",t.oshALogLastYear),s.Db(4),s.mc("ngIf","no"==(null==t.safetyinfoForm||null==t.safetyinfoForm.value?null:t.safetyinfoForm.value.is_Supplier)),s.Db(3),s.mc("ngClass",s.pc(187,fr,t.submitted&&t.f.is_OSHA.errors)),s.Eb("disabled","yes"==t.f.is_Supplier.value?"":null),s.Db(4),s.mc("ngClass",s.pc(189,fr,t.submitted&&t.f.is_OSHA.errors)),s.Eb("disabled","yes"==t.f.is_Supplier.value?"":null),s.Db(3),s.mc("ngIf",t.submitted&&t.f.is_OSHA.errors),s.Db(2),s.mc("ngClass",s.pc(191,mn,t.showdisabled||"yes"==t.f.is_Supplier.value)),s.Db(2),s.mc("ngIf","yes"==t.f.is_OSHA.value),s.Db(3),s.mc("ngClass",s.pc(193,mn,"yes"==t.f.is_Supplier.value)),s.Db(6),s.mc("ngIf","no"==(null==t.safetyinfoForm||null==t.safetyinfoForm.value?null:t.safetyinfoForm.value.is_Supplier)),s.Db(5),s.mc("ngIf","no"==(null==t.safetyinfoForm||null==t.safetyinfoForm.value?null:t.safetyinfoForm.value.is_Supplier)||(null==t.f.emR_LastYear_Upload||null==t.f.emR_LastYear_Upload.errors?null:t.f.emR_LastYear_Upload.errors.required)),s.Db(3),s.mc("ngClass",s.pc(195,fr,t.submitted&&t.f.emR_LastYear_Upload.errors)),s.Eb("disabled","yes"==t.f.is_Supplier.value?"":null),s.Db(1),s.mc("ngIf",t.submitted&&t.f.emR_LastYear_Upload.errors),s.Db(5),s.mc("ngIf","no"==(null==t.safetyinfoForm||null==t.safetyinfoForm.value?null:t.safetyinfoForm.value.is_Supplier)||(null==t.f.emR_TwoYears_Upload||null==t.f.emR_TwoYears_Upload.errors?null:t.f.emR_TwoYears_Upload.errors.required)),s.Db(3),s.mc("ngClass",s.pc(197,fr,t.submitted&&t.f.emR_TwoYears_Upload.errors)),s.Eb("disabled","yes"==t.f.is_Supplier.value?"":null),s.Db(1),s.mc("ngIf",t.submitted&&t.f.emR_TwoYears_Upload.errors),s.Db(5),s.mc("ngIf","no"==(null==t.safetyinfoForm||null==t.safetyinfoForm.value?null:t.safetyinfoForm.value.is_Supplier)||(null==t.f.emR_ThreeYears_Upload||null==t.f.emR_ThreeYears_Upload.errors?null:t.f.emR_ThreeYears_Upload.errors.required)),s.Db(3),s.mc("ngClass",s.pc(199,fr,t.submitted&&t.f.emR_ThreeYears_Upload.errors)),s.Eb("disabled",!0===t.showdisabled||"yes"==t.f.is_Supplier.value?"":null),s.Db(1),s.mc("ngIf",t.submitted&&t.f.emR_ThreeYears_Upload.errors),s.Db(3),s.mc("ngClass",s.pc(201,mn,"yes"==t.f.is_Supplier.value)),s.Db(3),s.mc("ngIf","no"==(null==t.safetyinfoForm||null==t.safetyinfoForm.value?null:t.safetyinfoForm.value.is_Supplier)),s.Db(4),s.mc("ngIf",null==t.f.emR_Verification_Upload||null==t.f.emR_Verification_Upload.errors?null:t.f.emR_Verification_Upload.errors.required),s.Db(2),s.mc("ngClass",s.pc(203,fr,t.submitted&&t.f.emR_Verification_Upload.errors)),s.Eb("disabled",1==t.showdisabled||"yes"==t.f.is_Supplier.value?"":null),s.Db(1),s.mc("ngClass",s.pc(205,mn,t.showdisabled||"yes"==t.f.is_Supplier.value)),s.Db(2),s.mc("ngIf",t.submitted&&t.f.emR_Verification_Upload.errors),s.Db(1),s.mc("ngIf",null==t.spinner?null:t.spinner.emrverification),s.Db(1),s.mc("ngForOf",t.emRVerification),s.Db(3),s.mc("ngIf",!(t.showAdmin||t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status)),s.Db(1),s.mc("ngIf",!t.showAdmin&&t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status||t.showAdmin&&"SafetyUser"!=t.userRole),s.Db(1),s.mc("ngIf","Subcontractor"!=t.userRole&&"Prequal form submitted and under quality check"!=t.prequalification_status),s.Db(1),s.mc("ngIf","SafetyUser"==t.userRole))},directives:[n.v,n.k,n.g,o.j,n.q,n.b,n.j,n.f,o.l,n.p,y,n.o,o.k,n.a,P.a,un],styles:[".form-group[_ngcontent-%COMP%]{margin:15px 0}input[type=text][_ngcontent-%COMP%]:disabled{background:#ddd}.border[_ngcontent-%COMP%]{border:4px solid hsla(0,0%,86.7%,.6196078431372549)!important}.col-curve-top[_ngcontent-%COMP%]{border-top-left-radius:18px 19px!important;border-top-right-radius:18px 19px!important;border-bottom-left-radius:10px 10px!important;border-bottom-right-radius:10px 10px!important;border-top:6px solid #c3bdbd!important}.col-curve[_ngcontent-%COMP%]{border-radius:10px 10px!important}.form-group[_ngcontent-%COMP%]{margin:0!important}.bg-grey[_ngcontent-%COMP%]{color:#c7bfbf!important}h6[_ngcontent-%COMP%]{font-size:13px!important}.fupupload[_ngcontent-%COMP%]{width:75%;display:inline-block;margin-left:5px}.px-auto[_ngcontent-%COMP%]{margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0}"]}),e})();function Nr(e,t){1&e&&(s.Vb(0,"div",36),s.Vb(1,"div",37),s.Vb(2,"h6",38),s.Dc(3,'PLEASE READ CAREFULLY AND REVIEW NEXT STEPS BEFORE CHECKING ON "SUBMIT"'),s.Ub(),s.Vb(4,"div",39),s.Vb(5,"ul",40),s.Vb(6,"li"),s.Dc(7,"Once you click on the \u2018SUBMIT\u2019 button, all the sections on the prequalification form will be closed and no edits can be made."),s.Ub(),s.Vb(8,"li"),s.Dc(9,"Messer will review your information, which can take up to 5-7 business days after you have submitted your information."),s.Ub(),s.Vb(10,"li"),s.Dc(11,"Any missing documents or information from your side will delay in review of your prequalification info."),s.Ub(),s.Vb(12,"li"),s.Dc(13,"Messer will contact your prequalification contact any additional questions or clarifications related to your prequalification info. "),s.Ub(),s.Vb(14,"li"),s.Dc(15,"Messer will reopen your prequalification form only if additional info is required for submission from you. And, yes, this will delay the review of your prequalification form."),s.Ub(),s.Vb(16,"li"),s.Dc(17,"Prequalification form status on your welcome page will give your progress updates as Messer reviews your information."),s.Ub(),s.Vb(18,"li"),s.Dc(19,"You'll also receive email notifications as we review the prequalification information. Please check your spam folder, we don't control your email receipt setting."),s.Ub(),s.Vb(20,"li"),s.Dc(21,"Thanks for your patience and wanting to be a Messer Business partner"),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub())}function Br(e,t){if(1&e){const e=s.Wb();s.Vb(0,"div",61),s.Vb(1,"button",62),s.cc("click",function(){return s.uc(e),s.gc(2).riskAddInfoSave("save")}),s.Dc(2,"SAVE"),s.Ub(),s.Vb(3,"button",63),s.cc("click",function(){s.uc(e);const t=s.gc(2);return t.approvedclicked=!0,t.approvealert()})("click",function(){return s.uc(e),s.gc(2).riskAddInfoSave("reject")}),s.Dc(4,"POST TO SUBCONTRACTOR"),s.Ub(),s.Ub()}if(2&e){const e=s.gc(2);s.Db(1),s.Eb("disabled","no"!=e.submitForm.value.additional_Info&&null),s.Db(2),s.Eb("disabled","no"!=e.submitForm.value.additional_Info&&null)}}function qr(e,t){if(1&e){const e=s.Wb();s.Vb(0,"div",61),s.Vb(1,"button",64),s.cc("click",function(){return s.uc(e),s.gc(2).gotoHome()}),s.Dc(2," << BACK"),s.Ub(),s.Vb(3,"button",65),s.cc("click",function(){return s.uc(e),s.gc(2).beginRiskReview()}),s.Dc(4,"BEGIN RISK REVIEW"),s.Ub(),s.Ub()}if(2&e){const e=s.gc(2);s.Db(3),s.Eb("disabled","yes"==e.submitForm.value.additional_Info?"":null)}}function Tr(e,t){if(1&e){const e=s.Wb();s.Vb(0,"form",22),s.cc("keydown.enter",function(e){return e.preventDefault()}),s.Vb(1,"div",36),s.Vb(2,"div",36),s.Vb(3,"h2",41),s.Dc(4,"RISK DOCUMENT QUALITY CHECKLIST"),s.Ub(),s.Vb(5,"div",42),s.Vb(6,"ul",43),s.Vb(7,"li"),s.Dc(8,"1. Please ensure you've opened and reviewed all documents submitted by the subcontractor are the correct documents for the review."),s.Ub(),s.Vb(9,"li"),s.Dc(10,"2. If additional documents are needed, we suggest you call the subcontractor and have conversation with them before an email is sent to the subcontactor."),s.Ub(),s.Vb(11,"li"),s.Dc(12,'3. Email is auto generated by the MBP and will be sent when you click on "Send notes to Subcontractor". The same will also be posted on the subcontactor\'s welcome page under their status.'),s.Ub(),s.Vb(13,"li",44),s.Dc(14,"4. Don't start the Risk Review I until you have all required documents from the subcontractor."),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(15,"div",45),s.Vb(16,"div",46),s.Vb(17,"div",47),s.Vb(18,"span",48),s.Vb(19,"input",49),s.cc("ngModelChange",function(){return s.uc(e),s.gc().idleReset()})("click",function(){return s.uc(e),s.gc().additionalInfoClick("yes")}),s.Ub(),s.Vb(20,"span",50),s.Dc(21," Need Additional info from the subcontractor. "),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(22,"div",51),s.Vb(23,"div",52),s.Vb(24,"label",53),s.Dc(25," Risk Notes to Subcontactor"),s.Vb(26,"span",54),s.Dc(27,"(Subcontactor visible)"),s.Ub(),s.Ub(),s.Ub(),s.Vb(28,"div",55),s.Qb(29,"textarea",56),s.Ub(),s.Ub(),s.Vb(30,"div",36),s.Bc(31,Br,5,2,"div",57),s.Ub(),s.Vb(32,"div",51),s.Vb(33,"div",58),s.Vb(34,"div",47),s.Vb(35,"span",48),s.Vb(36,"input",59),s.cc("ngModelChange",function(){return s.uc(e),s.gc().idleReset()})("click",function(){return s.uc(e),s.gc().additionalInfoClick("no")}),s.Ub(),s.Vb(37,"span",60),s.Dc(38," Subcontractor has submitted all required all documents, I'm ready for my review. "),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(39,"div",45),s.Bc(40,qr,5,1,"div",57),s.Ub(),s.Ub(),s.Ub()}if(2&e){const e=s.gc();s.mc("formGroup",e.submitForm),s.Db(29),s.Eb("disabled","no"!=e.submitForm.value.additional_Info&&null),s.Db(2),s.mc("ngIf","Admin"==e.userRole||!e.showrisk1status&&"RiskUser"==e.userRole||!e.showrisk2status&&"RiskUser2"==e.userRole),s.Db(9),s.mc("ngIf","Admin"==e.userRole||!e.showrisk1status&&"RiskUser"==e.userRole||!e.showrisk2status&&"RiskUser2"==e.userRole)}}const Lr=function(e){return{"text-red":e}};function Yr(e,t){if(1&e&&(s.Vb(0,"p",78),s.Vb(1,"span",79),s.Dc(2,"Application Status: "),s.Vb(3,"span",80),s.Dc(4),s.Ub(),s.Ub(),s.Ub()),2&e){const e=s.gc(2).$implicit;s.Db(3),s.mc("ngClass",s.pc(2,Lr,"Additional Info Needed from Subcontractor"==e.risk_Reviewer_2_Status)),s.Db(1),s.Ec(e.risk_Reviewer_2_Status)}}function zr(e,t){1&e&&(s.Vb(0,"p"),s.Vb(1,"span",79),s.Dc(2,"Send Back Reason:"),s.Ub(),s.Ub())}function Gr(e,t){if(1&e&&(s.Vb(0,"small",81),s.Vb(1,"span",82),s.Dc(2),s.Ub(),s.Ub()),2&e){const e=s.gc(2).$implicit;s.Db(2),s.Ec(e.risk_Reviewer_2_Reason)}}function Qr(e,t){if(1&e&&(s.Vb(0,"small",81),s.Vb(1,"span",82),s.Dc(2),s.Ub(),s.Ub()),2&e){const e=s.gc(2).$implicit;s.Db(2),s.Ec(e.risk_Reviewer_2_Approved_Notes)}}function $r(e,t){if(1&e&&(s.Vb(0,"div"),s.Vb(1,"div",36),s.Vb(2,"div",71),s.Bc(3,Yr,5,4,"p",72),s.Ub(),s.Vb(4,"div",73),s.Vb(5,"p",74),s.Dc(6,"Date: "),s.Vb(7,"span",75),s.Dc(8),s.hc(9,"date"),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(10,"div",36),s.Vb(11,"div",76),s.Bc(12,zr,3,0,"p",70),s.Bc(13,Gr,3,1,"small",77),s.Bc(14,Qr,3,1,"small",77),s.Ub(),s.Ub(),s.Ub()),2&e){const e=s.gc().$implicit;s.Db(3),s.mc("ngIf","Additional Info Needed from Subcontractor"==e.risk_Reviewer_2_Status||"Approved"==e.risk_Reviewer_2_Status),s.Db(5),s.Ec(s.jc(9,5,e.reviewer_2_Approved_Date,"MM/dd/yyyy")),s.Db(4),s.mc("ngIf","Additional Info Needed from Subcontractor"==e.risk_Reviewer_2_Status),s.Db(1),s.mc("ngIf",null!=e.risk_Reviewer_2_Reason&&"undefined"!=e.risk_Reviewer_2_Reason&&"null"!=e.risk_Reviewer_2_Reason&&"Additional Info Needed from Subcontractor"==e.risk_Reviewer_2_Status),s.Db(1),s.mc("ngIf",null!=e.risk_Reviewer_2_Approved_Notes&&"null"!=e.risk_Reviewer_2_Approved_Notes&&"undefined"!=e.risk_Reviewer_2_Reason&&"Approved"==e.risk_Reviewer_2_Status)}}function Wr(e,t){if(1&e&&(s.Vb(0,"div",69),s.Bc(1,$r,15,8,"div",70),s.Ub()),2&e){const e=t.$implicit;s.Db(1),s.mc("ngIf",null!=e.risk_Reviewer_2_Status)}}function Hr(e,t){if(1&e&&(s.Vb(0,"div",66),s.Vb(1,"h6",67),s.Dc(2,"Risk User 2 - Review"),s.Ub(),s.Bc(3,Wr,2,1,"div",68),s.Ub()),2&e){const e=s.gc();s.Db(3),s.mc("ngForOf",e.getrisk2records)}}function Zr(e,t){if(1&e){const e=s.Wb();s.Vb(0,"button",85),s.cc("click",function(){return s.uc(e),s.gc(2).submit()}),s.Dc(1,"SUBMIT"),s.Ub()}}function Kr(e,t){if(1&e){const e=s.Wb();s.Vb(0,"div",83),s.Vb(1,"button",64),s.cc("click",function(){return s.uc(e),s.gc().gotoHome()}),s.Dc(2," << BACK"),s.Ub(),s.Bc(3,Zr,2,0,"button",84),s.Ub()}if(2&e){const e=s.gc();s.Db(3),s.mc("ngIf",!e.prequalification_status||"To complete prequalification"==e.prequalification_status||"Additional Info Needed from Subcontractor"==e.prequalification_status)}}function Jr(e,t){1&e&&(s.Vb(0,"div",86),s.Vb(1,"div"),s.Dc(2,"Reason is required"),s.Ub(),s.Ub())}function Xr(e,t){1&e&&(s.Vb(0,"div",86),s.Vb(1,"div"),s.Dc(2,"Reason is required"),s.Ub(),s.Ub())}function ea(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Reason is required"),s.Ub())}function ta(e,t){if(1&e&&(s.Vb(0,"div",86),s.Bc(1,ea,2,0,"div",70),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.approve_reason.errors.required)}}function ia(e,t){if(1&e&&(s.Vb(0,"li"),s.Dc(1),s.Ub()),2&e){const e=t.$implicit;s.Db(1),s.Fc(" ",e," ")}}const oa=function(e){return{"is-invalid":e}};let na=(()=>{class e{constructor(e,t,i,o,r,a,s,c,l,d){this.formBuilder=e,this.router=t,this.financialservice=i,this.bnIdle=o,this.keepalive=r,this.toastr=a,this.companyservice=s,this.loginInfo=c,this.sanitizer=l,this.ngxUiLoader=d,this.currentForm=7,this.tempcompanyid=0,this.submitText="SAVE",this.showAdmin=!1,this.companyId=0,this.requiredField=[],this.submitForm=this.formBuilder.group({id:[0],companyId:[0],reject_Reason:["",[n.u.required]],additional_Info:"no",approve_reason:[""]}),this.getriskrecords=[],this.getrisk2records=[],this.resetTimer=0,this.submitted=!1,this.isCompleted=!1,this.rejecionrequired=!1,this.approvedclicked=!1,this.approvesubmitted=!1}ngOnInit(){this.ngxUiLoader.startLoader("loader-01"),localStorage.setItem("currPage","submittomesser"),this.prequalification_status=this.loginInfo.organization_status;let e=localStorage.getItem("userDetails");e=JSON.parse(atob(e)),this.userDetails=e,this.userRole=e.role,console.log(this.userRole),this.tempcompanyid=localStorage.getItem("tempcompanyid"),this.tempcompanyid=Number(atob(this.tempcompanyid)),this.submitText="SAVE",this.tempcompanyid>0&&"Subcontractor"!=this.userRole&&(this.showAdmin=!0,this.companyId=this.tempcompanyid,console.log(this.companyId),this.getRecords(),this.submitForm.controls.reject_Reason.enable(),this.submitForm.controls.reject_Reason.updateValueAndValidity()),null!=this.userDetails.vendorId&&null!=this.userDetails.taxId&&"Subcontractor"==this.userRole&&this.financialservice.getUser(this.userDetails.vendorId,this.userDetails.taxId).subscribe(e=>{this.companyId=e.id,this.getRecords(),this.companyservice.getRecord(this.companyId).subscribe(e=>{this.updateCompanyinfo(e),this.prequalification_status=e[0].preQualification_Status})}),this.ngxUiLoader.stopLoader("loader-01")}ngAfterViewInit(){this.keepalive.interval(30),this.keepalive.stop()}ngOnDestroy(){this.keepalive.stop()}getRecords(){console.log(this.userDetails),this.companyservice.getRecord(this.companyId).subscribe(e=>{this.updateCompanyinfo(e),this.financialservice.getRiskRecords(this.companyId).subscribe(e=>{var t,i;console.log(e),this.getriskrecords=[],this.getrisk2records=[],null==e||e.data.filter(e=>{e.risk_Reviewer_1_Status&&this.getriskrecords.push(e),e.risk_Reviewer_2_Status&&this.getrisk2records.push(e)}),this.showrisk1status=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.some(this.checkRisk1approved),this.showrisk2status=null===(i=null==e?void 0:e.data)||void 0===i?void 0:i.some(this.checkRisk2approved),console.log(this.getrisk2records,this.showrisk2status,this.getriskrecords,this.showrisk1status,this.showrisk2status)})})}checkRisk2approved(e){return"Approved"==e.risk_Reviewer_2_Status}checkRisk1approved(e){return"Approved"==e.risk_Reviewer_1_Status}updateCompanyinfo(e){this.submitForm.patchValue({id:this.companyId}),e.length>0&&(this.reject_Reason=e[0].reject_Reason,this.prequalification_status=e[0].preQualification_Status,this.risk_Reviewer_1_Reason=e[0].risk_Reviewer_1_Reason,this.risk_Reviewer_2_Reason=e[0].risk_Reviewer_2_Reason),"Subcontractor"!=this.userRole&&this.submitForm.patchValue(null!=this.reject_Reason&&"null"!=this.reject_Reason&&"undefined"!=this.reject_Reason?{reject_Reason:this.reject_Reason,additional_Info:"yes"}:{reject_Reason:"",additional_Info:"no"})}idleReset(){this.keepalive.stop(),this.keepalive.start(),this.resetTimer=0}submit(){this.submitted=!0,this.keepalive.stop(),this.companyId&&this.financialservice.getComplete(this.companyId).subscribe(e=>{var t;if((null==e?void 0:e.length)&&"true"==(null===(t=e[0])||void 0===t?void 0:t.standing))document.getElementById("beforesubmitmodal").click();else{let e=[];this.companyservice.getFormStatus(this.companyId).subscribe(t=>{var i,o,n,r,a,s,c;(null==t?void 0:t.length)&&(this.ngxUiLoader.stop(),document.getElementById("formsubmitmodal").click(),"Completed"!=(null===(i=t[0])||void 0===i?void 0:i.organizationStatus)&&e.push("Organization"),"Completed"!=(null===(o=t[0])||void 0===o?void 0:o.personnel)&&e.push("Personnel & Management Approach"),"Completed"!=(null===(n=t[0])||void 0===n?void 0:n.reference)&&e.push("References"),"Completed"!=(null===(r=t[0])||void 0===r?void 0:r.safety)&&e.push("Safety Info"),"Completed"!=(null===(a=t[0])||void 0===a?void 0:a.surity)&&e.push("Surety Info"),"Completed"!=(null===(s=t[0])||void 0===s?void 0:s.finance)&&e.push("Financial Info"),"Completed"!=(null===(c=t[0])||void 0===c?void 0:c.signature)&&e.push("Signature"),this.requiredField=e)})}})}riskAddInfoSave(e){let t=new FormData;t.append("PreQualification_Status","Additional Info Needed from Subcontractor"),t.append("Approved_Date",(new Date).toLocaleString()),t.append("User_Type",this.userRole),t.append("Reject_Reason",this.submitForm.value.reject_Reason),this.financialservice.updateOrgRecord(t,this.submitForm.value.id).subscribe(e=>{this.router.navigate(["/home"])})}beginRiskReview(){let e=new FormData;e.append("PreQualification_Status","Under Risk Review I"),e.append("Approved_Date",(new Date).toLocaleString()),e.append("User_Type",this.userRole),e.append("Reject_Reason",""),this.financialservice.updateOrgRecord(e,this.submitForm.value.id).subscribe(e=>{this.router.navigate(["/home"])})}additionalInfoClick(e){"no"===e?(this.submitForm.controls.reject_Reason.setValue(""),this.submitForm.controls.reject_Reason.clearValidators()):this.submitForm.controls.reject_Reason.setValidators([n.u.required]),this.submitForm.updateValueAndValidity()}getComplete(){this.financialservice.getComplete(this.companyId).subscribe(e=>{if(e.length>0&&("To complete prequalification"==e[0].preQualification_Status||"Additional Info Needed from Subcontractor"==e[0].preQualification_Status)){this.isCompleted=!0;let e=new FormData;e.append("PreQualification_Status","Prequal form submitted and under quality check"),e.append("Approved_Date",(new Date).toLocaleString()),e.append("User_Type",this.userRole),this.financialservice.updateOrgRecord(e,this.submitForm.value.id).subscribe(e=>{this.router.navigate(["/home"])})}})}completion(){if(this.submitForm.controls.reject_Reason.clearValidators(),this.submitForm.updateValueAndValidity(),this.approvesubmitted=!0,this.submitForm.valid){let e=new FormData;"Subcontractor"==this.userRole?e.append("PreQualification_Status","Under initial Risk review"):"RiskUser"==this.userRole?e.append("PreQualification_Status","Under final Risk review"):"RiskUser2"==this.userRole&&e.append("PreQualification_Status","Risk review Completed"),e.append("User_Type",this.userRole),e.append("Approved_Notes",this.submitForm.value.approve_reason),this.financialservice.updateOrgRecord(e,this.submitForm.value.id).subscribe(e=>{this.companyId=e.id,this.submitForm.patchValue({reject_Reason:""}),this.approvedclicked=!1,document.getElementById("approveModals").click(),this.getRecords(),this.toastr.success("Submission approved successfully","Submit To Messer")})}}condApprove(){if(0==this.submitForm.value.reject_Reason.length)this.submitted=!0;else{let e=new FormData;e.append("PreQualification_Status","Additional Info Needed from Subcontractor"),e.append("User_Type",this.userRole),e.append("reject_Reason",this.submitForm.value.reject_Reason),this.financialservice.updateOrgRecord(e,this.companyId).subscribe(e=>{this.companyId=e.id,document.getElementById("exampleModals").click(),this.getRecords(),this.toastr.success("Submission conditionally approved successfully","Submit To Messer")})}}get f(){var e;return(null===(e=this.submitForm.value.reject_Reason)||void 0===e?void 0:e.length)>0?this.submitForm.controls.reject_Reason.setValidators([n.u.required]):this.submitForm.controls.reject_Reason.clearValidators(),this.submitForm.controls.reject_Reason.updateValueAndValidity(),1==this.approvedclicked?this.submitForm.controls.approve_reason.setValidators([n.u.required]):this.submitForm.controls.approve_reason.clearValidators(),this.submitForm.controls.approve_reason.updateValueAndValidity(),this.submitForm.controls}gotoHome(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm-1].url}`])}rejectionalert(){this.submitForm.value.reject_Reason.length>0?(this.submitForm.controls.reject_Reason.setValidators(null),this.submitForm.updateValueAndValidity()):(this.submitForm.controls.reject_Reason.setValidators([n.u.required]),this.submitForm.updateValueAndValidity()),this.condApprovetxt()}condApprovetxt(){var e;(null===(e=this.submitForm.value.reject_Reason)||void 0===e?void 0:e.length)>0?(this.submitted=!1,this.rejecionrequired=!1):(this.submitted=!0,this.rejecionrequired=!0),this.submitForm.controls.reject_Reason.enable(),this.submitForm.controls.reject_Reason.updateValueAndValidity()}approvealert(){}}return e.\u0275fac=function(t){return new(t||e)(s.Pb(n.d),s.Pb(r.f),s.Pb(Ii),s.Pb(l.a),s.Pb(u.a),s.Pb(f.b),s.Pb(c.a),s.Pb(_),s.Pb(Ri.b),s.Pb(v.c))},e.\u0275cmp=s.Jb({type:e,selectors:[["app-submit-to-messer"]],decls:75,vars:22,consts:[["class","row",4,"ngIf"],["class","px-2",3,"formGroup","keydown.enter",4,"ngIf"],["class","mr-4 px-3 mt-4 pb-4",4,"ngIf"],["class","text-end mx-lg-4 my-4",4,"ngIf"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","false",1,"modal","fade"],["exampleModal",""],[1,"modal-dialog","modal-lg","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","text-success"],["type","button","id","closebutton","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"px-2",3,"formGroup","ngSubmit","keydown.enter"],["formControlName","reject_Reason","id","reject_Reason","rows","13","name","reject_Reason",1,"form-control",3,"ngClass","ngModelChange"],["class","invalid-feedback",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","default-btn","modal-cancel"],["type","submit",1,"btn","default-btn",3,"click"],["type","button","id","approveModals","data-bs-toggle","modal","data-bs-target","#approveModal",1,"btn-hide"],["id","approveModal","tabindex","-1","aria-labelledby","approveModalLabel","aria-hidden","false",1,"modal","fade"],["approveModal",""],["id","approveModalLabel",1,"modal-title","text-success"],[1,"px-2",3,"formGroup","keydown.enter"],["formControlName","approve_reason","rows","5","id","approve_reason","name","approve_reason",1,"form-control",3,"ngClass"],["type","button","id","formsubmitmodal","data-bs-toggle","modal","data-bs-target","#formsubmitmodals",1,"btn-hide"],["id","formsubmitmodals","tabindex","-1","aria-labelledby","formsubmitmodals","aria-hidden","false",1,"modal","fade"],["formsubmitmodals",""],[1,"modal-dialog","modal-md","modal-dialog-centered"],["id","formsubmitmodal",1,"modal-title","text-success"],[1,"modal-body","my-3"],[4,"ngFor","ngForOf"],[1,"modal-footer","py-1"],["type","button","id","beforesubmitmodal","data-bs-toggle","modal","data-bs-target","#beforesubmitmodals",1,"btn-hide"],["id","beforesubmitmodals","tabindex","-1","aria-labelledby","beforesubmitmodals","aria-hidden","false",1,"modal","fade"],["beforesubmitmodals",""],["type","button","data-bs-dismiss","modal",1,"btn","default-btn",3,"click"],[1,"row"],[1,"col-11","mx-auto","col-curve-top-submit","mt-2","mb-5","px-0","mx-0","border"],[1,"text-center","my-auto","py-3","submit-head"],[1,"col-curve","fw-bold","px-4","pb-5"],[1,"info","font-italic"],[1,"text-left","ps-5","my-2"],[1,"ps-5","my-2"],[1,"info",2,"list-style-type","none","margin","0","padding","0"],[2,"color","red"],[1,"row","pt-1"],[1,"col-11"],[1,"ps-5"],[1,"col-lg-2"],["type","radio","formControlName","additional_Info","value","yes","checked","checked","name","additional_Info","id","additional_Info_Yes",3,"ngModelChange","click"],["for","additional_Info_Yes",1,"float-right","my-auto","font-italic",2,"color","red"],[1,"row","pt-2"],[1,"col-7","pb-3",2,"padding-left","7%"],["for","risk_Notes",1,"my-auto","font-italic"],[1,"text-danger"],[1,"col-12","pe-5",2,"padding-left","7%"],["type","text","id","reject_Reason","formControlName","reject_Reason","name","reject_Reason",1,"form-control",2,"height","200%","width","100%"],["class","text-end mx-lg-4 my-4 pt-5",4,"ngIf"],[1,"col-12"],["type","radio","formControlName","additional_Info","value","no","checked","checked","name","additional_Info","id","additional_Info_No",3,"ngModelChange","click"],["for","additional_Info_No",1,"float-right","my-auto","font-italic",2,"color","red"],[1,"text-end","mx-lg-4","my-4","pt-5"],["type","button","id","risk_AddInfo_Save","data-bs-toggle","modal",1,"btn","ml-lg-4","default-btn",3,"click"],["type","button","id","approveModals",1,"btn","mx-2","default-btn",2,"width","270px",3,"click"],[1,"btn","float-start","btn","default-btn",3,"click"],["type","button","id","beginRiskReview",1,"btn","mx-2","default-btn",2,"width","270px",3,"click"],[1,"mr-4","px-3","mt-4","pb-4"],[1,"text-center","my-2","text-success"],["class","p-3 record-shadow my-2",4,"ngFor","ngForOf"],[1,"p-3","record-shadow","my-2"],[4,"ngIf"],[1,"col-lg-10","p-1","px-lg-2"],["class","pt-2 text-success",4,"ngIf"],[1,"col-lg-2","py-2","ps-1","px-lg-2"],[1,"fw-bold","text-success","float-end"],[1,"fw-bold"],[1,"col-10","p-1","m-0","px-lg-2"],["class","mb-4",4,"ngIf"],[1,"pt-2","text-success"],[1,"fw-bold","text-success"],[1,"fw-bold",3,"ngClass"],[1,"mb-4"],[1,"text-capitalize","ps-4"],[1,"text-end","mx-lg-4","my-4"],["type","button","class","btn ms-2 default-btn",3,"click",4,"ngIf"],["type","button",1,"btn","ms-2","default-btn",3,"click"],[1,"invalid-feedback"]],template:function(e,t){1&e&&(s.Bc(0,Nr,22,0,"div",0),s.Bc(1,Tr,41,4,"form",1),s.Bc(2,Hr,4,1,"div",2),s.Bc(3,Kr,4,1,"div",3),s.Vb(4,"div",4,5),s.Vb(6,"div",6),s.Vb(7,"div",7),s.Vb(8,"div",8),s.Vb(9,"h6",9),s.Dc(10,"Send back reason"),s.Ub(),s.Qb(11,"button",10),s.Ub(),s.Vb(12,"div",11),s.Vb(13,"form",12),s.cc("ngSubmit",function(){return t.submit()})("keydown.enter",function(e){return e.preventDefault()}),s.Vb(14,"textarea",13),s.cc("ngModelChange",function(){return t.condApprovetxt()}),s.Ub(),s.Bc(15,Jr,3,0,"div",14),s.Ub(),s.Ub(),s.Vb(16,"div",15),s.Vb(17,"button",16),s.Dc(18,"CANCEL"),s.Ub(),s.Vb(19,"button",17),s.cc("click",function(){return t.condApprove()}),s.Dc(20,"SAVE"),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Qb(21,"button",18),s.Vb(22,"div",19,20),s.Vb(24,"div",6),s.Vb(25,"div",7),s.Vb(26,"div",8),s.Vb(27,"h6",21),s.Dc(28," Approved reason"),s.Ub(),s.Qb(29,"button",10),s.Ub(),s.Vb(30,"div",11),s.Vb(31,"form",22),s.cc("keydown.enter",function(e){return e.preventDefault()}),s.Vb(32,"textarea",13),s.cc("ngModelChange",function(){return t.condApprovetxt()}),s.Ub(),s.Bc(33,Xr,3,0,"div",14),s.Qb(34,"textarea",23),s.Bc(35,ta,2,1,"div",14),s.Ub(),s.Ub(),s.Vb(36,"div",15),s.Vb(37,"button",16),s.Dc(38,"CANCEL"),s.Ub(),s.Vb(39,"button",17),s.cc("click",function(){return t.completion()}),s.Dc(40,"SAVE"),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Qb(41,"button",24),s.Vb(42,"div",25,26),s.Vb(44,"div",27),s.Vb(45,"div",7),s.Vb(46,"div",8),s.Vb(47,"h6",28),s.Dc(48,"Application Incomplete"),s.Ub(),s.Qb(49,"button",10),s.Ub(),s.Vb(50,"div",29),s.Vb(51,"small"),s.Dc(52,"Please fill all the required fields in the following forms before submitting the application. "),s.Ub(),s.Vb(53,"ul"),s.Bc(54,ia,2,1,"li",30),s.Ub(),s.Ub(),s.Vb(55,"div",31),s.Vb(56,"button",16),s.Dc(57,"CLOSE"),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Qb(58,"button",32),s.Vb(59,"div",33,34),s.Vb(61,"div",27),s.Vb(62,"div",7),s.Vb(63,"div",8),s.Vb(64,"h6",28),s.Dc(65,"Messer"),s.Ub(),s.Qb(66,"button",10),s.Ub(),s.Vb(67,"div",29),s.Vb(68,"small"),s.Dc(69,"Yes I'm ready to submit my prequalification info to Messer for Review."),s.Ub(),s.Ub(),s.Vb(70,"div",31),s.Vb(71,"button",35),s.cc("click",function(){return t.getComplete()}),s.Dc(72,"YES"),s.Ub(),s.Vb(73,"button",16),s.Dc(74,"NO"),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub()),2&e&&(s.mc("ngIf","Subcontractor"==t.userRole),s.Db(1),s.mc("ngIf","Admin"==t.userRole||!t.showrisk1status&&"RiskUser"==t.userRole||!t.showrisk2status&&"RiskUser2"==t.userRole),s.Db(1),s.mc("ngIf","Subcontractor"!=t.userRole&&t.showrisk2status&&(null==t.getrisk2records?null:t.getrisk2records.length)>0),s.Db(1),s.mc("ngIf",!(t.showAdmin||t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status)),s.Db(10),s.mc("formGroup",t.submitForm),s.Db(1),s.mc("ngClass",s.pc(16,oa,t.rejecionrequired)),s.Eb("disable",!1),s.Db(1),s.mc("ngIf",t.rejecionrequired),s.Db(16),s.mc("formGroup",t.submitForm),s.Db(1),s.mc("ngClass",s.pc(18,oa,t.rejecionrequired)),s.Eb("disable",!1),s.Db(1),s.mc("ngIf",t.rejecionrequired),s.Db(1),s.mc("ngClass",s.pc(20,oa,t.approvesubmitted&&t.f.approve_reason.errors)),s.Eb("disable",!1),s.Db(1),s.mc("ngIf",t.approvesubmitted&&t.f.approve_reason.errors),s.Db(19),s.mc("ngForOf",t.requiredField))},directives:[o.l,n.v,n.k,n.g,n.b,n.j,n.f,o.j,o.k,n.q],pipes:[o.e],styles:[".col-curve-top-submit[_ngcontent-%COMP%]{border-top-left-radius:28px!important;border-top-right-radius:28px!important;border-top:6px solid rgba(253,222,222,.0196078431372549)!important}.col-curve[_ngcontent-%COMP%]{border-radius:18px 19px!important}.submit-head[_ngcontent-%COMP%]{background:#c3bdbd;color:#ce2929;border-top-left-radius:18px 19px!important;border-top-right-radius:18px 19px!important}.record-shadow[_ngcontent-%COMP%]{border:1px solid #ddd;box-shadow:0 .5rem 1rem rgba(0,0,0,.15)!important}.text-red[_ngcontent-%COMP%]{color:#ce2929!important}h6[_ngcontent-%COMP%]{font-size:13px!important}.info[_ngcontent-%COMP%]{list-style-type:decimal;margin-top:10px}"]}),e})(),ra=(()=>{class e extends A.a{constructor(e,t){super("Other",e,t,{root:j.a.webserviceURlLocal})}getAll(){return super.getAll()}getRecords(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("other/"+e,j.a.webserviceURlLocal);return this.http.get(i,t)}updateRecord(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("other/"+t,j.a.webserviceURlLocal);return this.http.put(o,e,i)}addRecord(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("other",j.a.webserviceURlLocal);return this.http.post(i,e,t)}getUser(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("Organization/"+e+"/"+t,j.a.webserviceURlLocal);return this.http.get(o,i)}getComplete(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("Organization/Getstatus/"+e,j.a.webserviceURlLocal);return this.http.get(i,t)}deleteRecord(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.delete(j.a.webserviceURlLocal+"Files/"+e,t)}}return e.\u0275fac=function(t){return new(t||e)(s.Zb(O.b),s.Zb(A.c))},e.\u0275prov=s.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function aa(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Current licenses registrations is required"),s.Ub())}function sa(e,t){if(1&e&&(s.Vb(0,"div",42),s.Bc(1,aa,2,0,"div",43),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.is_Any_Limits.errors.required)}}function ca(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Current licenses registrations information is required"),s.Ub())}function la(e,t){if(1&e&&(s.Vb(0,"div",42),s.Bc(1,ca,2,0,"div",43),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.limits_info.errors.required)}}function da(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Suspended or revoked is required"),s.Ub())}function ua(e,t){if(1&e&&(s.Vb(0,"div",42),s.Bc(1,da,2,0,"div",43),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.is_Suspended.errors.required)}}function ba(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"OSHA information is required"),s.Ub())}function pa(e,t){if(1&e&&(s.Vb(0,"div",42),s.Bc(1,ba,2,0,"div",43),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.suspended_info.errors.required)}}function ma(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Attachment is required"),s.Ub())}function fa(e,t){if(1&e&&(s.Vb(0,"div",42),s.Bc(1,ma,2,0,"div",43),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.project_Details_Upload.errors.required)}}function ha(e,t){1&e&&(s.Vb(0,"div",44),s.Vb(1,"span"),s.Dc(2,"Uploading..."),s.Ub(),s.Qb(3,"mat-progress-spinner",45),s.Ub())}function ga(e,t){if(1&e){const e=s.Wb();s.Vb(0,"div"),s.Vb(1,"p",46),s.Vb(2,"small"),s.Vb(3,"a",47),s.Dc(4),s.Ub(),s.Ub(),s.Vb(5,"small",48),s.cc("click",function(){s.uc(e);const i=t.index,o=t.$implicit;return s.gc().removeprojectUpload(i,o)}),s.Dc(6,"X"),s.Ub(),s.Ub(),s.Ub()}if(2&e){const e=t.$implicit;s.Db(3),s.nc("href",e.file_Path,s.wc),s.Db(1),s.Ec(e.name)}}function _a(e,t){if(1&e){const e=s.Wb();s.Vb(0,"div",49),s.Vb(1,"button",50),s.cc("click",function(){return s.uc(e),s.gc().gotoHome()}),s.Dc(2,"<< BACK"),s.Ub(),s.Vb(3,"button",51),s.cc("click",function(){return s.uc(e),s.gc().save()}),s.Dc(4),s.Ub(),s.Vb(5,"button",52),s.Dc(6,"NEXT >>"),s.Ub(),s.Ub()}if(2&e){const e=s.gc();s.Db(4),s.Ec(e.submitText)}}function va(e,t){if(1&e){const e=s.Wb();s.Vb(0,"div",53),s.Vb(1,"button",50),s.cc("click",function(){return s.uc(e),s.gc().gotoHome()}),s.Dc(2,"<< BACK"),s.Ub(),s.Vb(3,"button",54),s.cc("click",function(){return s.uc(e),s.gc().nextroutePage()}),s.Dc(4,"NEXT >>"),s.Ub(),s.Ub()}}const ya=function(e){return{"bg-grey":e}},Va=function(e){return{"is-invalid":e}};let Ua=(()=>{class e{constructor(e,t,i,o,r,a,s,c,l,d){this.formBuilder=e,this.router=t,this.bnIdle=i,this.keepalive=o,this.toastr=r,this.project=a,this.logininfo=s,this.ngxUiLoader=c,this.otherinfoservice=l,this.companyservice=d,this.currentForm=7,this.otherinfoForm=this.formBuilder.group({id:[0],companyId:[null,[n.u.maxLength(130)]],is_Any_Limits:["",[n.u.required]],limits_info:[""],is_Suspended:["",[n.u.required]],suspended_info:[""],project_Details_Upload:["",[n.u.required]],isAutosave:[!1]}),this.submitted=!1,this.prequalification_status="",this.submitText="SAVE",this.showAdmin=!1,this.otherinfoid=0,this.companyId=0,this.setTimeout=0,this.resetTimer=0,this.projectAttachment=[],this.tempprojectAttachment=[],this.spinner={projectSpinner:!1},this.showdisabled=!1}ngOnInit(){this.ngxUiLoader.startLoader("loader-01"),localStorage.setItem("currPage","otherinfo"),this.prequalification_status=this.logininfo.organization_status,this.submitText="SAVE";let e=localStorage.getItem("userDetails");e=JSON.parse(atob(e)),this.userDetails=e,this.userRole=e.role,this.tempcompanyid=localStorage.getItem("tempcompanyid"),this.tempcompanyid=Number(atob(this.tempcompanyid)),this.tempcompanyid>0&&"Subcontractor"!=this.userRole&&(this.showAdmin=!0,this.otherinfoservice.getRecords(this.tempcompanyid).subscribe(e=>{this.showdisabled=!0,this.otherinfoForm.disable(),this.otherinfoForm.updateValueAndValidity(),this.showAdmin=!0,(null==e?void 0:e.length)&&(this.otherinfoid=e[0].id,this.submitText="UPDATE",this.updateOtherinfo(e))})),null!=this.userDetails.vendorId&&null!=this.userDetails.taxId&&"Subcontractor"==this.userRole&&this.otherinfoservice.getUser(this.userDetails.vendorId,this.userDetails.taxId).subscribe(e=>{this.companyId=e.id,localStorage.setItem("companyid",btoa(this.companyId)),this.getRecords()}),this.ngxUiLoader.stopLoader("loader-01")}ngAfterViewInit(){this.keepalive.interval(30),this.keepalive.stop(),0==this.setTimeout&&this.keepalive.stop()}ngOnDestroy(){this.keepalive.stop(),this.nextpage()}idleReset(){this.keepalive.stop(),this.keepalive.start(),this.resetTimer=0}gotoHome(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm-1].url}`])}get f(){var e;return"yes"==this.otherinfoForm.value.is_Any_Limits?(this.otherinfoForm.controls.limits_info.setValidators([n.u.required]),this.otherinfoForm.controls.limits_info.enable()):"no"==this.otherinfoForm.value.is_Any_Limits&&(this.otherinfoForm.controls.limits_info.clearValidators(),this.otherinfoForm.patchValue({limits_info:""}),this.otherinfoForm.controls.limits_info.disable()),"yes"==this.otherinfoForm.value.is_Suspended?(this.otherinfoForm.controls.suspended_info.setValidators([n.u.required]),this.otherinfoForm.controls.suspended_info.enable()):"no"==this.otherinfoForm.value.is_Suspended&&(this.otherinfoForm.controls.suspended_info.clearValidators(),this.otherinfoForm.patchValue({suspended_info:""}),this.otherinfoForm.controls.suspended_info.disable()),this.otherinfoForm.controls.limits_info.updateValueAndValidity(),this.otherinfoForm.controls.suspended_info.updateValueAndValidity(),(null===(e=this.projectAttachment)||void 0===e?void 0:e.length)>0&&(this.otherinfoForm.controls.project_Details_Upload.setValidators(null),this.otherinfoForm.controls.project_Details_Upload.updateValueAndValidity()),this.otherinfoForm.controls}updateOtherinfo(e){this.otherinfoForm.patchValue({id:e[0].id,companyId:e[0].companyId,is_Any_Limits:e[0].is_Any_Limits,limits_info:this.logininfo.validateEmpty(this.logininfo.validateEmpty(e[0].limits_info)),is_Suspended:e[0].is_Suspended,suspended_info:this.logininfo.validateEmpty(this.logininfo.validateEmpty(e[0].suspended_info))}),this.projectAttachment=[],e[0].files.filter(e=>{e.file_Name.length<31&&0==e.isDeleted?this.projectAttachment.push({id:e.id,name:e.file_Name,file_Path:e.file_Path}):0==e.isDeleted&&this.projectAttachment.push({id:e.id,name:e.file_Name.substring(0,31)+"....",file_Path:e.file_Path})})}save(){if(console.log(this.otherinfoForm),this.submitted=!0,this.keepalive.stop(),this.otherinfoForm.valid)if(0==this.otherinfoid){this.otherinfoForm.patchValue({isAutosave:!1});let e=this.formMethod();this.otherinfoservice.addRecord(e).subscribe(e=>{this.getRecords(),this.submitText="UPDATE",this.fileReset(),this.resetSpinner(),this.toastr.success("Other info saved successfully","Other Info")})}else{this.otherinfoForm.patchValue({isAutosave:!1});let e=this.formMethod();this.otherinfoservice.updateRecord(e,this.otherinfoid).subscribe(e=>{this.getRecords(),this.fileReset(),this.resetSpinner(),this.toastr.success("Other info updated successfully","Other Info")})}}submit(){if(console.log(this.otherinfoForm),this.keepalive.stop(),this.ngxUiLoader.startLoader("loader-01"),0==this.otherinfoid){let e=this.formMethod();this.otherinfoservice.addRecord(e).subscribe(e=>{this.getRecords(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])})}else{this.otherinfoForm.patchValue({isAutosave:!1});let e=this.formMethod();this.otherinfoservice.updateRecord(e,this.otherinfoid).subscribe(e=>{this.getRecords(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])})}}autoSave(){if(this.resetTimer+=1,1==this.resetTimer)if(0==this.otherinfoid){let e=this.formMethod();this.otherinfoservice.addRecord(e).subscribe(e=>{this.getRecords()})}else{this.otherinfoForm.patchValue({isAutosave:!1});let e=this.formMethod();this.otherinfoservice.updateRecord(e,this.otherinfoid).subscribe(e=>{this.getRecords()})}}nextpage(){if(0==this.otherinfoid){let e=this.formMethod();this.otherinfoservice.addRecord(e).subscribe(e=>{})}else{this.otherinfoForm.patchValue({isAutosave:!1});let e=this.formMethod();this.otherinfoservice.updateRecord(e,this.otherinfoid).subscribe(e=>{})}}fileupload(){if(this.keepalive.stop(),0==this.otherinfoid){this.otherinfoForm.patchValue({isAutosave:!0});let e=this.formMethod();this.otherinfoservice.addRecord(e).subscribe(e=>{this.keepalive.stop(),this.otherinfoForm.patchValue({qcP_Attachment:"",id:e.id}),this.submitText="UPDATE",this.getRecords(),this.resetSpinner(),this.submitted=!1})}else{this.otherinfoForm.patchValue({id:this.otherinfoid,isAutosave:!0});let e=this.formMethod();this.otherinfoservice.updateRecord(e,this.otherinfoForm.value.id).subscribe(e=>{this.keepalive.stop(),this.getRecords(),this.resetSpinner(),this.otherinfoForm.patchValue({qcP_Attachment:""}),this.submitted=!1})}}autosave(){if(this.resetTimer+=1,1==this.resetTimer)if(0==this.otherinfoid){this.otherinfoForm.patchValue({isAutosave:!1});let e=this.formMethod();this.otherinfoservice.addRecord(e).subscribe(e=>{this.submitText="UPDATE",this.getRecords(),this.fileReset(),this.keepalive.stop(),this.resetSpinner()})}else{this.otherinfoForm.patchValue({isAutosave:!0});let e=this.formMethod();this.otherinfoservice.updateRecord(e,this.otherinfoid).subscribe(e=>{this.getRecords(),this.fileReset(),this.keepalive.stop(),this.resetSpinner(),this.otherinfoForm.patchValue({isAutosave:!1})})}}getRecords(){this.otherinfoservice.getRecords(this.companyId).subscribe(e=>{e.length&&(this.otherinfoid=e[0].id,this.submitText="UPDATE",this.updateOtherinfo(e))}),this.companyId>0&&this.companyservice.getRecord(this.companyId).subscribe(e=>{this.prequalification_status=(e=e[0]).preQualification_Status,e.preQualification_Status&&this.logininfo.formDisable(e.preQualification_Status)&&(this.showdisabled=!0,this.otherinfoForm.disable(),this.otherinfoForm.updateValueAndValidity())})}formMethod(){var e=new FormData;if(e.append("id",this.otherinfoForm.value.id),e.append("companyId",this.companyId),e.append("is_Any_Limits",this.otherinfoForm.value.is_Any_Limits),e.append("proposed_OP_Title",this.otherinfoForm.value.proposed_OP_Title),e.append("limits_info","undefined"!=this.otherinfoForm.value.limits_info?this.otherinfoForm.value.limits_info:""),e.append("is_Suspended",this.otherinfoForm.value.is_Suspended),e.append("suspended_info",this.otherinfoForm.value.suspended_info),this.tempprojectAttachment.length){for(let t=0;t<this.tempprojectAttachment.length;t++)e.append("project_Details_Upload",this.tempprojectAttachment[t]);this.tempprojectAttachment=[]}return e}projectUpload(e){let t=document.getElementById("project_Details_Upload");for(let i=0;i<t.files.length;i++)this.tempprojectAttachment.push(t.files[i]);this.spinner.projectSpinner=!0,this.fileupload()}filepreview(e,t){var i=new FileReader;i.onload=i=>{console.log(i.target);let o=new Blob(e.files,{type:e.files[t].type});var n=(window.URL||window.webkitURL).createObjectURL(o);console.log("path",n,e.value);var r=document.createElement("a"),a=document.createTextNode("View File");r.target="_blank",r.appendChild(a),r.href=n,r.click(),e.appendChild(r)},i.readAsDataURL(e.files[t])}removeprojectUpload(e,t){this.showdisabled||this.otherinfoservice.deleteRecord(t.id).subscribe(t=>{this.projectAttachment.splice(e,1),this.toastr.info("File removed successfully","Other Info")})}resetSpinner(){this.spinner={projectSpinner:!1}}fileReset(){this.otherinfoForm.patchValue({project_Details_Upload:""})}nextroutePage(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])}}return e.\u0275fac=function(t){return new(t||e)(s.Pb(n.d),s.Pb(r.f),s.Pb(l.a),s.Pb(u.a),s.Pb(f.b),s.Pb(g.a),s.Pb(_),s.Pb(v.c),s.Pb(ra),s.Pb(c.a))},e.\u0275cmp=s.Jb({type:e,selectors:[["app-otherinfo"]],decls:68,vars:45,consts:[[1,"px-2",3,"formGroup","ngSubmit","keydown.enter"],[1,"px-1","my-2","form-bg",3,"ngClass"],[1,"form-group","input-group","row","px-2","mx-auto","pb-3"],[1,"col-lg-6","col-curve-top","bg-white","px-2","col-head-1","mx-auto","mt-2"],[1,"row","mx-0","px-0","py-2","mt-2"],[1,"col-12"],["for","is_Any_Limits",1,"my-auto","fw-bold","float-right"],[1,"text-danger"],[1,"row","pt-1"],[1,"col-lg-2"],["type","radio","formControlName","is_Any_Limits","value","yes","checked","checked","name","is_Any_Limits","id","is_Any_Limits_yes",3,"ngClass","ngModelChange"],["for","is_Any_Limits_yes"],[1,"col-lg-10"],["type","radio","formControlName","is_Any_Limits","value","no","name","is_Any_Limits","id","is_Any_Limits_no",3,"ngClass","ngModelChange"],["for","is_Any_Limits_no"],["class","invalid-feedback",4,"ngIf"],[1,"mr-4","mt-4","pt-1"],[1,"note","fw-bold",3,"ngClass"],[1,"col-lg-12","bg-white","mt-2"],["formControlName","limits_info","id","limits_info","name","limits_info",1,"form-control",3,"ngClass","ngModelChange"],[1,"col-lg-6","px-2","col-head-2","col-curve-top","bg-white","mx-auto","mt-2"],["for","is_Suspended",1,"my-auto","fw-bold","float-right"],["type","radio","formControlName","is_Suspended","value","yes","checked","checked","name","is_Suspended","id","is_Suspended_yes",3,"ngClass","ngModelChange"],["for","is_Suspended_yes"],["type","radio","formControlName","is_Suspended","value","no","name","is_Suspended","id","is_Suspended_no",3,"ngClass","ngModelChange"],["for","is_Suspended_no"],[1,"mr-4"],["for","risk_Manager_Email",1,"note","fw-bold",3,"ngClass"],[1,"col-lg-12","bg-white"],["formControlName","suspended_info","id","suspended_info","name","suspended_info",1,"form-control",3,"ngClass","ngModelChange"],[1,"col-lg-6","col-curve","bg-white","px-2","mx-auto","col-head-1"],[1,"col-5"],["for","project_Details_Upload",1,"my-auto","fw-bold","float-right"],[1,"col-7"],[1,"form-control-customitem","form-control"],["type","file","formControlName","project_Details_Upload","title","Choose file","id","project_Details_Upload","name","project_Details_Upload","multiple","",3,"ngClass","change"],["for","project_Details_Upload",3,"ngClass"],["class","spinner__loading pt-3",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"col-lg-6","col-curve","bg-white","px-2","col-head-2","mx-auto"],["class","text-end mx-lg-4 my-3",4,"ngIf"],["class","text-end mx-4 my-3",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner__loading","pt-3"],["diameter","18","mode","indeterminate",1,"mt-1"],[1,"file-tag"],["target","_blank",3,"href"],[1,"file-close","text-white",3,"click"],[1,"text-end","mx-lg-4","my-3"],[1,"btn","float-start","btn","default-btn",3,"click"],["type","button",1,"btn","ml-4","default-btn",3,"click"],["type","submit",1,"btn","btn-success","mx-2","default-btn"],[1,"text-end","mx-4","my-3"],[1,"btn","btn-success","mx-2","default-btn",3,"click"]],template:function(e,t){1&e&&(s.Vb(0,"form",0),s.cc("ngSubmit",function(){return t.submit()})("keydown.enter",function(e){return e.preventDefault()}),s.Vb(1,"div",1),s.Vb(2,"div",2),s.Vb(3,"div",3),s.Vb(4,"div",4),s.Vb(5,"div",5),s.Vb(6,"h6",6),s.Dc(7,"1. Do you have any limits or restrictions to current licenses registrations: "),s.Vb(8,"span",7),s.Dc(9,"*"),s.Ub(),s.Ub(),s.Vb(10,"div",8),s.Vb(11,"span",9),s.Vb(12,"input",10),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Vb(13,"label",11),s.Dc(14," YES"),s.Ub(),s.Ub(),s.Vb(15,"span",12),s.Vb(16,"input",13),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Vb(17,"label",14),s.Dc(18," NO"),s.Ub(),s.Ub(),s.Ub(),s.Bc(19,sa,2,1,"div",15),s.Vb(20,"div",16),s.Vb(21,"small",17),s.Dc(22,"If yes, please explain."),s.Ub(),s.Ub(),s.Vb(23,"div",18),s.Vb(24,"textarea",19),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Bc(25,la,2,1,"div",15),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(26,"div",20),s.Vb(27,"div",4),s.Vb(28,"div",5),s.Vb(29,"h6",21),s.Dc(30,"2. In the past three years from the today's date, has your company had any business or professional license suspended or revoked ? "),s.Vb(31,"span",7),s.Dc(32,"*"),s.Ub(),s.Ub(),s.Vb(33,"div",8),s.Vb(34,"span",9),s.Vb(35,"input",22),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Vb(36,"label",23),s.Dc(37," YES"),s.Ub(),s.Ub(),s.Vb(38,"span",12),s.Vb(39,"input",24),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Vb(40,"label",25),s.Dc(41," NO"),s.Ub(),s.Ub(),s.Ub(),s.Bc(42,ua,2,1,"div",15),s.Vb(43,"div",26),s.Vb(44,"small",27),s.Dc(45,"If yes, describe circumstances including jurisdiction and bases for suspension or revocation: "),s.Ub(),s.Ub(),s.Vb(46,"div",28),s.Vb(47,"textarea",29),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Bc(48,pa,2,1,"div",15),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(49,"div",2),s.Vb(50,"div",30),s.Vb(51,"div",4),s.Vb(52,"div",31),s.Vb(53,"h6",32),s.Dc(54,"3. Attach any project specific details "),s.Vb(55,"span",7),s.Dc(56,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(57,"div",33),s.Vb(58,"div",34),s.Vb(59,"input",35),s.cc("change",function(e){return t.projectUpload(e)}),s.Ub(),s.Vb(60,"span",36),s.Dc(61," \xa0 Click here to Add Files"),s.Ub(),s.Ub(),s.Bc(62,fa,2,1,"div",15),s.Bc(63,ha,4,0,"div",37),s.Bc(64,ga,7,2,"div",38),s.Ub(),s.Ub(),s.Ub(),s.Qb(65,"div",39),s.Ub(),s.Ub(),s.Bc(66,_a,7,1,"div",40),s.Ub(),s.Bc(67,va,5,0,"div",41)),2&e&&(s.mc("formGroup",t.otherinfoForm),s.Db(1),s.mc("ngClass",s.pc(23,ya,1==t.showdisabled)),s.Db(11),s.mc("ngClass",s.pc(25,Va,t.submitted&&t.f.is_Any_Limits.errors)),s.Db(4),s.mc("ngClass",s.pc(27,Va,t.submitted&&t.f.is_Any_Limits.errors)),s.Db(3),s.mc("ngIf",t.submitted&&t.f.is_Any_Limits.errors),s.Db(2),s.mc("ngClass",s.pc(29,ya,"no"==t.f.is_Any_Limits.value)),s.Db(3),s.mc("ngClass",s.pc(31,Va,t.submitted&&t.f.limits_info.errors)),s.Eb("disabled","no"==t.f.is_Any_Limits.value?"":null),s.Db(1),s.mc("ngIf",t.submitted&&t.f.limits_info.errors),s.Db(10),s.mc("ngClass",s.pc(33,Va,t.submitted&&t.f.is_Suspended.errors)),s.Db(4),s.mc("ngClass",s.pc(35,Va,t.submitted&&t.f.is_Suspended.errors)),s.Db(3),s.mc("ngIf",t.submitted&&t.f.is_Suspended.errors),s.Db(2),s.mc("ngClass",s.pc(37,ya,"no"==t.f.is_Suspended.value)),s.Db(3),s.mc("ngClass",s.pc(39,Va,t.submitted&&t.f.suspended_info.errors)),s.Eb("disabled","no"==t.f.is_Suspended.value?"":null),s.Db(1),s.mc("ngIf",t.submitted&&t.f.suspended_info.errors),s.Db(11),s.mc("ngClass",s.pc(41,Va,t.submitted&&t.f.project_Details_Upload.errors)),s.Db(1),s.mc("ngClass",s.pc(43,ya,1==t.showdisabled)),s.Db(2),s.mc("ngIf",t.submitted&&t.f.project_Details_Upload.errors),s.Db(1),s.mc("ngIf",null==t.spinner?null:t.spinner.projectSpinner),s.Db(1),s.mc("ngForOf",t.projectAttachment),s.Db(2),s.mc("ngIf",!(t.showAdmin||t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status)),s.Db(1),s.mc("ngIf",!t.showAdmin&&t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status||t.showAdmin))},directives:[n.v,n.k,n.g,o.j,n.q,n.b,n.j,n.f,o.l,o.k,P.a],styles:[".col-curve-top[_ngcontent-%COMP%]{border-top:6px solid #c3bdbd!important}.col-curve[_ngcontent-%COMP%], .col-curve-top[_ngcontent-%COMP%]{border-radius:18px 19px!important}h6[_ngcontent-%COMP%]{font-size:13px!important}.bg-grey[_ngcontent-%COMP%]{color:#c7bfbf!important}input[type=file][_ngcontent-%COMP%]{width:90px}"]}),e})();const Da=["01 General Trades","02 Demolition","02 Hazardous Material Remediation","03 Concrete","03 Material","03 Pump Place Finish","03 Decking","03 Rebar / Post Tension Material","03 Rebar / Post Tension Labor","03 Precast Concrete","04 Masonry","05 Metals - Structural Steel","05 Metals - Misc. Metals","05 Metals - Ornamental Metals","06 Wood\xb8 Plastics\xb8 and Composites","06 - Millwork","06 - Wood Framing","07 Thermal and Moisture Protection","07 Waterproofing","07 Fireproofing","07 Firestopping / Joint Sealants","07 Roofing","07 Metal Panels","08 Openings","08 Doors Frames Hardware","08 Glass & Glazing","08 Overhead / Special Doors","09 Finishes","09 Drywall & Ceilings","09 Flooring","09 Painting","10 Specialties","11 Equipment","12 Furnishings","13 Special Construction","14 Conveying Equipment","21 Fire Suppression","22 Plumbing","23 Heating\xb8 Ventilating\xb8 & Air Conditioning (HVAC)","26 Electrical","27 Communications","28 Electronic Safety and Security","31 Earthwork","31 Deep Foundations","32 Exterior Improvements","32 Landscaping","32 Site Concrete","32 Asphalt Paving","33 Utilities"];let Ca=(()=>{class e extends A.a{constructor(e,t){super("Personnel",e,t,{root:j.a.webserviceURlLocal})}getAll(){return super.getAll()}getRecords(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("personnel/"+e,j.a.webserviceURlLocal);return this.http.get(i,t)}updateRecord(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("personnel/"+t,j.a.webserviceURlLocal);return this.http.put(o,e,i)}addRecord(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("personnel",j.a.webserviceURlLocal);return this.http.post(i,e,t)}getUser(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("Organization/"+e+"/"+t,j.a.webserviceURlLocal);return this.http.get(o,i)}getComplete(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("Organization/Getstatus/"+e,j.a.webserviceURlLocal);return this.http.get(i,t)}deleteRecord(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.delete(j.a.webserviceURlLocal+"Files/"+e,t)}}return e.\u0275fac=function(t){return new(t||e)(s.Zb(O.b),s.Zb(A.c))},e.\u0275prov=s.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Ia(e,t){1&e&&(s.Vb(0,"div",97),s.Dc(1,"Quality control plan is required "),s.Ub())}function Ra(e,t){if(1&e&&(s.Vb(0,"div",95),s.Bc(1,Ia,2,0,"div",96),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",null==e.f.is_QCP.errors?null:e.f.is_QCP.errors.required)}}function wa(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Attachment is required"),s.Ub())}function Fa(e,t){if(1&e&&(s.Vb(0,"div",98),s.Bc(1,wa,2,0,"div",99),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.qcP_Attachment.errors.required)}}function Sa(e,t){1&e&&(s.Vb(0,"div",100),s.Vb(1,"span"),s.Dc(2,"Uploading..."),s.Ub(),s.Qb(3,"mat-progress-spinner",101),s.Ub())}function ka(e,t){if(1&e){const e=s.Wb();s.Vb(0,"div"),s.Vb(1,"p",102),s.Vb(2,"small"),s.Vb(3,"a",103),s.Dc(4),s.Ub(),s.Ub(),s.Vb(5,"small",104),s.cc("click",function(){s.uc(e);const i=t.index,o=t.$implicit;return s.gc().removeqcpUpload(i,o)}),s.Dc(6,"X"),s.Ub(),s.Ub(),s.Ub()}if(2&e){const e=t.$implicit;s.Db(3),s.nc("href",e.file_Path,s.wc),s.Db(1),s.Ec(e.name)}}function xa(e,t){1&e&&(s.Vb(0,"div",107),s.Dc(1,"your own employees to perform project work is required "),s.Ub())}function Pa(e,t){if(1&e&&(s.Vb(0,"div",105),s.Bc(1,xa,2,0,"div",106),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",null==e.f.is_OwnEmployee.errors?null:e.f.is_OwnEmployee.errors.required)}}function ja(e,t){1&e&&(s.Vb(0,"div",110),s.Dc(1,"Temp labor to perform project work is required "),s.Ub())}function Aa(e,t){if(1&e&&(s.Vb(0,"div",108),s.Bc(1,ja,2,0,"div",109),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",null==e.f.is_TempLabor.errors?null:e.f.is_TempLabor.errors.required)}}function Oa(e,t){1&e&&(s.Vb(0,"div",98),s.Vb(1,"div"),s.Dc(2,"work type is required"),s.Ub(),s.Ub())}function Ea(e,t){1&e&&(s.Vb(0,"div",113),s.Dc(1,"Criminal indictment or judgment of conviction is required "),s.Ub())}function Ma(e,t){if(1&e&&(s.Vb(0,"div",111),s.Bc(1,Ea,2,0,"div",112),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",null==e.f.is_Criminal_Indictment.errors?null:e.f.is_Criminal_Indictment.errors.required)}}function Na(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Criminal indictment or judgment of conviction information is required"),s.Ub())}function Ba(e,t){if(1&e&&(s.Vb(0,"div",98),s.Bc(1,Na,2,0,"div",99),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.criminal_Indictment_Info.errors.required)}}function qa(e,t){1&e&&(s.Vb(0,"div",116),s.Dc(1,"Suspension or disbarment is required "),s.Ub())}function Ta(e,t){if(1&e&&(s.Vb(0,"div",114),s.Bc(1,qa,2,0,"div",115),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",null==e.f.is_Federal.errors?null:e.f.is_Federal.errors.required)}}function La(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Suspension or disbarment information is required"),s.Ub())}function Ya(e,t){if(1&e&&(s.Vb(0,"div",98),s.Bc(1,La,2,0,"div",99),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.federal_Info.errors.required)}}function za(e,t){1&e&&(s.Vb(0,"div",119),s.Dc(1,"Proceeding or consent order is required "),s.Ub())}function Ga(e,t){if(1&e&&(s.Vb(0,"div",117),s.Bc(1,za,2,0,"div",118),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",null==e.f.is_Violation_Of_State.errors?null:e.f.is_Violation_Of_State.errors.required)}}function Qa(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Proceeding or consent order information is required"),s.Ub())}function $a(e,t){if(1&e&&(s.Vb(0,"div",98),s.Bc(1,Qa,2,0,"div",99),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.showdisabled||e.f.violation_Of_State_Info.errors.required)}}function Wa(e,t){if(1&e){const e=s.Wb();s.Vb(0,"div",120),s.Vb(1,"button",121),s.cc("click",function(){return s.uc(e),s.gc().gotoHome()}),s.Dc(2," << BACK"),s.Ub(),s.Vb(3,"button",122),s.cc("click",function(){return s.uc(e),s.gc().save()}),s.Dc(4),s.Ub(),s.Vb(5,"button",123),s.Dc(6,"NEXT >>"),s.Ub(),s.Ub()}if(2&e){const e=s.gc();s.Db(4),s.Ec(e.submitText)}}function Ha(e,t){if(1&e){const e=s.Wb();s.Vb(0,"div",124),s.Vb(1,"button",121),s.cc("click",function(){return s.uc(e),s.gc().gotoHome()}),s.Dc(2," << BACK"),s.Ub(),s.Vb(3,"button",125),s.cc("click",function(){return s.uc(e),s.gc().nextroutePage()}),s.Dc(4,"NEXT >>"),s.Ub(),s.Ub()}}function Za(e,t){if(1&e&&s.Qb(0,"app-comment",126),2&e){const e=s.gc();s.mc("formId",e.personnelid)("companyId",e.tempcompanyid)}}const Ka=function(e){return{"bg-grey":e}},Ja=function(e){return{"is-invalid":e}};let Xa=(()=>{class e{constructor(e,t,i,o,r,a,s,c,l,d){this.formBuilder=e,this.router=t,this.bnIdle=i,this.keepalive=o,this.toastr=r,this.project=a,this.logininfo=s,this.ngxUiLoader=c,this.personnelService=l,this.companyservice=d,this.currentForm=1,this.personnelForm=this.formBuilder.group({id:[0],companyId:[null,[n.u.maxLength(130)]],proposed_OP_Name:["no",[n.u.required]],proposed_OP_Title:["",[]],proposed_OP_Years:["",[]],proposed_OP_Experience:["",[]],additional_OP_Name:["",[]],additional_OP_Title:["",[]],additional_OP_Years:["",[]],additional_OP_Experience:["",[]],is_QCP:["no",[n.u.required]],qcP_Attachment:[""],is_OwnEmployee:["no",[n.u.required]],is_TempLabor:["no",[n.u.required]],work_Types:[""],is_Criminal_Indictment:["no",[n.u.required]],criminal_Indictment_Info:[""],is_Federal:["no",[n.u.required]],federal_Info:[""],is_Violation_Of_State:["no",[n.u.required]],violation_Of_State_Info:[""],isAutosave:[!1]}),this.showAdmin=!1,this.personnelid=0,this.companyId=0,this.resetTimer=0,this.spinner={qcpSpinner:!1},this.qcpAttachment=[],this.tempqcpAttachment=[],this.worktypes=Da,this.tempQcpFile=[],this.setTimeout=0,this.toppings=new n.e,this.copyworktypes=Da,this.workValue=[],this.toppingList=["Extra cheese","Mushroom","Onion","Pepperoni","Sausage","Tomato"],this.showdisabled=!1}ngOnInit(){this.ngxUiLoader.startLoader("loader-01"),localStorage.setItem("currPage","personnel"),this.prequalification_status=this.logininfo.organization_status,this.submitText="SAVE";let e=localStorage.getItem("userDetails");e=JSON.parse(atob(e)),this.userDetails=e,this.userRole=e.role,this.tempcompanyid=localStorage.getItem("tempcompanyid"),this.tempcompanyid=Number(atob(this.tempcompanyid)),this.tempcompanyid>0&&"Subcontractor"!=this.userRole&&(this.showAdmin=!0,this.personnelService.getRecords(this.tempcompanyid).subscribe(e=>{this.showdisabled=!0,this.personnelForm.disable(),this.personnelForm.updateValueAndValidity(),this.showAdmin=!0,(null==e?void 0:e.length)>0&&(this.personnelid=e[0].id,this.submitText=e[0].is_QCP?"UPDATE":"SAVE",this.updatePersonnel(e))})),null!=this.userDetails.vendorId&&null!=this.userDetails.taxId&&"Subcontractor"==this.userRole&&this.personnelService.getUser(this.userDetails.vendorId,this.userDetails.taxId).subscribe(e=>{this.companyId=e.id,localStorage.setItem("companyid",btoa(this.companyId)),this.getRecords()}),this.ngxUiLoader.stopLoader("loader-01")}ngAfterViewInit(){this.keepalive.interval(30),this.keepalive.stop(),0==this.setTimeout&&this.keepalive.stop()}ngOnDestroy(){this.keepalive.stop(),this.autoSave()}qcpReset(){this.showdisabled=!1,this.qcpAttachment.forEach((e,t)=>{this.removeqcpUpload(t,e,!1)})}idleReset(){this.keepalive.stop(),this.keepalive.start(),this.resetTimer=0}gotoHome(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm-1].url}`])}get f(){var e;return"yes"==this.personnelForm.value.is_QCP?0==this.qcpAttachment.length?(this.personnelForm.controls.qcP_Attachment.setValidators([n.u.required]),this.personnelForm.controls.qcP_Attachment.enable()):this.personnelForm.controls.qcP_Attachment.clearValidators():"no"==this.personnelForm.value.is_QCP&&(this.personnelForm.controls.qcP_Attachment.clearValidators(),this.personnelForm.controls.qcP_Attachment.disable()),this.personnelForm.controls.qcP_Attachment.updateValueAndValidity(),"yes"==this.personnelForm.value.is_Criminal_Indictment?this.personnelForm.controls.criminal_Indictment_Info.setValidators([n.u.required]):(this.personnelForm.patchValue({criminal_Indictment_Info:this.personnelForm.value.criminal_Indictment_Info}),this.personnelForm.controls.criminal_Indictment_Info.clearValidators()),this.personnelForm.controls.criminal_Indictment_Info.updateValueAndValidity(),"yes"==this.personnelForm.value.is_Federal?this.personnelForm.controls.federal_Info.setValidators([n.u.required]):(this.personnelForm.patchValue({federal_Info:this.personnelForm.value.federal_Info}),this.personnelForm.controls.federal_Info.clearValidators()),this.personnelForm.controls.federal_Info.updateValueAndValidity(),"yes"==this.personnelForm.value.is_Violation_Of_State?this.personnelForm.controls.violation_Of_State_Info.setValidators([n.u.required]):(this.personnelForm.patchValue({violation_Of_State_Info:this.personnelForm.value.violation_Of_State_Info}),this.personnelForm.controls.violation_Of_State_Info.clearValidators()),this.personnelForm.controls.violation_Of_State_Info.updateValueAndValidity(),(null===(e=this.qcpAttachment)||void 0===e?void 0:e.length)>0&&(this.personnelForm.controls.qcP_Attachment.setValidators(null),this.personnelForm.controls.qcP_Attachment.updateValueAndValidity()),this.personnelForm.controls}resetData(e){this.personnelForm.patchValue({[e]:""})}updatePersonnel(e){var t,i;let o=[];null===(i=null===(t=e[0])||void 0===t?void 0:t.work_Types)||void 0===i||i.split(",").filter(e=>{o.push(e)}),this.workValue=o,console.log(e),this.personnelForm.patchValue({id:e[0].id,companyId:e[0].companyId,proposed_OP_Name:this.logininfo.validateEmpty(e[0].proposed_OP_Name),proposed_OP_Title:this.logininfo.validateEmpty(e[0].proposed_OP_Title),proposed_OP_Years:this.logininfo.validateEmpty(e[0].proposed_OP_Years),proposed_OP_Experience:this.logininfo.validateEmpty(e[0].proposed_OP_Experience),additional_OP_Name:this.logininfo.validateEmpty(e[0].additional_OP_Name),additional_OP_Title:this.logininfo.validateEmpty(e[0].additional_OP_Title),additional_OP_Years:this.logininfo.validateEmpty(e[0].additional_OP_Years),additional_OP_Experience:this.logininfo.validateEmpty(e[0].additional_OP_Experience),is_QCP:this.logininfo.validateEmpty(e[0].is_QCP),is_OwnEmployee:this.logininfo.validateEmpty(e[0].is_OwnEmployee),is_TempLabor:this.logininfo.validateEmpty(e[0].is_TempLabor),work_Types:this.workValue,is_Criminal_Indictment:this.logininfo.validateEmpty(e[0].is_Criminal_Indictment),criminal_Indictment_Info:this.logininfo.validateEmpty(e[0].criminal_Indictment_Info),is_Federal:this.logininfo.validateEmpty(e[0].is_Federal),federal_Info:this.logininfo.validateEmpty(e[0].federal_Info),is_Violation_Of_State:this.logininfo.validateEmpty(e[0].is_Violation_Of_State),violation_Of_State_Info:this.logininfo.validateEmpty(e[0].violation_Of_State_Info)}),this.qcpAttachment=[],e[0].files.filter(e=>{e.file_Name.length<31&&0==e.isDeleted?this.qcpAttachment.push({id:e.id,name:e.file_Name,file_Path:e.file_Path}):0==e.isDeleted&&this.qcpAttachment.push({id:e.id,name:e.file_Name.substring(0,31)+"....",file_Path:e.file_Path})}),"Subcontractor"!=this.userRole&&"yes"==this.personnelForm.value.is_QCP&&this.personnelForm.controls.qcP_Attachment.setValidators([n.u.required])}save(){if(console.log("save"),console.log(this.personnelForm),this.submitted=!0,this.keepalive.stop(),this.personnelForm.valid)if(0==this.personnelid){this.personnelForm.patchValue({isAutosave:!1});let e=this.formMethod();this.personnelService.addRecord(e).subscribe(e=>{this.getRecords(),this.submitText="UPDATE",this.fileReset(),this.resetSpinner(),this.toastr.success("Work Types & Management approach saved successfully","Work Types & Management")})}else{this.personnelForm.patchValue({isAutosave:!1});let e=this.formMethod();this.personnelService.updateRecord(e,this.personnelid).subscribe(e=>{this.getRecords(),this.fileReset(),this.resetSpinner(),this.toastr.success("Work Types & Management approach updated successfully","Work Types & Management")})}}toggleSelection(e,t){e.selected=!e.selected}submit(){if(console.log("submit"),console.log(this.personnelForm),this.keepalive.stop(),this.ngxUiLoader.startLoader("loader-01"),"Subcontractor"!=this.userRole)this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`]);else if(0==this.personnelid){let e=this.formMethod();this.personnelService.addRecord(e).subscribe(e=>{this.toastr.success("Work Types & Management approach saved successfully","Work Types & Management"),this.getRecords(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])})}else{this.personnelForm.patchValue({isAutosave:!1});let e=this.formMethod();this.personnelService.updateRecord(e,this.personnelid).subscribe(e=>{this.toastr.success("Work Types & Management approach update successfully","Work Types & Management"),this.getRecords()},e=>{},()=>{this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])})}}autoSave(){if(console.log("auto save"),"Subcontractor"==this.userRole&&(this.resetTimer+=1,1==this.resetTimer))if(0==this.personnelid){let e=this.formMethod();this.personnelService.addRecord(e).subscribe(e=>{this.keepalive.stop(),this.getRecords()})}else{this.personnelForm.patchValue({isAutosave:!1});let e=this.formMethod();this.personnelService.updateRecord(e,this.personnelid).subscribe(e=>{this.keepalive.stop(),this.getRecords()})}}nextpage(){if(console.log("nextpage"),0==this.personnelid){let e=this.formMethod();this.personnelService.addRecord(e).subscribe(e=>{this.getRecords()})}else{this.personnelForm.patchValue({isAutosave:!1});let e=this.formMethod();this.personnelService.updateRecord(e,this.personnelid).subscribe(e=>{this.getRecords()})}}fileupload(){if(console.log("file- upload"),this.keepalive.stop(),0==this.personnelid){this.personnelForm.patchValue({isAutosave:!0});let e=this.formMethod();this.personnelService.addRecord(e).subscribe(e=>{this.keepalive.stop(),this.personnelForm.patchValue({qcP_Attachment:"",id:e.id}),this.getRecords(),this.resetSpinner(),this.submitted=!1})}else{this.personnelForm.patchValue({id:this.personnelid,isAutosave:!0});let e=this.formMethod();this.personnelService.updateRecord(e,this.personnelForm.value.id).subscribe(e=>{this.keepalive.stop(),this.getRecords(),this.resetSpinner(),this.personnelForm.patchValue({qcP_Attachment:""}),this.submitted=!1})}}autosave(){if(console.log("auto save"),this.resetTimer+=1,1==this.resetTimer)if(0==this.personnelid){this.personnelForm.patchValue({isAutosave:!1});let e=this.formMethod();this.personnelService.addRecord(e).subscribe(e=>{this.submitText="UPDATE",this.getRecords(),this.fileReset(),this.keepalive.stop(),this.resetSpinner()})}else{this.personnelForm.patchValue({isAutosave:!0});let e=this.formMethod();this.personnelService.updateRecord(e,this.personnelid).subscribe(e=>{this.getRecords(),this.fileReset(),this.keepalive.stop(),this.resetSpinner(),this.personnelForm.patchValue({isAutosave:!1})})}}getRecords(){this.personnelService.getRecords(this.companyId).subscribe(e=>{(null==e?void 0:e.length)>0&&(console.log(e),this.personnelid=e[0].id,this.submitText=e[0].is_QCP?"UPDATE":"SAVE",this.updatePersonnel(e))}),this.companyId>0&&this.companyservice.getRecord(this.companyId).subscribe(e=>{this.prequalification_status=(e=e[0]).preQualification_Status,e.preQualification_Status&&this.logininfo.formDisable(e.preQualification_Status)&&(this.showdisabled=!0,this.personnelForm.disable(),this.personnelForm.updateValueAndValidity())})}formMethod(){this.workValue.length!=this.personnelForm.value.work_Types.toString().length&&(this.personnelForm.value.work_Types=this.workValue);var e=new FormData;e.append("id",this.personnelForm.value.id),e.append("companyId",this.companyId),e.append("proposed_OP_Name",this.personnelForm.value.proposed_OP_Name),e.append("proposed_OP_Title",this.personnelForm.value.proposed_OP_Title),e.append("proposed_OP_Years",this.personnelForm.value.proposed_OP_Years),e.append("proposed_OP_Experience",this.personnelForm.value.proposed_OP_Experience),e.append("additional_OP_Name",this.personnelForm.value.additional_OP_Name),e.append("additional_OP_Title",this.personnelForm.value.additional_OP_Title),e.append("additional_OP_Years",this.personnelForm.value.additional_OP_Years),e.append("additional_OP_Experience",this.personnelForm.value.additional_OP_Experience),e.append("is_QCP",this.personnelForm.value.is_QCP),e.append("is_OwnEmployee",this.personnelForm.value.is_OwnEmployee),e.append("is_TempLabor",this.personnelForm.value.is_TempLabor),e.append("work_Types",this.personnelForm.value.work_Types.toString()),e.append("is_Criminal_Indictment",this.personnelForm.value.is_Criminal_Indictment),e.append("criminal_Indictment_Info",this.personnelForm.value.criminal_Indictment_Info),e.append("is_Federal",this.personnelForm.value.is_Federal),e.append("federal_Info",this.personnelForm.value.federal_Info),e.append("is_Violation_Of_State",this.personnelForm.value.is_Violation_Of_State),e.append("violation_Of_State_Info",this.personnelForm.value.violation_Of_State_Info);for(let t=0;t<this.tempqcpAttachment.length;t++)e.append("qcP_Attachment",this.tempqcpAttachment[t]);return this.tempqcpAttachment=[],e}qcpUpload(e){let t=document.getElementById("qcP_Attachment");for(let i=0;i<t.files.length;i++)this.tempqcpAttachment.push(t.files[i]);this.spinner.qcpSpinner=!0,this.fileupload()}filepreview(e,t){var i=new FileReader;i.onload=i=>{console.log(i.target);let o=new Blob(e.files,{type:e.files[t].type});var n=(window.URL||window.webkitURL).createObjectURL(o);console.log("path",n,e.value);var r=document.createElement("a"),a=document.createTextNode("View File");r.target="_blank",r.appendChild(a),r.href=n,r.click(),e.appendChild(r)},i.readAsDataURL(e.files[t])}removeqcpUpload(e,t,i=!0){this.showdisabled||this.personnelService.deleteRecord(t.id).subscribe(t=>{this.qcpAttachment.splice(e,1),i&&this.toastr.info("File removed successfully","Work Types & Management")})}resetSpinner(){this.spinner={qcpSpinner:!1}}fileReset(){this.personnelForm.patchValue({qcP_Attachment:""})}nextroutePage(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])}}return e.\u0275fac=function(t){return new(t||e)(s.Pb(n.d),s.Pb(r.f),s.Pb(l.a),s.Pb(u.a),s.Pb(f.b),s.Pb(g.a),s.Pb(_),s.Pb(v.c),s.Pb(Ca),s.Pb(c.a))},e.\u0275cmp=s.Jb({type:e,selectors:[["app-personnel-management"]],decls:178,vars:111,consts:[[1,"m-2",3,"formGroup","ngSubmit","keydown.enter"],[1,"px-2","py-2","form-bg",3,"ngClass"],[1,"form-group","input-group","row","px-2","mx-auto"],[1,"col-lg-6","px-0","mx-auto","col-head-1"],[1,"row","col-curve-top","bg-white","mx-0","px-0","py-2","mt-2","pb-2"],[1,"row","bg-white","col-curve","mx-auto","mt-2"],[1,"fw-bold"],[1,"col-12"],[1,"row","pt-1"],[1,"col-6"],["for","is_QCP",1,"my-auto","font-italic"],[1,"text-danger"],[1,"row"],[1,"col-lg-3"],["type","radio","formControlName","is_QCP","value","yes","checked","checked","name","is_QCP","id","is_QCP_yes","required","",3,"ngClass","ngModelChange"],["for","is_QCP_yes"],[1,"col-lg-9"],["type","radio","formControlName","is_QCP","value","no","name","is_QCP","id","is_QCP_no","required","",3,"ngClass","ngModelChange","click"],["for","is_QCP_no"],["class","invalid-feedback mt-2","id","is_QCP",4,"ngIf"],[1,"pt-2","pb-2",3,"ngClass"],["for","qcP_Attachment",1,"my-auto","font-italic"],[1,"form-control-customitem","form-control"],["type","file","title","Choose file","formControlName","qcP_Attachment","id","qcP_Attachment","name","qcP_Attachment","multiple","",3,"ngClass","change"],["for","qcP_Attachment",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["class","spinner__loading pt-3",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"col-lg-6","px-0","mx-auto","col-head-2","ms-1","ps-1","mt-2"],[1,"row","bg-white","col-curve","mx-auto","py-2","col-curve-top"],[1,"fw-bold","mt-2"],[1,"row","pt-2"],[1,"col-8"],["for","is_OwnEmployee",1,"my-auto","font-italic"],[1,"col-4"],[1,"col-lg-6"],["type","radio","formControlName","is_OwnEmployee","value","yes","checked","checked","name","is_OwnEmployee","id","is_OwnEmployee_yes","required","",3,"ngClass","ngModelChange"],["for","is_OwnEmployee_yes"],["type","radio","formControlName","is_OwnEmployee","value","no","name","is_OwnEmployee","id","is_OwnEmployee_no","required","",3,"ngClass","ngModelChange"],["for","is_OwnEmployee_no"],["class","invalid-feedback mt-2","id","is_OwnEmployee",4,"ngIf"],["for","is_TempLabor",1,"my-auto","font-italic"],["type","radio","formControlName","is_TempLabor","value","yes","checked","checked","name","is_TempLabor","id","is_TempLabor_yes","required","",3,"ngClass","ngModelChange"],["for","is_TempLabor_yes"],["type","radio","formControlName","is_TempLabor","value","no","name","is_TempLabor","id","is_TempLabor_no","required","",3,"ngClass","ngModelChange"],["for","is_TempLabor_no"],["class","invalid-feedback mt-2","id","is_TempLabor",4,"ngIf"],["for","is_Subcontractor",1,"my-auto","font-italic"],["type","radio","formControlName","proposed_OP_Name","value","yes","checked","checked","name","proposed_OP_Name","id","is_Subcontractor_yes","required","",3,"ngClass","ngModelChange"],["for","is_Subcontractor_yes"],["type","radio","formControlName","proposed_OP_Name","value","no","name","proposed_OP_Name","id","is_Subcontractor_no","required","",3,"ngClass","ngModelChange"],["for","is_Subcontractor_no"],[1,"form-group","input-group","row","px-2","pb-1","pt-2"],[1,"col-lg-6","py-1","mx-auto","px-0","col-head-1"],[1,"row","col-curve","bg-white","mx-0","px-0","py-2","mt-0","ms-auto","qcp-heights"],[1,"row","bg-white","mx-0","mt-2"],[1,"red",3,"source","destination","disabled","destinationChange"],[1,"col-12","bg-white","pb-3"],[1,"row","pt-5","pb-5"],[1,"row","pt-5","pb-5","mt-2"],[1,"col-lg-6","mx-auto","p-0","col-head-2"],[1,"row","bg-white","col-curve","py-2","border","border-4","mx-0"],[1,"mt-2","fw-bold"],[1,"row","mt-2"],["for","is_Criminal_Indictment",1,"my-auto","font-italic"],[1,"col-lg-3","pt-1"],["type","radio","formControlName","is_Criminal_Indictment","value","yes","checked","checked","name","is_Criminal_Indictment","id","is_Criminal_Indictment_yes","required","",3,"ngClass","ngModelChange"],["for","is_Criminal_Indictment_yes"],[1,"col-lg-9","pt-1"],["type","radio","formControlName","is_Criminal_Indictment","value","no","name","is_Criminal_Indictment","id","is_Criminal_Indictment_no","required","",3,"ngClass","ngModelChange","click"],["for","is_Criminal_Indictment_no"],["class","invalid-feedback mt-2","id","is_Criminal_Indictment",4,"ngIf"],[1,"mr-4","mt-1",3,"ngClass"],[1,"note","fw-bold",3,"ngClass"],[1,"col-lg-12","bg-white"],["formControlName","criminal_Indictment_Info","id","criminal_Indictment_Info","name","criminal_Indictment_Info",1,"form-control",3,"ngClass","ngModelChange"],["for","is_Federal",1,"my-auto","font-italic"],["type","radio","formControlName","is_Federal","value","yes","checked","checked","name","is_Federal","id","is_Federal_yes","required","",3,"ngClass","ngModelChange"],["for","is_Federal_yes"],["type","radio","formControlName","is_Federal","value","no","name","is_Federal","id","is_Federal_no","required","",3,"ngClass","ngModelChange","click"],["for","is_Federal_no"],["class","invalid-feedback mt-2","id","is_Federal",4,"ngIf"],[1,"mr-4","mt-1"],["formControlName","federal_Info","id","federal_Info","name","federal_Info",1,"form-control",3,"ngClass","ngModelChange"],[1,"pb-1"],["for","is_Violation_Of_State",1,"my-auto","font-italic","fw-bold"],["type","radio","formControlName","is_Violation_Of_State","value","yes","checked","checked","name","is_Violation_Of_State","id","is_Violation_Of_State_yes","required","",3,"ngClass","ngModelChange"],["for","is_Violation_Of_State_yes"],["type","radio","formControlName","is_Violation_Of_State","value","no","name","is_Violation_Of_State","id","is_Violation_Of_State_no","required","",3,"ngClass","ngModelChange","click"],["for","is_Violation_Of_State_no"],["class","invalid-feedback mt-2","id","is_Violation_Of_State",4,"ngIf"],["formControlName","violation_Of_State_Info","id","violation_Of_State_Info","name","violation_Of_State_Info",1,"form-control",3,"ngClass","ngModelChange"],["class","text-end mx-lg-4 my-3",4,"ngIf"],["class","text-end mx-4 my-3",4,"ngIf"],["headerReview","Risk Review & Inputs","formname","personnel",3,"formId","companyId",4,"ngIf"],["id","is_QCP",1,"invalid-feedback","mt-2"],["id","is_QCP",4,"ngIf"],["id","is_QCP"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner__loading","pt-3"],["diameter","18","mode","indeterminate",1,"mt-1"],[1,"file-tag"],["target","_blank",3,"href"],[1,"file-close","text-white",3,"click"],["id","is_OwnEmployee",1,"invalid-feedback","mt-2"],["id","is_OwnEmployee",4,"ngIf"],["id","is_OwnEmployee"],["id","is_TempLabor",1,"invalid-feedback","mt-2"],["id","is_TempLabor",4,"ngIf"],["id","is_TempLabor"],["id","is_Criminal_Indictment",1,"invalid-feedback","mt-2"],["id","is_Criminal_Indictment",4,"ngIf"],["id","is_Criminal_Indictment"],["id","is_Federal",1,"invalid-feedback","mt-2"],["id","is_Federal",4,"ngIf"],["id","is_Federal"],["id","is_Violation_Of_State",1,"invalid-feedback","mt-2"],["id","is_Violation_Of_State",4,"ngIf"],["id","is_Violation_Of_State"],[1,"text-end","mx-lg-4","my-3"],[1,"btn","float-start","btn","default-btn",3,"click"],["type","button",1,"btn","ml-4","default-btn",3,"click"],["type","submit",1,"btn","btn-success","mx-2","default-btn"],[1,"text-end","mx-4","my-3"],[1,"btn","btn-success","mx-2","default-btn",3,"click"],["headerReview","Risk Review & Inputs","formname","personnel",3,"formId","companyId"]],template:function(e,t){1&e&&(s.Vb(0,"form",0),s.cc("ngSubmit",function(){return t.submit()})("keydown.enter",function(e){return e.preventDefault()}),s.Vb(1,"div",1),s.Vb(2,"div",2),s.Vb(3,"div",3),s.Vb(4,"div",4),s.Vb(5,"div",5),s.Vb(6,"h6",6),s.Dc(7,"1. Quality Control Plan"),s.Ub(),s.Vb(8,"div",7),s.Vb(9,"div",8),s.Vb(10,"div",9),s.Vb(11,"label",10),s.Dc(12," Does your company have a quality control plan? "),s.Vb(13,"span",11),s.Dc(14,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(15,"div",9),s.Vb(16,"div",12),s.Vb(17,"span",13),s.Vb(18,"input",14),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Vb(19,"label",15),s.Dc(20," YES"),s.Ub(),s.Ub(),s.Vb(21,"span",16),s.Vb(22,"input",17),s.cc("ngModelChange",function(){return t.idleReset()})("click",function(){return t.qcpReset()}),s.Ub(),s.Vb(23,"label",18),s.Dc(24," NO"),s.Ub(),s.Ub(),s.Ub(),s.Bc(25,Ra,2,1,"div",19),s.Ub(),s.Ub(),s.Vb(26,"div",20),s.Vb(27,"label",21),s.Dc(28,"Attach a copy your company's quality control plan "),s.Ub(),s.Vb(29,"div",22),s.Vb(30,"input",23),s.cc("change",function(e){return t.qcpUpload(e)}),s.Ub(),s.Vb(31,"span",24),s.Dc(32," \xa0Click here to Add Files"),s.Ub(),s.Ub(),s.Bc(33,Fa,2,1,"div",25),s.Bc(34,Sa,4,0,"div",26),s.Bc(35,ka,7,2,"div",27),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(36,"div",28),s.Vb(37,"div",29),s.Vb(38,"h6",30),s.Dc(39,"2. Labor"),s.Ub(),s.Vb(40,"div",31),s.Vb(41,"div",32),s.Vb(42,"label",33),s.Dc(43," Does your company use your own employees to perform project work?"),s.Vb(44,"span",11),s.Dc(45,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(46,"div",34),s.Vb(47,"div",12),s.Vb(48,"span",35),s.Vb(49,"input",36),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Vb(50,"label",37),s.Dc(51," YES"),s.Ub(),s.Ub(),s.Vb(52,"span",35),s.Vb(53,"input",38),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Vb(54,"label",39),s.Dc(55," NO"),s.Ub(),s.Ub(),s.Ub(),s.Bc(56,Pa,2,1,"div",40),s.Ub(),s.Ub(),s.Vb(57,"div",31),s.Vb(58,"div",32),s.Vb(59,"label",41),s.Dc(60," Does your company use temp labor to perform project work?"),s.Vb(61,"span",11),s.Dc(62,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(63,"div",34),s.Vb(64,"div",12),s.Vb(65,"span",35),s.Vb(66,"input",42),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Vb(67,"label",43),s.Dc(68," YES"),s.Ub(),s.Ub(),s.Vb(69,"span",35),s.Vb(70,"input",44),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Vb(71,"label",45),s.Dc(72," NO"),s.Ub(),s.Ub(),s.Ub(),s.Bc(73,Aa,2,1,"div",46),s.Ub(),s.Ub(),s.Vb(74,"div",31),s.Vb(75,"div",32),s.Vb(76,"label",47),s.Dc(77," Does your company use subcontractors for field work?"),s.Vb(78,"span",11),s.Dc(79,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(80,"div",34),s.Vb(81,"div",12),s.Vb(82,"span",35),s.Vb(83,"input",48),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Vb(84,"label",49),s.Dc(85," YES"),s.Ub(),s.Ub(),s.Vb(86,"span",35),s.Vb(87,"input",50),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Vb(88,"label",51),s.Dc(89," NO"),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(90,"div",52),s.Vb(91,"div",53),s.Vb(92,"div",54),s.Vb(93,"div",55),s.Vb(94,"h6",6),s.Dc(95,"3. Select all the Work Types performed by your company's work force "),s.Vb(96,"span",11),s.Dc(97,"*"),s.Ub(),s.Ub(),s.Vb(98,"div"),s.Vb(99,"app-duallist",56),s.cc("destinationChange",function(e){return t.workValue=e}),s.Ub(),s.Bc(100,Oa,3,0,"div",25),s.Ub(),s.Qb(101,"div",57),s.Ub(),s.Vb(102,"div",58),s.Dc(103," \xa0 "),s.Ub(),s.Vb(104,"div",59),s.Dc(105," \xa0 "),s.Ub(),s.Ub(),s.Ub(),s.Vb(106,"div",60),s.Vb(107,"div",61),s.Vb(108,"h6",62),s.Dc(109,"4. Other Info"),s.Ub(),s.Vb(110,"div",63),s.Vb(111,"label",64),s.Dc(112," Within the past three years, has your company or any of the individuals identified in this section have been the subject of any criminal indictment or judgment of conviction for any business related conduct constituting a crime under state or federal law? "),s.Vb(113,"span",11),s.Dc(114," *"),s.Ub(),s.Ub(),s.Vb(115,"div",8),s.Vb(116,"span",65),s.Vb(117,"input",66),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Vb(118,"label",67),s.Dc(119," YES"),s.Ub(),s.Ub(),s.Vb(120,"span",68),s.Vb(121,"input",69),s.cc("ngModelChange",function(){return t.idleReset()})("click",function(){return t.resetData("criminal_Indictment_Info")}),s.Ub(),s.Vb(122,"label",70),s.Dc(123," NO"),s.Ub(),s.Ub(),s.Ub(),s.Bc(124,Ma,2,1,"div",71),s.Vb(125,"div",72),s.Vb(126,"small",73),s.Dc(127,"If yes, describe circumstances"),s.Ub(),s.Ub(),s.Vb(128,"div",74),s.Vb(129,"textarea",75),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Bc(130,Ba,2,1,"div",25),s.Ub(),s.Ub(),s.Vb(131,"div",63),s.Vb(132,"label",76),s.Dc(133,"Within the past three years, has your company or any of the individuals identified in this section have been the subject of any federal or state suspension or disbarment? "),s.Vb(134,"span",11),s.Dc(135," *"),s.Ub(),s.Ub(),s.Vb(136,"div",8),s.Vb(137,"span",65),s.Vb(138,"input",77),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Vb(139,"label",78),s.Dc(140," YES"),s.Ub(),s.Ub(),s.Vb(141,"span",68),s.Vb(142,"input",79),s.cc("ngModelChange",function(){return t.idleReset()})("click",function(){return t.resetData("federal_Info")}),s.Ub(),s.Vb(143,"label",80),s.Dc(144," NO"),s.Ub(),s.Ub(),s.Ub(),s.Bc(145,Ta,2,1,"div",81),s.Vb(146,"div",82),s.Vb(147,"small",73),s.Dc(148,"If yes, describe circumstances"),s.Ub(),s.Ub(),s.Vb(149,"div",74),s.Vb(150,"textarea",83),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Bc(151,Ya,2,1,"div",25),s.Ub(),s.Vb(152,"div",84),s.Dc(153,"\xa0"),s.Ub(),s.Ub(),s.Vb(154,"div",12),s.Vb(155,"label",85),s.Dc(156,"Within the past three years, has your company or any of the individuals identified in this section have been the subject of any formal proceeding or consent order with a state or federal environment agency involving a violation of state or federal environment laws? "),s.Vb(157,"span",11),s.Dc(158," *"),s.Ub(),s.Ub(),s.Vb(159,"div",8),s.Vb(160,"span",65),s.Vb(161,"input",86),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Vb(162,"label",87),s.Dc(163," YES"),s.Ub(),s.Ub(),s.Vb(164,"span",68),s.Vb(165,"input",88),s.cc("ngModelChange",function(){return t.idleReset()})("click",function(){return t.resetData("violation_Of_State_Info")}),s.Ub(),s.Vb(166,"label",89),s.Dc(167," NO"),s.Ub(),s.Ub(),s.Ub(),s.Bc(168,Ga,2,1,"div",90),s.Vb(169,"div",72),s.Vb(170,"small",73),s.Dc(171,"If yes, describe circumstances"),s.Ub(),s.Ub(),s.Vb(172,"div",74),s.Vb(173,"textarea",91),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Bc(174,$a,2,1,"div",25),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Bc(175,Wa,7,1,"div",92),s.Ub(),s.Bc(176,Ha,5,0,"div",93),s.Bc(177,Za,1,2,"app-comment",94)),2&e&&(s.mc("formGroup",t.personnelForm),s.Db(1),s.mc("ngClass",s.pc(53,Ka,1==t.showdisabled)),s.Db(17),s.mc("ngClass",s.pc(55,Ja,t.submitted&&t.f.is_QCP.errors)),s.Db(4),s.mc("ngClass",s.pc(57,Ja,t.submitted&&t.f.is_QCP.errors)),s.Db(3),s.mc("ngIf",(t.submitted||t.f.is_QCP.touched)&&t.f.is_QCP.errors),s.Db(1),s.mc("ngClass",s.pc(59,Ka,"no"==t.f.is_QCP.value)),s.Db(4),s.mc("ngClass",s.pc(61,Ja,t.submitted&&t.f.qcP_Attachment.errors)),s.Eb("disabled",t.showdisabled||"no"==t.f.is_QCP.value?"":null),s.Db(1),s.mc("ngClass",s.pc(63,Ka,"no"==t.f.is_QCP.value)),s.Db(2),s.mc("ngIf",t.submitted&&t.f.qcP_Attachment.errors),s.Db(1),s.mc("ngIf",null==t.spinner?null:t.spinner.qcpSpinner),s.Db(1),s.mc("ngForOf",t.qcpAttachment),s.Db(14),s.mc("ngClass",s.pc(65,Ja,t.submitted&&t.f.is_OwnEmployee.errors)),s.Db(4),s.mc("ngClass",s.pc(67,Ja,t.submitted&&t.f.is_OwnEmployee.errors)),s.Db(3),s.mc("ngIf",(t.submitted||t.f.is_OwnEmployee.touched)&&t.f.is_OwnEmployee.errors),s.Db(10),s.mc("ngClass",s.pc(69,Ja,t.submitted&&t.f.is_TempLabor.errors)),s.Db(4),s.mc("ngClass",s.pc(71,Ja,t.submitted&&t.f.is_TempLabor.errors)),s.Db(3),s.mc("ngIf",(t.submitted||t.f.is_TempLabor.touched)&&t.f.is_TempLabor.errors),s.Db(10),s.mc("ngClass",s.pc(73,Ja,t.submitted&&(null==t.f.proposed_OP_Name?null:t.f.proposed_OP_Name.errors))),s.Db(4),s.mc("ngClass",s.pc(75,Ja,t.submitted&&(null==t.f.proposed_OP_Name?null:t.f.proposed_OP_Name.errors))),s.Db(12),s.mc("source",t.copyworktypes)("destination",t.workValue)("disabled",t.showdisabled),s.Db(1),s.mc("ngIf",t.submitted&&0==t.workValue.length),s.Db(17),s.mc("ngClass",s.pc(77,Ja,t.submitted&&t.f.is_Criminal_Indictment.errors)),s.Db(4),s.mc("ngClass",s.pc(79,Ja,t.submitted&&t.f.is_Criminal_Indictment.errors)),s.Db(3),s.mc("ngIf",(t.submitted||t.f.is_Criminal_Indictment.touched)&&t.f.is_Criminal_Indictment.errors),s.Db(1),s.mc("ngClass",s.pc(81,Ka,"no"==t.f.is_Criminal_Indictment.value)),s.Db(1),s.mc("ngClass",s.pc(83,Ka,t.showdisabled||"no"==t.f.is_Criminal_Indictment.value)),s.Db(3),s.mc("ngClass",s.pc(85,Ja,t.submitted&&t.f.criminal_Indictment_Info.errors))("ngClass",s.pc(87,Ka,"no"==t.f.is_Criminal_Indictment.value)),s.Eb("disabled","no"==t.f.is_Criminal_Indictment.value?"":null),s.Db(1),s.mc("ngIf",t.submitted&&t.f.criminal_Indictment_Info.errors),s.Db(8),s.mc("ngClass",s.pc(89,Ja,t.submitted&&t.f.is_Federal.errors)),s.Db(4),s.mc("ngClass",s.pc(91,Ja,t.submitted&&t.f.is_Federal.errors)),s.Db(3),s.mc("ngIf",(t.submitted||t.f.is_Federal.touched)&&t.f.is_Federal.errors),s.Db(2),s.mc("ngClass",s.pc(93,Ka,t.showdisabled||"no"==t.f.is_Federal.value)),s.Db(3),s.mc("ngClass",s.pc(95,Ka,"no"==t.f.is_Federal.value))("ngClass",s.pc(97,Ja,t.submitted&&t.f.federal_Info.errors)),s.Eb("disabled","no"==t.f.is_Federal.value?"":null),s.Db(1),s.mc("ngIf",t.submitted&&t.f.federal_Info.errors),s.Db(10),s.mc("ngClass",s.pc(99,Ja,t.submitted&&t.f.is_Violation_Of_State.errors)),s.Db(4),s.mc("ngClass",s.pc(101,Ja,t.submitted&&t.f.is_Violation_Of_State.errors)),s.Db(3),s.mc("ngIf",(t.submitted||t.f.is_Violation_Of_State.touched)&&t.f.is_Violation_Of_State.errors),s.Db(1),s.mc("ngClass",s.pc(103,Ka,"no"==t.f.is_Violation_Of_State.value)),s.Db(1),s.mc("ngClass",s.pc(105,Ka,t.showdisabled||"no"==t.f.is_Violation_Of_State.value)),s.Db(3),s.mc("ngClass",s.pc(107,Ja,t.submitted&&t.f.violation_Of_State_Info.errors))("ngClass",s.pc(109,Ka,"no"==t.f.is_Violation_Of_State.value)),s.Eb("disabled","no"==t.f.is_Violation_Of_State.value?"":null),s.Db(1),s.mc("ngIf",t.submitted&&t.f.violation_Of_State_Info.errors),s.Db(1),s.mc("ngIf",!(t.showAdmin||t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status)),s.Db(1),s.mc("ngIf",!t.showAdmin&&t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status||t.showAdmin),s.Db(1),s.mc("ngIf","Subcontractor"!=t.userRole&&"Prequal form submitted and under quality check"!=t.prequalification_status))},directives:[n.v,n.k,n.g,o.j,n.q,n.b,n.j,n.f,n.s,o.l,o.k,x,P.a,G],styles:["select[_ngcontent-%COMP%]:-internal-list-box   option[_ngcontent-%COMP%]:checked{background-color:#4a7729!important}.border[_ngcontent-%COMP%]{border:4px solid hsla(0,0%,86.7%,.6196078431372549)!important}.col-curve-top[_ngcontent-%COMP%]{border-top:6px solid #c3bdbd!important}.col-curve[_ngcontent-%COMP%], .col-curve-top[_ngcontent-%COMP%]{border-radius:18px 19px!important}.qcp-height[_ngcontent-%COMP%]{min-height:229px}.select-height[_ngcontent-%COMP%]{min-height:215px!important}h6[_ngcontent-%COMP%]{font-size:13px!important}.bg-grey[_ngcontent-%COMP%], .bg-grey[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{color:#c7bfbf!important}.multiple-select[_ngcontent-%COMP%]{width:45%;float:left}[_nghost-%COMP%]   .red[_ngcontent-%COMP%]     .btn-primary{background-color:#4a7729!important}[_nghost-%COMP%]   .red[_ngcontent-%COMP%]     .btn-primary:disabled{background-color:#708362!important}"]}),e})();function es(e,t){if(1&e&&(s.Vb(0,"strong"),s.Dc(1),s.Ub()),2&e){const e=s.gc();s.Db(1),s.Ec(null==e.userDetails?null:e.userDetails.companyName)}}function ts(e,t){if(1&e&&(s.Vb(0,"strong",38),s.Dc(1),s.Ub()),2&e){const e=s.gc();s.Db(1),s.Ec(e.companyName)}}function is(e,t){if(1&e&&(s.Vb(0,"strong"),s.Dc(1),s.Ub()),2&e){const e=s.gc();s.Db(1),s.Ec(null==e.userDetails?null:e.userDetails.taxId)}}function os(e,t){if(1&e&&(s.Vb(0,"strong"),s.Dc(1),s.Ub()),2&e){const e=s.gc();s.Db(1),s.Ec(e.taxId)}}function ns(e,t){if(1&e&&(s.Vb(0,"strong"),s.Dc(1),s.Ub()),2&e){const e=s.gc();s.Db(1),s.Ec(null==e.userDetails?null:e.userDetails.vendorId)}}function rs(e,t){if(1&e&&(s.Vb(0,"strong"),s.Dc(1),s.Ub()),2&e){const e=s.gc();s.Db(1),s.Ec(e.vendorId)}}const as=function(e){return{activeTab:e}};function ss(e,t){if(1&e){const e=s.Wb();s.Vb(0,"li"),s.Vb(1,"a",39),s.cc("click",function(){s.uc(e);const i=t.$implicit;return s.gc().ActiveMenu(i)}),s.Vb(2,"strong"),s.Dc(3),s.Ub(),s.Qb(4,"br"),s.Vb(5,"small",40),s.Dc(6),s.Ub(),s.Ub(),s.Ub()}if(2&e){const e=t.$implicit,i=t.index,o=s.gc();s.Db(1),s.mc("routerLink",e.url)("ngClass",s.pc(4,as,o.activeItem===e.desc)),s.Db(2),s.Ec(e.name),s.Db(3),s.Fc(" ",null==o.completeStatus[i]?null:o.completeStatus[i].status,"")}}function cs(e,t){if(1&e&&(s.Vb(0,"small",41),s.Dc(1),s.hc(2,"date"),s.Ub()),2&e){const e=s.gc();s.Db(1),s.Fc("Last Updated on: ",s.jc(2,1,e.orgupdatedate,"MM/dd/yyyy"),"")}}let ls=(()=>{class e{constructor(e,t,i,o,n,a){this.router=e,this.activatedRouter=t,this.safetyService=i,this.companyservice=o,this.ngxUiLoader=n,this.logininfo=a,this.activeItem="",this.activeDetail="",this.leftMenu=[],this.leftMenudisplay=this.companyservice.getMenuDetails(),this.companyId=0,this.userRole="",this.userDetails="",this.companyName="",this.taxId="",this.vendorId="",this.navbarOpen=!1,this.completeStatus=[{formname:"organization",status:""},{formname:"personnel",status:""},{formname:"experience",status:""},{formname:"relevant",status:""},{formname:"safety",status:""},{formname:"surety",status:""},{formname:"financial",status:""},{formname:"signature",status:""},{formname:"submit",status:""}],this.signature="",this.router.events.subscribe(e=>{if(e instanceof r.e){let e=localStorage.getItem("userDetails");if(e=JSON.parse(atob(e)),this.userDetails=e,this.userRole=e.role,"Subcontractor"==this.userRole){let e=localStorage.getItem("companyid");this.companyId=Number(atob(e)),this.getFormStatus(this.companyId)}}})}ngOnInit(){var e;this.leftMenu=this.leftMenudisplay.slice(),this.router.events.subscribe(e=>{var t;let i=null===(t=this.activatedRouter.snapshot._routerState.url)||void 0===t?void 0:t.split("/");if(i.length>1){let e=this.leftMenu.find(e=>e.url==i[2]);e&&(this.activeItem=e.desc,this.activeDetail=e.detail)}this.activeItem||(this.activeItem=this.leftMenu[0].desc,this.activeDetail=this.leftMenu[0].detail)});let t=null===(e=this.activatedRouter.snapshot._routerState.url)||void 0===e?void 0:e.split("/");if(t.length>1){let e=this.leftMenu.find(e=>e.url==t[2]);e&&(this.activeItem=e.desc,this.activeDetail=e.detail)}this.activeItem||(this.activeItem=this.leftMenu[0].desc,this.activeDetail=this.leftMenu[0].detail);let i=localStorage.getItem("userDetails");if(i){if(i=JSON.parse(atob(i)),this.userDetails=i,this.userRole=i.role,"Subcontractor"!=this.userRole&&(this.companyName=localStorage.getItem("userName"),this.companyName=atob(this.companyName),this.taxId=localStorage.getItem("taxID"),this.taxId=atob(this.taxId),this.vendorId=localStorage.getItem("vendorID"),this.vendorId=atob(this.vendorId)),"Subcontractor"==this.userRole){let e=localStorage.getItem("companyid");this.companyId=Number(atob(e)),this.getFormStatus(this.companyId)}if("SafetyUser"==this.userRole){this.leftMenu=[];for(let e=0;e<this.leftMenudisplay.length;e++)"Safety Information"==this.leftMenudisplay[e].name&&this.leftMenu.push(this.leftMenudisplay[e]);localStorage.getItem("tempcompanyid")&&(this.companyId=localStorage.getItem("tempcompanyid"),this.companyId=Number(atob(this.companyId))),this.activeItem=this.leftMenu[0].desc,this.router.navigate(["qualification/"+this.leftMenu[0].url])}}this.getOrganization()}ActiveMenu(e){if(localStorage.getItem("companyid")){let e=localStorage.getItem("companyid");this.companyId=Number(atob(e))}if(localStorage.getItem("tempcompanyid")){let e=localStorage.getItem("tempcompanyid");this.companyId=Number(atob(e))}0==this.companyId?this.activeItem=this.leftMenu[0].desc:(this.activeItem=e.desc,this.router.navigate(["qualification/"+e.url]))}gotoHome(){this.router.navigate(["/home"])}redirecttohome(){this.router.navigate(["/home"])}getOrganization(){if(null!=this.userDetails.vendorId&&null!=this.userDetails.taxId&&"Subcontractor"==this.userRole)this.companyservice.getUser(this.userDetails.vendorId,this.userDetails.taxId).subscribe(e=>{});else{let e=localStorage.getItem("tempcompanyid");e=Number(atob(e))}}getFormStatus(e){this.companyservice.getRecord(e).subscribe(e=>{this.orgupdatedate=e.updatedDate}),this.companyservice.getFormStatus(e).subscribe(e=>{var t,i,o,n,r,a,s,c,l,d,u,b,p,m,f;if(null==e?void 0:e.length){let h=[{formname:"organization",status:""},{formname:"personnel",status:""},{formname:"experience",status:""},{formname:"relevant",status:""},{formname:"safety",status:""},{formname:"surety",status:""},{formname:"financial",status:""},{formname:"signature",status:""},{formname:"submit",status:""}];h[0].status="Completed"==(null===(t=e[0])||void 0===t?void 0:t.organizationStatus)?null===(i=e[0])||void 0===i?void 0:i.organizationStatus:"",h[1].status="Completed"==(null===(o=e[0])||void 0===o?void 0:o.personnel)?null===(n=e[0])||void 0===n?void 0:n.personnel:"",h[2].status="Completed"==(null===(r=e[0])||void 0===r?void 0:r.reference)?null===(a=e[0])||void 0===a?void 0:a.reference:"",h[3].status="Completed"==(null===(s=e[0])||void 0===s?void 0:s.safety)?null===(c=e[0])||void 0===c?void 0:c.safety:"",h[4].status="Completed"==(null===(l=e[0])||void 0===l?void 0:l.surity)?null===(d=e[0])||void 0===d?void 0:d.surity:"",h[5].status="Completed"==(null===(u=e[0])||void 0===u?void 0:u.finance)?null===(b=e[0])||void 0===b?void 0:b.finance:"",h[6].status="Completed"==(null===(p=e[0])||void 0===p?void 0:p.signature)?null===(m=e[0])||void 0===m?void 0:m.signature:"",h[7].status="Under initial Risk review"==(null===(f=e[0])||void 0===f?void 0:f.preQualification_Status)?"Completed":"",this.completeStatus=h}})}}return e.\u0275fac=function(t){return new(t||e)(s.Pb(r.f),s.Pb(r.a),s.Pb(Mo),s.Pb(c.a),s.Pb(v.c),s.Pb(_))},e.\u0275cmp=s.Jb({type:e,selectors:[["app-qualification"]],decls:65,vars:11,consts:[[1,"container-fluid","mt-3","pt-5"],[1,"row","mx-auto","align-items-center"],[1,"col-lg-12","col-md-12","ps-1"],[1,"row"],[1,"col-lg-3","pt-lg-3","pt-2","text-center"],[1,"col-lg-9","col-md-12"],[1,"row","border","pt-3"],[1,"col-lg-4","col-md-5"],[1,"text-center"],[1,"font-weight-bold"],[1,"text-success","font-weight-bold"],[4,"ngIf"],["class","text-capitalize",4,"ngIf"],[1,"col-lg-2","col-md-2","text-center"],[1,"col-lg-3","col-md-2"],[1,"vendor","text-center"],[1,"col-lg-3","col-md-3"],[1,"row","mt-lg-1","pt-3","pt-lg-0"],[1,"col-lg-3","col-md-12"],[1,"list-group"],[1,"leftmenu","mb-3","mb-lg-0","mb-lg-0"],[4,"ngFor","ngForOf"],[1,"col-lg-9","col-md-12","col-xs-12","px-0","border","section-head"],[1,"row","align-items-center","bg-success","mx-0","header"],[1,"col-8","mx-0"],[1,"bg-success","py-3","ps-2","m-0","text-white"],[1,"col-4","mx-0"],["class","float-end pe-2 text-center pt-lg-1 fw-normal text-white bg-success",4,"ngIf"],[1,"subheading"],["type","button","id","directalertmodal","data-bs-toggle","modal","data-bs-target","#directalertmodals",1,"btn-hide"],["id","directalertmodals","tabindex","-1","aria-labelledby","directalertmodals","aria-hidden","false",1,"modal","fade"],["directalertmodals",""],[1,"modal-dialog","modal-md","modal-dialog-centered"],[1,"modal-content"],[1,"modal-body","my-3"],[1,"modal-footer","p-0"],["type","button","data-bs-dismiss","modal",1,"btn","default-btn","modal-cancel","px-4",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","default-btn","bg-danger","modal-cancel","px-4"],[1,"text-capitalize"],["routerLinkActive","activeTab",1,"list-group-item","text-center","sec-tab","py-3","px-2",3,"routerLink","ngClass","click"],[1,"completeStatus"],[1,"float-end","pe-2","text-center","pt-lg-1","fw-normal","text-white","bg-success"]],template:function(e,t){1&e&&(s.Vb(0,"div",0),s.Vb(1,"div",1),s.Vb(2,"div",2),s.Vb(3,"div",3),s.Vb(4,"div",4),s.Vb(5,"h6"),s.Dc(6,"FORM SECTIONS"),s.Ub(),s.Ub(),s.Vb(7,"div",5),s.Vb(8,"div",6),s.Vb(9,"div",7),s.Vb(10,"p",8),s.Vb(11,"span",9),s.Dc(12," Company Name: "),s.Ub(),s.Vb(13,"span",10),s.Bc(14,es,2,1,"strong",11),s.Bc(15,ts,2,1,"strong",12),s.Ub(),s.Ub(),s.Ub(),s.Vb(16,"div",13),s.Vb(17,"p",8),s.Vb(18,"span",9),s.Dc(19,"Tax Id: "),s.Ub(),s.Vb(20,"span",10),s.Bc(21,is,2,1,"strong",11),s.Bc(22,os,2,1,"strong",11),s.Ub(),s.Ub(),s.Ub(),s.Vb(23,"div",14),s.Vb(24,"p",15),s.Vb(25,"span",9),s.Dc(26,"Messer Vendor Id: "),s.Ub(),s.Vb(27,"span",10),s.Bc(28,ns,2,1,"strong",11),s.Bc(29,rs,2,1,"strong",11),s.Ub(),s.Ub(),s.Ub(),s.Vb(30,"div",16),s.Vb(31,"p",15),s.Vb(32,"span",9),s.Dc(33,"Prequal Expiry Date: "),s.Ub(),s.Vb(34,"span",10),s.Vb(35,"strong"),s.Dc(36),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(37,"div",17),s.Vb(38,"div",18),s.Vb(39,"div",19),s.Vb(40,"ul",20),s.Bc(41,ss,7,6,"li",21),s.Ub(),s.Ub(),s.Ub(),s.Vb(42,"div",22),s.Vb(43,"div",23),s.Vb(44,"div",24),s.Vb(45,"h5",25),s.Dc(46),s.Ub(),s.Ub(),s.Vb(47,"div",26),s.Bc(48,cs,3,4,"small",27),s.Ub(),s.Ub(),s.Vb(49,"div",28),s.Dc(50),s.Ub(),s.Qb(51,"router-outlet"),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Qb(52,"button",29),s.Vb(53,"div",30,31),s.Vb(55,"div",32),s.Vb(56,"div",33),s.Vb(57,"div",34),s.Vb(58,"p"),s.Dc(59,"Do you want to stop completing the prequalifcation form and go to the homepage?"),s.Ub(),s.Ub(),s.Vb(60,"div",35),s.Vb(61,"button",36),s.cc("click",function(){return t.redirecttohome()}),s.Dc(62,"YES"),s.Ub(),s.Vb(63,"button",37),s.Dc(64,"NO"),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub()),2&e&&(s.Db(14),s.mc("ngIf","Subcontractor"==t.userRole),s.Db(1),s.mc("ngIf","Subcontractor"!=t.userRole),s.Db(6),s.mc("ngIf","Subcontractor"==t.userRole),s.Db(1),s.mc("ngIf","Subcontractor"!=t.userRole),s.Db(6),s.mc("ngIf","Subcontractor"==t.userRole),s.Db(1),s.mc("ngIf","Subcontractor"!=t.userRole),s.Db(7),s.Ec(null==t.userDetails?null:t.userDetails.expDate),s.Db(5),s.mc("ngForOf",t.leftMenu),s.Db(5),s.Ec(t.activeItem),s.Db(2),s.mc("ngIf",t.orgupdatedate),s.Db(2),s.Ec(t.activeDetail))},directives:[o.l,o.k,r.j,r.h,r.g,o.j],pipes:[o.e],styles:['@charset "UTF-8";.leftmenu[_ngcontent-%COMP%]{padding:0;margin:0;list-style-type:none;font-size:14px}.sec-tab[_ngcontent-%COMP%]{background-color:#fafad2;text-transform:uppercase;color:#dc4405!important}.leftmenu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none!important}.activeTab[_ngcontent-%COMP%]:after{content:"";position:absolute;left:100%;top:50%;margin-top:-13px;border-left:0;border-bottom:13px solid transparent;border-top:13px solid transparent;border-left:10px solid #4a7729!important}.activeTab[_ngcontent-%COMP%]{padding:14px \u200b4px;color:#fff!important;border:1px solid #4a7729!important;background:#4a7729!important;text-decoration:none;text-align:center;cursor:pointer;font-weight:700;font-size:12px!important}.activeTab[_ngcontent-%COMP%]   .completeStatus[_ngcontent-%COMP%]{font-size:10px!important;color:#fff!important;font-weight:400!important}.bg-success[_ngcontent-%COMP%]{background-color:#4a7729!important}.font-weight-bold[_ngcontent-%COMP%]{font-weight:600!important}.vendor[_ngcontent-%COMP%]{text-align:right}.btn-outline-success[_ngcontent-%COMP%]{color:#4a7729!important;border-color:#4a7729!important}.btn-outline-success[_ngcontent-%COMP%]:hover{background-color:#4a7729!important;color:#fff!important}.completeStatus[_ngcontent-%COMP%]{font-size:10px!important;color:green;position:absolute;right:5px;bottom:2px}.header[_ngcontent-%COMP%]{text-transform:uppercase}.subheading[_ngcontent-%COMP%]{color:orange;padding:6px 7px 0 30px;font-weight:700;font-size:13px!important}']}),e})(),ds=(()=>{class e extends A.a{constructor(e,t){super("Experience",e,t,{root:j.a.webserviceURlLocal})}getAll(){return super.getAll()}getRecords(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("experience/"+e,j.a.webserviceURlLocal);return this.http.get(i,t)}updateRecord(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("experience/"+t,j.a.webserviceURlLocal);return this.http.put(o,e,i)}addRecord(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("experience",j.a.webserviceURlLocal);return this.http.post(i,e,t)}getUser(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("Organization/"+e+"/"+t,j.a.webserviceURlLocal);return this.http.get(o,i)}getComplete(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("Organization/Getstatus/"+e,j.a.webserviceURlLocal);return this.http.get(i,t)}deleteRecord(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.delete(j.a.webserviceURlLocal+"experience/"+e,t)}}return e.\u0275fac=function(t){return new(t||e)(s.Zb(O.b),s.Zb(A.c))},e.\u0275prov=s.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function us(e,t){if(1&e){const e=s.Wb();s.Vb(0,"i",50),s.cc("click",function(){s.uc(e);const t=s.gc(2),i=t.index,o=t.$implicit;return s.gc(2).editrelevant(i,o)}),s.Ub()}}function bs(e,t){if(1&e){const e=s.Wb();s.Vb(0,"div",42),s.Vb(1,"div",43),s.Vb(2,"p",44),s.Dc(3,"Project Name"),s.Ub(),s.Ub(),s.Vb(4,"div",43),s.Vb(5,"p"),s.Vb(6,"span",45),s.Dc(7),s.Ub(),s.Vb(8,"small",46),s.Bc(9,us,1,0,"i",47),s.Vb(10,"i",48),s.cc("click",function(){s.uc(e);const t=s.gc(),i=t.index,o=t.$implicit;return s.gc(2).removeRelevant(i,o)}),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(11,"div",49),s.Vb(12,"p",44),s.Dc(13,"General Contractor/Owner"),s.Ub(),s.Ub(),s.Vb(14,"div",49),s.Vb(15,"p"),s.Dc(16),s.Ub(),s.Ub(),s.Vb(17,"div",49),s.Vb(18,"p",44),s.Dc(19,"Contract Price"),s.Ub(),s.Ub(),s.Vb(20,"div",49),s.Vb(21,"p"),s.Dc(22),s.Ub(),s.Ub(),s.Vb(23,"div",49),s.Vb(24,"p",44),s.Dc(25,"Completion Date"),s.Ub(),s.Ub(),s.Vb(26,"div",49),s.Vb(27,"p"),s.Dc(28),s.hc(29,"date"),s.Ub(),s.Ub(),s.Vb(30,"div",49),s.Vb(31,"p",44),s.Dc(32,"City"),s.Ub(),s.Ub(),s.Vb(33,"div",49),s.Vb(34,"p"),s.Dc(35),s.Ub(),s.Ub(),s.Vb(36,"div",49),s.Vb(37,"p",44),s.Dc(38,"State"),s.Ub(),s.Ub(),s.Vb(39,"div",49),s.Vb(40,"p"),s.Dc(41),s.Ub(),s.Ub(),s.Ub()}if(2&e){const e=s.gc().$implicit,t=s.gc(2);s.Db(7),s.Ec(e.projectName),s.Db(2),s.mc("ngIf",!t.pastdisabledEdit),s.Db(7),s.Ec(e.isOwner),s.Db(6),s.Ec(e.contractPrice),s.Db(6),s.Ec(s.jc(29,7,e.completionDate,"MM-dd-yyyy")),s.Db(7),s.Ec(e.city),s.Db(6),s.Ec(e.state)}}function ps(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Project Name is required "),s.Ub())}function ms(e,t){if(1&e&&(s.Vb(0,"div",78),s.Bc(1,ps,2,0,"div",79),s.Ub()),2&e){const e=s.gc(4);s.Db(1),s.mc("ngIf",e.ff.projectName.errors.required)}}function fs(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"General contractor/owner is required "),s.Ub())}function hs(e,t){if(1&e&&(s.Vb(0,"div",78),s.Bc(1,fs,2,0,"div",79),s.Ub()),2&e){const e=s.gc(4);s.Db(1),s.mc("ngIf",e.ff.isOwner.errors.required)}}function gs(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Contract price is required "),s.Ub())}function _s(e,t){if(1&e&&(s.Vb(0,"div",78),s.Bc(1,gs,2,0,"div",79),s.Ub()),2&e){const e=s.gc(4);s.Db(1),s.mc("ngIf",e.ff.contractPrice.errors.required)}}function vs(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Completion date is required "),s.Ub())}function ys(e,t){if(1&e&&(s.Vb(0,"div",78),s.Bc(1,vs,2,0,"div",79),s.Ub()),2&e){const e=s.gc(4);s.Db(1),s.mc("ngIf",e.ff.completionDate.errors.required)}}function Vs(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"City is required"),s.Ub())}function Us(e,t){if(1&e&&(s.Vb(0,"div",78),s.Bc(1,Vs,2,0,"div",79),s.Ub()),2&e){const e=s.gc(4);s.Db(1),s.mc("ngIf",e.ff.city.errors.required)}}function Ds(e,t){if(1&e&&(s.Vb(0,"option",73),s.Dc(1),s.Ub()),2&e){const e=t.$implicit;s.mc("ngValue",e.name),s.Db(1),s.Fc(" ",e.name,"")}}function Cs(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"State is required"),s.Ub())}function Is(e,t){if(1&e&&(s.Vb(0,"div",78),s.Bc(1,Cs,2,0,"div",79),s.Ub()),2&e){const e=s.gc(4);s.Db(1),s.mc("ngIf",e.ff.state.errors.required)}}function Rs(e,t){if(1&e){const e=s.Wb();s.Vb(0,"button",80),s.cc("click",function(){s.uc(e);const t=s.gc(2),i=t.index,o=t.$implicit;return s.gc(2).cancelpastUpdate(i,o)}),s.Dc(1,"CANCEL"),s.Ub()}}function ws(e,t){if(1&e){const e=s.Wb();s.Vb(0,"button",80),s.cc("click",function(){s.uc(e);const t=s.gc(2),i=t.index,o=t.$implicit;return s.gc(2).relevantupdate(i,o)}),s.Dc(1,"UPDATE"),s.Ub()}}const Fs=function(e){return{"is-invalid":e}};function Ss(e,t){if(1&e){const e=s.Wb();s.Vb(0,"div",51),s.Vb(1,"form",52),s.Vb(2,"div",53),s.Vb(3,"div",54),s.Vb(4,"label",55),s.Dc(5," Project Name "),s.Vb(6,"span",16),s.Dc(7,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(8,"div",56),s.Vb(9,"input",57),s.cc("ngModelChange",function(){return s.uc(e),s.gc(3).idleReset()}),s.Ub(),s.Bc(10,ms,2,1,"div",24),s.Ub(),s.Ub(),s.Vb(11,"div",58),s.Vb(12,"div",54),s.Vb(13,"label",59),s.Dc(14," General Contractor/Owner "),s.Vb(15,"span",16),s.Dc(16,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(17,"div",56),s.Vb(18,"div",17),s.Vb(19,"span",60),s.Vb(20,"input",61),s.cc("ngModelChange",function(){return s.uc(e),s.gc(3).idleReset()}),s.Ub(),s.Vb(21,"label",62),s.Dc(22," YES"),s.Ub(),s.Ub(),s.Vb(23,"span",60),s.Vb(24,"input",63),s.cc("ngModelChange",function(){return s.uc(e),s.gc(3).idleReset()}),s.Ub(),s.Vb(25,"label",64),s.Dc(26," NO"),s.Ub(),s.Ub(),s.Ub(),s.Bc(27,hs,2,1,"div",24),s.Ub(),s.Ub(),s.Vb(28,"div",53),s.Vb(29,"div",54),s.Vb(30,"label",65),s.Dc(31,"Contract Price "),s.Vb(32,"span",16),s.Dc(33,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(34,"div",56),s.Vb(35,"input",66),s.cc("ngModelChange",function(){return s.uc(e),s.gc(3).idleReset()}),s.Ub(),s.Bc(36,_s,2,1,"div",24),s.Ub(),s.Ub(),s.Vb(37,"div",53),s.Vb(38,"div",54),s.Vb(39,"label",67),s.Dc(40," Completion Date "),s.Vb(41,"span",16),s.Dc(42,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(43,"div",56),s.Vb(44,"input",68),s.cc("ngModelChange",function(){return s.uc(e),s.gc(3).idleReset()}),s.Ub(),s.Bc(45,ys,2,1,"div",24),s.Ub(),s.Ub(),s.Vb(46,"div",53),s.Vb(47,"div",54),s.Vb(48,"label",69),s.Dc(49,"City "),s.Vb(50,"span",16),s.Dc(51,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(52,"div",56),s.Vb(53,"input",70),s.cc("ngModelChange",function(){return s.uc(e),s.gc(3).idleReset()}),s.Ub(),s.Bc(54,Us,2,1,"div",24),s.Ub(),s.Ub(),s.Vb(55,"div",53),s.Vb(56,"div",54),s.Vb(57,"label",71),s.Dc(58,"State "),s.Vb(59,"span",16),s.Dc(60,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(61,"div",56),s.Vb(62,"select",72),s.cc("ngModelChange",function(){return s.uc(e),s.gc(3).idleReset()}),s.Vb(63,"option",73),s.Dc(64,"Select"),s.Ub(),s.Bc(65,Ds,2,2,"option",74),s.Ub(),s.Vb(66,"small",75),s.Dc(67,"NOTE: If your country is outside of USA, please select \u2018Other\u2019. "),s.Ub(),s.Bc(68,Is,2,1,"div",24),s.Ub(),s.Ub(),s.Vb(69,"div",76),s.Bc(70,Rs,2,0,"button",77),s.Bc(71,ws,2,0,"button",77),s.Ub(),s.Ub(),s.Ub()}if(2&e){const e=s.gc().$implicit,t=s.gc(2);s.Db(1),s.mc("formGroup",t.temppastprojectForm),s.Db(8),s.mc("ngClass",s.pc(18,Fs,t.temppastsubmitted&&t.ff.projectName.errors)),s.Db(1),s.mc("ngIf",(t.ff.projectName.touched||t.temppastsubmitted)&&t.ff.projectName.errors),s.Db(11),s.mc("ngClass",s.pc(20,Fs,t.temppastsubmitted&&t.ff.isOwner.errors)),s.Db(3),s.mc("ngClass",s.pc(22,Fs,t.temppastsubmitted&&t.ff.isOwner.errors)),s.Db(3),s.mc("ngIf",(t.ff.isOwner.touched||t.temppastsubmitted)&&t.ff.isOwner.errors),s.Db(8),s.mc("ngClass",s.pc(24,Fs,t.temppastsubmitted&&t.ff.contractPrice.errors)),s.Db(1),s.mc("ngIf",(t.ff.contractPrice.touched||t.temppastsubmitted)&&t.ff.contractPrice.errors),s.Db(8),s.mc("ngClass",s.pc(26,Fs,t.temppastsubmitted&&t.ff.completionDate.errors)),s.Db(1),s.mc("ngIf",(t.ff.completionDate.touched||t.temppastsubmitted)&&t.ff.completionDate.errors),s.Db(8),s.mc("ngClass",s.pc(28,Fs,t.temppastsubmitted&&t.ff.city.errors)),s.Db(1),s.mc("ngIf",(t.temppastsubmitted||t.ff.city.touched)&&t.ff.city.errors),s.Db(8),s.mc("ngClass",s.pc(30,Fs,t.temppastsubmitted&&t.ff.state.errors)),s.Db(1),s.mc("ngValue",""),s.Db(2),s.mc("ngForOf",t.stateNames),s.Db(3),s.mc("ngIf",(t.temppastsubmitted||t.ff.state.touched)&&t.ff.state.errors),s.Db(2),s.mc("ngIf",e.type),s.Db(1),s.mc("ngIf",e.type)}}function ks(e,t){if(1&e&&(s.Vb(0,"div"),s.Bc(1,bs,42,10,"div",41),s.Bc(2,Ss,72,32,"div",8),s.Ub()),2&e){const e=t.$implicit;s.Db(1),s.mc("ngIf",!e.showEdit),s.Db(1),s.mc("ngIf",e.showEdit)}}function xs(e,t){if(1&e&&(s.Vb(0,"div",39),s.Bc(1,ks,3,2,"div",40),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngForOf",e.pastprojectlist)}}function Ps(e,t){if(1&e){const e=s.Wb();s.Vb(0,"button",80),s.cc("click",function(){return s.uc(e),s.gc(2).showpastproject=!1}),s.Dc(1,"Add Another Ref"),s.Ub()}}function js(e,t){if(1&e&&(s.Vb(0,"div",76),s.Bc(1,Ps,2,0,"button",77),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",!e.showdisabled)}}function As(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Project Name is required"),s.Ub())}function Os(e,t){if(1&e&&(s.Vb(0,"div",78),s.Bc(1,As,2,0,"div",79),s.Ub()),2&e){const e=s.gc(2);s.Db(1),s.mc("ngIf",e.f.projectName.errors.required)}}function Es(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"General contractor/owner is required"),s.Ub())}function Ms(e,t){if(1&e&&(s.Vb(0,"div",78),s.Bc(1,Es,2,0,"div",79),s.Ub()),2&e){const e=s.gc(2);s.Db(1),s.mc("ngIf",e.f.isOwner.errors.required)}}function Ns(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Contract price is required"),s.Ub())}function Bs(e,t){if(1&e&&(s.Vb(0,"div",78),s.Bc(1,Ns,2,0,"div",79),s.Ub()),2&e){const e=s.gc(2);s.Db(1),s.mc("ngIf",e.f.contractPrice.errors.required)}}function qs(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Completetion date is required "),s.Ub())}function Ts(e,t){if(1&e&&(s.Vb(0,"div",78),s.Bc(1,qs,2,0,"div",79),s.Ub()),2&e){const e=s.gc(2);s.Db(1),s.mc("ngIf",e.f.completionDate.errors.required)}}function Ls(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"City is required"),s.Ub())}function Ys(e,t){if(1&e&&(s.Vb(0,"div",78),s.Bc(1,Ls,2,0,"div",79),s.Ub()),2&e){const e=s.gc(2);s.Db(1),s.mc("ngIf",e.f.city.errors.required)}}function zs(e,t){if(1&e&&(s.Vb(0,"option",73),s.Dc(1),s.Ub()),2&e){const e=t.$implicit;s.mc("ngValue",e.name),s.Db(1),s.Fc("",e.name," ")}}function Gs(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"State is required"),s.Ub())}function Qs(e,t){if(1&e&&(s.Vb(0,"div",78),s.Bc(1,Gs,2,0,"div",79),s.Ub()),2&e){const e=s.gc(2);s.Db(1),s.mc("ngIf",e.f.state.errors.required)}}function $s(e,t){if(1&e){const e=s.Wb();s.Vb(0,"div",51),s.Vb(1,"form",10),s.cc("keydown.enter",function(e){return e.preventDefault()}),s.Vb(2,"div",53),s.Vb(3,"div",54),s.Vb(4,"label",55),s.Dc(5," Project Name "),s.Vb(6,"span",16),s.Dc(7,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(8,"div",56),s.Vb(9,"input",57),s.cc("ngModelChange",function(){return s.uc(e),s.gc().idleReset()}),s.Ub(),s.Bc(10,Os,2,1,"div",24),s.Ub(),s.Ub(),s.Vb(11,"div",58),s.Vb(12,"div",54),s.Vb(13,"label",59),s.Dc(14," General Contractor/Owner "),s.Vb(15,"span",16),s.Dc(16,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(17,"div",56),s.Vb(18,"div",58),s.Vb(19,"span",60),s.Vb(20,"input",81),s.cc("ngModelChange",function(){return s.uc(e),s.gc().idleReset()}),s.Ub(),s.Vb(21,"label",62),s.Dc(22," YES"),s.Ub(),s.Ub(),s.Vb(23,"span",82),s.Vb(24,"input",63),s.cc("ngModelChange",function(){return s.uc(e),s.gc().idleReset()}),s.Ub(),s.Vb(25,"label",64),s.Dc(26," NO"),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Bc(27,Ms,2,1,"div",24),s.Ub(),s.Vb(28,"div",58),s.Vb(29,"div",54),s.Vb(30,"label",65),s.Dc(31,"Contract Price "),s.Vb(32,"span",16),s.Dc(33,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(34,"div",56),s.Vb(35,"input",66),s.cc("ngModelChange",function(){return s.uc(e),s.gc().idleReset()}),s.Ub(),s.Bc(36,Bs,2,1,"div",24),s.Ub(),s.Ub(),s.Vb(37,"div",58),s.Vb(38,"div",54),s.Vb(39,"label",67),s.Dc(40," Completion Date "),s.Vb(41,"span",16),s.Dc(42,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(43,"div",56),s.Vb(44,"input",68),s.cc("ngModelChange",function(){return s.uc(e),s.gc().idleReset()}),s.Ub(),s.Bc(45,Ts,2,1,"div",24),s.Ub(),s.Ub(),s.Vb(46,"div",58),s.Vb(47,"div",54),s.Vb(48,"label",69),s.Dc(49,"City "),s.Vb(50,"span",16),s.Dc(51,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(52,"div",56),s.Vb(53,"input",70),s.cc("ngModelChange",function(){return s.uc(e),s.gc().idleReset()}),s.Ub(),s.Bc(54,Ys,2,1,"div",24),s.Ub(),s.Ub(),s.Vb(55,"div",58),s.Vb(56,"div",54),s.Vb(57,"label",71),s.Dc(58,"State "),s.Vb(59,"span",16),s.Dc(60,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(61,"div",56),s.Vb(62,"select",72),s.cc("ngModelChange",function(){return s.uc(e),s.gc().idleReset()}),s.Vb(63,"option",73),s.Dc(64,"Select"),s.Ub(),s.Bc(65,zs,2,2,"option",74),s.Ub(),s.Vb(66,"small",75),s.Dc(67,"NOTE: If your country is outside of USA, please select \u2018Other\u2019. "),s.Ub(),s.Bc(68,Qs,2,1,"div",24),s.Ub(),s.Ub(),s.Qb(69,"div",76),s.Ub(),s.Ub()}if(2&e){const e=s.gc();s.Db(1),s.mc("formGroup",e.pastprojectForm),s.Db(8),s.mc("ngClass",s.pc(16,Fs,e.submitted&&e.f.projectName.errors)),s.Db(1),s.mc("ngIf",(e.f.projectName.touched||e.submitted)&&e.f.projectName.errors),s.Db(11),s.mc("ngClass",s.pc(18,Fs,e.submitted&&e.f.isOwner.errors)),s.Db(3),s.mc("ngClass",s.pc(20,Fs,e.submitted&&e.f.isOwner.errors)),s.Db(3),s.mc("ngIf",(e.f.isOwner.touched||e.submitted)&&e.f.isOwner.errors),s.Db(8),s.mc("ngClass",s.pc(22,Fs,e.submitted&&e.f.contractPrice.errors)),s.Db(1),s.mc("ngIf",(e.f.contractPrice.touched||e.submitted)&&e.f.contractPrice.errors),s.Db(8),s.mc("ngClass",s.pc(24,Fs,e.submitted&&e.f.completionDate.errors)),s.Db(1),s.mc("ngIf",(e.f.completionDate.touched||e.submitted)&&e.f.completionDate.errors),s.Db(8),s.mc("ngClass",s.pc(26,Fs,e.submitted&&e.f.city.errors)),s.Db(1),s.mc("ngIf",(e.submitted||e.f.city.touched)&&e.f.city.errors),s.Db(8),s.mc("ngClass",s.pc(28,Fs,e.submitted&&e.f.state.errors)),s.Db(1),s.mc("ngValue",""),s.Db(2),s.mc("ngForOf",e.stateNames),s.Db(3),s.mc("ngIf",(e.submitted||e.f.state.touched)&&e.f.state.errors)}}function Ws(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Project Name is required"),s.Ub())}function Hs(e,t){if(1&e&&(s.Vb(0,"div",78),s.Bc(1,Ws,2,0,"div",79),s.Ub()),2&e){const e=s.gc(2);s.Db(1),s.mc("ngIf",e.f2.projectName.errors.required)}}function Zs(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"General contractor/owner is required "),s.Ub())}function Ks(e,t){if(1&e&&(s.Vb(0,"div",78),s.Bc(1,Zs,2,0,"div",79),s.Ub()),2&e){const e=s.gc(2);s.Db(1),s.mc("ngIf",e.f2.isOwner.errors.required)}}function Js(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Contract price is required"),s.Ub())}function Xs(e,t){if(1&e&&(s.Vb(0,"div",78),s.Bc(1,Js,2,0,"div",79),s.Ub()),2&e){const e=s.gc(2);s.Db(1),s.mc("ngIf",e.f2.contractPrice.errors.required)}}function ec(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Completetion date is required "),s.Ub())}function tc(e,t){if(1&e&&(s.Vb(0,"div",78),s.Bc(1,ec,2,0,"div",79),s.Ub()),2&e){const e=s.gc(2);s.Db(1),s.mc("ngIf",e.f2.completionDate.errors.required)}}function ic(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"City is required"),s.Ub())}function oc(e,t){if(1&e&&(s.Vb(0,"div",78),s.Bc(1,ic,2,0,"div",79),s.Ub()),2&e){const e=s.gc(2);s.Db(1),s.mc("ngIf",e.f2.city.errors.required)}}function nc(e,t){if(1&e&&(s.Vb(0,"option",73),s.Dc(1),s.Ub()),2&e){const e=t.$implicit;s.mc("ngValue",e.name),s.Db(1),s.Fc("",e.name," ")}}function rc(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"State is required"),s.Ub())}function ac(e,t){if(1&e&&(s.Vb(0,"div",78),s.Bc(1,rc,2,0,"div",79),s.Ub()),2&e){const e=s.gc(2);s.Db(1),s.mc("ngIf",e.f2.state.errors.required)}}function sc(e,t){if(1&e){const e=s.Wb();s.Vb(0,"div",51),s.Vb(1,"form",10),s.cc("keydown.enter",function(e){return e.preventDefault()}),s.Vb(2,"div",53),s.Vb(3,"div",54),s.Vb(4,"label",55),s.Dc(5," Project Name "),s.Vb(6,"span",16),s.Dc(7,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(8,"div",56),s.Vb(9,"input",57),s.cc("ngModelChange",function(){return s.uc(e),s.gc().idleReset()}),s.Ub(),s.Bc(10,Hs,2,1,"div",24),s.Ub(),s.Ub(),s.Vb(11,"div",58),s.Vb(12,"div",54),s.Vb(13,"label",59),s.Dc(14," General Contractor/Owner "),s.Vb(15,"span",16),s.Dc(16,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(17,"div",56),s.Vb(18,"div",58),s.Vb(19,"span",60),s.Vb(20,"input",83),s.cc("ngModelChange",function(){return s.uc(e),s.gc().idleReset()}),s.Ub(),s.Vb(21,"label",84),s.Dc(22," YES"),s.Ub(),s.Ub(),s.Vb(23,"span",82),s.Vb(24,"input",85),s.cc("ngModelChange",function(){return s.uc(e),s.gc().idleReset()}),s.Ub(),s.Vb(25,"label",86),s.Dc(26," NO"),s.Ub(),s.Ub(),s.Ub(),s.Bc(27,Ks,2,1,"div",24),s.Ub(),s.Ub(),s.Vb(28,"div",58),s.Vb(29,"div",54),s.Vb(30,"label",65),s.Dc(31,"Contract Price "),s.Vb(32,"span",16),s.Dc(33,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(34,"div",56),s.Vb(35,"input",66),s.cc("ngModelChange",function(){return s.uc(e),s.gc().idleReset()}),s.Ub(),s.Bc(36,Xs,2,1,"div",24),s.Ub(),s.Ub(),s.Vb(37,"div",58),s.Vb(38,"div",54),s.Vb(39,"label",67),s.Dc(40," Completion Date "),s.Vb(41,"span",16),s.Dc(42,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(43,"div",56),s.Vb(44,"input",68),s.cc("ngModelChange",function(){return s.uc(e),s.gc().idleReset()}),s.Ub(),s.Bc(45,tc,2,1,"div",24),s.Ub(),s.Ub(),s.Vb(46,"div",58),s.Vb(47,"div",54),s.Vb(48,"label",69),s.Dc(49,"City "),s.Vb(50,"span",16),s.Dc(51,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(52,"div",56),s.Vb(53,"input",70),s.cc("ngModelChange",function(){return s.uc(e),s.gc().idleReset()}),s.Ub(),s.Bc(54,oc,2,1,"div",24),s.Ub(),s.Ub(),s.Vb(55,"div",58),s.Vb(56,"div",54),s.Vb(57,"label",71),s.Dc(58,"State "),s.Vb(59,"span",16),s.Dc(60,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(61,"div",56),s.Vb(62,"select",72),s.cc("ngModelChange",function(){return s.uc(e),s.gc().idleReset()}),s.Vb(63,"option",73),s.Dc(64,"Select"),s.Ub(),s.Bc(65,nc,2,2,"option",74),s.Ub(),s.Vb(66,"small",75),s.Dc(67,"NOTE: If your country is outside of USA, please select \u2018Other\u2019. "),s.Ub(),s.Bc(68,ac,2,1,"div",24),s.Ub(),s.Ub(),s.Qb(69,"div",76),s.Ub(),s.Ub()}if(2&e){const e=s.gc();s.Db(1),s.mc("formGroup",e.pastprojectForm2),s.Db(8),s.mc("ngClass",s.pc(16,Fs,e.submitted2&&e.f2.projectName.errors)),s.Db(1),s.mc("ngIf",(e.f2.projectName.touched||e.submitted2)&&e.f2.projectName.errors),s.Db(11),s.mc("ngClass",s.pc(18,Fs,e.submitted2&&e.f2.isOwner.errors)),s.Db(3),s.mc("ngClass",s.pc(20,Fs,e.submitted2&&e.f2.isOwner.errors)),s.Db(3),s.mc("ngIf",(e.f2.isOwner.touched||e.submitted2)&&e.f2.isOwner.errors),s.Db(8),s.mc("ngClass",s.pc(22,Fs,e.submitted2&&e.f2.contractPrice.errors)),s.Db(1),s.mc("ngIf",(e.f2.contractPrice.touched||e.submitted2)&&e.f2.contractPrice.errors),s.Db(8),s.mc("ngClass",s.pc(24,Fs,e.submitted2&&e.f2.completionDate.errors)),s.Db(1),s.mc("ngIf",(e.f2.completionDate.touched||e.submitted2)&&e.f2.completionDate.errors),s.Db(8),s.mc("ngClass",s.pc(26,Fs,e.submitted2&&e.f2.city.errors)),s.Db(1),s.mc("ngIf",(e.submitted2||e.f2.city.touched)&&e.f2.city.errors),s.Db(8),s.mc("ngClass",s.pc(28,Fs,e.submitted2&&e.f2.state.errors)),s.Db(1),s.mc("ngValue",""),s.Db(2),s.mc("ngForOf",e.stateNames),s.Db(3),s.mc("ngIf",(e.submitted2||e.f2.state.touched)&&e.f2.state.errors)}}function cc(e,t){if(1&e){const e=s.Wb();s.Vb(0,"i",50),s.cc("click",function(){s.uc(e);const t=s.gc(2),i=t.index,o=t.$implicit;return s.gc(2).editrelevant(i,o)}),s.Ub()}}function lc(e,t){if(1&e){const e=s.Wb();s.Vb(0,"div",42),s.Vb(1,"div",43),s.Vb(2,"p",44),s.Dc(3,"Project Name"),s.Ub(),s.Ub(),s.Vb(4,"div",43),s.Vb(5,"p"),s.Dc(6),s.Vb(7,"small",46),s.Bc(8,cc,1,0,"i",47),s.Vb(9,"i",48),s.cc("click",function(){s.uc(e);const t=s.gc(),i=t.index,o=t.$implicit;return s.gc(2).removeRelevant(i,o)}),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(10,"div",49),s.Vb(11,"p",44),s.Dc(12,"General Contractor/Owner"),s.Ub(),s.Ub(),s.Vb(13,"div",49),s.Vb(14,"p"),s.Dc(15),s.Ub(),s.Ub(),s.Vb(16,"div",49),s.Vb(17,"p",44),s.Dc(18,"Contract Price"),s.Ub(),s.Ub(),s.Vb(19,"div",49),s.Vb(20,"p"),s.Dc(21),s.Ub(),s.Ub(),s.Vb(22,"div",49),s.Vb(23,"p",44),s.Dc(24,"Completion Date"),s.Ub(),s.Ub(),s.Vb(25,"div",49),s.Vb(26,"p"),s.Dc(27),s.hc(28,"date"),s.Ub(),s.Ub(),s.Vb(29,"div",49),s.Vb(30,"p",44),s.Dc(31,"City"),s.Ub(),s.Ub(),s.Vb(32,"div",49),s.Vb(33,"p"),s.Dc(34),s.Ub(),s.Ub(),s.Vb(35,"div",49),s.Vb(36,"p",44),s.Dc(37,"State"),s.Ub(),s.Ub(),s.Vb(38,"div",49),s.Vb(39,"p"),s.Dc(40),s.Ub(),s.Ub(),s.Ub()}if(2&e){const e=s.gc().$implicit,t=s.gc(2);s.Db(6),s.Ec(e.projectName),s.Db(2),s.mc("ngIf",!t.currdisabledEdit),s.Db(7),s.Ec(e.isOwner),s.Db(6),s.Ec(e.contractPrice),s.Db(6),s.Ec(s.jc(28,7,e.completionDate,"MM-dd-yyyy")),s.Db(7),s.Ec(e.city),s.Db(6),s.Ec(e.state)}}function dc(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Project Name is required "),s.Ub())}function uc(e,t){if(1&e&&(s.Vb(0,"div",78),s.Bc(1,dc,2,0,"div",79),s.Ub()),2&e){const e=s.gc(4);s.Db(1),s.mc("ngIf",e.ss.projectName.errors.required)}}function bc(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"General contractor/owner is required"),s.Ub())}function pc(e,t){if(1&e&&(s.Vb(0,"div",78),s.Bc(1,bc,2,0,"div",79),s.Ub()),2&e){const e=s.gc(4);s.Db(1),s.mc("ngIf",e.ss.isOwner.errors.required)}}function mc(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Contract price is required "),s.Ub())}function fc(e,t){if(1&e&&(s.Vb(0,"div",78),s.Bc(1,mc,2,0,"div",79),s.Ub()),2&e){const e=s.gc(4);s.Db(1),s.mc("ngIf",e.ss.contractPrice.errors.required)}}function hc(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Completion date is required"),s.Ub())}function gc(e,t){if(1&e&&(s.Vb(0,"div",78),s.Bc(1,hc,2,0,"div",79),s.Ub()),2&e){const e=s.gc(4);s.Db(1),s.mc("ngIf",e.ss.completionDate.errors.required)}}function _c(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"City is required"),s.Ub())}function vc(e,t){if(1&e&&(s.Vb(0,"div",78),s.Bc(1,_c,2,0,"div",79),s.Ub()),2&e){const e=s.gc(4);s.Db(1),s.mc("ngIf",e.ss.city.errors.required)}}function yc(e,t){if(1&e&&(s.Vb(0,"option",73),s.Dc(1),s.Ub()),2&e){const e=t.$implicit;s.mc("ngValue",e.name),s.Db(1),s.Fc(" ",e.name,"")}}function Vc(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"State is required"),s.Ub())}function Uc(e,t){if(1&e&&(s.Vb(0,"div",78),s.Bc(1,Vc,2,0,"div",79),s.Ub()),2&e){const e=s.gc(4);s.Db(1),s.mc("ngIf",e.ss.state.errors.required)}}function Dc(e,t){if(1&e){const e=s.Wb();s.Vb(0,"button",80),s.cc("click",function(){s.uc(e);const t=s.gc(2),i=t.index,o=t.$implicit;return s.gc(2).cancelpastUpdate(i,o)}),s.Dc(1,"CANCEL"),s.Ub()}}function Cc(e,t){if(1&e){const e=s.Wb();s.Vb(0,"button",80),s.cc("click",function(){s.uc(e);const t=s.gc(2),i=t.index,o=t.$implicit;return s.gc(2).relevantupdate(i,o)}),s.Dc(1,"UPDATE"),s.Ub()}}function Ic(e,t){if(1&e){const e=s.Wb();s.Vb(0,"div",51),s.Vb(1,"form",10),s.cc("keydown.enter",function(e){return e.preventDefault()}),s.Vb(2,"div",58),s.Vb(3,"div",54),s.Vb(4,"label",55),s.Dc(5," Project Name "),s.Vb(6,"span",16),s.Dc(7,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(8,"div",56),s.Vb(9,"input",57),s.cc("ngModelChange",function(){return s.uc(e),s.gc(3).idleReset()}),s.Ub(),s.Bc(10,uc,2,1,"div",24),s.Ub(),s.Ub(),s.Vb(11,"div",58),s.Vb(12,"div",54),s.Vb(13,"label",59),s.Dc(14," General Contractor/Owner "),s.Vb(15,"span",16),s.Dc(16,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(17,"div",49),s.Vb(18,"div",17),s.Vb(19,"span",60),s.Vb(20,"input",61),s.cc("ngModelChange",function(){return s.uc(e),s.gc(3).idleReset()}),s.Ub(),s.Vb(21,"label",62),s.Dc(22," YES"),s.Ub(),s.Ub(),s.Vb(23,"span",60),s.Vb(24,"input",63),s.cc("ngModelChange",function(){return s.uc(e),s.gc(3).idleReset()}),s.Ub(),s.Vb(25,"label",64),s.Dc(26," NO"),s.Ub(),s.Ub(),s.Ub(),s.Bc(27,pc,2,1,"div",24),s.Ub(),s.Ub(),s.Vb(28,"div",58),s.Vb(29,"div",54),s.Vb(30,"label",65),s.Dc(31,"Contract Price "),s.Vb(32,"span",16),s.Dc(33,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(34,"div",56),s.Vb(35,"input",66),s.cc("ngModelChange",function(){return s.uc(e),s.gc(3).idleReset()}),s.Ub(),s.Bc(36,fc,2,1,"div",24),s.Ub(),s.Ub(),s.Vb(37,"div",58),s.Vb(38,"div",54),s.Vb(39,"label",67),s.Dc(40," Completion Date "),s.Vb(41,"span",16),s.Dc(42,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(43,"div",56),s.Vb(44,"input",68),s.cc("ngModelChange",function(){return s.uc(e),s.gc(3).idleReset()}),s.Ub(),s.Bc(45,gc,2,1,"div",24),s.Ub(),s.Ub(),s.Vb(46,"div",58),s.Vb(47,"div",54),s.Vb(48,"label",69),s.Dc(49,"City "),s.Vb(50,"span",16),s.Dc(51,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(52,"div",56),s.Vb(53,"input",70),s.cc("ngModelChange",function(){return s.uc(e),s.gc(3).idleReset()}),s.Ub(),s.Bc(54,vc,2,1,"div",24),s.Ub(),s.Ub(),s.Vb(55,"div",58),s.Vb(56,"div",54),s.Vb(57,"label",71),s.Dc(58,"State "),s.Vb(59,"span",16),s.Dc(60,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(61,"div",56),s.Vb(62,"select",72),s.cc("ngModelChange",function(){return s.uc(e),s.gc(3).idleReset()}),s.Vb(63,"option",73),s.Dc(64,"Select"),s.Ub(),s.Bc(65,yc,2,2,"option",74),s.Ub(),s.Vb(66,"small",75),s.Dc(67,"NOTE: If your country is outside of USA, please select \u2018Other\u2019. "),s.Ub(),s.Bc(68,Uc,2,1,"div",24),s.Ub(),s.Ub(),s.Vb(69,"div",76),s.Bc(70,Dc,2,0,"button",77),s.Bc(71,Cc,2,0,"button",77),s.Ub(),s.Ub(),s.Ub()}if(2&e){const e=s.gc().$implicit,t=s.gc(2);s.Db(1),s.mc("formGroup",t.tempcurrentprojectForm),s.Db(8),s.mc("ngClass",s.pc(18,Fs,t.tempcurrentsubmitted&&t.ss.projectName.errors)),s.Db(1),s.mc("ngIf",(t.ss.projectName.touched||t.tempcurrentsubmitted)&&t.ss.projectName.errors),s.Db(11),s.mc("ngClass",s.pc(20,Fs,t.tempcurrentsubmitted&&t.ss.isOwner.errors)),s.Db(3),s.mc("ngClass",s.pc(22,Fs,t.tempcurrentsubmitted&&t.ss.isOwner.errors)),s.Db(3),s.mc("ngIf",(t.ss.isOwner.touched||t.tempcurrentsubmitted)&&t.ss.isOwner.errors),s.Db(8),s.mc("ngClass",s.pc(24,Fs,t.tempcurrentsubmitted&&t.ss.contractPrice.errors)),s.Db(1),s.mc("ngIf",(t.ss.contractPrice.touched||t.tempcurrentsubmitted)&&t.ss.contractPrice.errors),s.Db(8),s.mc("ngClass",s.pc(26,Fs,t.tempcurrentsubmitted&&t.ss.completionDate.errors)),s.Db(1),s.mc("ngIf",(t.ss.completionDate.touched||t.tempcurrentsubmitted)&&t.ss.completionDate.errors),s.Db(8),s.mc("ngClass",s.pc(28,Fs,t.tempcurrentsubmitted&&t.ss.city.errors)),s.Db(1),s.mc("ngIf",(t.tempcurrentsubmitted||t.ss.city.touched)&&t.ss.city.errors),s.Db(8),s.mc("ngClass",s.pc(30,Fs,t.tempcurrentsubmitted&&t.ss.state.errors)),s.Db(1),s.mc("ngValue",""),s.Db(2),s.mc("ngForOf",t.stateNames),s.Db(3),s.mc("ngIf",(t.tempcurrentsubmitted||t.ss.state.touched)&&t.ss.state.errors),s.Db(2),s.mc("ngIf",e.type),s.Db(1),s.mc("ngIf",e.type)}}function Rc(e,t){if(1&e&&(s.Vb(0,"div"),s.Bc(1,lc,41,10,"div",41),s.Bc(2,Ic,72,32,"div",8),s.Ub()),2&e){const e=t.$implicit;s.Db(1),s.mc("ngIf",!e.showEdit),s.Db(1),s.mc("ngIf",e.showEdit)}}function wc(e,t){if(1&e&&(s.Vb(0,"div",39),s.Bc(1,Rc,3,2,"div",40),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngForOf",e.currprojectlist)}}function Fc(e,t){if(1&e){const e=s.Wb();s.Vb(0,"button",80),s.cc("click",function(){return s.uc(e),s.gc(2).showcurrentproject=!1}),s.Dc(1,"Add Another Ref"),s.Ub()}}function Sc(e,t){if(1&e&&(s.Vb(0,"div",76),s.Bc(1,Fc,2,0,"button",77),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",!e.showdisabled)}}function kc(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Project Name is required"),s.Ub())}function xc(e,t){if(1&e&&(s.Vb(0,"div",78),s.Bc(1,kc,2,0,"div",79),s.Ub()),2&e){const e=s.gc(2);s.Db(1),s.mc("ngIf",e.s2.projectName.errors.required)}}function Pc(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"General contractor/owner is required "),s.Ub())}function jc(e,t){if(1&e&&(s.Vb(0,"div",78),s.Bc(1,Pc,2,0,"div",79),s.Ub()),2&e){const e=s.gc(2);s.Db(1),s.mc("ngIf",e.s2.isOwner.errors.required)}}function Ac(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Contract price is required "),s.Ub())}function Oc(e,t){if(1&e&&(s.Vb(0,"div",78),s.Bc(1,Ac,2,0,"div",79),s.Ub()),2&e){const e=s.gc(2);s.Db(1),s.mc("ngIf",e.s2.contractPrice.errors.required)}}function Ec(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Completetion date is required "),s.Ub())}function Mc(e,t){if(1&e&&(s.Vb(0,"div",78),s.Bc(1,Ec,2,0,"div",79),s.Ub()),2&e){const e=s.gc(2);s.Db(1),s.mc("ngIf",e.s2.completionDate.errors.required)}}function Nc(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"City is required"),s.Ub())}function Bc(e,t){if(1&e&&(s.Vb(0,"div",78),s.Bc(1,Nc,2,0,"div",79),s.Ub()),2&e){const e=s.gc(2);s.Db(1),s.mc("ngIf",e.s2.city.errors.required)}}function qc(e,t){if(1&e&&(s.Vb(0,"option",73),s.Dc(1),s.Ub()),2&e){const e=t.$implicit;s.mc("ngValue",e.name),s.Db(1),s.Fc("",e.name," ")}}function Tc(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"State is required"),s.Ub())}function Lc(e,t){if(1&e&&(s.Vb(0,"div",78),s.Bc(1,Tc,2,0,"div",79),s.Ub()),2&e){const e=s.gc(2);s.Db(1),s.mc("ngIf",e.s2.state.errors.required)}}function Yc(e,t){if(1&e){const e=s.Wb();s.Vb(0,"div",51),s.Vb(1,"form",10),s.cc("keydown.enter",function(e){return e.preventDefault()}),s.Vb(2,"div",53),s.Vb(3,"div",54),s.Vb(4,"label",55),s.Dc(5," Project Name "),s.Vb(6,"span",16),s.Dc(7,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(8,"div",56),s.Vb(9,"input",57),s.cc("ngModelChange",function(){return s.uc(e),s.gc().idleReset()}),s.Ub(),s.Bc(10,xc,2,1,"div",24),s.Ub(),s.Ub(),s.Vb(11,"div",58),s.Vb(12,"div",54),s.Vb(13,"label",59),s.Dc(14," General Contractor/Owner "),s.Vb(15,"span",16),s.Dc(16,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(17,"div",56),s.Vb(18,"div",58),s.Vb(19,"span",60),s.Vb(20,"input",83),s.cc("ngModelChange",function(){return s.uc(e),s.gc().idleReset()}),s.Ub(),s.Vb(21,"label",84),s.Dc(22," YES"),s.Ub(),s.Ub(),s.Vb(23,"span",82),s.Vb(24,"input",85),s.cc("ngModelChange",function(){return s.uc(e),s.gc().idleReset()}),s.Ub(),s.Vb(25,"label",86),s.Dc(26," NO"),s.Ub(),s.Ub(),s.Ub(),s.Bc(27,jc,2,1,"div",24),s.Ub(),s.Ub(),s.Vb(28,"div",58),s.Vb(29,"div",54),s.Vb(30,"label",65),s.Dc(31,"Contract Price "),s.Vb(32,"span",16),s.Dc(33,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(34,"div",56),s.Vb(35,"input",66),s.cc("ngModelChange",function(){return s.uc(e),s.gc().idleReset()}),s.Ub(),s.Bc(36,Oc,2,1,"div",24),s.Ub(),s.Ub(),s.Vb(37,"div",58),s.Vb(38,"div",54),s.Vb(39,"label",67),s.Dc(40," Completion Date "),s.Vb(41,"span",16),s.Dc(42,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(43,"div",56),s.Vb(44,"input",68),s.cc("ngModelChange",function(){return s.uc(e),s.gc().idleReset()}),s.Ub(),s.Bc(45,Mc,2,1,"div",24),s.Ub(),s.Ub(),s.Vb(46,"div",58),s.Vb(47,"div",54),s.Vb(48,"label",69),s.Dc(49,"City "),s.Vb(50,"span",16),s.Dc(51,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(52,"div",56),s.Vb(53,"input",70),s.cc("ngModelChange",function(){return s.uc(e),s.gc().idleReset()}),s.Ub(),s.Bc(54,Bc,2,1,"div",24),s.Ub(),s.Ub(),s.Vb(55,"div",58),s.Vb(56,"div",54),s.Vb(57,"label",71),s.Dc(58,"State "),s.Vb(59,"span",16),s.Dc(60,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(61,"div",56),s.Vb(62,"select",72),s.cc("ngModelChange",function(){return s.uc(e),s.gc().idleReset()}),s.Vb(63,"option",73),s.Dc(64,"Select"),s.Ub(),s.Bc(65,qc,2,2,"option",74),s.Ub(),s.Vb(66,"small",75),s.Dc(67,"NOTE: If your country is outside of USA, please select \u2018Other\u2019. "),s.Ub(),s.Bc(68,Lc,2,1,"div",24),s.Ub(),s.Ub(),s.Qb(69,"div",76),s.Ub(),s.Ub()}if(2&e){const e=s.gc();s.Db(1),s.mc("formGroup",e.currentprojectForm2),s.Db(8),s.mc("ngClass",s.pc(16,Fs,e.currentprojsubmitted2&&e.s2.projectName.errors)),s.Db(1),s.mc("ngIf",(e.s2.projectName.touched||e.currentprojsubmitted2)&&e.s2.projectName.errors),s.Db(11),s.mc("ngClass",s.pc(18,Fs,e.currentprojsubmitted2&&e.s2.isOwner.errors)),s.Db(3),s.mc("ngClass",s.pc(20,Fs,e.currentprojsubmitted2&&e.s2.isOwner.errors)),s.Db(3),s.mc("ngIf",(e.s2.isOwner.touched||e.currentprojsubmitted2)&&e.s2.isOwner.errors),s.Db(8),s.mc("ngClass",s.pc(22,Fs,e.currentprojsubmitted2&&e.s2.contractPrice.errors)),s.Db(1),s.mc("ngIf",(e.s2.contractPrice.touched||e.currentprojsubmitted2)&&e.s2.contractPrice.errors),s.Db(8),s.mc("ngClass",s.pc(24,Fs,e.currentprojsubmitted2&&e.s2.completionDate.errors)),s.Db(1),s.mc("ngIf",(e.s2.completionDate.touched||e.currentprojsubmitted2)&&e.s2.completionDate.errors),s.Db(8),s.mc("ngClass",s.pc(26,Fs,e.currentprojsubmitted2&&e.s2.city.errors)),s.Db(1),s.mc("ngIf",(e.currentprojsubmitted2||e.s2.city.touched)&&e.s2.city.errors),s.Db(8),s.mc("ngClass",s.pc(28,Fs,e.currentprojsubmitted2&&e.s2.state.errors)),s.Db(1),s.mc("ngValue",""),s.Db(2),s.mc("ngForOf",e.stateNames),s.Db(3),s.mc("ngIf",(e.currentprojsubmitted2||e.s2.state.touched)&&e.s2.state.errors)}}function zc(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Project Name is required"),s.Ub())}function Gc(e,t){if(1&e&&(s.Vb(0,"div",78),s.Bc(1,zc,2,0,"div",79),s.Ub()),2&e){const e=s.gc(2);s.Db(1),s.mc("ngIf",e.s.projectName.errors.required)}}function Qc(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"General contractor/owner is required "),s.Ub())}function $c(e,t){if(1&e&&(s.Vb(0,"div",78),s.Bc(1,Qc,2,0,"div",79),s.Ub()),2&e){const e=s.gc(2);s.Db(1),s.mc("ngIf",e.s.isOwner.errors.required)}}function Wc(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Contract price is required "),s.Ub())}function Hc(e,t){if(1&e&&(s.Vb(0,"div",78),s.Bc(1,Wc,2,0,"div",79),s.Ub()),2&e){const e=s.gc(2);s.Db(1),s.mc("ngIf",e.s.contractPrice.errors.required)}}function Zc(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Completetion date is required "),s.Ub())}function Kc(e,t){if(1&e&&(s.Vb(0,"div",78),s.Bc(1,Zc,2,0,"div",79),s.Ub()),2&e){const e=s.gc(2);s.Db(1),s.mc("ngIf",e.s.completionDate.errors.required)}}function Jc(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"City is required"),s.Ub())}function Xc(e,t){if(1&e&&(s.Vb(0,"div",78),s.Bc(1,Jc,2,0,"div",79),s.Ub()),2&e){const e=s.gc(2);s.Db(1),s.mc("ngIf",e.s.city.errors.required)}}function el(e,t){if(1&e&&(s.Vb(0,"option",73),s.Dc(1),s.Ub()),2&e){const e=t.$implicit;s.mc("ngValue",e.name),s.Db(1),s.Fc("",e.name," ")}}function tl(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"State is required"),s.Ub())}function il(e,t){if(1&e&&(s.Vb(0,"div",78),s.Bc(1,tl,2,0,"div",79),s.Ub()),2&e){const e=s.gc(2);s.Db(1),s.mc("ngIf",e.s.state.errors.required)}}function ol(e,t){if(1&e){const e=s.Wb();s.Vb(0,"div",51),s.Vb(1,"form",10),s.cc("keydown.enter",function(e){return e.preventDefault()}),s.Vb(2,"div",58),s.Vb(3,"div",54),s.Vb(4,"label",55),s.Dc(5," Project Name "),s.Vb(6,"span",16),s.Dc(7,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(8,"div",56),s.Vb(9,"input",57),s.cc("ngModelChange",function(){return s.uc(e),s.gc().idleReset()}),s.Ub(),s.Bc(10,Gc,2,1,"div",24),s.Ub(),s.Ub(),s.Vb(11,"div",58),s.Vb(12,"div",54),s.Vb(13,"label",59),s.Dc(14," General Contractor/Owner "),s.Vb(15,"span",16),s.Dc(16,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(17,"div",56),s.Vb(18,"div",58),s.Vb(19,"span",60),s.Vb(20,"input",87),s.cc("ngModelChange",function(){return s.uc(e),s.gc().idleReset()}),s.Ub(),s.Vb(21,"label",88),s.Dc(22," YES"),s.Ub(),s.Ub(),s.Vb(23,"span",82),s.Vb(24,"input",89),s.cc("ngModelChange",function(){return s.uc(e),s.gc().idleReset()}),s.Ub(),s.Vb(25,"label",90),s.Dc(26," NO"),s.Ub(),s.Ub(),s.Ub(),s.Bc(27,$c,2,1,"div",24),s.Ub(),s.Ub(),s.Vb(28,"div",58),s.Vb(29,"div",54),s.Vb(30,"label",65),s.Dc(31,"Contract Price "),s.Vb(32,"span",16),s.Dc(33,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(34,"div",56),s.Vb(35,"input",66),s.cc("ngModelChange",function(){return s.uc(e),s.gc().idleReset()}),s.Ub(),s.Bc(36,Hc,2,1,"div",24),s.Ub(),s.Ub(),s.Vb(37,"div",58),s.Vb(38,"div",54),s.Vb(39,"label",67),s.Dc(40," Completion Date "),s.Vb(41,"span",16),s.Dc(42,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(43,"div",56),s.Vb(44,"input",68),s.cc("ngModelChange",function(){return s.uc(e),s.gc().idleReset()}),s.Ub(),s.Bc(45,Kc,2,1,"div",24),s.Ub(),s.Ub(),s.Vb(46,"div",58),s.Vb(47,"div",54),s.Vb(48,"label",69),s.Dc(49,"City "),s.Vb(50,"span",16),s.Dc(51,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(52,"div",56),s.Vb(53,"input",70),s.cc("ngModelChange",function(){return s.uc(e),s.gc().idleReset()}),s.Ub(),s.Bc(54,Xc,2,1,"div",24),s.Ub(),s.Ub(),s.Vb(55,"div",58),s.Vb(56,"div",54),s.Vb(57,"label",71),s.Dc(58,"State "),s.Vb(59,"span",16),s.Dc(60,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(61,"div",56),s.Vb(62,"select",72),s.cc("ngModelChange",function(){return s.uc(e),s.gc().idleReset()}),s.Vb(63,"option",73),s.Dc(64,"Select"),s.Ub(),s.Bc(65,el,2,2,"option",74),s.Ub(),s.Vb(66,"small",75),s.Dc(67,"NOTE: If your country is outside of USA, please select \u2018Other\u2019. "),s.Ub(),s.Bc(68,il,2,1,"div",24),s.Ub(),s.Ub(),s.Qb(69,"div",76),s.Ub(),s.Ub()}if(2&e){const e=s.gc();s.Db(1),s.mc("formGroup",e.currentprojectForm),s.Db(8),s.mc("ngClass",s.pc(16,Fs,e.currentprojsubmitted&&e.s.projectName.errors)),s.Db(1),s.mc("ngIf",(e.s.projectName.touched||e.currentprojsubmitted)&&e.s.projectName.errors),s.Db(11),s.mc("ngClass",s.pc(18,Fs,e.currentprojsubmitted&&e.s.isOwner.errors)),s.Db(3),s.mc("ngClass",s.pc(20,Fs,e.currentprojsubmitted&&e.s.isOwner.errors)),s.Db(3),s.mc("ngIf",(e.s.isOwner.touched||e.currentprojsubmitted)&&e.s.isOwner.errors),s.Db(8),s.mc("ngClass",s.pc(22,Fs,e.currentprojsubmitted&&e.s.contractPrice.errors)),s.Db(1),s.mc("ngIf",(e.s.contractPrice.touched||e.currentprojsubmitted)&&e.s.contractPrice.errors),s.Db(8),s.mc("ngClass",s.pc(24,Fs,e.currentprojsubmitted&&e.s.completionDate.errors)),s.Db(1),s.mc("ngIf",(e.s.completionDate.touched||e.currentprojsubmitted)&&e.s.completionDate.errors),s.Db(8),s.mc("ngClass",s.pc(26,Fs,e.currentprojsubmitted&&e.s.city.errors)),s.Db(1),s.mc("ngIf",(e.currentprojsubmitted||e.s.city.touched)&&e.s.city.errors),s.Db(8),s.mc("ngClass",s.pc(28,Fs,e.currentprojsubmitted&&e.s.state.errors)),s.Db(1),s.mc("ngValue",""),s.Db(2),s.mc("ngForOf",e.stateNames),s.Db(3),s.mc("ngIf",(e.currentprojsubmitted||e.s.state.touched)&&e.s.state.errors)}}function nl(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Company defaulted or failed is required "),s.Ub())}function rl(e,t){if(1&e&&(s.Vb(0,"div",78),s.Bc(1,nl,2,0,"div",79),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.g.is_Company_Failed.errors.required)}}function al(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Company surety is required"),s.Ub())}function sl(e,t){if(1&e&&(s.Vb(0,"div",78),s.Bc(1,al,2,0,"div",79),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.g.company_Failed_Info.errors.required)}}function cl(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Company defaulted or failed is required "),s.Ub())}function ll(e,t){if(1&e&&(s.Vb(0,"div",78),s.Bc(1,cl,2,0,"div",79),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.g.is_Officer_Failed.errors.required)}}function dl(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Company surety is required"),s.Ub())}function ul(e,t){if(1&e&&(s.Vb(0,"div",78),s.Bc(1,dl,2,0,"div",79),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.g.officer_Failed_Info.errors.required)}}function bl(e,t){if(1&e){const e=s.Wb();s.Vb(0,"div",91),s.Vb(1,"button",92),s.cc("click",function(){return s.uc(e),s.gc().gotoHome()}),s.Dc(2," << BACK"),s.Ub(),s.Vb(3,"button",93),s.cc("click",function(){return s.uc(e),s.gc().save()}),s.Dc(4),s.Ub(),s.Vb(5,"button",80),s.cc("click",function(){return s.uc(e),s.gc().submit()}),s.Dc(6,"NEXT >>"),s.Ub(),s.Ub()}if(2&e){const e=s.gc();s.Db(4),s.Ec(e.submitText)}}function pl(e,t){if(1&e){const e=s.Wb();s.Vb(0,"div",94),s.Vb(1,"button",92),s.cc("click",function(){return s.uc(e),s.gc().gotoHome()}),s.Dc(2," << BACK"),s.Ub(),s.Vb(3,"button",95),s.cc("click",function(){return s.uc(e),s.gc().nextroutePage()}),s.Dc(4,"NEXT >>"),s.Ub(),s.Ub()}}const ml=function(e){return{"bg-grey":e}};let fl=(()=>{class e{constructor(e,t,i,o,r,s,c,l,d){this.formBuilder=e,this.router=t,this.bnIdle=i,this.keepalive=o,this.toastr=r,this.companyservice=s,this.loginInfo=c,this.ngxUiLoader=l,this.relevantexperience=d,this.currentForm=3,this.pastprojectForm=this.formBuilder.group({id:[0],companyId:[0],type:["1"],projectName:["",[n.u.required,n.u.maxLength(130)]],isOwner:["",[n.u.required]],contractPrice:["",[n.u.required,n.u.maxLength(40),n.u.pattern(/^-?(0|[1-9]\d*)?$/)]],completionDate:["",[n.u.required,n.u.maxLength(40)]],city:["",[n.u.required,n.u.maxLength(130)]],state:["",[n.u.required,n.u.maxLength(20)]],isAutosave:["false"],isCompleted:["false"]}),this.pastprojectForm2=this.formBuilder.group({id:[0],companyId:[0],type:["1"],projectName:["",[n.u.required,n.u.maxLength(130)]],isOwner:["",[n.u.required]],contractPrice:["",[n.u.required,n.u.maxLength(40),n.u.pattern(/^-?(0|[1-9]\d*)?$/)]],completionDate:["",[n.u.required,n.u.maxLength(40)]],city:["",[n.u.required,n.u.maxLength(130)]],state:["",[n.u.required,n.u.maxLength(20)]],isAutosave:["false"],isCompleted:["false"]}),this.currentprojectForm=this.formBuilder.group({id:[0],companyId:[0],type:["2"],projectName:["",[n.u.required,n.u.maxLength(130)]],isOwner:["",[n.u.required,n.u.maxLength(130)]],contractPrice:["",[n.u.required,n.u.maxLength(40),n.u.pattern(/^-?(0|[1-9]\d*)?$/)]],completionDate:["",[n.u.required,n.u.maxLength(40)]],city:["",[n.u.required,n.u.maxLength(130)]],state:["",[n.u.required,n.u.maxLength(20)]],isAutosave:["false"],isCompleted:["false"]}),this.currentprojectForm2=this.formBuilder.group({id:[0],companyId:[0],type:["2"],projectName:["",[n.u.required,n.u.maxLength(130)]],isOwner:["",[n.u.required,n.u.maxLength(130)]],contractPrice:["",[n.u.required,n.u.maxLength(40),n.u.pattern(/^-?(0|[1-9]\d*)?$/)]],completionDate:["",[n.u.required,n.u.maxLength(40)]],city:["",[n.u.required,n.u.maxLength(130)]],state:["",[n.u.required,n.u.maxLength(20)]],isAutosave:["false"],isCompleted:["false"]}),this.otherForm=this.formBuilder.group({is_Company_Failed:["",[n.u.required,n.u.maxLength(40)]],company_Failed_Info:[""],is_Officer_Failed:["",[n.u.required]],officer_Failed_Info:[""]}),this.temppastprojectForm=this.formBuilder.group({id:[0],companyId:[0],type:["1"],projectName:["",[n.u.required,n.u.maxLength(130)]],isOwner:["",[n.u.required]],contractPrice:["",[n.u.required,n.u.maxLength(40),n.u.pattern(/^-?(0|[1-9]\d*)?$/)]],completionDate:["",[n.u.required,n.u.maxLength(40)]],city:["",[n.u.required,n.u.maxLength(130)]],state:["",[n.u.required,n.u.maxLength(20)]],isAutosave:["false"],isCompleted:["false"]}),this.tempcurrentprojectForm=this.formBuilder.group({id:[0],companyId:[0],type:["2"],projectName:["",[n.u.required,n.u.maxLength(130)]],isOwner:["",[n.u.required,n.u.maxLength(130)]],contractPrice:["",[n.u.required,n.u.maxLength(40),n.u.pattern(/^-?(0|[1-9]\d*)?$/)]],completionDate:["",[n.u.required,n.u.maxLength(40)]],city:["",[n.u.required,n.u.maxLength(130)]],state:["",[n.u.required,n.u.maxLength(20)]],isAutosave:["false"],isCompleted:["false"]}),this.tempcompanyid=0,this.showAdmin=!1,this.submitText="SAVE",this.resetTimer=0,this.submitted=!1,this.stateNames=a,this.showpastproject=!1,this.pastprojectlist=[],this.currprojectlist=[],this.relevantid=0,this.showcurrentproject=!1,this.currentprojsubmitted=!1,this.otherSubmitted=!1,this.showEditPastProject=!1,this.disableEdit=!1,this.otherlist=[{id:0,companyId:0,type:"3",projectName:"",contractPrice:"",completionDate:new Date,isOwner:"",city:"",state:"",is_Company_Failed:"",company_Failed_Info:"",is_Officer_Failed:"",officer_Failed_Info:""}],this.pastdisabledEdit=!1,this.currdisabledEdit=!1,this.temppastsubmitted=!1,this.tempcurrentsubmitted=!1,this.showdisabled=!1,this.submitted2=!1,this.showpastproject2=!1,this.currentprojsubmitted2=!1,this.showcurrentproject2=!1,this.nextclicked=!1}ngOnInit(){this.ngxUiLoader.startLoader("loader-01"),this.prequalification_status=this.loginInfo.organization_status;let e=localStorage.getItem("userDetails");e=JSON.parse(atob(e)),this.userDetails=e,this.userRole=e.role,this.tempcompanyid=localStorage.getItem("tempcompanyid"),this.tempcompanyid=Number(atob(this.tempcompanyid)),localStorage.setItem("currPage","relevant"),this.tempcompanyid>0&&"Subcontractor"!=this.userRole&&(this.showAdmin=!0,this.relevantexperience.getRecords(this.tempcompanyid).subscribe(e=>{this.updaterelevantinfo(e)}),this.showdisabled=!0,this.pastprojectForm.disable(),this.currentprojectForm.disable(),this.pastprojectForm2.disable(),this.currentprojectForm2.disable(),this.otherForm.disable(),this.pastprojectForm.updateValueAndValidity(),this.currentprojectForm.updateValueAndValidity(),this.pastprojectForm2.updateValueAndValidity(),this.currentprojectForm2.updateValueAndValidity(),this.otherForm.updateValueAndValidity()),this.submitText="SAVE",null!=this.userDetails.vendorId&&null!=this.userDetails.taxId&&"Subcontractor"==this.userRole&&this.relevantexperience.getUser(this.userDetails.vendorId,this.userDetails.taxId).subscribe(e=>{this.companyId=e.id,localStorage.setItem("companyid",btoa(this.companyId)),this.getRecords()}),this.ngxUiLoader.stopLoader("loader-01")}ngAfterViewInit(){0==this.showAdmin&&(this.keepalive.interval(30),this.keepalive.start(),this.keepalive.stop())}ngOnDestroy(){this.keepalive.stop(),this.nextclicked||this.nextpage()}get f(){return this.pastprojectForm.controls}get f2(){return this.pastprojectForm2.controls}get s(){return this.currentprojectForm.controls}get s2(){return this.currentprojectForm2.controls}get ff(){return this.temppastprojectForm.controls}get ss(){return this.tempcurrentprojectForm.controls}get g(){return"yes"==this.otherForm.value.is_Company_Failed?this.otherForm.controls.company_Failed_Info.setValidators([n.u.required]):(this.otherForm.patchValue({company_Failed_Info:this.otherForm.value.company_Failed_Info}),this.otherForm.controls.company_Failed_Info.clearValidators()),this.otherForm.controls.company_Failed_Info.updateValueAndValidity(),"yes"==this.otherForm.value.is_Officer_Failed?this.otherForm.controls.officer_Failed_Info.setValidators([n.u.required]):(this.otherForm.patchValue({officer_Failed_Info:this.otherForm.value.officer_Failed_Info}),this.otherForm.controls.officer_Failed_Info.clearValidators()),this.otherForm.controls.officer_Failed_Info.updateValueAndValidity(),this.otherForm.controls}idleReset(){this.keepalive.start(),this.resetTimer=0}getRecords(){this.relevantexperience.getRecords(this.companyId).subscribe(e=>{e.length&&(this.submitText="UPDATE",this.updaterelevantinfo(e))}),this.companyId>0&&this.companyservice.getRecord(this.companyId).subscribe(e=>{this.prequalification_status=(e=e[0]).preQualification_Status,e.preQualification_Status&&this.loginInfo.formDisable(e.preQualification_Status)&&(this.showdisabled=!0,this.pastprojectForm.disable(),this.currentprojectForm.disable(),this.otherForm.disable(),this.pastprojectForm2.disable(),this.currentprojectForm2.disable(),this.pastprojectForm.updateValueAndValidity(),this.currentprojectForm.updateValueAndValidity(),this.pastprojectForm2.updateValueAndValidity(),this.currentprojectForm2.updateValueAndValidity(),this.otherForm.updateValueAndValidity())})}updaterelevantinfo(e){this.pastprojectlist=[],this.currprojectlist=[],e.filter(e=>{"1"==e.type&&(this.pastprojectlist.push({id:e.id,companyId:e.companyId,type:e.type,projectName:this.loginInfo.validateEmpty(e.projectName),contractPrice:this.loginInfo.validateEmpty(e.contractPrice),completionDate:"2099-12-31T00:00:00"==this.loginInfo.validateEmpty(e.completionDate)?"":this.loginInfo.validateEmpty(e.completionDate),isOwner:this.loginInfo.validateEmpty(e.isOwner),city:this.loginInfo.validateEmpty(e.city),state:this.loginInfo.validateEmpty(e.state),is_Company_Failed:this.loginInfo.validateEmpty(e.is_Company_Failed),company_Failed_Info:this.validateEmpty(e.company_Failed_Info),is_Officer_Failed:this.loginInfo.validateEmpty(e.is_Officer_Failed),officer_Failed_Info:this.validateEmpty(e.officer_Failed_Info),showEdit:!1}),1==this.pastprojectlist.length?(this.showpastproject=!1,this.showpastproject2=!0):this.pastprojectlist.length>1&&(this.showpastproject=!0,this.showpastproject2=!0)),"2"==e.type&&(console.log(e),this.currprojectlist.push({id:e.id,companyId:e.companyId,type:e.type,projectName:this.loginInfo.validateEmpty(e.projectName),contractPrice:this.loginInfo.validateEmpty(e.contractPrice),completionDate:"2099-12-31T00:00:00"==this.loginInfo.validateEmpty(e.completionDate)?"":this.loginInfo.validateEmpty(e.completionDate),isOwner:this.loginInfo.validateEmpty(e.isOwner),city:this.loginInfo.validateEmpty(e.city),state:this.loginInfo.validateEmpty(e.state),is_Company_Failed:this.loginInfo.validateEmpty(e.is_Company_Failed),company_Failed_Info:this.validateEmpty(e.company_Failed_Info),is_Officer_Failed:this.loginInfo.validateEmpty(e.is_Officer_Failed),officer_Failed_Info:this.validateEmpty(e.officer_Failed_Info),showEdit:!1}),1==this.currprojectlist.length?(this.showcurrentproject=!1,this.showcurrentproject2=!0):this.currprojectlist.length>1&&(this.showcurrentproject=!0,this.showcurrentproject2=!0,this.showdisabled=!1)),"3"==e.type&&(console.log(e.company_Failed_Info,this.validateEmpty(e.company_Failed_Info)),this.otherForm.patchValue({is_Company_Failed:e.is_Company_Failed,company_Failed_Info:this.validateEmpty(e.company_Failed_Info),is_Officer_Failed:e.is_Officer_Failed,officer_Failed_Info:this.validateEmpty(e.officer_Failed_Info)}),this.otherlist[0].companyId=this.companyId,this.otherlist[0].id=e.id,this.otherlist[0].is_Company_Failed=this.loginInfo.validateEmpty(e.is_Company_Failed),this.otherlist[0].company_Failed_Info=this.loginInfo.validateEmpty(e.company_Failed_Info),this.otherlist[0].is_Officer_Failed=this.loginInfo.validateEmpty(e.is_Officer_Failed),this.otherlist[0].officer_Failed_Info=this.loginInfo.validateEmpty(e.officer_Failed_Info))}),0==this.pastprojectlist.length&&(this.showpastproject=!1,this.showpastproject2=!1),0==this.currprojectlist.length&&(this.showcurrentproject=!1,this.showcurrentproject2=!1)}submit(){if(this.otherSubmitted=!0,this.keepalive.stop(),"Subcontractor"!=this.userRole)this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`]);else if(this.companyId>0){this.nextclicked=!0,this.pastprojectFormcheckformValidation(),this.pastprojectForm2checkformValidation(),this.currentprojectcheckformValidation(),this.currentproject2checkformValidation(),this.temppastprojectFormcheckformValidation(),this.tempcurrprojectFormcheckformValidation(),this.otherlist[0].companyId=this.companyId,this.otherlist[0].is_Company_Failed=this.otherForm.value.is_Company_Failed,this.otherlist[0].company_Failed_Info=this.otherForm.value.company_Failed_Info,this.otherlist[0].is_Officer_Failed=this.otherForm.value.is_Officer_Failed,this.otherlist[0].officer_Failed_Info=this.otherForm.value.officer_Failed_Info;let e=this.saveForms();console.log(e);let t={id:0,companyId:this.companyId,experienceLineDTO:e};e.length&&(this.pastprojectForm.patchValue({isAutosave:!1}),this.relevantexperience.addRecord(t).subscribe(e=>{this.getRecords(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])}))}}autosave(){if(this.resetTimer+=1,1==this.resetTimer){this.pastprojectFormcheckformValidation(),this.pastprojectForm2checkformValidation(),this.currentprojectcheckformValidation(),this.currentproject2checkformValidation(),this.temppastprojectFormcheckformValidation(),this.tempcurrprojectFormcheckformValidation(),this.otherlist[0].companyId=this.companyId,this.otherlist[0].is_Company_Failed=this.otherForm.value.is_Company_Failed,this.otherlist[0].company_Failed_Info=this.otherForm.value.company_Failed_Info,this.otherlist[0].is_Officer_Failed=this.otherForm.value.is_Officer_Failed,this.otherlist[0].officer_Failed_Info=this.otherForm.value.officer_Failed_Info;let e=this.saveForms();console.log(e);let t={id:0,companyId:this.companyId,experienceLineDTO:e};e.length&&(this.pastprojectForm.patchValue({isAutosave:!1}),this.relevantexperience.addRecord(t).subscribe(e=>{this.getRecords()}))}}save(){if(this.otherSubmitted=!0,this.keepalive.stop(),this.companyId>0){let e=!1;this.showpastproject||(e=!0,this.addpastproject()),this.showcurrentproject||(e=!0,this.addcurrproject()),this.otherlist[0].companyId=this.companyId,this.otherlist[0].is_Company_Failed=this.otherForm.value.is_Company_Failed,this.otherlist[0].company_Failed_Info=this.otherForm.value.company_Failed_Info,this.otherlist[0].is_Officer_Failed=this.otherForm.value.is_Officer_Failed,this.otherlist[0].officer_Failed_Info=this.otherForm.value.officer_Failed_Info;let t=this.saveForms(),i={id:0,companyId:this.companyId,experienceLineDTO:t};console.log(t),e||(t.length&&this.pastprojectlist.length>1&&this.currprojectlist.length>1?this.relevantexperience.addRecord(i).subscribe(e=>{this.pastprojectForm.reset(),this.currentprojectForm.reset(),this.getRecords(),this.submitText="UPDATE",this.toastr.success("Relevant experience saved successfully","Relevant Experience")}):this.firstForms())}}nextpage(){if("Subcontractor"==this.userRole){this.pastprojectFormcheckformValidation(),this.pastprojectForm2checkformValidation(),this.currentprojectcheckformValidation(),this.currentproject2checkformValidation(),this.temppastprojectFormcheckformValidation(),this.tempcurrprojectFormcheckformValidation(),this.otherlist[0].companyId=this.companyId,this.otherlist[0].is_Company_Failed=this.otherForm.value.is_Company_Failed,this.otherlist[0].company_Failed_Info=this.otherForm.value.company_Failed_Info,this.otherlist[0].is_Officer_Failed=this.otherForm.value.is_Officer_Failed,this.otherlist[0].officer_Failed_Info=this.otherForm.value.officer_Failed_Info;let e=this.saveForms();console.log(e);let t={id:0,companyId:this.companyId,experienceLineDTO:e};e.length&&(this.pastprojectForm.patchValue({isAutosave:!1}),this.relevantexperience.addRecord(t).subscribe(e=>{}))}}saveOther(){this.otherlist.length&&(this.otherlist[0].companyId=this.companyId,this.otherlist[0].is_Company_Failed=this.otherForm.value.is_Company_Failed,this.otherlist[0].company_Failed_Info=this.otherForm.value.company_Failed_Info,this.otherlist[0].is_Officer_Failed=this.otherForm.value.is_Officer_Failed,this.otherlist[0].officer_Failed_Info=this.otherForm.value.officer_Failed_Info)}firstForms(){console.log(this.pastprojectForm),this.addpastproject(),this.addcurrproject(),this.addpastproject2(),this.addcurrproject2(),this.pastprojectlist.length>1&&this.currprojectlist.length>1&&this.otherForm.valid&&this.save()}firstFormssubmit(){console.log(this.pastprojectForm),this.addpastproject(),this.addcurrproject(),this.addpastproject2(),this.addcurrproject2(),this.pastprojectlist.length>1&&this.currprojectlist.length>1&&this.otherForm.valid&&this.submit()}saveForms(){let e=[];return this.pastprojectlist.filter(t=>{e.push(t)}),this.currprojectlist.filter(t=>{e.push(t)}),this.otherlist.filter(t=>{e.push(t)}),console.log(e),e}autoSave(){if(this.pastprojectForm.patchValue({companyId:this.companyId}),this.companyId>0){let e=this.saveForms(),t={companyId:this.companyId,referenceLineDTO:this.saveForms()};this.resetTimer+=1,1==this.resetTimer&&e.length&&0==this.relevantid&&(this.pastprojectForm.patchValue({isAutosave:!1}),this.relevantexperience.addRecord(t).subscribe(e=>{this.submitText="UPDATE",this.keepalive.stop(),this.getRecords()}))}}gotoHome(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm-1].url}`])}addpastproject(){this.submitted=!0,console.log(this.pastprojectForm),this.pastprojectForm.valid&&(this.pastprojectlist.push({id:0,companyId:this.companyId,type:"1",projectName:this.pastprojectForm.value.projectName?this.pastprojectForm.value.projectName:"",contractPrice:this.pastprojectForm.value.contractPrice?String(this.pastprojectForm.value.contractPrice):"",completionDate:this.pastprojectForm.value.completionDate?this.pastprojectForm.value.completionDate:"",isOwner:this.pastprojectForm.value.isOwner,city:this.pastprojectForm.value.city,state:this.pastprojectForm.value.state,is_Company_Failed:this.otherForm.value.is_Company_Failed,company_Failed_Info:String(this.otherForm.value.company_Failed_Info)?String(this.otherForm.value.company_Failed_Info):"",is_Officer_Failed:this.otherForm.value.is_Officer_Failed,officer_Failed_Info:this.otherForm.value.officer_Failed_Info,isAutosave:!1,isCompleted:!1,showEdit:!1}),console.log(this.pastprojectlist),this.showpastproject=!0,this.pastprojectForm.reset(),this.submitted=!1)}addpastproject2(){this.submitted2=!0,console.log(this.pastprojectForm2),this.pastprojectForm2.valid&&(this.pastprojectlist.push({id:0,companyId:this.companyId,type:"1",projectName:this.pastprojectForm2.value.projectName?this.pastprojectForm2.value.projectName:"",contractPrice:this.pastprojectForm2.value.contractPrice?String(this.pastprojectForm2.value.contractPrice):"",completionDate:this.pastprojectForm2.value.completionDate?this.pastprojectForm2.value.completionDate:"",isOwner:this.pastprojectForm2.value.isOwner,city:this.pastprojectForm2.value.city,state:this.pastprojectForm2.value.state,is_Company_Failed:this.otherForm.value.is_Company_Failed,company_Failed_Info:String(this.otherForm.value.company_Failed_Info)?String(this.otherForm.value.company_Failed_Info):"",is_Officer_Failed:this.otherForm.value.is_Officer_Failed,officer_Failed_Info:this.otherForm.value.officer_Failed_Info,isAutosave:!1,isCompleted:!1,showEdit:!1}),console.log(this.pastprojectlist),this.showpastproject2=!0,this.pastprojectForm2.reset(),this.submitted2=!1)}addcurrproject(){this.currentprojsubmitted=!0,console.log(this.currentprojectForm),this.currentprojectForm.valid&&(this.currprojectlist.push({id:0,companyId:this.companyId,type:"2",projectName:this.currentprojectForm.value.projectName?this.currentprojectForm.value.projectName:"",contractPrice:this.currentprojectForm.value.contractPrice?String(this.currentprojectForm.value.contractPrice):"",completionDate:this.currentprojectForm.value.completionDate?this.currentprojectForm.value.completionDate:"",isOwner:this.currentprojectForm.value.isOwner,city:this.currentprojectForm.value.city,state:this.currentprojectForm.value.state,is_Company_Failed:this.otherForm.value.is_Company_Failed,company_Failed_Info:String(this.otherForm.value.company_Failed_Info)?String(this.otherForm.value.company_Failed_Info):"",is_Officer_Failed:this.otherForm.value.is_Officer_Failed,officer_Failed_Info:this.otherForm.value.officer_Failed_Info,isAutosave:!1,isCompleted:!1,showEdit:!1}),console.log(this.currprojectlist),this.showcurrentproject=!0,this.currentprojectForm.reset(),this.currentprojsubmitted=!1)}addcurrproject2(){this.currentprojsubmitted2=!0,console.log(this.currentprojectForm2),this.currentprojectForm2.valid&&(this.currprojectlist.push({id:0,companyId:this.companyId,type:"2",projectName:this.currentprojectForm2.value.projectName?this.currentprojectForm2.value.projectName:"",contractPrice:this.currentprojectForm2.value.contractPrice?String(this.currentprojectForm2.value.contractPrice):"",completionDate:this.currentprojectForm2.value.completionDate?this.currentprojectForm2.value.completionDate:"",isOwner:this.currentprojectForm2.value.isOwner,city:this.currentprojectForm2.value.city,state:this.currentprojectForm2.value.state,is_Company_Failed:this.otherForm.value.is_Company_Failed,company_Failed_Info:String(this.otherForm.value.company_Failed_Info)?String(this.otherForm.value.company_Failed_Info):"",is_Officer_Failed:this.otherForm.value.is_Officer_Failed,officer_Failed_Info:this.otherForm.value.officer_Failed_Info,isAutosave:!1,isCompleted:!1,showEdit:!1}),console.log(this.currprojectlist),this.showcurrentproject2=!0,this.currentprojectForm2.reset(),this.currentprojsubmitted2=!1)}removeRelevant(e,t){console.log(t,e),this.showdisabled||(0==t.id?("1"==t.type&&(this.pastprojectlist.splice(e,1),0==this.pastprojectlist.length&&(this.showpastproject=!1)),"2"==t.type&&(this.currprojectlist.splice(e,1),0==this.currprojectlist.length&&(this.showcurrentproject=!1))):this.relevantexperience.deleteRecord(t.id).subscribe(i=>{this.getRecords(),"1"==t.type&&(this.pastprojectlist.splice(e,1),this.showpastproject=!1),"2"==t.type&&(this.currprojectlist.splice(e,1),this.showcurrentproject=!1)}),this.toastr.info("Relevant Experience project removed successfully","Relevant Experience"))}validateEmpty(e){return null==e||"null"==e||null==e||"undefined"==e?"":e}editrelevant(e,t){var i,o;console.log(t),this.showdisabled||(this.disableEdit=!0,"1"==t.type&&(this.pastprojectlist[e].showEdit=!0,this.temppastindex=e,this.pastdisabledEdit=!0,this.temppastprojectForm.patchValue({projectName:t.projectName,contractPrice:t.contractPrice,completionDate:null===(i=t.completionDate)||void 0===i?void 0:i.split("T")[0],isOwner:t.isOwner,city:t.city,state:t.state})),"2"==t.type&&(this.currprojectlist[e].showEdit=!0,this.tempcurrentindex=e,this.currdisabledEdit=!0,this.tempcurrentprojectForm.patchValue({projectName:t.projectName,contractPrice:t.contractPrice,completionDate:null===(o=t.completionDate)||void 0===o?void 0:o.split("T")[0],isOwner:t.isOwner,city:t.city,state:t.state})))}pastprojectFormcheckformValidation(){console.log(""!=this.pastprojectForm.value.projectName||""!=this.pastprojectForm.value.contractPrice||""!=this.pastprojectForm.value.completionDate||""!=this.pastprojectForm.value.isOwner||""!=this.pastprojectForm.value.state),""==this.pastprojectForm.value.projectName&&""==this.pastprojectForm.value.contractPrice&&""==this.pastprojectForm.value.completionDate&&""==this.pastprojectForm.value.isOwner&&""==this.pastprojectForm.value.state||(this.pastprojectlist.push({id:0,companyId:this.companyId,type:"1",projectName:this.pastprojectForm.value.projectName?this.pastprojectForm.value.projectName:"",contractPrice:String(this.pastprojectForm.value.contractPrice)?String(this.pastprojectForm.value.contractPrice):"",completionDate:""==this.loginInfo.validateEmpty(this.pastprojectForm.value.completionDate)?"2099-12-31":"",isOwner:this.pastprojectForm.value.isOwner,city:this.pastprojectForm.value.city,state:this.pastprojectForm.value.state,is_Email:0}),this.pastprojectForm.reset(),console.log(this.pastprojectlist))}pastprojectForm2checkformValidation(){console.log(""!=this.pastprojectForm2.value.projectName||""!=this.pastprojectForm2.value.contractPrice||""!=this.pastprojectForm2.value.completionDate||""!=this.pastprojectForm2.value.isOwner||""!=this.pastprojectForm2.value.city||""!=this.pastprojectForm2.value.state),""==this.pastprojectForm2.value.projectName&&""==this.pastprojectForm2.value.contractPrice&&""==this.pastprojectForm2.value.completionDate&&""==this.pastprojectForm2.value.isOwner&&""==this.pastprojectForm2.value.state||(this.pastprojectlist.push({id:0,companyId:this.companyId,type:"1",projectName:this.pastprojectForm2.value.projectName?this.pastprojectForm2.value.projectName:"",contractPrice:String(this.pastprojectForm2.value.contractPrice)?String(this.pastprojectForm2.value.contractPrice):"",completionDate:""==this.loginInfo.validateEmpty(this.pastprojectForm2.value.completionDate)?"2099-12-31":"",isOwner:this.pastprojectForm2.value.isOwner,city:this.pastprojectForm2.value.city,state:this.pastprojectForm2.value.state,is_Email:0}),this.pastprojectForm2.reset(),console.log(this.pastprojectlist))}currentprojectcheckformValidation(){""==this.currentprojectForm.value.projectName&&""==this.currentprojectForm.value.contractPrice&&""==this.currentprojectForm.value.completionDate&&""==this.currentprojectForm.value.isOwner&&""==this.currentprojectForm.value.state||(this.currprojectlist.push({id:0,companyId:this.companyId,type:"2",projectName:this.currentprojectForm.value.projectName?this.currentprojectForm.value.projectName:"",contractPrice:String(this.currentprojectForm.value.contractPrice)?String(this.currentprojectForm.value.contractPrice):"",completionDate:""==this.loginInfo.validateEmpty(this.currentprojectForm.value.completionDate)?"2099-12-31":"",isOwner:this.currentprojectForm.value.isOwner,city:this.currentprojectForm.value.city,state:this.currentprojectForm.value.state,is_Email:0}),this.currentprojectForm.reset())}currentproject2checkformValidation(){""==this.currentprojectForm2.value.projectName&&""==this.currentprojectForm2.value.contractPrice&&""==this.currentprojectForm2.value.completionDate&&""==this.currentprojectForm2.value.isOwner&&""==this.currentprojectForm2.value.state||(this.currprojectlist.push({id:0,companyId:this.companyId,type:"2",projectName:this.currentprojectForm2.value.projectName?this.currentprojectForm2.value.projectName:"",contractPrice:String(this.currentprojectForm2.value.contractPrice)?String(this.currentprojectForm2.value.contractPrice):"",completionDate:""==this.loginInfo.validateEmpty(this.currentprojectForm2.value.completionDate)?"2099-12-31":"",isOwner:this.currentprojectForm2.value.isOwner,city:this.currentprojectForm2.value.city,state:this.currentprojectForm2.value.state,is_Email:0}),this.currentprojectForm2.reset())}temppastprojectFormcheckformValidation(){""==this.temppastprojectForm.value.projectName&&""==this.temppastprojectForm.value.contractPrice&&""==this.temppastprojectForm.value.completionDate&&""==this.temppastprojectForm.value.isOwner&&""==this.temppastprojectForm.value.state||(this.pastprojectlist[this.temppastindex].showEdit=!1,this.pastprojectlist[this.temppastindex].projectName=this.validateEmpty(this.temppastprojectForm.value.projectName),this.pastprojectlist[this.temppastindex].contractPrice=this.validateEmpty(String(this.temppastprojectForm.value.contractPrice)),this.pastprojectlist[this.temppastindex].completionDate=this.validateEmpty(this.temppastprojectForm.value.completionDate),this.pastprojectlist[this.temppastindex].isOwner=this.validateEmpty(this.temppastprojectForm.value.isOwner),this.pastprojectlist[this.temppastindex].city=this.validateEmpty(this.temppastprojectForm.value.city),this.pastprojectlist[this.temppastindex].state=this.validateEmpty(this.temppastprojectForm.value.state),this.temppastprojectForm.reset(),this.pastdisabledEdit=!1,this.temppastsubmitted=!1)}tempcurrprojectFormcheckformValidation(){""==this.tempcurrentprojectForm.value.projectName&&""==this.tempcurrentprojectForm.value.contractPrice&&""==this.tempcurrentprojectForm.value.completionDate&&""==this.tempcurrentprojectForm.value.isOwner&&""==this.tempcurrentprojectForm.value.state||(this.currprojectlist[this.tempcurrentindex].showEdit=!1,this.currprojectlist[this.tempcurrentindex].projectName=this.validateEmpty(this.tempcurrentprojectForm.value.projectName),this.currprojectlist[this.tempcurrentindex].contractPrice=this.validateEmpty(String(this.tempcurrentprojectForm.value.contractPrice)),this.currprojectlist[this.tempcurrentindex].completionDate=this.validateEmpty(this.tempcurrentprojectForm.value.completionDate),this.currprojectlist[this.tempcurrentindex].isOwner=this.validateEmpty(this.tempcurrentprojectForm.value.isOwner),this.currprojectlist[this.tempcurrentindex].city=this.validateEmpty(this.tempcurrentprojectForm.value.city),this.currprojectlist[this.tempcurrentindex].state=this.validateEmpty(this.tempcurrentprojectForm.value.state),this.tempcurrentprojectForm.reset(),this.currdisabledEdit=!1,this.tempcurrentsubmitted=!1)}relevantupdate(e,t){this.showdisabled||"1"==t.type&&(this.temppastsubmitted=!0,this.temppastprojectForm.valid&&(this.pastprojectlist[e].showEdit=!1,this.pastprojectlist[e].projectName=this.validateEmpty(this.temppastprojectForm.value.projectName),this.pastprojectlist[e].contractPrice=this.validateEmpty(String(this.temppastprojectForm.value.contractPrice)),this.pastprojectlist[e].completionDate=this.validateEmpty(this.temppastprojectForm.value.completionDate),this.pastprojectlist[e].isOwner=this.validateEmpty(this.temppastprojectForm.value.isOwner),this.pastprojectlist[e].city=this.validateEmpty(this.temppastprojectForm.value.city),this.pastprojectlist[e].state=this.validateEmpty(this.temppastprojectForm.value.state),this.pastprojectForm.reset(),this.pastdisabledEdit=!1,this.temppastsubmitted=!1)),"2"==t.type&&(this.temppastsubmitted=!0,this.temppastprojectForm.valid&&(this.currprojectlist[e].showEdit=!1,this.currprojectlist[e].projectName=this.validateEmpty(this.tempcurrentprojectForm.value.projectName),this.currprojectlist[e].contractPrice=this.validateEmpty(String(this.tempcurrentprojectForm.value.contractPrice)),this.currprojectlist[e].completionDate=this.validateEmpty(this.tempcurrentprojectForm.value.completionDate),this.currprojectlist[e].isOwner=this.validateEmpty(this.tempcurrentprojectForm.value.isOwner),this.currprojectlist[e].city=this.validateEmpty(this.tempcurrentprojectForm.value.city),this.currprojectlist[e].state=this.validateEmpty(this.tempcurrentprojectForm.value.state),this.tempcurrentprojectForm.reset(),this.currdisabledEdit=!1,this.tempcurrentsubmitted=!1)),this.disableEdit=!1}cancelpastUpdate(e,t){"1"==t.type?(this.pastprojectlist[e].showEdit=!1,this.pastdisabledEdit=!1,this.temppastprojectForm.reset(),this.temppastsubmitted=!1):"2"==t.type&&(this.currprojectlist[e].showEdit=!1,this.currdisabledEdit=!1,this.tempcurrentprojectForm.reset(),this.tempcurrentsubmitted=!1)}nextroutePage(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])}}return e.\u0275fac=function(t){return new(t||e)(s.Pb(n.d),s.Pb(r.f),s.Pb(l.a),s.Pb(u.a),s.Pb(f.b),s.Pb(c.a),s.Pb(_),s.Pb(v.c),s.Pb(ds))},e.\u0275cmp=s.Jb({type:e,selectors:[["app-relevant-experience"]],decls:73,vars:48,consts:[[1,"px-2","py-2","my-2","form-bg"],[1,"form-group","input-group","row","mt-2"],[1,"col-lg-6","py-2","mx-auto","bg-white","col-curve-top","col-head-1"],[1,"row","mx-auto","py-2"],[1,"col-12"],["claas","fw-bold"],["class","mt-2",4,"ngIf"],["class","mt-2 text-end",4,"ngIf"],["class","record-shadow p-3 mt-3",4,"ngIf"],[1,"col-lg-6","py-2","mx-auto","bg-white","col-curve-top"],[1,"px-2",3,"formGroup","keydown.enter"],[1,"row","form-group","input-group","row","mt-2"],[1,"col-lg-6","py-2","mx-auto","bg-white","col-curve","col-head-1"],[3,"formGroup","keydown.enter"],[1,"row","mx-0","px-0","py-2"],["for","is_Company_Failed",1,"my-auto","font-italic","float-right"],[1,"text-danger"],[1,"row","pt-1"],[1,"col-lg-2"],["type","radio","formControlName","is_Company_Failed","value","yes","checked","checked","name","is_Company_Failed","id","is_Company_Failed_yes",3,"ngClass","ngModelChange"],["for","is_Company_Failed_yes"],[1,"col-lg-10"],["type","radio","formControlName","is_Company_Failed","value","no","name","is_Company_Failed","id","is_Company_Failed_no",3,"ngClass","ngModelChange"],["for","is_Company_Failed_no"],["class","invalid-feedback",4,"ngIf"],[1,"mr-4","mt-1"],[1,"note","fw-bold",3,"ngClass"],[1,"col-lg-12","bg-white"],["formControlName","company_Failed_Info","id","company_Failed_Info","name","company_Failed_Info",1,"form-control",3,"ngClass","ngModelChange"],[1,"row","px-2"],["for","is_Officer_Failed",1,"my-auto","font-italic","float-right"],["type","radio","formControlName","is_Officer_Failed","value","yes","checked","checked","name","is_Officer_Failed","id","is_Officer_Failed_yes",3,"ngClass","ngModelChange"],["for","is_Officer_Failed_yes"],["type","radio","formControlName","is_Officer_Failed","value","no","name","is_Officer_Failed","id","is_Officer_Failed_no",3,"ngClass","ngModelChange"],["for","is_Officer_Failed_no"],["formControlName","officer_Failed_Info","id","officer_Failed_Info","name","officer_Failed_Info",1,"form-control",3,"ngClass","ngModelChange"],[1,"col-lg-6","py-2","mx-auto","bg-white","col-curve"],["class","text-end mx-lg-4 my-3",4,"ngIf"],["class","text-end mx-4 my-3",4,"ngIf"],[1,"mt-2"],[4,"ngFor","ngForOf"],["class","row mx-auto record-shadow py-2 mt-3",4,"ngIf"],[1,"row","mx-auto","record-shadow","py-2","mt-3"],[1,"col-6","pt-2"],[1,"fw-bold"],[1,"float-left"],[1,"float-end"],["class","fa fa-edit edit me-2",3,"click",4,"ngIf"],[1,"fa","fa-times-circle","fileclose",3,"click"],[1,"col-6"],[1,"fa","fa-edit","edit","me-2",3,"click"],[1,"record-shadow","p-3","mt-3"],[1,"px-2",3,"formGroup"],[1,"row"],[1,"col-5"],["for","owner-projectName",1,"my-auto","font-italic"],[1,"col-7"],["type","text","formControlName","projectName","id","owner-project-Name","name","owner-projectName",1,"form-control",3,"ngClass","ngModelChange"],[1,"row","pt-2"],["for","isOwner",1,"my-auto","font-italic"],[1,"col-lg-4"],["type","radio","formControlName","isOwner","value","yes","name","isOwner","id","isOwner_yes",3,"ngModelChange"],["for","isOwner_yes",3,"ngClass"],["type","radio","formControlName","isOwner","value","no","name","isOwner","id","isOwner",3,"ngClass","ngModelChange"],["for","isOwner"],["for","owner-contractPrice",1,"my-auto","font-italic"],["type","number","formControlName","contractPrice","id","owner-project-Name","name","owner-contractPrice",1,"form-control",3,"ngClass","ngModelChange"],["for","owner-completionDate",1,"my-auto","font-italic"],["type","date","formControlName","completionDate","id","owner-project-Name","name","owner-completionDate",1,"form-control",3,"ngClass","ngModelChange"],["for","city",1,"my-auto","font-italic"],["type","text","formControlName","city","id","city","name","city",1,"form-control",3,"ngClass","ngModelChange"],["for","state",1,"my-auto","font-italic","float-right"],["formControlName","state","id","state","name","state",1,"form-control","form-select",3,"ngClass","ngModelChange"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"note","fw-bold","p-0","pt-3"],[1,"mt-2","text-end"],["type","button","class","btn mx-2 default-btn",3,"click",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],["type","button",1,"btn","mx-2","default-btn",3,"click"],["type","radio","formControlName","isOwner","value","yes","checked","checked","name","isOwner","id","isOwner_yes",3,"ngModelChange"],[1,"col-lg-8"],["type","radio","formControlName","isOwner","value","yes","checked","checked","name","isOwner","id","isOwner_yes2",3,"ngModelChange"],["for","isOwner_yes2",3,"ngClass"],["type","radio","formControlName","isOwner","value","no","name","isOwner","id","isOwner2",3,"ngClass","ngModelChange"],["for","isOwner2"],["type","radio","formControlName","isOwner","value","yes","checked","checked","name","isOwner","id","isOwner_yes22",3,"ngModelChange"],["for","isOwner_yes22",3,"ngClass"],["type","radio","formControlName","isOwner","value","no","name","isOwner","id","isOwner22",3,"ngClass","ngModelChange"],["for","isOwner22"],[1,"text-end","mx-lg-4","my-3"],[1,"btn","float-start","btn","default-btn",3,"click"],["type","button",1,"btn","ml-4","default-btn",3,"click"],[1,"text-end","mx-4","my-3"],[1,"btn","btn-success","mx-2","default-btn",3,"click"]],template:function(e,t){1&e&&(s.Vb(0,"div",0),s.Vb(1,"div",1),s.Vb(2,"div",2),s.Vb(3,"div",3),s.Vb(4,"div",4),s.Vb(5,"h6",5),s.Dc(6,"1. Past Project Experience"),s.Ub(),s.Bc(7,xs,2,1,"div",6),s.Bc(8,js,2,1,"div",7),s.Bc(9,$s,70,30,"div",8),s.Bc(10,sc,70,30,"div",8),s.Ub(),s.Ub(),s.Ub(),s.Vb(11,"div",9),s.Vb(12,"form",10),s.cc("keydown.enter",function(e){return e.preventDefault()}),s.Vb(13,"div",3),s.Vb(14,"div",4),s.Vb(15,"h6",5),s.Dc(16,"2. Current Projects Experience"),s.Ub(),s.Bc(17,wc,2,1,"div",6),s.Bc(18,Sc,2,1,"div",7),s.Bc(19,Yc,70,30,"div",8),s.Bc(20,ol,70,30,"div",8),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(21,"div",11),s.Vb(22,"div",12),s.Vb(23,"form",13),s.cc("keydown.enter",function(e){return e.preventDefault()}),s.Vb(24,"div",14),s.Vb(25,"h6",5),s.Dc(26,"3. Other"),s.Ub(),s.Vb(27,"div",4),s.Vb(28,"label",15),s.Dc(29,"In the past three (3) years from today's date, has your company defaulted, been terminated for cause or failed to complete a construction contract awarded to it?"),s.Vb(30,"span",16),s.Dc(31,"*"),s.Ub(),s.Ub(),s.Vb(32,"div",17),s.Vb(33,"span",18),s.Vb(34,"input",19),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Vb(35,"label",20),s.Dc(36," YES"),s.Ub(),s.Ub(),s.Vb(37,"span",21),s.Vb(38,"input",22),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Vb(39,"label",23),s.Dc(40," NO"),s.Ub(),s.Ub(),s.Ub(),s.Bc(41,rl,2,1,"div",24),s.Vb(42,"div",25),s.Vb(43,"small",26),s.Dc(44,"If yes, describe circumstances, including dates and owner, and if applicable, your company's surety:"),s.Ub(),s.Ub(),s.Vb(45,"div",27),s.Vb(46,"textarea",28),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Bc(47,sl,2,1,"div",24),s.Ub(),s.Ub(),s.Ub(),s.Vb(48,"div",29),s.Vb(49,"div",4),s.Vb(50,"label",30),s.Dc(51,"In the past three (3) years from today's date has any officer, partner, joint venture or proprietor of your company ever failed to complete a construction contract awarded to that person or entity in their name or on behalf of another organization?"),s.Vb(52,"span",16),s.Dc(53,"*"),s.Ub(),s.Ub(),s.Vb(54,"div",17),s.Vb(55,"span",18),s.Vb(56,"input",31),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Vb(57,"label",32),s.Dc(58," YES"),s.Ub(),s.Ub(),s.Vb(59,"span",21),s.Vb(60,"input",33),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Vb(61,"label",34),s.Dc(62," NO"),s.Ub(),s.Ub(),s.Ub(),s.Bc(63,ll,2,1,"div",24),s.Vb(64,"div",25),s.Vb(65,"small",26),s.Dc(66,"If yes, describe circumstances:"),s.Ub(),s.Ub(),s.Vb(67,"div",27),s.Vb(68,"textarea",35),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Bc(69,ul,2,1,"div",24),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Qb(70,"div",36),s.Ub(),s.Ub(),s.Bc(71,bl,7,1,"div",37),s.Bc(72,pl,5,0,"div",38)),2&e&&(s.Db(7),s.mc("ngIf",t.pastprojectlist.length),s.Db(1),s.mc("ngIf",t.showpastproject),s.Db(1),s.mc("ngIf",!t.showpastproject),s.Db(1),s.mc("ngIf",!t.showpastproject2),s.Db(2),s.mc("formGroup",t.currentprojectForm),s.Db(5),s.mc("ngIf",t.currprojectlist.length),s.Db(1),s.mc("ngIf",t.showcurrentproject),s.Db(1),s.mc("ngIf",!t.showcurrentproject2),s.Db(1),s.mc("ngIf",!t.showcurrentproject),s.Db(3),s.mc("formGroup",t.otherForm),s.Db(11),s.mc("ngClass",s.pc(28,Fs,t.otherSubmitted&&t.g.is_Company_Failed.errors)),s.Db(4),s.mc("ngClass",s.pc(30,Fs,t.otherSubmitted&&t.g.is_Company_Failed.errors)),s.Db(3),s.mc("ngIf",t.otherSubmitted&&t.g.is_Company_Failed.errors),s.Db(2),s.mc("ngClass",s.pc(32,ml,"no"==t.g.is_Company_Failed.value)),s.Db(3),s.mc("ngClass",s.pc(34,Fs,t.otherSubmitted&&t.g.company_Failed_Info.errors))("ngClass",s.pc(36,ml,"no"==t.g.is_Company_Failed.value)),s.Eb("disabled","no"==t.g.is_Company_Failed.value?"":null),s.Db(1),s.mc("ngIf",t.otherSubmitted&&t.g.company_Failed_Info.errors),s.Db(9),s.mc("ngClass",s.pc(38,Fs,t.otherSubmitted&&t.g.is_Officer_Failed.errors)),s.Db(4),s.mc("ngClass",s.pc(40,Fs,t.otherSubmitted&&t.g.is_Officer_Failed.errors)),s.Db(3),s.mc("ngIf",t.otherSubmitted&&t.g.is_Officer_Failed.errors),s.Db(2),s.mc("ngClass",s.pc(42,ml,"no"==t.g.is_Officer_Failed.value)),s.Db(3),s.mc("ngClass",s.pc(44,Fs,t.otherSubmitted&&t.g.officer_Failed_Info.errors))("ngClass",s.pc(46,ml,"no"==t.g.is_Officer_Failed.value)),s.Eb("disabled","no"==t.g.is_Officer_Failed.value?"":null),s.Db(1),s.mc("ngIf",t.otherSubmitted&&t.g.officer_Failed_Info.errors),s.Db(2),s.mc("ngIf",!(t.showAdmin||t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status)),s.Db(1),s.mc("ngIf",!t.showAdmin&&t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status||t.showAdmin))},directives:[o.l,n.v,n.k,n.g,n.q,n.b,n.j,n.f,o.j,o.k,n.o,n.t,n.n,n.w],pipes:[o.e],styles:[".record-shadow[_ngcontent-%COMP%]{border:1px solid #ddd;box-shadow:0 .5rem 1rem rgba(0,0,0,.15)!important}.file-close[_ngcontent-%COMP%]{padding:2px 6px!important;background:#969294!important}.col-curve-top[_ngcontent-%COMP%]{border-top-left-radius:18px 19px!important;border-top-right-radius:18px 19px!important;border-bottom-left-radius:10px 10px!important;border-bottom-right-radius:10px 10px!important;border-top:6px solid #c3bdbd!important}.col-curve[_ngcontent-%COMP%]{border-radius:10px 10px!important}.fileclose[_ngcontent-%COMP%]{font-size:22px;color:#6e6767;cursor:pointer}.edit[_ngcontent-%COMP%]{font-size:18px;cursor:pointer}h6[_ngcontent-%COMP%]{font-size:13px!important}.bg-grey[_ngcontent-%COMP%]{color:#c7bfbf!important}"]}),e})(),hl=(()=>{class e extends A.a{constructor(e,t){super("Signature",e,t,{root:j.a.webserviceURlLocal})}getAll(){return super.getAll()}getRecords(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("signature/"+e,j.a.webserviceURlLocal);return this.http.get(i,t)}updateRecord(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("signature/"+t,j.a.webserviceURlLocal);return this.http.put(o,e,i)}addRecord(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("signature",j.a.webserviceURlLocal);return this.http.post(i,e,t)}getUser(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("Organization/"+e+"/"+t,j.a.webserviceURlLocal);return this.http.get(o,i)}getComplete(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("Organization/Getstatus/"+e,j.a.webserviceURlLocal);return this.http.get(i,t)}deleteRecord(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.delete(j.a.webserviceURlLocal+"Files/"+e,t)}}return e.\u0275fac=function(t){return new(t||e)(s.Zb(O.b),s.Zb(A.c))},e.\u0275prov=s.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function gl(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Signature form is required"),s.Ub())}function _l(e,t){if(1&e&&(s.Vb(0,"div",25),s.Bc(1,gl,2,0,"div",26),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.signature_Upload.errors.required)}}function vl(e,t){1&e&&(s.Vb(0,"div",27),s.Vb(1,"span"),s.Dc(2,"Uploading..."),s.Ub(),s.Qb(3,"mat-progress-spinner",28),s.Ub())}function yl(e,t){if(1&e){const e=s.Wb();s.Vb(0,"div"),s.Vb(1,"p",29),s.Vb(2,"small"),s.Vb(3,"a",30),s.Dc(4),s.Ub(),s.Ub(),s.Vb(5,"small",31),s.cc("click",function(){s.uc(e);const i=t.index,o=t.$implicit;return s.gc().removeqcpUpload(i,o)}),s.Dc(6,"X"),s.Ub(),s.Ub(),s.Ub()}if(2&e){const e=t.$implicit;s.Db(3),s.nc("href",e.file_Path,s.wc),s.Db(1),s.Ec(e.name)}}function Vl(e,t){if(1&e){const e=s.Wb();s.Vb(0,"div",32),s.Vb(1,"button",33),s.cc("click",function(){return s.uc(e),s.gc().gotoHome()}),s.Dc(2," << BACK "),s.Ub(),s.Vb(3,"button",34),s.cc("click",function(){return s.uc(e),s.gc().save()}),s.Dc(4),s.Ub(),s.Vb(5,"button",35),s.cc("click",function(){return s.uc(e),s.gc().submit()}),s.Dc(6,"NEXT >>"),s.Ub(),s.Ub()}if(2&e){const e=s.gc();s.Db(4),s.Ec(e.submitText)}}function Ul(e,t){if(1&e){const e=s.Wb();s.Vb(0,"div",36),s.Vb(1,"button",33),s.cc("click",function(){return s.uc(e),s.gc().gotoHome()}),s.Dc(2," << BACK"),s.Ub(),s.Vb(3,"button",37),s.cc("click",function(){return s.uc(e),s.gc().nextroutePage()}),s.Dc(4,"NEXT >>"),s.Ub(),s.Ub()}}function Dl(e,t){if(1&e&&s.Qb(0,"app-comment",38),2&e){const e=s.gc();s.mc("formId",e.signatureid)("companyId",e.tempcompanyid)}}const Cl=function(e){return{"bg-grey":e}},Il=function(e){return{"pointer-events":e}},Rl=function(e){return{"is-invalid":e}},wl=function(e){return{opacity:e}};let Fl=(()=>{class e{constructor(e,t,i,o,r,a,s,c,l,d){this.formBuilder=e,this.router=t,this.bnIdle=i,this.keepalive=o,this.toastr=r,this.project=a,this.logininfo=s,this.ngxUiLoader=c,this.companyservice=l,this.signatureservice=d,this.currentForm=6,this.signatureForm=this.formBuilder.group({id:[0],companyId:[0,[n.u.maxLength(130)]],signature_Upload:["",[n.u.required]],is_QCP:[""],isAutosave:[!0]}),this.signatureid=0,this.submitText="SAVE",this.submitted=!1,this.companyId=0,this.tempsignatureattachment=[],this.tempcompanyid=0,this.showAdmin=!1,this.spinner={qcpSpinner:!1},this.signatureAttachment=[],this.showdisabled=!1}ngOnInit(){this.ngxUiLoader.startLoader("loader-01"),localStorage.setItem("currPage","personnel"),this.prequalification_status=this.logininfo.organization_status,this.submitText="SAVE";let e=localStorage.getItem("userDetails");e=JSON.parse(atob(e)),this.userDetails=e,this.userRole=e.role,this.tempcompanyid=localStorage.getItem("tempcompanyid"),this.tempcompanyid=Number(atob(this.tempcompanyid)),this.tempcompanyid>0&&"Subcontractor"!=this.userRole&&(this.showAdmin=!0,this.signatureservice.getRecords(this.tempcompanyid).subscribe(e=>{this.showdisabled=!0,this.signatureForm.disable(),this.signatureForm.updateValueAndValidity(),this.showAdmin=!0,(null==e?void 0:e.length)&&(this.signatureid=e[0].id,this.submitText="UPDATE",this.updateSignature(e[0]))})),null!=this.userDetails.vendorId&&null!=this.userDetails.taxId&&"Subcontractor"==this.userRole&&this.signatureservice.getUser(this.userDetails.vendorId,this.userDetails.taxId).subscribe(e=>{this.companyId=e.id,localStorage.setItem("companyid",btoa(this.companyId)),this.getRecords()}),this.ngxUiLoader.stopLoader("loader-01")}updateSignature(e){this.signatureForm.patchValue({id:e.id,companyId:e.companyId,isAutosave:e.isAutosave}),this.signatureAttachment=[],e.files.filter(e=>{"Signature_Upload"==e.file_Type&&0==e.isDeleted&&this.signatureAttachment.push(e.file_Name.length<49?{id:e.id,name:e.file_Name,file_Path:e.file_Path}:{id:e.id,name:e.file_Name.substring(0,49)+"....",file_Path:e.file_Path})})}get f(){return this.signatureAttachment.length?this.signatureForm.controls.signature_Upload.clearValidators():this.signatureForm.controls.signature_Upload.setValidators([n.u.required]),this.signatureForm.controls.signature_Upload.updateValueAndValidity(),this.signatureForm.controls}submit(){this.save(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])}save(){if("Subcontractor"!=this.userRole);else if(console.log(this.signatureForm),this.submitted=!0,this.keepalive.stop(),0==this.signatureid){this.signatureForm.patchValue({isAutosave:!1});let e=this.formMethod();this.signatureservice.addRecord(e).subscribe(e=>{this.getRecords(),this.submitText="UPDATE",this.fileReset(),this.resetSpinner(),this.toastr.success("Signature saved successfully","Signature")})}else{this.signatureForm.patchValue({isAutosave:!1});let e=this.formMethod();this.signatureservice.updateRecord(e,this.signatureid).subscribe(e=>{this.getRecords(),this.fileReset(),this.resetSpinner(),this.toastr.success("Signature updated successfully","Signature")})}}fileupload(){if(this.keepalive.stop(),0==this.signatureid){this.signatureForm.patchValue({isAutosave:!0});let e=this.formMethod();this.signatureservice.addRecord(e).subscribe(e=>{this.keepalive.stop(),this.signatureForm.patchValue({signature_Upload:"",id:e.id}),this.submitText="UPDATE",this.getRecords(),this.resetSpinner(),this.submitted=!1})}else{this.signatureForm.patchValue({id:this.signatureid,isAutosave:!0});let e=this.formMethod();this.signatureservice.updateRecord(e,this.signatureForm.value.id).subscribe(e=>{this.keepalive.stop(),this.getRecords(),this.resetSpinner(),this.signatureForm.patchValue({signature_Upload:""}),this.submitted=!1})}}formMethod(){var e=new FormData;e.append("id",this.signatureForm.value.id),e.append("companyId",this.companyId),e.append("isAutosave",this.signatureForm.value.isAutosave);for(let t=0;t<this.tempsignatureattachment.length;t++)e.append("signature_Upload",this.tempsignatureattachment[t]);return this.tempsignatureattachment=[],e}resetSpinner(){this.spinner={qcpSpinner:!1}}fileReset(){this.signatureForm.patchValue({signature_Upload:""})}qcpUpload(e){let t=document.getElementById("signature_Upload");for(let i=0;i<t.files.length;i++)this.tempsignatureattachment.push(t.files[i]);this.spinner.qcpSpinner=!0,this.fileupload()}removeqcpUpload(e,t){this.showdisabled||this.signatureservice.deleteRecord(t.id).subscribe(t=>{this.signatureAttachment.splice(e,1),this.toastr.info("File removed successfully","Signature")})}gotoHome(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm-1].url}`])}getRecords(){this.signatureservice.getRecords(this.companyId).subscribe(e=>{e.length&&(this.signatureid=e[0].id,this.submitText="UPDATE",this.updateSignature(e[0]))}),this.companyId>0&&this.companyservice.getRecord(this.companyId).subscribe(e=>{this.prequalification_status=(e=e[0]).preQualification_Status,e.preQualification_Status&&this.logininfo.formDisable(e.preQualification_Status)&&(this.showdisabled=!0,this.signatureForm.disable(),this.signatureForm.updateValueAndValidity())})}nextroutePage(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])}}return e.\u0275fac=function(t){return new(t||e)(s.Pb(n.d),s.Pb(r.f),s.Pb(l.a),s.Pb(u.a),s.Pb(f.b),s.Pb(g.a),s.Pb(_),s.Pb(v.c),s.Pb(c.a),s.Pb(hl))},e.\u0275cmp=s.Jb({type:e,selectors:[["app-signature"]],decls:45,vars:29,consts:[[1,"container","my-2","minheight","row"],[1,"row"],[1,"col-5"],[1,"m-1","pb-5","mb-5",3,"formGroup","ngClass","ngSubmit"],[1,"row","mt-2","pt-3",2,"border","1px solid #31a954","padding","5px"],[2,"margin","5px 2px 5px 10px","list-style-type","decimal"],[1,"px-2","py-2"],[1,"form-group","row","mx-0","px-0","py-2","mt-2","mx-auto"],[1,"col-12","col-curve-top","bg-white","border","border-1","py-2","mx-auto"],[1,"text-center","mb-2"],[1,"fw-bold","font-arial"],["href","assets/MBP Prequal Signature Section.docx",2,"color","blue","font-size","15px !important",3,"ngClass","ngStyle"],[1,"col-12","col-curve","bg-white","border","border-1","py-2","mx-auto"],["for","signature_Upload"],[1,"form-control-customitem","form-control"],["type","file","title","Choose file","formControlName","signature_Upload","id","signature_Upload","name","signature_Upload","multiple","",3,"ngClass","change"],["for","signature_Upload",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["class","spinner__loading pt-3",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"col-7","mt-1",3,"ngClass"],["src","assets/images/signature.jpg",3,"ngStyle"],["class","text-end mx-lg-4 my-3",4,"ngIf"],["class","text-end mx-4 my-3",4,"ngIf"],["headerReview","Risk Review & Inputs","formname","signature",3,"formId","companyId",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner__loading","pt-3"],["diameter","18","mode","indeterminate",1,"mt-1"],[1,"file-tag"],["target","_blank",3,"href"],[1,"file-close","text-white",3,"click"],[1,"text-end","mx-lg-4","my-3"],[1,"btn","float-start","btn","default-btn",3,"click"],["type","button",1,"btn","ml-4","default-btn",3,"click"],["type","button",1,"btn","mx-2","default-btn",3,"click"],[1,"text-end","mx-4","my-3"],[1,"btn","btn-success","mx-2","default-btn",3,"click"],["headerReview","Risk Review & Inputs","formname","signature",3,"formId","companyId"]],template:function(e,t){1&e&&(s.Vb(0,"div",0),s.Vb(1,"div",1),s.Vb(2,"div",2),s.Vb(3,"div",1),s.Vb(4,"form",3),s.cc("ngSubmit",function(){return t.submit()}),s.Vb(5,"div",4),s.Vb(6,"h3"),s.Dc(7,"Messer Construction requires that you do the following in this section:"),s.Ub(),s.Vb(8,"ul",5),s.Vb(9,"li"),s.Dc(10,"Download and print the signature form"),s.Ub(),s.Vb(11,"li"),s.Dc(12,"Fill in the required info asked"),s.Ub(),s.Vb(13,"li"),s.Dc(14,"Sign the signature form"),s.Ub(),s.Vb(15,"li"),s.Dc(16,"Get notarization on the signature page"),s.Ub(),s.Vb(17,"li"),s.Dc(18,"Upload the signed and notarized signature form in the attachment section below."),s.Ub(),s.Ub(),s.Ub(),s.Vb(19,"div",6),s.Vb(20,"div",7),s.Vb(21,"div",8),s.Vb(22,"div",9),s.Vb(23,"h5",10),s.Vb(24,"a",11),s.Dc(25,"Click here"),s.Ub(),s.Dc(26," to download the form"),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(27,"div",7),s.Vb(28,"div",12),s.Vb(29,"div"),s.Vb(30,"label",13),s.Dc(31,"Attach your signed signature form below: "),s.Ub(),s.Vb(32,"div",14),s.Vb(33,"input",15),s.cc("change",function(e){return t.qcpUpload(e)}),s.Ub(),s.Vb(34,"span",16),s.Dc(35,' \xa0Choose Files with "Click to Add Files"'),s.Ub(),s.Ub(),s.Bc(36,_l,2,1,"div",17),s.Bc(37,vl,4,0,"div",18),s.Bc(38,yl,7,2,"div",19),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(39,"div",20),s.Qb(40,"img",21),s.Ub(),s.Ub(),s.Vb(41,"div",1),s.Bc(42,Vl,7,1,"div",22),s.Bc(43,Ul,5,0,"div",23),s.Ub(),s.Ub(),s.Bc(44,Dl,1,2,"app-comment",24)),2&e&&(s.Db(4),s.mc("formGroup",t.signatureForm)("ngClass",s.pc(15,Cl,t.showdisabled)),s.Db(20),s.mc("ngClass",s.pc(17,Cl,t.showdisabled))("ngStyle",s.pc(19,Il,t.showdisabled?"none":"auto")),s.Db(9),s.mc("ngClass",s.pc(21,Rl,t.submitted&&t.f.signature_Upload.errors)),s.Eb("disabled",t.showdisabled?"":null),s.Db(1),s.mc("ngClass",s.pc(23,Cl,1==t.showdisabled)),s.Db(2),s.mc("ngIf",t.submitted&&t.f.signature_Upload.errors),s.Db(1),s.mc("ngIf",null==t.spinner?null:t.spinner.qcpSpinner),s.Db(1),s.mc("ngForOf",t.signatureAttachment),s.Db(1),s.mc("ngClass",s.pc(25,Cl,t.showdisabled)),s.Db(1),s.mc("ngStyle",s.pc(27,wl,t.showdisabled?"0.4":"")),s.Db(2),s.mc("ngIf",!(t.showAdmin||t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status)),s.Db(1),s.mc("ngIf",!t.showAdmin&&t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status||t.showAdmin),s.Db(1),s.mc("ngIf","Subcontractor"!=t.userRole&&"Prequal form submitted and under quality check"!=t.prequalification_status))},directives:[n.v,n.k,n.g,o.j,o.m,n.b,n.j,n.f,o.l,o.k,P.a,G],styles:[".col-curve-top[_ngcontent-%COMP%]{border-top:6px solid #c3bdbd!important}.col-curve[_ngcontent-%COMP%], .col-curve-top[_ngcontent-%COMP%]{border-radius:18px 19px!important}.minheight[_ngcontent-%COMP%]{min-height:400px}.bg-grey[_ngcontent-%COMP%]{color:#c7bfbf!important}.red[_ngcontent-%COMP%]{color:red}"]}),e})(),Sl=(()=>{class e extends A.a{constructor(e,t){super("Summary",e,t,{root:j.a.webserviceURlLocal})}getAll(){return super.getAll()}getRecords(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("Summary/"+e,j.a.webserviceURlLocal);return this.http.get(i,t)}updateRecord(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("Summary/"+t,j.a.webserviceURlLocal);return this.http.put(o,e,i)}addRecord(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("Summary",j.a.webserviceURlLocal);return this.http.post(i,e,t)}deleteRecord(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.delete(j.a.webserviceURlLocal+"Summary/"+e,t)}}return e.\u0275fac=function(t){return new(t||e)(s.Zb(O.b),s.Zb(A.c))},e.\u0275prov=s.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function kl(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Project Name/ Number is required "),s.Ub())}function xl(e,t){if(1&e&&(s.Vb(0,"div",112),s.Bc(1,kl,2,0,"div",113),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.summary.controls.project_Name.errors.required)}}function Pl(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Value of subcontract is required"),s.Ub())}function jl(e,t){if(1&e&&(s.Vb(0,"div",112),s.Bc(1,Pl,2,0,"div",113),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.summary.controls.project_value_Detail.errors.required)}}function Al(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Project Notes is required"),s.Ub())}function Ol(e,t){if(1&e&&(s.Vb(0,"div",112),s.Bc(1,Al,2,0,"div",113),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.summary.controls.project_Notes.errors.required)}}function El(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Notes on Grade Change is required"),s.Ub())}function Ml(e,t){if(1&e&&(s.Vb(0,"div",112),s.Bc(1,El,2,0,"div",113),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.summary.controls.grade_Notes.errors.required)}}function Nl(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Risk Inputs on Safety Review is required"),s.Ub())}function Bl(e,t){if(1&e&&(s.Vb(0,"div",112),s.Bc(1,Nl,2,0,"div",113),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.summary.controls.risk_Inputs.errors.required)}}function ql(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1," Proposed Risk Mitigation is required"),s.Ub())}function Tl(e,t){if(1&e&&(s.Vb(0,"div",112),s.Bc(1,ql,2,0,"div",113),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.riskReview.controls.risk_Mitigation.errors.required)}}function Ll(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1," Proposed Risk Mitigation is required"),s.Ub())}function Yl(e,t){if(1&e&&(s.Vb(0,"div",112),s.Bc(1,Ll,2,0,"div",113),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.riskReview.controls.financial_Types.errors.required)}}function zl(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Date of subcontractor financials is required"),s.Ub())}function Gl(e,t){if(1&e&&(s.Vb(0,"div",112),s.Bc(1,zl,2,0,"div",113),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.riskReview.controls.date_Of_Financials.errors.required)}}function Ql(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"CSRT Single Limit is required "),s.Ub())}function $l(e,t){if(1&e&&(s.Vb(0,"div",112),s.Bc(1,Ql,2,0,"div",113),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.riskReview.controls.csrt_Single_Limit.errors.required)}}function Wl(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"CSRT Aggregate Limit is required "),s.Ub())}function Hl(e,t){if(1&e&&(s.Vb(0,"div",112),s.Bc(1,Wl,2,0,"div",113),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.riskReview.controls.csrt_Aggregate_Limit.errors.required)}}function Zl(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Years of Operations is required"),s.Ub())}function Kl(e,t){if(1&e&&(s.Vb(0,"div",112),s.Bc(1,Zl,2,0,"div",113),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.riskReview.controls.operational_Years.errors.required)}}function Jl(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Largest Indicated Job is required"),s.Ub())}function Xl(e,t){if(1&e&&(s.Vb(0,"div",112),s.Bc(1,Jl,2,0,"div",113),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.riskReview.controls.largest_Indicated.errors.required)}}function ed(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1," Bondable is required"),s.Ub())}function td(e,t){if(1&e&&(s.Vb(0,"div",112),s.Bc(1,ed,2,0,"div",113),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.riskReview.controls.bondable.errors.required)}}function id(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Bondable Single Limit is required "),s.Ub())}function od(e,t){if(1&e&&(s.Vb(0,"div",112),s.Bc(1,id,2,0,"div",113),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.riskReview.controls.bondable_Single_Limit.errors.required)}}function nd(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Bondable Aggregate Limit is required "),s.Ub())}function rd(e,t){if(1&e&&(s.Vb(0,"div",112),s.Bc(1,nd,2,0,"div",113),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.riskReview.controls.bondable_Aggregate_Limit.errors.required)}}function ad(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Signature Page is required"),s.Ub())}function sd(e,t){if(1&e&&(s.Vb(0,"div",112),s.Bc(1,ad,2,0,"div",113),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.riskReview.controls.signature_Page.errors.required)}}function cd(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Red Flags Notes is required"),s.Ub())}function ld(e,t){if(1&e&&(s.Vb(0,"div",112),s.Bc(1,cd,2,0,"div",113),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.riskReview.controls.red_Flags.errors.required)}}function dd(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Red Flags D&B Notes is required"),s.Ub())}function ud(e,t){if(1&e&&(s.Vb(0,"div",112),s.Bc(1,dd,2,0,"div",113),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.riskReview.controls.red_Flags_DB.errors.required)}}function bd(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1," Risk Financial Grade is required"),s.Ub())}function pd(e,t){if(1&e&&(s.Vb(0,"div",112),s.Bc(1,bd,2,0,"div",113),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.riskReview.controls.financial_Grade.errors.required)}}function md(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Risk Financial Grade Notes is required"),s.Ub())}function fd(e,t){if(1&e&&(s.Vb(0,"div",112),s.Bc(1,md,2,0,"div",113),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.riskReview.controls.risk_Financial_Grade_Notes.errors.required)}}function hd(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Prequalification Expiry Date is required"),s.Ub())}function gd(e,t){if(1&e&&(s.Vb(0,"div",112),s.Bc(1,hd,2,0,"div",113),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.riskReview.controls.prequal_Expiry_Date.errors.required)}}function _d(e,t){if(1&e){const e=s.Wb();s.Vb(0,"div",77),s.Vb(1,"button",114),s.cc("click",function(){return s.uc(e),s.gc().saveOrSubmit("REVIEW")}),s.Dc(2,"SEND FOR RISK REVIEW II"),s.Ub(),s.Ub()}}function vd(e,t){1&e&&s.Qb(0,"div",28)}const yd=function(e){return{"is-invalid":e}};let Vd=(()=>{class e{constructor(e,t,i,o,r,a,s,c,l){this.formBuilder=e,this.router=t,this.bnIdle=i,this.keepalive=o,this.toastr=r,this.financialservice=a,this.logininfo=s,this.ngxUiLoader=c,this.summaryservice=l,this.userRole="",this.tempcompanyid=0,this.showdisabled=!1,this.preQualificationStatus="",this.riskReview=this.formBuilder.group({risk_Mitigation:["",[n.u.required]],financial_Types:["",[n.u.required]],date_Of_Financials:["",[n.u.required]],csrt_Single_Limit:["",[n.u.required]],csrt_Aggregate_Limit:["",[n.u.required]],operational_Years:["",[n.u.required]],largest_Indicated:["",[n.u.required]],bondable:["",[n.u.required]],bondable_Single_Limit:["",[n.u.required]],bondable_Aggregate_Limit:["",[n.u.required]],signature_Page:["",[n.u.required]],red_Flags:["",[n.u.required]],red_Flags_DB:["",[n.u.required]],financial_Grade:["",[n.u.required]],risk_Financial_Grade_Notes:["",[n.u.required]],prequal_Expiry_Date:["",[n.u.required]]}),this.summary=this.formBuilder.group({id:0,companyId:null,project_Name:["",[n.u.required]],project_value_Detail:["",[n.u.required]],project_Notes:["",[n.u.required]],work_Type:["",[]],safety_Grade_Cal:["",[]],safety_Grade_Selc:["",[]],grade_Notes:["",[n.u.required]],safety_Notes:["",[]],risk_Inputs:["",[n.u.required]]}),this.automatedReview=this.formBuilder.group({financial_Grade:["",[]],prev_year_CSRT_Single:["",[n.u.required]],prev_year_CSRT_Agg:["",[n.u.required]],anticipated_work_Size:["",[]],cash_hand:["",[]],working_Capital:["",[]],net_Income:["",[]],annual_Revenue:["",[]],net_Worth:["",[]],credit_line:["",[]],credit_line_Pecentage:["",[]],net_Cash:["",[]],underbillings:["",[]],ppp_Loan:["",[]],paydex_Score:["",[]]});let d=localStorage.getItem("userDetails");d=JSON.parse(atob(d));var u=localStorage.getItem("preQualStatus");u&&(u=atob(u),this.preQualificationStatus=u),this.userDetails=d,this.userRole=d.role;let b=localStorage.getItem("tempcompanyid");this.tempcompanyid=Number(b?atob(b):0),localStorage.setItem("currPage","summary"),(this.preQualificationStatus="Risk Review II")&&(this.showdisabled="Subcontractor"!=this.userRole&&"Risk 1"!=this.userRole),console.log(this.tempcompanyid),this.tempcompanyid>0&&"Subcontractor"!=this.userRole&&this.getRecords(this.tempcompanyid)}getRecords(e){this.summaryservice.getRecords(e).subscribe(e=>{console.log(e),e.length>0&&(this.setFormData(e[0]),this.summaryData=e[0])})}saveOrSubmit(e){if(this.summary.valid&&this.riskReview.valid){var t=[],i=this.formMethod();if(t.push(0==this.summary.value.id?this.summaryservice.addRecord(i):this.summaryservice.updateRecord(i,this.summary.value.id)),"SAVE"!=e){var o="REVIEW"==e?"Under Risk Review II":"Reviewed & Prequalified",n=new FormData;n.append("preQualification_Status",this.logininfo.validateEmpty(o)),n.append("Approved_Date",(new Date).toLocaleString()),n.append("User_Type",this.userRole),t.push(this.financialservice.updateOrgRecord(n,this.tempcompanyid)),Object(Rt.a)(t).subscribe(e=>{this.toastr.success("Summary Information saved successfully","Summary"),this.router.navigate(["home"])},e=>{console.log(e)})}else Object(Rt.a)(t).subscribe(e=>{this.toastr.success("Risk Summary Information saved successfully","Risk Summary"),this.getRecords(this.tempcompanyid)},e=>{console.log(e)})}}setFormData(e){if(e){var t=e.summary;t&&(this.summary.patchValue({id:t.id,companyId:this.tempcompanyid,project_Name:this.logininfo.validateEmpty(t.projectName),project_value_Detail:this.logininfo.validateEmpty(t.subContractValue).toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","),project_Notes:this.logininfo.validateEmpty(t.projectNotes),grade_Notes:this.logininfo.validateEmpty(t.gradeChangeNotes),risk_Inputs:this.logininfo.validateEmpty(t.safetyReviewRiskInput)}),this.riskReview.patchValue({risk_Mitigation:this.logininfo.validateEmpty(t.proposedRiskMigration),financial_Types:this.logininfo.validateEmpty(t.typeOfFinancials),date_Of_Financials:this.logininfo.validateEmpty(t.dateOfSubFinancials).split("T")[0],csrt_Single_Limit:this.logininfo.validateEmpty(t.csrtSingleLimit).toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","),csrt_Aggregate_Limit:this.logininfo.validateEmpty(t.csrtAggLimit).toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","),operational_Years:this.logininfo.validateEmpty(t.yearOfWork),largest_Indicated:this.logininfo.validateEmpty(t.largestIndicatedJob).toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","),bondable:this.logininfo.validateEmpty(t.bondable),bondable_Single_Limit:this.logininfo.validateEmpty(t.bondableSingleLimit).toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","),bondable_Aggregate_Limit:this.logininfo.validateEmpty(t.bondableAggLimit).toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","),signature_Page:this.logininfo.validateEmpty(t.signaturePage),red_Flags:this.logininfo.validateEmpty(t.redFlagsNotes),red_Flags_DB:this.logininfo.validateEmpty(t.redFlagsDBNotes),financial_Grade:this.logininfo.validateEmpty(t.riskFinancialGrade),risk_Financial_Grade_Notes:this.logininfo.validateEmpty(t.riskFinancialGradeNotes),prequal_Expiry_Date:this.logininfo.validateEmpty(t.prequalificationExpiryDate).split("T")[0]})),this.summary.patchValue({work_Type:this.logininfo.validateEmpty(e.workTypes),safety_Grade_Cal:this.logininfo.validateEmpty(e.safetyGradeCalculated),safety_Grade_Selc:this.logininfo.validateEmpty(e.safetyGradeSelected),safety_Notes:this.logininfo.validateEmpty(e.safetyReviewNotes)}),this.automatedReview.patchValue({financial_Grade:this.logininfo.validateEmpty(e.financialGrade),prev_year_CSRT_Single:this.logininfo.validateEmpty(e.prevCSRT).toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","),prev_year_CSRT_Agg:this.logininfo.validateEmpty(e.prevCSRTAggLimit).toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","),anticipated_work_Size:this.logininfo.validateEmpty(e.sizeOfWork),cash_hand:this.logininfo.validateEmpty(e.cashOnHand).toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","),working_Capital:this.logininfo.validateEmpty(e.workCapital).toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","),net_Income:this.logininfo.validateEmpty(e.netIncome).toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","),annual_Revenue:this.logininfo.validateEmpty(e.quarterOfAnnualRevenue).toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","),net_Worth:this.logininfo.validateEmpty(e.netWorth).toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","),credit_line:this.logininfo.validateEmpty(e.unusedLOC).toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","),credit_line_Pecentage:this.logininfo.validateEmpty(e.unusedLOCPercentage),net_Cash:this.logininfo.validateEmpty(e.netCashPercentage),underbillings:this.logininfo.validateEmpty(e.underbilling),ppp_Loan:this.logininfo.validateEmpty(e.pppLoan).toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","),paydex_Score:this.logininfo.validateEmpty(e.payDex)})}}ngOnInit(){}formMethod(){var e=new FormData;return e.append("Summary.Id",this.summary.value.id),e.append("Summary.CompanyId",String(this.tempcompanyid)),e.append("Summary.ProjectName",this.logininfo.validateEmpty(this.summary.value.project_Name)),e.append("Summary.ProjectNotes",this.logininfo.validateEmpty(this.summary.value.project_Notes)),e.append("Summary.SubContractValue",this.logininfo.validateEmpty(this.summary.value.project_value_Detail).replace(",","")),e.append("Summary.GradeChangeNotes",this.logininfo.validateEmpty(this.summary.value.grade_Notes)),e.append("Summary.SafetyReviewRiskInput",this.logininfo.validateEmpty(this.summary.value.risk_Inputs)),e.append("Summary.ProposedRiskMigration",this.logininfo.validateEmpty(this.riskReview.value.risk_Mitigation)),e.append("Summary.TypeOfFinancials",this.logininfo.validateEmpty(this.riskReview.value.financial_Types)),e.append("Summary.DateOfSubFinancials",this.logininfo.validateEmpty(this.riskReview.value.date_Of_Financials)),e.append("Summary.CSRTSingleLimit",this.logininfo.validateEmpty(this.riskReview.value.csrt_Single_Limit).replace(",","")),e.append("Summary.CSRTAggLimit",this.logininfo.validateEmpty(this.riskReview.value.csrt_Aggregate_Limit).replace(",","")),e.append("Summary.YearOfWork",this.logininfo.validateEmpty(this.riskReview.value.operational_Years)),e.append("Summary.LargestIndicatedJob",this.logininfo.validateEmpty(this.riskReview.value.largest_Indicated).replace(",","")),e.append("Summary.Bondable",this.logininfo.validateEmpty(this.riskReview.value.bondable)),e.append("Summary.BondableSingleLimit",this.logininfo.validateEmpty(this.riskReview.value.bondable_Single_Limit).replace(",","")),e.append("Summary.BondableAggLimit",this.logininfo.validateEmpty(this.riskReview.value.bondable_Aggregate_Limit).replace(",","")),e.append("Summary.SignaturePage",this.logininfo.validateEmpty(this.riskReview.value.signature_Page)),e.append("Summary.RedFlagsNotes",this.logininfo.validateEmpty(this.riskReview.value.red_Flags)),e.append("Summary.RedFlagsDBNotes",this.logininfo.validateEmpty(this.riskReview.value.red_Flags_DB)),e.append("Summary.RiskFinancialGrade",this.logininfo.validateEmpty(this.riskReview.value.financial_Grade)),e.append("Summary.RiskFinancialGradeNotes",this.logininfo.validateEmpty(this.riskReview.value.risk_Financial_Grade_Notes)),e.append("Summary.PrequalificationExpiryDate",this.logininfo.validateEmpty(this.riskReview.value.prequal_Expiry_Date)),e}getDefaultValue(e,t){var i=this.logininfo.validateEmpty(e);return""!=i?i:this.summaryData[t]}idleReset(){}CommaFormatted(e,t,i){var o,n;e.AT_TARGET>=37&&e.AT_TARGET<=40||i.patchValue({[t]:null===(n=null===(o=i.get(t))||void 0===o?void 0:o.value)||void 0===n?void 0:n.replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,",")})}numberCheck(e){return"e"!==e.key&&"+"!==e.key&&"-"!==e.key}}return e.\u0275fac=function(t){return new(t||e)(s.Pb(n.d),s.Pb(r.f),s.Pb(l.a),s.Pb(u.a),s.Pb(f.b),s.Pb(Ii),s.Pb(_),s.Pb(v.c),s.Pb(Sl))},e.\u0275cmp=s.Jb({type:e,selectors:[["app-summary"]],decls:411,vars:113,consts:[[1,"col-lg-12","px-2","py-2","my-2","form-bg"],[1,"form-group","input-group","row"],[1,"col-lg-12","py-1","mx-auto"],[1,"row"],[1,"col-lg-12"],[1,"row","col-curve-top","bg-white","mx-0","px-0","pt-2","pb-3"],[3,"formGroup","keydown.enter"],[1,"row","pt-1"],[1,"col-5"],[1,"row","pt-2"],[1,"col-7"],["for","project_Name",1,"my-auto","font-italic"],[1,"text-danger"],["type","text","formControlName","project_Name","id","project-Name","name","project_Name",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","project_value_Detail",1,"my-auto","font-italic"],["type","text","formControlName","project_value_Detail","id","project_value_Detail","name","project_value_Detail",1,"form-control",3,"ngClass","keydown","keyup"],[1,"row",2,"height","100%"],[1,"col-3","pt-2",2,"padding-left","0%","padding-right","0%","max-width","21%"],[1,"col-8","pt-2"],["type","text","formControlName","project_Notes","id","project_Notes","name","project_Notes",1,"form-control",2,"height","100%","width","95%",3,"ngClass"],[1,"row","pt-3"],[1,"col-3"],["for","work_Type",1,"my-auto","font-italic"],[1,"col-8"],["type","text","formControlName","work_Type","id","work_Type","name","work_Type","readonly","",1,"form-control",3,"ngModelChange"],["for","safety_Grade_Cal",1,"my-auto","font-italic"],["type","text","formControlName","safety_Grade_Cal","id","safety_Grade_Cal","name","safety_Grade_Cal","readonly","",1,"form-control"],[1,"col-2"],["for","safety_Grade_Selc",1,"my-auto","font-italic"],["type","text","formControlName","safety_Grade_Selc","id","safety_Grade_Selc","name","safety_Grade_Selc","readonly","",1,"form-control"],["for","grade_Notes",1,"my-auto","font-italic","float-right"],["type","text","formControlName","grade_Notes","id","grade_Notes","name","grade_Notes",1,"form-control",3,"ngClass","ngModelChange"],["for","safety_Notes",1,"my-auto","font-italic","float-right"],["type","text","formControlName","safety_Notes","id","safety_Notes","name","safety_Notes","readonly","",1,"form-control",3,"ngModelChange"],["for","risk_Inputs",1,"my-auto","font-italic","float-right"],["type","text","formControlName","risk_Inputs","id","risk_Inputs","name","risk_Inputs",1,"form-control",3,"ngClass","ngModelChange"],[1,"row","pt-5"],[1,"col-6","pull-left","pt-1"],[1,"fw-bold"],["for","financial_Grade",1,"my-auto","font-italic"],["type","text","formControlName","financial_Grade","id","financial_Grade","name","financial_Grade","readonly","",1,"form-control",3,"ngModelChange"],[1,"my-auto","font-italic"],["type","text","formControlName","prev_year_CSRT_Single","id","prev_year_CSRT_Single","name","prev_year_CSRT_Single","readonly","",1,"form-control"],["type","text","formControlName","prev_year_CSRT_Agg","id","prev_year_CSRT_Agg","name","prev_year_CSRT_Agg","readonly","",1,"form-control"],["for","anticipated_work_Size",1,"my-auto","font-italic"],["type","text","formControlName","anticipated_work_Size","id","anticipated_work_Size","name","anticipated_work_Size","readonly","",1,"form-control",3,"ngModelChange"],["for","cash_hand",1,"my-auto","font-italic"],["type","text","formControlName","cash_hand","id","cash_hand","name","cash_hand","readonly","",1,"form-control",3,"ngModelChange"],["for","working_Capital",1,"my-auto","font-italic"],["type","text","formControlName","working_Capital","id","working_Capital","name","working_Capital","readonly","",1,"form-control",3,"ngModelChange"],["for","net_Income",1,"my-auto","font-italic"],["type","text","formControlName","net_Income","id","net_Income","name","net_Income","readonly","",1,"form-control",3,"ngModelChange"],["for","annual_Revenue",1,"my-auto","font-italic"],["type","text","formControlName","annual_Revenue","id","annual_Revenue","name","annual_Revenue","readonly","",1,"form-control",3,"ngModelChange"],["for","net_Worth",1,"my-auto","font-italic"],["type","text","formControlName","net_Worth","id","net_Worth","name","net_Worth","readonly","",1,"form-control",3,"ngModelChange"],["for","credit_line",1,"my-auto","font-italic"],["type","text","formControlName","credit_line","id","credit_line","name","credit_line","readonly","",1,"form-control",3,"ngModelChange"],["for","credit_line_Pecentage",1,"my-auto","font-italic"],["type","text","formControlName","credit_line_Pecentage","id","credit_line_Pecentage","name","credit_line_Pecentage","readonly","",1,"form-control",3,"ngModelChange"],["for","net_Cash",1,"my-auto","font-italic"],["type","text","formControlName","net_Cash","id","net_Cash","name","net_Cash","readonly","",1,"form-control",3,"ngModelChange"],["for","underbillings",1,"my-auto","font-italic"],["type","text","formControlName","underbillings","id","underbillings","name","underbillings","readonly","",1,"form-control",3,"ngModelChange"],["for","ppp_Loan",1,"my-auto","font-italic"],["type","text","formControlName","ppp_Loan","id","ppp_Loan","name","ppp_Loan","readonly","",1,"form-control",3,"ngModelChange"],["for","paydex_Score",1,"my-auto","font-italic"],["type","text","formControlName","paydex_Score","id","paydex_Score","name","paydex_Score","readonly","",1,"form-control",3,"ngModelChange"],["for","risk_Mitigation",1,"my-auto","font-italic"],["formControlName","risk_Mitigation","id","risk_Mitigation","name","risk_Mitigation",1,"form-control","form-select",3,"ngClass","ngModelChange"],[3,"ngValue"],["for","financial_Types",1,"my-auto","font-italic"],["formControlName","financial_Types","id","financial_Types","name","financial_Types",1,"form-control","form-select",3,"ngClass","ngModelChange"],[1,"col-3","my-auto"],["for","date_Of_Financials",1,"my-auto","font-italic"],["type","date","row","5","formControlName","date_Of_Financials","id","date_Of_Financials","name","date_Of_Financials",1,"form-control",3,"ngClass","ngModelChange"],[1,"col-4"],["for","csrt_Single_Limit",1,"my-auto","font-italic"],["type","text","formControlName","csrt_Single_Limit","id","csrt_Single_Limit","name","csrt_Single_Limit",1,"form-control",3,"ngClass","keydown","keyup"],["for","csrt_Aggregate_Limit",1,"my-auto","font-italic"],["type","text","formControlName","csrt_Aggregate_Limit","id","csrt_Aggregate_Limit","name","csrt_Aggregate_Limit",1,"form-control",3,"ngClass","keydown","keyup"],["for","operational_Years",1,"my-auto","font-italic","float-right"],["type","number","formControlName","operational_Years","id","operational_Years","name","operational_Years",1,"form-control",3,"ngClass","ngModelChange"],["for","largest_Indicated",1,"my-auto","font-italic","float-right"],["type","text","formControlName","largest_Indicated","id","largest_Indicated","name","largest_Indicated",1,"form-control",3,"ngClass","ngModelChange","keydown","keyup"],["for","bondable",1,"my-auto","font-italic"],["formControlName","bondable","id","bondable","name","bondable",1,"form-control","form-select",3,"ngClass","ngModelChange"],["for","bondable_Single_Limit",1,"my-auto","font-italic"],["type","text","formControlName","bondable_Single_Limit","id","bondable_Single_Limit","name","bondable_Single_Limit",1,"form-control",3,"ngClass","keydown","keyup"],["for","bondable_Aggregate_Limit",1,"my-auto","font-italic"],["type","text","formControlName","bondable_Aggregate_Limit","id","bondable_Aggregate_Limit","name","bondable_Aggregate_Limit",1,"form-control",3,"ngClass","keydown","keyup"],["for","signature_Page",1,"my-auto","font-italic","float-right"],["type","text","formControlName","signature_Page","id","signature_Page","name","signature_Page",1,"form-control",3,"ngClass","ngModelChange"],["for","red_Flags",1,"my-auto","font-italic","float-right"],["type","text","formControlName","red_Flags","id","red_Flags","name","red_Flags",1,"form-control",3,"ngClass","ngModelChange"],["for","red_Flags_DB",1,"my-auto","font-italic","float-right"],["type","text","formControlName","red_Flags_DB","id","red_Flags_DB","name","red_Flags_DB",1,"form-control",3,"ngClass","ngModelChange"],["for","financial_Grade",1,"my-auto","font-italic","float-right"],["formControlName","financial_Grade","id","financial_Grade","name","financial_Grade",1,"form-control","form-select",3,"ngClass","ngModelChange"],["for","risk_Financial_Grade_Notes",1,"my-auto","font-italic","float-right"],["type","text","formControlName","risk_Financial_Grade_Notes","id","risk_Financial_Grade_Notes","name","risk_Financial_Grade_Notes",1,"form-control",3,"ngClass","ngModelChange"],["for","prequal_Expiry_Date",1,"my-auto","font-italic"],["type","date","row","5","formControlName","prequal_Expiry_Date","id","prequal_Expiry_Date","name","prequal_Expiry_Date",1,"form-control",3,"ngClass","ngModelChange"],[1,"row","text-end","mx-lg-4","my-3"],[1,"btn","float-start","btn","default-btn"],[1,"col-6"],["type","button",1,"btn","mx-2","default-btn",3,"click"],[1,"row","text-end","mx-4","my-3"],["class","col-4",4,"ngIf"],["class","col-2",4,"ngIf"],[1,"btn","btn-success","default-btn",3,"click"],[1,"invalid-feedback"],[4,"ngIf"],[1,"btn","float-start","btn","default-btn",3,"click"]],template:function(e,t){1&e&&(s.Vb(0,"div",0),s.Vb(1,"div",1),s.Vb(2,"div",2),s.Tb(3),s.Vb(4,"div",3),s.Vb(5,"div",4),s.Vb(6,"div",5),s.Vb(7,"form",6),s.cc("keydown.enter",function(e){return e.preventDefault()}),s.Vb(8,"div",7),s.Vb(9,"div",8),s.Vb(10,"div",9),s.Vb(11,"div",10),s.Vb(12,"label",11),s.Dc(13,"Project Name/ Number "),s.Vb(14,"span",12),s.Dc(15,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(16,"div",8),s.Qb(17,"input",13),s.Bc(18,xl,2,1,"div",14),s.Ub(),s.Ub(),s.Vb(19,"div",9),s.Vb(20,"div",10),s.Vb(21,"label",15),s.Dc(22," Value of Subcontract"),s.Vb(23,"span",12),s.Dc(24,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(25,"div",8),s.Vb(26,"input",16),s.cc("keydown",function(e){return t.numberCheck(e)})("keyup",function(e){return t.CommaFormatted(e,"project_value_Detail",t.summary)}),s.Ub(),s.Bc(27,jl,2,1,"div",14),s.Ub(),s.Ub(),s.Ub(),s.Vb(28,"div",10),s.Vb(29,"div",17),s.Vb(30,"div",18),s.Vb(31,"label",15),s.Dc(32,"Project Related Notes"),s.Vb(33,"span",12),s.Dc(34,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(35,"div",19),s.Vb(36,"textarea",20),s.Dc(37,"                                                    "),s.Ub(),s.Bc(38,Ol,2,1,"div",14),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(39,"div",21),s.Vb(40,"div",22),s.Vb(41,"label",23),s.Dc(42,"Types of Work Performed "),s.Ub(),s.Ub(),s.Vb(43,"div",24),s.Vb(44,"textarea",25),s.cc("ngModelChange",function(){return t.idleReset()}),s.Dc(45,"                                            "),s.Ub(),s.Ub(),s.Ub(),s.Vb(46,"div",21),s.Vb(47,"div",22),s.Vb(48,"label",26),s.Dc(49,"Safety Grade Calculated"),s.Ub(),s.Ub(),s.Vb(50,"div",22),s.Qb(51,"input",27),s.Ub(),s.Vb(52,"div",28),s.Vb(53,"label",29),s.Dc(54," Safety Grade Selected by Safety Reviewer"),s.Ub(),s.Ub(),s.Vb(55,"div",22),s.Qb(56,"input",30),s.Ub(),s.Ub(),s.Vb(57,"div",21),s.Vb(58,"div",22),s.Vb(59,"label",31),s.Dc(60,"Notes on Grade Change"),s.Vb(61,"span",12),s.Dc(62,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(63,"div",24),s.Vb(64,"textarea",32),s.cc("ngModelChange",function(){return t.idleReset()}),s.Dc(65,"                                        "),s.Ub(),s.Bc(66,Ml,2,1,"div",14),s.Ub(),s.Ub(),s.Vb(67,"div",21),s.Vb(68,"div",22),s.Vb(69,"label",33),s.Dc(70,"Safety Review Notes "),s.Ub(),s.Ub(),s.Vb(71,"div",24),s.Vb(72,"textarea",34),s.cc("ngModelChange",function(){return t.idleReset()}),s.Dc(73,"                                       "),s.Ub(),s.Ub(),s.Ub(),s.Vb(74,"div",21),s.Vb(75,"div",22),s.Vb(76,"label",35),s.Dc(77,"Risk Inputs on Safety Review "),s.Vb(78,"span",12),s.Dc(79,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(80,"div",24),s.Vb(81,"textarea",36),s.cc("ngModelChange",function(){return t.idleReset()}),s.Dc(82,"                                        "),s.Ub(),s.Bc(83,Bl,2,1,"div",14),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(84,"div",37),s.Vb(85,"div",4),s.Vb(86,"div",5),s.Vb(87,"form",6),s.cc("keydown.enter",function(e){return e.preventDefault()}),s.Vb(88,"div",3),s.Vb(89,"div",38),s.Vb(90,"h6",39),s.Dc(91,"Automated Risk Review - Summary "),s.Ub(),s.Ub(),s.Ub(),s.Vb(92,"div",21),s.Vb(93,"div",22),s.Vb(94,"label",40),s.Dc(95,"Financial Grade "),s.Ub(),s.Ub(),s.Vb(96,"div",24),s.Vb(97,"input",41),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Ub(),s.Ub(),s.Vb(98,"div",21),s.Vb(99,"div",22),s.Vb(100,"label",42),s.Dc(101,"Previous Year CSRT"),s.Ub(),s.Ub(),s.Vb(102,"div",22),s.Qb(103,"input",43),s.Ub(),s.Vb(104,"div",28),s.Vb(105,"label",29),s.Dc(106," Aggregate limit"),s.Ub(),s.Ub(),s.Vb(107,"div",22),s.Qb(108,"input",44),s.Ub(),s.Ub(),s.Vb(109,"div",21),s.Vb(110,"div",22),s.Vb(111,"label",45),s.Dc(112,"Anticipated Size of Work"),s.Ub(),s.Ub(),s.Vb(113,"div",24),s.Vb(114,"input",46),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Ub(),s.Ub(),s.Vb(115,"div",21),s.Vb(116,"div",22),s.Vb(117,"label",47),s.Dc(118,"Cash on Hand"),s.Ub(),s.Ub(),s.Vb(119,"div",24),s.Vb(120,"input",48),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Ub(),s.Ub(),s.Vb(121,"div",21),s.Vb(122,"div",22),s.Vb(123,"label",49),s.Dc(124,"Working Capital"),s.Ub(),s.Ub(),s.Vb(125,"div",24),s.Vb(126,"input",50),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Ub(),s.Ub(),s.Vb(127,"div",21),s.Vb(128,"div",22),s.Vb(129,"label",51),s.Dc(130,"Net Income"),s.Ub(),s.Ub(),s.Vb(131,"div",24),s.Vb(132,"input",52),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Ub(),s.Ub(),s.Vb(133,"div",21),s.Vb(134,"div",22),s.Vb(135,"label",53),s.Dc(136,"25% * Annual Revenue"),s.Ub(),s.Ub(),s.Vb(137,"div",24),s.Vb(138,"input",54),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Ub(),s.Ub(),s.Vb(139,"div",21),s.Vb(140,"div",22),s.Vb(141,"label",55),s.Dc(142,"Net Worth"),s.Ub(),s.Ub(),s.Vb(143,"div",24),s.Vb(144,"input",56),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Ub(),s.Ub(),s.Vb(145,"div",21),s.Vb(146,"div",22),s.Vb(147,"label",57),s.Dc(148,"Unused Line of Credit"),s.Ub(),s.Ub(),s.Vb(149,"div",24),s.Vb(150,"input",58),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Ub(),s.Ub(),s.Vb(151,"div",21),s.Vb(152,"div",22),s.Vb(153,"label",59),s.Dc(154,"Unused Line of Credit %"),s.Ub(),s.Ub(),s.Vb(155,"div",24),s.Vb(156,"input",60),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Ub(),s.Ub(),s.Vb(157,"div",21),s.Vb(158,"div",22),s.Vb(159,"label",61),s.Dc(160,"Net Cash % "),s.Ub(),s.Ub(),s.Vb(161,"div",24),s.Vb(162,"input",62),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Ub(),s.Ub(),s.Vb(163,"div",21),s.Vb(164,"div",22),s.Vb(165,"label",63),s.Dc(166,"Underbillings as a % of Total Assets "),s.Ub(),s.Ub(),s.Vb(167,"div",24),s.Vb(168,"input",64),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Ub(),s.Ub(),s.Vb(169,"div",21),s.Vb(170,"div",22),s.Vb(171,"label",65),s.Dc(172,"PPP Loan"),s.Ub(),s.Ub(),s.Vb(173,"div",24),s.Vb(174,"input",66),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Ub(),s.Ub(),s.Vb(175,"div",21),s.Vb(176,"div",22),s.Vb(177,"label",67),s.Dc(178,"Paydex Score"),s.Ub(),s.Ub(),s.Vb(179,"div",24),s.Vb(180,"input",68),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(181,"div",37),s.Vb(182,"div",4),s.Vb(183,"div",5),s.Vb(184,"form",6),s.cc("keydown.enter",function(e){return e.preventDefault()}),s.Vb(185,"div",21),s.Vb(186,"div",38),s.Vb(187,"h6",39),s.Dc(188,"Risk Reviewer Inputs "),s.Ub(),s.Ub(),s.Ub(),s.Vb(189,"div",21),s.Vb(190,"div",22),s.Vb(191,"label",69),s.Dc(192,"Proposed Risk Mitigation"),s.Vb(193,"span",12),s.Dc(194,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(195,"div",24),s.Vb(196,"select",70),s.cc("ngModelChange",function(){return t.idleReset()}),s.Vb(197,"option",71),s.Dc(198,"None"),s.Ub(),s.Vb(199,"option",71),s.Dc(200,"LTLW"),s.Ub(),s.Vb(201,"option",71),s.Dc(202,"Personal Guarantee"),s.Ub(),s.Vb(203,"option",71),s.Dc(204,"Bond"),s.Ub(),s.Vb(205,"option",71),s.Dc(206,"Parent Guarantee"),s.Ub(),s.Vb(207,"option",71),s.Dc(208,"Joint Checks"),s.Ub(),s.Vb(209,"option",71),s.Dc(210,"Letter of Credit"),s.Ub(),s.Vb(211,"option",71),s.Dc(212,"Related Company Guarantees"),s.Ub(),s.Vb(213,"option",71),s.Dc(214,"Others"),s.Ub(),s.Ub(),s.Bc(215,Tl,2,1,"div",14),s.Ub(),s.Ub(),s.Vb(216,"div",21),s.Vb(217,"div",22),s.Vb(218,"label",72),s.Dc(219,"Type of Financials"),s.Vb(220,"span",12),s.Dc(221,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(222,"div",24),s.Vb(223,"select",73),s.cc("ngModelChange",function(){return t.idleReset()}),s.Vb(224,"option",71),s.Dc(225,"Select"),s.Ub(),s.Vb(226,"option",71),s.Dc(227,"In-house Financials"),s.Ub(),s.Vb(228,"option",71),s.Dc(229,"Reviewed"),s.Ub(),s.Vb(230,"option",71),s.Dc(231,"Compiled"),s.Ub(),s.Vb(232,"option",71),s.Dc(233,"Audited"),s.Ub(),s.Vb(234,"option",71),s.Dc(235,"Tax Returns"),s.Ub(),s.Vb(236,"option",71),s.Dc(237,"Others"),s.Ub(),s.Ub(),s.Bc(238,Yl,2,1,"div",14),s.Ub(),s.Ub(),s.Vb(239,"div",21),s.Vb(240,"div",74),s.Vb(241,"label",75),s.Dc(242,"Date of subcontractor financials "),s.Vb(243,"span",12),s.Dc(244,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(245,"div",24),s.Vb(246,"div"),s.Vb(247,"input",76),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Bc(248,Gl,2,1,"div",14),s.Ub(),s.Ub(),s.Ub(),s.Vb(249,"div",21),s.Vb(250,"div",22),s.Vb(251,"label",26),s.Dc(252,"CSRT "),s.Vb(253,"span",12),s.Dc(254,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(255,"div",77),s.Vb(256,"div",3),s.Vb(257,"div",77),s.Vb(258,"label",78),s.Dc(259,"Single Limit:"),s.Vb(260,"span",12),s.Dc(261,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(262,"div",24),s.Vb(263,"input",79),s.cc("keydown",function(e){return t.numberCheck(e)})("keyup",function(e){return t.CommaFormatted(e,"csrt_Single_Limit",t.riskReview)}),s.Ub(),s.Ub(),s.Bc(264,$l,2,1,"div",14),s.Ub(),s.Ub(),s.Vb(265,"div",77),s.Vb(266,"div",3),s.Vb(267,"div",77),s.Vb(268,"label",80),s.Dc(269,"Aggregate Limit:"),s.Vb(270,"span",12),s.Dc(271,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(272,"div",24),s.Vb(273,"input",81),s.cc("keydown",function(e){return t.numberCheck(e)})("keyup",function(e){return t.CommaFormatted(e,"csrt_Aggregate_Limit",t.riskReview)}),s.Ub(),s.Ub(),s.Bc(274,Hl,2,1,"div",14),s.Ub(),s.Ub(),s.Ub(),s.Vb(275,"div",21),s.Vb(276,"div",22),s.Vb(277,"label",82),s.Dc(278,"Years of Operations"),s.Vb(279,"span",12),s.Dc(280,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(281,"div",24),s.Vb(282,"input",83),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Bc(283,Kl,2,1,"div",14),s.Ub(),s.Ub(),s.Vb(284,"div",21),s.Vb(285,"div",22),s.Vb(286,"label",84),s.Dc(287,"Largest Indicated Job"),s.Vb(288,"span",12),s.Dc(289,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(290,"div",24),s.Vb(291,"input",85),s.cc("ngModelChange",function(){return t.idleReset()})("keydown",function(e){return t.numberCheck(e)})("keyup",function(e){return t.CommaFormatted(e,"largest_Indicated",t.riskReview)}),s.Ub(),s.Bc(292,Xl,2,1,"div",14),s.Ub(),s.Ub(),s.Vb(293,"div",21),s.Vb(294,"div",22),s.Vb(295,"label",86),s.Dc(296,"Bondable "),s.Vb(297,"span",12),s.Dc(298,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(299,"div",28),s.Vb(300,"select",87),s.cc("ngModelChange",function(){return t.idleReset()}),s.Vb(301,"option",71),s.Dc(302,"Select"),s.Ub(),s.Vb(303,"option",71),s.Dc(304,"Yes"),s.Ub(),s.Vb(305,"option",71),s.Dc(306,"No"),s.Ub(),s.Ub(),s.Bc(307,td,2,1,"div",14),s.Ub(),s.Vb(308,"div",22),s.Vb(309,"div",3),s.Vb(310,"div",8),s.Vb(311,"label",88),s.Dc(312,"Single Limit:"),s.Vb(313,"span",12),s.Dc(314,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(315,"div",10),s.Vb(316,"input",89),s.cc("keydown",function(e){return t.numberCheck(e)})("keyup",function(e){return t.CommaFormatted(e,"bondable_Single_Limit",t.riskReview)}),s.Ub(),s.Ub(),s.Bc(317,od,2,1,"div",14),s.Ub(),s.Ub(),s.Vb(318,"div",22),s.Vb(319,"div",3),s.Vb(320,"div",8),s.Vb(321,"label",90),s.Dc(322,"Aggregate Limit:"),s.Vb(323,"span",12),s.Dc(324,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(325,"div",10),s.Vb(326,"input",91),s.cc("keydown",function(e){return t.numberCheck(e)})("keyup",function(e){return t.CommaFormatted(e,"bondable_Aggregate_Limit",t.riskReview)}),s.Ub(),s.Ub(),s.Bc(327,rd,2,1,"div",14),s.Ub(),s.Ub(),s.Ub(),s.Vb(328,"div",21),s.Vb(329,"div",22),s.Vb(330,"label",92),s.Dc(331,"Signature Page"),s.Vb(332,"span",12),s.Dc(333,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(334,"div",24),s.Vb(335,"input",93),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Bc(336,sd,2,1,"div",14),s.Ub(),s.Ub(),s.Vb(337,"div",21),s.Vb(338,"div",22),s.Vb(339,"label",94),s.Dc(340,"Red Flags Notes"),s.Vb(341,"span",12),s.Dc(342,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(343,"div",24),s.Vb(344,"textarea",95),s.cc("ngModelChange",function(){return t.idleReset()}),s.Dc(345,"                                        "),s.Ub(),s.Bc(346,ld,2,1,"div",14),s.Ub(),s.Ub(),s.Vb(347,"div",21),s.Vb(348,"div",22),s.Vb(349,"label",96),s.Dc(350,"Red Flags - D&B Notes "),s.Vb(351,"span",12),s.Dc(352,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(353,"div",24),s.Vb(354,"textarea",97),s.cc("ngModelChange",function(){return t.idleReset()}),s.Dc(355,"                                        "),s.Ub(),s.Bc(356,ud,2,1,"div",14),s.Ub(),s.Ub(),s.Vb(357,"div",21),s.Vb(358,"div",22),s.Vb(359,"label",98),s.Dc(360,"Risk Financial Grade "),s.Vb(361,"span",12),s.Dc(362,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(363,"div",24),s.Vb(364,"select",99),s.cc("ngModelChange",function(){return t.idleReset()}),s.Vb(365,"option",71),s.Dc(366,"Select"),s.Ub(),s.Vb(367,"option",71),s.Dc(368,"A"),s.Ub(),s.Vb(369,"option",71),s.Dc(370,"B"),s.Ub(),s.Vb(371,"option",71),s.Dc(372,"C"),s.Ub(),s.Vb(373,"option",71),s.Dc(374,"D"),s.Ub(),s.Ub(),s.Bc(375,pd,2,1,"div",14),s.Ub(),s.Ub(),s.Vb(376,"div",21),s.Vb(377,"div",22),s.Vb(378,"label",100),s.Dc(379,"Risk Financial Grade Notes"),s.Vb(380,"span",12),s.Dc(381,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(382,"div",24),s.Vb(383,"textarea",101),s.cc("ngModelChange",function(){return t.idleReset()}),s.Dc(384,"                                        "),s.Ub(),s.Bc(385,fd,2,1,"div",14),s.Ub(),s.Ub(),s.Vb(386,"div",21),s.Vb(387,"div",74),s.Vb(388,"label",102),s.Dc(389,"Prequalification Expiry Date "),s.Vb(390,"span",12),s.Dc(391,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(392,"div",24),s.Vb(393,"div"),s.Vb(394,"input",103),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Bc(395,gd,2,1,"div",14),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Sb(),s.Ub(),s.Ub(),s.Ub(),s.Vb(396,"div",104),s.Vb(397,"div",22),s.Vb(398,"button",105),s.Dc(399," << BACK"),s.Ub(),s.Ub(),s.Qb(400,"div",106),s.Vb(401,"div",22),s.Vb(402,"button",107),s.cc("click",function(){return t.saveOrSubmit("SAVE")}),s.Dc(403,"SAVE"),s.Ub(),s.Ub(),s.Ub(),s.Vb(404,"div",108),s.Qb(405,"div",28),s.Bc(406,_d,3,0,"div",109),s.Bc(407,vd,1,0,"div",110),s.Vb(408,"div",77),s.Vb(409,"button",111),s.cc("click",function(){return t.saveOrSubmit("APPROVED")}),s.Dc(410,"APPROVED & SEND INFO TO VP"),s.Ub(),s.Ub(),s.Ub()),2&e&&(s.Db(7),s.mc("formGroup",t.summary),s.Db(10),s.mc("ngClass",s.pc(71,yd,t.summary.controls.project_Name.errors)),s.Db(1),s.mc("ngIf",t.summary.controls.project_Name.touched&&t.summary.controls.project_Name.errors),s.Db(8),s.mc("ngClass",s.pc(73,yd,t.summary.controls.project_value_Detail.errors)),s.Db(1),s.mc("ngIf",t.summary.controls.project_value_Detail.touched&&t.summary.controls.project_value_Detail.errors),s.Db(9),s.mc("ngClass",s.pc(75,yd,t.summary.controls.project_Notes.errors)),s.Db(2),s.mc("ngIf",t.summary.controls.project_Notes.touched&&t.summary.controls.project_Notes.errors),s.Db(26),s.mc("ngClass",s.pc(77,yd,t.summary.controls.grade_Notes.errors)),s.Db(2),s.mc("ngIf",t.summary.controls.grade_Notes.touched&&t.summary.controls.grade_Notes.errors),s.Db(15),s.mc("ngClass",s.pc(79,yd,t.summary.controls.risk_Inputs.errors)),s.Db(2),s.mc("ngIf",t.summary.controls.risk_Inputs.touched&&t.summary.controls.risk_Inputs.errors),s.Db(4),s.mc("formGroup",t.automatedReview),s.Db(97),s.mc("formGroup",t.riskReview),s.Db(12),s.mc("ngClass",s.pc(81,yd,t.riskReview.controls.risk_Mitigation.errors)),s.Db(1),s.mc("ngValue",""),s.Db(2),s.mc("ngValue","LTLW"),s.Db(2),s.mc("ngValue","Personal Guarantee"),s.Db(2),s.mc("ngValue","Bond"),s.Db(2),s.mc("ngValue","Parent Guarantee"),s.Db(2),s.mc("ngValue","Joint Checks"),s.Db(2),s.mc("ngValue","Letter of Credit"),s.Db(2),s.mc("ngValue","Related Company Guarantees"),s.Db(2),s.mc("ngValue","Others"),s.Db(2),s.mc("ngIf",t.riskReview.controls.risk_Mitigation.touched&&t.riskReview.controls.risk_Mitigation.errors),s.Db(8),s.mc("ngClass",s.pc(83,yd,t.riskReview.controls.financial_Types.errors)),s.Db(1),s.mc("ngValue",""),s.Db(2),s.mc("ngValue","In-house Financials"),s.Db(2),s.mc("ngValue","Reviewed"),s.Db(2),s.mc("ngValue","Compiled"),s.Db(2),s.mc("ngValue","Audited"),s.Db(2),s.mc("ngValue","Tax Returns"),s.Db(2),s.mc("ngValue","Others"),s.Db(2),s.mc("ngIf",t.riskReview.controls.financial_Types.touched&&t.riskReview.controls.financial_Types.errors),s.Db(9),s.mc("ngClass",s.pc(85,yd,t.riskReview.controls.date_Of_Financials.errors)),s.Db(1),s.mc("ngIf",t.riskReview.controls.date_Of_Financials.errors),s.Db(15),s.mc("ngClass",s.pc(87,yd,t.riskReview.controls.csrt_Single_Limit.errors)),s.Db(1),s.mc("ngIf",t.riskReview.controls.csrt_Single_Limit.touched&&t.riskReview.controls.csrt_Single_Limit.errors),s.Db(9),s.mc("ngClass",s.pc(89,yd,t.riskReview.controls.csrt_Aggregate_Limit.errors)),s.Db(1),s.mc("ngIf",t.riskReview.controls.csrt_Aggregate_Limit.touched&&t.riskReview.controls.csrt_Aggregate_Limit.errors),s.Db(8),s.mc("ngClass",s.pc(91,yd,t.riskReview.controls.operational_Years.errors)),s.Db(1),s.mc("ngIf",t.riskReview.controls.operational_Years.touched&&t.riskReview.controls.operational_Years.errors),s.Db(8),s.mc("ngClass",s.pc(93,yd,t.riskReview.controls.largest_Indicated.errors)),s.Db(1),s.mc("ngIf",t.riskReview.controls.largest_Indicated.touched&&t.riskReview.controls.largest_Indicated.errors),s.Db(8),s.mc("ngClass",s.pc(95,yd,t.riskReview.controls.bondable.errors)),s.Db(1),s.mc("ngValue",""),s.Db(2),s.mc("ngValue","yes"),s.Db(2),s.mc("ngValue","no"),s.Db(2),s.mc("ngIf",t.riskReview.controls.bondable.touched&&t.riskReview.controls.bondable.errors),s.Db(9),s.mc("ngClass",s.pc(97,yd,t.riskReview.controls.bondable_Single_Limit.errors)),s.Db(1),s.mc("ngIf",t.riskReview.controls.bondable_Single_Limit.touched&&t.riskReview.controls.bondable_Single_Limit.errors),s.Db(9),s.mc("ngClass",s.pc(99,yd,t.riskReview.controls.bondable_Aggregate_Limit.errors)),s.Db(1),s.mc("ngIf",t.riskReview.controls.bondable_Aggregate_Limit.touched&&t.riskReview.controls.bondable_Aggregate_Limit.errors),s.Db(8),s.mc("ngClass",s.pc(101,yd,t.riskReview.controls.signature_Page.errors)),s.Db(1),s.mc("ngIf",t.riskReview.controls.signature_Page.touched&&t.riskReview.controls.signature_Page.errors),s.Db(8),s.mc("ngClass",s.pc(103,yd,t.riskReview.controls.red_Flags.errors)),s.Db(2),s.mc("ngIf",t.riskReview.controls.red_Flags.touched&&t.riskReview.controls.red_Flags.errors),s.Db(8),s.mc("ngClass",s.pc(105,yd,t.riskReview.controls.red_Flags_DB.errors)),s.Db(2),s.mc("ngIf",t.riskReview.controls.red_Flags_DB.touched&&t.riskReview.controls.red_Flags_DB.errors),s.Db(8),s.mc("ngClass",s.pc(107,yd,t.riskReview.controls.financial_Grade.errors)),s.Db(1),s.mc("ngValue",""),s.Db(2),s.mc("ngValue","a"),s.Db(2),s.mc("ngValue","b"),s.Db(2),s.mc("ngValue","c"),s.Db(2),s.mc("ngValue","d"),s.Db(2),s.mc("ngIf",t.riskReview.controls.financial_Grade.errors&&t.riskReview.controls.financial_Grade.touched),s.Db(8),s.mc("ngClass",s.pc(109,yd,t.riskReview.controls.risk_Financial_Grade_Notes.errors)),s.Db(2),s.mc("ngIf",t.riskReview.controls.risk_Financial_Grade_Notes.touched&&t.riskReview.controls.risk_Financial_Grade_Notes.errors),s.Db(9),s.mc("ngClass",s.pc(111,yd,t.riskReview.controls.prequal_Expiry_Date.errors)),s.Db(1),s.mc("ngIf",t.riskReview.controls.prequal_Expiry_Date.errors),s.Db(11),s.mc("ngIf","RiskUser2"!=t.userRole),s.Db(1),s.mc("ngIf","RiskUser2"==t.userRole))},directives:[n.v,n.k,n.g,n.b,n.j,n.f,o.j,o.l,n.t,n.n,n.w,n.o],styles:[""]}),e})(),Ud=(()=>{class e extends A.a{constructor(e,t){super("Surety",e,t,{root:j.a.webserviceURlLocal})}getAll(){return super.getAll()}getRecords(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("surety/"+e,j.a.webserviceURlLocal);return this.http.get(i,t)}updateRecord(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("surety/"+t,j.a.webserviceURlLocal);return this.http.put(o,e,i)}addRecord(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("surety",j.a.webserviceURlLocal);return this.http.post(i,e,t)}getUser(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("Organization/"+e+"/"+t,j.a.webserviceURlLocal);return this.http.get(o,i)}getComplete(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("Organization/Getstatus/"+e,j.a.webserviceURlLocal);return this.http.get(i,t)}deleteRecord(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.delete(j.a.webserviceURlLocal+"Files/"+e,t)}}return e.\u0275fac=function(t){return new(t||e)(s.Zb(O.b),s.Zb(A.c))},e.\u0275prov=s.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Dd(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Surety bond is required"),s.Ub())}function Cd(e,t){if(1&e&&(s.Vb(0,"div",67),s.Bc(1,Dd,2,0,"div",68),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.is_Surety_Bond.errors.required)}}function Id(e,t){1&e&&(s.Vb(0,"span",8),s.Dc(1,"*"),s.Ub())}function Rd(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Surety company name is required "),s.Ub())}function wd(e,t){if(1&e&&(s.Vb(0,"div",67),s.Bc(1,Rd,2,0,"div",68),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.surety_Company_Name.errors.required)}}function Fd(e,t){1&e&&(s.Vb(0,"span",8),s.Dc(1,"*"),s.Ub())}function Sd(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Surety Agent name is required"),s.Ub())}function kd(e,t){if(1&e&&(s.Vb(0,"div",67),s.Bc(1,Sd,2,0,"div",68),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.surety_Agent_Name.errors.required)}}function xd(e,t){1&e&&(s.Vb(0,"span",8),s.Dc(1,"*"),s.Ub())}function Pd(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Surety agent email is required "),s.Ub())}function jd(e,t){if(1&e&&(s.Vb(0,"div",67),s.Bc(1,Pd,2,0,"div",68),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.surety_Agent_Email.errors.required)}}function Ad(e,t){1&e&&(s.Vb(0,"span",8),s.Dc(1,"*"),s.Ub())}function Od(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Surety Agent Phone is required "),s.Ub())}function Ed(e,t){if(1&e&&(s.Vb(0,"div",67),s.Bc(1,Od,2,0,"div",68),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.surety_Agent_Phone.errors.required)}}function Md(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Extention is required "),s.Ub())}function Nd(e,t){if(1&e&&(s.Vb(0,"div",67),s.Bc(1,Md,2,0,"div",68),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.surety_Agent_Phone_Ext.errors.required)}}function Bd(e,t){1&e&&(s.Vb(0,"span",8),s.Dc(1,"*"),s.Ub())}function qd(e,t){if(1&e&&(s.Vb(0,"option",36),s.Dc(1),s.Ub()),2&e){const e=t.$implicit;s.mc("ngValue",e.name),s.Db(1),s.Fc("",e.name," ")}}function Td(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Present surety years is required "),s.Ub())}function Ld(e,t){if(1&e&&(s.Vb(0,"div",67),s.Bc(1,Td,2,0,"div",68),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.present_Surety_Years.errors.required)}}function Yd(e,t){1&e&&(s.Vb(0,"span",8),s.Dc(1,"*"),s.Ub())}function zd(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Bonding limit is required"),s.Ub())}function Gd(e,t){if(1&e&&(s.Vb(0,"div",67),s.Bc(1,zd,2,0,"div",68),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.bonding_Limit.errors.required)}}function Qd(e,t){1&e&&(s.Vb(0,"span",8),s.Dc(1,"*"),s.Ub())}function $d(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Aggregate bonding capacity is required "),s.Ub())}function Wd(e,t){if(1&e&&(s.Vb(0,"div",67),s.Bc(1,$d,2,0,"div",68),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.aggregate_Bonding.errors.required)}}function Hd(e,t){1&e&&(s.Vb(0,"span",8),s.Dc(1,"*"),s.Ub())}function Zd(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Available bonding capacity is required "),s.Ub())}function Kd(e,t){if(1&e&&(s.Vb(0,"div",67),s.Bc(1,Zd,2,0,"div",68),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.available_Bonding.errors.required)}}function Jd(e,t){1&e&&(s.Vb(0,"span",8),s.Dc(1,"*"),s.Ub())}function Xd(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Bonding letter is required"),s.Ub())}function eu(e,t){if(1&e&&(s.Vb(0,"div",67),s.Bc(1,Xd,2,0,"div",68),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.surety_Upload.errors.required)}}function tu(e,t){1&e&&(s.Vb(0,"div",69),s.Vb(1,"span"),s.Dc(2,"Uploading..."),s.Ub(),s.Qb(3,"mat-progress-spinner",70),s.Ub())}function iu(e,t){if(1&e){const e=s.Wb();s.Vb(0,"div"),s.Vb(1,"p",71),s.Vb(2,"small"),s.Vb(3,"a",72),s.Dc(4),s.Ub(),s.Ub(),s.Vb(5,"small",73),s.cc("click",function(){s.uc(e);const i=t.index,o=t.$implicit;return s.gc().removeqcpUpload(i,o)}),s.Dc(6,"X"),s.Ub(),s.Ub(),s.Ub()}if(2&e){const e=t.$implicit;s.Db(3),s.nc("href",e.file_Path,s.wc),s.Db(1),s.Ec(e.name)}}function ou(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Risk manager is required"),s.Ub())}function nu(e,t){if(1&e&&(s.Vb(0,"div",67),s.Bc(1,ou,2,0,"div",68),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.is_Risk_Manager.errors.required)}}function ru(e,t){1&e&&(s.Vb(0,"span",8),s.Dc(1,"*"),s.Ub())}function au(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Risk manager name is required"),s.Ub())}function su(e,t){if(1&e&&(s.Vb(0,"div",67),s.Bc(1,au,2,0,"div",68),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.risk_Manager_Name.errors.required)}}function cu(e,t){1&e&&(s.Vb(0,"span",8),s.Dc(1,"*"),s.Ub())}function lu(e,t){1&e&&(s.Vb(0,"div"),s.Dc(1,"Risk manager email is required "),s.Ub())}function du(e,t){if(1&e&&(s.Vb(0,"div",67),s.Bc(1,lu,2,0,"div",68),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("ngIf",e.f.risk_Manager_Email.errors.required)}}function uu(e,t){if(1&e){const e=s.Wb();s.Vb(0,"div",74),s.Vb(1,"button",75),s.cc("click",function(){return s.uc(e),s.gc().gotoHome()}),s.Dc(2," << BACK"),s.Ub(),s.Vb(3,"button",76),s.cc("click",function(){return s.uc(e),s.gc().save()}),s.Dc(4),s.Ub(),s.Vb(5,"button",77),s.Dc(6,"NEXT >>"),s.Ub(),s.Ub()}if(2&e){const e=s.gc();s.Db(4),s.Fc("",e.submitText," ")}}function bu(e,t){if(1&e){const e=s.Wb();s.Vb(0,"div",78),s.Vb(1,"button",75),s.cc("click",function(){return s.uc(e),s.gc().gotoHome()}),s.Dc(2," << BACK"),s.Ub(),s.Vb(3,"button",79),s.cc("click",function(){return s.uc(e),s.gc().nextroutePage()}),s.Dc(4,"NEXT >>"),s.Ub(),s.Ub()}}function pu(e,t){if(1&e&&s.Qb(0,"app-comment",80),2&e){const e=s.gc();s.mc("formId",e.suretyid)("companyId",e.tempcompanyid)}}const mu=function(e){return{"bg-grey":e}},fu=function(e){return{"is-invalid":e}},hu=[{path:"",component:ls,children:[{path:"companyinfo",component:It},{path:"experience",component:Ci},{path:"safetyinfo",component:Mr},{path:"personnel",component:Xa},{path:"relevant",component:fl},{path:"surety",component:(()=>{class e{constructor(e,t,i,o,r,a,s,c,l,d){this.formBuilder=e,this.router=t,this.bnIdle=i,this.keepalive=o,this.toastr=r,this.project=a,this.logininfo=s,this.ngxUiLoader=c,this.suretyinfoService=l,this.companyservice=d,this.currentForm=4,this.suretyForm=this.formBuilder.group({id:[0],companyId:[null,[n.u.maxLength(130)]],is_Surety_Bond:["no",[n.u.required]],surety_Company_Name:["",[n.u.maxLength(130)]],surety_Agent_Name:["",[n.u.maxLength(256)]],surety_Agent_Email:["",[n.u.required,n.u.email]],surety_Agent_Phone:["",[n.u.maxLength(256),n.u.pattern(/^-?(0|[1-9]\d*)?$/)]],surety_Agent_Phone_Ext:["",[n.u.maxLength(256)]],present_Surety_Years:["",[n.u.maxLength(256)]],bonding_Limit:["",[n.u.maxLength(256),n.u.pattern(/^-?(0|[1-9]\d*)?$/)]],aggregate_Bonding:["",[n.u.pattern(/^-?(0|[1-9]\d*)?$/)]],available_Bonding:["",[n.u.pattern(/^-?(0|[1-9]\d*)?$/)]],surety_Upload:[""],is_Risk_Manager:["no",[n.u.required]],risk_Manager_Name:["",[n.u.required]],risk_Manager_Email:["",[n.u.email,n.u.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)]],isAutosave:[!1]}),this.submitText="SAVE",this.showAdmin=!1,this.suretyid=0,this.setTimeout=0,this.resetTimer=0,this.bondingAttachment=[],this.submitted=!1,this.spinner={bondingSpinner:!1},this.suretyyears=[{name:"less than 1 years"},{name:"1-3 years"},{name:"3-5 years"},{name:"5-7 years"},{name:"7-9 years"},{name:"9+years"}],this.showdisabled=!1}ngOnInit(){this.ngxUiLoader.startLoader("loader-01"),localStorage.setItem("currPage","suretyinfo"),this.prequalification_status=this.logininfo.organization_status,this.submitText="SAVE";let e=localStorage.getItem("userDetails");e=JSON.parse(atob(e)),this.userDetails=e,this.userRole=e.role,this.tempcompanyid=localStorage.getItem("tempcompanyid"),this.tempcompanyid=Number(atob(this.tempcompanyid)),this.tempcompanyid>0&&"Subcontractor"!=this.userRole&&(this.showAdmin=!0,this.suretyinfoService.getRecords(this.tempcompanyid).subscribe(e=>{this.showdisabled=!0,this.showAdmin=!0,(null==e?void 0:e.length)&&(this.suretyid=e[0].id,this.submitText=e[0].is_Surety_Bond?"UPDATE":"SAVE",this.updateSurety(e)),this.suretyForm.disable(),this.suretyForm.updateValueAndValidity()})),null!=this.userDetails.vendorId&&null!=this.userDetails.taxId&&"Subcontractor"==this.userRole&&this.suretyinfoService.getUser(this.userDetails.vendorId,this.userDetails.taxId).subscribe(e=>{this.companyId=e.id,localStorage.setItem("companyid",btoa(this.companyId)),this.getRecords()}),this.ngxUiLoader.stopLoader("loader-01"),console.log(this.suretyid)}ngAfterViewInit(){this.keepalive.interval(30),this.keepalive.stop(),0==this.setTimeout&&this.keepalive.stop()}resetSuretyBond(){this.suretyForm.patchValue({surety_Company_Name:"",surety_Agent_Email:"",surety_Agent_Name:"",surety_Agent_Phone:"",surety_Agent_Phone_Ext:"",present_Surety_Years:"",bonding_Limit:"",aggregate_Bonding:"",available_Bonding:"",surety_Upload:""}),this.showdisabled=!1,this.bondingAttachment.forEach((e,t)=>{this.removeqcpUpload(t,e,!1)})}resetRiskManager(){this.suretyForm.patchValue({risk_Manager_Name:"",risk_Manager_Email:""})}ngOnDestroy(){this.keepalive.stop(),this.nextpage()}idleReset(){this.keepalive.stop(),this.keepalive.start(),this.resetTimer=0}gotoHome(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm-1].url}`])}get f(){var e;return"yes"==this.suretyForm.value.is_Surety_Bond?(this.suretyForm.controls.surety_Company_Name.setValidators([n.u.required]),this.suretyForm.controls.surety_Agent_Name.setValidators([n.u.required]),this.suretyForm.controls.surety_Agent_Email.setValidators([n.u.required,n.u.email,n.u.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)]),this.suretyForm.controls.surety_Agent_Phone.setValidators([n.u.required]),this.suretyForm.controls.present_Surety_Years.setValidators([n.u.required]),this.suretyForm.controls.bonding_Limit.setValidators([n.u.required]),this.suretyForm.controls.aggregate_Bonding.setValidators([n.u.required]),this.suretyForm.controls.available_Bonding.setValidators([n.u.required]),this.suretyForm.controls.surety_Upload.setValidators([n.u.required])):(this.suretyForm.controls.surety_Company_Name.clearValidators(),this.suretyForm.controls.surety_Agent_Name.clearValidators(),this.suretyForm.controls.surety_Agent_Email.clearValidators(),this.suretyForm.controls.surety_Agent_Phone.clearValidators(),this.suretyForm.controls.present_Surety_Years.clearValidators(),this.suretyForm.controls.bonding_Limit.clearValidators(),this.suretyForm.controls.aggregate_Bonding.clearValidators(),this.suretyForm.controls.available_Bonding.clearValidators(),this.suretyForm.controls.surety_Upload.clearValidators()),this.suretyForm.controls.surety_Company_Name.updateValueAndValidity(),this.suretyForm.controls.surety_Agent_Name.updateValueAndValidity(),this.suretyForm.controls.surety_Agent_Email.updateValueAndValidity(),this.suretyForm.controls.surety_Agent_Phone.updateValueAndValidity(),this.suretyForm.controls.surety_Agent_Phone_Ext.updateValueAndValidity(),this.suretyForm.controls.present_Surety_Years.updateValueAndValidity(),this.suretyForm.controls.bonding_Limit.updateValueAndValidity(),this.suretyForm.controls.aggregate_Bonding.updateValueAndValidity(),this.suretyForm.controls.available_Bonding.updateValueAndValidity(),this.suretyForm.controls.surety_Upload.updateValueAndValidity(),"yes"==this.suretyForm.value.is_Risk_Manager?(this.suretyForm.controls.risk_Manager_Name.setValidators([n.u.required]),this.suretyForm.controls.risk_Manager_Email.setValidators([n.u.required,n.u.email,n.u.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)])):(this.suretyForm.patchValue({risk_Manager_Name:this.suretyForm.value.risk_Manager_Name,risk_Manager_Email:this.suretyForm.value.risk_Manager_Email}),this.suretyForm.controls.risk_Manager_Name.clearValidators(),this.suretyForm.controls.risk_Manager_Email.clearValidators()),this.suretyForm.controls.risk_Manager_Name.updateValueAndValidity(),this.suretyForm.controls.risk_Manager_Email.updateValueAndValidity(),(null===(e=this.bondingAttachment)||void 0===e?void 0:e.length)>0&&(this.suretyForm.controls.surety_Upload.setValidators(null),this.suretyForm.controls.surety_Upload.updateValueAndValidity()),this.suretyForm.controls}updateSurety(e){this.suretyForm.patchValue({id:e[0].id,companyId:e[0].companyId,is_Surety_Bond:null==e[0].is_Surety_Bond?"no":this.logininfo.validateEmpty(e[0].is_Surety_Bond),surety_Company_Name:this.logininfo.validateEmpty(e[0].surety_Company_Name),surety_Agent_Email:this.logininfo.validateEmpty(e[0].surety_Agent_Email),surety_Agent_Name:this.logininfo.validateEmpty(e[0].surety_Agent_Name),surety_Agent_Phone:this.logininfo.validateEmpty(e[0].surety_Agent_Phone),surety_Agent_Phone_Ext:this.logininfo.validateEmpty(e[0].surety_Agent_Phone_Ext),present_Surety_Years:this.logininfo.validateEmpty(e[0].present_Surety_Years),bonding_Limit:this.logininfo.validateEmpty(e[0].bonding_Limit),aggregate_Bonding:this.logininfo.validateEmpty(e[0].aggregate_Bonding),available_Bonding:this.logininfo.validateEmpty(e[0].available_Bonding),is_Risk_Manager:null==e[0].is_Risk_Manager?"no":this.logininfo.validateEmpty(e[0].is_Risk_Manager),risk_Manager_Name:this.logininfo.validateEmpty(e[0].risk_Manager_Name),risk_Manager_Email:this.logininfo.validateEmpty(e[0].risk_Manager_Email)}),this.bondingAttachment=[],e[0].files.filter(e=>{this.bondingAttachment.push(e.file_Name.length<31?{id:e.id,name:e.file_Name,file_Path:e.file_Path}:{id:e.id,name:e.file_Name.substring(0,31)+"....",file_Path:e.file_Path})})}save(){if(console.log(this.suretyForm,this.suretyid),this.submitted=!0,this.keepalive.stop(),this.suretyForm.valid)if(0==this.suretyid){this.suretyForm.patchValue({isAutosave:!1,surety_Upload:""});let e=this.formMethod();this.suretyinfoService.addRecord(e).subscribe(e=>{this.getRecords(),this.submitText="UPDATE",this.fileReset(),this.resetSpinner(),this.toastr.success("Surety Information saved successfully","Surety Information")})}else{this.suretyForm.patchValue({isAutosave:!1,surety_Upload:""});let e=this.formMethod();this.suretyinfoService.updateRecord(e,this.suretyid).subscribe(e=>{this.getRecords(),this.fileReset(),this.resetSpinner(),this.toastr.success("Surety Information updated successfully","Surety Information")})}}submit(){if("Subcontractor"!=this.userRole)this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`]);else if(console.log(this.suretyForm),this.keepalive.stop(),this.ngxUiLoader.startLoader("loader-01"),0==this.suretyid){let e=this.formMethod();this.suretyinfoService.addRecord(e).subscribe(e=>{this.toastr.success("Surety Information saved successfully","Surety Information"),this.getRecords(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])})}else{this.suretyForm.patchValue({isAutosave:!1});let e=this.formMethod();this.suretyinfoService.updateRecord(e,this.suretyid).subscribe(e=>{this.toastr.success("Surety Information updated successfully","Surety Information"),this.getRecords(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])})}}autoSave(){if(this.resetTimer+=1,1==this.resetTimer)if(0==this.suretyid){let e=this.formMethod();this.suretyinfoService.addRecord(e).subscribe(e=>{this.getRecords()})}else{this.suretyForm.patchValue({isAutosave:!1});let e=this.formMethod();this.suretyinfoService.updateRecord(e,this.suretyid).subscribe(e=>{this.getRecords()})}}nextpage(){if("Subcontractor"==this.userRole)if(0==this.suretyid){let e=this.formMethod();this.suretyinfoService.addRecord(e).subscribe(e=>{})}else{this.suretyForm.patchValue({isAutosave:!1});let e=this.formMethod();this.suretyinfoService.updateRecord(e,this.suretyid).subscribe(e=>{})}}fileupload(){if(this.keepalive.stop(),0==this.suretyid){this.suretyForm.patchValue({isAutosave:!0});let e=this.formMethod();this.suretyinfoService.addRecord(e).subscribe(e=>{this.keepalive.stop(),this.suretyForm.patchValue({surety_Upload:"",id:e.id}),this.submitText="UPDATE",this.getRecords(),this.resetSpinner(),this.submitted=!1})}else{this.suretyForm.patchValue({id:this.suretyid,isAutosave:!0});let e=this.formMethod();this.suretyinfoService.updateRecord(e,this.suretyForm.value.id).subscribe(e=>{this.keepalive.stop(),this.getRecords(),this.resetSpinner(),this.suretyForm.patchValue({surety_Upload:""}),this.submitted=!1})}}autosave(){if(this.resetTimer+=1,1==this.resetTimer)if(0==this.suretyid){this.suretyForm.patchValue({isAutosave:!1});let e=this.formMethod();this.suretyinfoService.addRecord(e).subscribe(e=>{this.submitText="UPDATE",this.getRecords(),this.fileReset(),this.keepalive.stop(),this.resetSpinner()})}else{this.suretyForm.patchValue({isAutosave:!0});let e=this.formMethod();this.suretyinfoService.updateRecord(e,this.suretyid).subscribe(e=>{this.getRecords(),this.fileReset(),this.keepalive.stop(),this.resetSpinner(),this.suretyForm.patchValue({isAutosave:!1})})}}formMethod(){var e=new FormData;e.append("id",this.suretyForm.value.id),e.append("companyId",this.companyId),e.append("is_Surety_Bond",this.logininfo.validateEmpty(this.suretyForm.value.is_Surety_Bond)),e.append("surety_Company_Name",this.logininfo.validateEmpty(this.suretyForm.value.surety_Company_Name)),e.append("surety_Agent_Name",this.logininfo.validateEmpty(this.suretyForm.value.surety_Agent_Name)),e.append("surety_Agent_Email",this.logininfo.validateEmpty(this.suretyForm.value.surety_Agent_Email)),e.append("surety_Agent_Phone",this.logininfo.validateEmpty(this.suretyForm.value.surety_Agent_Phone)),e.append("surety_Agent_Phone_Ext",this.logininfo.validateEmpty(this.suretyForm.value.surety_Agent_Phone_Ext)),e.append("present_Surety_Years",this.logininfo.validateEmpty(this.suretyForm.value.present_Surety_Years)),e.append("bonding_Limit",this.logininfo.validateEmpty(this.suretyForm.value.bonding_Limit)),e.append("aggregate_Bonding",this.logininfo.validateEmpty(this.suretyForm.value.aggregate_Bonding)),e.append("available_Bonding",this.logininfo.validateEmpty(this.suretyForm.value.available_Bonding)),e.append("is_Risk_Manager",this.logininfo.validateEmpty(this.suretyForm.value.is_Risk_Manager)),e.append("risk_Manager_Name",this.logininfo.validateEmpty(this.suretyForm.value.risk_Manager_Name)),e.append("risk_Manager_Email",this.logininfo.validateEmpty(this.suretyForm.value.risk_Manager_Email));for(let t=0;t<this.bondingAttachment.length;t++)e.append("surety_Upload",this.bondingAttachment[t]);return this.bondingAttachment=[],e}qcpUpload(e){let t=document.getElementById("surety_Upload");for(let i=0;i<t.files.length;i++)this.bondingAttachment.push(t.files[i]);this.spinner.bondingSpinner=!0,this.fileupload()}filepreview(e,t){var i=new FileReader;i.onload=i=>{console.log(i.target);let o=new Blob(e.files,{type:e.files[t].type});var n=(window.URL||window.webkitURL).createObjectURL(o);console.log("path",n,e.value);var r=document.createElement("a"),a=document.createTextNode("View File");r.target="_blank",r.appendChild(a),r.href=n,r.click(),e.appendChild(r)},i.readAsDataURL(e.files[t])}removeqcpUpload(e,t,i=!0){console.log(this.showdisabled+" "+t),this.showdisabled||this.suretyinfoService.deleteRecord(t.id).subscribe(t=>{this.bondingAttachment.splice(e,1),i&&this.toastr.info("File removed successfully","Surety Info")})}CommaFormatted(e,t){var i,o;e.AT_TARGET>=37&&e.AT_TARGET<=40||this.suretyForm.patchValue({[t]:null===(o=null===(i=this.suretyForm.get(t))||void 0===i?void 0:i.value)||void 0===o?void 0:o.replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,",")})}numberCheck(e){return"e"!==e.key&&"+"!==e.key&&"-"!==e.key}resetSpinner(){this.spinner={bondingSpinner:!1}}fileReset(){this.suretyForm.patchValue({surety_Upload:""})}getRecords(){this.suretyinfoService.getRecords(this.companyId).subscribe(e=>{e.length&&(this.suretyid=e[0].id,this.submitText=e[0].is_Surety_Bond?"UPDATE":"SAVE",this.updateSurety(e))}),this.companyId>0&&this.companyservice.getRecord(this.companyId).subscribe(e=>{e=e[0],console.log(e.preQualification_Status),this.prequalification_status=e.preQualification_Status,e.preQualification_Status&&this.logininfo.formDisable(e.preQualification_Status)&&(this.showdisabled=!0,this.suretyForm.disable(),this.suretyForm.updateValueAndValidity())})}setPatternValidator(e){return!!/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}nextroutePage(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])}}return e.\u0275fac=function(t){return new(t||e)(s.Pb(n.d),s.Pb(r.f),s.Pb(l.a),s.Pb(u.a),s.Pb(f.b),s.Pb(g.a),s.Pb(_),s.Pb(v.c),s.Pb(Ud),s.Pb(c.a))},e.\u0275cmp=s.Jb({type:e,selectors:[["app-suretyinfo"]],decls:155,vars:108,consts:[[1,"px-2",3,"formGroup","ngSubmit","keydown.enter"],[1,"px-1","my-2","form-bg",3,"ngClass"],[1,"form-group","input-group","row","px-2","mx-auto","pb-3"],[1,"row"],[1,"col-lg-6","px-2","col-head-1","mx-auto","mt-2"],[1,"row","bg-white","col-curve-top","mx-auto","py-2","mt-2"],["for","is_Surety_Bond",1,"my-auto","fw-bold"],[1,"col-7","ps-3","pt-1"],[1,"text-danger"],[1,"col-5"],[1,"col-lg-5"],["type","radio","formControlName","is_Surety_Bond","value","yes","checked","checked","name","is_Surety_Bond","id","is_Surety_Bond_yes",3,"ngModelChange"],["for","is_Surety_Bond_yes",3,"ngClass"],[1,"col-lg-7"],["type","radio","formControlName","is_Surety_Bond","value","no","name","is_Surety_Bond","id","is_Surety_Bond_no",3,"ngClass","ngModelChange","click"],["for","is_Surety_Bond_no"],["class","invalid-feedback",4,"ngIf"],[1,"pb-1"],[1,"ps-3","px-1",3,"ngClass"],[1,"row",3,"ngClass"],[1,"fw-bold","pt-1"],[1,"col-6"],["for","surety_Company_Name",1,"my-auto","font-italic"],["class","text-danger",4,"ngIf"],["type","text","formControlName","surety_Company_Name","id","surety_Company_Name","name","surety_Company_Name",1,"form-control",3,"ngClass","ngModelChange"],["for","surety_Agent_Name",1,"my-auto","font-italic"],["type","text","formControlName","surety_Agent_Name","id","surety_Agent_Name","name","surety_Agent_Name",1,"form-control",3,"ngClass","ngModelChange"],["for","surety_Agent_Email",1,"my-auto","font-italic"],["type","email","formControlName","surety_Agent_Email","id","surety_Agent_Email","email","true","name","surety_Agent_Email","pattern","/^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$/ ",1,"form-control",3,"ngClass","ngModelChange"],["for","surety_Agent_Phone",1,"my-auto","font-italic","float-right"],[1,"col-10","float-left"],["type","text","appPhoneMask","","onKeyPress","if(this.value.length==15) return false;","formControlName","surety_Agent_Phone","id","surety_Agent_Phone","name","surety_Agent_Phone",1,"form-control",3,"ngClass","ngModelChange"],[1,"col-2","float-left"],["type","number","onKeyPress","if(this.value.length==3) return false;","formControlName","surety_Agent_Phone_Ext","pattern","[0-9]+","id","surety_Agent_Phone_Ext","name","surety_Agent_Phone_Ext",1,"form-control",3,"ngClass","ngModelChange"],["for","present_Surety_Years",1,"my-auto","font-italic"],["formControlName","present_Surety_Years","id","present_Surety_Years","name","state",1,"form-control","form-select",3,"ngClass","ngModelChange"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["for","bonding_Limit",1,"my-auto","font-italic"],["type","number","formControlName","bonding_Limit","id","bonding_Limit","name","bonding_Limit",1,"form-control",3,"ngClass","ngModelChange"],["for","aggregate_Bonding",1,"my-auto","font-italic"],["type","text","formControlName","aggregate_Bonding","id","aggregate_Bonding","name","aggregate_Bonding",1,"form-control",3,"ngClass","ngModelChange","keydown","keyup"],["for","available_Bonding",1,"my-auto","font-italic"],["type","text","formControlName","available_Bonding","id","available_Bonding","name","available_Bonding",1,"form-control",3,"ngClass","ngModelChange","keydown","keyup"],["for","surety_Upload",1,"my-auto","font-italic","float-right"],[1,"col-6","pb-2"],[1,"form-control-customitem","form-control"],["type","file","title","Choose file","formControlName","surety_Upload","id","surety_Upload","name","surety_Upload","multiple","",3,"ngClass","change"],["for","surety_Upload"],["class","spinner__loading pt-3",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"col-lg-6","col-curve-top","bg-white","px-2","col-head-2","mx-auto","mt-2"],[1,"row","mx-0","px-0","py-2","mt-1"],[1,"col-7"],["for","is_Risk_Manager",1,"my-auto","fw-bold"],["type","radio","formControlName","is_Risk_Manager","value","yes","checked","checked","name","is_Risk_Manager","id","is_Risk_Manager_yes",3,"ngModelChange"],["for","is_Risk_Manager_yes",3,"ngClass"],["type","radio","formControlName","is_Risk_Manager","value","no","name","is_Risk_Manager","id","is_Risk_Manager",3,"ngClass","ngModelChange","click"],["for","is_Risk_Manager"],["for","risk_Manager_Name",1,"my-auto","font-italic",3,"ngClass"],["type","text","formControlName","risk_Manager_Name","id","risk_Manager_Name","name","risk_Manager_Name",1,"form-control",3,"ngClass","ngModelChange"],["for","risk_Manager_Email",1,"my-auto","font-italic",3,"ngClass"],["type","email","formControlName","risk_Manager_Email","id","risk_Manager_Email","name","risk_Manager_Email",1,"form-control",3,"ngClass","ngModelChange"],[1,"col-lg-6","col-curve","px-2","col-head-1","mx-auto","mt-2"],["class","text-end mx-lg-4 my-3",4,"ngIf"],["class","text-end mx-4 my-3",4,"ngIf"],["headerReview","Risk Review & Inputs","formname","surety",3,"formId","companyId",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner__loading","pt-3"],["diameter","18","mode","indeterminate",1,"mt-1"],[1,"file-tag"],["target","_blank",3,"href"],[1,"file-close","text-white",3,"click"],[1,"text-end","mx-lg-4","my-3"],[1,"btn","float-start","btn","default-btn",3,"click"],["type","button",1,"btn","ml-4","default-btn",3,"click"],["type","submit",1,"btn","btn-success","mx-2","default-btn"],[1,"text-end","mx-4","my-3"],[1,"btn","btn-success","mx-2","default-btn",3,"click"],["headerReview","Risk Review & Inputs","formname","surety",3,"formId","companyId"]],template:function(e,t){1&e&&(s.Vb(0,"form",0),s.cc("ngSubmit",function(){return t.submit()})("keydown.enter",function(e){return e.preventDefault()}),s.Vb(1,"div",1),s.Vb(2,"div",2),s.Vb(3,"div",3),s.Vb(4,"div",4),s.Vb(5,"div",5),s.Vb(6,"div",3),s.Vb(7,"h6",6),s.Dc(8,"1. Surety bond "),s.Ub(),s.Ub(),s.Vb(9,"div",3),s.Vb(10,"div",7),s.Vb(11,"h6",6),s.Dc(12,"Can your company provide a surety bond? "),s.Vb(13,"span",8),s.Dc(14,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(15,"div",9),s.Vb(16,"div",3),s.Vb(17,"span",10),s.Vb(18,"input",11),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Vb(19,"label",12),s.Dc(20," YES"),s.Ub(),s.Ub(),s.Vb(21,"span",13),s.Vb(22,"input",14),s.cc("ngModelChange",function(){return t.idleReset()})("click",function(){return t.resetSuretyBond()}),s.Ub(),s.Vb(23,"label",15),s.Dc(24," NO"),s.Ub(),s.Ub(),s.Bc(25,Cd,2,1,"div",16),s.Ub(),s.Ub(),s.Ub(),s.Qb(26,"div",17),s.Vb(27,"div",18),s.Vb(28,"div",19),s.Vb(29,"h6",20),s.Dc(30,"Surety bond Details"),s.Ub(),s.Vb(31,"div",21),s.Vb(32,"label",22),s.Dc(33,"Surety Company Name: "),s.Bc(34,Id,2,0,"span",23),s.Ub(),s.Ub(),s.Vb(35,"div",21),s.Vb(36,"input",24),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Bc(37,wd,2,1,"div",16),s.Ub(),s.Ub(),s.Vb(38,"div",3),s.Vb(39,"div",21),s.Vb(40,"label",25),s.Dc(41,"Surety Agent Name: "),s.Bc(42,Fd,2,0,"span",23),s.Ub(),s.Ub(),s.Vb(43,"div",21),s.Vb(44,"input",26),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Bc(45,kd,2,1,"div",16),s.Ub(),s.Ub(),s.Vb(46,"div",3),s.Vb(47,"div",21),s.Vb(48,"label",27),s.Dc(49,"Surety Agent Email: "),s.Bc(50,xd,2,0,"span",23),s.Ub(),s.Ub(),s.Vb(51,"div",21),s.Vb(52,"input",28),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Bc(53,jd,2,1,"div",16),s.Ub(),s.Ub(),s.Vb(54,"div",3),s.Vb(55,"div",21),s.Vb(56,"label",29),s.Dc(57,"Surety Agent Phone: "),s.Bc(58,Ad,2,0,"span",23),s.Ub(),s.Ub(),s.Vb(59,"div",21),s.Vb(60,"div",30),s.Vb(61,"input",31),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Bc(62,Ed,2,1,"div",16),s.Ub(),s.Vb(63,"div",32),s.Vb(64,"input",33),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Bc(65,Nd,2,1,"div",16),s.Ub(),s.Ub(),s.Ub(),s.Vb(66,"div",3),s.Vb(67,"div",21),s.Vb(68,"label",34),s.Dc(69,"How long have you been with your present surety: "),s.Bc(70,Bd,2,0,"span",23),s.Ub(),s.Ub(),s.Vb(71,"div",21),s.Vb(72,"select",35),s.cc("ngModelChange",function(){return t.idleReset()}),s.Vb(73,"option",36),s.Dc(74,"Select"),s.Ub(),s.Bc(75,qd,2,2,"option",37),s.Ub(),s.Bc(76,Ld,2,1,"div",16),s.Ub(),s.Ub(),s.Vb(77,"div",3),s.Vb(78,"div",21),s.Vb(79,"label",38),s.Dc(80,"Bonding limit per project: "),s.Bc(81,Yd,2,0,"span",23),s.Ub(),s.Ub(),s.Vb(82,"div",21),s.Vb(83,"input",39),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Bc(84,Gd,2,1,"div",16),s.Ub(),s.Ub(),s.Vb(85,"div",3),s.Vb(86,"div",21),s.Vb(87,"label",40),s.Dc(88,"Aggregate bonding capacity: "),s.Bc(89,Qd,2,0,"span",23),s.Ub(),s.Ub(),s.Vb(90,"div",21),s.Vb(91,"input",41),s.cc("ngModelChange",function(){return t.idleReset()})("keydown",function(e){return t.numberCheck(e)})("keyup",function(e){return t.CommaFormatted(e,"aggregate_Bonding")}),s.Ub(),s.Bc(92,Wd,2,1,"div",16),s.Ub(),s.Ub(),s.Vb(93,"div",3),s.Vb(94,"div",21),s.Vb(95,"label",42),s.Dc(96,"Available bonding capacity: "),s.Bc(97,Hd,2,0,"span",23),s.Ub(),s.Ub(),s.Vb(98,"div",21),s.Vb(99,"input",43),s.cc("ngModelChange",function(){return t.idleReset()})("keydown",function(e){return t.numberCheck(e)})("keyup",function(e){return t.CommaFormatted(e,"available_Bonding")}),s.Ub(),s.Bc(100,Kd,2,1,"div",16),s.Ub(),s.Ub(),s.Vb(101,"div",3),s.Vb(102,"div",21),s.Vb(103,"label",44),s.Dc(104,"Attach Bonding Letter from surety: "),s.Bc(105,Jd,2,0,"span",23),s.Ub(),s.Ub(),s.Vb(106,"div",45),s.Vb(107,"div",46),s.Vb(108,"input",47),s.cc("change",function(e){return t.qcpUpload(e)}),s.Ub(),s.Vb(109,"span",48),s.Dc(110," \xa0 Click here to Add Files"),s.Ub(),s.Ub(),s.Bc(111,eu,2,1,"div",16),s.Bc(112,tu,4,0,"div",49),s.Bc(113,iu,7,2,"div",50),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(114,"div",51),s.Vb(115,"div",52),s.Vb(116,"div",3),s.Vb(117,"div",53),s.Vb(118,"h6",54),s.Dc(119,"2. Does your company have a Risk Manager? "),s.Vb(120,"span",8),s.Dc(121,"*"),s.Ub(),s.Ub(),s.Ub(),s.Vb(122,"div",9),s.Vb(123,"div",3),s.Vb(124,"span",10),s.Vb(125,"input",55),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Vb(126,"label",56),s.Dc(127," YES"),s.Ub(),s.Ub(),s.Vb(128,"span",13),s.Vb(129,"input",57),s.cc("ngModelChange",function(){return t.idleReset()})("click",function(){return t.resetRiskManager()}),s.Ub(),s.Vb(130,"label",58),s.Dc(131," NO"),s.Ub(),s.Ub(),s.Ub(),s.Bc(132,nu,2,1,"div",16),s.Ub(),s.Ub(),s.Vb(133,"div",3),s.Vb(134,"div",9),s.Vb(135,"label",59),s.Dc(136,"Risk Manager Name:"),s.Bc(137,ru,2,0,"span",23),s.Ub(),s.Ub(),s.Vb(138,"div",53),s.Vb(139,"input",60),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Bc(140,su,2,1,"div",16),s.Ub(),s.Ub(),s.Vb(141,"div",3),s.Vb(142,"div",9),s.Vb(143,"label",61),s.Dc(144,"Risk Manager Email: "),s.Bc(145,cu,2,0,"span",23),s.Ub(),s.Ub(),s.Vb(146,"div",53),s.Vb(147,"input",62),s.cc("ngModelChange",function(){return t.idleReset()}),s.Ub(),s.Bc(148,du,2,1,"div",16),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(149,"div",3),s.Vb(150,"div",63),s.Dc(151," \xa0 "),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Bc(152,uu,7,1,"div",64),s.Ub(),s.Bc(153,bu,5,0,"div",65),s.Bc(154,pu,1,2,"app-comment",66)),2&e&&(s.mc("formGroup",t.suretyForm),s.Db(1),s.mc("ngClass",s.pc(66,mu,1==t.showdisabled)),s.Db(18),s.mc("ngClass",s.pc(68,fu,t.submitted&&t.f.is_Surety_Bond.errors)),s.Db(3),s.mc("ngClass",s.pc(70,fu,t.submitted&&t.f.is_Surety_Bond.errors)),s.Db(3),s.mc("ngIf",(t.f.is_Surety_Bond.touched||t.submitted)&&t.f.is_Surety_Bond.errors),s.Db(2),s.mc("ngClass",s.pc(72,mu,"yes"!=t.f.is_Surety_Bond.value)),s.Db(1),s.mc("ngClass",s.pc(74,mu,"yes"!=t.f.is_Surety_Bond.value)),s.Db(6),s.mc("ngIf","yes"==(null==t.suretyForm||null==t.suretyForm.value?null:t.suretyForm.value.is_Surety_Bond)),s.Db(2),s.mc("ngClass",s.pc(76,fu,t.submitted&&t.f.surety_Company_Name.errors)),s.Eb("disabled",1==t.showdisabled||("yes"!=t.f.is_Surety_Bond.value?"":null)),s.Db(1),s.mc("ngIf",t.submitted&&t.f.surety_Company_Name.errors),s.Db(5),s.mc("ngIf","yes"==(null==t.suretyForm||null==t.suretyForm.value?null:t.suretyForm.value.is_Surety_Bond)),s.Db(2),s.mc("ngClass",s.pc(78,fu,t.submitted&&t.f.surety_Agent_Name.errors)),s.Eb("disabled",1==t.showdisabled||("yes"!=t.f.is_Surety_Bond.value?"":null)),s.Db(1),s.mc("ngIf",t.submitted&&t.f.surety_Agent_Name.errors),s.Db(5),s.mc("ngIf","yes"==(null==t.suretyForm||null==t.suretyForm.value?null:t.suretyForm.value.is_Surety_Bond)),s.Db(2),s.mc("ngClass",s.pc(80,fu,t.submitted&&t.f.surety_Agent_Email.errors)),s.Eb("disabled",1==t.showdisabled||("yes"!=t.f.is_Surety_Bond.value?"":null)),s.Db(1),s.mc("ngIf",t.submitted&&t.f.surety_Agent_Email.errors),s.Db(5),s.mc("ngIf","yes"==(null==t.suretyForm||null==t.suretyForm.value?null:t.suretyForm.value.is_Surety_Bond)),s.Db(3),s.mc("ngClass",s.pc(82,fu,t.submitted&&t.f.surety_Agent_Phone.errors)),s.Eb("disabled",1==t.showdisabled||("yes"!=t.f.is_Surety_Bond.value?"":null)),s.Db(1),s.mc("ngIf",(t.submitted||t.f.surety_Agent_Phone.touched)&&t.f.surety_Agent_Phone.errors),s.Db(2),s.mc("ngClass",s.pc(84,fu,t.submitted&&t.f.surety_Agent_Phone_Ext.errors)),s.Eb("disabled",1==t.showdisabled||("yes"!=t.f.is_Surety_Bond.value?"":null)),s.Db(1),s.mc("ngIf",(t.submitted||t.f.surety_Agent_Phone_Ext.touched)&&t.f.surety_Agent_Phone_Ext.errors),s.Db(5),s.mc("ngIf","yes"==(null==t.suretyForm||null==t.suretyForm.value?null:t.suretyForm.value.is_Surety_Bond)),s.Db(2),s.mc("ngClass",s.pc(86,fu,t.submitted&&t.f.present_Surety_Years.errors)),s.Eb("disabled",1==t.showdisabled||("yes"!=t.f.is_Surety_Bond.value?"":null)),s.Db(1),s.mc("ngValue",null),s.Db(2),s.mc("ngForOf",t.suretyyears),s.Db(1),s.mc("ngIf",(t.submitted||t.f.present_Surety_Years.touched)&&t.f.present_Surety_Years.errors),s.Db(5),s.mc("ngIf","yes"==(null==t.suretyForm||null==t.suretyForm.value?null:t.suretyForm.value.is_Surety_Bond)),s.Db(2),s.mc("ngClass",s.pc(88,fu,t.submitted&&t.f.bonding_Limit.errors)),s.Eb("disabled",1==t.showdisabled||("yes"!=t.f.is_Surety_Bond.value?"":null)),s.Db(1),s.mc("ngIf",t.submitted&&t.f.bonding_Limit.errors),s.Db(5),s.mc("ngIf","yes"==(null==t.suretyForm||null==t.suretyForm.value?null:t.suretyForm.value.is_Surety_Bond)),s.Db(2),s.mc("ngClass",s.pc(90,fu,t.submitted&&t.f.aggregate_Bonding.errors)),s.Eb("disabled",1==t.showdisabled||("yes"!=t.f.is_Surety_Bond.value?"":null)),s.Db(1),s.mc("ngIf",t.submitted&&t.f.aggregate_Bonding.errors),s.Db(5),s.mc("ngIf","yes"==(null==t.suretyForm||null==t.suretyForm.value?null:t.suretyForm.value.is_Surety_Bond)),s.Db(2),s.mc("ngClass",s.pc(92,fu,t.submitted&&t.f.available_Bonding.errors)),s.Eb("disabled",1==t.showdisabled||("yes"!=t.f.is_Surety_Bond.value?"":null)),s.Db(1),s.mc("ngIf",t.submitted&&t.f.available_Bonding.errors),s.Db(5),s.mc("ngIf",null==t.f.surety_Upload||null==t.f.surety_Upload.errors?null:t.f.surety_Upload.errors.required),s.Db(3),s.mc("ngClass",s.pc(94,fu,t.submitted&&t.f.surety_Upload.errors)),s.Eb("disabled",1==t.showdisabled||("yes"!=t.f.is_Surety_Bond.value?"":null)),s.Db(3),s.mc("ngIf",t.submitted&&t.f.surety_Upload.errors),s.Db(1),s.mc("ngIf",null==t.spinner?null:t.spinner.bondingSpinner),s.Db(1),s.mc("ngForOf",t.bondingAttachment),s.Db(13),s.mc("ngClass",s.pc(96,fu,t.submitted&&t.f.is_Risk_Manager.errors)),s.Db(3),s.mc("ngClass",s.pc(98,fu,t.submitted&&t.f.is_Risk_Manager.errors)),s.Db(3),s.mc("ngIf",(t.f.is_Risk_Manager.touched||t.submitted)&&t.f.is_Risk_Manager.errors),s.Db(3),s.mc("ngClass",s.pc(100,mu,"no"==t.f.is_Risk_Manager.value)),s.Db(2),s.mc("ngIf","yes"==(null==t.suretyForm||null==t.suretyForm.value?null:t.suretyForm.value.is_Risk_Manager)),s.Db(2),s.mc("ngClass",s.pc(102,fu,t.submitted&&t.f.risk_Manager_Name.errors)),s.Eb("disabled",1==t.showdisabled||("no"==t.f.is_Risk_Manager.value?"":null)),s.Db(1),s.mc("ngIf",t.submitted&&t.f.risk_Manager_Name.errors),s.Db(3),s.mc("ngClass",s.pc(104,mu,"no"==t.f.is_Risk_Manager.value)),s.Db(2),s.mc("ngIf","yes"==(null==t.suretyForm||null==t.suretyForm.value?null:t.suretyForm.value.is_Risk_Manager)),s.Db(2),s.mc("ngClass",s.pc(106,fu,t.submitted&&t.f.risk_Manager_Email.errors)),s.Eb("disabled",1==t.showdisabled||("no"==t.f.is_Risk_Manager.value?"":null)),s.Db(1),s.mc("ngIf",t.submitted&&t.f.risk_Manager_Email.errors),s.Db(4),s.mc("ngIf",!(t.showAdmin||t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status)),s.Db(1),s.mc("ngIf",!t.showAdmin&&t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status||t.showAdmin),s.Db(1),s.mc("ngIf","Subcontractor"!=t.userRole&&"Prequal form submitted and under quality check"!=t.prequalification_status))},directives:[n.v,n.k,n.g,o.j,n.q,n.b,n.j,n.f,o.l,n.c,n.p,y,n.o,n.t,n.n,n.w,o.k,P.a,G],styles:["h6[_ngcontent-%COMP%]{font-size:13px!important}.bg-grey[_ngcontent-%COMP%], .bg-grey[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .bg-grey[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{color:#c7bfbf!important}.row[_ngcontent-%COMP%]{margin-top:10px}.float-left[_ngcontent-%COMP%]{float:left}"]}),e})()},{path:"otherinfo",component:Ua},{path:"financialinfo",component:Eo},{path:"signature",component:Fl},{path:"submittomesser",component:na},{path:"summary",component:Vd}]}];let gu=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.Nb({type:e}),e.\u0275inj=s.Mb({imports:[[r.i.forChild(hu),n.h,n.r],r.i]}),e})();var _u=i("+0xr"),vu=i("GK3i");let yu=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.Nb({type:e}),e.\u0275inj=s.Mb({imports:[[o.c,gu,n.h,n.r,vu.a,_u.l]]}),e})()}}]);