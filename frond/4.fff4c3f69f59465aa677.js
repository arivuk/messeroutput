(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{UGqF:function(e,t,i){"use strict";i.r(t),i.d(t,"QualificationModule",function(){return Ml});var o=i("ofXK"),n=i("3Pt+"),r=i("tyNb");const s=[{name:"Alabama",abbreviation:"AL"},{name:"Alaska",abbreviation:"AK"},{name:"American Samoa",abbreviation:"AS"},{name:"Arizona",abbreviation:"AZ"},{name:"Arkansas",abbreviation:"AR"},{name:"California",abbreviation:"CA"},{name:"Colorado",abbreviation:"CO"},{name:"Connecticut",abbreviation:"CT"},{name:"Delaware",abbreviation:"DE"},{name:"District Of Columbia",abbreviation:"DC"},{name:"Federated States Of Micronesia",abbreviation:"FM"},{name:"Florida",abbreviation:"FL"},{name:"Georgia",abbreviation:"GA"},{name:"Guam",abbreviation:"GU"},{name:"Hawaii",abbreviation:"HI"},{name:"Idaho",abbreviation:"ID"},{name:"Illinois",abbreviation:"IL"},{name:"Indiana",abbreviation:"IN"},{name:"Iowa",abbreviation:"IA"},{name:"Kansas",abbreviation:"KS"},{name:"Kentucky",abbreviation:"KY"},{name:"Louisiana",abbreviation:"LA"},{name:"Maine",abbreviation:"ME"},{name:"Marshall Islands",abbreviation:"MH"},{name:"Maryland",abbreviation:"MD"},{name:"Massachusetts",abbreviation:"MA"},{name:"Michigan",abbreviation:"MI"},{name:"Minnesota",abbreviation:"MN"},{name:"Mississippi",abbreviation:"MS"},{name:"Missouri",abbreviation:"MO"},{name:"Montana",abbreviation:"MT"},{name:"Nebraska",abbreviation:"NE"},{name:"Nevada",abbreviation:"NV"},{name:"New Hampshire",abbreviation:"NH"},{name:"New Jersey",abbreviation:"NJ"},{name:"New Mexico",abbreviation:"NM"},{name:"New York",abbreviation:"NY"},{name:"North Carolina",abbreviation:"NC"},{name:"North Dakota",abbreviation:"ND"},{name:"Northern Mariana Islands",abbreviation:"MP"},{name:"Ohio",abbreviation:"OH"},{name:"Oklahoma",abbreviation:"OK"},{name:"Oregon",abbreviation:"OR"},{name:"Palau",abbreviation:"PW"},{name:"Pennsylvania",abbreviation:"PA"},{name:"Puerto Rico",abbreviation:"PR"},{name:"Rhode Island",abbreviation:"RI"},{name:"South Carolina",abbreviation:"SC"},{name:"South Dakota",abbreviation:"SD"},{name:"Tennessee",abbreviation:"TN"},{name:"Texas",abbreviation:"TX"},{name:"Utah",abbreviation:"UT"},{name:"Vermont",abbreviation:"VT"},{name:"Virgin Islands",abbreviation:"VI"},{name:"Virginia",abbreviation:"VA"},{name:"Washington",abbreviation:"WA"},{name:"West Virginia",abbreviation:"WV"},{name:"Wisconsin",abbreviation:"WI"},{name:"Wyoming",abbreviation:"WY"},{name:"Other",abbreviation:"OT"}];var a=i("fXoL"),c=i("WyCn"),l=i("VZc4"),d=i("+lv+"),u=i("FbN+"),p=i("2Vo4"),m=i("pLZG");let b=(()=>{class e{constructor(){this.toastParam=null,this.subject=new p.a(this.toastParam),this.toast$=this.subject.asObservable().pipe(Object(m.a)(e=>null!==e))}show(e,t,i,o){this.subject.next({type:e,title:t,body:i,delay:o})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var f=i("5eHb"),h=i("0IaG"),_=i("0+Iz");let g=(()=>{class e{constructor(){this.showAdmin=!1,this.organization_status=""}setAdmin(e){this.showAdmin=e}setOrganization(e){this.organization_status=e}setOrgupdatedate(e){this.getOrgupdatedate=e}validateEmpty(e){return null==e||"null"==e||null==e||"undefined"==e?"":e}formDisable(e){return"Under initial Risk review"==e||"Under final Risk review"==e||"Risk review Completed"==e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var v=i("gren");let y=(()=>{class e{constructor(e){this.ngControl=e}onModelChange(e){this.onInputChange(e,!1)}keydownBackspace(e){this.onInputChange(e.target.value,!0)}onInputChange(e,t){var i;let o=e.replace(/\D/g,"");t&&o.length<=6&&(o=o.substring(0,o.length-1)),0===o.length?o="":o.length<=3?o=o.replace(/^(\d{0,3})/,"($1)"):o.length<=6?o=o.replace(/^(\d{0,3})(\d{0,3})/,"($1) $2"):(o.length<=10||(o=o.substring(0,10)),o=o.replace(/^(\d{0,3})(\d{0,3})(\d{0,4})/,"($1) $2-$3")),null===(i=this.ngControl.valueAccessor)||void 0===i||i.writeValue(o)}}return e.\u0275fac=function(t){return new(t||e)(a.Pb(n.i))},e.\u0275dir=a.Kb({type:e,selectors:[["","formControlName","","appPhoneMask",""]],hostBindings:function(e,t){1&e&&a.cc("ngModelChange",function(e){return t.onModelChange(e)})("keydown.backspace",function(e){return t.keydownBackspace(e)})}}),e})();class V{constructor(e){this._name=e,this.last=null,this.picker="",this.dragStart=!1,this.dragOver=!1,this.pick=[],this.list=[],this.sift=[]}get name(){return this._name}}function U(e,t){if(1&e){const e=a.Wb();a.Vb(0,"form",9),a.Vb(1,"input",10),a.cc("ngModelChange",function(t){return a.uc(e),a.gc().available.picker=t})("ngModelChange",function(){a.uc(e);const t=a.gc();return t.onFilter(t.available)}),a.Ub(),a.Ub()}if(2&e){const e=a.gc();a.Db(1),a.mc("ngModel",e.available.picker)}}const D=function(e,t){return{selected:e,disabled:t}};function C(e,t){if(1&e){const e=a.Wb();a.Vb(0,"li",11),a.cc("click",function(i){a.uc(e);const o=t.$implicit,n=t.index,r=a.gc();return!r.disabled&&r.selectItem(r.available.pick,o),r.shiftClick(i,n,r.available,o)})("dragstart",function(i){a.uc(e);const o=t.$implicit,n=a.gc();return n.drag(i,o,n.available)})("dragend",function(){a.uc(e);const t=a.gc();return t.dragEnd(t.available)}),a.Vb(1,"label"),a.Dc(2),a.Ub(),a.Ub()}if(2&e){const e=t.$implicit,i=a.gc();a.mc("ngClass",a.qc(3,D,i.isItemSelected(i.available.pick,e),i.disabled))("draggable",!i.disabled&&i.format.draggable),a.Db(2),a.Ec(e._name)}}function I(e,t){if(1&e){const e=a.Wb();a.Vb(0,"form",9),a.Vb(1,"input",12),a.cc("ngModelChange",function(t){return a.uc(e),a.gc().confirmed.picker=t})("ngModelChange",function(){a.uc(e);const t=a.gc();return t.onFilter(t.confirmed)}),a.Ub(),a.Ub()}if(2&e){const e=a.gc();a.Db(1),a.mc("ngModel",e.confirmed.picker)}}function R(e,t){if(1&e){const e=a.Wb();a.Vb(0,"li",11,13),a.cc("click",function(i){a.uc(e);const o=t.$implicit,n=t.index,r=a.gc();return!r.disabled&&r.selectItem(r.confirmed.pick,o),r.shiftClick(i,n,r.confirmed,o)})("dragstart",function(i){a.uc(e);const o=t.$implicit,n=a.gc();return n.drag(i,o,n.confirmed)})("dragend",function(){a.uc(e);const t=a.gc();return t.dragEnd(t.confirmed)}),a.Vb(2,"label"),a.Dc(3),a.Ub(),a.Ub()}if(2&e){const e=t.$implicit,i=a.gc();a.mc("ngClass",a.qc(3,D,i.isItemSelected(i.confirmed.pick,e),i.disabled))("draggable",!i.disabled&&i.format.draggable),a.Db(3),a.Ec(e._name)}}const F=function(e,t){return{order:e,"margin-left":t}},S=function(e,t){return{"max-height":e,"min-height":t}},w=function(e){return{over:e}};var j=0;let x=(()=>{class e{constructor(t){this.differs=t,this.id="dual-list-"+j++,this.key="_id",this.display="_name",this.height="100px",this.filter=!1,this.format=e.DEFAULT_FORMAT,this.sort=!1,this.disabled=!1,this.source=[],this.destination=[],this.destinationChange=new a.o,this.sorter=(e,t)=>e._name<t._name?-1:e._name>t._name?1:0,this.available=new V(e.AVAILABLE_LIST_NAME),this.confirmed=new V(e.CONFIRMED_LIST_NAME)}ngOnChanges(t){t.filter&&!1===t.filter.currentValue&&(this.clearFilter(this.available),this.clearFilter(this.confirmed)),t.sort&&(!0===t.sort.currentValue&&void 0===this.compare?this.compare=this.sorter:!1===t.sort.currentValue&&(this.compare=void 0)),t.format&&(this.format=t.format.currentValue,void 0===this.format.direction&&(this.format.direction=e.LTR),void 0===this.format.add&&(this.format.add=e.DEFAULT_FORMAT.add),void 0===this.format.remove&&(this.format.remove=e.DEFAULT_FORMAT.remove),void 0===this.format.all&&(this.format.all=e.DEFAULT_FORMAT.all),void 0===this.format.none&&(this.format.none=e.DEFAULT_FORMAT.none),void 0===this.format.draggable&&(this.format.draggable=e.DEFAULT_FORMAT.draggable)),t.source&&(this.available=new V(e.AVAILABLE_LIST_NAME),this.updatedSource(),this.updatedDestination()),t.destination&&(this.confirmed=new V(e.CONFIRMED_LIST_NAME),this.updatedDestination(),this.updatedSource())}ngDoCheck(){this.source&&this.buildAvailable(this.source)&&this.onFilter(this.available),this.destination&&this.buildConfirmed(this.destination)&&this.onFilter(this.confirmed)}buildAvailable(e){const t=this.sourceDiffer.diff(e);return!!t&&(t.forEachRemovedItem(e=>{const t=this.findItemIndex(this.available.list,e.item,this.key);-1!==t&&this.available.list.splice(t,1)}),t.forEachAddedItem(e=>{-1===this.findItemIndex(this.available.list,e.item,this.key)&&this.available.list.push({_id:this.makeId(e.item),_name:this.makeName(e.item)})}),void 0!==this.compare&&this.available.list.sort(this.compare),this.available.sift=this.available.list,!0)}buildConfirmed(e){let t=!1;const i=this.destinationDiffer.diff(e);return!!i&&(i.forEachRemovedItem(e=>{const i=this.findItemIndex(this.confirmed.list,e.item,this.key);-1!==i&&(this.isItemSelected(this.confirmed.pick,this.confirmed.list[i])||this.selectItem(this.confirmed.pick,this.confirmed.list[i]),this.moveItem(this.confirmed,this.available,this.confirmed.list[i],!1),t=!0)}),i.forEachAddedItem(e=>{const i=this.findItemIndex(this.available.list,e.item,this.key);-1!==i&&(this.isItemSelected(this.available.pick,this.available.list[i])||this.selectItem(this.available.pick,this.available.list[i]),this.moveItem(this.available,this.confirmed,this.available.list[i],!1),t=!0)}),void 0!==this.compare&&this.confirmed.list.sort(this.compare),this.confirmed.sift=this.confirmed.list,t&&this.trueUp(),!0)}updatedSource(){this.available.list.length=0,this.available.pick.length=0,void 0!==this.source&&(this.sourceDiffer=this.differs.find(this.source).create())}updatedDestination(){void 0!==this.destination&&(this.destinationDiffer=this.differs.find(this.destination).create())}direction(){return this.format.direction===e.LTR}dragEnd(e){return e?e.dragStart=!1:(this.available.dragStart=!1,this.confirmed.dragStart=!1),!1}drag(e,t,i){var o;this.isItemSelected(i.pick,t)||this.selectItem(i.pick,t),i.dragStart=!0,null===(o=null==e?void 0:e.dataTransfer)||void 0===o||o.setData(this.id,t._id)}allowDrop(e,t){var i;return(null===(i=e.dataTransfer)||void 0===i?void 0:i.types.length)&&e.dataTransfer.types[0]===this.id&&(e.preventDefault(),t.dragStart||(t.dragOver=!0)),!1}dragLeave(){this.available.dragOver=!1,this.confirmed.dragOver=!1}drop(e,t){var i;(null===(i=null==e?void 0:e.dataTransfer)||void 0===i?void 0:i.types.length)&&e.dataTransfer.types[0]===this.id&&(e.preventDefault(),this.dragLeave(),this.dragEnd(),t===this.available?this.moveItem(this.available,this.confirmed):this.moveItem(this.confirmed,this.available))}trueUp(){let e=!1,t=this.destination.length;for(;(t-=1)>=0;)0===this.confirmed.list.filter(e=>"object"==typeof this.destination[t]?e._id===this.destination[t][this.key]:e._id===this.destination[t]).length&&(this.destination.splice(t,1),e=!0);for(let i=0,o=this.confirmed.list.length;i<o;i+=1){let t=this.destination.filter(e=>"object"==typeof e?e[this.key]===this.confirmed.list[i]._id:e===this.confirmed.list[i]._id);0===t.length&&(t=this.source.filter(e=>"object"==typeof e?e[this.key]===this.confirmed.list[i]._id:e===this.confirmed.list[i]._id),t.length>0&&(this.destination.push(t[0]),e=!0))}e&&this.destinationChange.emit(this.destination)}findItemIndex(e,t,i="_id"){let o=-1;return e.filter("object"==typeof t?function(n){return n._id===t[i]&&(o=e.indexOf(n),!0)}:function(i){return i._id===t&&(o=e.indexOf(i),!0)}),o}makeUnavailable(e,t){const i=e.list.indexOf(t);-1!==i&&e.list.splice(i,1)}moveItem(e,t,i=null,o=!0){let n=0,r=e.pick.length;for(i&&(n=e.list.indexOf(i),r=n+1);n<r;n+=1){let o=[];if(i){const t=this.findItemIndex(e.pick,i);-1!==t&&(o[0]=e.pick[t])}else o=e.list.filter(t=>t._id===e.pick[n]._id);1===o.length&&(0===t.list.filter(e=>e._id===o[0]._id).length&&t.list.push(o[0]),this.makeUnavailable(e,o[0]))}void 0!==this.compare&&t.list.sort(this.compare),e.pick.length=0,o&&this.trueUp(),setTimeout(()=>{this.onFilter(e),this.onFilter(t)},10)}isItemSelected(e,t){return e.filter(e=>Object.is(e,t)).length>0}shiftClick(e,t,i,o){if(e.shiftKey&&i.last&&!Object.is(o,i.last)){const e=i.sift.indexOf(i.last);if(t>e)for(let o=e+1;o<t;o+=1)this.selectItem(i.pick,i.sift[o]);else if(-1!==e)for(let o=t+1;o<e;o+=1)this.selectItem(i.pick,i.sift[o])}i.last=o}selectItem(e,t){const i=e.filter(e=>Object.is(e,t));if(i.length>0)for(let o=0,n=i.length;o<n;o+=1){const t=e.indexOf(i[o]);-1!==t&&e.splice(t,1)}else e.push(t)}selectAll(e){e.pick.length=0,e.pick=e.sift.slice(0)}selectNone(e){e.pick.length=0}isAllSelected(e){return 0===e.list.length||e.list.length===e.pick.length}isAnySelected(e){return e.pick.length>0}unpick(e){for(let t=e.pick.length-1;t>=0;t-=1)-1===e.sift.indexOf(e.pick[t])&&e.pick.splice(t,1)}clearFilter(e){e&&(e.picker="",this.onFilter(e))}onFilter(e){if(e.picker.length>0)try{const t=e.list.filter(t=>"[object Object]"===Object.prototype.toString.call(t)?void 0!==t._name?-1!==t._name.toLocaleLowerCase(this.format.locale).indexOf(e.picker.toLocaleLowerCase(this.format.locale)):-1!==JSON.stringify(t).toLocaleLowerCase(this.format.locale).indexOf(e.picker.toLocaleLowerCase(this.format.locale)):-1!==t.toLocaleLowerCase(this.format.locale).indexOf(e.picker.toLocaleLowerCase(this.format.locale)));e.sift=t,this.unpick(e)}catch(t){t instanceof RangeError&&(this.format.locale=void 0),e.sift=e.list}else e.sift=e.list}makeId(e){return"object"==typeof e?e[this.key]:e}makeName(e,t="_"){const i=this.display;function o(e){switch(Object.prototype.toString.call(e)){case"[object Number]":case"[object String]":return e;default:return void 0!==e?e[i]:"undefined"}}let n="";if(void 0!==this.display)switch(Object.prototype.toString.call(this.display)){case"[object Function]":n=this.display(e);break;case"[object Array]":for(let i=0,o=this.display.length;i<o;i+=1)if(n.length>0&&(n+=t),-1===this.display[i].indexOf("."))n+=e[this.display[i]];else{const t=this.display[i].split("."),o=e[t[0]];if(o)if(-1!==t[1].indexOf("substring")){const e=t[1].substring(t[1].indexOf("(")+1,t[1].indexOf(")")).split(",");switch(e.length){case 1:n+=o.substring(parseInt(e[0],10));break;case 2:n+=o.substring(parseInt(e[0],10),parseInt(e[1],10));break;default:n+=o}}else n+=o}break;default:n=o(e)}else n=o(e);return n}}return e.AVAILABLE_LIST_NAME="available",e.CONFIRMED_LIST_NAME="confirmed",e.LTR="left-to-right",e.RTL="right-to-left",e.DEFAULT_FORMAT={add:"Add",remove:"Remove",all:"All",none:"None",direction:e.LTR,draggable:!0,locale:void 0},e.\u0275fac=function(t){return new(t||e)(a.Pb(a.u))},e.\u0275cmp=a.Jb({type:e,selectors:[["app-duallist"]],inputs:{id:"id",key:"key",display:"display",height:"height",filter:"filter",format:"format",sort:"sort",compare:"compare",disabled:"disabled",source:"source",destination:"destination"},outputs:{destinationChange:"destinationChange"},features:[a.Bb],decls:17,vars:32,consts:[[1,"dual-list"],[1,"listbox",3,"ngStyle"],["class","filter",4,"ngIf"],[1,"record-picker"],[3,"ngStyle","ngClass","drop","dragover","dragleave"],[3,"ngClass","draggable","click","dragstart","dragend",4,"ngFor","ngForOf"],[1,"button-bar"],["type","button","name","addBtn",1,"btn","btn-primary","btn-block",3,"ngClass","disabled","click"],["type","button","name","removeBtn",1,"btn","btn-primary","btn-block",3,"ngClass","disabled","click"],[1,"filter"],["name","filterSource",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngClass","draggable","click","dragstart","dragend"],["name","filterDestination",1,"form-control",3,"ngModel","ngModelChange"],["itmConf",""]],template:function(e,t){1&e&&(a.Vb(0,"div",0),a.Vb(1,"div",1),a.Bc(2,U,2,1,"form",2),a.Vb(3,"div",3),a.Vb(4,"ul",4),a.cc("drop",function(e){return t.drop(e,t.confirmed)})("dragover",function(e){return t.allowDrop(e,t.available)})("dragleave",function(){return t.dragLeave()}),a.Bc(5,C,3,6,"li",5),a.Ub(),a.Ub(),a.Vb(6,"div",6),a.Vb(7,"button",7),a.cc("click",function(){return t.moveItem(t.available,t.confirmed)}),a.Dc(8),a.Ub(),a.Ub(),a.Ub(),a.Vb(9,"div",1),a.Bc(10,I,2,1,"form",2),a.Vb(11,"div",3),a.Vb(12,"ul",4),a.cc("drop",function(e){return t.drop(e,t.available)})("dragover",function(e){return t.allowDrop(e,t.confirmed)})("dragleave",function(){return t.dragLeave()}),a.Bc(13,R,4,6,"li",5),a.Ub(),a.Ub(),a.Vb(14,"div",6),a.Vb(15,"button",8),a.cc("click",function(){return t.moveItem(t.confirmed,t.available)}),a.Dc(16),a.Ub(),a.Ub(),a.Ub(),a.Ub()),2&e&&(a.Db(1),a.mc("ngStyle",a.qc(16,F,t.direction()?1:2,t.direction()?0:"10px")),a.Db(1),a.mc("ngIf",t.filter),a.Db(2),a.mc("ngStyle",a.qc(19,S,t.height,t.height))("ngClass",a.pc(22,w,t.available.dragOver)),a.Db(1),a.mc("ngForOf",t.available.sift),a.Db(2),a.mc("ngClass",t.direction()?"point-right":"point-left")("disabled",0===t.available.pick.length),a.Db(1),a.Ec(t.format.add),a.Db(1),a.mc("ngStyle",a.qc(24,F,t.direction()?2:1,t.direction()?"10px":0)),a.Db(1),a.mc("ngIf",t.filter),a.Db(2),a.mc("ngStyle",a.qc(27,S,t.height,t.height))("ngClass",a.pc(30,w,t.confirmed.dragOver)),a.Db(1),a.mc("ngForOf",t.confirmed.sift),a.Db(2),a.mc("ngClass",t.direction()?"point-left":"point-right")("disabled",0===t.confirmed.pick.length),a.Db(1),a.Ec(t.format.remove))},directives:[o.m,o.l,o.j,o.k,n.v,n.k,n.l,n.b,n.j,n.m],styles:['div.record-picker[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto;border:1px solid #ddd;border-radius:8px;position:relative;cursor:pointer;height:175px}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-button{width:0;height:0}div.record-picker[_ngcontent-%COMP%]{scrollbar-base-color:#337ab7;scrollbar-3dlight-color:#337ab7;scrollbar-highlight-color:#337ab7;scrollbar-track-color:#eee;scrollbar-arrow-color:grey;scrollbar-shadow-color:grey;scrollbar-dark-shadow-color:grey}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#eee;box-shadow:inset 0 0 3px #dfdfdf;border-top-right-radius:8px;border-bottom-right-radius:8px}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#337ab7;border:thin solid grey;border-top-right-radius:8px;border-bottom-right-radius:8px}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#286090}.record-picker[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding:0 0 1px}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-top:thin solid #ddd;border-bottom:1px solid #ddd;display:block;padding:2px 2px 2px 10px;margin-bottom:-1px;font-size:.85em;cursor:pointer;white-space:nowrap;min-height:16px}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.record-picker[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background-color:#d9edf7}.record-picker[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:hover{background-color:#c4e3f3}.record-picker[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:default;background-color:inherit}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{border-top-left-radius:8px;border-top-right-radius:8px;border-top:none}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom-left-radius:8px;border-bottom-right-radius:8px;border-bottom:none}.record-picker[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;font-weight:inherit;font-size:14px;padding:4px;margin-bottom:-1px;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.record-picker[_ngcontent-%COMP%]   ul.over[_ngcontent-%COMP%]{background-color:#d3d3d3}.dual-list[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-content:flex-start}.dual-list[_ngcontent-%COMP%]   .listbox[_ngcontent-%COMP%]{width:50%;margin:0}.dual-list[_ngcontent-%COMP%]   .button-bar[_ngcontent-%COMP%]{margin-top:8px}.point-right[_ngcontent-%COMP%]:after{content:"\\25B6";padding-left:1em}.point-left[_ngcontent-%COMP%]:before{content:"\\25C0";padding-right:1em}.dual-list[_ngcontent-%COMP%]   .button-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:47%}button.btn-block[_ngcontent-%COMP%]{display:block;width:100%;margin-bottom:8px}.filter[_ngcontent-%COMP%]{margin-bottom:-2.2em}.filter[_ngcontent-%COMP%]:after{content:"o";width:40px;color:transparent;font-size:2em;background-image:url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M0 64l192 192v192l128-32V256L512 64H0z"/></svg>\');background-repeat:no-repeat;background-position:50%;opacity:.2;top:-36px;left:calc(100% - 21px);position:relative}']}),e})();var k=i("Xa2L");const P=["exampleModal"];function A(e,t){1&e&&(a.Vb(0,"div",171),a.Dc(1,"Organization type is required "),a.Ub())}function O(e,t){if(1&e&&(a.Vb(0,"div",169),a.Bc(1,A,2,0,"div",170),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.org_Type.errors.required)}}function E(e,t){1&e&&(a.Vb(0,"div",179),a.Dc(1," Reason is required "),a.Ub())}function M(e,t){if(1&e&&(a.Vb(0,"div",177),a.Bc(1,E,2,0,"div",178),a.Ub()),2&e){const e=a.gc(2);a.Db(1),a.mc("ngIf",null==e.f.org_Other_Details||null==e.f.org_Other_Details.errors?null:e.f.org_Other_Details.errors.required)}}const N=function(e){return{"is-invalid":e}};function T(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",9),a.Qb(1,"div",172),a.Vb(2,"div",103),a.Vb(3,"div",173),a.Vb(4,"label",174),a.Dc(5,"If other, describe circumstances. "),a.Ub(),a.Vb(6,"textarea",175),a.cc("ngModelChange",function(){return a.uc(e),a.gc().idleReset(1)}),a.Ub(),a.Bc(7,M,2,1,"div",176),a.Ub(),a.Ub(),a.Ub()}if(2&e){const e=a.gc();a.Db(6),a.mc("ngClass",a.pc(2,N,e.submitted&&(null==e.f.org_Other_Details?null:e.f.org_Other_Details.errors))),a.Db(1),a.mc("ngIf",(e.submitted||e.f.org_Other_Details.touched)&&(null==e.f.org_Other_Details?null:e.f.org_Other_Details.errors))}}function B(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Date of incorporation is required"),a.Ub())}function q(e,t){if(1&e&&(a.Vb(0,"div",180),a.Bc(1,B,2,0,"div",181),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.date_Of_Incorporation.errors.required)}}function L(e,t){if(1&e&&(a.Vb(0,"option",15),a.Dc(1),a.Ub()),2&e){const e=t.$implicit;a.mc("ngValue",e.name),a.Db(1),a.Fc("",e.name," ")}}function Y(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"State of incorporation is required"),a.Ub())}function z(e,t){if(1&e&&(a.Vb(0,"div",180),a.Bc(1,Y,2,0,"div",181),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.state_Of_Incorporation.errors.required)}}function $(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Prequalification Contact name is required"),a.Ub())}function Q(e,t){if(1&e&&(a.Vb(0,"div",180),a.Bc(1,$,2,0,"div",181),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.contact_Name.errors.required)}}function G(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Prequalification Contact email is required"),a.Ub())}function W(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Enter a valid Email"),a.Ub())}function H(e,t){if(1&e&&(a.Vb(0,"div",180),a.Bc(1,G,2,0,"div",181),a.Bc(2,W,2,0,"div",181),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.contact_Email.errors.required),a.Db(1),a.mc("ngIf",e.f.contact_Email.errors.email)}}function Z(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Prequalification contact phone is required"),a.Ub())}function K(e,t){if(1&e&&(a.Vb(0,"div",180),a.Bc(1,Z,2,0,"div",181),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.contact_Mobile.errors.required)}}function X(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Extension is required "),a.Ub())}function J(e,t){if(1&e&&(a.Vb(0,"div",180),a.Bc(1,X,2,0,"div",181),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.contact_Mobile_Ext.errors.required)}}function ee(e,t){1&e&&(a.Vb(0,"div",184),a.Dc(1," Certified diverse/minority business is required "),a.Ub())}function te(e,t){if(1&e&&(a.Vb(0,"div",182),a.Bc(1,ee,2,0,"div",183),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",null==e.f.is_Certified_Diverse.errors?null:e.f.is_Certified_Diverse.errors.required)}}function ie(e,t){1&e&&(a.Vb(0,"span",12),a.Dc(1,"*"),a.Ub())}function oe(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Last year is required"),a.Ub())}function ne(e,t){if(1&e&&(a.Vb(0,"div",180),a.Bc(1,oe,2,0,"div",181),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.annual_Construction_Last_Year.errors.required)}}function re(e,t){1&e&&(a.Vb(0,"span",12),a.Dc(1,"*"),a.Ub())}function se(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Past 2 years is required"),a.Ub())}function ae(e,t){if(1&e&&(a.Vb(0,"div",180),a.Bc(1,se,2,0,"div",181),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.annual_Construction_2_Years.errors.required)}}function ce(e,t){1&e&&(a.Vb(0,"span",12),a.Dc(1,"*"),a.Ub())}function le(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Past 3 years is required"),a.Ub())}function de(e,t){if(1&e&&(a.Vb(0,"div",180),a.Bc(1,le,2,0,"div",181),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.annual_Construction_3_Years.errors.required)}}function ue(e,t){1&e&&(a.Vb(0,"div",187),a.Dc(1," Parent company is required "),a.Ub())}function pe(e,t){if(1&e&&(a.Vb(0,"div",185),a.Bc(1,ue,2,0,"div",186),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",null==e.f.is_Parent_Company.errors?null:e.f.is_Parent_Company.errors.required)}}function me(e,t){1&e&&(a.Vb(0,"span",12),a.Dc(1,"*"),a.Ub())}function be(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Contact name is required "),a.Ub())}function fe(e,t){if(1&e&&(a.Vb(0,"div",180),a.Bc(1,be,2,0,"div",181),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.parent_Company_Name.errors.required)}}function he(e,t){1&e&&(a.Vb(0,"span",12),a.Dc(1,"*"),a.Ub())}function _e(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Address Line 1 is required"),a.Ub())}function ge(e,t){if(1&e&&(a.Vb(0,"div",180),a.Bc(1,_e,2,0,"div",181),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.parent_Company_Address1.errors.required)}}function ve(e,t){1&e&&(a.Vb(0,"span",12),a.Dc(1,"*"),a.Ub())}function ye(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"City is required"),a.Ub())}function Ve(e,t){if(1&e&&(a.Vb(0,"div",180),a.Bc(1,ye,2,0,"div",181),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.parent_Company_City.errors.required)}}function Ue(e,t){1&e&&(a.Vb(0,"span",12),a.Dc(1,"*"),a.Ub())}function De(e,t){if(1&e&&(a.Vb(0,"option",15),a.Dc(1),a.Ub()),2&e){const e=t.$implicit;a.mc("ngValue",e.name),a.Db(1),a.Fc("",e.name," ")}}function Ce(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"State is required"),a.Ub())}function Ie(e,t){if(1&e&&(a.Vb(0,"div",180),a.Bc(1,Ce,2,0,"div",181),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.parent_Company_State.errors.required)}}function Re(e,t){1&e&&(a.Vb(0,"span",12),a.Dc(1,"*"),a.Ub())}function Fe(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Zip code is required "),a.Ub())}function Se(e,t){if(1&e&&(a.Vb(0,"div",180),a.Bc(1,Fe,2,0,"div",181),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.parent_Company_Zipcode.errors.required)}}function we(e,t){1&e&&(a.Vb(0,"span",12),a.Dc(1,"*"),a.Ub())}function je(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Country is required "),a.Ub())}function xe(e,t){if(1&e&&(a.Vb(0,"div",180),a.Bc(1,je,2,0,"div",181),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.parent_Company_Country.errors.required)}}function ke(e,t){1&e&&(a.Vb(0,"span",12),a.Dc(1,"*"),a.Ub())}function Pe(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Parent Company FEIN Number / Tax-id is required"),a.Ub())}function Ae(e,t){if(1&e&&(a.Vb(0,"div",180),a.Bc(1,Pe,2,0,"div",181),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.parent_Company_FEIN.errors.required)}}function Oe(e,t){1&e&&(a.Vb(0,"span",12),a.Dc(1,"*"),a.Ub())}function Ee(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Attachment is required"),a.Ub())}function Me(e,t){if(1&e&&(a.Vb(0,"div",180),a.Bc(1,Ee,2,0,"div",181),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.w9_Document_Attachment.errors.required)}}function Ne(e,t){1&e&&(a.Vb(0,"div",188),a.Vb(1,"span"),a.Dc(2,"Uploading..."),a.Ub(),a.Qb(3,"mat-progress-spinner",189),a.Ub())}function Te(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div"),a.Vb(1,"p",190),a.Vb(2,"small"),a.Vb(3,"a",191),a.Dc(4),a.Ub(),a.Ub(),a.Vb(5,"small",192),a.cc("click",function(){a.uc(e);const i=t.index,o=t.$implicit;return a.gc().removedocumentw9file(i,o)}),a.Dc(6,"X"),a.Ub(),a.Ub(),a.Ub()}if(2&e){const e=t.$implicit;a.Db(3),a.nc("href",e.file_Path,a.wc),a.Db(1),a.Ec(e.name)}}function Be(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Executive officer #1 name is required"),a.Ub())}function qe(e,t){if(1&e&&(a.Vb(0,"div",180),a.Bc(1,Be,2,0,"div",181),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.executive_Officer_Name.errors.required)}}function Le(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Executive officer #1 title is required"),a.Ub())}function Ye(e,t){if(1&e&&(a.Vb(0,"div",180),a.Bc(1,Le,2,0,"div",181),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.executive_Officer_Title.errors.required)}}function ze(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Executive officer #1 email is required"),a.Ub())}function $e(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Enter a valid Email"),a.Ub())}function Qe(e,t){if(1&e&&(a.Vb(0,"div",180),a.Bc(1,ze,2,0,"div",181),a.Bc(2,$e,2,0,"div",181),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.executive_Officer_Email.errors.required),a.Db(1),a.mc("ngIf",e.f.executive_Officer_Email.errors.email)}}function Ge(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Enter a valid Email"),a.Ub())}function We(e,t){if(1&e&&(a.Vb(0,"div",180),a.Bc(1,Ge,2,0,"div",181),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.executive_Officer_Email2.errors.email)}}function He(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Bankruptcy proceeding is required"),a.Ub())}function Ze(e,t){if(1&e&&(a.Vb(0,"div",180),a.Bc(1,He,2,0,"div",181),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.is_Bank_Ruptcy.errors.required)}}function Ke(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Reason is required"),a.Ub())}function Xe(e,t){if(1&e&&(a.Vb(0,"div",180),a.Bc(1,Ke,2,0,"div",181),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.bank_Ruptcy_Info.errors.required)}}function Je(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Limits or restrictions is required "),a.Ub())}function et(e,t){if(1&e&&(a.Vb(0,"div",180),a.Bc(1,Je,2,0,"div",181),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.is_Limit_Licenses.errors.required)}}function tt(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Reason is required"),a.Ub())}function it(e,t){if(1&e&&(a.Vb(0,"div",180),a.Bc(1,tt,2,0,"div",181),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.limit_Licenses_Info.errors.required)}}function ot(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"License suspended or revoked is required"),a.Ub())}function nt(e,t){if(1&e&&(a.Vb(0,"div",180),a.Bc(1,ot,2,0,"div",181),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.is_Suspended_Licenses.errors.required)}}function rt(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Reason is required"),a.Ub())}function st(e,t){if(1&e&&(a.Vb(0,"div",180),a.Bc(1,rt,2,0,"div",181),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.suspended_Licenses_Info.errors.required)}}function at(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",193),a.Vb(1,"button",194),a.cc("click",function(){return a.uc(e),a.gc().gotoHome()}),a.Dc(2," << BACK"),a.Ub(),a.Vb(3,"button",195),a.cc("click",function(){return a.uc(e),a.gc().save()}),a.Dc(4),a.Ub(),a.Vb(5,"button",196),a.Dc(6,"NEXT >>"),a.Ub(),a.Ub()}if(2&e){const e=a.gc();a.Db(4),a.Ec(e.submitText)}}function ct(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",197),a.Vb(1,"button",194),a.cc("click",function(){return a.uc(e),a.gc().gotoHome()}),a.Dc(2," << BACK"),a.Ub(),a.Vb(3,"button",198),a.cc("click",function(){return a.uc(e),a.gc().nextroutePage()}),a.Dc(4,"NEXT >>"),a.Ub(),a.Ub()}}const lt=function(e){return{"bg-grey":e}},dt=function(e){return{"bg-grey4":e}};let ut=(()=>{class e{constructor(e,t,i,o,r,a,c,l,d,u,p,m,b){this.formBuilder=e,this.router=t,this.companyservice=i,this.bnIdle=o,this.zone=r,this.idle=a,this.keepalive=c,this.toaster=l,this.toastr=d,this.dialog=u,this.project=p,this.logininfo=m,this.ngxUiLoader=b,this.currentForm=0,this.submitted=!1,this.prequalification_status="",this.regionSource=["Charlotte, North Carolina","Cincinnati, Ohio","Columbus, Ohio","Dayton, Ohio","Indianapolis, Indiana","Knoxville, Tennessee","Lexington, Kentucky","Louisville, Kentucky","Nashville, Tennessee","Raleigh, North Carolina"],this.regionDest=[],this.companyInfo=this.formBuilder.group({id:[0],vendorID:[],taxID:[""],companyName:[""],org_Type:["",[n.u.required,n.u.maxLength(130)]],org_Other_Details:[""],date_Of_Incorporation:["",[n.u.required]],state_Of_Incorporation:["",[n.u.required]],contact_Name:["",[n.u.required,n.u.maxLength(256)]],contact_Email:["",[n.u.required,n.u.maxLength(256),n.u.email,n.u.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)]],contact_Mobile:["",[n.u.required,n.u.minLength(15)]],contact_Mobile_Ext:["",[n.u.maxLength(256)]],is_Certified_Diverse:["no",[n.u.required,n.u.maxLength(130)]],is_Parent_Company:["no",[n.u.required]],parent_Company_Name:[""],parent_Company_Address1:[""],parent_Company_Address2:[""],parent_Company_City:[""],parent_Company_State:[""],parent_Company_Zipcode:[""],parent_Company_Country:["USA"],parent_Company_FEIN:[""],w9_Document_Attachment:[""],geographic_Area:["",[n.u.required]],percentage_Of_Annual_Revenue:["00",[n.u.required,n.u.pattern(/^-?(0|[1-9]\d*)?$/)]],annual_Construction_Last_Year:["",[n.u.required]],annual_Construction_2_Years:["",[n.u.required]],annual_Construction_3_Years:["",[n.u.required]],executive_Officer_Name:["",[n.u.required]],executive_Officer_Title:["",[n.u.required]],executive_Officer_Email:["",[n.u.required,n.u.maxLength(256),n.u.email,n.u.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)]],executive_Officer_Name2:[""],executive_Officer_Title2:[""],executive_Officer_Email2:["",[n.u.email]],is_Bank_Ruptcy:["no",[n.u.required]],bank_Ruptcy_Info:[""],is_Limit_Licenses:["no",[n.u.required]],limit_Licenses_Info:[""],is_Suspended_Licenses:["no",[n.u.required]],suspended_Licenses_Info:[""],preQualification_Status:["To complete prequalification"],approved_Date:[""],reject_Reason:[""],standing:[""],user_Type:[""],safety:[""],experience:[""],finance:[""],personnel:[""],surity:[""],reference:[""],other:[""],organizationStatus:[""],signature:[""],certified_Diverse_Attachment:["",[n.u.maxLength(130)]],additional_Details:["",[n.u.maxLength(256)]],CD_Upload:[""],other_details:["",n.u.maxLength(256)],isAutosave:[!1],city:[""],state:[null],org_Size:[],region:[]}),this.cpaUpload=[],this.autoSaveAlert=!1,this.setTimeout=0,this.firstTime=0,this.resetTimer=0,this.is_Certified_Diverse="",this.showSaveModal=!1,this.showAdmin=!1,this.userRole="",this.companyId=0,this.selectdisabled=!1,this.worktypes=["Option 1","Option 2","Option 3","Option 4","Option 1","Option 2","Option 3","Option 4","Option 1","Option 2","Option 3","Option 4","Option 1","Option 2","Option 3","Option 4"],this.spinner={trirLastSpinner:!1,trirTwoSpinner:!1,trirThreeSpinner:!1,docmentSpinner:!1},this.tempannuallastyear=[],this.annualtwoyear=[],this.annualthreeyear=[],this.tempannualtwoyear=[],this.tempannualthreeyear=[],this.annuallastyear=[],this.stateNames=s,this.tempdocumentw9file=[],this.documentw9file=[],this.toppings=new n.e,this.stateTotal=[{name:"",percentage:""}]}ngOnInit(){this.ngxUiLoader.startLoader("loader-01");let e=localStorage.getItem("userDetails");e&&(e=JSON.parse(atob(e)),this.userDetails=e,this.userRole=e.role,this.tempcompanyid=localStorage.getItem("tempcompanyid"),this.tempcompanyid=Number(atob(this.tempcompanyid)),console.log(this.tempcompanyid),localStorage.setItem("currPage","companyinfo"),this.tempcompanyid>0&&"Subcontractor"!=this.userRole&&(this.showAdmin=!0,this.selectdisabled=!0,this.companyservice.getRecord(this.tempcompanyid).subscribe(e=>{e=e[0],this.companyservice.companyId=this.tempcompanyid,this.logininfo.setOrgupdatedate(e.updatedDate),this.updateCompanyinfo(e)}),this.companyInfo.disable(),this.companyInfo.updateValueAndValidity(),this.logininfo.setAdmin(!0)),this.submitText="SAVE",null!=this.userDetails.vendorId&&null!=this.userDetails.taxId&&"Subcontractor"==this.userRole&&this.companyservice.getUser(this.userDetails.vendorId,this.userDetails.taxId).subscribe(e=>{this.companyId=e.id,this.companyservice.companyId=e.id,localStorage.setItem("companyid",btoa(e.id)),this.companyId>0&&(localStorage.setItem("companyid",btoa(this.companyId)),this.companyservice.getRecord(this.companyId).subscribe(e=>{this.logininfo.setOrgupdatedate(e[0].updatedDate),console.log(e,e[0].preQualification_Status),console.log(e,e[0].preQualification_Status,"To complete prequalification"!=e[0].preQualification_Status,"Additional Info Needed from Subcontractor"!=e[0].preQualification_Status),e[0].preQualification_Status&&this.logininfo.formDisable(e[0].preQualification_Status)&&(this.selectdisabled=!0,this.companyInfo.disable(),this.companyInfo.updateValueAndValidity()),this.submitText="UPDATE",this.updateCompanyinfo(e[0])}))}),this.ngxUiLoader.stopLoader("loader-01"))}getRecord(){this.companyservice.getUser(this.userDetails.vendorId,this.userDetails.taxId).subscribe(e=>{this.companyId=e.id,this.companyId>0&&(localStorage.setItem("companyid",btoa(this.companyId)),this.companyservice.getRecord(this.companyId).subscribe(t=>{this.submitText=t[0].is_Parent_Company?"UPDATE":"SAVE",console.log(e.updateDate),this.logininfo.setOrgupdatedate(t.updatedDate),this.updateCompanyinfo(t[0])}))})}CommaFormatted(e,t){var i,o;e.AT_TARGET>=37&&e.AT_TARGET<=40||this.companyInfo.patchValue({[t]:null===(o=null===(i=this.companyInfo.get(t))||void 0===i?void 0:i.value)||void 0===o?void 0:o.replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,",")})}numberCheck(e){return"e"!==e.key&&"+"!==e.key&&"-"!==e.key}companyDetailReset(){this.companyInfo.patchValue({parent_Company_Name:"",parent_Company_Address1:"",parent_Company_Address2:"",parent_Company_City:"",parent_Company_State:"",parent_Company_Zipcode:"",parent_Company_Country:"",parent_Company_FEIN:""}),this.selectdisabled=!1,this.documentw9file.forEach((e,t)=>{this.removedocumentw9file(t,e,!1)})}licenseStateReset(){this.companyInfo.patchValue({suspended_Licenses_Info:""})}licenseReset(){this.companyInfo.patchValue({limit_Licenses_Info:""})}bankruptcyReset(){this.companyInfo.patchValue({bank_Ruptcy_Info:""})}updateCompanyinfo(e){var t,i,o,n;let r=[];this.stateTotal=[],null===(t=null==e?void 0:e.geographic_Area)||void 0===t||t.split(",").filter(e=>{this.stateTotal.push({name:e.split("--")[0],percentage:e.split("--")[1]})}),0==this.stateTotal.length&&this.stateTotal.push({name:"",percentage:""}),console.log(r),console.log(e.org_Type),this.companyInfo.patchValue({id:e.id,org_Type:this.logininfo.validateEmpty(null===(i=null==e?void 0:e.org_Type)||void 0===i?void 0:i.toLowerCase()),org_Other_Details:this.logininfo.validateEmpty(e.org_Other_Details),date_Of_Incorporation:this.logininfo.validateEmpty(null===(o=null==e?void 0:e.date_Of_Incorporation)||void 0===o?void 0:o.split("T")[0]),state_Of_Incorporation:this.logininfo.validateEmpty(e.state_Of_Incorporation),contact_Name:this.logininfo.validateEmpty(e.contact_Name),contact_Email:this.logininfo.validateEmpty(e.contact_Email),contact_Mobile:this.logininfo.validateEmpty(e.contact_Mobile),contact_Mobile_Ext:this.logininfo.validateEmpty(e.contact_Mobile_Ext),is_Certified_Diverse:this.logininfo.validateEmpty(e.is_Certified_Diverse),is_Parent_Company:this.logininfo.validateEmpty(e.is_Parent_Company),parent_Company_Name:this.logininfo.validateEmpty(e.parent_Company_Name),parent_Company_Address1:this.logininfo.validateEmpty(e.parent_Company_Address1),parent_Company_Address2:this.logininfo.validateEmpty(e.parent_Company_Address2),parent_Company_City:this.logininfo.validateEmpty(e.parent_Company_City),parent_Company_State:this.logininfo.validateEmpty(e.parent_Company_State),parent_Company_Zipcode:this.logininfo.validateEmpty(e.parent_Company_Zipcode),parent_Company_Country:this.logininfo.validateEmpty(e.parent_Company_Country),parent_Company_FEIN:this.logininfo.validateEmpty(e.parent_Company_FEIN),geographic_Area:this.logininfo.validateEmpty(this.stateTotal),percentage_Of_Annual_Revenue:this.logininfo.validateEmpty(e.percentage_Of_Annual_Revenue),executive_Officer_Name:this.logininfo.validateEmpty(e.executive_Officer_Name),executive_Officer_Title:this.logininfo.validateEmpty(e.executive_Officer_Title),executive_Officer_Email:this.logininfo.validateEmpty(e.executive_Officer_Email),executive_Officer_Name2:this.logininfo.validateEmpty(e.executive_Officer_Name2),executive_Officer_Title2:this.logininfo.validateEmpty(e.executive_Officer_Title2),executive_Officer_Email2:this.logininfo.validateEmpty(e.executive_Officer_Email2),is_Bank_Ruptcy:this.logininfo.validateEmpty(e.is_Bank_Ruptcy),bank_Ruptcy_Info:this.logininfo.validateEmpty(e.bank_Ruptcy_Info),is_Limit_Licenses:this.logininfo.validateEmpty(e.is_Limit_Licenses),limit_Licenses_Info:this.logininfo.validateEmpty(e.limit_Licenses_Info),is_Suspended_Licenses:this.logininfo.validateEmpty(e.is_Suspended_Licenses),suspended_Licenses_Info:this.logininfo.validateEmpty(e.suspended_Licenses_Info),preQualification_Status:this.logininfo.validateEmpty(e.preQualification_Status),reject_Reason:this.logininfo.validateEmpty(e.reject_Reason),standing:e.standing,companyName:e.companyName,vendorID:e.vendorID,taxID:e.taxID,approved_Date:e.approved_Date,annual_Construction_Last_Year:this.logininfo.validateEmpty(e.annual_Construction_Last_Year),annual_Construction_2_Years:this.logininfo.validateEmpty(e.annual_Construction_2_Years),annual_Construction_3_Years:this.logininfo.validateEmpty(e.annual_Construction_3_Years),region:e.messer_Region,org_Size:e.messer_Dollar});let s=null===(n=e.messer_Region)||void 0===n?void 0:n.split(",");if(s)for(let a=0;a<s.length-1;a+=2)this.regionDest.push(`${s[a]},${s[a+1]}`);this.selectedToppings=r,(null==e?void 0:e.additional_Details)&&"null"!=(null==e?void 0:e.additional_Details)&&this.companyInfo.patchValue({additional_Details:null==e?void 0:e.additional_Details}),this.prequalification_status=e.preQualification_Status,this.logininfo.setOrganization(e.preQualification_Status),this.annuallastyear=[],this.annualtwoyear=[],this.annualthreeyear=[],this.documentw9file=[],e.files.filter(e=>{"Annual_Construction_Last_Year"==e.file_Type&&0==e.isDeleted&&(e.file_Name.length<31?this.annuallastyear.push({id:e.id,name:e.file_Name,file_Path:e.file_Path}):0==e.isDeleted&&this.annuallastyear.push({id:e.id,name:e.file_Name.substring(0,31)+"....",file_Path:e.file_Path})),"Annual_Construction_2_Years"==e.file_Type&&0==e.isDeleted&&(e.file_Name.length<31?this.annualtwoyear.push({id:e.id,name:e.file_Name,file_Path:e.file_Path}):0==e.isDeleted&&this.annualtwoyear.push({id:e.id,name:e.file_Name.substring(0,31)+"....",file_Path:e.file_Path})),"Annual_Construction_3_Years"==e.file_Type&&0==e.isDeleted&&(e.file_Name.length<31?this.annualthreeyear.push({id:e.id,name:e.file_Name,file_Path:e.file_Path}):0==e.isDeleted&&this.annualthreeyear.push({id:e.id,name:e.file_Name.substring(0,31)+"....",file_Path:e.file_Path})),"W9_Document_Attachment"==e.file_Type&&0==e.isDeleted&&(e.file_Name.length<31?this.documentw9file.push({id:e.id,name:e.file_Name,file_Path:e.file_Path}):0==e.isDeleted&&this.documentw9file.push({id:e.id,name:e.file_Name.substring(0,31)+"....",file_Path:e.file_Path}))})}ngAfterViewInit(){this.keepalive.interval(30),this.keepalive.start(),this.keepalive.stop()}ngOnDestroy(){this.keepalive.stop(),this.nextpage()}ngOnChanges(){document.getElementById("exampleModals").click()}idleReset(e){this.keepalive.start(),this.resetTimer=0}get f(){return"other"==this.companyInfo.value.org_Type?this.companyInfo.controls.org_Other_Details.setValidators([n.u.required,n.u.maxLength(256)]):(this.companyInfo.controls.org_Other_Details.clearValidators(),this.companyInfo.patchValue({org_Other_Details:this.logininfo.validateEmpty(this.companyInfo.value.org_Other_Details)})),this.companyInfo.controls.org_Other_Details.updateValueAndValidity(),"yes"==this.companyInfo.value.is_Parent_Company?(this.companyInfo.controls.parent_Company_Name.setValidators([n.u.required,n.u.maxLength(256)]),this.companyInfo.controls.parent_Company_Address1.setValidators([n.u.required,n.u.maxLength(256)]),this.companyInfo.controls.parent_Company_City.setValidators([n.u.required,n.u.maxLength(256)]),this.companyInfo.controls.parent_Company_State.setValidators([n.u.required,n.u.maxLength(256)]),this.companyInfo.controls.parent_Company_Zipcode.setValidators([n.u.required,n.u.maxLength(256),n.u.pattern(/^-?(0|[1-9]\d*)?$/)]),this.companyInfo.controls.parent_Company_Country.setValidators([n.u.required,n.u.maxLength(256)]),this.companyInfo.controls.parent_Company_FEIN.setValidators([n.u.required,n.u.maxLength(256)]),this.companyInfo.controls.w9_Document_Attachment.setValidators([n.u.required])):"no"==this.companyInfo.value.is_Parent_Company&&(this.companyInfo.controls.parent_Company_Name.clearValidators(),this.companyInfo.controls.parent_Company_Address1.clearValidators(),this.companyInfo.controls.parent_Company_City.clearValidators(),this.companyInfo.controls.parent_Company_State.clearValidators(),this.companyInfo.controls.parent_Company_Country.clearValidators(),this.companyInfo.controls.parent_Company_Zipcode.clearValidators(),this.companyInfo.controls.parent_Company_FEIN.clearValidators(),this.companyInfo.controls.w9_Document_Attachment.clearValidators()),this.companyInfo.controls.parent_Company_Name.updateValueAndValidity(),this.companyInfo.controls.parent_Company_Address1.updateValueAndValidity(),this.companyInfo.controls.parent_Company_City.updateValueAndValidity(),this.companyInfo.controls.parent_Company_State.updateValueAndValidity(),this.companyInfo.controls.parent_Company_Country.updateValueAndValidity(),this.companyInfo.controls.parent_Company_FEIN.updateValueAndValidity(),this.companyInfo.controls.parent_Company_Zipcode.updateValueAndValidity(),this.companyInfo.controls.w9_Document_Attachment.updateValueAndValidity(),null==this.companyInfo.value.is_Certified_Diverse?this.companyInfo.controls.is_Certified_Diverse.setValidators([n.u.required]):this.companyInfo.controls.is_Certified_Diverse.setValue(this.companyInfo.value.is_Certified_Diverse),"yes"==this.companyInfo.value.is_Bank_Ruptcy?this.companyInfo.controls.bank_Ruptcy_Info.setValidators([n.u.required,n.u.maxLength(256)]):(this.companyInfo.controls.bank_Ruptcy_Info.clearValidators(),this.companyInfo.patchValue({bank_Ruptcy_Info:this.logininfo.validateEmpty(this.companyInfo.value.bank_Ruptcy_Info)})),this.companyInfo.controls.bank_Ruptcy_Info.updateValueAndValidity(),"yes"==this.companyInfo.value.is_Limit_Licenses?this.companyInfo.controls.limit_Licenses_Info.setValidators([n.u.required,n.u.maxLength(256)]):(this.companyInfo.controls.limit_Licenses_Info.clearValidators(),this.companyInfo.patchValue({limit_Licenses_Info:this.logininfo.validateEmpty(this.companyInfo.value.limit_Licenses_Info)})),this.companyInfo.controls.limit_Licenses_Info.updateValueAndValidity(),"yes"==this.companyInfo.value.is_Suspended_Licenses?this.companyInfo.controls.suspended_Licenses_Info.setValidators([n.u.required,n.u.maxLength(256)]):(this.companyInfo.controls.suspended_Licenses_Info.clearValidators(),this.companyInfo.patchValue({suspended_Licenses_Info:this.logininfo.validateEmpty(this.companyInfo.value.suspended_Licenses_Info)})),this.companyInfo.controls.suspended_Licenses_Info.updateValueAndValidity(),1==this.stateTotal.length?""!=this.stateTotal[0].name||""!=this.stateTotal[0].percentage?(this.companyInfo.controls.geographic_Area.clearValidators(),this.companyInfo.controls.percentage_Of_Annual_Revenue.clearValidators()):(this.companyInfo.controls.geographic_Area.setValidators([n.u.required]),this.companyInfo.controls.percentage_Of_Annual_Revenue.setValidators([n.u.required])):this.stateNames.length>1&&(this.companyInfo.controls.geographic_Area.clearValidators(),this.companyInfo.controls.percentage_Of_Annual_Revenue.clearValidators()),this.companyInfo.controls.geographic_Area.updateValueAndValidity(),this.companyInfo.controls.percentage_Of_Annual_Revenue.updateValueAndValidity(),this.companyInfo.controls}submit(){if(this.keepalive.stop(),this.ngxUiLoader.startLoader("loader-01"),"Subcontractor"!=this.userRole)this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`]);else if(0==this.companyId){this.companyInfo.patchValue({isAutosave:!1});let e=this.formMethod();this.companyservice.addRecord(e).subscribe(e=>{localStorage.setItem("companyid",btoa(e.id)),this.companyInfo.patchValue({id:e.id,isAutosave:!1}),this.autoSaveAlert=!1,this.toastr.success("Organization Information saved successfully","Organizational Information"),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])})}else{this.companyInfo.patchValue({id:this.companyId,isAutosave:!0});let e=this.formMethod();this.companyservice.updateRecord(e,this.companyInfo.value.id).subscribe(e=>{this.companyservice.companyId=e.id,localStorage.setItem("companyid",btoa(e.id)),this.toastr.success("Organization Info updated successfully","Organizational Information"),this.autoSaveAlert=!1,this.getRecord(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])})}}save(){if(this.submitted=!0,this.keepalive.stop(),this.companyInfo.patchValue({companyName:this.userDetails.companyName,vendorID:this.userDetails.vendorID,taxID:this.userDetails.taxID}),console.log(this.companyInfo),this.companyInfo.valid)if(0==this.companyId){this.companyInfo.patchValue({isAutosave:!1});let e=this.formMethod();this.companyservice.addRecord(e).subscribe(e=>{localStorage.setItem("companyid",btoa(e.id)),this.companyservice.companyId=e.id,this.companyInfo.patchValue({id:e.id}),this.submitText="UPDATE",this.autoSaveAlert=!1,this.toastr.success("Organizational Information saved successfully","Organization Information"),this.getRecord()},e=>{})}else{this.companyInfo.patchValue({isAutosave:!0,id:this.companyId});let e=this.formMethod();this.companyservice.updateRecord(e,this.companyInfo.value.id).subscribe(e=>{this.companyservice.companyId=e.id,localStorage.setItem("companyid",btoa(e.id)),this.autoSaveAlert=!1,this.getRecord(),this.toastr.success("Organizational Information updated successfully","Organization Information")})}}autoSave(){if(this.companyInfo.patchValue({companyName:this.userDetails.companyName,vendorID:this.userDetails.vendorID,taxID:this.userDetails.taxID}),this.resetTimer+=1,1==this.resetTimer)if(this.keepalive.stop(),this.showSaveModal=!1,0==this.companyId){this.companyInfo.patchValue({isAutosave:!1});let e=this.formMethod();this.companyservice.addRecord(e).subscribe(e=>{this.companyInfo.patchValue({id:e.id,isAutosave:!1}),this.submitText="UPDATE",this.autoSaveAlert=!1,this.keepalive.stop(),this.getRecord()})}else{this.companyInfo.patchValue({id:this.companyId,isAutosave:!0});let e=this.formMethod();this.companyservice.updateRecord(e,this.companyInfo.value.id).subscribe(e=>{this.autoSaveAlert=!1,this.keepalive.stop(),this.getRecord()})}}nextpage(){if("Subcontractor"==this.userRole)if(0==this.companyId){this.companyInfo.patchValue({isAutosave:!1});let e=this.formMethod();this.companyservice.addRecord(e).subscribe(e=>{localStorage.setItem("companyid",btoa(e.id)),this.companyInfo.patchValue({id:e.id,isAutosave:!1}),this.autoSaveAlert=!1})}else{this.companyInfo.patchValue({id:this.companyId,isAutosave:!0});let e=this.formMethod();this.companyservice.updateRecord(e,this.companyInfo.value.id).subscribe(e=>{this.companyservice.companyId=e.id,localStorage.setItem("companyid",btoa(e.id)),this.autoSaveAlert=!1})}}formMethod(){var e=new FormData;e.append("id",this.companyInfo.value.id),e.append("additional_Details",this.logininfo.validateEmpty(this.companyInfo.value.additional_Details)),e.append("certified_Diverse_Attachment",this.logininfo.validateEmpty(this.companyInfo.value.certified_Diverse_Attachment)),e.append("contact_Email",this.logininfo.validateEmpty(this.companyInfo.value.contact_Email)),e.append("contact_Mobile",this.logininfo.validateEmpty(this.companyInfo.value.contact_Mobile)),e.append("contact_Name",this.logininfo.validateEmpty(this.companyInfo.value.contact_Name)),e.append("is_Certified_Diverse",this.logininfo.validateEmpty(this.companyInfo.value.is_Certified_Diverse)),e.append("org_Type",this.logininfo.validateEmpty(this.companyInfo.value.org_Type)),e.append("CD_Upload",""),e.append("preQualification_Status",this.logininfo.validateEmpty(this.companyInfo.value.preQualification_Status)),e.append("companyName",this.logininfo.validateEmpty(this.userDetails.companyName)),e.append("vendorID",this.logininfo.validateEmpty(this.userDetails.vendorId)),e.append("taxID",this.logininfo.validateEmpty(this.userDetails.taxId)),e.append("org_Other_Details",this.logininfo.validateEmpty(this.companyInfo.value.org_Other_Details)),e.append("date_Of_Incorporation",this.logininfo.validateEmpty(this.companyInfo.value.date_Of_Incorporation)),e.append("state_Of_Incorporation",this.logininfo.validateEmpty(this.companyInfo.value.state_Of_Incorporation)),e.append("contact_Name",this.logininfo.validateEmpty(this.companyInfo.value.contact_Name)),e.append("contact_Mobile",this.logininfo.validateEmpty(this.companyInfo.value.contact_Mobile)),e.append("contact_Mobile_Ext",this.logininfo.validateEmpty(this.companyInfo.value.contact_Mobile_Ext)),e.append("is_Parent_Company",this.logininfo.validateEmpty(this.companyInfo.value.is_Parent_Company)),e.append("parent_Company_Name",this.logininfo.validateEmpty(this.companyInfo.value.parent_Company_Name)),e.append("parent_Company_Address1",this.logininfo.validateEmpty(this.companyInfo.value.parent_Company_Address1)),e.append("parent_Company_Address2",this.logininfo.validateEmpty(this.companyInfo.value.parent_Company_Address2)),e.append("parent_Company_City",this.logininfo.validateEmpty(this.companyInfo.value.parent_Company_City)),e.append("parent_Company_State",this.logininfo.validateEmpty(this.companyInfo.value.parent_Company_State)),e.append("parent_Company_Zipcode",this.logininfo.validateEmpty(this.companyInfo.value.parent_Company_Zipcode)),e.append("parent_Company_Country",this.logininfo.validateEmpty(this.companyInfo.value.parent_Company_Country)),e.append("parent_Company_FEIN",this.logininfo.validateEmpty(this.companyInfo.value.parent_Company_FEIN)),e.append("percentage_Of_Annual_Revenue","00"),e.append("executive_Officer_Name",this.logininfo.validateEmpty(this.companyInfo.value.executive_Officer_Name)),e.append("executive_Officer_Title",this.logininfo.validateEmpty(this.companyInfo.value.executive_Officer_Title)),e.append("executive_Officer_Email",this.logininfo.validateEmpty(this.companyInfo.value.executive_Officer_Email)),e.append("executive_Officer_Name2",this.logininfo.validateEmpty(this.companyInfo.value.executive_Officer_Name2)),e.append("executive_Officer_Title2",this.logininfo.validateEmpty(this.companyInfo.value.executive_Officer_Title2)),e.append("executive_Officer_Email2",this.logininfo.validateEmpty(this.companyInfo.value.executive_Officer_Email2)),e.append("is_Bank_Ruptcy",this.logininfo.validateEmpty(this.companyInfo.value.is_Bank_Ruptcy)),e.append("bank_Ruptcy_Info",this.logininfo.validateEmpty(this.companyInfo.value.bank_Ruptcy_Info)),e.append("is_Limit_Licenses",this.logininfo.validateEmpty(this.companyInfo.value.is_Limit_Licenses)),e.append("limit_Licenses_Info",this.logininfo.validateEmpty(this.companyInfo.value.limit_Licenses_Info)),e.append("is_Suspended_Licenses",this.logininfo.validateEmpty(this.companyInfo.value.is_Suspended_Licenses)),e.append("suspended_Licenses_Info",this.logininfo.validateEmpty(this.companyInfo.value.suspended_Licenses_Info)),e.append("annual_Construction_Last_Year",this.companyInfo.value.annual_Construction_Last_Year),e.append("annual_Construction_2_Years",this.companyInfo.value.annual_Construction_2_Years),e.append("annual_Construction_3_Years",this.companyInfo.value.annual_Construction_3_Years),e.append("messer_Region",this.regionDest),e.append("messer_Dollar",this.companyInfo.value.org_Size),this.tempannualthreeyear=[];for(let i=0;i<this.tempdocumentw9file.length;i++)e.append("W9_Document_Attachment",this.tempdocumentw9file[i]);this.tempdocumentw9file=[];let t=[];return this.stateTotal.filter(e=>{""!=e.name&&""!=e.percentage&&t.push(e.name+"--"+e.percentage)}),console.log(t),e.append("geographic_Area",String(t)),e}gotoHome(){this.router.navigate(["/home"])}gotoNext(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])}triRInfoLastYearUpload(e){let t=document.getElementById("annual_Construction_Last_Year");for(let i=0;i<t.files.length;i++)this.tempannuallastyear.push(t.files[i]);this.spinner.trirLastSpinner=!0,this.fileupload()}removetriRInfoLastYearUpload(e,t){this.selectdisabled||this.companyservice.deleteRecord(t.id).subscribe(t=>{this.toastr.info("File removed successfully","Company Info"),this.annuallastyear.splice(e,1)})}triRInfoThreeYearsUpload(e){let t=document.getElementById("annual_Construction_3_Years");for(let i=0;i<t.files.length;i++)this.tempannualthreeyear.push(t.files[i]);this.spinner.trirThreeSpinner=!0,this.fileupload()}removetriRInfoThreeYearsUpload(e,t){this.selectdisabled||this.companyservice.deleteRecord(t.id).subscribe(t=>{this.toastr.info("File removed successfully","Company Info"),this.annualthreeyear.splice(e,1)})}triRInfoTwoYearsUpload(e){let t=document.getElementById("annual_Construction_2_Years");for(let i=0;i<t.files.length;i++)this.tempannualtwoyear.push(t.files[i]);this.spinner.trirTwoSpinner=!0,this.fileupload()}removetriRInfoTwoYearsUpload(e,t){this.selectdisabled||this.companyservice.deleteRecord(t.id).subscribe(t=>{this.toastr.info("File removed successfully","Company Info"),this.annualtwoyear.splice(e,1)})}documentw9fileUpload(e){let t=document.getElementById("w9_Document_Attachment");for(let i=0;i<t.files.length;i++)this.tempdocumentw9file.push(t.files[i]);this.spinner.docmentSpinner=!0,this.fileupload()}removedocumentw9file(e,t,i=!0){this.selectdisabled||this.companyservice.deleteRecord(t.id).subscribe(t=>{i&&this.toastr.info("File removed successfully","Company Info"),this.documentw9file.splice(e,1)})}fileupload(){if(0==this.companyId){this.companyInfo.patchValue({isAutosave:!0});let e=this.formMethod();this.companyservice.addRecord(e).subscribe(e=>{this.submitText="UPDATE",this.getRecord(),this.fileReset(),this.keepalive.stop(),this.resetSpinner()})}else{this.companyInfo.patchValue({isAutosave:!0});let e=this.formMethod();this.companyservice.updateRecord(e,this.companyId).subscribe(e=>{this.getRecord(),this.fileReset(),this.keepalive.stop(),this.resetSpinner(),this.companyInfo.patchValue({isAutosave:!1})})}}fileReset(){this.companyInfo.patchValue({triR_Info_LastYear:"",triR_Info_TwoYears:"",triR_Info_ThreeYears:""})}resetSpinner(){this.spinner={trirLastSpinner:!1,trirTwoSpinner:!1,trirThreeSpinner:!1,docmentSpinner:!1}}addGeographicarea(){this.stateTotal.push({name:"",percentage:""})}removeGeographicalarea(e,t){this.selectdisabled||(this.stateTotal.splice(t,1),0==this.stateTotal.length&&this.stateTotal.push({name:"",percentage:""}))}nextroutePage(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])}}return e.\u0275fac=function(t){return new(t||e)(a.Pb(n.d),a.Pb(r.f),a.Pb(c.a),a.Pb(l.a),a.Pb(a.B),a.Pb(d.a),a.Pb(u.a),a.Pb(b),a.Pb(f.b),a.Pb(h.a),a.Pb(_.a),a.Pb(g),a.Pb(v.c))},e.\u0275cmp=a.Jb({type:e,selectors:[["app-companyinfo"]],viewQuery:function(e,t){if(1&e&&a.Hc(P,1),2&e){let e;a.rc(e=a.dc())&&(t.exampleModals=e.first)}},features:[a.Bb],decls:448,vars:212,consts:[[1,"m-2",3,"formGroup","ngSubmit","keydown.enter"],[1,"px-2","form-bg",3,"ngClass"],[1,"form-group","input-group","row","px-1","mx-auto","pt-3"],[1,"row"],[1,"col-lg-6","col-head-0","mx-auto"],[1,"row","col-curve-top","bg-white","mx-0","px-0","pt-2","pb-4"],[1,"col-12","pt-2"],[1,"row","my-auto","pt-2","ps"],["for","organization-type",1,"my-auto","fw-bold"],[1,"row","my-auto","pt-1","mx-auto","ps-2"],[1,"col-5","col-lg-4","my-auto"],["for","organization-type",1,"my-auto","font-italic"],[1,"text-danger"],[1,"col-7","col-lg-8"],["formControlName","org_Type","id","organization-type","name","org_Type","aria-label","Default select example",1,"form-control","form-select","my-2",3,"ngClass","ngModelChange"],[3,"ngValue"],["selected","",3,"ngValue"],["class","invalid-feedback","id","org_Type",4,"ngIf"],["class","row  my-auto pt-1 mx-auto ps-2",4,"ngIf"],["for","date_Of_Incorporation",1,"my-auto","font-italic"],[1,""],["type","date","row","5","formControlName","date_Of_Incorporation","id","date_Of_Incorporation","name","date_Of_Incorporation",1,"form-control",3,"ngClass","ngModelChange"],["class","invalid-feedback",4,"ngIf"],[1,"row","my-auto","pt-2","mx-auto","ps-2"],["for","state_Of_Incorporation",1,"my-auto","font-italic"],["id","state_Of_Incorporation","name","state_Of_Incorporation","formControlName","state_Of_Incorporation",1,"form-control","form-select","select-height",3,"ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"note","fw-bold","p-0","pt-3",3,"ngClass"],[1,"col-lg-6","pe-1","ps-3","col-head-0","mx-auto"],[1,"row","bg-white","col-curve-top","mx-0","px-0","pt-2","pb-0"],[1,"col-12","pb-1"],[1,"col-5","col-lg-12","my-auto","pt-2","pt-3","pb-2","mx-auto"],[1,"row","my-2","my-auto","pt-2","pb-2","mx-auto"],[1,"col-5","col-lg-4"],["for","contact_Name",1,"my-auto","font-italic"],["type","text","row","5","formControlName","contact_Name","id","contact_Name","name","contact_Name",1,"form-control",3,"ngClass","ngModelChange"],[1,"row","mb-2","my-auto","pt-2","pb-1","mx-auto"],["for","contact_Email",1,"my-auto","font-italic"],["type","email","formControlName","contact_Email","id","contact_Email","name","contact_Email",1,"form-control",3,"ngClass","ngModelChange"],[1,"row","mb-2","my-auto","pt-2","mx-auto"],["for","contact_Mobile",1,"my-auto","font-italic"],[1,"col-9","pe-0"],["appPhoneMask","","onKeyPress","if(this.value.length==15) return false;","formControlName","contact_Mobile","id","contact_Mobile","name","contact_Mobile",1,"form-control",3,"ngClass","ngModelChange"],[1,"col-3","ps-0"],["type","number","onKeyPress","if(this.value.length==3) return false;","pattern","[0-9]+","formControlName","contact_Mobile_Ext","id","contact_Mobile_Ext","name","contact_Mobile_Ext",1,"form-control",3,"ngClass","ngModelChange"],[1,"col-lg-6","pe-1","ps-2","col-head-1","mx-auto","pt-3"],[1,"row","bg-white","col-curve","py-2","mt-0"],[1,"col-9","pull-left"],["for","is_Certified_Diverse",1,"my-auto","fw-bold"],[1,"col-3","pull-left"],[1,"row","pt-1"],[1,"col-lg-6"],["type","radio","formControlName","is_Certified_Diverse","value","yes","checked","checked","name","is_Certified_Diverse","id","is_Certified_Diverse_yes","required","",3,"ngModel","ngClass","ngModelChange"],["for","is_Certified_Diverse_yes"],["type","radio","formControlName","is_Certified_Diverse","value","no","name","is_Certified_Diverse","id","is_Certified_Diverse_no","required","",3,"ngModel","ngClass","ngModelChange"],["for","is_Certified_Diverse_no"],["class","invalid-feedback mt-2","id","is_Certified_Diverse",4,"ngIf"],[1,"col-12","form-group","input-group","row","m-0"],[1,"row","bg-white","col-curve","py-2","mt-3"],[1,"fw-bold"],[1,"red",3,"source","destination","destinationChange"],[1,"col-12","mx-auto","pt-2"],["for","annual_Construction_Last_Year",1,"my-auto","float-right"],[1,"col-lg-12","mt-2","bg-white","col-curve"],["for","annual_Construction_Last_Year",1,"font-italic","float-right"],["class","text-danger",4,"ngIf"],["type","text","formControlName","annual_Construction_Last_Year","name","annual_Construction_Last_Year",1,"form-control",3,"ngClass","keydown","keyup"],["for","annual_Construction_2_Years",1,"font-italic","float-right"],["type","text","formControlName","annual_Construction_2_Years","title","Choose file","id","annual_Construction_2_Years","name","annual_Construction_2_Years",1,"form-control",3,"ngClass","keydown","keyup"],[1,"row","pb-3"],["for","annual_Construction_3_Years",1,"font-italic","float-right"],["type","text","formControlName","annual_Construction_3_Years","id","annual_Construction_3_Years","name","annual_Construction_3_Years",1,"form-control",3,"ngClass","keydown","keyup"],[1,"col-lg-6","pe-0","ps-0","col-head-1","mx-auto","pt-3"],[1,"row","bg-white","col-curve","mx-auto","py-2","mx-0","px-0","mt-2"],[1,"col-6"],["for","is_Parent_Company",1,"my-auto","font-italic"],[1,"col-lg-3"],["type","radio","formControlName","is_Parent_Company","value","yes","checked","checked","name","is_Parent_Company","id","is_Parent_Company_yes","required","",3,"ngClass","ngModelChange"],["for","is_Parent_Company_yes"],[1,"col-lg-9"],["type","radio","formControlName","is_Parent_Company","value","no","name","is_Parent_Company","id","is_Parent_Company_no","required","",3,"ngClass","ngModelChange","click"],["for","is_Parent_Company_no"],["class","invalid-feedback mt-2","id","is_Parent_Company",4,"ngIf"],[1,"col-12",3,"ngClass"],[1,"row","my-2"],["for","parent_Company_Name",1,"my-auto","font-italic"],["type","text","row","5","formControlName","parent_Company_Name","id","parent_Company_Name","name","parent_Company_Name",1,"form-control",3,"ngClass","ngModelChange"],["for","parent_Company_Address1",1,"my-auto","font-italic"],["type","text","row","5","formControlName","parent_Company_Address1","id","parent_Company_Address1","name","parent_Company_Address1",1,"form-control",3,"ngClass","ngModelChange"],["type","text","row","5","formControlName","parent_Company_Address2","id","parent_Company_Address2","name","parent_Company_Address2",1,"form-control",3,"ngModelChange"],["for","parent_Company_City",1,"my-auto","font-italic"],["type","text","formControlName","parent_Company_City","id","parent_Company_City","name","parent_Company_City",1,"form-control",3,"ngClass","ngModelChange"],["for","parent_Company_State",1,"my-auto","font-italic","float-right"],["formControlName","parent_Company_State","id","parent_Company_State","name","parent_Company_State",1,"form-control","form-select",3,"ngClass","ngModelChange"],["for","parent_Company_Zipcode",1,"my-auto","font-italic"],["type","number","row","5","formControlName","parent_Company_Zipcode","id","parent_Company_Zipcode","name","parent_Company_Zipcode",1,"form-control",3,"ngClass","ngModelChange"],["for","parent_Company_Country",1,"my-auto","font-italic"],["type","text","row","5","formControlName","parent_Company_Country","id","parent_Company_Country","value","USA","name","parent_Company_Country",1,"form-control",3,"ngClass","ngModelChange"],["for","parent_Company_FEIN",1,"my-auto","font-italic"],["type","text","row","5","formControlName","parent_Company_FEIN","id","parent_Company_FEIN","name","parent_Company_FEIN",1,"form-control",3,"ngClass","ngModelChange"],[1,"row","mb-1"],[1,"col-4","my-auto"],["for","w9_Document_Attachment",1,"my-auto","font-italic","float-right"],[1,"col-8"],[1,"form-control-customitem","form-control"],["type","file","title","Choose file","formControlName","w9_Document_Attachment","id","w9_Document_Attachment","name","w9_Document_Attachment","multiple","",3,"ngClass","change"],["for","w9_Document_Attachment",3,"ngClass"],["class","spinner__loading pt-3",4,"ngIf"],[4,"ngFor","ngForOf"],["formControlName","org_Size","id","organization-Size","name","org_Size","aria-label","Default select example",1,"form-control","form-select","my-2","ml-1",2,"width","96%","margin-left","10px",3,"ngClass","ngModelChange"],[1,"col-lg-6","pe-1","ps-3","col-head-1"],[1,"row","bg-white","col-curve","mx-auto","py-1","mx-0","px-0","mt-1"],["for","executive_Officer_Name",1,"my-auto","fw-bold","pt-3"],[1,"row","my-1"],["for","executive_Officer_Name",1,"my-auto","font-italic"],["type","text","row","5","formControlName","executive_Officer_Name","id","executive_Officer_Name","name","executive_Officer_Name",1,"form-control",3,"ngClass","ngModelChange"],["for","executive_Officer_Title",1,"my-auto","font-italic"],["type","text","row","5","formControlName","executive_Officer_Title","id","executive_Officer_Title","name","executive_Officer_Title",1,"form-control",3,"ngClass","ngModelChange"],["for","executive_Officer_Email",1,"my-auto","font-italic"],["type","email","row","5","formControlName","executive_Officer_Email","id","executive_Officer_Email","name","executive_Officer_Email",1,"form-control",3,"ngClass","ngModelChange"],["for","executive_Officer_Name2",1,"my-auto","font-italic"],["type","text","row","5","formControlName","executive_Officer_Name2","id","executive_Officer_Name2","name","executive_Officer_Name2",1,"form-control",3,"ngModelChange"],["for","executive_Officer_Title2",1,"my-auto","font-italic"],["type","text","row","5","formControlName","executive_Officer_Title2","id","executive_Officer_Title2","name","executive_Officer_Title2",1,"form-control",3,"ngModelChange"],["for","executive_Officer_Email2",1,"my-auto","font-italic"],["type","email","formControlName","executive_Officer_Email2","id","executive_Officer_Email2","name","executive_Officer_Email2",1,"form-control",3,"ngModelChange"],["for","additional_Details",1,"my-auto","font-italic"],[1,"col-lg-2"],["type","radio","formControlName","is_Bank_Ruptcy","value","yes","checked","checked","name","is_Bank_Ruptcy","id","is_Bank_Ruptcy_yes",3,"ngClass","ngModelChange"],["for","is_Bank_Ruptcy_yes"],[1,"col-lg-10"],["type","radio","formControlName","is_Bank_Ruptcy","value","no","name","is_Bank_Ruptcy","id","is_Bank_Ruptcy_no",3,"ngClass","ngModelChange","click"],["for","is_Bank_Ruptcy_no"],[1,"mr-4","mt-1"],[1,"note","fw-bold",3,"ngClass"],[1,"col-lg-12","bg-white"],["formControlName","bank_Ruptcy_Info","id","bank_Ruptcy_Info","name","bank_Ruptcy_Info",1,"form-control",3,"ngClass","ngModelChange"],[1,"col-lg-6","pe-0","ps-0","col-head-1","mx-auto"],[1,"row","bg-white","col-curve","py-2","mx-3","px-0","mt-1"],[1,"mt-2"],["for","is_Limit_Licenses",1,"my-auto","fw-bold"],["for","is_Limit_Licenses",1,"my-auto","font-italic"],["type","radio","formControlName","is_Limit_Licenses","value","yes","checked","checked","name","is_Limit_Licenses","id","is_Limit_Licenses_yes",3,"ngClass","ngModelChange"],["for","is_Limit_Licenses_yes"],["type","radio","formControlName","is_Limit_Licenses","value","no","name","is_Limit_Licenses","id","is_Limit_Licenses_no",3,"ngClass","ngModelChange","click"],["for","is_Limit_Licenses_no"],["formControlName","limit_Licenses_Info","id","limit_Licenses_Info","name","limit_Licenses_Info",1,"form-control",3,"ngClass","ngModelChange"],[1,"pt-1"],["type","radio","formControlName","is_Suspended_Licenses","value","yes","checked","checked","name","is_Suspended_Licenses","id","is_Suspended_Licenses_yes",3,"ngClass","ngModelChange"],["for","is_Suspended_Licenses_yes"],["type","radio","formControlName","is_Suspended_Licenses","value","no","name","is_Suspended_Licenses","id","is_Suspended_Licenses_no",3,"ngClass","ngModelChange","click"],["for","is_Suspended_Licenses_no"],["formControlName","suspended_Licenses_Info","id","suspended_Licenses_Info","name","suspended_Licenses_Info",1,"form-control",3,"ngClass","ngModelChange"],[1,"pt-5","pb-1"],["class","text-end mx-lg-4 my-3",4,"ngIf"],["class","text-end mx-4 my-3",4,"ngIf"],["type","button","id","exampleModals","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn-hide"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["exampleModal",""],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"text-success"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","default-btn","modal-cancel"],["type","button","data-bs-dismiss","modal",1,"btn","default-btn"],["id","org_Type",1,"invalid-feedback"],["id","org_Type",4,"ngIf"],["id","org_Type"],[1,"col-4"],[1,"col-12"],["for","organization-others",1,"my-auto","font-italic","note"],["formControlName","org_Other_Details","id","organization-others","name","organizationOthers",1,"form-control",3,"ngClass","ngModelChange"],["class","invalid-feedback","id","organizationothers",4,"ngIf"],["id","organizationothers",1,"invalid-feedback"],["id","org_Other_Details",4,"ngIf"],["id","org_Other_Details"],[1,"invalid-feedback"],[4,"ngIf"],["id","is_Certified_Diverse",1,"invalid-feedback","mt-2"],["id","is_Certified_Diverse",4,"ngIf"],["id","is_Certified_Diverse"],["id","is_Parent_Company",1,"invalid-feedback","mt-2"],["id","is_Parent_Company",4,"ngIf"],["id","is_Parent_Company"],[1,"spinner__loading","pt-3"],["diameter","18","mode","indeterminate",1,"mt-1"],[1,"file-tag"],["target","_blank",3,"href"],[1,"file-close","text-white",3,"click"],[1,"text-end","mx-lg-4","my-3"],[1,"btn","float-start","btn","default-btn",3,"click"],["type","button",1,"btn","ml-4","default-btn",3,"click"],["type","submit",1,"btn","btn-success","mx-2","default-btn"],[1,"text-end","mx-4","my-3"],[1,"btn","btn-success","mx-2","default-btn",3,"click"]],template:function(e,t){1&e&&(a.Vb(0,"form",0),a.cc("ngSubmit",function(){return t.submit()})("keydown.enter",function(e){return e.preventDefault()}),a.Vb(1,"div",1),a.Vb(2,"div",2),a.Vb(3,"div",3),a.Vb(4,"div",4),a.Vb(5,"div",5),a.Vb(6,"div",6),a.Vb(7,"div",7),a.Vb(8,"h6",8),a.Dc(9,"1. Organization Details "),a.Ub(),a.Ub(),a.Vb(10,"div",9),a.Vb(11,"div",10),a.Vb(12,"label",11),a.Dc(13,"Type of Organization: "),a.Vb(14,"span",12),a.Dc(15,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(16,"div",13),a.Vb(17,"select",14),a.cc("ngModelChange",function(){return t.idleReset(1)}),a.Vb(18,"option",15),a.Dc(19,"Select"),a.Ub(),a.Vb(20,"option",16),a.Dc(21,"Corporation"),a.Ub(),a.Vb(22,"option",15),a.Dc(23,"Partnership"),a.Ub(),a.Vb(24,"option",15),a.Dc(25,"Joint Venture"),a.Ub(),a.Vb(26,"option",15),a.Dc(27,"Limited Liability Company "),a.Ub(),a.Vb(28,"option",15),a.Dc(29,"Sole Proprietorship"),a.Ub(),a.Vb(30,"option",15),a.Dc(31,"Other"),a.Ub(),a.Ub(),a.Bc(32,O,2,1,"div",17),a.Ub(),a.Ub(),a.Bc(33,T,8,4,"div",18),a.Vb(34,"div",9),a.Vb(35,"div",10),a.Vb(36,"label",19),a.Dc(37,"Date of Incorporation: "),a.Vb(38,"span",12),a.Dc(39,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(40,"div",13),a.Vb(41,"div",20),a.Vb(42,"input",21),a.cc("ngModelChange",function(){return t.idleReset(1)}),a.Ub(),a.Bc(43,q,2,1,"div",22),a.Ub(),a.Ub(),a.Ub(),a.Vb(44,"div",23),a.Vb(45,"div",10),a.Vb(46,"label",24),a.Dc(47,"State of Incorporation: "),a.Vb(48,"span",12),a.Dc(49,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(50,"div",13),a.Vb(51,"select",25),a.cc("ngModelChange",function(){return t.idleReset(1)}),a.Vb(52,"option",15),a.Dc(53,"Select State"),a.Ub(),a.Bc(54,L,2,2,"option",26),a.Ub(),a.Vb(55,"small",27),a.Dc(56,"NOTE: If your country is outside of USA, please select \u2018Other\u2019. "),a.Ub(),a.Bc(57,z,2,1,"div",22),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Vb(58,"div",28),a.Vb(59,"div",29),a.Vb(60,"div",30),a.Vb(61,"div",31),a.Vb(62,"h6",8),a.Dc(63,"2. Prequalification Contact Info "),a.Vb(64,"span",12),a.Dc(65,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(66,"div",30),a.Vb(67,"div",32),a.Vb(68,"div",33),a.Vb(69,"label",34),a.Dc(70,"Prequalification Contact Name:"),a.Vb(71,"span",12),a.Dc(72,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(73,"div",13),a.Vb(74,"input",35),a.cc("ngModelChange",function(){return t.idleReset(1)}),a.Ub(),a.Bc(75,Q,2,1,"div",22),a.Ub(),a.Ub(),a.Vb(76,"div",36),a.Vb(77,"div",33),a.Vb(78,"label",37),a.Dc(79,"Prequalification Contact Email: "),a.Vb(80,"span",12),a.Dc(81,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(82,"div",13),a.Vb(83,"input",38),a.cc("ngModelChange",function(){return t.idleReset(1)}),a.Ub(),a.Bc(84,H,3,2,"div",22),a.Ub(),a.Ub(),a.Vb(85,"div",39),a.Vb(86,"div",33),a.Vb(87,"label",40),a.Dc(88,"Prequalification Contact Phone: "),a.Vb(89,"span",12),a.Dc(90,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(91,"div",13),a.Vb(92,"div",3),a.Vb(93,"div",41),a.Vb(94,"input",42),a.cc("ngModelChange",function(){return t.idleReset(1)}),a.Ub(),a.Bc(95,K,2,1,"div",22),a.Ub(),a.Vb(96,"div",43),a.Vb(97,"input",44),a.cc("ngModelChange",function(){return t.idleReset(1)}),a.Ub(),a.Bc(98,J,2,1,"div",22),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Vb(99,"div",3),a.Vb(100,"div",45),a.Vb(101,"div",46),a.Vb(102,"div",6),a.Vb(103,"div",47),a.Vb(104,"h6",48),a.Dc(105,"3. Is your organization a certified diverse business (i.e., MBE, WBE, SBE, DBE, VBE, etc.,)? "),a.Vb(106,"span",12),a.Dc(107,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(108,"div",49),a.Vb(109,"div",50),a.Vb(110,"span",51),a.Vb(111,"input",52),a.cc("ngModelChange",function(){return t.idleReset(1)})("ngModelChange",function(e){return t.is_Certified_Diverse=e}),a.Ub(),a.Vb(112,"label",53),a.Dc(113," YES"),a.Ub(),a.Ub(),a.Vb(114,"span",51),a.Vb(115,"input",54),a.cc("ngModelChange",function(){return t.idleReset(1)})("ngModelChange",function(e){return t.is_Certified_Diverse=e}),a.Ub(),a.Vb(116,"label",55),a.Dc(117," NO"),a.Ub(),a.Ub(),a.Ub(),a.Bc(118,te,2,1,"div",56),a.Ub(),a.Ub(),a.Vb(119,"div",57),a.Vb(120,"small",27),a.Dc(121,"If yes, please submit a copy of each of your certification documents on the MBP or contact nmoffitt@messer.com to check if you qualify to become certified. "),a.Ub(),a.Ub(),a.Ub(),a.Vb(122,"div",58),a.Vb(123,"div",6),a.Vb(124,"div"),a.Vb(125,"h6",59),a.Dc(126,"5. Please pick all the Messer regions your company is willing to operate / perform work?"),a.Ub(),a.Ub(),a.Vb(127,"div",50),a.Vb(128,"app-duallist",60),a.cc("destinationChange",function(e){return t.regionDest=e}),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Vb(129,"div",58),a.Vb(130,"div",61),a.Vb(131,"h6",62),a.Dc(132,"6. Annual Construction volume of work you\u2019ve completed in the past 3 years "),a.Vb(133,"span",12),a.Dc(134,"*"),a.Ub(),a.Ub(),a.Vb(135,"div",63),a.Vb(136,"div",3),a.Vb(137,"div",33),a.Vb(138,"label",64),a.Dc(139,"Last year: "),a.Bc(140,ie,2,0,"span",65),a.Ub(),a.Ub(),a.Vb(141,"div",13),a.Vb(142,"div"),a.Vb(143,"input",66),a.cc("keydown",function(e){return t.numberCheck(e)})("keyup",function(e){return t.CommaFormatted(e,"annual_Construction_Last_Year")}),a.Ub(),a.Ub(),a.Bc(144,ne,2,1,"div",22),a.Ub(),a.Ub(),a.Ub(),a.Vb(145,"div",63),a.Vb(146,"div",3),a.Vb(147,"div",33),a.Vb(148,"label",67),a.Dc(149,"Past 2 years: "),a.Bc(150,re,2,0,"span",65),a.Ub(),a.Ub(),a.Vb(151,"div",13),a.Vb(152,"div"),a.Vb(153,"input",68),a.cc("keydown",function(e){return t.numberCheck(e)})("keyup",function(e){return t.CommaFormatted(e,"annual_Construction_2_Years")}),a.Ub(),a.Ub(),a.Bc(154,ae,2,1,"div",22),a.Ub(),a.Ub(),a.Ub(),a.Vb(155,"div",63),a.Vb(156,"div",69),a.Vb(157,"div",33),a.Vb(158,"label",70),a.Dc(159,"Past 3 years:"),a.Bc(160,ce,2,0,"span",65),a.Ub(),a.Ub(),a.Vb(161,"div",13),a.Vb(162,"div"),a.Vb(163,"input",71),a.cc("keydown",function(e){return t.numberCheck(e)})("keyup",function(e){return t.CommaFormatted(e,"annual_Construction_3_Years")}),a.Ub(),a.Ub(),a.Bc(164,de,2,1,"div",22),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Vb(165,"div",72),a.Vb(166,"div",73),a.Vb(167,"div",6),a.Vb(168,"div",3),a.Vb(169,"h6"),a.Dc(170,"4. Parent Company Details"),a.Ub(),a.Ub(),a.Vb(171,"div",3),a.Vb(172,"div",74),a.Vb(173,"label",75),a.Dc(174,"Do you have a parent company: "),a.Vb(175,"span",12),a.Dc(176,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(177,"div",74),a.Vb(178,"div",50),a.Vb(179,"span",76),a.Vb(180,"input",77),a.cc("ngModelChange",function(){return t.idleReset(1)}),a.Ub(),a.Vb(181,"label",78),a.Dc(182," YES"),a.Ub(),a.Ub(),a.Vb(183,"span",79),a.Vb(184,"input",80),a.cc("ngModelChange",function(){return t.idleReset(1)})("click",function(){return t.companyDetailReset()}),a.Ub(),a.Vb(185,"label",81),a.Dc(186," NO"),a.Ub(),a.Ub(),a.Ub(),a.Bc(187,pe,2,1,"div",82),a.Ub(),a.Ub(),a.Ub(),a.Vb(188,"div",83),a.Vb(189,"div",84),a.Vb(190,"div",33),a.Vb(191,"label",85),a.Dc(192,"Parent Company Name:"),a.Bc(193,me,2,0,"span",65),a.Ub(),a.Ub(),a.Vb(194,"div",13),a.Vb(195,"input",86),a.cc("ngModelChange",function(){return t.idleReset(1)}),a.Ub(),a.Bc(196,fe,2,1,"div",22),a.Ub(),a.Ub(),a.Vb(197,"div",84),a.Vb(198,"div",33),a.Vb(199,"label",87),a.Dc(200,"Parent Company Address Line 1: "),a.Bc(201,he,2,0,"span",65),a.Ub(),a.Ub(),a.Vb(202,"div",13),a.Vb(203,"input",88),a.cc("ngModelChange",function(){return t.idleReset(1)}),a.Ub(),a.Bc(204,ge,2,1,"div",22),a.Ub(),a.Ub(),a.Vb(205,"div",84),a.Vb(206,"div",33),a.Vb(207,"label",87),a.Dc(208,"Parent Company Address Line 2: "),a.Ub(),a.Ub(),a.Vb(209,"div",13),a.Vb(210,"input",89),a.cc("ngModelChange",function(){return t.idleReset(1)}),a.Ub(),a.Ub(),a.Ub(),a.Vb(211,"div",84),a.Vb(212,"div",33),a.Vb(213,"label",90),a.Dc(214,"City: "),a.Bc(215,ve,2,0,"span",65),a.Ub(),a.Ub(),a.Vb(216,"div",13),a.Vb(217,"input",91),a.cc("ngModelChange",function(){return t.idleReset(1)}),a.Ub(),a.Bc(218,Ve,2,1,"div",22),a.Ub(),a.Ub(),a.Vb(219,"div",84),a.Vb(220,"div",33),a.Vb(221,"label",92),a.Dc(222,"State: "),a.Bc(223,Ue,2,0,"span",65),a.Ub(),a.Ub(),a.Vb(224,"div",13),a.Vb(225,"select",93),a.cc("ngModelChange",function(){return t.idleReset(1)}),a.Vb(226,"option",15),a.Dc(227,"Select"),a.Ub(),a.Bc(228,De,2,2,"option",26),a.Ub(),a.Vb(229,"small",27),a.Dc(230,"NOTE: If your country is outside of USA, please select \u2018Other\u2019. "),a.Ub(),a.Bc(231,Ie,2,1,"div",22),a.Ub(),a.Ub(),a.Vb(232,"div",84),a.Vb(233,"div",33),a.Vb(234,"label",94),a.Dc(235,"Zip code: "),a.Bc(236,Re,2,0,"span",65),a.Ub(),a.Ub(),a.Vb(237,"div",13),a.Vb(238,"input",95),a.cc("ngModelChange",function(){return t.idleReset(1)}),a.Ub(),a.Bc(239,Se,2,1,"div",22),a.Ub(),a.Ub(),a.Vb(240,"div",84),a.Vb(241,"div",33),a.Vb(242,"label",96),a.Dc(243,"Country: "),a.Bc(244,we,2,0,"span",65),a.Ub(),a.Ub(),a.Vb(245,"div",13),a.Vb(246,"input",97),a.cc("ngModelChange",function(){return t.idleReset(1)}),a.Ub(),a.Bc(247,xe,2,1,"div",22),a.Ub(),a.Ub(),a.Vb(248,"div",84),a.Vb(249,"div",33),a.Vb(250,"label",98),a.Dc(251,"Parent Company FEIN Number / Tax-id: "),a.Bc(252,ke,2,0,"span",65),a.Ub(),a.Ub(),a.Vb(253,"div",13),a.Vb(254,"input",99),a.cc("ngModelChange",function(){return t.idleReset(1)}),a.Ub(),a.Bc(255,Ae,2,1,"div",22),a.Ub(),a.Ub(),a.Vb(256,"div",100),a.Vb(257,"div",101),a.Vb(258,"label",102),a.Dc(259,"Attach your w9 document: "),a.Bc(260,Oe,2,0,"span",65),a.Ub(),a.Ub(),a.Vb(261,"div",103),a.Vb(262,"div",104),a.Vb(263,"input",105),a.cc("change",function(e){return t.documentw9fileUpload(e)}),a.Ub(),a.Vb(264,"span",106),a.Dc(265," \xa0 Click here to Add Files"),a.Ub(),a.Ub(),a.Bc(266,Me,2,1,"div",22),a.Bc(267,Ne,4,0,"div",107),a.Bc(268,Te,7,2,"div",108),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Vb(269,"div",73),a.Vb(270,"div",6),a.Vb(271,"div",3),a.Vb(272,"h6"),a.Dc(273,"7. What size (dollar value) of contracts do you wish to perform with Messer? "),a.Ub(),a.Ub(),a.Vb(274,"div",3),a.Vb(275,"select",109),a.cc("ngModelChange",function(){return t.idleReset(1)}),a.Vb(276,"option",15),a.Dc(277,"Select"),a.Ub(),a.Vb(278,"option",16),a.Dc(279,"Less than $50k"),a.Ub(),a.Vb(280,"option",15),a.Dc(281,"$50k - $250K"),a.Ub(),a.Vb(282,"option",15),a.Dc(283,"$250K - $500K"),a.Ub(),a.Vb(284,"option",15),a.Dc(285,"$500K - $1 million "),a.Ub(),a.Vb(286,"option",15),a.Dc(287,"$1million - $5million"),a.Ub(),a.Vb(288,"option",15),a.Dc(289,"$5million - $20 million"),a.Ub(),a.Vb(290,"option",15),a.Dc(291,"$20 million +"),a.Ub(),a.Ub(),a.Ub(),a.Vb(292,"div"),a.Dc(293,"\xa0"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Vb(294,"div",2),a.Vb(295,"div",3),a.Vb(296,"div",110),a.Vb(297,"div",111),a.Vb(298,"h6",112),a.Dc(299,"8. Executive Officers "),a.Vb(300,"span",12),a.Dc(301,"*"),a.Ub(),a.Ub(),a.Qb(302,"br"),a.Vb(303,"div"),a.Vb(304,"div",113),a.Vb(305,"div",33),a.Vb(306,"label",114),a.Dc(307,"Executive Officer #1 Name:"),a.Vb(308,"span",12),a.Dc(309,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(310,"div",13),a.Vb(311,"input",115),a.cc("ngModelChange",function(){return t.idleReset(1)}),a.Ub(),a.Bc(312,qe,2,1,"div",22),a.Ub(),a.Ub(),a.Vb(313,"div",113),a.Vb(314,"div",33),a.Vb(315,"label",116),a.Dc(316,"Executive Officer #1 Title:"),a.Vb(317,"span",12),a.Dc(318,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(319,"div",13),a.Vb(320,"input",117),a.cc("ngModelChange",function(){return t.idleReset(1)}),a.Ub(),a.Bc(321,Ye,2,1,"div",22),a.Ub(),a.Ub(),a.Vb(322,"div",100),a.Vb(323,"div",33),a.Vb(324,"label",118),a.Dc(325,"Executive Officer #1 Email:"),a.Vb(326,"span",12),a.Dc(327,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(328,"div",13),a.Vb(329,"input",119),a.cc("ngModelChange",function(){return t.idleReset(1)}),a.Ub(),a.Bc(330,Qe,3,2,"div",22),a.Ub(),a.Ub(),a.Ub(),a.Vb(331,"div"),a.Vb(332,"div",113),a.Vb(333,"div",33),a.Vb(334,"label",120),a.Dc(335,"Executive Officer #2 Name: "),a.Ub(),a.Ub(),a.Vb(336,"div",13),a.Vb(337,"input",121),a.cc("ngModelChange",function(){return t.idleReset(1)}),a.Ub(),a.Ub(),a.Ub(),a.Vb(338,"div",113),a.Vb(339,"div",33),a.Vb(340,"label",122),a.Dc(341,"Executive Officer #2 Title: "),a.Ub(),a.Ub(),a.Vb(342,"div",13),a.Vb(343,"input",123),a.cc("ngModelChange",function(){return t.idleReset(1)}),a.Ub(),a.Ub(),a.Ub(),a.Vb(344,"div",100),a.Vb(345,"div",33),a.Vb(346,"label",124),a.Dc(347,"Executive Officer #2 Email: "),a.Ub(),a.Ub(),a.Vb(348,"div",13),a.Vb(349,"input",125),a.cc("ngModelChange",function(){return t.idleReset(1)}),a.Ub(),a.Bc(350,We,2,1,"div",22),a.Ub(),a.Ub(),a.Ub(),a.Vb(351,"div"),a.Vb(352,"label",126),a.Dc(353,"Has your company, or any of the executive officers mentioned above has/have been the subject of any bankruptcy proceeding within the last three years."),a.Vb(354,"span",12),a.Dc(355,"*"),a.Ub(),a.Ub(),a.Vb(356,"div",50),a.Vb(357,"span",127),a.Vb(358,"input",128),a.cc("ngModelChange",function(){return t.idleReset(1)}),a.Ub(),a.Vb(359,"label",129),a.Dc(360," YES"),a.Ub(),a.Ub(),a.Vb(361,"span",130),a.Vb(362,"input",131),a.cc("ngModelChange",function(){return t.idleReset(1)})("click",function(){return t.bankruptcyReset()}),a.Ub(),a.Vb(363,"label",132),a.Dc(364," NO"),a.Ub(),a.Ub(),a.Ub(),a.Bc(365,Ze,2,1,"div",22),a.Vb(366,"div",133),a.Vb(367,"small",134),a.Dc(368,"If yes, describe the circumstances."),a.Ub(),a.Ub(),a.Vb(369,"div",135),a.Vb(370,"textarea",136),a.cc("ngModelChange",function(){return t.idleReset(1)}),a.Ub(),a.Bc(371,Xe,2,1,"div",22),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Vb(372,"div",137),a.Vb(373,"div",138),a.Vb(374,"div",139),a.Vb(375,"h6",140),a.Dc(376,"9. Company Licenses & Registrations"),a.Vb(377,"span",12),a.Dc(378,"*"),a.Ub(),a.Ub(),a.Qb(379,"br"),a.Ub(),a.Vb(380,"div"),a.Vb(381,"label",141),a.Dc(382,"Do you have any limits or restrictions to current licenses registrations. "),a.Vb(383,"span",12),a.Dc(384,"*"),a.Ub(),a.Ub(),a.Vb(385,"div",50),a.Vb(386,"span",127),a.Vb(387,"input",142),a.cc("ngModelChange",function(){return t.idleReset(1)}),a.Ub(),a.Vb(388,"label",143),a.Dc(389," YES"),a.Ub(),a.Ub(),a.Vb(390,"span",130),a.Vb(391,"input",144),a.cc("ngModelChange",function(){return t.idleReset(1)})("click",function(){return t.licenseReset()}),a.Ub(),a.Vb(392,"label",145),a.Dc(393," NO"),a.Ub(),a.Ub(),a.Ub(),a.Bc(394,et,2,1,"div",22),a.Vb(395,"div",133),a.Vb(396,"small",134),a.Dc(397,"If yes, please explain the details."),a.Ub(),a.Ub(),a.Vb(398,"div",135),a.Vb(399,"textarea",146),a.cc("ngModelChange",function(){return t.idleReset(1)}),a.Ub(),a.Bc(400,it,2,1,"div",22),a.Ub(),a.Ub(),a.Vb(401,"div",147),a.Vb(402,"label",126),a.Dc(403,"Has your company ever been debarred from performing Federal or State contracts? "),a.Vb(404,"span",12),a.Dc(405,"*"),a.Ub(),a.Ub(),a.Vb(406,"div",50),a.Vb(407,"span",127),a.Vb(408,"input",148),a.cc("ngModelChange",function(){return t.idleReset(1)}),a.Ub(),a.Vb(409,"label",149),a.Dc(410," YES"),a.Ub(),a.Ub(),a.Vb(411,"span",130),a.Vb(412,"input",150),a.cc("ngModelChange",function(){return t.idleReset(1)})("click",function(){return t.licenseStateReset()}),a.Ub(),a.Vb(413,"label",151),a.Dc(414," NO"),a.Ub(),a.Ub(),a.Ub(),a.Bc(415,nt,2,1,"div",22),a.Vb(416,"div",133),a.Vb(417,"small",134),a.Dc(418,"If yes, describe circumstances, including jurisdiction and bases for suspension or revocation:"),a.Ub(),a.Ub(),a.Vb(419,"div",135),a.Vb(420,"textarea",152),a.cc("ngModelChange",function(){return t.idleReset(1)}),a.Ub(),a.Bc(421,st,2,1,"div",22),a.Ub(),a.Ub(),a.Vb(422,"div",153),a.Dc(423,"\xa0"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Bc(424,at,7,1,"div",154),a.Ub(),a.Ub(),a.Bc(425,ct,5,0,"div",155),a.Qb(426,"button",156),a.Vb(427,"div",157,158),a.Vb(429,"div",159),a.Vb(430,"div",160),a.Vb(431,"div",161),a.Vb(432,"h6",162),a.Dc(433,"Leave page?"),a.Ub(),a.Qb(434,"button",163),a.Ub(),a.Vb(435,"div",164),a.Dc(436," You have unsaved changes. Press "),a.Vb(437,"code",165),a.Dc(438,"SAVE"),a.Ub(),a.Dc(439," to update these changes, or "),a.Vb(440,"code",12),a.Dc(441,"CANCEL"),a.Ub(),a.Dc(442," to lose these changes. "),a.Ub(),a.Vb(443,"div",166),a.Vb(444,"button",167),a.Dc(445,"CANCEL"),a.Ub(),a.Vb(446,"button",168),a.Dc(447,"SAVE"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub()),2&e&&(a.mc("formGroup",t.companyInfo),a.Db(1),a.mc("ngClass",a.pc(126,lt,1==t.selectdisabled)),a.Db(16),a.mc("ngClass",a.pc(128,N,t.submitted&&t.f.org_Type.errors)),a.Db(1),a.mc("ngValue",""),a.Db(2),a.mc("ngValue","corporation"),a.Db(2),a.mc("ngValue","partnership"),a.Db(2),a.mc("ngValue","joint_venture"),a.Db(2),a.mc("ngValue","limited_liability_company"),a.Db(2),a.mc("ngValue","sole_proprietorship"),a.Db(2),a.mc("ngValue","other"),a.Db(2),a.mc("ngIf",t.submitted&&t.f.org_Type.errors),a.Db(1),a.mc("ngIf","other"==(null==t.f.org_Type?null:t.f.org_Type.value)),a.Db(9),a.mc("ngClass",a.pc(130,N,t.submitted&&t.f.date_Of_Incorporation.errors)),a.Db(1),a.mc("ngIf",t.submitted&&t.f.date_Of_Incorporation.errors),a.Db(8),a.Eb("disabled",t.selectdisabled?"":null),a.Db(1),a.mc("ngValue",""),a.Db(2),a.mc("ngForOf",t.stateNames),a.Db(1),a.mc("ngClass",a.pc(132,dt,t.selectdisabled||"no"==t.f.is_Certified_Diverse.value)),a.Db(2),a.mc("ngIf",t.submitted&&t.f.state_Of_Incorporation.errors),a.Db(17),a.mc("ngClass",a.pc(134,N,t.submitted&&t.f.contact_Name.errors)),a.Db(1),a.mc("ngIf",t.submitted&&t.f.contact_Name.errors),a.Db(8),a.mc("ngClass",a.pc(136,N,t.submitted&&t.f.contact_Email.errors)),a.Db(1),a.mc("ngIf",(t.submitted||t.f.contact_Email.touched)&&t.f.contact_Email.errors),a.Db(10),a.mc("ngClass",a.pc(138,N,t.submitted&&t.f.contact_Mobile.errors)),a.Db(1),a.mc("ngIf",(t.submitted||t.f.contact_Mobile.touched)&&t.f.contact_Mobile.errors),a.Db(2),a.mc("ngClass",a.pc(140,N,t.submitted&&t.f.contact_Mobile_Ext.errors)),a.Db(1),a.mc("ngIf",(t.submitted||t.f.contact_Mobile_Ext.touched)&&t.f.contact_Mobile_Ext.errors),a.Db(13),a.mc("ngModel",t.is_Certified_Diverse)("ngClass",a.pc(142,N,t.submitted&&t.f.is_Certified_Diverse.errors)),a.Db(4),a.mc("ngModel",t.is_Certified_Diverse)("ngClass",a.pc(144,N,t.submitted&&t.f.is_Certified_Diverse.errors)),a.Db(3),a.mc("ngIf",(t.submitted||t.f.is_Certified_Diverse.touched)&&t.f.is_Certified_Diverse.errors),a.Db(2),a.mc("ngClass",a.pc(146,dt,t.selectdisabled)),a.Db(8),a.mc("source",t.regionSource)("destination",t.regionDest),a.Db(12),a.mc("ngIf",null==t.f.annual_Construction_Last_Year||null==t.f.annual_Construction_Last_Year.errors?null:t.f.annual_Construction_Last_Year.errors.required),a.Db(3),a.mc("ngClass",a.pc(148,N,t.submitted&&t.f.annual_Construction_Last_Year.errors)),a.Db(1),a.mc("ngIf",t.submitted&&t.f.annual_Construction_Last_Year.errors),a.Db(6),a.mc("ngIf",null==t.f.annual_Construction_2_Years||null==t.f.annual_Construction_2_Years.errors?null:t.f.annual_Construction_2_Years.errors.required),a.Db(3),a.mc("ngClass",a.pc(150,N,t.submitted&&t.f.annual_Construction_2_Years.errors)),a.Db(1),a.mc("ngIf",t.submitted&&t.f.annual_Construction_2_Years.errors),a.Db(6),a.mc("ngIf",null==t.f.annual_Construction_3_Years||null==t.f.annual_Construction_3_Years.errors?null:t.f.annual_Construction_3_Years.errors.required),a.Db(3),a.mc("ngClass",a.pc(152,N,t.submitted&&t.f.annual_Construction_3_Years.errors)),a.Db(1),a.mc("ngIf",t.submitted&&t.f.annual_Construction_3_Years.errors),a.Db(16),a.mc("ngClass",a.pc(154,N,t.submitted&&t.f.is_Parent_Company.errors)),a.Db(4),a.mc("ngClass",a.pc(156,N,t.submitted&&t.f.is_Parent_Company.errors)),a.Db(3),a.mc("ngIf",(t.submitted||t.f.is_Parent_Company.touched)&&t.f.is_Parent_Company.errors),a.Db(1),a.mc("ngClass",a.pc(158,lt,"no"==t.f.is_Parent_Company.value)),a.Db(5),a.mc("ngIf","yes"==(null==t.companyInfo||null==t.companyInfo.value?null:t.companyInfo.value.is_Parent_Company)),a.Db(2),a.mc("ngClass",a.pc(160,N,t.submitted&&t.f.parent_Company_Name.errors)),a.Eb("disabled","no"==t.f.is_Parent_Company.value?"":null),a.Db(1),a.mc("ngIf",t.submitted&&t.f.parent_Company_Name.errors),a.Db(5),a.mc("ngIf","yes"==(null==t.companyInfo||null==t.companyInfo.value?null:t.companyInfo.value.is_Parent_Company)),a.Db(2),a.mc("ngClass",a.pc(162,N,t.submitted&&t.f.parent_Company_Address1.errors)),a.Eb("disabled","no"==t.f.is_Parent_Company.value?"":null),a.Db(1),a.mc("ngIf",t.submitted&&t.f.parent_Company_Address1.errors),a.Db(6),a.Eb("disabled","no"==t.f.is_Parent_Company.value?"":null),a.Db(5),a.mc("ngIf","yes"==(null==t.companyInfo||null==t.companyInfo.value?null:t.companyInfo.value.is_Parent_Company)),a.Db(2),a.mc("ngClass",a.pc(164,N,t.submitted&&t.f.parent_Company_City.errors)),a.Eb("disabled","no"==t.f.is_Parent_Company.value?"":null),a.Db(1),a.mc("ngIf",(t.submitted||t.f.parent_Company_City.touched)&&t.f.parent_Company_City.errors),a.Db(5),a.mc("ngIf","yes"==(null==t.companyInfo||null==t.companyInfo.value?null:t.companyInfo.value.is_Parent_Company)),a.Db(2),a.mc("ngClass",a.pc(166,N,t.submitted&&t.f.parent_Company_State.errors)),a.Eb("disabled","no"==t.f.is_Parent_Company.value?"":null),a.Db(1),a.mc("ngValue",""),a.Db(2),a.mc("ngForOf",t.stateNames),a.Db(1),a.mc("ngClass",a.pc(168,dt,t.selectdisabled)),a.Db(2),a.mc("ngIf",(t.submitted||t.f.parent_Company_State.touched)&&t.f.parent_Company_State.errors),a.Db(5),a.mc("ngIf","yes"==(null==t.companyInfo||null==t.companyInfo.value?null:t.companyInfo.value.is_Parent_Company)),a.Db(2),a.mc("ngClass",a.pc(170,N,t.submitted&&t.f.parent_Company_Zipcode.errors)),a.Eb("disabled","no"==t.f.is_Parent_Company.value?"":null),a.Db(1),a.mc("ngIf",t.submitted&&t.f.parent_Company_Zipcode.errors),a.Db(5),a.mc("ngIf","yes"==(null==t.companyInfo||null==t.companyInfo.value?null:t.companyInfo.value.is_Parent_Company)),a.Db(2),a.mc("ngClass",a.pc(172,N,t.submitted&&t.f.parent_Company_Country.errors)),a.Eb("disabled","no"==t.f.is_Parent_Company.value?"":null),a.Db(1),a.mc("ngIf",t.submitted&&t.f.parent_Company_Country.errors),a.Db(5),a.mc("ngIf","yes"==(null==t.companyInfo||null==t.companyInfo.value?null:t.companyInfo.value.is_Parent_Company)),a.Db(2),a.mc("ngClass",a.pc(174,N,t.submitted&&t.f.parent_Company_FEIN.errors)),a.Eb("disabled","no"==t.f.is_Parent_Company.value?"":null),a.Db(1),a.mc("ngIf",t.submitted&&t.f.parent_Company_FEIN.errors),a.Db(5),a.mc("ngIf",null==t.f.w9_Document_Attachment||null==t.f.w9_Document_Attachment.errors?null:t.f.w9_Document_Attachment.errors.required),a.Db(3),a.mc("ngClass",a.pc(176,N,t.submitted&&t.f.w9_Document_Attachment.errors)),a.Eb("disabled","no"==t.f.is_Parent_Company.value?"":null),a.Db(1),a.mc("ngClass",a.pc(178,lt,"no"==t.f.is_Parent_Company.value)),a.Db(2),a.mc("ngIf",t.submitted&&t.f.w9_Document_Attachment.errors),a.Db(1),a.mc("ngIf",null==t.spinner?null:t.spinner.docmentSpinner),a.Db(1),a.mc("ngForOf",t.documentw9file),a.Db(7),a.mc("ngClass",a.pc(180,N,t.submitted&&t.f.org_Size.errors)),a.Db(1),a.mc("ngValue",""),a.Db(2),a.mc("ngValue","Less than $50k"),a.Db(2),a.mc("ngValue","$50k - $250K"),a.Db(2),a.mc("ngValue","$250K -  $500K"),a.Db(2),a.mc("ngValue","$500K - $1 million"),a.Db(2),a.mc("ngValue","$1million - $5million"),a.Db(2),a.mc("ngValue","$5million - $20 million"),a.Db(2),a.mc("ngValue","$20 million +"),a.Db(21),a.mc("ngClass",a.pc(182,N,t.submitted&&t.f.executive_Officer_Name.errors)),a.Db(1),a.mc("ngIf",t.submitted&&t.f.executive_Officer_Name.errors),a.Db(8),a.mc("ngClass",a.pc(184,N,t.submitted&&t.f.contact_Name.errors)),a.Db(1),a.mc("ngIf",t.submitted&&t.f.executive_Officer_Title.errors),a.Db(8),a.mc("ngClass",a.pc(186,N,t.submitted&&t.f.executive_Officer_Email.errors)),a.Db(1),a.mc("ngIf",(t.submitted||t.f.executive_Officer_Email.touched)&&t.f.executive_Officer_Email.errors),a.Db(20),a.mc("ngIf",(t.submitted||t.f.executive_Officer_Email2.touched)&&t.f.executive_Officer_Email2.errors),a.Db(8),a.mc("ngClass",a.pc(188,N,t.submitted&&t.f.is_Bank_Ruptcy.errors)),a.Db(4),a.mc("ngClass",a.pc(190,N,t.submitted&&t.f.is_Bank_Ruptcy.errors)),a.Db(3),a.mc("ngIf",t.submitted&&t.f.is_Bank_Ruptcy.errors),a.Db(2),a.mc("ngClass",a.pc(192,dt,"no"==t.f.is_Bank_Ruptcy.value||1==t.selectdisabled)),a.Db(3),a.mc("ngClass",a.pc(194,N,t.submitted&&t.f.bank_Ruptcy_Info.errors)),a.Eb("disabled","no"==t.f.is_Bank_Ruptcy.value?"":null),a.Db(1),a.mc("ngIf",t.submitted&&t.f.bank_Ruptcy_Info.errors),a.Db(16),a.mc("ngClass",a.pc(196,N,t.submitted&&t.f.is_Limit_Licenses.errors)),a.Db(4),a.mc("ngClass",a.pc(198,N,t.submitted&&t.f.is_Limit_Licenses.errors)),a.Db(3),a.mc("ngIf",t.submitted&&t.f.is_Limit_Licenses.errors),a.Db(2),a.mc("ngClass",a.pc(200,dt,"no"==t.f.is_Limit_Licenses.value||1==t.selectdisabled)),a.Db(3),a.mc("ngClass",a.pc(202,N,t.submitted&&t.f.limit_Licenses_Info.errors)),a.Eb("disabled","no"==t.f.is_Limit_Licenses.value?"":null),a.Db(1),a.mc("ngIf",t.submitted&&t.f.limit_Licenses_Info.errors),a.Db(8),a.mc("ngClass",a.pc(204,N,t.submitted&&t.f.is_Suspended_Licenses.errors)),a.Db(4),a.mc("ngClass",a.pc(206,N,t.submitted&&t.f.is_Suspended_Licenses.errors)),a.Db(3),a.mc("ngIf",t.submitted&&t.f.is_Suspended_Licenses.errors),a.Db(2),a.mc("ngClass",a.pc(208,dt,"no"==t.f.is_Suspended_Licenses.value||1==t.selectdisabled)),a.Db(3),a.mc("ngClass",a.pc(210,N,t.submitted&&t.f.suspended_Licenses_Info.errors)),a.Eb("disabled","no"==t.f.is_Suspended_Licenses.value?"":null),a.Db(1),a.mc("ngIf",t.submitted&&t.f.suspended_Licenses_Info.errors),a.Db(3),a.mc("ngIf",!(t.showAdmin||t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status)),a.Db(1),a.mc("ngIf",!t.showAdmin&&t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status||t.showAdmin))},directives:[n.v,n.k,n.g,o.j,n.t,n.j,n.f,n.n,n.w,o.l,n.b,o.k,y,n.o,n.p,n.q,n.s,x,k.a],styles:[".form-group[_ngcontent-%COMP%]{margin:15px 0}.border[_ngcontent-%COMP%]{border:4px solid hsla(0,0%,86.7%,.6196078431372549)!important}.col-curve-top[_ngcontent-%COMP%]{border-top-left-radius:22px 22px!important;border-top-right-radius:22px 22px!important;border-bottom-left-radius:18px 19px!important;border-bottom-right-radius:18px 19px!important;border-top:6px solid #c3bdbd!important}.col-curve[_ngcontent-%COMP%]{border-radius:18px 19px!important}h6[_ngcontent-%COMP%]{font-size:13px!important}.bg-grey[_ngcontent-%COMP%], .bg-grey4[_ngcontent-%COMP%], .bg-grey[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .bg-grey[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{color:#c7bfbf!important}.file-close-geographical[_ngcontent-%COMP%]{padding:2px 6px!important;background:#969294!important;border-radius:50%;cursor:pointer;border:1px solid #fff}.listchk[_ngcontent-%COMP%]{list-style-type:none;margin-left:10px}"]}),e})();var pt=i("cp0P"),mt=i("hlQ1"),bt=i("vrVw"),ft=i("tk/3");let ht=(()=>{class e extends mt.a{constructor(e,t){super("Reference",e,t,{root:bt.a.webserviceURlLocal})}getAll(){return super.getAll()}getRecords(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("Reference/"+e,bt.a.webserviceURlLocal);return this.http.get(i,t)}updateRecord(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("Reference/"+t,bt.a.webserviceURlLocal);return this.http.put(o,e,i)}addRecord(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("Reference",bt.a.webserviceURlLocal);return this.http.post(i,e,t)}getUser(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("Organization/"+e+"/"+t,bt.a.webserviceURlLocal);return this.http.get(o,i)}getComplete(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("Organization/Getstatus/"+e,bt.a.webserviceURlLocal);return this.http.get(i,t)}deleteRecord(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.delete(bt.a.webserviceURlLocal+"reference/"+e,t)}}return e.\u0275fac=function(t){return new(t||e)(a.Zb(ft.b),a.Zb(mt.c))},e.\u0275prov=a.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),_t=(()=>{class e{constructor(e){this.http=e}updateRecord(e,t,i){const o={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.put(bt.a.webserviceURlLocal+e+"/"+i,t,o)}addRecord(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.post(bt.a.webserviceURlLocal+e,t,i)}deleteRecord(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.delete(bt.a.webserviceURlLocal+"reference/"+e,t)}}return e.\u0275fac=function(t){return new(t||e)(a.Zb(ft.b))},e.\u0275prov=a.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function gt(e,t){1&e&&(a.Vb(0,"span",20),a.Dc(1,"*"),a.Ub())}function vt(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Project Name is required "),a.Ub())}function yt(e,t){if(1&e&&(a.Vb(0,"div",21),a.Bc(1,vt,2,0,"div",22),a.Ub()),2&e){const e=a.gc(2);a.Db(1),a.mc("ngIf",e.ff.project_Name.errors.required)}}function Vt(e,t){1&e&&(a.Vb(0,"span",20),a.Dc(1,"*"),a.Ub())}function Ut(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Scope of work is required"),a.Ub())}function Dt(e,t){if(1&e&&(a.Vb(0,"div",21),a.Bc(1,Ut,2,0,"div",22),a.Ub()),2&e){const e=a.gc(2);a.Db(1),a.mc("ngIf",e.ff.project_Detail.errors.required)}}function Ct(e,t){1&e&&(a.Vb(0,"span",20),a.Dc(1,"*"),a.Ub())}function It(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"City is required"),a.Ub())}function Rt(e,t){if(1&e&&(a.Vb(0,"div",21),a.Bc(1,It,2,0,"div",22),a.Ub()),2&e){const e=a.gc(2);a.Db(1),a.mc("ngIf",e.ff.project_City.errors.required)}}function Ft(e,t){1&e&&(a.Vb(0,"span",20),a.Dc(1,"*"),a.Ub())}function St(e,t){if(1&e&&(a.Vb(0,"option",15),a.Dc(1),a.Ub()),2&e){const e=t.$implicit;a.mc("ngValue",e.name),a.Db(1),a.Fc(" ",e.name,"")}}function wt(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"State is required"),a.Ub())}function jt(e,t){if(1&e&&(a.Vb(0,"div",21),a.Bc(1,wt,2,0,"div",22),a.Ub()),2&e){const e=a.gc(2);a.Db(1),a.mc("ngIf",e.ff.project_State.errors.required)}}function xt(e,t){1&e&&(a.Vb(0,"span",20),a.Dc(1,"*"),a.Ub())}function kt(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Messer Contact person is required"),a.Ub())}function Pt(e,t){if(1&e&&(a.Vb(0,"div",21),a.Bc(1,kt,2,0,"div",22),a.Ub()),2&e){const e=a.gc(2);a.Db(1),a.mc("ngIf",e.ff.project_MesserContact.errors.required)}}const At=function(e){return{"bg-grey":e}},Ot=function(e){return{"is-invalid":e}};function Et(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",1),a.Vb(1,"div",2),a.Vb(2,"div",3),a.Vb(3,"div",4),a.Vb(4,"label",5),a.Dc(5,"Project Name: "),a.Bc(6,gt,2,0,"span",6),a.Ub(),a.Ub(),a.Vb(7,"div",4),a.Qb(8,"input",7),a.Bc(9,yt,2,1,"div",8),a.Ub(),a.Ub(),a.Vb(10,"div",3),a.Vb(11,"div",4),a.Vb(12,"label",9),a.Dc(13," Scope of work:"),a.Bc(14,Vt,2,0,"span",6),a.Ub(),a.Ub(),a.Vb(15,"div",4),a.Qb(16,"textarea",10),a.Bc(17,Dt,2,1,"div",8),a.Ub(),a.Ub(),a.Vb(18,"div",3),a.Vb(19,"div",4),a.Vb(20,"label",11),a.Dc(21,"City: "),a.Bc(22,Ct,2,0,"span",6),a.Ub(),a.Ub(),a.Vb(23,"div",4),a.Vb(24,"input",12),a.cc("ngModelChange",function(){return a.uc(e),a.gc().idleReset()}),a.Ub(),a.Bc(25,Rt,2,1,"div",8),a.Ub(),a.Ub(),a.Vb(26,"div",3),a.Vb(27,"div",4),a.Vb(28,"label",13),a.Dc(29,"State: "),a.Bc(30,Ft,2,0,"span",6),a.Ub(),a.Ub(),a.Vb(31,"div",4),a.Vb(32,"select",14),a.cc("ngModelChange",function(){return a.uc(e),a.gc().idleReset()}),a.Vb(33,"option",15),a.Dc(34,"Select"),a.Ub(),a.Bc(35,St,2,2,"option",16),a.Ub(),a.Vb(36,"small",17),a.cc("[ngClass]",function(){return a.uc(e),a.gc().stateCSS}),a.Dc(37,"NOTE: If your country is outside of USA, please select \u2018Other\u2019. "),a.Ub(),a.Bc(38,jt,2,1,"div",8),a.Ub(),a.Ub(),a.Vb(39,"div",3),a.Vb(40,"div",4),a.Vb(41,"label",18),a.Dc(42,"Messer Contact Person: "),a.Bc(43,xt,2,0,"span",6),a.Ub(),a.Ub(),a.Vb(44,"div",4),a.Vb(45,"input",19),a.cc("ngModelChange",function(){return a.uc(e),a.gc().idleReset()}),a.Ub(),a.Bc(46,Pt,2,1,"div",8),a.Ub(),a.Ub(),a.Ub(),a.Ub()}if(2&e){const e=a.gc();a.mc("formGroup",e.tempownerForm)("ngClass",a.pc(19,At,1==e.showdisabled)),a.Db(6),a.mc("ngIf",1!=e.showdisabled),a.Db(2),a.mc("ngClass",a.pc(21,Ot,e.tempownersubmitted&&e.ff.project_Name.errors)),a.Db(1),a.mc("ngIf",(e.ff.project_Name.touched||e.tempownersubmitted)&&e.ff.project_Name.errors),a.Db(5),a.mc("ngIf",1!=e.showdisabled),a.Db(2),a.mc("ngClass",a.pc(23,Ot,e.tempownersubmitted&&e.ff.project_Detail.errors)),a.Db(1),a.mc("ngIf",(e.ff.project_Detail.touched||e.tempownersubmitted)&&e.ff.project_Detail.errors),a.Db(5),a.mc("ngIf",1!=e.showdisabled),a.Db(2),a.mc("ngClass",a.pc(25,Ot,e.tempownersubmitted&&e.ff.project_City.errors)),a.Db(1),a.mc("ngIf",(e.tempownersubmitted||e.ff.project_City.touched)&&e.ff.project_City.errors),a.Db(5),a.mc("ngIf",1!=e.showdisabled),a.Db(2),a.mc("ngClass",a.pc(27,Ot,e.tempownersubmitted&&e.ff.project_State.errors)),a.Db(1),a.mc("ngValue",""),a.Db(2),a.mc("ngForOf",e.stateNames),a.Db(3),a.mc("ngIf",(e.tempownersubmitted||e.ff.project_State.touched)&&e.ff.project_State.errors),a.Db(5),a.mc("ngIf",1!=e.showdisabled),a.Db(2),a.mc("ngClass",a.pc(29,Ot,e.tempownersubmitted&&e.ff.project_MesserContact.errors)),a.Db(1),a.mc("ngIf",(e.tempownersubmitted||e.ff.project_MesserContact.touched)&&e.ff.project_MesserContact.errors)}}let Mt=(()=>{class e{constructor(e,t,i){this.fb=e,this.formBuilder=t,this.keepalive=i,this.tempownersubmitted=!1,this.stateNames=s,this.submitted=!1,this.stateCSS="note fw-bold p-0 pt-3",this.isMesserProject=!0,this.resetTimer=0}ngAfterContentChecked(){var e;this.showdisabled&&(null===(e=this.tempownerForm)||void 0===e||e.disable())}ngOnChanges(){this.showdisabled&&(this.stateCSS=this.stateCSS+" bg-grey",console.log(this.stateCSS))}ngAfterViewInit(){var e;this.showdisabled&&(null===(e=this.tempownerForm)||void 0===e||e.disable())}ngOnInit(){console.log(this.showdisabled)}chkContractor(e){this.isMesserProject="Yes"==e}get getDisabled(){var e;return"no"==(null===(e=this.ff)||void 0===e?void 0:e.CompletedProject.value)}get ff(){var e;return null===(e=this.tempownerForm)||void 0===e?void 0:e.controls}idleReset(){this.keepalive.start(),this.resetTimer=0}}return e.\u0275fac=function(t){return new(t||e)(a.Pb(n.d),a.Pb(n.d),a.Pb(u.a))},e.\u0275cmp=a.Jb({type:e,selectors:[["app-experiencenew"]],inputs:{tempownerForm:["formInfo","tempownerForm"],showdisabled:"showdisabled"},features:[a.Bb],decls:1,vars:1,consts:[["style","padding-top:5%;padding-bottom:5%;",3,"formGroup","ngClass",4,"ngIf"],[2,"padding-top","5%","padding-bottom","5%",3,"formGroup","ngClass"],[1,"px-2"],[1,"row"],[1,"col-6"],["for","owner-company_Name",1,"my-auto","font-italic"],["class","text-danger",4,"ngIf"],["type","text","formControlName","project_Name","id","project-Name","autocomplete","disabled","name","project_Name",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","project_Detail",1,"my-auto","font-italic"],["type","text","formControlName","project_Detail","id","project-Name","autocomplete","off","name","project_Detail",1,"form-control",3,"ngClass"],["for","project_City",1,"my-auto","font-italic"],["type","text","formControlName","project_City","id","project_City","name","project_City","autocomplete","disabled",1,"form-control",3,"ngClass","ngModelChange"],["for","project_State",1,"my-auto","font-italic","float-right"],["formControlName","project_State","id","state","name","project_State",1,"form-control","form-select",3,"ngClass","ngModelChange"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"[ngClass]"],["for","project_MesserContact",1,"my-auto","font-italic"],["type","text","formControlName","project_MesserContact","autocomplete","disabled","id","project_MesserContact","name","project_MesserContact",1,"form-control",3,"ngClass","ngModelChange"],[1,"text-danger"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(e,t){1&e&&a.Bc(0,Et,47,31,"div",0),2&e&&a.mc("ngIf",t.ff&&t.tempownerForm)},directives:[o.l,n.k,n.g,o.j,n.b,n.j,n.f,n.t,n.n,n.w,o.k],styles:[".row[_ngcontent-%COMP%]{padding:5px 1px}"]}),e})();function Nt(e,t){1&e&&a.Qb(0,"hr",50)}function Tt(e,t){if(1&e&&a.Qb(0,"app-experiencenew",17),2&e){const e=a.gc();a.mc("formInfo",e.currentProject1)("showdisabled",e.showdisabled)}}function Bt(e,t){if(1&e){const e=a.Wb();a.Vb(0,"button",51),a.cc("click",function(){return a.uc(e),a.gc().addcurrentProject()}),a.Dc(1),a.Ub()}if(2&e){const e=a.gc();a.Eb("disabled",e.radioDisable),a.Db(1),a.Fc("",e.isProject1?"Remove":"Add Another"," ")}}function qt(e,t){1&e&&a.Qb(0,"hr",50)}function Lt(e,t){if(1&e&&a.Qb(0,"app-experiencenew",17),2&e){const e=a.gc();a.mc("formInfo",e.ongoingproject1)("showdisabled",e.showdisabled)}}function Yt(e,t){if(1&e){const e=a.Wb();a.Vb(0,"button",51),a.cc("click",function(){return a.uc(e),a.gc().addOngoing()}),a.Dc(1),a.Ub()}if(2&e){const e=a.gc();a.Eb("disabled",e.radioDisable),a.Db(1),a.Ec(e.isProject2?"Remove":"Add Another")}}function zt(e,t){1&e&&(a.Vb(0,"span",52),a.Dc(1,"*"),a.Ub())}function $t(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1," Project Reference Contact Name is required "),a.Ub())}function Qt(e,t){if(1&e&&(a.Vb(0,"div",53),a.Bc(1,$t,2,0,"div",54),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.nonMesserReference.controls.project_ReferenceName.errors.required)}}function Gt(e,t){1&e&&(a.Vb(0,"span",52),a.Dc(1,"*"),a.Ub())}function Wt(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1," Reference Contact Type is required"),a.Ub())}function Ht(e,t){if(1&e&&(a.Vb(0,"div",53),a.Bc(1,Wt,2,0,"div",54),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.nonMesserReference.controls.project_Contact_Type.errors.required)}}function Zt(e,t){1&e&&(a.Vb(0,"span",52),a.Dc(1,"*"),a.Ub())}function Kt(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1," Email Project Reference Contact is required "),a.Ub())}function Xt(e,t){if(1&e&&(a.Vb(0,"div",53),a.Bc(1,Kt,2,0,"div",54),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.nonMesserReference.controls.project_EmailReferenceName.errors.required)}}function Jt(e,t){1&e&&(a.Vb(0,"span",52),a.Dc(1,"*"),a.Ub())}function ei(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1," Project Reference Contact Name 2 is required "),a.Ub())}function ti(e,t){if(1&e&&(a.Vb(0,"div",53),a.Bc(1,ei,2,0,"div",54),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.nonMesserReference.controls.project_ReferenceName2.errors.required)}}function ii(e,t){1&e&&(a.Vb(0,"span",52),a.Dc(1,"*"),a.Ub())}function oi(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1," Reference Contact Type 2 is required "),a.Ub())}function ni(e,t){if(1&e&&(a.Vb(0,"div",53),a.Bc(1,oi,2,0,"div",54),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.nonMesserReference.controls.project_Contact_Type2.errors.required)}}function ri(e,t){1&e&&(a.Vb(0,"span",52),a.Dc(1,"*"),a.Ub())}function si(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1," Email Project Reference Contact 2 is required "),a.Ub())}function ai(e,t){if(1&e&&(a.Vb(0,"div",53),a.Bc(1,si,2,0,"div",54),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.nonMesserReference.controls.project_EmailReferenceName2.errors.required)}}function ci(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",55),a.Vb(1,"button",56),a.cc("click",function(){return a.uc(e),a.gc().gotoHome()}),a.Dc(2," << BACK"),a.Ub(),a.Vb(3,"button",57),a.cc("click",function(){return a.uc(e),a.gc().save()}),a.Dc(4),a.Ub(),a.Vb(5,"button",58),a.cc("click",function(){return a.uc(e),a.gc().submit()}),a.Dc(6,"NEXT >>"),a.Ub(),a.Ub()}if(2&e){const e=a.gc();a.Db(4),a.Ec(e.submitText)}}function li(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",59),a.Vb(1,"button",56),a.cc("click",function(){return a.uc(e),a.gc().gotoHome()}),a.Dc(2," << BACK"),a.Ub(),a.Vb(3,"button",60),a.cc("click",function(){return a.uc(e),a.gc().nextroutePage()}),a.Dc(4,"NEXT >>"),a.Ub(),a.Ub()}}const di=function(e){return{"bg-grey":e}},ui=function(e){return{"is-invalid":e}};let pi=(()=>{class e{constructor(e,t,i,o,r,s,a,c,l,d,u){this.formBuilder=e,this.router=t,this.experienceservice=i,this.bnIdle=o,this.keepalive=r,this.toastr=s,this.companyservice=a,this.loginInfo=c,this.ngxUiLoader=l,this.logininfo=d,this.expService=u,this.currentForm=2,this.submitted=!1,this.companyId=0,this.userRole="",this.resetTimer=0,this.showAdmin=!1,this.tempcompanyid=0,this.submitText="",this.prequalification_status="",this.showdisabled=!1,this.radioDisable=null,this.isOngoing=!1,this.isCurrent=!1,this.isNonmesser=!1,this.isOnemesser=!1,this.isProject2=!1,this.isProject1=!1,this.experienceForm=this.formBuilder.group({experience:this.formBuilder.array([])}),this.nonMesserReference=this.formBuilder.group({project_ReferenceName:["",[n.u.required]],project_Contact_Type:["",[n.u.required]],project_EmailReferenceName:["",[n.u.required,n.u.email]],project_ReferenceName2:["",[n.u.required]],project_Contact_Type2:["",[n.u.required]],project_EmailReferenceName2:["",[n.u.required,n.u.email]],project_onemesserreference:["",[]],project_nonmesserreference:["",[]]}),this.ongoingproject=this.newExperience(),this.currentProject=this.newExperience(),this.ongoingproject1=this.newExperience(),this.currentProject1=this.newExperience();let p=localStorage.getItem("userDetails");p=JSON.parse(atob(p)),this.userDetails=p,this.userRole=p.role;let m=localStorage.getItem("tempcompanyid");this.tempcompanyid=Number(m?atob(m):0),this.submitText="SAVE",localStorage.setItem("currPage","experienceinfo"),this.showdisabled="Subcontractor"!=this.userRole,this.tempcompanyid>0&&"Subcontractor"!=this.userRole&&(this.showAdmin=!0,this.showdisabled=!0,this.radioDisable=!0,this.getRecords(this.tempcompanyid)),console.log("cons",this.showdisabled),null!=this.userDetails.vendorId&&null!=this.userDetails.taxId&&"Subcontractor"==this.userRole&&this.experienceservice.getUser(this.userDetails.vendorId,this.userDetails.taxId).subscribe(e=>{this.companyId=e.id,localStorage.setItem("companyid",btoa(this.companyId.toString())),this.getRecords(this.companyId)})}get getexperience(){return this.experienceForm.get("experience")}addExperience(){this.getexperience.push(this.newExperience()),this.getexperience.push(this.newExperience())}addcurrentProject(){this.isProject1=!this.isProject1}addOngoing(){this.isProject2=!this.isProject2}nonmesserReference(){var e=document.getElementById("project_nonmesserreference");this.isNonmesser=null==e?void 0:e.checked,this.isNonmesser?(this.isOnemesser=!1,this.nonMesserReference.patchValue({project_ReferenceName:"",project_Contact_Type:"",project_EmailReferenceName:"",project_ReferenceName2:"",project_Contact_Type2:"",project_EmailReferenceName2:""}),this.nonMesserReference.disable(),this.nonMesserReference.controls.project_onemesserreference.enable(),this.nonMesserReference.controls.project_nonmesserreference.enable()):(this.nonMesserReference.patchValue({project_ReferenceName:"",project_Contact_Type:"",project_EmailReferenceName:"",project_ReferenceName2:"",project_Contact_Type2:"",project_EmailReferenceName2:""}),this.nonMesserReference.enable())}onemesserReference(){var e=document.getElementById("project_onemesserreference");this.isOnemesser=null==e?void 0:e.checked,console.log("one"+this.isOnemesser),this.isNonmesser&&(this.isNonmesser=!this.isOnemesser),1==this.isOnemesser?(this.nonMesserReference.patchValue({project_ReferenceName2:"",project_Contact_Type2:"",project_EmailReferenceName2:""}),this.nonMesserReference.controls.project_ReferenceName.enable(),this.nonMesserReference.controls.project_Contact_Type.enable(),this.nonMesserReference.controls.project_EmailReferenceName.enable(),this.nonMesserReference.controls.project_ReferenceName2.disable(),this.nonMesserReference.controls.project_Contact_Type2.disable(),this.nonMesserReference.controls.project_EmailReferenceName2.disable()):(this.nonMesserReference.patchValue({project_ReferenceName2:"",project_Contact_Type2:"",project_EmailReferenceName2:""}),this.nonMesserReference.controls.project_ReferenceName2.enable(),this.nonMesserReference.controls.project_Contact_Type2.enable(),this.nonMesserReference.controls.project_EmailReferenceName2.enable())}newExperience(){return this.formBuilder.group({id:0,companyId:0,type:[""],CompletedProject:[],project_Name:["",[n.u.required,n.u.maxLength(130)]],project_Detail:["",[n.u.required,n.u.maxLength(130)]],project_Price:["",[]],isMesserProject:[""],project_Completion:["",[]],project_City:["",[n.u.required]],project_State:["",[n.u.required]],project_MesserContact:["",[n.u.required]],project_Reference:["",[]],project_Contact_Type:["",[]],project_Email:["",[]]})}ngOnInit(){this.ngxUiLoader.startLoader("loader-01"),console.log("show",this.showdisabled)}chkExperience(e,t){console.log(e+" - "+t),"OngoingProject"===t?(this.ongoingproject.controls.CompletedProject.setValue(e),"no"==e?(this.isOngoing=!1,this.ongoingproject.patchValue({type:"",CompletedProject:"",project_Name:"",project_Detail:"",project_Price:"",isMesserProject:"",project_Completion:"",project_City:"",project_State:"",project_MesserContact:"",project_Reference:"",project_Contact_Type:"",project_Email:""}),this.isProject2&&(this.ongoingproject1.patchValue({type:"",CompletedProject:"",project_Name:"",project_Detail:"",project_Price:"",isMesserProject:"",project_Completion:"",project_City:"",project_State:"",project_MesserContact:"",project_Reference:"",project_Contact_Type:"",project_Email:""}),this.addOngoing(),this.ongoingproject1.disable()),this.ongoingproject.disable()):(this.isOngoing=!0,this.ongoingproject.enable(),this.isProject2&&(this.ongoingproject1.enable(),this.ongoingproject1.controls.CompletedProject.setValue(e)))):(this.currentProject.controls.CompletedProject.setValue(e),"no"==e?(this.isCurrent=!1,this.currentProject.disable(),this.currentProject.patchValue({type:"",CompletedProject:"",project_Name:"",project_Detail:"",project_Price:"",isMesserProject:"",project_Completion:"",project_City:"",project_State:"",project_MesserContact:"",project_Reference:"",project_Contact_Type:"",project_Email:""}),this.isProject1&&(this.currentProject1.disable(),this.currentProject1.patchValue({type:"",CompletedProject:"",project_Name:"",project_Detail:"",project_Price:"",isMesserProject:"",project_Completion:"",project_City:"",project_State:"",project_MesserContact:"",project_Reference:"",project_Contact_Type:"",project_Email:""}),this.addcurrentProject())):(this.isCurrent=!0,this.currentProject.enable(),this.isProject1&&(this.currentProject1.enable(),this.currentProject1.controls.CompletedProject.setValue(e))))}ngOnDestroy(){this.keepalive.stop()}getRecords(e){this.experienceservice.getRecords(e).subscribe(e=>{if(console.log(e),e.length>0){var t=e.filter(function(e){return"CurrentProject"==e.type}),i=e.filter(function(e){return"OngoingProject"==e.type}),o=i.filter(function(e){return e.projectReference||e.projectContactType||e.projectEmail}).length>=1?i.filter(function(e){return e.projectReference||e.projectContactType||e.projectEmail})[0]:null,n=t.filter(function(e){return e.projectReference||e.projectContactType||e.projectEmail}).length>=1?t.filter(function(e){return e.projectReference||e.projectContactType||e.projectEmail})[0]:null;this.isProject1=2==t.length,this.isProject2=2==i.length,this.isOnemesser=e[0].isOneReference,this.isNonmesser=e[0].isNoReference;var r=0,s=0,a=!1;n&&o&&this.isRefPresent(n)&&this.isRefPresent(o)&&(a=(2==e.length||4==e.length)&&t.length==i.length),e=e.sort((e,t)=>{var i,o,n,r,s;return(null!==(o=null!==(i=e.projectReference)&&void 0!==i?i:e.projectContactType)&&void 0!==o?o:e.projectEmail).length>(null===(s=null!==(r=null!==(n=t.projectReference)&&void 0!==n?n:t.projectContactType)&&void 0!==r?r:t.projectEmail)||void 0===s?void 0:s.length)?-1:1});for(var c=0;c<e.length;c++){var l=e[c];if("CurrentProject"==l.type){var d=2==(r+=1)?this.currentProject1:this.currentProject,u=""==l.completedProject||null==l.completedProject?"no":l.completedProject;2==r&&(u="Yes"),this.chkExperience(u,l.type),this.updateExperience(d,l,l.type,2==r)}else{var p=2==(s+=1)?this.ongoingproject1:this.ongoingproject;u=""==l.completedProject||null==l.completedProject?"no":l.completedProject,2==s&&(u="Yes"),this.chkExperience(u,l.type),this.updateExperience(p,l,l.type,2==s||a)}}0==i.length&&this.chkExperience("no","OngoingProject"),0==t.length&&this.chkExperience("no","CurrentProject"),this.submitText="UPDATE",this.nonMesserReference.controls.project_onemesserreference.setValue(this.isOnemesser),this.nonMesserReference.controls.project_nonmesserreference.setValue(this.isNonmesser),this.isNonmesser&&this.nonmesserReference(),this.isOnemesser&&this.onemesserReference()}else this.chkExperience("no","CurrentProject"),this.chkExperience("no","OngoingProject")}),e>0&&this.companyservice.getRecord(e).subscribe(e=>{this.prequalification_status=(e=e[0]).preQualification_Status,e.preQualification_Status&&this.loginInfo.formDisable(e.preQualification_Status)&&(this.showdisabled=!0,this.radioDisable=!0,this.ongoingproject.disable(),this.ongoingproject.updateValueAndValidity(),this.ongoingproject1.disable(),this.ongoingproject1.updateValueAndValidity(),this.currentProject.disable(),this.currentProject.updateValueAndValidity(),this.currentProject1.disable(),this.nonMesserReference.disable())})}updateExperience(e,t,i,o){var n;e.controls.id.setValue(t.id),e.controls.companyId.setValue(this.companyId),e.controls.type.setValue(t.type),e.controls.project_Name.setValue(t.projectName),e.controls.project_Detail.setValue(t.projectDetail),e.controls.project_Price.setValue(null!==(n=t.projectPrice)&&void 0!==n?n:0),e.controls.isMesserProject.setValue(t.isMesserProject),e.controls.project_Completion.setValue(t.projectCompletion),e.controls.project_City.setValue(t.projectCity),e.controls.project_State.setValue(t.projectState),e.controls.project_MesserContact.setValue(t.projectMesserContact),console.log("data",i,t);var r=this.isRefPresent(t);this.nonMesserReference.controls.project_onemesserreference.setValue(t.isOneReference),this.nonMesserReference.controls.project_nonmesserreference.setValue(t.isNoReference),r&&("CurrentProject"==i&&"Yes"==t.completedProject||"OngoingProject"==i&&"Yes"==t.completedProject?o&&!this.nonMesserReference.controls.project_ReferenceName2.value||this.nonMesserReference.controls.project_ReferenceName.value?(this.nonMesserReference.controls.project_ReferenceName2.setValue(t.projectReference),this.nonMesserReference.controls.project_Contact_Type2.setValue(t.projectContactType),this.nonMesserReference.controls.project_EmailReferenceName2.setValue(t.projectEmail)):(this.nonMesserReference.controls.project_ReferenceName.setValue(t.projectReference),this.nonMesserReference.controls.project_Contact_Type.setValue(t.projectContactType),this.nonMesserReference.controls.project_EmailReferenceName.setValue(t.projectEmail)):"CurrentProject"==i?(this.nonMesserReference.controls.project_ReferenceName.setValue(t.projectReference),this.nonMesserReference.controls.project_Contact_Type.setValue(t.projectContactType),this.nonMesserReference.controls.project_EmailReferenceName.setValue(t.projectEmail)):o?(this.nonMesserReference.controls.project_ReferenceName2.setValue(t.projectReference),this.nonMesserReference.controls.project_Contact_Type2.setValue(t.projectContactType),this.nonMesserReference.controls.project_EmailReferenceName2.setValue(t.projectEmail)):(this.nonMesserReference.controls.project_ReferenceName.setValue(t.projectReference),this.nonMesserReference.controls.project_Contact_Type.setValue(t.projectContactType),this.nonMesserReference.controls.project_EmailReferenceName.setValue(t.projectEmail)))}isRefPresent(e){return!!e&&!!(e.projectReference||e.projectContactType||e.projectEmail)}updateExperienceinfo(e){}ngAfterViewInit(){}idleReset(){this.keepalive.start(),this.resetTimer=0}submit(){this.keepalive.stop(),"Subcontractor"!=this.userRole?this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`]):this.companyId>0&&(this.multiSave(!0),this.ngxUiLoader.startLoader("loader-01"))}nextpage(){this.companyId>0&&this.multiSave(!0)}save(){this.keepalive.stop(),this.companyId>0&&this.multiSave(!1)}multiSave(e){var t=this.formMethod(this.currentProject,"CurrentProject"),i=this.formMethod(this.ongoingproject,"OngoingProject"),o=this.formMethod(this.currentProject1,"CurrentProject"),n=this.formMethod(this.ongoingproject1,"OngoingProject"),r=[],s={isCurrent:this.isCurrent,isOngoing:this.isOngoing,isProject1:this.isProject1,isProject2:this.isProject2,isOnemesser:this.isOnemesser,isNonmesser:this.isNonmesser};console.log(s),s.isNonmesser||s.isOnemesser?s.isOnemesser?(t.projectReference=this.nonMesserReference.value.project_ReferenceName,t.projectContactType=this.nonMesserReference.value.project_Contact_Type,t.projectEmail=this.nonMesserReference.value.project_EmailReferenceName,o.projectReference="",o.projectContactType="",o.projectEmail="",i.projectReference="",i.projectContactType="",i.projectEmail="",n.projectReference="",n.projectContactType="",n.projectEmail=""):(t.projectReference="",t.projectContactType="",t.projectEmail="",o.projectReference="",o.projectContactType="",o.projectEmail="",n.projectReference="",n.projectContactType="",n.projectEmail="",i.projectReference="",i.projectContactType="",i.projectEmail=""):(i.projectReference=this.nonMesserReference.value.project_ReferenceName2,i.projectContactType=this.nonMesserReference.value.project_Contact_Type2,i.projectEmail=this.nonMesserReference.value.project_EmailReferenceName2,t.projectReference=this.nonMesserReference.value.project_ReferenceName,t.projectContactType=this.nonMesserReference.value.project_Contact_Type,t.projectEmail=this.nonMesserReference.value.project_EmailReferenceName,o.projectReference="",o.projectContactType="",o.projectEmail="",n.projectReference="",n.projectContactType="",n.projectEmail=""),s.isCurrent||s.isOngoing?s.isCurrent&&!s.isOngoing?(console.log("Secenario 2 curr -yes & ong- no"),t.completedProject="Yes",t.projectReference=this.nonMesserReference.value.project_ReferenceName,t.projectContactType=this.nonMesserReference.value.project_Contact_Type,t.projectEmail=this.nonMesserReference.value.project_EmailReferenceName,(r=this.setDeleteCalls(n,r)).push(this.expService.addRecord("Reference",t)),s.isProject1?(o.completedProject="Yes",s.isNonmesser||s.isOnemesser||(o.projectReference=this.nonMesserReference.value.project_ReferenceName2,o.projectContactType=this.nonMesserReference.value.project_Contact_Type2,o.projectEmail=this.nonMesserReference.value.project_EmailReferenceName2,t.projectReference=this.nonMesserReference.value.project_ReferenceName,t.projectContactType=this.nonMesserReference.value.project_Contact_Type,t.projectEmail=this.nonMesserReference.value.project_EmailReferenceName),r.push(this.expService.addRecord("Reference",o)),r=this.setDeleteCalls(i,r)):this.nonMesserReference.value.project_ReferenceName2?((i=this.clearFormData(i)).completedProject="no",i.projectReference=this.nonMesserReference.value.project_ReferenceName2,i.projectContactType=this.nonMesserReference.value.project_Contact_Type2,i.projectEmail=this.nonMesserReference.value.project_EmailReferenceName2,r.push(this.expService.addRecord("Reference",i)),r=this.setDeleteCalls(o,r)):(r=this.setDeleteCalls(o,r),r=this.setDeleteCalls(i,r))):!s.isCurrent&&s.isOngoing?(console.log("Secenario 3 curr -no & ong- yes"),i.completedProject="Yes",i.projectReference=this.nonMesserReference.value.project_ReferenceName,i.projectContactType=this.nonMesserReference.value.project_Contact_Type,i.projectEmail=this.nonMesserReference.value.project_EmailReferenceName,r.push(this.expService.addRecord("Reference",i)),r=this.setDeleteCalls(o,r),s.isProject2?(n.completedProject="Yes",s.isNonmesser||s.isOnemesser||(n.projectReference=this.nonMesserReference.value.project_ReferenceName2,n.projectContactType=this.nonMesserReference.value.project_Contact_Type2,n.projectEmail=this.nonMesserReference.value.project_EmailReferenceName2,i.projectReference=this.nonMesserReference.value.project_ReferenceName,i.projectContactType=this.nonMesserReference.value.project_Contact_Type,i.projectEmail=this.nonMesserReference.value.project_EmailReferenceName),r.push(this.expService.addRecord("Reference",n)),r=this.setDeleteCalls(t,r)):this.nonMesserReference.value.project_ReferenceName2?((t=this.clearFormData(t)).completedProject="no",t.projectReference=this.nonMesserReference.value.project_ReferenceName2,t.projectContactType=this.nonMesserReference.value.project_Contact_Type2,t.projectEmail=this.nonMesserReference.value.project_EmailReferenceName2,r.push(this.expService.addRecord("Reference",t)),r=this.setDeleteCalls(n,r)):(r=this.setDeleteCalls(n,r),r=this.setDeleteCalls(t,r))):(console.log("Secenario 4 both yes"),r.push(this.expService.addRecord("Reference",t)),r.push(this.expService.addRecord("Reference",i)),s.isProject1&&s.isProject2?(o.completedProject="Yes",r.push(this.expService.addRecord("Reference",o)),n.completedProject="Yes",r.push(this.expService.addRecord("Reference",n))):s.isProject1||s.isProject2?s.isProject1?(o.completedProject="Yes",(r=this.setDeleteCalls(n,r)).push(this.expService.addRecord("Reference",o))):(n.completedProject="Yes",(r=this.setDeleteCalls(o,r)).push(this.expService.addRecord("Reference",n))):(r=this.setDeleteCalls(o,r),r=this.setDeleteCalls(n,r))):(console.log("Secenario 1 both no"),r=this.setDeleteCalls(n,r),r=this.setDeleteCalls(o,r),s.isNonmesser||s.isOnemesser?s.isOnemesser?((t=this.clearFormData(t)).completedProject="no",r.push(this.expService.addRecord("Reference",t)),r=this.setDeleteCalls(i,r)):(r=this.setDeleteCalls(t,r),0==(r=this.setDeleteCalls(i,r)).length&&s.isNonmesser&&((t=this.clearFormData(t)).completedProject="no",r.push(this.expService.addRecord("Reference",t)))):(t=this.clearFormData(t),i=this.clearFormData(i),t.completedProject="no",i.completedProject="no",r.push(this.expService.addRecord("Reference",i)),r.push(this.expService.addRecord("Reference",t)))),Object(pt.a)(r).subscribe(t=>{this.toastr.success("Project Experience & References saved successfully","Project Experience & References"),e&&this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`]),this.submitText="UPDATE"})}setDeleteCalls(e,t){return 0!=e.id&&t.push(this.expService.deleteRecord(e.id)),t}clearFormData(e){return e.completedProject="",e.projectName="",e.projectDetail="",e.projectPrice=0,e.isMesserProject=!1,e.projectCompletion="",e.projectCity="",e.projectState="",e.projectMesserContact="",e}firstFormssubmit(){}saveForms(){return[]}firstForms(){}autoSave(){}formMethod(e,t){var i={};return i.id=e.value.id,i.companyId=this.companyId,i.type=t,i.completedProject=e.value.CompletedProject,i.projectName=e.value.project_Name,i.projectDetail=e.value.project_Detail,i.projectPrice=""==e.value.project_Price?0:e.value.project_Price,i.isMesserProject=""!=e.value.isMesserProject&&e.value.isMesserProject,i.projectCompletion=e.value.project_Completion,i.projectCity=e.value.project_City,i.projectState=e.value.project_State,i.projectMesserContact=e.value.project_MesserContact,i.isOneReference=this.isOnemesser,i.isNoReference=this.isNonmesser,"CurrentProject"==t?(i.projectReference=this.nonMesserReference.value.project_ReferenceName,i.projectContactType=this.nonMesserReference.value.project_Contact_Type,i.projectEmail=this.nonMesserReference.value.project_EmailReferenceName):(i.projectReference=this.nonMesserReference.value.project_ReferenceName2,i.projectContactType=this.nonMesserReference.value.project_Contact_Type2,i.projectEmail=this.nonMesserReference.value.project_EmailReferenceName2),i}gotoHome(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm-1].url}`])}addOwner(){}addOwner2(){}addArchitect(){}addArchitect2(){}addSupplier(){}addSupplier2(){}removeReference(e,t){}editreference(e,t){}ownerformcheckformValidation(){}ownerform2checkformValidation(){}architectformcheckformValidation(){}architect2formcheckformValidation(){}supplierformcheckformValidation(){}supplierform2checkformValidation(){}tempownercheckformValidation(){}temparchitectcheckformValidation(){}tempsuppliercheckformValidation(){}validateEmpty(e){return null==e||"null"==e||null==e||"undefined"==e?"":e}referenceupdate(e,t){}cancelUpdate(e,t){}nextroutePage(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])}}return e.\u0275fac=function(t){return new(t||e)(a.Pb(n.d),a.Pb(r.f),a.Pb(ht),a.Pb(l.a),a.Pb(u.a),a.Pb(f.b),a.Pb(c.a),a.Pb(g),a.Pb(v.c),a.Pb(g),a.Pb(_t))},e.\u0275cmp=a.Jb({type:e,selectors:[["app-experience"]],decls:137,vars:80,consts:[[1,"px-2","py-2","my-2","form-bg",3,"ngClass"],[1,"form-group","input-group","row"],[1,"col-lg-11","py-1","mx-auto"],[1,"row"],[1,"col-lg-6","pe-1","ps-2","col-head-1","mx-auto"],[1,"row","col-curve-top","bg-white","mx-0","px-0","pt-2","pb-3"],[3,"formGroup","keydown.enter"],[1,"col-6","pull-left","pt-1"],[1,"fw-bold"],[1,"col-6","pull-left"],[1,"row","pt-1"],[1,"col-lg-6"],["type","radio","value","yes","name","isMesserProject","id","isMesserProject_yes","required","",3,"checked","ngClass","click"],["for","isMesserProject_yes"],[1,"col-lg-4"],["type","radio","value","no","name","isMesserProject","id","isMesserProject_no","required","",3,"checked","ngClass","click"],["for","isMesserProject_no"],[3,"formInfo","showdisabled"],["style","width: 98%;margin: 0 auto;",4,"ngIf"],[3,"formInfo","showdisabled",4,"ngIf"],[1,"row","text-right"],["class","btn btnlg default-btn",3,"click",4,"ngIf"],["type","radio","value","yes","name","Ongoingproject","id","ongoingisMesserProject_yes","required","",3,"checked","ngClass","click"],["for","ongoingisMesserProject_yes"],["type","radio","value","no","name","Ongoingproject","id","ongoingisMesserProject_no","required","",3,"checked","ngClass","click"],["for","ongoingisMesserProject_no"],[1,"col-lg-12","py-2","mx-auto"],[1,"row","bg-white","col-curve","mx-auto","py-2","pt-1"],[1,"row","px-2"],[1,"col-6"],["for","owner-company_Name",1,"my-auto","font-italic"],["class","text-danger",4,"ngIf"],["type","text","formControlName","project_ReferenceName","id","project_ReferenceName","name","project_ReferenceName","autocomplete","disabled",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","project_Contact_Type",1,"my-auto","font-italic"],["formControlName","project_Contact_Type","id","state","name","state",1,"form-control","form-select",3,"ngClass","ngModelChange"],[3,"ngValue"],["type","text","formControlName","project_EmailReferenceName","id","project_EmailReferenceName","name","project_EmailReferenceName","autocomplete","disabled",1,"form-control",3,"ngClass"],[1,"row","mx-auto"],["for","owner-company_Name2",1,"my-auto","font-italic"],["type","text","formControlName","project_ReferenceName2","name","project_EmailReferenceName2","autocomplete","disabled","id","project_ReferenceName2","name","project_ReferenceName2",1,"form-control",3,"ngClass"],["for","project_Contact_Type2",1,"my-auto","font-italic"],["formControlName","project_Contact_Type2","id","state","name","state",1,"form-control","form-select",3,"ngClass","ngModelChange"],["for","project_EmailReferenceName2",1,"my-auto","font-italic"],["type","text","formControlName","project_EmailReferenceName2","id","project_EmailReferenceName2","autocomplete","disabled",1,"form-control",3,"ngClass"],["for","project_onemesserreference",1,"my-auto","font-italic"],["type","checkbox","formControlName","project_onemesserreference","id","project_onemesserreference","name","project_onemesserreference",3,"checked","click"],["type","checkbox","formControlName","project_nonmesserreference","id","project_nonmesserreference","name","project_nonmesserreference",3,"checked","click"],["class","text-end mx-lg-4 my-3",4,"ngIf"],["class","text-end mx-4 my-3",4,"ngIf"],[2,"width","98%","margin","0 auto"],[1,"btn","btnlg","default-btn",3,"click"],[1,"text-danger"],[1,"invalid-feedback"],[4,"ngIf"],[1,"text-end","mx-lg-4","my-3"],[1,"btn","float-start","btn","default-btn",3,"click"],["type","button",1,"btn","ml-4","default-btn",3,"click"],["type","button",1,"btn","mx-2","default-btn",3,"click"],[1,"text-end","mx-4","my-3"],[1,"btn","btn-success","mx-2","default-btn",3,"click"]],template:function(e,t){1&e&&(a.Vb(0,"div",0),a.Vb(1,"div",1),a.Vb(2,"div",2),a.Tb(3),a.Vb(4,"div",3),a.Vb(5,"div",4),a.Vb(6,"div",5),a.Vb(7,"form",6),a.cc("keydown.enter",function(e){return e.preventDefault()}),a.Vb(8,"div",3),a.Vb(9,"div",7),a.Vb(10,"h6",8),a.Dc(11,"1. Have you completed any projects with Messer in the past 5 years? "),a.Ub(),a.Ub(),a.Vb(12,"div",9),a.Vb(13,"div",10),a.Vb(14,"span",11),a.Vb(15,"input",12),a.cc("click",function(){return t.chkExperience("Yes","CurrentProject")}),a.Ub(),a.Vb(16,"label",13),a.Dc(17," YES"),a.Ub(),a.Ub(),a.Vb(18,"span",14),a.Vb(19,"input",15),a.cc("click",function(){return t.chkExperience("no","CurrentProject")}),a.Ub(),a.Vb(20,"label",16),a.Dc(21," NO"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Vb(22,"div",3),a.Qb(23,"app-experiencenew",17),a.Bc(24,Nt,1,0,"hr",18),a.Bc(25,Tt,1,2,"app-experiencenew",19),a.Ub(),a.Vb(26,"div",20),a.Bc(27,Bt,2,2,"button",21),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Vb(28,"div",4),a.Vb(29,"div",5),a.Vb(30,"form",6),a.cc("keydown.enter",function(e){return e.preventDefault()}),a.Vb(31,"div",3),a.Vb(32,"div",7),a.Vb(33,"h6",8),a.Dc(34,"2. Are you currently on any ongoing projects with Messer? "),a.Ub(),a.Ub(),a.Vb(35,"div",9),a.Vb(36,"div",10),a.Vb(37,"span",11),a.Vb(38,"input",22),a.cc("click",function(){return t.chkExperience("Yes","OngoingProject")}),a.Ub(),a.Vb(39,"label",23),a.Dc(40," YES"),a.Ub(),a.Ub(),a.Vb(41,"span",14),a.Vb(42,"input",24),a.cc("click",function(){return t.chkExperience("no","OngoingProject")}),a.Ub(),a.Vb(43,"label",25),a.Dc(44," NO"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Vb(45,"div",3),a.Qb(46,"app-experiencenew",17),a.Bc(47,qt,1,0,"hr",18),a.Bc(48,Lt,1,2,"app-experiencenew",19),a.Ub(),a.Vb(49,"div",20),a.Bc(50,Yt,2,2,"button",21),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Vb(51,"div",26),a.Vb(52,"form",6),a.cc("keydown.enter",function(e){return e.preventDefault()}),a.Vb(53,"div",27),a.Vb(54,"div",7),a.Vb(55,"h6",8),a.Dc(56,"3. Please provide two non - Messer references"),a.Ub(),a.Ub(),a.Vb(57,"div",28),a.Vb(58,"div",29),a.Vb(59,"label",30),a.Dc(60,"Project Reference Contact Name: "),a.Bc(61,zt,2,0,"span",31),a.Ub(),a.Ub(),a.Vb(62,"div",29),a.Qb(63,"input",32),a.Bc(64,Qt,2,1,"div",33),a.Ub(),a.Ub(),a.Vb(65,"div",28),a.Vb(66,"div",29),a.Vb(67,"label",34),a.Dc(68,"Reference Contact Type: "),a.Bc(69,Gt,2,0,"span",31),a.Ub(),a.Ub(),a.Vb(70,"div",29),a.Vb(71,"select",35),a.cc("ngModelChange",function(){return t.idleReset()}),a.Vb(72,"option",36),a.Dc(73,"Select"),a.Ub(),a.Vb(74,"option",36),a.Dc(75,"CM/GC"),a.Ub(),a.Vb(76,"option",36),a.Dc(77,"Owner"),a.Ub(),a.Vb(78,"option",36),a.Dc(79,"Designer"),a.Ub(),a.Ub(),a.Bc(80,Ht,2,1,"div",33),a.Ub(),a.Ub(),a.Vb(81,"div",28),a.Vb(82,"div",29),a.Vb(83,"label",30),a.Dc(84,"Email for Project Reference Contact: "),a.Bc(85,Zt,2,0,"span",31),a.Ub(),a.Ub(),a.Vb(86,"div",29),a.Qb(87,"input",37),a.Bc(88,Xt,2,1,"div",33),a.Ub(),a.Ub(),a.Vb(89,"div",38),a.Qb(90,"hr"),a.Vb(91,"div",28),a.Vb(92,"div",29),a.Vb(93,"label",39),a.Dc(94,"Project Reference Contact Name 2: "),a.Bc(95,Jt,2,0,"span",31),a.Ub(),a.Ub(),a.Vb(96,"div",29),a.Qb(97,"input",40),a.Bc(98,ti,2,1,"div",33),a.Ub(),a.Ub(),a.Vb(99,"div",28),a.Vb(100,"div",29),a.Vb(101,"label",41),a.Dc(102,"Reference Contact Type 2: "),a.Bc(103,ii,2,0,"span",31),a.Ub(),a.Ub(),a.Vb(104,"div",29),a.Vb(105,"select",42),a.cc("ngModelChange",function(){return t.idleReset()}),a.Vb(106,"option",36),a.Dc(107,"Select"),a.Ub(),a.Vb(108,"option",36),a.Dc(109,"CM/GC"),a.Ub(),a.Vb(110,"option",36),a.Dc(111,"Owner"),a.Ub(),a.Vb(112,"option",36),a.Dc(113,"Designer"),a.Ub(),a.Ub(),a.Bc(114,ni,2,1,"div",33),a.Ub(),a.Ub(),a.Vb(115,"div",28),a.Vb(116,"div",29),a.Vb(117,"label",43),a.Dc(118,"Email for Project Reference Contact 2: "),a.Bc(119,ri,2,0,"span",31),a.Ub(),a.Ub(),a.Vb(120,"div",29),a.Qb(121,"input",44),a.Bc(122,ai,2,1,"div",33),a.Ub(),a.Ub(),a.Ub(),a.Vb(123,"div",28),a.Vb(124,"div",29),a.Vb(125,"label",45),a.Dc(126,"I only have one non-messer references "),a.Ub(),a.Ub(),a.Vb(127,"div",29),a.Vb(128,"input",46),a.cc("click",function(){return t.onemesserReference()}),a.Ub(),a.Ub(),a.Ub(),a.Vb(129,"div",28),a.Vb(130,"div",29),a.Vb(131,"label",30),a.Dc(132,"I have no non-messer references "),a.Ub(),a.Ub(),a.Vb(133,"div",29),a.Vb(134,"input",47),a.cc("click",function(){return t.nonmesserReference()}),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Sb(),a.Ub(),a.Ub(),a.Bc(135,ci,7,1,"div",48),a.Bc(136,li,5,0,"div",49),a.Ub()),2&e&&(a.mc("ngClass",a.pc(58,di,1==t.showdisabled)),a.Db(7),a.mc("formGroup",t.currentProject),a.Eb("disabled",t.showdisabled),a.Db(8),a.mc("checked",t.isCurrent)("ngClass",a.pc(60,ui,t.submitted&&t.currentProject.controls.CompletedProject.errors)),a.Eb("disabled",t.radioDisable),a.Db(4),a.mc("checked",!t.isCurrent)("ngClass",a.pc(62,ui,t.submitted&&t.currentProject.controls.CompletedProject.errors)),a.Eb("disabled",t.radioDisable),a.Db(4),a.mc("formInfo",t.currentProject)("showdisabled",t.showdisabled),a.Db(1),a.mc("ngIf",t.isProject1&&t.isCurrent),a.Db(1),a.mc("ngIf",t.isProject1&&t.isCurrent),a.Db(2),a.mc("ngIf",t.isCurrent),a.Db(3),a.mc("formGroup",t.ongoingproject),a.Db(8),a.mc("checked",t.isOngoing)("ngClass",a.pc(64,ui,t.submitted&&t.ongoingproject.controls.CompletedProject.errors)),a.Eb("disabled",!0===t.showdisabled)("disabled",t.radioDisable),a.Db(4),a.mc("checked",!t.isOngoing)("ngClass",a.pc(66,ui,t.submitted&&t.ongoingproject.controls.CompletedProject.errors)),a.Eb("disabled",t.radioDisable),a.Db(4),a.mc("formInfo",t.ongoingproject)("showdisabled",t.showdisabled),a.Db(1),a.mc("ngIf",t.isProject2&&t.isOngoing),a.Db(1),a.mc("ngIf",t.isProject2&&t.isOngoing),a.Db(2),a.mc("ngIf",t.isOngoing),a.Db(2),a.mc("formGroup",t.nonMesserReference),a.Db(9),a.mc("ngIf",1!=t.showdisabled),a.Db(2),a.mc("ngClass",a.pc(68,ui,t.nonMesserReference.controls.project_ReferenceName.touched&&t.nonMesserReference.controls.project_ReferenceName.errors)),a.Db(1),a.mc("ngIf",t.nonMesserReference.controls.project_ReferenceName.touched&&t.nonMesserReference.controls.project_ReferenceName.errors),a.Db(5),a.mc("ngIf",1!=t.showdisabled),a.Db(2),a.mc("ngClass",a.pc(70,ui,t.nonMesserReference.controls.project_Contact_Type.touched&&t.nonMesserReference.controls.project_Contact_Type.errors)),a.Db(1),a.mc("ngValue",""),a.Db(2),a.mc("ngValue","Architect"),a.Db(2),a.mc("ngValue","Owner"),a.Db(2),a.mc("ngValue","Designer"),a.Db(2),a.mc("ngIf",t.nonMesserReference.controls.project_Contact_Type.touched&&t.nonMesserReference.controls.project_Contact_Type.errors),a.Db(5),a.mc("ngIf",1!=t.showdisabled),a.Db(2),a.mc("ngClass",a.pc(72,ui,t.nonMesserReference.controls.project_ReferenceName.touched&&t.nonMesserReference.controls.project_EmailReferenceName.errors)),a.Db(1),a.mc("ngIf",t.nonMesserReference.controls.project_ReferenceName.touched&&t.nonMesserReference.controls.project_EmailReferenceName.errors),a.Db(7),a.mc("ngIf",1!=t.showdisabled),a.Db(2),a.mc("ngClass",a.pc(74,ui,t.nonMesserReference.controls.project_ReferenceName2.touched&&t.nonMesserReference.controls.project_ReferenceName2.errors)),a.Db(1),a.mc("ngIf",t.nonMesserReference.controls.project_ReferenceName2.touched&&t.nonMesserReference.controls.project_ReferenceName2.errors),a.Db(5),a.mc("ngIf",1!=t.showdisabled),a.Db(2),a.mc("ngClass",a.pc(76,ui,t.nonMesserReference.controls.project_Contact_Type2.touched&&t.nonMesserReference.controls.project_Contact_Type2.errors)),a.Db(1),a.mc("ngValue",""),a.Db(2),a.mc("ngValue","Architect"),a.Db(2),a.mc("ngValue","Owner"),a.Db(2),a.mc("ngValue","Designer"),a.Db(2),a.mc("ngIf",t.nonMesserReference.controls.project_Contact_Type2.touched&&t.nonMesserReference.controls.project_Contact_Type2.errors),a.Db(5),a.mc("ngIf",1!=t.showdisabled),a.Db(2),a.mc("ngClass",a.pc(78,ui,t.nonMesserReference.controls.project_ReferenceName2.touched&&t.nonMesserReference.controls.project_EmailReferenceName2.errors)),a.Db(1),a.mc("ngIf",t.nonMesserReference.controls.project_ReferenceName2.touched&&t.nonMesserReference.controls.project_EmailReferenceName2.errors),a.Db(6),a.mc("checked",t.isOnemesser),a.Db(6),a.mc("checked",t.isNonmesser),a.Db(1),a.mc("ngIf",!(t.showAdmin||t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status)),a.Db(1),a.mc("ngIf",!t.showAdmin&&t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status||t.showAdmin))},directives:[o.j,n.v,n.k,n.g,Mt,o.l,n.b,n.j,n.f,n.t,n.n,n.w,n.a],styles:[".cont-border-left[_ngcontent-%COMP%]{border:4px solid #fff;border-right:0}.cont-border-right[_ngcontent-%COMP%]{border:4px solid #fff;border-left:0}.col-curve-top[_ngcontent-%COMP%]{border-top:6px solid #c3bdbd!important}.col-curve[_ngcontent-%COMP%], .col-curve-top[_ngcontent-%COMP%]{border-radius:18px 19px!important}.border[_ngcontent-%COMP%]{border:1px solid #fff!important}.border-end[_ngcontent-%COMP%]{border-bottom-left-radius:13px!important;border-bottom-right-radius:13px!important}.left-col-curve[_ngcontent-%COMP%]{border-top-left-radius:18px 19px!important}.right-col-curve[_ngcontent-%COMP%]{border-top-right-radius:18px 19px!important}.record-shadow[_ngcontent-%COMP%]{border:1px solid #ddd;box-shadow:0 .5rem 1rem rgba(0,0,0,.15)!important}.file-close[_ngcontent-%COMP%]{padding:2px 6px!important;background:#969294!important}.fileclose[_ngcontent-%COMP%]{font-size:22px;color:#6e6767;cursor:pointer}.edit[_ngcontent-%COMP%]{font-size:18px;cursor:pointer}h6[_ngcontent-%COMP%]{font-size:13px!important}.row[_ngcontent-%COMP%]{padding:5px 1px}.btnlg[_ngcontent-%COMP%]{width:180px!important}.text-right[_ngcontent-%COMP%]{float:right;padding-right:10px;display:block;text-align:right}.bg-grey[_ngcontent-%COMP%], .bg-grey[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .bg-grey[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{color:#c7bfbf!important}"]}),e})(),mi=(()=>{class e extends mt.a{constructor(e,t){super("Financial",e,t,{root:bt.a.webserviceURlLocal})}getAll(){return super.getAll()}getRecord(e){let t={Screen_ID:e,Screen_Type:"Financial"};const i={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")},body:t};return this.http.get(bt.a.webserviceURlLocal+"Files/"+e+"?Screen_Type=Financial",i)}deleteRecord(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.delete(bt.a.webserviceURlLocal+"Files/"+e,t)}getRecords(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("financial/"+e,bt.a.webserviceURlLocal);return this.http.get(i,t)}updateRecord(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("Financial",bt.a.webserviceURlLocal)+t;return this.http.put(o,e,i)}addRecord(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("Financial",bt.a.webserviceURlLocal);return this.http.post(i,e,t)}getUser(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("Organization/"+e+"/"+t,bt.a.webserviceURlLocal);return this.http.get(o,i)}getComplete(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("Organization/Getstatus/"+e,bt.a.webserviceURlLocal);return this.http.get(i,t)}updateOrgRecord(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.put(bt.a.webserviceURlLocal+"Organization/UpdateStatus?id="+t,e,i)}getRiskRecords(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.get(bt.a.webserviceURlLocal+"Organization/GetRisk?id="+e,t)}}return e.\u0275fac=function(t){return new(t||e)(a.Zb(ft.b),a.Zb(mt.c))},e.\u0275prov=a.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var bi=i("jhN1");function fi(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Compiled independent credit is required"),a.Ub())}function hi(e,t){if(1&e&&(a.Vb(0,"div",98),a.Bc(1,fi,2,0,"div",99),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.is_Independent_CPA.errors.required)}}function _i(e,t){1&e&&(a.Vb(0,"span",7),a.Dc(1,"*"),a.Ub())}function gi(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"CPA audited, reviewed and verified records is required"),a.Ub())}function vi(e,t){if(1&e&&(a.Vb(0,"div",98),a.Bc(1,gi,2,0,"div",99),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.cpa_auditReviewed.errors.required)}}function yi(e,t){1&e&&(a.Vb(0,"div",100),a.Vb(1,"span"),a.Dc(2,"Uploading..."),a.Ub(),a.Qb(3,"mat-progress-spinner",101),a.Ub())}function Vi(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",102),a.Vb(1,"p",103),a.Vb(2,"small"),a.Vb(3,"a",104),a.cc("click",function(){a.uc(e);const i=t.$implicit;return a.gc().openlink(i)}),a.Dc(4),a.Ub(),a.Ub(),a.Vb(5,"small",105),a.cc("click",function(){a.uc(e);const i=t.index,o=t.$implicit;return a.gc().removecpaUpload(i,o)}),a.Dc(6,"X"),a.Ub(),a.Ub(),a.Ub()}if(2&e){const e=t.$implicit;a.Db(3),a.nc("href",e.file_Path,a.wc),a.Db(1),a.Ec(e.name)}}function Ui(e,t){1&e&&(a.Vb(0,"span",7),a.Dc(1,"*"),a.Ub())}function Di(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Balance sheet is required"),a.Ub())}function Ci(e,t){if(1&e&&(a.Vb(0,"div",98),a.Bc(1,Di,2,0,"div",99),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.internal_Balance_Upload.errors.required)}}function Ii(e,t){1&e&&(a.Vb(0,"div",100),a.Vb(1,"span"),a.Dc(2,"Uploading..."),a.Ub(),a.Qb(3,"mat-progress-spinner",101),a.Ub())}function Ri(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",102),a.Vb(1,"p",103),a.Vb(2,"small"),a.Vb(3,"a",104),a.cc("click",function(){a.uc(e);const i=t.$implicit;return a.gc().openlink(i)}),a.Dc(4),a.Ub(),a.Ub(),a.Vb(5,"small",105),a.cc("click",function(){a.uc(e);const i=t.index,o=t.$implicit;return a.gc().removebalanceSheetUpload(i,o)}),a.Dc(6,"X"),a.Ub(),a.Ub(),a.Ub()}if(2&e){const e=t.$implicit;a.Db(3),a.nc("href",e.file_Path,a.wc),a.Db(1),a.Ec(e.name)}}function Fi(e,t){1&e&&(a.Vb(0,"span",7),a.Dc(1,"*"),a.Ub())}function Si(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Internal Profit & Loss Statement is required"),a.Ub())}function wi(e,t){if(1&e&&(a.Vb(0,"div",98),a.Bc(1,Si,2,0,"div",99),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.internal_Profit_Upload.errors.required)}}function ji(e,t){1&e&&(a.Vb(0,"div",100),a.Vb(1,"span"),a.Dc(2,"Uploading..."),a.Ub(),a.Qb(3,"mat-progress-spinner",101),a.Ub())}function xi(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",102),a.Vb(1,"p",103),a.Vb(2,"small"),a.Vb(3,"a",104),a.cc("click",function(){a.uc(e);const i=t.$implicit;return a.gc().openlink(i)}),a.Dc(4),a.Ub(),a.Ub(),a.Vb(5,"small",105),a.cc("click",function(){a.uc(e);const i=t.index,o=t.$implicit;return a.gc().removeprofitlossUpload(i,o)}),a.Dc(6,"X"),a.Ub(),a.Ub(),a.Ub()}if(2&e){const e=t.$implicit;a.Db(3),a.nc("href",e.file_Path,a.wc),a.Db(1),a.Ec(e.name)}}function ki(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Extended credit is required"),a.Ub())}function Pi(e,t){if(1&e&&(a.Vb(0,"div",98),a.Bc(1,ki,2,0,"div",99),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.iS_Extended_Credit.errors.required)}}function Ai(e,t){1&e&&(a.Vb(0,"span",7),a.Dc(1,"*"),a.Ub())}function Oi(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Approximate value of line of credit is required "),a.Ub())}function Ei(e,t){if(1&e&&(a.Vb(0,"div",98),a.Bc(1,Oi,2,0,"div",99),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.appr_CreditValue.errors.required)}}function Mi(e,t){1&e&&(a.Vb(0,"span",7),a.Dc(1,"*"),a.Ub())}function Ni(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Approximate value used on your line of credit is required "),a.Ub())}function Ti(e,t){if(1&e&&(a.Vb(0,"div",98),a.Bc(1,Ni,2,0,"div",99),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.appr_CreditValue_Used.errors.required)}}function Bi(e,t){1&e&&(a.Vb(0,"span",7),a.Dc(1,"*"),a.Ub())}function qi(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Bank Name of line of credit is required "),a.Ub())}function Li(e,t){if(1&e&&(a.Vb(0,"div",98),a.Bc(1,qi,2,0,"div",99),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.bank_Name.errors.required)}}function Yi(e,t){1&e&&(a.Vb(0,"span",7),a.Dc(1,"*"),a.Ub())}function zi(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Bank contact personnel is required"),a.Ub())}function $i(e,t){if(1&e&&(a.Vb(0,"div",98),a.Bc(1,zi,2,0,"div",99),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.bank_Contact_Personnnel.errors.required)}}function Qi(e,t){1&e&&(a.Vb(0,"span",7),a.Dc(1,"*"),a.Ub())}function Gi(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Bank contact email is required "),a.Ub())}function Wi(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Bank contact email is valid "),a.Ub())}function Hi(e,t){if(1&e&&(a.Vb(0,"div",98),a.Bc(1,Gi,2,0,"div",99),a.Bc(2,Wi,2,0,"div",99),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.bank_Contact_email.errors.required),a.Db(1),a.mc("ngIf",e.f.bank_Contact_email.errors.email)}}function Zi(e,t){1&e&&(a.Vb(0,"span",7),a.Dc(1,"*"),a.Ub())}function Ki(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Bank contact phone is required "),a.Ub())}function Xi(e,t){if(1&e&&(a.Vb(0,"div",98),a.Bc(1,Ki,2,0,"div",99),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.bank_Contact_phone.errors.required)}}function Ji(e,t){1&e&&(a.Vb(0,"div",100),a.Vb(1,"span"),a.Dc(2,"Uploading..."),a.Ub(),a.Qb(3,"mat-progress-spinner",101),a.Ub())}function eo(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",102),a.Vb(1,"p",103),a.Vb(2,"small"),a.Vb(3,"a",106),a.Dc(4),a.Ub(),a.Ub(),a.Vb(5,"small",105),a.cc("click",function(){a.uc(e);const i=t.index,o=t.$implicit;return a.gc().removetriRInfoTwoYearsUpload(i,o)}),a.Dc(6,"X"),a.Ub(),a.Ub(),a.Ub()}if(2&e){const e=t.$implicit;a.Db(3),a.nc("href",e.file_Path,a.wc),a.nc("download",e.name),a.Db(1),a.Ec(e.name)}}function to(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Work in progress file is required"),a.Ub())}function io(e,t){if(1&e&&(a.Vb(0,"div",98),a.Bc(1,to,2,0,"div",99),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.WIP_Upload.errors.required)}}function oo(e,t){if(1&e&&(a.Vb(0,"p",118),a.Dc(1,"Application Status: "),a.Vb(2,"span",115),a.Dc(3),a.Ub(),a.Ub()),2&e){const e=a.gc(2).$implicit;a.Db(3),a.Ec(e.risk_Reviewer_1_Status)}}function no(e,t){1&e&&(a.Vb(0,"p"),a.Vb(1,"span",119),a.Dc(2,"Conditional Approval Reason:"),a.Ub(),a.Ub())}function ro(e,t){if(1&e&&(a.Vb(0,"small",120),a.Vb(1,"span",121),a.Dc(2),a.Ub(),a.Ub()),2&e){const e=a.gc(2).$implicit;a.Db(2),a.Ec(e.risk_Reviewer_1_Reason)}}function so(e,t){if(1&e&&(a.Vb(0,"div"),a.Vb(1,"div",8),a.Vb(2,"div",111),a.Bc(3,oo,4,1,"p",112),a.Ub(),a.Vb(4,"div",113),a.Vb(5,"p",114),a.Dc(6,"Date: "),a.Vb(7,"span",115),a.Dc(8),a.hc(9,"date"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Vb(10,"div",8),a.Vb(11,"div",116),a.Bc(12,no,3,0,"p",99),a.Bc(13,ro,3,1,"small",117),a.Ub(),a.Ub(),a.Ub()),2&e){const e=a.gc().$implicit;a.Db(3),a.mc("ngIf","Conditionally Approved"==e.risk_Reviewer_1_Status||"Approved"==e.risk_Reviewer_1_Status),a.Db(5),a.Ec(a.jc(9,4,e.reviewer_1_Approved_Date,"MM/dd/yyyy")),a.Db(4),a.mc("ngIf","Conditionally Approved"==e.risk_Reviewer_1_Status),a.Db(1),a.mc("ngIf",null!=e.risk_Reviewer_1_Reason&&"null"!=e.risk_Reviewer_1_Reason&&"Conditionally Approved"==e.risk_Reviewer_1_Status)}}function ao(e,t){if(1&e&&(a.Vb(0,"div",110),a.Bc(1,so,14,7,"div",99),a.Ub()),2&e){const e=t.$implicit;a.Db(1),a.mc("ngIf",null!=e.risk_Reviewer_1_Status)}}function co(e,t){if(1&e&&(a.Vb(0,"div",107),a.Vb(1,"h6",108),a.Dc(2,"Risk User 1 - Review"),a.Ub(),a.Bc(3,ao,2,1,"div",109),a.Ub()),2&e){const e=a.gc();a.Db(3),a.mc("ngForOf",e.getriskrecords)}}function lo(e,t){if(1&e&&(a.Vb(0,"p",126),a.Vb(1,"span",119),a.Dc(2,"Application Status: "),a.Vb(3,"span",115),a.Dc(4),a.Ub(),a.Ub(),a.Ub()),2&e){const e=a.gc(2).$implicit;a.Db(4),a.Ec(e.risk_Reviewer_2_Status)}}function uo(e,t){1&e&&(a.Vb(0,"p"),a.Vb(1,"span",119),a.Dc(2,"Conditional Approval Reason:"),a.Ub(),a.Ub())}function po(e,t){if(1&e&&(a.Vb(0,"small",120),a.Vb(1,"span",121),a.Dc(2),a.Ub(),a.Ub()),2&e){const e=a.gc(2).$implicit;a.Db(2),a.Ec(e.risk_Reviewer_2_Reason)}}function mo(e,t){if(1&e&&(a.Vb(0,"div"),a.Vb(1,"div",8),a.Vb(2,"div",111),a.Bc(3,lo,5,1,"p",124),a.Ub(),a.Vb(4,"div",113),a.Vb(5,"p",125),a.Dc(6,"Date: "),a.Vb(7,"span",115),a.Dc(8),a.hc(9,"date"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Vb(10,"div",8),a.Vb(11,"div",116),a.Bc(12,uo,3,0,"p",99),a.Bc(13,po,3,1,"small",117),a.Ub(),a.Ub(),a.Ub()),2&e){const e=a.gc().$implicit;a.Db(3),a.mc("ngIf","Conditionally Approved"==e.risk_Reviewer_2_Status||"Approved"==e.risk_Reviewer_2_Status),a.Db(5),a.Ec(a.jc(9,4,e.reviewer_2_Approved_Date,"MM/dd/yyyy")),a.Db(4),a.mc("ngIf","Conditionally Approved"==e.risk_Reviewer_2_Status),a.Db(1),a.mc("ngIf",null!=e.risk_Reviewer_2_Reason&&"null"!=e.risk_Reviewer_2_Reason&&"Conditionally Approved"==e.risk_Reviewer_2_Status)}}function bo(e,t){if(1&e&&(a.Vb(0,"div",110),a.Bc(1,mo,14,7,"div",99),a.Ub()),2&e){const e=t.$implicit;a.Db(1),a.mc("ngIf",null!=e.risk_Reviewer_2_Status)}}function fo(e,t){if(1&e&&(a.Vb(0,"div",122),a.Vb(1,"h6",123),a.Dc(2,"Risk User 2 - Review"),a.Ub(),a.Bc(3,bo,2,1,"div",109),a.Ub()),2&e){const e=a.gc();a.Db(3),a.mc("ngForOf",e.getrisk2records)}}function ho(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",127),a.Vb(1,"button",128),a.cc("click",function(){return a.uc(e),a.gc().gotoHome()}),a.Dc(2," << BACK"),a.Ub(),a.Vb(3,"button",129),a.cc("click",function(){return a.uc(e),a.gc().save()}),a.Dc(4),a.Ub(),a.Vb(5,"button",130),a.cc("click",function(){return a.uc(e),a.gc().submit()}),a.Dc(6,"NEXT >>"),a.Ub(),a.Ub()}if(2&e){const e=a.gc();a.Db(4),a.Ec(e.submitText)}}function _o(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",131),a.Vb(1,"button",128),a.cc("click",function(){return a.uc(e),a.gc().gotoHome()}),a.Dc(2," << BACK"),a.Ub(),a.Vb(3,"button",132),a.cc("click",function(){return a.uc(e),a.gc().nextroutePage()}),a.Dc(4,"NEXT >>"),a.Ub(),a.Ub()}}function go(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",133),a.Vb(1,"button",134),a.cc("click",function(){return a.uc(e),a.gc().gotoHome()}),a.Dc(2," << BACK"),a.Ub(),a.Ub()}}function vo(e,t){1&e&&(a.Vb(0,"div",98),a.Vb(1,"div"),a.Dc(2,"Reason is required"),a.Ub(),a.Ub())}const yo=function(e){return{"bg-grey":e}},Vo=function(e){return{"is-invalid":e}},Uo=function(e){return{"pointer-events":e}};let Do=(()=>{class e{constructor(e,t,i,o,r,s,a,c,l,d){this.formBuilder=e,this.router=t,this.financialservice=i,this.bnIdle=o,this.keepalive=r,this.toastr=s,this.companyservice=a,this.loginInfo=c,this.sanitizer=l,this.ngxUiLoader=d,this.currentForm=5,this.submitted=!1,this.financialinfoForm=this.formBuilder.group({id:[0],companyId:[0],is_Independent_CPA:["no",[n.u.required]],cpa_auditReviewed:["",[n.u.required]],internal_Balance_Upload:["",[n.u.required]],internal_Profit_Upload:["",[n.u.required]],WIP_Upload:["",[n.u.required]],iS_Extended_Credit:["no",[n.u.required]],appr_CreditValue:["",[n.u.maxLength(256),n.u.pattern(/^-?(0|[1-9]\d*)?$/)]],appr_CreditValue_Used:["",[n.u.maxLength(256),n.u.pattern(/^-?(0|[1-9]\d*)?$/)]],bank_Name:["",[n.u.required,n.u.maxLength(256)]],bank_Contact_Personnnel:["",[n.u.required,n.u.maxLength(256)]],bank_Contact_email:["",[n.u.required,n.u.email,n.u.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)]],bank_Contact_phone:["",[n.u.required,n.u.pattern(/^-?(0|[1-9]\d*)?$/)]],isAutosave:[!1],reject_Reason:[""],approved_Date:[""],preQualification_Status:["In-Progress"],isCompleted:[!1]}),this.companyInfo=this.formBuilder.group({id:["0"],org_Type:[null,[n.u.required,n.u.maxLength(130)]],is_Certified_Diverse:["",[n.u.required,n.u.maxLength(130)]],certified_Diverse_Attachment:["null",[n.u.maxLength(130)]],contact_Name:["",[n.u.required,n.u.maxLength(256)]],contact_Email:["",[n.u.required,n.u.maxLength(256),n.u.email,n.u.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)]],contact_Mobile:["",[n.u.required,n.u.maxLength(256),n.u.pattern("^((\\+91-?) |0)?[0-9]{10}$")]],additional_Details:["",[n.u.required,n.u.maxLength(256)]],CD_Upload:[null],other_details:["",n.u.maxLength(256)],isAutosave:[!0],preQualification_Status:["In-Progress"],isComplete:[!1],approved_Date:[""],reject_Reason:[""]}),this.cpaAttachment=[],this.wipAttachment=[],this.tempcpaAttachment=[],this.tempwipAttachment=[],this.setTimeout=0,this.spinner={cpaSpinner:!1,balanceSpinner:!1,lossSpinner:!1,wipSpinner:!1},this.resetTimer=0,this.showAdmin=!1,this.rejecionrequired=!1,this.completionclicked=0,this.userRole="",this.companyId=0,this.financialid=0,this.isCompleted=!1,this.formCompleted=!1,this.prequalification_status="",this.getriskrecords=[],this.getrisk2records=[],this.tempinternalBalanceUpload=[],this.tempinternalProfitUpload=[],this.balancesheetAttachment=[],this.profitlossAttachment=[],this.showdisabled=!1}ngOnInit(){this.ngxUiLoader.startLoader("loader-01"),localStorage.setItem("currPage","financialinfo"),this.prequalification_status=this.loginInfo.organization_status;let e=localStorage.getItem("userDetails");e=JSON.parse(atob(e)),this.userDetails=e,this.userRole=e.role,this.tempcompanyid=localStorage.getItem("tempcompanyid"),this.tempcompanyid=Number(atob(this.tempcompanyid)),this.submitText="SAVE",this.tempcompanyid>0&&"Subcontractor"!=this.userRole&&(this.showAdmin=!0,this.companyId=this.tempcompanyid,this.showdisabled=!0,this.getRecords(),this.financialinfoForm.disable(),this.financialinfoForm.updateValueAndValidity(),this.financialinfoForm.controls.reject_Reason.enable(),this.financialinfoForm.controls.reject_Reason.updateValueAndValidity()),null!=this.userDetails.vendorId&&null!=this.userDetails.taxId&&"Subcontractor"==this.userRole&&this.financialservice.getUser(this.userDetails.vendorId,this.userDetails.taxId).subscribe(e=>{this.companyId=e.id,this.getRecords(),this.companyservice.getRecord(this.companyId).subscribe(e=>{this.updateCompanyinfo(e),this.prequalification_status=e.preQualification_Status})}),this.ngxUiLoader.stopLoader("loader-01")}ngAfterViewInit(){this.keepalive.interval(30),this.keepalive.stop()}CommaFormatted(e,t){var i,o;e.AT_TARGET>=37&&e.AT_TARGET<=40||this.financialinfoForm.patchValue({[t]:null===(o=null===(i=this.financialinfoForm.get(t))||void 0===i?void 0:i.value)||void 0===o?void 0:o.replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,",")})}numberCheck(e){return"e"!==e.key&&"+"!==e.key&&"-"!==e.key}resetFinance(){this.financialinfoForm.patchValue({appr_CreditValue:"",appr_CreditValue_Used:"",bank_Name:"",bank_Contact_Personnnel:"",bank_Contact_email:"",bank_Contact_phone:""})}resetNo(){this.showdisabled=!1,this.cpaAttachment.forEach((e,t)=>{this.removecpaUpload(t,e,!1)})}resetYes(){this.showdisabled=!1,this.profitlossAttachment.forEach((e,t)=>{this.removeprofitlossUpload(t,e,!1)}),this.balancesheetAttachment.forEach((e,t)=>{this.removebalanceSheetUpload(t,e,!1)})}ngOnDestroy(){this.keepalive.stop(),this.nextpage()}getRecords(){this.financialservice.getRecords(this.companyId).subscribe(e=>{var t;this.submitText=e[0].is_Independent_CPA?"UPDATE":"SAVE",this.financialid=e[0].id,this.updateFinancialinfo(e),this.getFiles(null===(t=e[0])||void 0===t?void 0:t.files),this.companyservice.getRecord(this.companyId).subscribe(e=>{(e=e[0]).preQualification_Status&&this.loginInfo.formDisable(e.preQualification_Status)&&(this.showdisabled=!0,this.financialinfoForm.disable(),this.financialinfoForm.updateValueAndValidity()),this.updateCompanyinfo(e),this.companydata=e,console.log(e)})})}checkRisk2approved(e){return"Approved"==e.risk_Reviewer_2_Status}checkRisk1approved(e){return"Approved"==e.risk_Reviewer_1_Status}editrecord(e){this.tempriskrecord=e.risk_Reviewer_1_Reason,this.financialinfoForm.patchValue({reject_Reason:this.tempriskrecord}),this.financialinfoForm.controls.reject_Reason.updateValueAndValidity()}updateFinancialinfo(e){this.financialinfoForm.patchValue({id:e[0].id,companyId:e[0].companyId,is_Independent_CPA:e[0].is_Independent_CPA,iS_Extended_Credit:e[0].iS_Extended_Credit,appr_CreditValue:e[0].appr_CreditValue,appr_CreditValue_Used:e[0].appr_CreditValue_Used&&"null"!=e[0].appr_CreditValue_Used?e[0].appr_CreditValue_Used:"",bank_Name:e[0].bank_Name&&"null"!=e[0].bank_Name?e[0].bank_Name:"",bank_Contact_Personnnel:e[0].bank_Contact_Personnnel&&"null"!=e[0].bank_Contact_Personnnel?e[0].bank_Contact_Personnnel:"",bank_Contact_email:e[0].bank_Contact_email&&"null"!=e[0].bank_Contact_email?e[0].bank_Contact_email:"",bank_Contact_phone:e[0].bank_Contact_phone&&"null"!=e[0].bank_Contact_phone?e[0].bank_Contact_phone:""}),this.tempcompanyid>0&&"Subcontractor"!=this.userRole&&this.condApprovetxt()}updateCompanyinfo(e){var t;this.companyInfo.patchValue({id:e.id,org_Type:null===(t=e.org_Type)||void 0===t?void 0:t.toLowerCase(),is_Certified_Diverse:e.is_Certified_Diverse,contact_Name:this.loginInfo.validateEmpty(e.contact_Name),contact_Email:this.loginInfo.validateEmpty(e.contact_Email),contact_Mobile:this.loginInfo.validateEmpty(e.contact_Mobile),additional_Details:this.loginInfo.validateEmpty(e.additional_Details),other_details:this.loginInfo.validateEmpty(e.other_details),reject_Reason:this.loginInfo.validateEmpty(e.reject_Reason),standing:this.loginInfo.validateEmpty(e.standing),approved_Date:this.loginInfo.validateEmpty(e.approved_Date)}),this.reject_Reason=e.reject_Reason,this.prequalification_status=e.preQualification_Status,this.risk_Reviewer_1_Reason=e.risk_Reviewer_1_Reason,this.risk_Reviewer_2_Reason=e.risk_Reviewer_2_Reason,"Subcontractor"==this.userRole&&this.companyInfo.patchValue({companyName:this.userDetails.companyName,vendorID:this.userDetails.vendorId,taxID:this.userDetails.taxId}),"Subcontractor"!=this.userRole&&this.companyInfo.patchValue({companyName:localStorage.getItem("userName"),vendorID:localStorage.getItem("vendorID"),taxID:localStorage.getItem("taxID")}),"Subcontractor"!=this.userRole&&this.financialinfoForm.patchValue({reject_Reason:""})}idleReset(){this.keepalive.stop(),this.keepalive.start(),this.resetTimer=0}getFiles(e){this.cpaAttachment=[],this.balancesheetAttachment=[],this.wipAttachment=[],this.profitlossAttachment=[],console.log(e),e.filter(e=>{"Internal_Balance_Upload"==e.file_Type?e.file_Name.length<49&&0==e.isDeleted?this.balancesheetAttachment.push({id:e.id,name:e.file_Name,file_Path:e.file_Path}):0==e.isDeleted&&this.balancesheetAttachment.push({id:e.id,name:e.file_Name.substring(0,49)+"....",file_Path:e.file_Path}):"Internal_Profit_Upload"==e.file_Type?e.file_Name.length<49&&0==e.isDeleted?this.profitlossAttachment.push({id:e.id,name:e.file_Name,file_Path:e.file_Path}):0==e.isDeleted&&this.profitlossAttachment.push({id:e.id,name:e.file_Name.substring(0,49)+"....",file_Path:e.file_Path}):"WIP_Upload"==e.file_Type?e.file_Name.length<49&&0==e.isDeleted?this.wipAttachment.push({id:e.id,name:e.file_Name,file_Path:e.file_Path}):0==e.isDeleted&&this.wipAttachment.push({id:e.id,name:e.file_Name.substring(0,49)+"....",file_Path:e.file_Path}):e.file_Name.length<49&&0==e.isDeleted?this.cpaAttachment.push({id:e.id,name:e.file_Name,file_Path:e.file_Path}):0==e.isDeleted&&this.cpaAttachment.push({id:e.id,name:e.file_Name.substring(0,49)+"....",file_Path:e.file_Path})})}get f(){var e,t,i,o;return"yes"==this.financialinfoForm.value.iS_Extended_Credit?(this.financialinfoForm.controls.appr_CreditValue.setValidators([n.u.required,n.u.maxLength(256)]),this.financialinfoForm.controls.appr_CreditValue_Used.setValidators([n.u.required,n.u.maxLength(256)]),this.financialinfoForm.controls.bank_Name.setValidators([n.u.required,n.u.maxLength(256)]),this.financialinfoForm.controls.bank_Contact_Personnnel.setValidators([n.u.required,n.u.maxLength(256)]),this.financialinfoForm.controls.bank_Contact_email.setValidators([n.u.required,n.u.maxLength(256),n.u.email,n.u.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)]),this.financialinfoForm.controls.bank_Contact_phone.setValidators([n.u.required,n.u.maxLength(256)])):(this.financialinfoForm.controls.appr_CreditValue.clearValidators(),this.financialinfoForm.controls.appr_CreditValue_Used.clearValidators(),this.financialinfoForm.controls.bank_Name.clearValidators(),this.financialinfoForm.controls.bank_Contact_Personnnel.clearValidators(),this.financialinfoForm.controls.bank_Contact_email.clearValidators(),this.financialinfoForm.controls.bank_Contact_phone.clearValidators()),this.financialinfoForm.controls.appr_CreditValue.updateValueAndValidity(),this.financialinfoForm.controls.appr_CreditValue_Used.updateValueAndValidity(),this.financialinfoForm.controls.bank_Name.updateValueAndValidity(),this.financialinfoForm.controls.bank_Contact_Personnnel.updateValueAndValidity(),this.financialinfoForm.controls.bank_Contact_email.updateValueAndValidity(),this.financialinfoForm.controls.bank_Contact_phone.updateValueAndValidity(),"no"==this.financialinfoForm.value.is_Independent_CPA?(this.financialinfoForm.controls.cpa_auditReviewed.clearValidators(),this.financialinfoForm.controls.internal_Balance_Upload.setValidators([n.u.required]),this.financialinfoForm.controls.internal_Profit_Upload.setValidators([n.u.required])):(this.financialinfoForm.controls.cpa_auditReviewed.setValidators([n.u.required]),this.financialinfoForm.controls.internal_Balance_Upload.clearValidators(),this.financialinfoForm.controls.internal_Profit_Upload.clearValidators()),this.financialinfoForm.controls.cpa_auditReviewed.updateValueAndValidity(),this.financialinfoForm.controls.internal_Balance_Upload.updateValueAndValidity(),this.financialinfoForm.controls.internal_Profit_Upload.updateValueAndValidity(),(null===(e=this.cpaAttachment)||void 0===e?void 0:e.length)>0&&(this.financialinfoForm.controls.cpa_auditReviewed.setValidators(null),this.financialinfoForm.controls.cpa_auditReviewed.updateValueAndValidity()),(null===(t=this.balancesheetAttachment)||void 0===t?void 0:t.length)>0&&(this.financialinfoForm.controls.internal_Balance_Upload.setValidators(null),this.financialinfoForm.controls.internal_Balance_Upload.updateValueAndValidity()),(null===(i=this.profitlossAttachment)||void 0===i?void 0:i.length)>0&&(this.financialinfoForm.controls.internal_Profit_Upload.setValidators(null),this.financialinfoForm.controls.internal_Profit_Upload.updateValueAndValidity()),(null===(o=this.wipAttachment)||void 0===o?void 0:o.length)>0&&(this.financialinfoForm.controls.WIP_Upload.setValidators(null),this.financialinfoForm.controls.WIP_Upload.updateValueAndValidity()),"Subcontractor"==this.userRole&&(this.financialinfoForm.controls.reject_Reason.setValidators(null),this.financialinfoForm.controls.reject_Reason.updateValueAndValidity()),"Admin"==this.userRole&&(this.financialinfoForm.controls.reject_Reason.setValidators([n.u.required]),this.financialinfoForm.controls.reject_Reason.updateValueAndValidity()),this.financialinfoForm.value.reject_Reason>0&&(this.financialinfoForm.controls.reject_Reason.setValidators(null),this.financialinfoForm.controls.reject_Reason.updateValueAndValidity()),this.financialinfoForm.updateValueAndValidity(),this.financialinfoForm.controls}submit(){if(this.keepalive.stop(),"Subcontractor"!=this.userRole)this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`]);else{this.formCompleted=!0,this.financialinfoForm.patchValue({isAutosave:!1,isCompleted:!0});let e=this.formMethod();if(0==this.financialid)this.financialservice.addRecord(e).subscribe(e=>{this.financialinfoForm.patchValue({isCompleted:!1,id:e.id}),this.toastr.success("Financial Information saved successfully","Financial Information"),this.getRecords(),this.formCompleted=!1,this.resetSpinner(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])});else{this.financialinfoForm.patchValue({id:this.financialid,isAutosave:!1,isCompleted:!1});let e=this.formMethod();this.financialservice.updateRecord(e,this.financialinfoForm.value.id).subscribe(e=>{this.toastr.success("Financial Information updated successfully","Financial Information"),this.getRecords(),this.resetSpinner()},e=>{},()=>{this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`]),this.resetSpinner()})}}}save(){if(this.submitted=!0,this.keepalive.stop(),console.log(this.financialinfoForm),this.financialinfoForm.valid)if(0==this.financialid){this.financialinfoForm.patchValue({isAutosave:!1,isCompleted:!1});let e=this.formMethod();this.financialservice.addRecord(e).subscribe(e=>{this.financialinfoForm.patchValue({id:e.id}),this.submitText="UPDATE",this.financialinfoForm.patchValue({cpa_auditReviewed:"",internal_Balance_Upload:"",internal_Profit_Upload:"",WIP_Upload:""}),this.toastr.success("Financial Information saved successfully","Financial Information"),this.getRecords(),this.resetSpinner()})}else{this.financialinfoForm.patchValue({id:this.financialid,isAutosave:!1,isCompleted:!1});let e=this.formMethod();this.financialservice.updateRecord(e,this.financialinfoForm.value.id).subscribe(e=>{this.financialinfoForm.patchValue({cpa_auditReviewed:"",internal_Balance_Upload:"",internal_Profit_Upload:"",WIP_Upload:""}),this.toastr.success("Financial Information updated successfully","Financial Information"),this.getRecords(),this.resetSpinner()})}}autoSave(){if(this.resetTimer+=1,1==this.resetTimer)if(0==this.financialid){this.financialinfoForm.patchValue({isAutosave:!1}),this.financialinfoForm.patchValue({isCompleted:!1});let e=this.formMethod();this.financialservice.addRecord(e).subscribe(e=>{this.keepalive.stop(),this.financialinfoForm.patchValue({id:e.id,cpa_auditReviewed:"",internal_Balance_Upload:"",internal_Profit_Upload:"",WIP_Upload:""}),this.submitText="UPDATE",this.getRecords(),this.resetSpinner()})}else{this.financialinfoForm.patchValue({id:this.financialid}),this.financialinfoForm.patchValue({isAutosave:!0}),this.financialinfoForm.patchValue({isCompleted:!1});let e=this.formMethod();this.financialservice.updateRecord(e,this.financialinfoForm.value.id).subscribe(e=>{this.keepalive.stop(),this.getRecords(),this.resetSpinner(),this.financialinfoForm.patchValue({internal_Balance_Upload:"",internal_Profit_Upload:"",WIP_Upload:""})})}}nextpage(){if("Subcontractor"==this.userRole){this.formCompleted=!0,this.financialinfoForm.patchValue({isAutosave:!1,isCompleted:!0});let e=this.formMethod();if(0==this.financialid)this.financialservice.addRecord(e).subscribe(e=>{this.financialinfoForm.patchValue({isCompleted:!1,id:e.id}),this.formCompleted=!1});else{this.financialinfoForm.patchValue({id:this.financialid,isAutosave:!1,isCompleted:!1});let e=this.formMethod();this.financialservice.updateRecord(e,this.financialinfoForm.value.id).subscribe(e=>{})}}}formMethod(){this.financialinfoForm.updateValueAndValidity();var e=new FormData;e.append("id",this.financialinfoForm.value.id),e.append("companyId",String(this.companyId)),e.append("is_Independent_CPA",this.loginInfo.validateEmpty(this.financialinfoForm.value.is_Independent_CPA)),e.append("iS_Extended_Credit",this.loginInfo.validateEmpty(this.financialinfoForm.value.iS_Extended_Credit)),e.append("appr_CreditValue",this.loginInfo.validateEmpty(this.financialinfoForm.value.appr_CreditValue)),e.append("appr_CreditValue_Used",this.loginInfo.validateEmpty(this.financialinfoForm.value.appr_CreditValue_Used)),e.append("bank_Name",this.loginInfo.validateEmpty(this.financialinfoForm.value.bank_Name)),e.append("bank_Contact_Personnnel",this.loginInfo.validateEmpty(this.financialinfoForm.value.bank_Contact_Personnnel)),e.append("bank_Contact_email",this.loginInfo.validateEmpty(this.financialinfoForm.value.bank_Contact_email)),e.append("bank_Contact_phone",this.loginInfo.validateEmpty(this.financialinfoForm.value.bank_Contact_phone)),e.append("isAutosave",this.financialinfoForm.value.isAutosave),e.append("isCompleted",1==this.formCompleted);for(let t=0;t<this.tempcpaAttachment.length;t++)e.append("cpa_auditReviewed",this.tempcpaAttachment[t]);this.tempcpaAttachment=[];for(let t=0;t<this.tempinternalBalanceUpload.length;t++)e.append("internal_Balance_Upload",this.tempinternalBalanceUpload[t]);this.tempinternalBalanceUpload=[];for(let t=0;t<this.tempinternalProfitUpload.length;t++)e.append("internal_Profit_Upload",this.tempinternalProfitUpload[t]);this.tempinternalProfitUpload=[];for(let t=0;t<this.tempwipAttachment.length;t++)e.append("WIP_Upload",this.tempwipAttachment[t]);return this.tempwipAttachment=[],e}companyformMethod(){var e=new FormData;return e.append("id",this.companyInfo.value.id),e.append("additional_Details",this.companyInfo.value.additional_Details),e.append("certified_Diverse_Attachment",this.companyInfo.value.certified_Diverse_Attachment),e.append("contact_Email",this.companyInfo.value.contact_Email),e.append("contact_Mobile",this.companyInfo.value.contact_Mobile),e.append("contact_Name",this.companyInfo.value.contact_Name),e.append("is_Certified_Diverse",this.companyInfo.value.is_Certified_Diverse),e.append("org_Type",this.companyInfo.value.org_Type),this.companyInfo.value.approved_Date&&e.append("approved_Date",this.companyInfo.value.approved_Date),e.append("CD_Upload",""),e.append("standing",this.companyInfo.value.standing),e.append("other_details",this.companyInfo.value.other_details),"Subcontractor"==this.userRole&&(e.append("companyName",this.userDetails.companyName),e.append("vendorID",this.userDetails.vendorId),e.append("taxID",this.userDetails.taxId),e.append("reject_Reason",this.companyInfo.value.reject_Reason),1==this.isCompleted?(e.append("PreQualification_Status","Under Review"),e.append("approved_Date",(new Date).toLocaleDateString("en-us"))):0==this.isCompleted&&e.append("PreQualification_Status",this.companyInfo.value.PreQualification_Status)),"Admin"!=this.userRole&&"SafetyUser"!=this.userRole&&"RiskUser"!=this.userRole||(e.append("companyName",localStorage.getItem("userName")),e.append("vendorID",localStorage.getItem("vendorID")),e.append("taxID",localStorage.getItem("taxID")),e.append("reject_Reason",this.financialinfoForm.value.reject_Reason),1==this.completionclicked?e.append("PreQualification_Status","Approved"):2==this.completionclicked&&e.append("PreQualification_Status","Conditionally Approved")),e}CPAAuditUpload(e){let t=document.getElementById("cpa_auditReviewed");for(let i=0;i<t.files.length;i++)this.tempcpaAttachment.push(t.files[i]);this.spinner.cpaSpinner=!0,this.fileupload()}balanceSheetUpload(e){let t=document.getElementById("internal_Balance_Upload");for(let i=0;i<t.files.length;i++)this.tempinternalBalanceUpload.push(t.files[i]);this.spinner.balanceSpinner=!0,this.fileupload()}filepreview(e,t){var i=new FileReader;i.onload=i=>{console.log(i.target);let o=new Blob(e.files,{type:e.files[t].type});var n=(window.URL||window.webkitURL).createObjectURL(o);console.log("path",n,e.value);var r=document.createElement("a"),s=document.createTextNode("View File");r.target="_blank",r.appendChild(s),r.href=n,r.click(),e.appendChild(r)},i.readAsDataURL(e.files[t])}removebalanceSheetUpload(e,t,i=!0){this.showdisabled||this.financialservice.deleteRecord(t.id).subscribe(t=>{this.balancesheetAttachment.splice(e,1),i&&this.toastr.info("File removed successfully","Financial Info")})}removecpaUpload(e,t,i=!0){this.showdisabled||this.financialservice.deleteRecord(t.id).subscribe(t=>{this.cpaAttachment.splice(e,1),i&&this.toastr.info("File removed successfully","Financial Info")})}profitlossUpload(e){let t=document.getElementById("internal_Profit_Upload");for(let i=0;i<t.files.length;i++)this.tempinternalProfitUpload.push(t.files[i]);this.spinner.cpaSpinner=!0,this.fileupload()}removeprofitlossUpload(e,t,i=!0){this.showdisabled||this.financialservice.deleteRecord(t.id).subscribe(t=>{this.profitlossAttachment.splice(e,1),i&&this.toastr.info("File removed successfully","Financial Info")})}wipUpload(e){let t=document.getElementById("WIP_Upload");for(let i=0;i<t.files.length;i++)this.tempwipAttachment.push(t.files[i]);this.spinner.wipSpinner=!0,this.fileupload()}removetriRInfoTwoYearsUpload(e,t){this.showdisabled||this.financialservice.deleteRecord(t.id).subscribe(t=>{this.toastr.info("File removed successfully","Financial Info"),this.wipAttachment.splice(e,1)})}resetSpinner(){this.spinner={cpaSpinner:!1,balanceSpinner:!1,lossSpinner:!1,wipSpinner:!1}}rejectionalert(){this.financialinfoForm.value.reject_Reason.length>0?(this.financialinfoForm.controls.reject_Reason.setValidators(null),this.financialinfoForm.updateValueAndValidity()):(this.financialinfoForm.controls.reject_Reason.setValidators([n.u.required]),this.financialinfoForm.updateValueAndValidity()),this.condApprovetxt()}completion(){this.financialinfoForm.controls.reject_Reason.clearValidators(),this.completionclicked=1,this.financialinfoForm.updateValueAndValidity();let e=new FormData;e.append("PreQualification_Status","Approved"),e.append("User_Type",this.userRole),this.financialservice.updateOrgRecord(e,this.companyInfo.value.id).subscribe(e=>{this.companyId=e.id,this.financialinfoForm.patchValue({reject_Reason:""}),this.getRecords(),this.toastr.success("Submission approved successfully","Application Submission")})}condApprove(){if(this.completionclicked=2,0==this.financialinfoForm.value.reject_Reason.length)this.submitted=!0;else{let e=new FormData;e.append("PreQualification_Status","Conditionally Approved"),e.append("User_Type",this.userRole),e.append("reject_Reason",this.financialinfoForm.value.reject_Reason),document.getElementById("exampleModals").click(),this.financialservice.updateOrgRecord(e,this.companyInfo.value.id).subscribe(e=>{this.companyId=e.id,this.getRecords(),this.toastr.success("Submission conditionally approved successfully","Application Submission")})}}condApprovetxt(){var e;(null===(e=this.financialinfoForm.value.reject_Reason)||void 0===e?void 0:e.length)>0?(this.submitted=!1,this.rejecionrequired=!1):(this.submitted=!0,this.rejecionrequired=!0),this.financialinfoForm.controls.reject_Reason.enable(),this.financialinfoForm.controls.reject_Reason.updateValueAndValidity()}fileupload(){if(this.keepalive.stop(),0==this.financialid){this.financialinfoForm.patchValue({isAutosave:!0});let e=this.formMethod();this.financialservice.addRecord(e).subscribe(e=>{this.keepalive.stop(),this.financialinfoForm.patchValue({cpa_auditReviewed:"",internal_Balance_Upload:"",internal_Profit_Upload:"",WIP_Upload:"",id:e.id}),this.submitText="UPDATE",this.getRecords(),this.resetSpinner()})}else{this.financialinfoForm.patchValue({id:this.financialid,isAutosave:!0});let e=this.formMethod();this.financialservice.updateRecord(e,this.financialinfoForm.value.id).subscribe(e=>{this.keepalive.stop(),this.getRecords(),this.resetSpinner(),this.financialinfoForm.patchValue({cpa_auditReviewed:"",internal_Balance_Upload:"",internal_Profit_Upload:"",WIP_Upload:""})})}}getComplete(){this.financialservice.getComplete(this.companyId).subscribe(e=>{if(e.data.length&&"Under Review"==e.data[0].preQualification_Status){this.isCompleted=!0;let e=new FormData;e.append("PreQualification_Status","Under Review"),e.append("Approved_Date",(new Date).toLocaleDateString("en-in")),e.append("User_Type",this.userRole),this.financialservice.updateOrgRecord(e,this.companyInfo.value.id).subscribe(e=>{this.router.navigate(["/home"])})}})}gotoHome(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm-1].url}`])}openlink(e){this.sanitizer.bypassSecurityTrustUrl(e.file_Path)}nextroutePage(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])}}return e.\u0275fac=function(t){return new(t||e)(a.Pb(n.d),a.Pb(r.f),a.Pb(mi),a.Pb(l.a),a.Pb(u.a),a.Pb(f.b),a.Pb(c.a),a.Pb(g),a.Pb(bi.b),a.Pb(v.c))},e.\u0275cmp=a.Jb({type:e,selectors:[["app-financialinfo"]],decls:221,vars:126,consts:[[1,"px-2",3,"formGroup","ngClass","ngSubmit","keydown.enter"],[1,"px-2","my-1","pb-1","form-bg"],[1,"form-group","input-group","row","mx-auto","mb-3","pt-2"],[1,"col-lg-6","pe-1","py-2","col-head-1"],[1,"row","bg-white","col-curve-top","mx-auto"],[1,"col-12","py-2"],["for","is_Independent_CPA",1,"my-auto","fw-bold","pt-2"],[1,"text-danger"],[1,"row"],[1,"col-lg-2"],["type","radio","formControlName","is_Independent_CPA","value","yes","checked","checked","name","is_Independent_CPA","id","is_Independent_CPA_yes",3,"ngModelChange","click"],["for","is_Independent_CPA_yes"],[1,"col-lg-10"],["type","radio","formControlName","is_Independent_CPA","value","no","name","is_Independent_CPA","id","is_Independent_CPA_no",3,"ngModelChange","click"],["for","is_Independent_CPA_no"],["class","invalid-feedback",4,"ngIf"],[1,"row","mt-1",3,"ngClass"],[1,"col-5"],["for","cpa_auditReviewed",1,"my-auto","font-italic"],["class","text-danger",4,"ngIf"],[1,"col-7"],[1,"form-control-customitem","form-control"],["type","file","title","Choose file","formControlName","cpa_auditReviewed","id","cpa_auditReviewed","name","cpa_auditReviewed","multiple","",3,"ngClass","change"],["for","cpa_auditReviewed",3,"ngClass"],["class","spinner__loading pt-3",4,"ngIf"],["class","me-2",4,"ngFor","ngForOf"],["for","internal_Balance_Upload",1,"my-auto","font-italic"],["type","file","title","Choose file","formControlName","internal_Balance_Upload","id","internal_Balance_Upload","name","internal_Balance_Upload","multiple","",3,"ngClass","change"],["for","internal_Balance_Upload",3,"ngClass"],[1,"row","py-2",3,"ngClass"],["for","internal_Profit_Upload",1,"my-auto","font-italic"],["type","file","title","Choose file","formControlName","internal_Profit_Upload","id","internal_Profit_Upload","name","internal_Profit_Upload","multiple","",3,"ngClass","change"],["for","internal_Profit_Upload",3,"ngClass"],[1,"row","bg-white","col-curve","py-2","mt-3","mx-auto","wip-bottom"],[1,"row","pt-2"],[1,"fw-bold"],[1,"col-6"],["for","iS_Extended_Credit",1,"my-auto","font-italic","float-right"],[1,"row","pt-1"],[1,"col-lg-4"],["type","radio","formControlName","iS_Extended_Credit","value","yes","checked","checked","name","iS_Extended_Credit","id","iS_Extended_Credit_yes",3,"ngModelChange"],["for","iS_Extended_Credit_yes"],[1,"col-lg-8"],["type","radio","formControlName","iS_Extended_Credit","value","no","name","iS_Extended_Credit","id","iS_Extended_Credit_no",3,"click","ngModelChange"],["for","iS_Extended_Credit_no"],[1,"row","mt-2",3,"ngClass"],["for","appr_CreditValue",1,"my-auto","font-italic","float-right"],["type","text","formControlName","appr_CreditValue","pattern","[0-9]+","id","appr_CreditValue","name","appr_CreditValue",1,"form-control",3,"ngClass","keydown","keyup","ngModelChange"],["for","appr_CreditValue_Used",1,"my-auto","font-italic","float-right"],["type","text","formControlName","appr_CreditValue_Used","pattern","[0-9]+","id","appr_CreditValue_Used","name","appr_CreditValue_Used",1,"form-control",3,"ngClass","keydown","keyup","ngModelChange"],["for","bank_Name",1,"my-auto","font-italic","float-right"],["type","text","formControlName","bank_Name","pattern","[0-9]+","id","bank_Name","name","bank_Name",1,"form-control",3,"ngClass","ngModelChange"],["for","bank_Contact_Personnnel",1,"my-auto","font-italic","float-right"],["type","text","formControlName","bank_Contact_Personnnel","id","bank_Contact_Personnnel","name","bank_Contact_Personnnel",1,"form-control",3,"ngClass","ngModelChange"],["for","bank_Contact_email",1,"my-auto","font-italic","float-right"],["type","text","formControlName","bank_Contact_email","id","bank_Contact_email","name","bank_Contact_email",1,"form-control",3,"ngClass","ngModelChange"],["for","bank_Contact_phone",1,"my-auto","font-italic","float-right"],["type","text","appPhoneMask","","onKeyPress","if(this.value.length==15) return false;","formControlName","bank_Contact_phone","id","bank_Contact_phone","name","bank_Contact_phone",1,"form-control",3,"ngClass","ngModelChange"],[1,"col-lg-6","pe-1","py-2","mt-2","bg-white","col-curve-top","col-head-2","mx-auto"],[1,"row","my-auto","pt-2"],["for","WIP_Upload",1,"my-auto","fw-bold"],["type","file","formControlName","WIP_Upload","title","Choose file","id","WIP_Upload","name","WIP_Upload","multiple","",3,"ngClass","change"],["for","WIP_Upload"],[1,"pt-2"],["href","assets/WIP Sheet.XLSX","target","_blank",1,"font-bold",3,"ngClass","ngStyle"],["class","mr-4 px-3 border pb-4",4,"ngIf"],["class","mr-4 px-3 border mt-4 pb-4",4,"ngIf"],["class","text-end mx-lg-4 my-4",4,"ngIf"],["class","text-end mx-lg-4 d-none d-lg-block my-4",4,"ngIf"],["class","text-end mx-lg-4 d-lg-none pb-3",4,"ngIf"],["type","button","id","exampleModals","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn-hide"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","false",1,"modal","fade"],["exampleModal",""],[1,"modal-dialog","modal-lg","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","text-success"],["type","button","id","closebutton","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"px-2",3,"formGroup","ngSubmit","keydown.enter"],["formControlName","reject_Reason","id","reject_Reason","rows","13","name","reject_Reason",1,"form-control",3,"ngClass","ngModelChange"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","default-btn","modal-cancel"],["type","submit",1,"btn","default-btn",3,"click"],["type","button","id","formsubmitmodal","data-bs-toggle","modal","data-bs-target","#formsubmitmodals",1,"btn-hide"],["id","formsubmitmodals","tabindex","-1","aria-labelledby","formsubmitmodals","aria-hidden","false",1,"modal","fade"],["formsubmitmodals",""],[1,"modal-dialog","modal-md","modal-dialog-centered"],["id","formsubmitmodal",1,"modal-title","text-success"],[1,"modal-body","my-3"],[1,"modal-footer","py-1"],["type","button","id","beforesubmitmodal","data-bs-toggle","modal","data-bs-target","#beforesubmitmodals",1,"btn-hide"],["id","beforesubmitmodals","tabindex","-1","aria-labelledby","beforesubmitmodals","aria-hidden","false",1,"modal","fade"],["beforesubmitmodals",""],["type","button","data-bs-dismiss","modal",1,"btn","default-btn",3,"click"],["type","button","id","previewimagemodal","data-bs-toggle","modal","data-bs-target","#previewimagemodal",1,"btn-hide"],["id","previewimagemodals","tabindex","-1","aria-labelledby","previewimagemodals","aria-hidden","false",1,"modal","fade"],["previewimagemodal",""],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner__loading","pt-3"],["diameter","18","mode","indeterminate",1,"mt-1"],[1,"me-2"],[1,"file-tag"],["target","_blank",3,"href","click"],[1,"file-close","text-white",3,"click"],["target","_blank",3,"href","download"],[1,"mr-4","px-3","border","pb-4"],[1,"text-center","text-success","my-3"],["class","p-3 record-shadow my-2",4,"ngFor","ngForOf"],[1,"p-3","record-shadow","my-2"],[1,"col-lg-10","p-1","px-lg-2"],["class","pt-2 text-succes fw-bold text-success m-0",4,"ngIf"],[1,"col-lg-2","py-2","ps-1","px-lg-2"],[1,"fw-bold","text-success","float-lg-end","m-0"],[1,"fw-normal"],[1,"col-10","p-1","m-0","px-lg-2"],["class","mb-4",4,"ngIf"],[1,"pt-2","text-succes","fw-bold","text-success","m-0"],[1,"fw-bold","text-success"],[1,"mb-4"],[1,"text-capitalize","ps-4"],[1,"mr-4","px-3","border","mt-4","pb-4"],[1,"text-center","my-2","text-success"],["class","pt-2 text-success",4,"ngIf"],[1,"fw-bold","text-success","float-end"],[1,"pt-2","text-success"],[1,"text-end","mx-lg-4","my-4"],[1,"btn","float-start","btn","default-btn",3,"click"],["type","button",1,"btn","ml-4","default-btn",3,"click"],["type","button",1,"btn","ms-2","default-btn",3,"click"],[1,"text-end","mx-lg-4","d-none","d-lg-block","my-4"],[1,"btn","btn-success","mx-2","default-btn",3,"click"],[1,"text-end","mx-lg-4","d-lg-none","pb-3"],[1,"btn","float-start","btn","mx-3","default-btn",3,"click"]],template:function(e,t){1&e&&(a.Vb(0,"form",0),a.cc("ngSubmit",function(){return t.submit()})("keydown.enter",function(e){return e.preventDefault()}),a.Vb(1,"div",1),a.Vb(2,"div",2),a.Vb(3,"div",3),a.Vb(4,"div",4),a.Vb(5,"div",5),a.Vb(6,"h6",6),a.Dc(7,"1. Has your company had their most recent year-end financial statements audited, reviewed, or compiled by an independant CPA? "),a.Vb(8,"span",7),a.Dc(9,"*"),a.Ub(),a.Ub(),a.Qb(10,"br"),a.Vb(11,"div",8),a.Vb(12,"span",9),a.Vb(13,"input",10),a.cc("ngModelChange",function(){return t.idleReset()})("click",function(){return t.resetYes()}),a.Ub(),a.Vb(14,"label",11),a.Dc(15," YES"),a.Ub(),a.Ub(),a.Vb(16,"span",12),a.Vb(17,"input",13),a.cc("ngModelChange",function(){return t.idleReset()})("click",function(){return t.resetNo()}),a.Ub(),a.Vb(18,"label",14),a.Dc(19," NO"),a.Ub(),a.Ub(),a.Bc(20,hi,2,1,"div",15),a.Vb(21,"div",16),a.Vb(22,"div",17),a.Vb(23,"label",18),a.Dc(24,"CPA audited, reviewed and verified records "),a.Bc(25,_i,2,0,"span",19),a.Ub(),a.Ub(),a.Vb(26,"div",20),a.Vb(27,"div",21),a.Vb(28,"input",22),a.cc("change",function(e){return t.CPAAuditUpload(e)}),a.Ub(),a.Vb(29,"span",23),a.Dc(30," \xa0Click here to Add Files"),a.Ub(),a.Ub(),a.Bc(31,vi,2,1,"div",15),a.Bc(32,yi,4,0,"div",24),a.Bc(33,Vi,7,2,"div",25),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Vb(34,"div",16),a.Vb(35,"div",17),a.Vb(36,"label",26),a.Dc(37,"Internal Balance Sheet "),a.Bc(38,Ui,2,0,"span",19),a.Ub(),a.Ub(),a.Vb(39,"div",20),a.Vb(40,"div",21),a.Vb(41,"input",27),a.cc("change",function(e){return t.balanceSheetUpload(e)}),a.Ub(),a.Vb(42,"span",28),a.Dc(43," \xa0Click here to Add Files"),a.Ub(),a.Ub(),a.Bc(44,Ci,2,1,"div",15),a.Bc(45,Ii,4,0,"div",24),a.Bc(46,Ri,7,2,"div",25),a.Ub(),a.Ub(),a.Vb(47,"div",29),a.Vb(48,"div",17),a.Vb(49,"label",30),a.Dc(50,"Internal Profit & Loss Statement "),a.Bc(51,Fi,2,0,"span",19),a.Ub(),a.Ub(),a.Vb(52,"div",20),a.Vb(53,"div",21),a.Vb(54,"input",31),a.cc("change",function(e){return t.profitlossUpload(e)}),a.Ub(),a.Vb(55,"span",32),a.Dc(56," \xa0Click here to Add Files"),a.Ub(),a.Ub(),a.Bc(57,wi,2,1,"div",15),a.Bc(58,ji,4,0,"div",24),a.Bc(59,xi,7,2,"div",25),a.Ub(),a.Ub(),a.Ub(),a.Vb(60,"div",33),a.Vb(61,"div",34),a.Vb(62,"h6",35),a.Dc(63,"3. Banking Information"),a.Ub(),a.Vb(64,"div",34),a.Vb(65,"div",36),a.Vb(66,"label",37),a.Dc(67," Do you have access to extended line of credit? "),a.Vb(68,"span",7),a.Dc(69,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(70,"div",36),a.Vb(71,"div",38),a.Vb(72,"span",39),a.Vb(73,"input",40),a.cc("ngModelChange",function(){return t.idleReset()}),a.Ub(),a.Vb(74,"label",41),a.Dc(75," YES"),a.Ub(),a.Ub(),a.Vb(76,"span",42),a.Vb(77,"input",43),a.cc("click",function(){return t.resetFinance()})("ngModelChange",function(){return t.idleReset()}),a.Ub(),a.Vb(78,"label",44),a.Dc(79," NO"),a.Ub(),a.Ub(),a.Ub(),a.Bc(80,Pi,2,1,"div",15),a.Ub(),a.Vb(81,"div",45),a.Vb(82,"div",36),a.Vb(83,"label",46),a.Dc(84," Approximate value of line of credit: "),a.Bc(85,Ai,2,0,"span",19),a.Ub(),a.Ub(),a.Vb(86,"div",36),a.Vb(87,"input",47),a.cc("keydown",function(e){return t.numberCheck(e)})("keyup",function(e){return t.CommaFormatted(e,"appr_CreditValue")})("ngModelChange",function(){return t.idleReset()}),a.Ub(),a.Bc(88,Ei,2,1,"div",15),a.Ub(),a.Ub(),a.Vb(89,"div",45),a.Vb(90,"div",36),a.Vb(91,"label",48),a.Dc(92," Approximate value used on your line of credit: "),a.Bc(93,Mi,2,0,"span",19),a.Ub(),a.Ub(),a.Vb(94,"div",36),a.Vb(95,"input",49),a.cc("keydown",function(e){return t.numberCheck(e)})("keyup",function(e){return t.CommaFormatted(e,"appr_CreditValue_Used")})("ngModelChange",function(){return t.idleReset()}),a.Ub(),a.Bc(96,Ti,2,1,"div",15),a.Ub(),a.Ub(),a.Vb(97,"div",45),a.Vb(98,"div",36),a.Vb(99,"label",50),a.Dc(100," Bank Name: "),a.Bc(101,Bi,2,0,"span",19),a.Ub(),a.Ub(),a.Vb(102,"div",36),a.Vb(103,"input",51),a.cc("ngModelChange",function(){return t.idleReset()}),a.Ub(),a.Bc(104,Li,2,1,"div",15),a.Ub(),a.Ub(),a.Vb(105,"div",45),a.Vb(106,"div",36),a.Vb(107,"label",52),a.Dc(108," Bank contact personnel: "),a.Bc(109,Yi,2,0,"span",19),a.Ub(),a.Ub(),a.Vb(110,"div",36),a.Vb(111,"input",53),a.cc("ngModelChange",function(){return t.idleReset()}),a.Ub(),a.Bc(112,$i,2,1,"div",15),a.Ub(),a.Ub(),a.Vb(113,"div",45),a.Vb(114,"div",36),a.Vb(115,"label",54),a.Dc(116," Bank contact email: "),a.Bc(117,Qi,2,0,"span",19),a.Ub(),a.Ub(),a.Vb(118,"div",36),a.Vb(119,"input",55),a.cc("ngModelChange",function(){return t.idleReset()}),a.Ub(),a.Bc(120,Hi,3,2,"div",15),a.Ub(),a.Ub(),a.Vb(121,"div",45),a.Vb(122,"div",36),a.Vb(123,"label",56),a.Dc(124,"Bank contact phone: "),a.Bc(125,Zi,2,0,"span",19),a.Ub(),a.Ub(),a.Vb(126,"div",36),a.Vb(127,"input",57),a.cc("ngModelChange",function(){return t.idleReset()}),a.Ub(),a.Bc(128,Xi,2,1,"div",15),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Vb(129,"div",58),a.Vb(130,"div",59),a.Vb(131,"div",17),a.Vb(132,"h6",60),a.Dc(133,"2. Work in progress file attachment "),a.Vb(134,"span",7),a.Dc(135,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(136,"div",20),a.Vb(137,"div",21),a.Vb(138,"input",61),a.cc("change",function(e){return t.wipUpload(e)}),a.Ub(),a.Vb(139,"span",62),a.Dc(140," \xa0Click here to Add Files"),a.Ub(),a.Ub(),a.Bc(141,Ji,4,0,"div",24),a.Bc(142,eo,7,3,"div",25),a.Bc(143,io,2,1,"div",15),a.Ub(),a.Vb(144,"label",63),a.Dc(145,"If you don't have work in progress(WIP) document, please use the "),a.Vb(146,"u"),a.Vb(147,"a",64),a.Dc(148,"attached template"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Bc(149,co,4,1,"div",65),a.Bc(150,fo,4,1,"div",66),a.Bc(151,ho,7,1,"div",67),a.Ub(),a.Bc(152,_o,5,0,"div",68),a.Bc(153,go,3,0,"div",69),a.Qb(154,"button",70),a.Vb(155,"div",71,72),a.Vb(157,"div",73),a.Vb(158,"div",74),a.Vb(159,"div",75),a.Vb(160,"h6",76),a.Dc(161,"Conditionally approved reason"),a.Ub(),a.Qb(162,"button",77),a.Ub(),a.Vb(163,"div",78),a.Vb(164,"form",79),a.cc("ngSubmit",function(){return t.submit()})("keydown.enter",function(e){return e.preventDefault()}),a.Vb(165,"textarea",80),a.cc("ngModelChange",function(){return t.condApprovetxt()}),a.Ub(),a.Bc(166,vo,3,0,"div",15),a.Ub(),a.Ub(),a.Vb(167,"div",81),a.Vb(168,"button",82),a.Dc(169,"CANCEL"),a.Ub(),a.Vb(170,"button",83),a.cc("click",function(){return t.condApprove()}),a.Dc(171,"SAVE"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Qb(172,"button",84),a.Vb(173,"div",85,86),a.Vb(175,"div",87),a.Vb(176,"div",74),a.Vb(177,"div",75),a.Vb(178,"h6",88),a.Dc(179,"Application incomplete alert"),a.Ub(),a.Qb(180,"button",77),a.Ub(),a.Vb(181,"div",89),a.Vb(182,"small"),a.Dc(183,"Application section is incomplete. Please review and ensure all the required fields are filled."),a.Ub(),a.Ub(),a.Vb(184,"div",90),a.Vb(185,"button",82),a.Dc(186,"CLOSE"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Qb(187,"button",91),a.Vb(188,"div",92,93),a.Vb(190,"div",87),a.Vb(191,"div",74),a.Vb(192,"div",75),a.Vb(193,"h6",88),a.Dc(194,"Messer"),a.Ub(),a.Qb(195,"button",77),a.Ub(),a.Vb(196,"div",89),a.Vb(197,"small"),a.Dc(198,"Are you sure you want to submit the application?"),a.Ub(),a.Ub(),a.Vb(199,"div",90),a.Vb(200,"button",94),a.cc("click",function(){return t.submit()}),a.Dc(201,"YES"),a.Ub(),a.Vb(202,"button",82),a.Dc(203,"NO"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Qb(204,"button",95),a.Vb(205,"div",96,97),a.Vb(207,"div",87),a.Vb(208,"div",74),a.Vb(209,"div",75),a.Vb(210,"h6",88),a.Dc(211,"Messer"),a.Ub(),a.Qb(212,"button",77),a.Ub(),a.Vb(213,"div",89),a.Vb(214,"p"),a.Dc(215),a.Ub(),a.Ub(),a.Vb(216,"div",90),a.Vb(217,"button",94),a.cc("click",function(){return t.submit()}),a.Dc(218,"YES"),a.Ub(),a.Vb(219,"button",82),a.Dc(220,"NO"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub()),2&e&&(a.mc("formGroup",t.financialinfoForm)("ngClass",a.pc(74,yo,1==t.showdisabled)),a.Db(20),a.mc("ngIf",(t.f.is_Independent_CPA.touched||t.submitted)&&t.f.is_Independent_CPA.errors),a.Db(1),a.mc("ngClass",a.pc(76,yo,!0===t.showdisabled||"no"==t.f.is_Independent_CPA.value)),a.Db(4),a.mc("ngIf","yes"==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.is_Independent_CPA)),a.Db(3),a.mc("ngClass",a.pc(78,Vo,t.submitted&&t.f.cpa_auditReviewed.errors)),a.Eb("disabled","no"==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.is_Independent_CPA)?"":null),a.Db(1),a.mc("ngClass",a.pc(80,yo,"no"==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.is_Independent_CPA))),a.Db(2),a.mc("ngIf","yes"==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.is_Independent_CPA)&&(t.f.cpa_auditReviewed.touched||t.submitted)&&t.f.cpa_auditReviewed.errors),a.Db(1),a.mc("ngIf",null==t.spinner?null:t.spinner.cpaSpinner),a.Db(1),a.mc("ngForOf",t.cpaAttachment),a.Db(1),a.mc("ngClass",a.pc(82,yo,!0===t.showdisabled||"no"!=t.f.is_Independent_CPA.value)),a.Db(4),a.mc("ngIf","no"==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.is_Independent_CPA)),a.Db(3),a.mc("ngClass",a.pc(84,Vo,t.submitted&&t.f.internal_Balance_Upload.errors)),a.Eb("disabled","no"!=(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.is_Independent_CPA)?"":null),a.Db(1),a.mc("ngClass",a.pc(86,yo,"no"!=(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.is_Independent_CPA))),a.Db(2),a.mc("ngIf",(t.f.internal_Balance_Upload.touched||t.submitted)&&t.f.internal_Balance_Upload.errors),a.Db(1),a.mc("ngIf",null==t.spinner?null:t.spinner.balanceSpinner),a.Db(1),a.mc("ngForOf",t.balancesheetAttachment),a.Db(1),a.mc("ngClass",a.pc(88,yo,!0===t.showdisabled||"no"!==t.f.is_Independent_CPA.value)),a.Db(4),a.mc("ngIf","no"==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.is_Independent_CPA)),a.Db(3),a.mc("ngClass",a.pc(90,Vo,t.submitted&&t.f.internal_Profit_Upload.errors)),a.Eb("disabled","no"!=(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.is_Independent_CPA)?"":null),a.Db(1),a.mc("ngClass",a.pc(92,yo,"no"!==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.is_Independent_CPA))),a.Db(2),a.mc("ngIf",(t.f.internal_Profit_Upload.touched||t.submitted)&&t.f.internal_Profit_Upload.errors),a.Db(1),a.mc("ngIf",null==t.spinner?null:t.spinner.lossSpinner),a.Db(1),a.mc("ngForOf",t.profitlossAttachment),a.Db(21),a.mc("ngIf",(t.f.iS_Extended_Credit.touched||t.submitted)&&t.f.iS_Extended_Credit.errors),a.Db(1),a.mc("ngClass",a.pc(94,yo,!0===t.showdisabled||"no"==t.f.iS_Extended_Credit.value)),a.Db(4),a.mc("ngIf","yes"==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.iS_Extended_Credit)),a.Db(2),a.mc("ngClass",a.pc(96,Vo,t.submitted&&t.f.appr_CreditValue.errors)),a.Eb("disabled","no"==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.iS_Extended_Credit)?"":null),a.Db(1),a.mc("ngIf",(t.submitted||t.f.appr_CreditValue.touched)&&t.f.appr_CreditValue.errors),a.Db(1),a.mc("ngClass",a.pc(98,yo,"no"==t.f.iS_Extended_Credit.value)),a.Db(4),a.mc("ngIf","yes"==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.iS_Extended_Credit)),a.Db(2),a.mc("ngClass",a.pc(100,Vo,t.submitted&&t.f.appr_CreditValue_Used.errors)),a.Eb("disabled","no"==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.iS_Extended_Credit)?"":null),a.Db(1),a.mc("ngIf",(t.submitted||t.f.appr_CreditValue_Used.touched)&&t.f.appr_CreditValue_Used.errors),a.Db(1),a.mc("ngClass",a.pc(102,yo,"no"==t.f.iS_Extended_Credit.value)),a.Db(4),a.mc("ngIf","yes"==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.iS_Extended_Credit)),a.Db(2),a.mc("ngClass",a.pc(104,Vo,t.submitted&&t.f.bank_Name.errors)),a.Eb("disabled","no"==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.iS_Extended_Credit)?"":null),a.Db(1),a.mc("ngIf",(t.submitted||t.f.bank_Name.touched)&&t.f.bank_Name.errors),a.Db(1),a.mc("ngClass",a.pc(106,yo,"no"==t.f.iS_Extended_Credit.value)),a.Db(4),a.mc("ngIf","yes"==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.iS_Extended_Credit)),a.Db(2),a.mc("ngClass",a.pc(108,Vo,t.submitted&&t.f.bank_Contact_Personnnel.errors)),a.Eb("disabled","no"==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.iS_Extended_Credit)?"":null),a.Db(1),a.mc("ngIf",t.submitted&&t.f.bank_Contact_Personnnel.errors),a.Db(1),a.mc("ngClass",a.pc(110,yo,"no"==t.f.iS_Extended_Credit.value)),a.Db(4),a.mc("ngIf","yes"==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.iS_Extended_Credit)),a.Db(2),a.mc("ngClass",a.pc(112,Vo,t.submitted&&t.f.bank_Contact_email.errors)),a.Eb("disabled","no"==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.iS_Extended_Credit)?"":null),a.Db(1),a.mc("ngIf",t.submitted&&t.f.bank_Contact_email.errors),a.Db(1),a.mc("ngClass",a.pc(114,yo,"no"==t.f.iS_Extended_Credit.value)),a.Db(4),a.mc("ngIf","yes"==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.iS_Extended_Credit)),a.Db(2),a.mc("ngClass",a.pc(116,Vo,t.submitted&&t.f.bank_Contact_phone.errors)),a.Eb("disabled","no"==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.iS_Extended_Credit)?"":null),a.Db(1),a.mc("ngIf",t.submitted&&t.f.bank_Contact_phone.errors),a.Db(10),a.mc("ngClass",a.pc(118,Vo,t.submitted&&t.f.WIP_Upload.errors)),a.Db(3),a.mc("ngIf",null==t.spinner?null:t.spinner.wipSpinner),a.Db(1),a.mc("ngForOf",t.wipAttachment),a.Db(1),a.mc("ngIf",t.submitted&&t.f.WIP_Upload.errors),a.Db(4),a.mc("ngClass",a.pc(120,yo,t.showdisabled))("ngStyle",a.pc(122,Uo,t.showdisabled?"none":"auto")),a.Db(2),a.mc("ngIf","Subcontractor"!=t.userRole&&(null==t.getriskrecords?null:t.getriskrecords.length)>0),a.Db(1),a.mc("ngIf","Subcontractor"!=t.userRole&&t.showrisk1status&&(null==t.getrisk2records?null:t.getrisk2records.length)>0),a.Db(1),a.mc("ngIf",!(t.showAdmin||t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status)),a.Db(1),a.mc("ngIf",!t.showAdmin&&t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status||t.showAdmin),a.Db(1),a.mc("ngIf",!t.showAdmin&&t.prequalification_status&&"In-Progress"!=t.prequalification_status||t.showAdmin),a.Db(11),a.mc("formGroup",t.financialinfoForm),a.Db(1),a.mc("ngClass",a.pc(124,Vo,t.rejecionrequired)),a.Eb("disable",!1),a.Db(1),a.mc("ngIf",t.rejecionrequired),a.Db(49),a.Ec(t.previewimgurl))},directives:[n.v,n.k,n.g,o.j,n.q,n.b,n.j,n.f,o.l,o.k,n.p,y,o.m,k.a],pipes:[o.e],styles:[".form-group[_ngcontent-%COMP%]{margin:15px 0}input[type=file][_ngcontent-%COMP%]{width:90px;color:transparent}.form-control-customitem[_ngcontent-%COMP%]{width:98%;cursor:pointer}.form-control-customitem[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer}.record-shadow[_ngcontent-%COMP%]{border:1px solid #ddd;box-shadow:0 .5rem 1rem rgba(0,0,0,.15)!important}.border[_ngcontent-%COMP%]{border:4px solid hsla(0,0%,86.7%,.6196078431372549)!important}.col-curve-top[_ngcontent-%COMP%]{border-top:6px solid #c3bdbd!important}.col-curve[_ngcontent-%COMP%], .col-curve-top[_ngcontent-%COMP%]{border-radius:18px 19px!important}.wip-bottom[_ngcontent-%COMP%]{position:relative;bottom:-8px}h6[_ngcontent-%COMP%]{font-size:13px!important}.bg-grey[_ngcontent-%COMP%]{color:#c7bfbf!important}"]}),e})(),Co=(()=>{class e extends mt.a{constructor(e,t){super("safety",e,t,{root:bt.a.webserviceURlLocal})}getAll(){return super.getAll()}getRecord(e){let t={Screen_ID:e,Screen_Type:"Safety"};const i={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")},body:t},o=this.httpUrlGenerator.entityResource("Files/"+e+"?Screen_Type=Safety",bt.a.webserviceURlLocal);return this.http.get(o,i)}deleteRecord(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.delete(bt.a.webserviceURlLocal+"Files/"+e,t)}getRecords(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("Safety/"+e,bt.a.webserviceURlLocal);return this.http.get(i,t)}updateRecord(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("Safety",bt.a.webserviceURlLocal)+t;return this.http.put(o,e,i)}addRecord(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("Safety",bt.a.webserviceURlLocal);return this.http.post(i,e,t)}getUser(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("Organization/"+e+"/"+t,bt.a.webserviceURlLocal);return this.http.get(o,i)}getComplete(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("Organization/Getstatus/"+e,bt.a.webserviceURlLocal);return this.http.get(i,t)}}return e.\u0275fac=function(t){return new(t||e)(a.Zb(ft.b),a.Zb(mt.c))},e.\u0275prov=a.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Io(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Supplier is required"),a.Ub())}function Ro(e,t){if(1&e&&(a.Vb(0,"div",120),a.Bc(1,Io,2,0,"div",119),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.is_Supplier.errors.required)}}function Fo(e,t){1&e&&(a.Vb(0,"div",121),a.Vb(1,"small",122),a.Dc(2,"As a supplier, you are not required to complete this section. Please move to the NEXT section."),a.Ub(),a.Ub())}function So(e,t){1&e&&(a.Vb(0,"span",9),a.Dc(1,"*"),a.Ub())}function wo(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Safety officer/safety department is required"),a.Ub())}function jo(e,t){if(1&e&&(a.Vb(0,"div",120),a.Bc(1,wo,2,0,"div",119),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.is_Safety_Officer.errors.required)}}function xo(e,t){1&e&&(a.Vb(0,"span",9),a.Dc(1,"*"),a.Ub())}function ko(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Safety officer name is required "),a.Ub())}function Po(e,t){if(1&e&&(a.Vb(0,"div",120),a.Bc(1,ko,2,0,"div",119),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.safety_Officer_Name.errors.required)}}function Ao(e,t){1&e&&(a.Vb(0,"span",9),a.Dc(1,"*"),a.Ub())}function Oo(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Safety officer phone is required "),a.Ub())}function Eo(e,t){if(1&e&&(a.Vb(0,"div",120),a.Bc(1,Oo,2,0,"div",119),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.safety_Officer_Phone.errors.required)}}function Mo(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Extention is required "),a.Ub())}function No(e,t){if(1&e&&(a.Vb(0,"div",120),a.Bc(1,Mo,2,0,"div",119),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.safety_Officer_Phone_Ext.errors.required)}}function To(e,t){1&e&&(a.Vb(0,"span",9),a.Dc(1,"*"),a.Ub())}function Bo(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Safety officer email is required "),a.Ub())}function qo(e,t){if(1&e&&(a.Vb(0,"div",120),a.Bc(1,Bo,2,0,"div",119),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.safety_Officer_Email.errors.required)}}function Lo(e,t){1&e&&(a.Vb(0,"span",9),a.Dc(1,"*"),a.Ub())}function Yo(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Safety program is required"),a.Ub())}function zo(e,t){if(1&e&&(a.Vb(0,"div",120),a.Bc(1,Yo,2,0,"div",119),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.is_Safety_Program.errors.required)}}function $o(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Safety program attachment is required"),a.Ub())}function Qo(e,t){if(1&e&&(a.Vb(0,"div",120),a.Bc(1,$o,2,0,"div",119),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.safety_Program_Upload.errors.required)}}function Go(e,t){1&e&&(a.Vb(0,"div",123),a.Vb(1,"span"),a.Dc(2,"Uploading..."),a.Ub(),a.Qb(3,"mat-progress-spinner",124),a.Ub())}function Wo(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div"),a.Vb(1,"p",125),a.Vb(2,"small"),a.Vb(3,"a",126),a.Dc(4),a.Ub(),a.Ub(),a.Vb(5,"small",127),a.cc("click",function(){a.uc(e);const i=t.index,o=t.$implicit;return a.gc().removesafetyProgramFile(i,o)}),a.Dc(6,"X"),a.Ub(),a.Ub(),a.Ub()}if(2&e){const e=t.$implicit;a.Db(3),a.nc("href",e.file_Path,a.wc),a.Db(1),a.Ec(e.name)}}function Ho(e,t){1&e&&(a.Vb(0,"span",9),a.Dc(1,"*"),a.Ub())}function Zo(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Drug and alcohol testing policy is required"),a.Ub())}function Ko(e,t){if(1&e&&(a.Vb(0,"div",120),a.Bc(1,Zo,2,0,"div",119),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.is_Drug_Testing_Policy.errors.required)}}function Xo(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Attachment is required"),a.Ub())}function Jo(e,t){if(1&e&&(a.Vb(0,"div",120),a.Bc(1,Xo,2,0,"div",119),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.drug_Testing_Upload.errors.required)}}function en(e,t){1&e&&(a.Vb(0,"div",123),a.Vb(1,"span"),a.Dc(2,"Uploading..."),a.Ub(),a.Qb(3,"mat-progress-spinner",124),a.Ub())}function tn(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div"),a.Vb(1,"p",125),a.Vb(2,"small"),a.Vb(3,"a",126),a.Dc(4),a.Ub(),a.Ub(),a.Vb(5,"small",127),a.cc("click",function(){a.uc(e);const i=t.index,o=t.$implicit;return a.gc().removesafetyofficerFile(i,o)}),a.Dc(6,"X"),a.Ub(),a.Ub(),a.Ub()}if(2&e){const e=t.$implicit;a.Db(3),a.nc("href",e.file_Path,a.wc),a.Db(1),a.Ec(e.name)}}function on(e,t){1&e&&(a.Vb(0,"span",9),a.Dc(1,"*"),a.Ub())}function nn(e,t){1&e&&(a.Vb(0,"span",9),a.Dc(1,"*"),a.Ub())}function rn(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Last year TRIR is required"),a.Ub())}function sn(e,t){if(1&e&&(a.Vb(0,"div",120),a.Bc(1,rn,2,0,"div",119),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.triR_Info_LastYear.errors.required)}}function an(e,t){1&e&&(a.Vb(0,"span",9),a.Dc(1,"*"),a.Ub())}function cn(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Two years TRIR is required"),a.Ub())}function ln(e,t){if(1&e&&(a.Vb(0,"div",120),a.Bc(1,cn,2,0,"div",119),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.triR_Info_TwoYears.errors.required)}}function dn(e,t){1&e&&(a.Vb(0,"span",9),a.Dc(1,"*"),a.Ub())}function un(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Three years TRIR is required "),a.Ub())}function pn(e,t){if(1&e&&(a.Vb(0,"div",120),a.Bc(1,un,2,0,"div",119),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.triR_Info_ThreeYears.errors.required)}}function mn(e,t){1&e&&(a.Vb(0,"span",9),a.Dc(1,"*"),a.Ub())}function bn(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Employees count is required "),a.Ub())}function fn(e,t){if(1&e&&(a.Vb(0,"div",120),a.Bc(1,bn,2,0,"div",119),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.number_Of_Employees.errors.required)}}function hn(e,t){1&e&&(a.Vb(0,"span",9),a.Dc(1,"*"),a.Ub())}function _n(e,t){1&e&&(a.Vb(0,"div",123),a.Vb(1,"span"),a.Dc(2,"Uploading..."),a.Ub(),a.Qb(3,"mat-progress-spinner",124),a.Ub())}function gn(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Last year OSHA log is required"),a.Ub())}function vn(e,t){if(1&e&&(a.Vb(0,"div",120),a.Bc(1,gn,2,0,"div",119),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.oshA_Log_LastYear.errors.required)}}function yn(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div"),a.Vb(1,"p",125),a.Vb(2,"small"),a.Vb(3,"a",126),a.Dc(4),a.Ub(),a.Ub(),a.Vb(5,"small",127),a.cc("click",function(){a.uc(e);const i=t.index,o=t.$implicit;return a.gc().removeOSHALastYearUpload(i,o)}),a.Dc(6,"X"),a.Ub(),a.Ub(),a.Ub()}if(2&e){const e=t.$implicit;a.Db(3),a.nc("href",e.file_Path,a.wc),a.Db(1),a.Ec(e.name)}}function Vn(e,t){1&e&&(a.Vb(0,"span",9),a.Dc(1,"*"),a.Ub())}function Un(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"OSHA is required"),a.Ub())}function Dn(e,t){if(1&e&&(a.Vb(0,"div",120),a.Bc(1,Un,2,0,"div",119),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.is_OSHA.errors.required)}}function Cn(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"OSHA citation is required"),a.Ub())}function In(e,t){if(1&e&&(a.Vb(0,"div",120),a.Bc(1,Cn,2,0,"div",119),a.Ub()),2&e){const e=a.gc(2);a.Db(1),a.mc("ngIf",e.f.oshA_Citation.errors.required)}}function Rn(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"OSHA additional information is required"),a.Ub())}function Fn(e,t){if(1&e&&(a.Vb(0,"div",120),a.Bc(1,Rn,2,0,"div",119),a.Ub()),2&e){const e=a.gc(2);a.Db(1),a.mc("ngIf",e.f.oshA_AddInfo.errors.required)}}const Sn=function(e){return{"is-invalid":e}};function wn(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",128),a.Vb(1,"label"),a.Dc(2,"1. How many citations? "),a.Ub(),a.Vb(3,"input",129),a.cc("ngModelChange",function(){return a.uc(e),a.gc().idleReset()}),a.Ub(),a.Bc(4,In,2,1,"div",17),a.Vb(5,"label"),a.Dc(6,"2. Additional Details"),a.Ub(),a.Vb(7,"textarea",130),a.cc("ngModelChange",function(){return a.uc(e),a.gc().idleReset()}),a.Ub(),a.Bc(8,Fn,2,1,"div",17),a.Ub()}if(2&e){const e=a.gc();a.Db(3),a.mc("ngClass",a.pc(4,Sn,e.submitted&&e.f.oshA_AddInfo.errors)),a.Db(1),a.mc("ngIf",e.submitted&&e.f.oshA_Citation.errors),a.Db(3),a.mc("ngClass",a.pc(6,Sn,e.submitted&&e.f.oshA_AddInfo.errors)),a.Db(1),a.mc("ngIf",e.submitted&&e.f.oshA_AddInfo.errors)}}function jn(e,t){1&e&&(a.Vb(0,"span",9),a.Dc(1,"*"),a.Ub())}function xn(e,t){1&e&&(a.Vb(0,"span",9),a.Dc(1,"*"),a.Ub())}function kn(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Current year EMR is required"),a.Ub())}function Pn(e,t){if(1&e&&(a.Vb(0,"div",120),a.Bc(1,kn,2,0,"div",119),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.emR_LastYear_Upload.errors.required)}}function An(e,t){1&e&&(a.Vb(0,"span",9),a.Dc(1,"*"),a.Ub())}function On(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Last year EMR is required"),a.Ub())}function En(e,t){if(1&e&&(a.Vb(0,"div",120),a.Bc(1,On,2,0,"div",119),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.emR_TwoYears_Upload.errors.required)}}function Mn(e,t){1&e&&(a.Vb(0,"span",9),a.Dc(1,"*"),a.Ub())}function Nn(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Two years EMR is required "),a.Ub())}function Tn(e,t){if(1&e&&(a.Vb(0,"div",120),a.Bc(1,Nn,2,0,"div",119),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.emR_ThreeYears_Upload.errors.required)}}function Bn(e,t){1&e&&(a.Vb(0,"span",9),a.Dc(1,"*"),a.Ub())}function qn(e,t){1&e&&(a.Vb(0,"span",9),a.Dc(1,"*"),a.Ub())}function Ln(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"EMR is required"),a.Ub())}function Yn(e,t){if(1&e&&(a.Vb(0,"div",120),a.Bc(1,Ln,2,0,"div",119),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.emR_Verification_Upload.errors.required)}}function zn(e,t){1&e&&(a.Vb(0,"div",123),a.Vb(1,"span"),a.Dc(2,"Uploading..."),a.Ub(),a.Qb(3,"mat-progress-spinner",124),a.Ub())}function $n(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div"),a.Vb(1,"p",125),a.Vb(2,"small"),a.Vb(3,"a",126),a.Dc(4),a.Ub(),a.Ub(),a.Vb(5,"small",127),a.cc("click",function(){a.uc(e);const i=t.index,o=t.$implicit;return a.gc().removeemRVerificationUpload(i,o)}),a.Dc(6,"X"),a.Ub(),a.Ub(),a.Ub()}if(2&e){const e=t.$implicit;a.Db(3),a.nc("href",e.file_Path,a.wc),a.Db(1),a.Ec(e.name)}}function Qn(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",131),a.Vb(1,"button",132),a.cc("click",function(){return a.uc(e),a.gc().gotoHome()}),a.Dc(2," << BACK"),a.Ub(),a.Vb(3,"button",133),a.cc("click",function(){return a.uc(e),a.gc().save()}),a.Dc(4),a.Ub(),a.Vb(5,"button",134),a.Dc(6,"NEXT >>"),a.Ub(),a.Ub()}if(2&e){const e=a.gc();a.Db(4),a.Ec(e.submitText)}}function Gn(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",135),a.Vb(1,"button",132),a.cc("click",function(){return a.uc(e),a.gc().gotoHome()}),a.Dc(2," << BACK"),a.Ub(),a.Vb(3,"button",136),a.cc("click",function(){return a.uc(e),a.gc().nextroutePage()}),a.Dc(4,"NEXT >>"),a.Ub(),a.Ub()}}function Wn(e,t){1&e&&(a.Vb(0,"div"),a.Vb(1,"button",137),a.Dc(2,"SUBMIT SAFETY INPUTS "),a.Ub(),a.Ub())}const Hn=function(e){return{"bg-grey":e}};let Zn=(()=>{class e{constructor(e,t,i,o,r,s,a,c,l){this.formBuilder=e,this.router=t,this.safetyservice=i,this.bnIdle=o,this.keepalive=r,this.toastr=s,this.companyservice=a,this.loginInfo=c,this.ngxUiLoader=l,this.currentForm=3,this.submitted=!1,this.safetyinfoForm=this.formBuilder.group({id:[0],companyId:[0],is_Supplier:["no",[n.u.required]],is_Safety_Officer:["no",[n.u.required]],safety_Officer_Name:["",[n.u.required,n.u.maxLength(130)]],safety_Officer_Phone:["",[n.u.required,n.u.pattern(/^-?(0|[1-9]\d*)?$/)]],safety_Officer_Phone_Ext:["",[n.u.maxLength(5)]],safety_Officer_Email:["",[n.u.required,n.u.email,n.u.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)]],is_Safety_Program:["no",[n.u.required]],safety_Program_Upload:[null,[n.u.required]],is_Drug_Testing_Policy:["no",[n.u.required]],drug_Testing_Upload:[null,[n.u.required]],number_Of_Employees:["",[n.u.required,n.u.maxLength(130)]],oshA_Log_LastYear:[null,[n.u.required]],is_OSHA:["no",[n.u.required]],oshA_AddInfo:["",[n.u.required]],oshA_Citation:["",[n.u.required]],isnumber_Of_Employees:[!1],triR_Info_LastYear:[null,[n.u.required]],triR_Info_TwoYears:[null,[n.u.required]],triR_Info_ThreeYears:[null,[n.u.required]],emR_LastYear_Upload:[null,[n.u.required]],emR_TwoYears_Upload:[null,[n.u.required]],emR_ThreeYears_Upload:[null,[n.u.required]],emR_Verification_Upload:[null,[n.u.required]],isAutosave:[!1],preQualification_Status:["In-Progress"],isComplete:[!1]}),this.companyInfo=this.formBuilder.group({id:["0"],org_Type:[null,[n.u.required,n.u.maxLength(130)]],is_Certified_Diverse:["",[n.u.required,n.u.maxLength(130)]],certified_Diverse_Attachment:["null",[n.u.maxLength(130)]],contact_Name:[null,[n.u.required,n.u.maxLength(256)]],contact_Email:[null,[n.u.required,n.u.maxLength(256),n.u.email,n.u.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)]],contact_Mobile:[null,[n.u.required,n.u.maxLength(256),n.u.pattern(/^-?(0|[1-9]\d*)?$/)]],additional_Details:["",[n.u.required,n.u.maxLength(256)]],CD_Upload:[null],other_details:["",n.u.maxLength(256)],isAutosave:[!0],preQualification_Status:["In-Progress"],isComplete:[!0],reject_Reason:[""]}),this.safetyProgramAttachments=[],this.oshALogLastYear=[],this.oshALogThreeYears=[],this.oshALogTwoYears=[],this.triRInfoLastYear=[],this.triRInfoThreeYears=[],this.triRInfoTwoYears=[],this.Safety_Program_Upload=[],this.tempSafetyProgramUpload=[],this.tempOSHALastYearUpload=[],this.tempOSHAThreeYearsUpload=[],this.tempOSHATwoYearsUpload=[],this.tempTRIRLastYearUpload=[],this.tempTRIRThreeYearsUpload=[],this.tempTRIRTwoYearsUpload=[],this.setTimeout=0,this.formSubmited=!1,this.is_Supplier=!1,this.spinner={safetySpinner:!1,oshaLastSpinner:!1,oshaTwoSpinner:!1,oshaThreeSpinner:!1,trirLastSpinner:!1,trirTwoSpinner:!1,trirThreeSpinner:!1,drugtestingSpinner:!1,emrLastSpinner:!1,emrTwoSpinner:!1,emrThreeSpinner:!1,emrverification:!1},this.resetTimer=0,this.showAdmin=!1,this.userRole="",this.companyId=0,this.safetyid=0,this.isCompleted=!1,this.prequalification_status="",this.drugTestingUploadAttachments=[],this.tempdrugTestingUpload=[],this.tempemRLastYearUpload=[],this.emRLastYear=[],this.tempemRTwoYearsUpload=[],this.emRTwoYears=[],this.tempemRThreeYearsUpload=[],this.emRThreeYears=[],this.tempemRVerificationUpload=[],this.emRVerification=[],this.showdisabled=!1}ngOnInit(){this.ngxUiLoader.startLoader("loader-01"),localStorage.setItem("currPage","safetyinfo"),this.prequalification_status=this.loginInfo.organization_status,this.submitText="SAVE";let e=localStorage.getItem("userDetails");e=JSON.parse(atob(e)),this.userDetails=e,this.userRole=e.role,this.tempcompanyid=localStorage.getItem("tempcompanyid"),this.tempcompanyid=Number(atob(this.tempcompanyid)),this.tempcompanyid>0&&"Subcontractor"!=this.userRole&&(this.showAdmin=!0,this.showdisabled=!0,this.safetyservice.getRecords(this.tempcompanyid).subscribe(e=>{var t;this.safetyinfoForm.disable(),this.safetyinfoForm.updateValueAndValidity(),this.showAdmin=!0,this.showdisabled=!0,(null==e?void 0:e.length)&&(this.safetyid=e[0].id,this.submitText=e[0].is_Supplier?"UPDATE":"SAVE",this.updateSafetyinfo(e),this.getFiles(null===(t=e[0])||void 0===t?void 0:t.files))})),null!=this.userDetails.vendorId&&null!=this.userDetails.taxId&&"Subcontractor"==this.userRole&&this.safetyservice.getUser(this.userDetails.vendorId,this.userDetails.taxId).subscribe(e=>{this.companyId=e.id,localStorage.setItem("companyid",btoa(this.companyId)),this.getRecords(this.companyId)}),this.ngxUiLoader.stopLoader("loader-01")}resetSupplierYes(){console.log("resetSafety"),this.safetyinfoForm.controls.is_Safety_Officer.setValue("no"),this.resetSafety(),this.safetyinfoForm.controls.is_Safety_Program.setValue("no"),this.resetSafetyProgram(),this.safetyinfoForm.controls.is_Drug_Testing_Policy.setValue("no"),this.resetDrug(),this.safetyinfoForm.patchValue({triR_Info_LastYear:"",triR_Info_TwoYears:"",triR_Info_ThreeYears:"",emR_LastYear_Upload:"",emR_TwoYears_Upload:"",emR_ThreeYears_Upload:""}),this.safetyinfoForm.controls.number_Of_Employees.setValue(""),this.isNumberEmployees(!0),this.safetyinfoForm.controls.is_OSHA.setValue("no"),this.safetyinfoForm.controls.oshA_AddInfo.setValidators(null),this.safetyinfoForm.controls.oshA_AddInfo.updateValueAndValidity(),this.safetyinfoForm.controls.oshA_AddInfo.setValue(""),this.safetyinfoForm.controls.oshA_Citation.setValidators(null),this.safetyinfoForm.controls.oshA_Citation.updateValueAndValidity(),this.safetyinfoForm.controls.oshA_Citation.setValue(""),this.emRVerification.forEach((e,t)=>{this.safetyservice.deleteRecord(e.id).subscribe(e=>{this.emRVerification.splice(t,1)})})}getRecords(e){this.safetyservice.getRecords(e).subscribe(e=>{var t;console.log(e),e.length&&(this.safetyid=e[0].id,this.submitText=e[0].is_Supplier?"UPDATE":"SAVE",this.updateSafetyinfo(e),this.getFiles(null===(t=e[0])||void 0===t?void 0:t.files))}),this.companyId>0&&this.companyservice.getRecord(e).subscribe(e=>{this.prequalification_status=e[0].preQualification_Status,e[0].preQualification_Status&&this.loginInfo.formDisable(e[0].preQualification_Status)&&(this.showdisabled=!0,this.safetyinfoForm.disable(),this.safetyinfoForm.updateValueAndValidity(),this.safetyinfoForm.controls.oshA_Log_LastYear.disable(),this.safetyinfoForm.controls.oshA_Log_LastYear.updateValueAndValidity())})}resetSafety(){this.safetyinfoForm.patchValue({safety_Officer_Email:"",safety_Officer_Name:"",safety_Officer_Phone:"",safety_Officer_Phone_Ext:""})}resetSafetyProgram(){this.showdisabled=!1,this.safetyProgramAttachments.forEach((e,t)=>{this.removesafetyProgramFile(t,e,!1)})}resetDrug(){var e;this.showdisabled=!1,null===(e=this.drugTesting)||void 0===e||e.forEach((e,t)=>{this.removesafetyofficerFile(t,e,!1)})}updateSafetyinfo(e){this.safetyinfoForm.patchValue({id:e[0].id,companyId:e[0].companyId,is_Supplier:e[0].is_Supplier,is_Safety_Officer:e[0].is_Safety_Officer,is_Drug_Testing_Policy:e[0].is_Drug_Testing_Policy,is_Safety_Program:e[0].is_Safety_Program,number_Of_Employees:e[0].number_Of_Employees&&"null"!=e[0].number_Of_Employees?e[0].number_Of_Employees:"",safety_Officer_Email:e[0].safety_Officer_Email&&"null"!=e[0].safety_Officer_Email?e[0].safety_Officer_Email:"",safety_Officer_Name:e[0].safety_Officer_Name&&"null"!=e[0].safety_Officer_Name?e[0].safety_Officer_Name:"",safety_Officer_Phone:e[0].safety_Officer_Phone&&"null"!=e[0].safety_Officer_Phone?e[0].safety_Officer_Phone:"",safety_Officer_Phone_Ext:e[0].safety_Officer_Phone_Ext&&"null"!=e[0].safety_Officer_Phone_Ext?e[0].safety_Officer_Phone_Ext:"",triR_Info_LastYear:e[0].triR_Info_LastYear?e[0].triR_Info_LastYear:"",triR_Info_TwoYears:e[0].triR_Info_TwoYears?e[0].triR_Info_TwoYears:"",triR_Info_ThreeYears:e[0].triR_Info_ThreeYears?e[0].triR_Info_ThreeYears:"",emR_LastYear_Upload:e[0].emR_LastYear_Upload?e[0].emR_LastYear_Upload:"",emR_TwoYears_Upload:e[0].emR_TwoYears_Upload?e[0].emR_TwoYears_Upload:"",emR_ThreeYears_Upload:e[0].emR_ThreeYears_Upload?e[0].emR_ThreeYears_Upload:"",isnumber_Of_Employees:!!e[0].isnumber_Of_Employees&&e[0].isnumber_Of_Employees}),this.safetyinfoForm.patchValue(e[0].supplier_Definition&&"null"!=e[0].supplier_Definition?{supplier_Definition:e[0].supplier_Definition}:{supplier_Definition:""}),this.safetyinfoForm.patchValue(null!=e[0].oshA_AddInfo&&"null"!=e[0].oshA_AddInfo?{oshA_AddInfo:e[0].oshA_AddInfo}:{oshA_AddInfo:""}),this.safetyinfoForm.patchValue(null!=e[0].citation&&"null"!=e[0].citation?{oshA_Citation:e[0].citation}:{oshA_Citation:""}),null!=e[0].is_OSHA&&"null"!=e[0].is_OSHA&&this.safetyinfoForm.patchValue({is_OSHA:e[0].is_OSHA}),null!=e[0].is_Safety_Program&&"null"!=e[0].is_Safety_Program&&this.safetyinfoForm.patchValue({is_Safety_Program:e[0].is_Safety_Program}),"Subcontractor"!=this.userRole&&"yes"==this.safetyinfoForm.value.is_Supplier&&(this.safetyinfoForm.controls.is_Safety_Program.setValidators([n.u.required]),this.safetyinfoForm.controls.is_OSHA.setValidators([n.u.required]),this.safetyinfoForm.controls.oshA_AddInfo.setValidators([n.u.required]),this.safetyinfoForm.controls.oshA_Citation.setValidators([n.u.required]),this.safetyinfoForm.controls.oshA_Log_LastYear.setValidators([n.u.required]),this.safetyinfoForm.controls.triR_Info_LastYear.setValidators([n.u.required]),this.safetyinfoForm.controls.triR_Info_TwoYears.setValidators([n.u.required]),this.safetyinfoForm.controls.triR_Info_ThreeYears.setValidators([n.u.required]))}ngOnDestroy(){this.keepalive.stop(),this.nextpage()}ngAfterViewInit(){this.keepalive.interval(30),this.keepalive.stop(),0==this.setTimeout&&this.keepalive.stop(),0==this.showAdmin&&this.keepalive.onPing.subscribe(()=>{"safetyinfo"==localStorage.getItem("currPage")&&(1==this.setTimeout?(this.autoSave(),this.keepalive.stop(),this.setTimeout=0):this.setTimeout=1)})}idleReset(){this.keepalive.stop(),this.keepalive.start(),this.resetTimer=0}getFiles(e){this.safetyProgramAttachments=[],this.oshALogLastYear=[],this.oshALogTwoYears=[],this.oshALogThreeYears=[],this.triRInfoLastYear=[],this.triRInfoTwoYears=[],this.triRInfoThreeYears=[],this.drugTesting=[],this.emRLastYear=[],this.emRTwoYears=[],this.emRThreeYears=[],this.emRVerification=[],e.filter(e=>{"Safety_Program_Upload"==e.file_Type&&0==e.isDeleted&&(e.file_Name.length<31?this.safetyProgramAttachments.push({id:e.id,name:e.file_Name,file_Path:e.file_Path}):0==e.isDeleted&&this.safetyProgramAttachments.push({id:e.id,name:e.file_Name.substring(0,31)+"....",file_Path:e.file_Path})),"OSHA_LastYear_Upload"==e.file_Type&&0==e.isDeleted&&(e.file_Name.length<31?this.oshALogLastYear.push({id:e.id,name:e.file_Name,file_Path:e.file_Path}):0==e.isDeleted&&this.oshALogLastYear.push({id:e.id,name:e.file_Name.substring(0,31)+"....",file_Path:e.file_Path})),"OSHA_TwoYears_Upload"==e.file_Type&&0==e.isDeleted&&(e.file_Name.length<31?this.oshALogTwoYears.push({id:e.id,name:e.file_Name,file_Path:e.file_Path}):0==e.isDeleted&&this.oshALogTwoYears.push({id:e.id,name:e.file_Name.substring(0,31)+"....",file_Path:e.file_Path})),"OSHA_ThreeYears_Upload"==e.file_Type&&0==e.isDeleted&&(e.file_Name.length<31?this.oshALogThreeYears.push({id:e.id,name:e.file_Name,file_Path:e.file_Path}):0==e.isDeleted&&this.oshALogThreeYears.push({id:e.id,name:e.file_Name.substring(0,31)+"....",file_Path:e.file_Path})),"Drug_Testing_Upload"==e.file_Type&&0==e.isDeleted&&(e.file_Name.length<31?this.drugTesting.push({id:e.id,name:e.file_Name,file_Path:e.file_Path}):0==e.isDeleted&&this.drugTesting.push({id:e.id,name:e.file_Name.substring(0,31)+"....",file_Path:e.file_Path})),"EMR_Verification_Upload"==e.file_Type&&0==e.isDeleted&&(e.file_Name.length<31?this.emRVerification.push({id:e.id,name:e.file_Name,file_Path:e.file_Path}):0==e.isDeleted&&this.emRVerification.push({id:e.id,name:e.file_Name.substring(0,31)+"....",file_Path:e.file_Path}))})}get f(){var e,t,i,o;return this.safetyinfoForm.value.is_Supplier&&"no"!=this.safetyinfoForm.value.is_Supplier||!1!==this.showdisabled?((o=[]).push(this.safetyinfoForm.controls.safety_Officer_Name),o.push(this.safetyinfoForm.controls.safety_Officer_Phone),o.push(this.safetyinfoForm.controls.safety_Officer_Email),o.push(this.safetyinfoForm.controls.safety_Program_Upload),o.push(this.safetyinfoForm.controls.drug_Testing_Upload),o.push(this.safetyinfoForm.controls.triR_Info_LastYear),o.push(this.safetyinfoForm.controls.triR_Info_TwoYears),o.push(this.safetyinfoForm.controls.triR_Info_ThreeYears),o.push(this.safetyinfoForm.controls.number_Of_Employees),o.push(this.safetyinfoForm.controls.oshA_Log_LastYear),o.push(this.safetyinfoForm.controls.oshA_Citation),o.push(this.safetyinfoForm.controls.oshA_AddInfo),o.push(this.safetyinfoForm.controls.emR_LastYear_Upload),o.push(this.safetyinfoForm.controls.emR_TwoYears_Upload),o.push(this.safetyinfoForm.controls.emR_ThreeYears_Upload),o.push(this.safetyinfoForm.controls.emR_Verification_Upload),o=this.validatorEnableOrDisable(!1,o)):((o=[]).push(this.safetyinfoForm.controls.safety_Officer_Name),o.push(this.safetyinfoForm.controls.safety_Officer_Phone),o.push(this.safetyinfoForm.controls.safety_Officer_Email),(o=this.validatorEnableOrDisable(!this.safetyinfoForm.value.is_Safety_Officer||"yes"==this.safetyinfoForm.value.is_Safety_Officer,o)).push(this.safetyinfoForm.controls.safety_Program_Upload),(o=this.validatorEnableOrDisable((!this.safetyinfoForm.value.is_Safety_Program||"yes"==this.safetyinfoForm.value.is_Safety_Program)&&0==(null===(e=this.safetyProgramAttachments)||void 0===e?void 0:e.length),o)).push(this.safetyinfoForm.controls.drug_Testing_Upload),(o=this.validatorEnableOrDisable((!this.safetyinfoForm.value.is_Drug_Testing_Policy||"yes"==this.safetyinfoForm.value.is_Drug_Testing_Policy)&&0==(null===(t=this.drugTesting)||void 0===t?void 0:t.length),o)).push(this.safetyinfoForm.controls.triR_Info_LastYear),o.push(this.safetyinfoForm.controls.triR_Info_TwoYears),o.push(this.safetyinfoForm.controls.triR_Info_ThreeYears),o=this.validatorEnableOrDisable(!0,o),this.safetyinfoForm.controls.number_Of_Employees.setValidators([n.u.required,n.u.maxLength(130)]),this.safetyinfoForm.controls.number_Of_Employees.enable(),this.safetyinfoForm.controls.number_Of_Employees.updateValueAndValidity(),o.push(this.safetyinfoForm.controls.oshA_Log_LastYear),(o=this.validatorEnableOrDisable(null==this.safetyinfoForm.value.isnumber_Of_Employees||0==this.safetyinfoForm.value.isnumber_Of_Employees,o)).push(this.safetyinfoForm.controls.oshA_Citation),o.push(this.safetyinfoForm.controls.oshA_AddInfo),(o=this.validatorEnableOrDisable(!this.safetyinfoForm.value.is_OSHA||"yes"==this.safetyinfoForm.value.is_OSHA,o)).push(this.safetyinfoForm.controls.emR_LastYear_Upload),o.push(this.safetyinfoForm.controls.emR_TwoYears_Upload),o.push(this.safetyinfoForm.controls.emR_ThreeYears_Upload),(o=this.validatorEnableOrDisable(!0,o)).push(this.safetyinfoForm.controls.emR_Verification_Upload),o=this.validatorEnableOrDisable(0===(null===(i=this.emRVerification)||void 0===i?void 0:i.length),o)),this.safetyinfoForm.controls}validatorEnableOrDisable(e,t){return t.forEach(t=>{e?(t.setValidators([n.u.required]),t.enable()):(t.clearValidators(),t.disable()),t.updateValueAndValidity()}),[]}submit(){if(this.keepalive.stop(),this.ngxUiLoader.startLoader("loader-01"),"Subcontractor"!=this.userRole)this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`]);else if(0==this.safetyid){("yes"==this.safetyinfoForm.value.is_Supplier||"no"==this.safetyinfoForm.value.is_Supplier)&&this.safetyinfoForm.patchValue({isAutosave:!0});let e=this.formMethod();this.safetyservice.addRecord(e).subscribe(e=>{this.getRecords(this.companyId)},e=>{},()=>{this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])})}else{this.safetyinfoForm.patchValue({isAutosave:!0});let e=this.formMethod();this.safetyservice.updateRecord(e,this.safetyid).subscribe(e=>{this.getRecords(this.companyId)},e=>{},()=>{this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])})}}save(){if(this.submitted=!0,this.formSubmited=!0,this.keepalive.stop(),this.safetyinfoForm.value.isnumber_Of_Employees&&this.safetyinfoForm.controls.oshA_Log_LastYear.setValidators(null),console.log(this.safetyinfoForm.controls.oshA_Log_LastYear.valid),this.safetyinfoForm.valid)if(0==this.safetyid){this.safetyinfoForm.patchValue({isAutosave:!0}),("yes"==this.safetyinfoForm.value.is_Supplier||"no"==this.safetyinfoForm.value.is_Supplier)&&this.safetyinfoForm.patchValue({isAutosave:!0});let e=this.formMethod();this.safetyservice.addRecord(e).subscribe(e=>{this.getRecords(this.companyId),this.submitText="UPDATE",this.getRecords(this.companyId),this.fileReset(),this.resetSpinner(),this.toastr.success("Safety Information saved successfully","Safety Information")})}else{this.safetyinfoForm.patchValue({isAutosave:!0});let e=this.formMethod();console.log(e),this.safetyservice.updateRecord(e,this.safetyid).subscribe(e=>{this.getRecords(this.companyId),this.fileReset(),this.resetSpinner(),this.toastr.success("Safety Information updated successfully","Safety Information")})}}autoSave(){if(this.resetTimer+=1,1==this.resetTimer)if(0==this.safetyid){this.safetyinfoForm.patchValue({isAutosave:!0});let e=this.formMethod();this.safetyservice.addRecord(e).subscribe(e=>{this.submitText="UPDATE",this.getRecords(this.companyId),this.fileReset(),this.keepalive.stop(),this.resetSpinner()})}else{this.safetyinfoForm.patchValue({isAutosave:!0});let e=this.formMethod();this.safetyservice.updateRecord(e,this.safetyid).subscribe(e=>{this.getRecords(this.companyId),this.fileReset(),this.keepalive.stop(),this.resetSpinner(),this.safetyinfoForm.patchValue({isAutosave:!0})})}}isNumberEmployees(e){1==e?(this.showdisabled=!1,this.oshALogLastYear.forEach((e,t)=>{this.removeOSHALastYearUpload(t,e,!1)}),this.safetyinfoForm.controls.oshA_Log_LastYear.disable(),this.safetyinfoForm.controls.oshA_Log_LastYear.setValidators(null),this.safetyinfoForm.controls.oshA_Log_LastYear.updateValueAndValidity()):(this.safetyinfoForm.controls.oshA_Log_LastYear.setValidators([n.u.required]),this.safetyinfoForm.controls.oshA_Log_LastYear.enable())}nextpage(){if("Subcontractor"==this.userRole)if(0==this.safetyid){("yes"==this.safetyinfoForm.value.is_Supplier||"no"==this.safetyinfoForm.value.is_Supplier)&&this.safetyinfoForm.patchValue({isAutosave:!0});let e=this.formMethod();this.safetyservice.addRecord(e).subscribe(e=>{this.toastr.success("Safety Information saved successfully","Safety Information"),this.keepalive.stop(),this.resetSpinner()})}else if(!this.showdisabled){this.safetyinfoForm.patchValue({isAutosave:!0});let e=this.formMethod();console.log(e),this.safetyservice.updateRecord(e,this.safetyid).subscribe(e=>{this.toastr.success("Safety Information updated successfully","Safety Information"),this.keepalive.stop(),this.resetSpinner()})}}fileReset(){this.safetyinfoForm.patchValue({oshA_Log_LastYear:"",triR_Info_LastYear:"",triR_Info_TwoYears:"",triR_Info_ThreeYears:"",safety_Program_Upload:"",drug_Testing_Upload:"",emR_LastYear_Upload:"",emR_TwoYears_Upload:"",emR_ThreeYears_Upload:"",emR_Verification_Upload:""})}formMethod(){var e=new FormData;e.append("id",this.safetyinfoForm.value.id),e.append("companyId",this.companyId),e.append("is_Supplier",this.loginInfo.validateEmpty(this.safetyinfoForm.value.is_Supplier)),e.append("is_Safety_Officer",this.loginInfo.validateEmpty(this.safetyinfoForm.value.is_Safety_Officer)),e.append("is_Drug_Testing_Policy",this.loginInfo.validateEmpty(this.safetyinfoForm.value.is_Drug_Testing_Policy)),e.append("safety_Officer_Name",this.loginInfo.validateEmpty(this.safetyinfoForm.value.safety_Officer_Name)),e.append("safety_Officer_Phone",this.loginInfo.validateEmpty(this.safetyinfoForm.value.safety_Officer_Phone)),e.append("safety_Officer_Phone_Ext",this.loginInfo.validateEmpty(this.safetyinfoForm.value.safety_Officer_Phone_Ext)),e.append("safety_Officer_Email",this.loginInfo.validateEmpty(this.safetyinfoForm.value.safety_Officer_Email)),e.append("is_Safety_Program",this.loginInfo.validateEmpty(this.safetyinfoForm.value.is_Safety_Program)),e.append("number_Of_Employees",this.loginInfo.validateEmpty(this.safetyinfoForm.value.number_Of_Employees)),e.append("is_OSHA",this.loginInfo.validateEmpty(this.safetyinfoForm.value.is_OSHA)),e.append("oshA_AddInfo",this.loginInfo.validateEmpty(this.safetyinfoForm.value.oshA_AddInfo)),e.append("citation",this.safetyinfoForm.value.oshA_Citation?this.safetyinfoForm.value.oshA_Citation:0),e.append("isComplete",!1),e.append("isAutosave",this.safetyinfoForm.value.isAutosave),e.append("isnumber_Of_Employees",this.safetyinfoForm.value.isnumber_Of_Employees),e.append("triR_Info_LastYear",this.safetyinfoForm.value.triR_Info_LastYear?this.safetyinfoForm.value.triR_Info_LastYear:""),e.append("triR_Info_TwoYears",this.safetyinfoForm.value.triR_Info_TwoYears?this.safetyinfoForm.value.triR_Info_TwoYears:""),e.append("triR_Info_ThreeYears",this.safetyinfoForm.value.triR_Info_ThreeYears?this.safetyinfoForm.value.triR_Info_ThreeYears:""),e.append("emR_LastYear_Upload",this.safetyinfoForm.value.emR_LastYear_Upload?this.safetyinfoForm.value.emR_LastYear_Upload:""),e.append("emR_TwoYears_Upload",this.safetyinfoForm.value.emR_TwoYears_Upload?this.safetyinfoForm.value.emR_TwoYears_Upload:""),e.append("emR_ThreeYears_Upload",this.safetyinfoForm.value.emR_ThreeYears_Upload?this.safetyinfoForm.value.emR_ThreeYears_Upload:"");for(let t=0;t<this.tempSafetyProgramUpload.length;t++)e.append("Safety_Program_Upload",this.tempSafetyProgramUpload[t]);this.tempSafetyProgramUpload=[];for(let t=0;t<this.tempdrugTestingUpload.length;t++)e.append("drug_Testing_Upload",this.tempdrugTestingUpload[t]);this.tempdrugTestingUpload=[];for(let t=0;t<this.tempOSHALastYearUpload.length;t++)e.append("OSHA_LastYear_Upload",this.tempOSHALastYearUpload[t]);this.tempOSHALastYearUpload=[];for(let t=0;t<this.tempOSHATwoYearsUpload.length;t++)e.append("OSHA_TwoYears_Upload",this.tempOSHATwoYearsUpload[t]);this.tempOSHATwoYearsUpload=[];for(let t=0;t<this.tempOSHAThreeYearsUpload.length;t++)e.append("OSHA_ThreeYears_Upload",this.tempOSHAThreeYearsUpload[t]);return this.tempOSHAThreeYearsUpload=[],this.tempTRIRThreeYearsUpload=[],this.tempemRThreeYearsUpload=[],this.tempemRVerificationUpload.filter(t=>{e.append("emR_Verification_Upload",t)}),this.tempemRVerificationUpload=[],e}safetyProgramUpload(e){let t=document.getElementById("safety_Program_Upload");for(let i=0;i<t.files.length;i++)this.tempSafetyProgramUpload.push(t.files[i]);this.spinner.safetySpinner=!0,this.fileupload()}removesafetyProgramFile(e,t,i=!0){this.showdisabled||this.safetyservice.deleteRecord(t.id).subscribe(t=>{1==i&&this.toastr.info("File removed successfully","Safety Info"),this.safetyProgramAttachments.splice(e,1)})}safetyofficerUpload(e){let t=document.getElementById("drug_Testing_Upload");for(let i=0;i<t.files.length;i++)this.tempdrugTestingUpload.push(t.files[i]);this.spinner.drugtestingSpinner=!0,this.fileupload()}removesafetyofficerFile(e,t,i=!0){this.showdisabled||this.safetyservice.deleteRecord(t.id).subscribe(t=>{i&&this.toastr.info("File removed successfully","Safety Info"),this.drugTesting.splice(e,1)})}OSHALastYearUpload(e){let t=document.getElementById("OSHA_LastYear_Upload");for(let i=0;i<t.files.length;i++)this.tempOSHALastYearUpload.push(t.files[i]);this.spinner.oshaLastSpinner=!0,this.fileupload()}removeOSHALastYearUpload(e,t,i=!0){this.showdisabled||this.safetyservice.deleteRecord(t.id).subscribe(t=>{i&&this.toastr.info("File removed successfully","Safety Info"),this.oshALogLastYear.splice(e,1)})}oshALogThreeYearsUpload(e){let t=document.getElementById("OSHA_ThreeYears_Upload");for(let i=0;i<t.files.length;i++)this.tempOSHAThreeYearsUpload.push(t.files[i]);this.spinner.oshaThreeSpinner=!0,this.fileupload()}removeoshALogThreeYearsUpload(e,t){this.showdisabled||this.safetyservice.deleteRecord(t.id).subscribe(t=>{this.toastr.info("File removed successfully","Safety Info"),this.oshALogThreeYears.splice(e,1)})}oshALogTwoYearsUpload(e){let t=document.getElementById("OSHA_TwoYears_Upload");for(let i=0;i<t.files.length;i++)this.tempOSHATwoYearsUpload.push(t.files[i]);this.spinner.oshaTwoSpinner=!0,this.fileupload()}removeoshALogTwoYearsUpload(e,t){this.showdisabled||this.safetyservice.deleteRecord(t.id).subscribe(t=>{this.toastr.info("File removed successfully","Safety Info"),this.oshALogTwoYears.splice(e,1)})}triRInfoLastYearUpload(e){let t=document.getElementById("TRIR_LastYear_Upload");for(let i=0;i<t.files.length;i++)this.tempTRIRLastYearUpload.push(t.files[i]);this.spinner.trirLastSpinner=!0,this.fileupload()}removetriRInfoLastYearUpload(e,t){this.showdisabled||this.safetyservice.deleteRecord(t.id).subscribe(t=>{this.toastr.info("File removed successfully","Safety Info"),this.triRInfoLastYear.splice(e,1)})}triRInfoThreeYearsUpload(e){let t=document.getElementById("TRIR_ThreeYears_Upload");for(let i=0;i<t.files.length;i++)this.tempTRIRThreeYearsUpload.push(t.files[i]);this.spinner.trirThreeSpinner=!0,this.fileupload()}removetriRInfoThreeYearsUpload(e,t){this.showdisabled||this.safetyservice.deleteRecord(t.id).subscribe(t=>{this.toastr.info("File removed successfully","Safety Info"),this.triRInfoThreeYears.splice(e,1)})}triRInfoTwoYearsUpload(e){let t=document.getElementById("TRIR_TwoYears_Upload");for(let i=0;i<t.files.length;i++)this.tempTRIRTwoYearsUpload.push(t.files[i]);this.spinner.trirTwoSpinner=!0,this.fileupload()}removetriRInfoTwoYearsUpload(e,t){this.showdisabled||this.safetyservice.deleteRecord(t.id).subscribe(t=>{this.toastr.info("File removed successfully","Safety Info"),this.triRInfoTwoYears.splice(e,1)})}emRLastYearUpload(e){let t=document.getElementById("emR_LastYear_Upload");for(let i=0;i<t.files.length;i++)this.tempemRLastYearUpload.push(t.files[i]);this.spinner.trirTwoSpinner=!0,this.fileupload()}removeemRLastYearUpload(e,t){this.showdisabled||this.safetyservice.deleteRecord(t.id).subscribe(t=>{this.toastr.info("File removed successfully","Safety Info"),this.emRLastYear.splice(e,1)})}emRTwoYearsUpload(e){let t=document.getElementById("emR_TwoYears_Upload");for(let i=0;i<t.files.length;i++)this.tempemRTwoYearsUpload.push(t.files[i]);this.spinner.emrTwoSpinner=!0,this.fileupload()}removeemRTwoYearsUpload(e,t){this.showdisabled||this.safetyservice.deleteRecord(t.id).subscribe(t=>{this.toastr.info("File removed successfully","Safety Info"),this.emRTwoYears.splice(e,1)})}emRThreeYearsUpload(e){let t=document.getElementById("emR_ThreeYears_Upload");for(let i=0;i<t.files.length;i++)this.tempemRThreeYearsUpload.push(t.files[i]);this.spinner.emrThreeSpinner=!0,this.fileupload()}removeemRThreeYearsUpload(e,t){this.showdisabled||this.safetyservice.deleteRecord(t.id).subscribe(t=>{this.toastr.info("File removed successfully","Safety Info"),this.emRThreeYears.splice(e,1)})}emRVerificationUpload(e){let t=document.getElementById("emR_Verification_Upload");for(let i=0;i<t.files.length;i++)this.tempemRVerificationUpload.push(t.files[i]);this.spinner.emrverification=!0,this.fileupload()}removeemRVerificationUpload(e,t){this.showdisabled||this.safetyservice.deleteRecord(t.id).subscribe(t=>{this.toastr.info("File removed successfully","Safety Info"),this.emRVerification.splice(e,1)})}resetSpinner(){this.spinner={safetySpinner:!1,oshaLastSpinner:!1,oshaTwoSpinner:!1,oshaThreeSpinner:!1,trirLastSpinner:!1,trirTwoSpinner:!1,trirThreeSpinner:!1,drugtestingSpinner:!1,emrLastSpinner:!1,emrTwoSpinner:!1,emrThreeSpinner:!1,emrverification:!1}}fileupload(){if(0==this.safetyid){this.safetyinfoForm.patchValue({isAutosave:!0});let e=this.formMethod();this.safetyservice.addRecord(e).subscribe(e=>{this.submitText="UPDATE",this.getRecords(this.companyId),this.fileReset(),this.keepalive.stop(),this.resetSpinner()})}else{this.safetyinfoForm.patchValue({isAutosave:!0});let e=this.formMethod();this.safetyservice.updateRecord(e,this.safetyid).subscribe(e=>{this.getRecords(this.companyId),this.fileReset(),this.keepalive.stop(),this.resetSpinner(),this.safetyinfoForm.patchValue({isAutosave:!0})})}}gotoHome(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm-1].url}`])}filepreview(e,t){var i=new FileReader;i.onload=i=>{console.log(i.target);let o=new Blob(e.files,{type:e.files[t].type});var n=(window.URL||window.webkitURL).createObjectURL(o);console.log("path",n,e.value);var r=document.createElement("a"),s=document.createTextNode("View File");r.target="_blank",r.appendChild(s),r.href=n,r.click(),e.appendChild(r)},i.readAsDataURL(e.files[t])}nextroutePage(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])}}return e.\u0275fac=function(t){return new(t||e)(a.Pb(n.d),a.Pb(r.f),a.Pb(Co),a.Pb(l.a),a.Pb(u.a),a.Pb(f.b),a.Pb(c.a),a.Pb(g),a.Pb(v.c))},e.\u0275cmp=a.Jb({type:e,selectors:[["app-safetyinfo"]],decls:282,vars:206,consts:[[1,"px-2",3,"formGroup","ngSubmit","keydown.enter"],[1,"px-1","my-2","form-bg",3,"ngClass"],[1,"form-group","row","px-2","mx-auto","pb-3"],[1,"row"],[1,"col-lg-6","px-2","mt-2"],[1,"row","col-curve-top","bg-white","mx-0","px-0","py-2","mt-2"],[1,"row","pt-2"],[1,"col-5"],["for","is_Supplier",1,"my-auto"],[1,"text-danger"],[1,"col-7"],[1,"col-lg-3"],["type","radio","formControlName","is_Supplier","value","yes","checked","checked","name","is_Supplier","id","is_Supplier_yes",3,"ngModelChange","click"],["for","is_Supplier_yes",3,"ngClass"],[1,"col-lg-9"],["type","radio","formControlName","is_Supplier","value","no","name","is_Supplier","id","is_Supplier_no",3,"ngClass","ngModelChange"],["for","is_Supplier_no"],["class","invalid-feedback",4,"ngIf"],["class","col-lg-12 text-danger",4,"ngIf"],[1,"row","px-4","mt-2"],[1,"row","pb-5"],[1,"row","pb-4"],[1,"row","col-curve-top","bg-white","mx-0","px-0","py-2","mt-2",3,"ngClass"],[1,"col-lg-12","pt-2","mx-auto","bg-white","col-curve"],[1,"col-8"],["for","is_Safety_Officer",1,"my-auto","float-right"],["class","text-danger",4,"ngIf"],[1,"col-4"],[1,"col-lg-6"],["type","radio","formControlName","is_Safety_Officer","value","yes","checked","checked","name","is_Safety_Officer","id","is_Safety_Officer_yes",3,"ngClass","ngModelChange"],["for","is_Safety_Officer_yes"],["type","radio","formControlName","is_Safety_Officer","value","no","name","is_Safety_Officer","id","is_Safety_Officer_no",3,"ngClass","ngModelChange","click"],["for","is_Safety_Officer_no"],[1,"row","mt-1",3,"ngClass"],["for","safety_Officer_Name",1,"my-auto","font-italic","float-right"],["type","text","formControlName","safety_Officer_Name","pattern","[0-9]+","id","safety_Officer_Name","name","safety_Officer_Name",1,"form-control",3,"ngClass","ngModelChange"],["for","safety_Officer_Phone",1,"my-auto","font-italic","float-right"],[1,"col-10","pe-0"],["type","text","appPhoneMask","","onKeyPress","if(this.value.length==15) return false;","formControlName","safety_Officer_Phone","id","safety_Officer_Phone","name","safety_Officer_Phone",1,"form-control",3,"ngClass","ngModelChange"],[1,"col-2","ps-0"],["type","number","onKeyPress","if(this.value.length==3) return false;","formControlName","safety_Officer_Phone_Ext","pattern","[0-9]+","id","safety_Officer_Phone_Ext","name","safety_Officer_Phone_Ext",1,"form-control",3,"ngClass","ngModelChange"],["for","safety_Officer_Email",1,"my-auto","font-italic","float-right"],["type","text","formControlName","safety_Officer_Email","pattern","[0-9]+","id","safety_Officer_Email","name","safety_Officer_Email",1,"form-control",3,"ngClass","ngModelChange"],[1,"row","col-curve","bg-white","mx-0","px-0","py-2","mt-2",3,"ngClass"],[1,"row","pt-3"],[1,"col-6"],["for","is_Safety_Program",1,"my-auto","float-right"],["type","radio","formControlName","is_Safety_Program","value","yes","checked","checked","name","is_Safety_Program","id","is_Safety_Program_yes",3,"ngClass","ngModelChange"],["for","is_Safety_Program_yes"],["type","radio","formControlName","is_Safety_Program","value","no","name","is_Safety_Program","id","is_Safety_Program_no",3,"ngClass","ngModelChange","click"],["for","is_Safety_Program_no"],[1,"pt-2","pb-4",3,"ngClass"],["for","Safety_Program_Upload",1,"my-auto","font-italic","float-right"],[1,"form-control-customitem","form-control","fupupload"],["type","file","formControlName","safety_Program_Upload","title","Choose file","id","safety_Program_Upload","name","Safety_Program_Upload","multiple","",3,"ngClass","change"],["for","CPA_Upload",3,"ngClass"],["class","spinner__loading pt-3",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"col-lg-12","py-2","mx-auto","bg-white","col-curve"],[1,"mt-1"],[1,"row","pt-1"],["for","is_Drug_Testing_Policy",1,"my-auto","float-right"],["type","radio","formControlName","is_Drug_Testing_Policy","value","yes","checked","checked","name","is_Drug_Testing_Policy","id","is_Drug_Testing_Policy_yes",3,"ngClass","ngModelChange"],["for","is_Drug_Testing_Policy_yes"],["type","radio","formControlName","is_Drug_Testing_Policy","value","no","name","is_Drug_Testing_Policy","id","is_Drug_Testing_Policy_no",3,"ngClass","ngModelChange","click"],["for","is_Drug_Testing_Policy_no"],[1,"pt-2",3,"ngClass"],["for","drug_Testing_Upload",1,"my-auto","font-italic","float-right"],["type","file","formControlName","drug_Testing_Upload","title","Choose file","id","drug_Testing_Upload","name","drug_Testing_Upload","multiple","",3,"ngClass","change"],["for","drug_Testing_Upload",3,"ngClass"],[1,"bg-white","pt-3"],["for","project-zipcode",1,"my-auto","float-right"],["for","project-zipcode",1,"my-auto","font-italic","float-right","mt-3"],["for","triR_Info_LastYear",1,"my-auto","font-italic","float-right"],["type","number","formControlName","triR_Info_LastYear","id","triR_Info_LastYear","name","triR_Info_LastYear",1,"form-control",3,"ngClass"],["for","triR_Info_TwoYears",1,"my-auto","font-italic","float-right"],["type","number","formControlName","triR_Info_TwoYears","id","triR_Info_TwoYears","name","triR_Info_TwoYears",1,"form-control",3,"ngClass"],["for","triR_Info_ThreeYears",1,"my-auto","font-italic","float-right"],["type","number","formControlName","triR_Info_ThreeYears","id","triR_Info_ThreeYears","name","triR_Info_ThreeYears",1,"form-control",3,"ngClass"],[1,"pb-5","pt-4"],[1,"pb-4","pt-4"],[1,"row","mt-2"],[1,"col-12","my-auto","font-italic","float-right"],["type","checkbox","formControlName","isnumber_Of_Employees","id","isnumber_Of_Employees","name","isnumber_Of_Employees",3,"change"],[1,"col-12"],["for","number_Of_Employees",1,"my-auto","font-italic","float-right"],["type","number","formControlName","number_Of_Employees","pattern","[0-9]+","id","number_Of_Employees","name","number_Of_Employees",1,"form-control",3,"ngClass","ngModelChange"],["for","project-zipcode",1,"my-auto","font-italic","float-right"],[1,"col-lg-12","mt-3","bg-white","col-curve"],["type","file","formControlName","oshA_Log_LastYear","id","OSHA_LastYear_Upload","title","Choose file","name","oshA_Log_LastYear","multiple","",3,"ngClass","change"],["for","oshA_Log_LastYear",3,"ngClass"],[1,"mt-2"],["for","is_OSHA",1,"my-auto","font-italic","float-right"],[1,"col-lg-2"],["type","radio","formControlName","is_OSHA","value","yes","checked","checked","name","is_OSHA","id","is_OSHA_yes",3,"ngClass","ngModelChange"],["for","is_OSHA_yes"],[1,"col-lg-10"],["type","radio","formControlName","is_OSHA","value","no","name","is_OSHA","id","is_OSHA_no",3,"ngClass","ngModelChange"],["for","is_OSHA_no"],[1,"mr-4","mt-1"],[1,"note","fw-bold",3,"ngClass"],["class","col-lg-12 bg-white",4,"ngIf"],[1,"my-auto","float-right"],["for","emR_LastYear_Upload",1,"my-auto","font-italic","float-right","mt-2"],["for","emR_LastYear_Upload",1,"my-auto","font-italic","float-right"],["type","number","formControlName","emR_LastYear_Upload","id","emR_LastYear_Upload","name","emR_LastYear_Upload",1,"form-control",3,"ngClass"],["for","emR_TwoYears_Upload",1,"my-auto","font-italic","float-right"],["type","number","formControlName","emR_TwoYears_Upload","title","Choose file","id","emR_TwoYears_Upload","name","emR_TwoYears_Upload",1,"form-control",3,"ngClass"],["for","emR_ThreeYears_Upload",1,"my-auto","font-italic","float-right"],["type","number","formControlName","emR_ThreeYears_Upload","id","emR_ThreeYears_Upload","name","emR_ThreeYears_Upload",1,"form-control",3,"ngClass"],[1,"my-auto","float-right","pt-3"],[1,"col-lg-12","mt-2","bg-white","col-curve"],["for","emR_Verification_Upload",1,"my-auto","font-italic","float-right","col-2"],["type","file","title","Choose file","formControlName","emR_Verification_Upload","id","emR_Verification_Upload","name","emR_Verification_Upload","multiple","",3,"ngClass","change"],["for","emR_Verification_Upload",3,"ngClass"],[1,"pb-5","pt-5"],[1,"pt-2"],["class","text-end mx-lg-4 my-3",4,"ngIf"],["class","text-end mx-4 my-3",4,"ngIf"],[4,"ngIf"],[1,"invalid-feedback"],[1,"col-lg-12","text-danger"],[1,"fw-bold","note"],[1,"spinner__loading","pt-3"],["diameter","18","mode","indeterminate",1,"mt-1"],[1,"file-tag"],["target","_blank",3,"href"],[1,"file-close","text-white",3,"click"],[1,"col-lg-12","bg-white"],["type","number","formControlName","oshA_Citation","id","oshA_Citation","name","oshA_Citation",1,"form-control",3,"ngClass","ngModelChange"],["formControlName","oshA_AddInfo","id","oshA_AddInfo","name","oshA_AddInfo",1,"form-control",3,"ngClass","ngModelChange"],[1,"text-end","mx-lg-4","my-3"],[1,"btn","float-start","btn","default-btn",3,"click"],["type","button",1,"btn","ml-4","default-btn",3,"click"],["type","submit",1,"btn","mx-2","default-btn"],[1,"text-end","mx-4","my-3"],[1,"btn","btn-success","mx-2","default-btn",3,"click"],[1,"btn","btn","my-2","default-btn","float-end","me-4"]],template:function(e,t){1&e&&(a.Vb(0,"form",0),a.cc("ngSubmit",function(){return t.submit()})("keydown.enter",function(e){return e.preventDefault()}),a.Vb(1,"div",1),a.Vb(2,"div",2),a.Vb(3,"div",3),a.Vb(4,"div",4),a.Vb(5,"div",5),a.Vb(6,"div",6),a.Vb(7,"div",7),a.Vb(8,"h6",8),a.Dc(9,"1. Are you a supplier? "),a.Vb(10,"span",9),a.Dc(11,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(12,"div",10),a.Vb(13,"div",3),a.Vb(14,"span",11),a.Vb(15,"input",12),a.cc("ngModelChange",function(){return t.idleReset()})("click",function(){return t.resetSupplierYes()}),a.Ub(),a.Vb(16,"label",13),a.Dc(17," YES"),a.Ub(),a.Ub(),a.Vb(18,"span",14),a.Vb(19,"input",15),a.cc("ngModelChange",function(){return t.idleReset()}),a.Ub(),a.Vb(20,"label",16),a.Dc(21," NO"),a.Ub(),a.Ub(),a.Ub(),a.Bc(22,Ro,2,1,"div",17),a.Ub(),a.Bc(23,Fo,3,0,"div",18),a.Ub(),a.Vb(24,"div",19),a.Dc(25,"Supplier = You only supply materials to the project sites. You DO NOT perform work in the field or provide any field services."),a.Ub(),a.Qb(26,"div",20),a.Qb(27,"div",21),a.Ub(),a.Ub(),a.Vb(28,"div",4),a.Vb(29,"div",22),a.Vb(30,"div",23),a.Vb(31,"div",3),a.Vb(32,"div",24),a.Vb(33,"h6",25),a.Dc(34,"2. Do you have a safety officer/safety department in your company?"),a.Bc(35,So,2,0,"span",26),a.Ub(),a.Ub(),a.Vb(36,"div",27),a.Vb(37,"div",3),a.Vb(38,"span",28),a.Vb(39,"input",29),a.cc("ngModelChange",function(){return t.idleReset()}),a.Ub(),a.Vb(40,"label",30),a.Dc(41," YES"),a.Ub(),a.Ub(),a.Vb(42,"span",28),a.Vb(43,"input",31),a.cc("ngModelChange",function(){return t.idleReset()})("click",function(){return t.resetSafety()}),a.Ub(),a.Vb(44,"label",32),a.Dc(45," NO"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Bc(46,jo,2,1,"div",17),a.Ub(),a.Vb(47,"div",33),a.Vb(48,"div",3),a.Vb(49,"div",7),a.Vb(50,"label",34),a.Dc(51," Safety Officer Name: "),a.Bc(52,xo,2,0,"span",26),a.Ub(),a.Ub(),a.Vb(53,"div",10),a.Vb(54,"input",35),a.cc("ngModelChange",function(){return t.idleReset()}),a.Ub(),a.Bc(55,Po,2,1,"div",17),a.Ub(),a.Ub(),a.Ub(),a.Vb(56,"div",33),a.Vb(57,"div",3),a.Vb(58,"div",7),a.Vb(59,"label",36),a.Dc(60," Safety Officer Phone: "),a.Bc(61,Ao,2,0,"span",26),a.Ub(),a.Ub(),a.Vb(62,"div",10),a.Vb(63,"div",3),a.Vb(64,"div",37),a.Vb(65,"input",38),a.cc("ngModelChange",function(){return t.idleReset()}),a.Ub(),a.Bc(66,Eo,2,1,"div",17),a.Ub(),a.Vb(67,"div",39),a.Vb(68,"input",40),a.cc("ngModelChange",function(){return t.idleReset()}),a.Ub(),a.Bc(69,No,2,1,"div",17),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Vb(70,"div",33),a.Vb(71,"div",3),a.Vb(72,"div",7),a.Vb(73,"label",41),a.Dc(74," Safety Officer Email: "),a.Bc(75,To,2,0,"span",26),a.Ub(),a.Ub(),a.Vb(76,"div",10),a.Vb(77,"input",42),a.cc("ngModelChange",function(){return t.idleReset()}),a.Ub(),a.Bc(78,qo,2,1,"div",17),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Vb(79,"div",3),a.Vb(80,"div",4),a.Vb(81,"div",43),a.Vb(82,"div",44),a.Vb(83,"div",45),a.Vb(84,"h6",46),a.Dc(85,"3. Do you have a written safety program ? "),a.Bc(86,Lo,2,0,"span",26),a.Ub(),a.Ub(),a.Vb(87,"div",45),a.Vb(88,"div",3),a.Vb(89,"span",11),a.Vb(90,"input",47),a.cc("ngModelChange",function(){return t.idleReset()}),a.Ub(),a.Vb(91,"label",48),a.Dc(92," YES"),a.Ub(),a.Ub(),a.Vb(93,"span",14),a.Vb(94,"input",49),a.cc("ngModelChange",function(){return t.idleReset()})("click",function(){return t.resetSafetyProgram()}),a.Ub(),a.Vb(95,"label",50),a.Dc(96," NO"),a.Ub(),a.Ub(),a.Ub(),a.Bc(97,zo,2,1,"div",17),a.Ub(),a.Ub(),a.Vb(98,"div",51),a.Vb(99,"label",52),a.Dc(100,"Please attach your company's safety program: "),a.Ub(),a.Vb(101,"div",53),a.Vb(102,"input",54),a.cc("change",function(e){return t.safetyProgramUpload(e)}),a.Ub(),a.Vb(103,"span",55),a.Dc(104," \xa0 Click here to Add Files"),a.Ub(),a.Ub(),a.Bc(105,Qo,2,1,"div",17),a.Bc(106,Go,4,0,"div",56),a.Bc(107,Wo,7,2,"div",57),a.Ub(),a.Ub(),a.Ub(),a.Vb(108,"div",4),a.Vb(109,"div",43),a.Vb(110,"div",58),a.Vb(111,"div",59),a.Vb(112,"div",60),a.Vb(113,"div",45),a.Vb(114,"h6",61),a.Dc(115,"4. Do you have a drug and alcohol testing policy? "),a.Bc(116,Ho,2,0,"span",26),a.Ub(),a.Ub(),a.Vb(117,"div",45),a.Vb(118,"div",3),a.Vb(119,"span",11),a.Vb(120,"input",62),a.cc("ngModelChange",function(){return t.idleReset()}),a.Ub(),a.Vb(121,"label",63),a.Dc(122," YES"),a.Ub(),a.Ub(),a.Vb(123,"span",14),a.Vb(124,"input",64),a.cc("ngModelChange",function(){return t.idleReset()})("click",function(){return t.resetDrug()}),a.Ub(),a.Vb(125,"label",65),a.Dc(126," NO"),a.Ub(),a.Ub(),a.Ub(),a.Bc(127,Ko,2,1,"div",17),a.Ub(),a.Ub(),a.Ub(),a.Vb(128,"div",66),a.Vb(129,"label",67),a.Dc(130,"Please attach your company's alcohol testing policy: "),a.Ub(),a.Vb(131,"div",53),a.Vb(132,"input",68),a.cc("change",function(e){return t.safetyofficerUpload(e)}),a.Ub(),a.Vb(133,"span",69),a.Dc(134," \xa0 Click here to Add Files"),a.Ub(),a.Ub(),a.Bc(135,Jo,2,1,"div",17),a.Bc(136,en,4,0,"div",56),a.Bc(137,tn,7,2,"div",57),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Vb(138,"div",3),a.Vb(139,"div",4),a.Vb(140,"div",43),a.Vb(141,"div",70),a.Vb(142,"h6",71),a.Dc(143,"5. TRIR Information "),a.Ub(),a.Ub(),a.Vb(144,"label",72),a.Dc(145,"List your company\u2019s Total Recordable Incident Rate (TRIR) for the past 3 years."),a.Bc(146,on,2,0,"span",26),a.Ub(),a.Vb(147,"div",6),a.Vb(148,"div",45),a.Vb(149,"label",73),a.Dc(150,"Last year: "),a.Bc(151,nn,2,0,"span",26),a.Ub(),a.Ub(),a.Vb(152,"div",45),a.Vb(153,"div"),a.Qb(154,"input",74),a.Ub(),a.Bc(155,sn,2,1,"div",17),a.Ub(),a.Ub(),a.Vb(156,"div",6),a.Vb(157,"div",45),a.Vb(158,"label",75),a.Dc(159,"Two years ago: "),a.Bc(160,an,2,0,"span",26),a.Ub(),a.Ub(),a.Vb(161,"div",45),a.Vb(162,"div"),a.Qb(163,"input",76),a.Ub(),a.Bc(164,ln,2,1,"div",17),a.Ub(),a.Ub(),a.Vb(165,"div",6),a.Vb(166,"div",45),a.Vb(167,"label",77),a.Dc(168,"Three years ago: "),a.Bc(169,dn,2,0,"span",26),a.Ub(),a.Ub(),a.Vb(170,"div",45),a.Vb(171,"div"),a.Qb(172,"input",78),a.Ub(),a.Bc(173,pn,2,1,"div",17),a.Ub(),a.Ub(),a.Qb(174,"div",79),a.Qb(175,"div",80),a.Ub(),a.Ub(),a.Vb(176,"div",4),a.Vb(177,"div",43),a.Vb(178,"div",70),a.Vb(179,"h6",71),a.Dc(180,"6. OSHA Records "),a.Ub(),a.Vb(181,"div",81),a.Vb(182,"div",82),a.Vb(183,"label"),a.Dc(184,"I don\u2019t have more than 10 employees as of today?"),a.Ub(),a.Dc(185," \xa0 \xa0 \xa0 \xa0 "),a.Vb(186,"input",83),a.cc("change",function(){return t.isNumberEmployees(t.safetyinfoForm.value.isnumber_Of_Employees)}),a.Ub(),a.Ub(),a.Ub(),a.Vb(187,"div",81),a.Vb(188,"div",84),a.Vb(189,"label",85),a.Dc(190," How many employees does your company have as of today ? "),a.Bc(191,mn,2,0,"span",26),a.Ub(),a.Vb(192,"input",86),a.cc("ngModelChange",function(){return t.idleReset()}),a.Ub(),a.Bc(193,fn,2,1,"div",17),a.Ub(),a.Ub(),a.Ub(),a.Vb(194,"div",59),a.Vb(195,"label",87),a.Dc(196,"Provide Subcontractors's OSHA No. 300A Summary of Occupational injuries and illnesses of the past three years:"),a.Bc(197,hn,2,0,"span",26),a.Ub(),a.Ub(),a.Vb(198,"div",88),a.Vb(199,"div",53),a.Vb(200,"input",89),a.cc("change",function(e){return t.OSHALastYearUpload(e)}),a.Ub(),a.Vb(201,"span",90),a.Dc(202," \xa0 Click here to Add Files"),a.Ub(),a.Ub(),a.Bc(203,_n,4,0,"div",56),a.Bc(204,vn,2,1,"div",17),a.Bc(205,yn,7,2,"div",57),a.Ub(),a.Vb(206,"div",91),a.Vb(207,"label",92),a.Dc(208,"Has OSHA (federal or state) issued any citation(s) to your company over the past 5 years period? "),a.Bc(209,Vn,2,0,"span",26),a.Ub(),a.Vb(210,"div",60),a.Vb(211,"span",93),a.Vb(212,"input",94),a.cc("ngModelChange",function(){return t.idleReset()}),a.Ub(),a.Vb(213,"label",95),a.Dc(214," YES"),a.Ub(),a.Ub(),a.Vb(215,"span",96),a.Vb(216,"input",97),a.cc("ngModelChange",function(){return t.idleReset()}),a.Ub(),a.Vb(217,"label",98),a.Dc(218," NO"),a.Ub(),a.Ub(),a.Ub(),a.Bc(219,Dn,2,1,"div",17),a.Vb(220,"div",99),a.Vb(221,"small",100),a.Dc(222,"If yes, please denote how many & other details."),a.Ub(),a.Ub(),a.Bc(223,wn,9,8,"div",101),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Vb(224,"div",3),a.Vb(225,"div",4),a.Vb(226,"div",43),a.Vb(227,"div",70),a.Vb(228,"h6",102),a.Dc(229,"7. Experience Modification Rate (EMR) Records "),a.Ub(),a.Ub(),a.Vb(230,"label",103),a.Dc(231,"List your company\u2019s workers compensation / Experience Modification Rate (EMR) and the last 3 years. "),a.Bc(232,jn,2,0,"span",26),a.Ub(),a.Vb(233,"div",81),a.Vb(234,"div",45),a.Vb(235,"label",104),a.Dc(236,"Current year: "),a.Bc(237,xn,2,0,"span",26),a.Ub(),a.Ub(),a.Vb(238,"div",45),a.Vb(239,"div"),a.Qb(240,"input",105),a.Ub(),a.Bc(241,Pn,2,1,"div",17),a.Ub(),a.Ub(),a.Vb(242,"div",81),a.Vb(243,"div",45),a.Vb(244,"label",106),a.Dc(245,"Last year: "),a.Bc(246,An,2,0,"span",26),a.Ub(),a.Ub(),a.Vb(247,"div",45),a.Vb(248,"div"),a.Qb(249,"input",107),a.Ub(),a.Bc(250,En,2,1,"div",17),a.Ub(),a.Ub(),a.Vb(251,"div",81),a.Vb(252,"div",45),a.Vb(253,"label",108),a.Dc(254,"Two years ago: "),a.Bc(255,Mn,2,0,"span",26),a.Ub(),a.Ub(),a.Vb(256,"div",45),a.Vb(257,"div"),a.Qb(258,"input",109),a.Ub(),a.Bc(259,Tn,2,1,"div",17),a.Qb(260,"div",80),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Vb(261,"div",4),a.Vb(262,"div",43),a.Vb(263,"h6",110),a.Dc(264,"8. Attach a copy of the insurance agent's EMR verification letter: "),a.Bc(265,Bn,2,0,"span",26),a.Ub(),a.Vb(266,"div",111),a.Vb(267,"label",112),a.Dc(268,"Add Attachment: "),a.Bc(269,qn,2,0,"span",26),a.Ub(),a.Vb(270,"div",53),a.Vb(271,"input",113),a.cc("change",function(e){return t.emRVerificationUpload(e)}),a.Ub(),a.Vb(272,"span",114),a.Dc(273," \xa0 Click here to Add Files"),a.Ub(),a.Ub(),a.Bc(274,Yn,2,1,"div",17),a.Bc(275,zn,4,0,"div",56),a.Bc(276,$n,7,2,"div",57),a.Ub(),a.Qb(277,"div",115),a.Qb(278,"div",116),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Bc(279,Qn,7,1,"div",117),a.Ub(),a.Bc(280,Gn,5,0,"div",118),a.Bc(281,Wn,3,0,"div",119)),2&e&&(a.mc("formGroup",t.safetyinfoForm),a.Db(1),a.mc("ngClass",a.pc(120,Hn,1==t.showdisabled)),a.Db(15),a.mc("ngClass",a.pc(122,Sn,t.submitted&&t.f.is_Supplier.errors)),a.Db(3),a.mc("ngClass",a.pc(124,Sn,t.submitted&&t.f.is_Supplier.errors)),a.Db(3),a.mc("ngIf",(t.f.is_Supplier.touched||t.submitted)&&t.f.is_Supplier.errors),a.Db(1),a.mc("ngIf","yes"==t.f.is_Supplier.value),a.Db(6),a.mc("ngClass",a.pc(126,Hn,"yes"==t.f.is_Supplier.value)),a.Db(6),a.mc("ngIf",null==t.f.is_Safety_Officer||null==t.f.is_Safety_Officer.errors?null:t.f.is_Safety_Officer.errors.required),a.Db(4),a.mc("ngClass",a.pc(128,Sn,t.submitted&&t.f.is_Safety_Officer.errors)),a.Eb("disabled","yes"==t.f.is_Supplier.value?"":null),a.Db(4),a.mc("ngClass",a.pc(130,Sn,t.submitted&&t.f.is_Safety_Officer.errors)),a.Eb("disabled","yes"==t.f.is_Supplier.value?"":null),a.Db(3),a.mc("ngIf",t.submitted&&t.f.is_Safety_Officer.errors),a.Db(1),a.mc("ngClass",a.pc(132,Hn,"no"==t.f.is_Safety_Officer.value)),a.Db(5),a.mc("ngIf",null==t.f.safety_Officer_Name||null==t.f.safety_Officer_Name.errors?null:t.f.safety_Officer_Name.errors.required),a.Db(2),a.mc("ngClass",a.pc(134,Sn,t.submitted&&t.f.safety_Officer_Name.errors)),a.Eb("disabled","no"==t.safetyinfoForm.value.is_Safety_Officer?"":null),a.Db(1),a.mc("ngIf",(t.submitted||t.f.safety_Officer_Name.touched)&&t.f.safety_Officer_Name.errors),a.Db(1),a.mc("ngClass",a.pc(136,Hn,"no"==t.f.is_Safety_Officer.value)),a.Db(5),a.mc("ngIf",null==t.f.safety_Officer_Phone||null==t.f.safety_Officer_Phone.errors?null:t.f.safety_Officer_Phone.errors.required),a.Db(4),a.mc("ngClass",a.pc(138,Sn,t.submitted&&t.f.safety_Officer_Phone.errors)),a.Eb("disabled","no"==t.safetyinfoForm.value.is_Safety_Officer?"":null),a.Db(1),a.mc("ngIf",(t.submitted||t.f.safety_Officer_Phone.touched)&&t.f.safety_Officer_Phone.errors),a.Db(2),a.mc("ngClass",a.pc(140,Sn,t.submitted&&t.f.safety_Officer_Phone_Ext.errors)),a.Eb("disabled","no"==t.safetyinfoForm.value.is_Safety_Officer?"":null),a.Db(1),a.mc("ngIf",(t.submitted||t.f.safety_Officer_Phone_Ext.touched)&&t.f.safety_Officer_Phone_Ext.errors),a.Db(1),a.mc("ngClass",a.pc(142,Hn,"no"==t.f.is_Safety_Officer.value)),a.Db(5),a.mc("ngIf",null==t.f.safety_Officer_Email||null==t.f.safety_Officer_Email.errors?null:t.f.safety_Officer_Email.errors.required),a.Db(2),a.mc("ngClass",a.pc(144,Sn,t.submitted&&t.f.safety_Officer_Email.errors)),a.Eb("disabled","no"==t.safetyinfoForm.value.is_Safety_Officer?"":null),a.Db(1),a.mc("ngIf",(t.submitted||t.f.safety_Officer_Email.touched)&&t.f.safety_Officer_Email.errors),a.Db(3),a.mc("ngClass",a.pc(146,Hn,"yes"==t.f.is_Supplier.value)),a.Db(5),a.mc("ngIf","no"==(null==t.safetyinfoForm||null==t.safetyinfoForm.value?null:t.safetyinfoForm.value.is_Supplier)),a.Db(4),a.mc("ngClass",a.pc(148,Sn,t.submitted&&t.f.is_Safety_Program.errors)),a.Eb("disabled","yes"==t.f.is_Supplier.value?"":null),a.Db(4),a.mc("ngClass",a.pc(150,Sn,t.submitted&&t.f.is_Safety_Program.errors)),a.Eb("disabled","yes"==t.f.is_Supplier.value?"":null),a.Db(3),a.mc("ngIf",t.submitted&&t.f.is_Safety_Program.errors),a.Db(1),a.mc("ngClass",a.pc(152,Hn,"no"==t.f.is_Safety_Program.value)),a.Db(4),a.mc("ngClass",a.pc(154,Sn,t.submitted&&t.f.safety_Program_Upload.errors)),a.Eb("disabled",1==t.showdisabled||("no"==t.f.is_Safety_Program.value?"":null)),a.Db(1),a.mc("ngClass",a.pc(156,Hn,"yes"==t.f.is_Supplier.value||"no"==t.f.is_Safety_Program.value)),a.Db(2),a.mc("ngIf",t.submitted&&t.f.safety_Program_Upload.errors),a.Db(1),a.mc("ngIf",null==t.spinner?null:t.spinner.safetySpinner),a.Db(1),a.mc("ngForOf",t.safetyProgramAttachments),a.Db(2),a.mc("ngClass",a.pc(158,Hn,"yes"==t.f.is_Supplier.value)),a.Db(7),a.mc("ngIf","no"==(null==t.safetyinfoForm||null==t.safetyinfoForm.value?null:t.safetyinfoForm.value.is_Supplier)),a.Db(4),a.mc("ngClass",a.pc(160,Sn,t.submitted&&t.f.is_Drug_Testing_Policy.errors)),a.Eb("disabled","yes"==t.f.is_Supplier.value?"":null),a.Db(4),a.mc("ngClass",a.pc(162,Sn,t.submitted&&t.f.is_Drug_Testing_Policy.errors)),a.Eb("disabled","yes"==t.f.is_Supplier.value?"":null),a.Db(3),a.mc("ngIf",t.submitted&&t.f.is_Drug_Testing_Policy.errors),a.Db(1),a.mc("ngClass",a.pc(164,Hn,"no"==t.f.is_Drug_Testing_Policy.value)),a.Db(4),a.mc("ngClass",a.pc(166,Sn,t.submitted&&t.f.drug_Testing_Upload.errors)),a.Eb("disabled",1==t.showdisabled||("yes"==t.f.is_Drug_Testing_Policy.value?"":null)),a.Db(1),a.mc("ngClass",a.pc(168,Hn,"yes"==t.f.is_Supplier.value||"no"==t.f.is_Drug_Testing_Policy.value)),a.Db(2),a.mc("ngIf",t.submitted&&t.f.drug_Testing_Upload.errors),a.Db(1),a.mc("ngIf",null==t.spinner?null:t.spinner.drugtestingSpinner),a.Db(1),a.mc("ngForOf",t.drugTesting),a.Db(3),a.mc("ngClass",a.pc(170,Hn,"yes"==t.f.is_Supplier.value)),a.Db(6),a.mc("ngIf","no"==(null==t.safetyinfoForm||null==t.safetyinfoForm.value?null:t.safetyinfoForm.value.is_Supplier)),a.Db(5),a.mc("ngIf","no"==(null==t.safetyinfoForm||null==t.safetyinfoForm.value?null:t.safetyinfoForm.value.is_Supplier)||(null==t.f.triR_Info_LastYear||null==t.f.triR_Info_LastYear.errors?null:t.f.triR_Info_LastYear.errors.required)),a.Db(3),a.mc("ngClass",a.pc(172,Sn,t.submitted&&t.f.triR_Info_LastYear.errors)),a.Eb("disabled","yes"==t.f.is_Supplier.value?"":null),a.Db(1),a.mc("ngIf",t.submitted&&t.f.triR_Info_LastYear.errors),a.Db(5),a.mc("ngIf","no"==(null==t.safetyinfoForm||null==t.safetyinfoForm.value?null:t.safetyinfoForm.value.is_Supplier)||(null==t.f.triR_Info_TwoYears||null==t.f.triR_Info_TwoYears.errors?null:t.f.triR_Info_TwoYears.errors.required)),a.Db(3),a.mc("ngClass",a.pc(174,Sn,t.submitted&&t.f.triR_Info_TwoYears.errors)),a.Eb("disabled","yes"==t.f.is_Supplier.value?"":null),a.Db(1),a.mc("ngIf",t.submitted&&t.f.triR_Info_TwoYears.errors),a.Db(5),a.mc("ngIf","no"==(null==t.safetyinfoForm||null==t.safetyinfoForm.value?null:t.safetyinfoForm.value.is_Supplier)||(null==t.f.triR_Info_ThreeYears||null==t.f.triR_Info_ThreeYears.errors?null:t.f.triR_Info_ThreeYears.errors.required)),a.Db(3),a.mc("ngClass",a.pc(176,Sn,t.submitted&&t.f.triR_Info_ThreeYears.errors)),a.Eb("disabled","yes"==t.f.is_Supplier.value?"":null),a.Db(1),a.mc("ngIf",t.submitted&&t.f.triR_Info_ThreeYears.errors),a.Db(4),a.mc("ngClass",a.pc(178,Hn,"yes"==t.f.is_Supplier.value)),a.Db(9),a.Eb("disabled","yes"==t.f.is_Supplier.value?"":null),a.Db(5),a.mc("ngIf","no"==(null==t.safetyinfoForm||null==t.safetyinfoForm.value?null:t.safetyinfoForm.value.is_Supplier)),a.Db(1),a.mc("ngClass",a.pc(180,Sn,t.submitted&&t.f.number_Of_Employees.errors)),a.Eb("disabled","yes"==t.f.is_Supplier.value?"":null),a.Db(1),a.mc("ngIf",(t.submitted||t.f.number_Of_Employees.touched)&&t.f.number_Of_Employees.errors),a.Db(4),a.mc("ngIf","no"==(null==t.safetyinfoForm||null==t.safetyinfoForm.value?null:t.safetyinfoForm.value.is_Supplier)),a.Db(3),a.mc("ngClass",a.pc(182,Sn,t.submitted&&t.f.oshA_Log_LastYear.errors)),a.Eb("disabled",!0!==t.showdisabled&&("yes"==t.f.is_Supplier.value||1==t.f.isnumber_Of_Employees.value?"":null)),a.Db(1),a.mc("ngClass",a.pc(184,Hn,"yes"==t.f.is_Supplier.value||1==t.f.isnumber_Of_Employees.value)),a.Db(2),a.mc("ngIf",null==t.spinner?null:t.spinner.oshaLastSpinner),a.Db(1),a.mc("ngIf",t.submitted&&t.f.oshA_Log_LastYear.errors),a.Db(1),a.mc("ngForOf",t.oshALogLastYear),a.Db(4),a.mc("ngIf","no"==(null==t.safetyinfoForm||null==t.safetyinfoForm.value?null:t.safetyinfoForm.value.is_Supplier)),a.Db(3),a.mc("ngClass",a.pc(186,Sn,t.submitted&&t.f.is_OSHA.errors)),a.Eb("disabled","yes"==t.f.is_Supplier.value?"":null),a.Db(4),a.mc("ngClass",a.pc(188,Sn,t.submitted&&t.f.is_OSHA.errors)),a.Eb("disabled","yes"==t.f.is_Supplier.value?"":null),a.Db(3),a.mc("ngIf",t.submitted&&t.f.is_OSHA.errors),a.Db(2),a.mc("ngClass",a.pc(190,Hn,t.showdisabled||"yes"==t.f.is_Supplier.value)),a.Db(2),a.mc("ngIf","yes"==t.f.is_OSHA.value),a.Db(3),a.mc("ngClass",a.pc(192,Hn,"yes"==t.f.is_Supplier.value)),a.Db(6),a.mc("ngIf","no"==(null==t.safetyinfoForm||null==t.safetyinfoForm.value?null:t.safetyinfoForm.value.is_Supplier)),a.Db(5),a.mc("ngIf","no"==(null==t.safetyinfoForm||null==t.safetyinfoForm.value?null:t.safetyinfoForm.value.is_Supplier)||(null==t.f.emR_LastYear_Upload||null==t.f.emR_LastYear_Upload.errors?null:t.f.emR_LastYear_Upload.errors.required)),a.Db(3),a.mc("ngClass",a.pc(194,Sn,t.submitted&&t.f.emR_LastYear_Upload.errors)),a.Eb("disabled","yes"==t.f.is_Supplier.value?"":null),a.Db(1),a.mc("ngIf",t.submitted&&t.f.emR_LastYear_Upload.errors),a.Db(5),a.mc("ngIf","no"==(null==t.safetyinfoForm||null==t.safetyinfoForm.value?null:t.safetyinfoForm.value.is_Supplier)||(null==t.f.emR_TwoYears_Upload||null==t.f.emR_TwoYears_Upload.errors?null:t.f.emR_TwoYears_Upload.errors.required)),a.Db(3),a.mc("ngClass",a.pc(196,Sn,t.submitted&&t.f.emR_TwoYears_Upload.errors)),a.Eb("disabled","yes"==t.f.is_Supplier.value?"":null),a.Db(1),a.mc("ngIf",t.submitted&&t.f.emR_TwoYears_Upload.errors),a.Db(5),a.mc("ngIf","no"==(null==t.safetyinfoForm||null==t.safetyinfoForm.value?null:t.safetyinfoForm.value.is_Supplier)||(null==t.f.emR_ThreeYears_Upload||null==t.f.emR_ThreeYears_Upload.errors?null:t.f.emR_ThreeYears_Upload.errors.required)),a.Db(3),a.mc("ngClass",a.pc(198,Sn,t.submitted&&t.f.emR_ThreeYears_Upload.errors)),a.Eb("disabled",!0===t.showdisabled||"yes"==t.f.is_Supplier.value?"":null),a.Db(1),a.mc("ngIf",t.submitted&&t.f.emR_ThreeYears_Upload.errors),a.Db(3),a.mc("ngClass",a.pc(200,Hn,"yes"==t.f.is_Supplier.value)),a.Db(3),a.mc("ngIf","no"==(null==t.safetyinfoForm||null==t.safetyinfoForm.value?null:t.safetyinfoForm.value.is_Supplier)),a.Db(4),a.mc("ngIf",null==t.f.emR_Verification_Upload||null==t.f.emR_Verification_Upload.errors?null:t.f.emR_Verification_Upload.errors.required),a.Db(2),a.mc("ngClass",a.pc(202,Sn,t.submitted&&t.f.emR_Verification_Upload.errors)),a.Eb("disabled",1==t.showdisabled||"yes"==t.f.is_Supplier.value?"":null),a.Db(1),a.mc("ngClass",a.pc(204,Hn,"yes"==t.f.is_Supplier.value)),a.Db(2),a.mc("ngIf",t.submitted&&t.f.emR_Verification_Upload.errors),a.Db(1),a.mc("ngIf",null==t.spinner?null:t.spinner.emrverification),a.Db(1),a.mc("ngForOf",t.emRVerification),a.Db(3),a.mc("ngIf",!(t.showAdmin||t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status)),a.Db(1),a.mc("ngIf",!t.showAdmin&&t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status||t.showAdmin&&"SafetyUser"!=t.userRole),a.Db(1),a.mc("ngIf","SafetyUser"==t.userRole))},directives:[n.v,n.k,n.g,o.j,n.q,n.b,n.j,n.f,o.l,n.p,y,n.o,o.k,n.a,k.a],styles:[".form-group[_ngcontent-%COMP%]{margin:15px 0}input[type=text][_ngcontent-%COMP%]:disabled{background:#ddd}.border[_ngcontent-%COMP%]{border:4px solid hsla(0,0%,86.7%,.6196078431372549)!important}.col-curve-top[_ngcontent-%COMP%]{border-top-left-radius:18px 19px!important;border-top-right-radius:18px 19px!important;border-bottom-left-radius:10px 10px!important;border-bottom-right-radius:10px 10px!important;border-top:6px solid #c3bdbd!important}.col-curve[_ngcontent-%COMP%]{border-radius:10px 10px!important}.form-group[_ngcontent-%COMP%]{margin:0!important}.bg-grey[_ngcontent-%COMP%]{color:#c7bfbf!important}h6[_ngcontent-%COMP%]{font-size:13px!important}.fupupload[_ngcontent-%COMP%]{width:75%;display:inline-block;margin-left:5px}.px-auto[_ngcontent-%COMP%]{margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0}"]}),e})();function Kn(e,t){1&e&&(a.Vb(0,"div",36),a.Vb(1,"div",37),a.Vb(2,"h6",38),a.Dc(3,'PLEASE READ CAREFULLY AND REVIEW NEXT STEPS BEFORE CHECKING ON "SUBMIT"'),a.Ub(),a.Vb(4,"div",39),a.Vb(5,"ul",40),a.Vb(6,"li"),a.Dc(7,"Once you click on the \u2018SUBMIT\u2019 button, all the sections on the prequalification form will be closed and no edits can be made."),a.Ub(),a.Vb(8,"li"),a.Dc(9,"Messer will review your information, which can take up to 5-7 business days after you have submitted your information."),a.Ub(),a.Vb(10,"li"),a.Dc(11,"Any missing documents or information from your side will delay in review of your prequalification info."),a.Ub(),a.Vb(12,"li"),a.Dc(13,"Messer will contact your prequalification contact any additional questions or clarifications related to your prequalification info. "),a.Ub(),a.Vb(14,"li"),a.Dc(15,"Messer will reopen your prequalification form only if additional info is required for submission from you. And, yes, this will delay the review of your prequalification form."),a.Ub(),a.Vb(16,"li"),a.Dc(17,"Prequalification form status on your welcome page will give your progress updates as Messer reviews your information."),a.Ub(),a.Vb(18,"li"),a.Dc(19,"You'll also receive email notifications as we review the prequalification information. Please check your spam folder, we don't control your email receipt setting."),a.Ub(),a.Vb(20,"li"),a.Dc(21,"Thanks for your patience and wanting to be a Messer Business partner"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub())}function Xn(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",60),a.Vb(1,"button",61),a.cc("click",function(){return a.uc(e),a.gc(2).riskAddInfoSave("save")}),a.Dc(2,"SAVE"),a.Ub(),a.Vb(3,"button",62),a.cc("click",function(){a.uc(e);const t=a.gc(2);return t.approvedclicked=!0,t.approvealert()})("click",function(){return a.uc(e),a.gc(2).riskAddInfoSave("reject")}),a.Dc(4,"POST TO SUBCONTRACTOR"),a.Ub(),a.Ub()}if(2&e){const e=a.gc(2);a.Db(1),a.Eb("disabled","no"!=e.submitForm.value.additional_Info&&null),a.Db(2),a.Eb("disabled","no"!=e.submitForm.value.additional_Info&&null)}}function Jn(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",60),a.Vb(1,"button",63),a.cc("click",function(){return a.uc(e),a.gc(2).gotoHome()}),a.Dc(2," << BACK"),a.Ub(),a.Vb(3,"button",64),a.cc("click",function(){return a.uc(e),a.gc(2).beginRiskReview()}),a.Dc(4,"BEGIN RISK REVIEW"),a.Ub(),a.Ub()}if(2&e){const e=a.gc(2);a.Db(3),a.Eb("disabled","yes"==e.submitForm.value.additional_Info?"":null)}}function er(e,t){if(1&e){const e=a.Wb();a.Vb(0,"form",22),a.cc("keydown.enter",function(e){return e.preventDefault()}),a.Vb(1,"div",36),a.Vb(2,"div",36),a.Vb(3,"h2",41),a.Dc(4,"RISK DOCUMENT QUALITY CHECKLIST"),a.Ub(),a.Vb(5,"div",42),a.Vb(6,"ul",43),a.Vb(7,"li"),a.Dc(8,"Please open all document submitted by the subcontractor are the correct documents required for prequalification review."),a.Ub(),a.Vb(9,"li"),a.Dc(10,"In the Risk notes to subcontractor section, clearly communicate any additional requirements or documents you will need to proceed with the qualification."),a.Ub(),a.Vb(11,"li"),a.Dc(12,"Info typed in the 'Risk notes to subcontractor section' will be visible to subcontactor."),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Vb(13,"div",44),a.Vb(14,"div",45),a.Vb(15,"div",46),a.Vb(16,"span",47),a.Vb(17,"input",48),a.cc("ngModelChange",function(){return a.uc(e),a.gc().idleReset()})("click",function(){return a.uc(e),a.gc().additionalInfoClick("yes")}),a.Ub(),a.Vb(18,"span",49),a.Dc(19," Need Additional info from the subcontractor. "),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Vb(20,"div",50),a.Vb(21,"div",51),a.Vb(22,"label",52),a.Dc(23," Risk Notes to Subcontactor"),a.Vb(24,"span",53),a.Dc(25,"(Subcontactor visible)"),a.Ub(),a.Ub(),a.Ub(),a.Vb(26,"div",54),a.Qb(27,"textarea",55),a.Ub(),a.Ub(),a.Vb(28,"div",36),a.Bc(29,Xn,5,2,"div",56),a.Ub(),a.Vb(30,"div",50),a.Vb(31,"div",57),a.Vb(32,"div",46),a.Vb(33,"span",47),a.Vb(34,"input",58),a.cc("ngModelChange",function(){return a.uc(e),a.gc().idleReset()})("click",function(){return a.uc(e),a.gc().additionalInfoClick("no")}),a.Ub(),a.Vb(35,"span",59),a.Dc(36," Subcontractor has submitted all required all documents, I'm ready for my review. "),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Vb(37,"div",44),a.Bc(38,Jn,5,1,"div",56),a.Ub(),a.Ub(),a.Ub()}if(2&e){const e=a.gc();a.mc("formGroup",e.submitForm),a.Db(27),a.Eb("disabled","no"!=e.submitForm.value.additional_Info&&null),a.Db(2),a.mc("ngIf","Admin"==e.userRole||!e.showrisk1status&&"RiskUser"==e.userRole||!e.showrisk2status&&"RiskUser2"==e.userRole),a.Db(9),a.mc("ngIf","Admin"==e.userRole||!e.showrisk1status&&"RiskUser"==e.userRole||!e.showrisk2status&&"RiskUser2"==e.userRole)}}const tr=function(e){return{"text-red":e}};function ir(e,t){if(1&e&&(a.Vb(0,"p",77),a.Vb(1,"span",78),a.Dc(2,"Application Status: "),a.Vb(3,"span",79),a.Dc(4),a.Ub(),a.Ub(),a.Ub()),2&e){const e=a.gc(2).$implicit;a.Db(3),a.mc("ngClass",a.pc(2,tr,"Additional Info Needed from Subcontractor"==e.risk_Reviewer_2_Status)),a.Db(1),a.Ec(e.risk_Reviewer_2_Status)}}function or(e,t){1&e&&(a.Vb(0,"p"),a.Vb(1,"span",78),a.Dc(2,"Send Back Reason:"),a.Ub(),a.Ub())}function nr(e,t){if(1&e&&(a.Vb(0,"small",80),a.Vb(1,"span",81),a.Dc(2),a.Ub(),a.Ub()),2&e){const e=a.gc(2).$implicit;a.Db(2),a.Ec(e.risk_Reviewer_2_Reason)}}function rr(e,t){if(1&e&&(a.Vb(0,"small",80),a.Vb(1,"span",81),a.Dc(2),a.Ub(),a.Ub()),2&e){const e=a.gc(2).$implicit;a.Db(2),a.Ec(e.risk_Reviewer_2_Approved_Notes)}}function sr(e,t){if(1&e&&(a.Vb(0,"div"),a.Vb(1,"div",36),a.Vb(2,"div",70),a.Bc(3,ir,5,4,"p",71),a.Ub(),a.Vb(4,"div",72),a.Vb(5,"p",73),a.Dc(6,"Date: "),a.Vb(7,"span",74),a.Dc(8),a.hc(9,"date"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Vb(10,"div",36),a.Vb(11,"div",75),a.Bc(12,or,3,0,"p",69),a.Bc(13,nr,3,1,"small",76),a.Bc(14,rr,3,1,"small",76),a.Ub(),a.Ub(),a.Ub()),2&e){const e=a.gc().$implicit;a.Db(3),a.mc("ngIf","Additional Info Needed from Subcontractor"==e.risk_Reviewer_2_Status||"Approved"==e.risk_Reviewer_2_Status),a.Db(5),a.Ec(a.jc(9,5,e.reviewer_2_Approved_Date,"MM/dd/yyyy")),a.Db(4),a.mc("ngIf","Additional Info Needed from Subcontractor"==e.risk_Reviewer_2_Status),a.Db(1),a.mc("ngIf",null!=e.risk_Reviewer_2_Reason&&"undefined"!=e.risk_Reviewer_2_Reason&&"null"!=e.risk_Reviewer_2_Reason&&"Additional Info Needed from Subcontractor"==e.risk_Reviewer_2_Status),a.Db(1),a.mc("ngIf",null!=e.risk_Reviewer_2_Approved_Notes&&"null"!=e.risk_Reviewer_2_Approved_Notes&&"undefined"!=e.risk_Reviewer_2_Reason&&"Approved"==e.risk_Reviewer_2_Status)}}function ar(e,t){if(1&e&&(a.Vb(0,"div",68),a.Bc(1,sr,15,8,"div",69),a.Ub()),2&e){const e=t.$implicit;a.Db(1),a.mc("ngIf",null!=e.risk_Reviewer_2_Status)}}function cr(e,t){if(1&e&&(a.Vb(0,"div",65),a.Vb(1,"h6",66),a.Dc(2,"Risk User 2 - Review"),a.Ub(),a.Bc(3,ar,2,1,"div",67),a.Ub()),2&e){const e=a.gc();a.Db(3),a.mc("ngForOf",e.getrisk2records)}}function lr(e,t){if(1&e){const e=a.Wb();a.Vb(0,"button",84),a.cc("click",function(){return a.uc(e),a.gc(2).submit()}),a.Dc(1,"SUBMIT"),a.Ub()}}function dr(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",82),a.Vb(1,"button",63),a.cc("click",function(){return a.uc(e),a.gc().gotoHome()}),a.Dc(2," << BACK"),a.Ub(),a.Bc(3,lr,2,0,"button",83),a.Ub()}if(2&e){const e=a.gc();a.Db(3),a.mc("ngIf",!e.prequalification_status||"To complete prequalification"==e.prequalification_status||"Additional Info Needed from Subcontractor"==e.prequalification_status)}}function ur(e,t){1&e&&(a.Vb(0,"div",85),a.Vb(1,"div"),a.Dc(2,"Reason is required"),a.Ub(),a.Ub())}function pr(e,t){1&e&&(a.Vb(0,"div",85),a.Vb(1,"div"),a.Dc(2,"Reason is required"),a.Ub(),a.Ub())}function mr(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Reason is required"),a.Ub())}function br(e,t){if(1&e&&(a.Vb(0,"div",85),a.Bc(1,mr,2,0,"div",69),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.approve_reason.errors.required)}}function fr(e,t){if(1&e&&(a.Vb(0,"li"),a.Dc(1),a.Ub()),2&e){const e=t.$implicit;a.Db(1),a.Fc(" ",e," ")}}const hr=function(e){return{"is-invalid":e}};let _r=(()=>{class e{constructor(e,t,i,o,r,s,a,c,l,d){this.formBuilder=e,this.router=t,this.financialservice=i,this.bnIdle=o,this.keepalive=r,this.toastr=s,this.companyservice=a,this.loginInfo=c,this.sanitizer=l,this.ngxUiLoader=d,this.currentForm=7,this.tempcompanyid=0,this.submitText="SAVE",this.showAdmin=!1,this.companyId=0,this.requiredField=[],this.submitForm=this.formBuilder.group({id:[0],companyId:[0],reject_Reason:["",[n.u.required]],additional_Info:"no",approve_reason:[""]}),this.getriskrecords=[],this.getrisk2records=[],this.resetTimer=0,this.submitted=!1,this.isCompleted=!1,this.rejecionrequired=!1,this.approvedclicked=!1,this.approvesubmitted=!1}ngOnInit(){this.ngxUiLoader.startLoader("loader-01"),localStorage.setItem("currPage","submittomesser"),this.prequalification_status=this.loginInfo.organization_status;let e=localStorage.getItem("userDetails");e=JSON.parse(atob(e)),this.userDetails=e,this.userRole=e.role,console.log(this.userRole),this.tempcompanyid=localStorage.getItem("tempcompanyid"),this.tempcompanyid=Number(atob(this.tempcompanyid)),this.submitText="SAVE",this.tempcompanyid>0&&"Subcontractor"!=this.userRole&&(this.showAdmin=!0,this.companyId=this.tempcompanyid,console.log(this.companyId),this.getRecords(),this.submitForm.controls.reject_Reason.enable(),this.submitForm.controls.reject_Reason.updateValueAndValidity()),null!=this.userDetails.vendorId&&null!=this.userDetails.taxId&&"Subcontractor"==this.userRole&&this.financialservice.getUser(this.userDetails.vendorId,this.userDetails.taxId).subscribe(e=>{this.companyId=e.id,this.getRecords(),this.companyservice.getRecord(this.companyId).subscribe(e=>{this.updateCompanyinfo(e),this.prequalification_status=e[0].preQualification_Status})}),this.ngxUiLoader.stopLoader("loader-01")}ngAfterViewInit(){this.keepalive.interval(30),this.keepalive.stop()}ngOnDestroy(){this.keepalive.stop()}getRecords(){console.log(this.userDetails),this.companyservice.getRecord(this.companyId).subscribe(e=>{this.updateCompanyinfo(e),this.financialservice.getRiskRecords(this.companyId).subscribe(e=>{var t,i;console.log(e),this.getriskrecords=[],this.getrisk2records=[],null==e||e.data.filter(e=>{e.risk_Reviewer_1_Status&&this.getriskrecords.push(e),e.risk_Reviewer_2_Status&&this.getrisk2records.push(e)}),this.showrisk1status=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.some(this.checkRisk1approved),this.showrisk2status=null===(i=null==e?void 0:e.data)||void 0===i?void 0:i.some(this.checkRisk2approved),console.log(this.getrisk2records,this.showrisk2status,this.getriskrecords,this.showrisk1status,this.showrisk2status)})})}checkRisk2approved(e){return"Approved"==e.risk_Reviewer_2_Status}checkRisk1approved(e){return"Approved"==e.risk_Reviewer_1_Status}updateCompanyinfo(e){this.submitForm.patchValue({id:this.companyId}),e.length>0&&(this.reject_Reason=e[0].reject_Reason,this.prequalification_status=e[0].preQualification_Status,this.risk_Reviewer_1_Reason=e[0].risk_Reviewer_1_Reason,this.risk_Reviewer_2_Reason=e[0].risk_Reviewer_2_Reason),"Subcontractor"!=this.userRole&&this.submitForm.patchValue(null!=this.reject_Reason&&"null"!=this.reject_Reason&&"undefined"!=this.reject_Reason?{reject_Reason:this.reject_Reason,additional_Info:"yes"}:{reject_Reason:"",additional_Info:"no"})}idleReset(){this.keepalive.stop(),this.keepalive.start(),this.resetTimer=0}submit(){this.submitted=!0,this.keepalive.stop(),this.companyId&&this.financialservice.getComplete(this.companyId).subscribe(e=>{var t;if((null==e?void 0:e.length)&&"true"==(null===(t=e[0])||void 0===t?void 0:t.standing))document.getElementById("beforesubmitmodal").click();else{let e=[];this.companyservice.getFormStatus(this.companyId).subscribe(t=>{var i,o,n,r,s,a,c;(null==t?void 0:t.length)&&(this.ngxUiLoader.stop(),document.getElementById("formsubmitmodal").click(),"Completed"!=(null===(i=t[0])||void 0===i?void 0:i.organizationStatus)&&e.push("Organization"),"Completed"!=(null===(o=t[0])||void 0===o?void 0:o.personnel)&&e.push("Personnel & Management Approach"),"Completed"!=(null===(n=t[0])||void 0===n?void 0:n.reference)&&e.push("References"),"Completed"!=(null===(r=t[0])||void 0===r?void 0:r.safety)&&e.push("Safety Info"),"Completed"!=(null===(s=t[0])||void 0===s?void 0:s.surity)&&e.push("Surety Info"),"Completed"!=(null===(a=t[0])||void 0===a?void 0:a.finance)&&e.push("Financial Info"),"Completed"!=(null===(c=t[0])||void 0===c?void 0:c.signature)&&e.push("Signature"),this.requiredField=e)})}})}riskAddInfoSave(e){let t=new FormData;t.append("PreQualification_Status","Additional Info Needed from Subcontractor"),t.append("Approved_Date",(new Date).toLocaleString()),t.append("User_Type",this.userRole),t.append("Reject_Reason",this.submitForm.value.reject_Reason),this.financialservice.updateOrgRecord(t,this.submitForm.value.id).subscribe(e=>{this.router.navigate(["/home"])})}beginRiskReview(){let e=new FormData;e.append("PreQualification_Status","Under Risk Review"),e.append("Approved_Date",(new Date).toLocaleString()),e.append("User_Type",this.userRole),e.append("Reject_Reason",""),this.financialservice.updateOrgRecord(e,this.submitForm.value.id).subscribe(e=>{this.router.navigate(["/home"])})}additionalInfoClick(e){"no"===e?(this.submitForm.controls.reject_Reason.setValue(""),this.submitForm.controls.reject_Reason.clearValidators()):this.submitForm.controls.reject_Reason.setValidators([n.u.required]),this.submitForm.updateValueAndValidity()}getComplete(){this.financialservice.getComplete(this.companyId).subscribe(e=>{if(e.length>0&&"To complete prequalification"==e[0].preQualification_Status){this.isCompleted=!0;let e=new FormData;e.append("PreQualification_Status","Under initial Risk review"),e.append("Approved_Date",(new Date).toLocaleString()),e.append("User_Type",this.userRole),this.financialservice.updateOrgRecord(e,this.submitForm.value.id).subscribe(e=>{this.router.navigate(["/home"])})}})}completion(){if(this.submitForm.controls.reject_Reason.clearValidators(),this.submitForm.updateValueAndValidity(),this.approvesubmitted=!0,this.submitForm.valid){let e=new FormData;"Subcontractor"==this.userRole?e.append("PreQualification_Status","Under initial Risk review"):"RiskUser"==this.userRole?e.append("PreQualification_Status","Under final Risk review"):"RiskUser2"==this.userRole&&e.append("PreQualification_Status","Risk review Completed"),e.append("User_Type",this.userRole),e.append("Approved_Notes",this.submitForm.value.approve_reason),this.financialservice.updateOrgRecord(e,this.submitForm.value.id).subscribe(e=>{this.companyId=e.id,this.submitForm.patchValue({reject_Reason:""}),this.approvedclicked=!1,document.getElementById("approveModals").click(),this.getRecords(),this.toastr.success("Submission approved successfully","Submit To Messer")})}}condApprove(){if(0==this.submitForm.value.reject_Reason.length)this.submitted=!0;else{let e=new FormData;e.append("PreQualification_Status","Additional Info Needed from Subcontractor"),e.append("User_Type",this.userRole),e.append("reject_Reason",this.submitForm.value.reject_Reason),this.financialservice.updateOrgRecord(e,this.companyId).subscribe(e=>{this.companyId=e.id,document.getElementById("exampleModals").click(),this.getRecords(),this.toastr.success("Submission conditionally approved successfully","Submit To Messer")})}}get f(){var e;return(null===(e=this.submitForm.value.reject_Reason)||void 0===e?void 0:e.length)>0?this.submitForm.controls.reject_Reason.setValidators([n.u.required]):this.submitForm.controls.reject_Reason.clearValidators(),this.submitForm.controls.reject_Reason.updateValueAndValidity(),1==this.approvedclicked?this.submitForm.controls.approve_reason.setValidators([n.u.required]):this.submitForm.controls.approve_reason.clearValidators(),this.submitForm.controls.approve_reason.updateValueAndValidity(),this.submitForm.controls}gotoHome(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm-1].url}`])}rejectionalert(){this.submitForm.value.reject_Reason.length>0?(this.submitForm.controls.reject_Reason.setValidators(null),this.submitForm.updateValueAndValidity()):(this.submitForm.controls.reject_Reason.setValidators([n.u.required]),this.submitForm.updateValueAndValidity()),this.condApprovetxt()}condApprovetxt(){var e;(null===(e=this.submitForm.value.reject_Reason)||void 0===e?void 0:e.length)>0?(this.submitted=!1,this.rejecionrequired=!1):(this.submitted=!0,this.rejecionrequired=!0),this.submitForm.controls.reject_Reason.enable(),this.submitForm.controls.reject_Reason.updateValueAndValidity()}approvealert(){}}return e.\u0275fac=function(t){return new(t||e)(a.Pb(n.d),a.Pb(r.f),a.Pb(mi),a.Pb(l.a),a.Pb(u.a),a.Pb(f.b),a.Pb(c.a),a.Pb(g),a.Pb(bi.b),a.Pb(v.c))},e.\u0275cmp=a.Jb({type:e,selectors:[["app-submit-to-messer"]],decls:75,vars:22,consts:[["class","row",4,"ngIf"],["class","px-2",3,"formGroup","keydown.enter",4,"ngIf"],["class","mr-4 px-3 mt-4 pb-4",4,"ngIf"],["class","text-end mx-lg-4 my-4",4,"ngIf"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","false",1,"modal","fade"],["exampleModal",""],[1,"modal-dialog","modal-lg","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","text-success"],["type","button","id","closebutton","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"px-2",3,"formGroup","ngSubmit","keydown.enter"],["formControlName","reject_Reason","id","reject_Reason","rows","13","name","reject_Reason",1,"form-control",3,"ngClass","ngModelChange"],["class","invalid-feedback",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","default-btn","modal-cancel"],["type","submit",1,"btn","default-btn",3,"click"],["type","button","id","approveModals","data-bs-toggle","modal","data-bs-target","#approveModal",1,"btn-hide"],["id","approveModal","tabindex","-1","aria-labelledby","approveModalLabel","aria-hidden","false",1,"modal","fade"],["approveModal",""],["id","approveModalLabel",1,"modal-title","text-success"],[1,"px-2",3,"formGroup","keydown.enter"],["formControlName","approve_reason","rows","5","id","approve_reason","name","approve_reason",1,"form-control",3,"ngClass"],["type","button","id","formsubmitmodal","data-bs-toggle","modal","data-bs-target","#formsubmitmodals",1,"btn-hide"],["id","formsubmitmodals","tabindex","-1","aria-labelledby","formsubmitmodals","aria-hidden","false",1,"modal","fade"],["formsubmitmodals",""],[1,"modal-dialog","modal-md","modal-dialog-centered"],["id","formsubmitmodal",1,"modal-title","text-success"],[1,"modal-body","my-3"],[4,"ngFor","ngForOf"],[1,"modal-footer","py-1"],["type","button","id","beforesubmitmodal","data-bs-toggle","modal","data-bs-target","#beforesubmitmodals",1,"btn-hide"],["id","beforesubmitmodals","tabindex","-1","aria-labelledby","beforesubmitmodals","aria-hidden","false",1,"modal","fade"],["beforesubmitmodals",""],["type","button","data-bs-dismiss","modal",1,"btn","default-btn",3,"click"],[1,"row"],[1,"col-11","mx-auto","col-curve-top-submit","mt-2","mb-5","px-0","mx-0","border"],[1,"text-center","my-auto","py-3","submit-head"],[1,"col-curve","fw-bold","px-4","pb-5"],[1,"info","font-italic"],[1,"text-left","ps-5","my-2"],[1,"ps-5","my-2"],[1,"info","font-italic",2,"color","red","list-style-type","none","margin","0","padding","0"],[1,"row","pt-1"],[1,"col-11"],[1,"ps-5"],[1,"col-lg-2"],["type","radio","formControlName","additional_Info","value","yes","checked","checked","name","additional_Info","id","additional_Info_Yes",3,"ngModelChange","click"],["for","additional_Info_Yes",1,"float-right","my-auto","font-italic",2,"color","red"],[1,"row","pt-2"],[1,"col-7","pb-3",2,"padding-left","7%"],["for","risk_Notes",1,"my-auto","font-italic"],[1,"text-danger"],[1,"col-12","pe-5",2,"padding-left","7%"],["type","text","id","reject_Reason","formControlName","reject_Reason","name","reject_Reason",1,"form-control",2,"height","200%","width","100%"],["class","text-end mx-lg-4 my-4 pt-5",4,"ngIf"],[1,"col-12"],["type","radio","formControlName","additional_Info","value","no","checked","checked","name","additional_Info","id","additional_Info_No",3,"ngModelChange","click"],["for","additional_Info_No",1,"float-right","my-auto","font-italic",2,"color","red"],[1,"text-end","mx-lg-4","my-4","pt-5"],["type","button","id","risk_AddInfo_Save","data-bs-toggle","modal",1,"btn","ml-lg-4","default-btn",3,"click"],["type","button","id","approveModals",1,"btn","mx-2","default-btn",2,"width","270px",3,"click"],[1,"btn","float-start","btn","default-btn",3,"click"],["type","button","id","beginRiskReview",1,"btn","mx-2","default-btn",2,"width","270px",3,"click"],[1,"mr-4","px-3","mt-4","pb-4"],[1,"text-center","my-2","text-success"],["class","p-3 record-shadow my-2",4,"ngFor","ngForOf"],[1,"p-3","record-shadow","my-2"],[4,"ngIf"],[1,"col-lg-10","p-1","px-lg-2"],["class","pt-2 text-success",4,"ngIf"],[1,"col-lg-2","py-2","ps-1","px-lg-2"],[1,"fw-bold","text-success","float-end"],[1,"fw-bold"],[1,"col-10","p-1","m-0","px-lg-2"],["class","mb-4",4,"ngIf"],[1,"pt-2","text-success"],[1,"fw-bold","text-success"],[1,"fw-bold",3,"ngClass"],[1,"mb-4"],[1,"text-capitalize","ps-4"],[1,"text-end","mx-lg-4","my-4"],["type","button","class","btn ms-2 default-btn",3,"click",4,"ngIf"],["type","button",1,"btn","ms-2","default-btn",3,"click"],[1,"invalid-feedback"]],template:function(e,t){1&e&&(a.Bc(0,Kn,22,0,"div",0),a.Bc(1,er,39,4,"form",1),a.Bc(2,cr,4,1,"div",2),a.Bc(3,dr,4,1,"div",3),a.Vb(4,"div",4,5),a.Vb(6,"div",6),a.Vb(7,"div",7),a.Vb(8,"div",8),a.Vb(9,"h6",9),a.Dc(10,"Send back reason"),a.Ub(),a.Qb(11,"button",10),a.Ub(),a.Vb(12,"div",11),a.Vb(13,"form",12),a.cc("ngSubmit",function(){return t.submit()})("keydown.enter",function(e){return e.preventDefault()}),a.Vb(14,"textarea",13),a.cc("ngModelChange",function(){return t.condApprovetxt()}),a.Ub(),a.Bc(15,ur,3,0,"div",14),a.Ub(),a.Ub(),a.Vb(16,"div",15),a.Vb(17,"button",16),a.Dc(18,"CANCEL"),a.Ub(),a.Vb(19,"button",17),a.cc("click",function(){return t.condApprove()}),a.Dc(20,"SAVE"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Qb(21,"button",18),a.Vb(22,"div",19,20),a.Vb(24,"div",6),a.Vb(25,"div",7),a.Vb(26,"div",8),a.Vb(27,"h6",21),a.Dc(28," Approved reason"),a.Ub(),a.Qb(29,"button",10),a.Ub(),a.Vb(30,"div",11),a.Vb(31,"form",22),a.cc("keydown.enter",function(e){return e.preventDefault()}),a.Vb(32,"textarea",13),a.cc("ngModelChange",function(){return t.condApprovetxt()}),a.Ub(),a.Bc(33,pr,3,0,"div",14),a.Qb(34,"textarea",23),a.Bc(35,br,2,1,"div",14),a.Ub(),a.Ub(),a.Vb(36,"div",15),a.Vb(37,"button",16),a.Dc(38,"CANCEL"),a.Ub(),a.Vb(39,"button",17),a.cc("click",function(){return t.completion()}),a.Dc(40,"SAVE"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Qb(41,"button",24),a.Vb(42,"div",25,26),a.Vb(44,"div",27),a.Vb(45,"div",7),a.Vb(46,"div",8),a.Vb(47,"h6",28),a.Dc(48,"Application Incomplete"),a.Ub(),a.Qb(49,"button",10),a.Ub(),a.Vb(50,"div",29),a.Vb(51,"small"),a.Dc(52,"Please fill all the required fields in the following forms before submitting the application. "),a.Ub(),a.Vb(53,"ul"),a.Bc(54,fr,2,1,"li",30),a.Ub(),a.Ub(),a.Vb(55,"div",31),a.Vb(56,"button",16),a.Dc(57,"CLOSE"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Qb(58,"button",32),a.Vb(59,"div",33,34),a.Vb(61,"div",27),a.Vb(62,"div",7),a.Vb(63,"div",8),a.Vb(64,"h6",28),a.Dc(65,"Messer"),a.Ub(),a.Qb(66,"button",10),a.Ub(),a.Vb(67,"div",29),a.Vb(68,"small"),a.Dc(69,"Yes I'm ready to submit my prequalification info to Messer for Review."),a.Ub(),a.Ub(),a.Vb(70,"div",31),a.Vb(71,"button",35),a.cc("click",function(){return t.getComplete()}),a.Dc(72,"YES"),a.Ub(),a.Vb(73,"button",16),a.Dc(74,"NO"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub()),2&e&&(a.mc("ngIf","Subcontractor"==t.userRole),a.Db(1),a.mc("ngIf","Admin"==t.userRole||!t.showrisk1status&&"RiskUser"==t.userRole||!t.showrisk2status&&"RiskUser2"==t.userRole),a.Db(1),a.mc("ngIf","Subcontractor"!=t.userRole&&t.showrisk2status&&(null==t.getrisk2records?null:t.getrisk2records.length)>0),a.Db(1),a.mc("ngIf",!(t.showAdmin||t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status)),a.Db(10),a.mc("formGroup",t.submitForm),a.Db(1),a.mc("ngClass",a.pc(16,hr,t.rejecionrequired)),a.Eb("disable",!1),a.Db(1),a.mc("ngIf",t.rejecionrequired),a.Db(16),a.mc("formGroup",t.submitForm),a.Db(1),a.mc("ngClass",a.pc(18,hr,t.rejecionrequired)),a.Eb("disable",!1),a.Db(1),a.mc("ngIf",t.rejecionrequired),a.Db(1),a.mc("ngClass",a.pc(20,hr,t.approvesubmitted&&t.f.approve_reason.errors)),a.Eb("disable",!1),a.Db(1),a.mc("ngIf",t.approvesubmitted&&t.f.approve_reason.errors),a.Db(19),a.mc("ngForOf",t.requiredField))},directives:[o.l,n.v,n.k,n.g,n.b,n.j,n.f,o.j,o.k,n.q],pipes:[o.e],styles:[".col-curve-top-submit[_ngcontent-%COMP%]{border-top-left-radius:28px!important;border-top-right-radius:28px!important;border-top:6px solid rgba(253,222,222,.0196078431372549)!important}.col-curve[_ngcontent-%COMP%]{border-radius:18px 19px!important}.submit-head[_ngcontent-%COMP%]{background:#c3bdbd;color:#ce2929;border-top-left-radius:18px 19px!important;border-top-right-radius:18px 19px!important}.record-shadow[_ngcontent-%COMP%]{border:1px solid #ddd;box-shadow:0 .5rem 1rem rgba(0,0,0,.15)!important}.text-red[_ngcontent-%COMP%]{color:#ce2929!important}h6[_ngcontent-%COMP%]{font-size:13px!important}.info[_ngcontent-%COMP%]{list-style-type:decimal;margin-top:10px}"]}),e})(),gr=(()=>{class e extends mt.a{constructor(e,t){super("Other",e,t,{root:bt.a.webserviceURlLocal})}getAll(){return super.getAll()}getRecords(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("other/"+e,bt.a.webserviceURlLocal);return this.http.get(i,t)}updateRecord(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("other/"+t,bt.a.webserviceURlLocal);return this.http.put(o,e,i)}addRecord(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("other",bt.a.webserviceURlLocal);return this.http.post(i,e,t)}getUser(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("Organization/"+e+"/"+t,bt.a.webserviceURlLocal);return this.http.get(o,i)}getComplete(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("Organization/Getstatus/"+e,bt.a.webserviceURlLocal);return this.http.get(i,t)}deleteRecord(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.delete(bt.a.webserviceURlLocal+"Files/"+e,t)}}return e.\u0275fac=function(t){return new(t||e)(a.Zb(ft.b),a.Zb(mt.c))},e.\u0275prov=a.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function vr(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Current licenses registrations is required"),a.Ub())}function yr(e,t){if(1&e&&(a.Vb(0,"div",42),a.Bc(1,vr,2,0,"div",43),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.is_Any_Limits.errors.required)}}function Vr(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Current licenses registrations information is required"),a.Ub())}function Ur(e,t){if(1&e&&(a.Vb(0,"div",42),a.Bc(1,Vr,2,0,"div",43),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.limits_info.errors.required)}}function Dr(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Suspended or revoked is required"),a.Ub())}function Cr(e,t){if(1&e&&(a.Vb(0,"div",42),a.Bc(1,Dr,2,0,"div",43),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.is_Suspended.errors.required)}}function Ir(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"OSHA information is required"),a.Ub())}function Rr(e,t){if(1&e&&(a.Vb(0,"div",42),a.Bc(1,Ir,2,0,"div",43),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.suspended_info.errors.required)}}function Fr(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Attachment is required"),a.Ub())}function Sr(e,t){if(1&e&&(a.Vb(0,"div",42),a.Bc(1,Fr,2,0,"div",43),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.project_Details_Upload.errors.required)}}function wr(e,t){1&e&&(a.Vb(0,"div",44),a.Vb(1,"span"),a.Dc(2,"Uploading..."),a.Ub(),a.Qb(3,"mat-progress-spinner",45),a.Ub())}function jr(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div"),a.Vb(1,"p",46),a.Vb(2,"small"),a.Vb(3,"a",47),a.Dc(4),a.Ub(),a.Ub(),a.Vb(5,"small",48),a.cc("click",function(){a.uc(e);const i=t.index,o=t.$implicit;return a.gc().removeprojectUpload(i,o)}),a.Dc(6,"X"),a.Ub(),a.Ub(),a.Ub()}if(2&e){const e=t.$implicit;a.Db(3),a.nc("href",e.file_Path,a.wc),a.Db(1),a.Ec(e.name)}}function xr(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",49),a.Vb(1,"button",50),a.cc("click",function(){return a.uc(e),a.gc().gotoHome()}),a.Dc(2,"<< BACK"),a.Ub(),a.Vb(3,"button",51),a.cc("click",function(){return a.uc(e),a.gc().save()}),a.Dc(4),a.Ub(),a.Vb(5,"button",52),a.Dc(6,"NEXT >>"),a.Ub(),a.Ub()}if(2&e){const e=a.gc();a.Db(4),a.Ec(e.submitText)}}function kr(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",53),a.Vb(1,"button",50),a.cc("click",function(){return a.uc(e),a.gc().gotoHome()}),a.Dc(2,"<< BACK"),a.Ub(),a.Vb(3,"button",54),a.cc("click",function(){return a.uc(e),a.gc().nextroutePage()}),a.Dc(4,"NEXT >>"),a.Ub(),a.Ub()}}const Pr=function(e){return{"bg-grey":e}},Ar=function(e){return{"is-invalid":e}};let Or=(()=>{class e{constructor(e,t,i,o,r,s,a,c,l,d){this.formBuilder=e,this.router=t,this.bnIdle=i,this.keepalive=o,this.toastr=r,this.project=s,this.logininfo=a,this.ngxUiLoader=c,this.otherinfoservice=l,this.companyservice=d,this.currentForm=7,this.otherinfoForm=this.formBuilder.group({id:[0],companyId:[null,[n.u.maxLength(130)]],is_Any_Limits:["",[n.u.required]],limits_info:[""],is_Suspended:["",[n.u.required]],suspended_info:[""],project_Details_Upload:["",[n.u.required]],isAutosave:[!1]}),this.submitted=!1,this.prequalification_status="",this.submitText="SAVE",this.showAdmin=!1,this.otherinfoid=0,this.companyId=0,this.setTimeout=0,this.resetTimer=0,this.projectAttachment=[],this.tempprojectAttachment=[],this.spinner={projectSpinner:!1},this.showdisabled=!1}ngOnInit(){this.ngxUiLoader.startLoader("loader-01"),localStorage.setItem("currPage","otherinfo"),this.prequalification_status=this.logininfo.organization_status,this.submitText="SAVE";let e=localStorage.getItem("userDetails");e=JSON.parse(atob(e)),this.userDetails=e,this.userRole=e.role,this.tempcompanyid=localStorage.getItem("tempcompanyid"),this.tempcompanyid=Number(atob(this.tempcompanyid)),this.tempcompanyid>0&&"Subcontractor"!=this.userRole&&(this.showAdmin=!0,this.otherinfoservice.getRecords(this.tempcompanyid).subscribe(e=>{this.showdisabled=!0,this.otherinfoForm.disable(),this.otherinfoForm.updateValueAndValidity(),this.showAdmin=!0,(null==e?void 0:e.length)&&(this.otherinfoid=e[0].id,this.submitText="UPDATE",this.updateOtherinfo(e))})),null!=this.userDetails.vendorId&&null!=this.userDetails.taxId&&"Subcontractor"==this.userRole&&this.otherinfoservice.getUser(this.userDetails.vendorId,this.userDetails.taxId).subscribe(e=>{this.companyId=e.id,localStorage.setItem("companyid",btoa(this.companyId)),this.getRecords()}),this.ngxUiLoader.stopLoader("loader-01")}ngAfterViewInit(){this.keepalive.interval(30),this.keepalive.stop(),0==this.setTimeout&&this.keepalive.stop()}ngOnDestroy(){this.keepalive.stop(),this.nextpage()}idleReset(){this.keepalive.stop(),this.keepalive.start(),this.resetTimer=0}gotoHome(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm-1].url}`])}get f(){var e;return"yes"==this.otherinfoForm.value.is_Any_Limits?(this.otherinfoForm.controls.limits_info.setValidators([n.u.required]),this.otherinfoForm.controls.limits_info.enable()):"no"==this.otherinfoForm.value.is_Any_Limits&&(this.otherinfoForm.controls.limits_info.clearValidators(),this.otherinfoForm.patchValue({limits_info:""}),this.otherinfoForm.controls.limits_info.disable()),"yes"==this.otherinfoForm.value.is_Suspended?(this.otherinfoForm.controls.suspended_info.setValidators([n.u.required]),this.otherinfoForm.controls.suspended_info.enable()):"no"==this.otherinfoForm.value.is_Suspended&&(this.otherinfoForm.controls.suspended_info.clearValidators(),this.otherinfoForm.patchValue({suspended_info:""}),this.otherinfoForm.controls.suspended_info.disable()),this.otherinfoForm.controls.limits_info.updateValueAndValidity(),this.otherinfoForm.controls.suspended_info.updateValueAndValidity(),(null===(e=this.projectAttachment)||void 0===e?void 0:e.length)>0&&(this.otherinfoForm.controls.project_Details_Upload.setValidators(null),this.otherinfoForm.controls.project_Details_Upload.updateValueAndValidity()),this.otherinfoForm.controls}updateOtherinfo(e){this.otherinfoForm.patchValue({id:e[0].id,companyId:e[0].companyId,is_Any_Limits:e[0].is_Any_Limits,limits_info:this.logininfo.validateEmpty(this.logininfo.validateEmpty(e[0].limits_info)),is_Suspended:e[0].is_Suspended,suspended_info:this.logininfo.validateEmpty(this.logininfo.validateEmpty(e[0].suspended_info))}),this.projectAttachment=[],e[0].files.filter(e=>{e.file_Name.length<31&&0==e.isDeleted?this.projectAttachment.push({id:e.id,name:e.file_Name,file_Path:e.file_Path}):0==e.isDeleted&&this.projectAttachment.push({id:e.id,name:e.file_Name.substring(0,31)+"....",file_Path:e.file_Path})})}save(){if(console.log(this.otherinfoForm),this.submitted=!0,this.keepalive.stop(),this.otherinfoForm.valid)if(0==this.otherinfoid){this.otherinfoForm.patchValue({isAutosave:!1});let e=this.formMethod();this.otherinfoservice.addRecord(e).subscribe(e=>{this.getRecords(),this.submitText="UPDATE",this.fileReset(),this.resetSpinner(),this.toastr.success("Other info saved successfully","Other Info")})}else{this.otherinfoForm.patchValue({isAutosave:!1});let e=this.formMethod();this.otherinfoservice.updateRecord(e,this.otherinfoid).subscribe(e=>{this.getRecords(),this.fileReset(),this.resetSpinner(),this.toastr.success("Other info updated successfully","Other Info")})}}submit(){if(console.log(this.otherinfoForm),this.keepalive.stop(),this.ngxUiLoader.startLoader("loader-01"),0==this.otherinfoid){let e=this.formMethod();this.otherinfoservice.addRecord(e).subscribe(e=>{this.getRecords(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])})}else{this.otherinfoForm.patchValue({isAutosave:!1});let e=this.formMethod();this.otherinfoservice.updateRecord(e,this.otherinfoid).subscribe(e=>{this.getRecords(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])})}}autoSave(){if(this.resetTimer+=1,1==this.resetTimer)if(0==this.otherinfoid){let e=this.formMethod();this.otherinfoservice.addRecord(e).subscribe(e=>{this.getRecords()})}else{this.otherinfoForm.patchValue({isAutosave:!1});let e=this.formMethod();this.otherinfoservice.updateRecord(e,this.otherinfoid).subscribe(e=>{this.getRecords()})}}nextpage(){if(0==this.otherinfoid){let e=this.formMethod();this.otherinfoservice.addRecord(e).subscribe(e=>{})}else{this.otherinfoForm.patchValue({isAutosave:!1});let e=this.formMethod();this.otherinfoservice.updateRecord(e,this.otherinfoid).subscribe(e=>{})}}fileupload(){if(this.keepalive.stop(),0==this.otherinfoid){this.otherinfoForm.patchValue({isAutosave:!0});let e=this.formMethod();this.otherinfoservice.addRecord(e).subscribe(e=>{this.keepalive.stop(),this.otherinfoForm.patchValue({qcP_Attachment:"",id:e.id}),this.submitText="UPDATE",this.getRecords(),this.resetSpinner(),this.submitted=!1})}else{this.otherinfoForm.patchValue({id:this.otherinfoid,isAutosave:!0});let e=this.formMethod();this.otherinfoservice.updateRecord(e,this.otherinfoForm.value.id).subscribe(e=>{this.keepalive.stop(),this.getRecords(),this.resetSpinner(),this.otherinfoForm.patchValue({qcP_Attachment:""}),this.submitted=!1})}}autosave(){if(this.resetTimer+=1,1==this.resetTimer)if(0==this.otherinfoid){this.otherinfoForm.patchValue({isAutosave:!1});let e=this.formMethod();this.otherinfoservice.addRecord(e).subscribe(e=>{this.submitText="UPDATE",this.getRecords(),this.fileReset(),this.keepalive.stop(),this.resetSpinner()})}else{this.otherinfoForm.patchValue({isAutosave:!0});let e=this.formMethod();this.otherinfoservice.updateRecord(e,this.otherinfoid).subscribe(e=>{this.getRecords(),this.fileReset(),this.keepalive.stop(),this.resetSpinner(),this.otherinfoForm.patchValue({isAutosave:!1})})}}getRecords(){this.otherinfoservice.getRecords(this.companyId).subscribe(e=>{e.length&&(this.otherinfoid=e[0].id,this.submitText="UPDATE",this.updateOtherinfo(e))}),this.companyId>0&&this.companyservice.getRecord(this.companyId).subscribe(e=>{this.prequalification_status=(e=e[0]).preQualification_Status,e.preQualification_Status&&this.logininfo.formDisable(e.preQualification_Status)&&(this.showdisabled=!0,this.otherinfoForm.disable(),this.otherinfoForm.updateValueAndValidity())})}formMethod(){var e=new FormData;if(e.append("id",this.otherinfoForm.value.id),e.append("companyId",this.companyId),e.append("is_Any_Limits",this.otherinfoForm.value.is_Any_Limits),e.append("proposed_OP_Title",this.otherinfoForm.value.proposed_OP_Title),e.append("limits_info","undefined"!=this.otherinfoForm.value.limits_info?this.otherinfoForm.value.limits_info:""),e.append("is_Suspended",this.otherinfoForm.value.is_Suspended),e.append("suspended_info",this.otherinfoForm.value.suspended_info),this.tempprojectAttachment.length){for(let t=0;t<this.tempprojectAttachment.length;t++)e.append("project_Details_Upload",this.tempprojectAttachment[t]);this.tempprojectAttachment=[]}return e}projectUpload(e){let t=document.getElementById("project_Details_Upload");for(let i=0;i<t.files.length;i++)this.tempprojectAttachment.push(t.files[i]);this.spinner.projectSpinner=!0,this.fileupload()}filepreview(e,t){var i=new FileReader;i.onload=i=>{console.log(i.target);let o=new Blob(e.files,{type:e.files[t].type});var n=(window.URL||window.webkitURL).createObjectURL(o);console.log("path",n,e.value);var r=document.createElement("a"),s=document.createTextNode("View File");r.target="_blank",r.appendChild(s),r.href=n,r.click(),e.appendChild(r)},i.readAsDataURL(e.files[t])}removeprojectUpload(e,t){this.showdisabled||this.otherinfoservice.deleteRecord(t.id).subscribe(t=>{this.projectAttachment.splice(e,1),this.toastr.info("File removed successfully","Other Info")})}resetSpinner(){this.spinner={projectSpinner:!1}}fileReset(){this.otherinfoForm.patchValue({project_Details_Upload:""})}nextroutePage(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])}}return e.\u0275fac=function(t){return new(t||e)(a.Pb(n.d),a.Pb(r.f),a.Pb(l.a),a.Pb(u.a),a.Pb(f.b),a.Pb(_.a),a.Pb(g),a.Pb(v.c),a.Pb(gr),a.Pb(c.a))},e.\u0275cmp=a.Jb({type:e,selectors:[["app-otherinfo"]],decls:68,vars:45,consts:[[1,"px-2",3,"formGroup","ngSubmit","keydown.enter"],[1,"px-1","my-2","form-bg",3,"ngClass"],[1,"form-group","input-group","row","px-2","mx-auto","pb-3"],[1,"col-lg-6","col-curve-top","bg-white","px-2","col-head-1","mx-auto","mt-2"],[1,"row","mx-0","px-0","py-2","mt-2"],[1,"col-12"],["for","is_Any_Limits",1,"my-auto","fw-bold","float-right"],[1,"text-danger"],[1,"row","pt-1"],[1,"col-lg-2"],["type","radio","formControlName","is_Any_Limits","value","yes","checked","checked","name","is_Any_Limits","id","is_Any_Limits_yes",3,"ngClass","ngModelChange"],["for","is_Any_Limits_yes"],[1,"col-lg-10"],["type","radio","formControlName","is_Any_Limits","value","no","name","is_Any_Limits","id","is_Any_Limits_no",3,"ngClass","ngModelChange"],["for","is_Any_Limits_no"],["class","invalid-feedback",4,"ngIf"],[1,"mr-4","mt-4","pt-1"],[1,"note","fw-bold",3,"ngClass"],[1,"col-lg-12","bg-white","mt-2"],["formControlName","limits_info","id","limits_info","name","limits_info",1,"form-control",3,"ngClass","ngModelChange"],[1,"col-lg-6","px-2","col-head-2","col-curve-top","bg-white","mx-auto","mt-2"],["for","is_Suspended",1,"my-auto","fw-bold","float-right"],["type","radio","formControlName","is_Suspended","value","yes","checked","checked","name","is_Suspended","id","is_Suspended_yes",3,"ngClass","ngModelChange"],["for","is_Suspended_yes"],["type","radio","formControlName","is_Suspended","value","no","name","is_Suspended","id","is_Suspended_no",3,"ngClass","ngModelChange"],["for","is_Suspended_no"],[1,"mr-4"],["for","risk_Manager_Email",1,"note","fw-bold",3,"ngClass"],[1,"col-lg-12","bg-white"],["formControlName","suspended_info","id","suspended_info","name","suspended_info",1,"form-control",3,"ngClass","ngModelChange"],[1,"col-lg-6","col-curve","bg-white","px-2","mx-auto","col-head-1"],[1,"col-5"],["for","project_Details_Upload",1,"my-auto","fw-bold","float-right"],[1,"col-7"],[1,"form-control-customitem","form-control"],["type","file","formControlName","project_Details_Upload","title","Choose file","id","project_Details_Upload","name","project_Details_Upload","multiple","",3,"ngClass","change"],["for","project_Details_Upload",3,"ngClass"],["class","spinner__loading pt-3",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"col-lg-6","col-curve","bg-white","px-2","col-head-2","mx-auto"],["class","text-end mx-lg-4 my-3",4,"ngIf"],["class","text-end mx-4 my-3",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner__loading","pt-3"],["diameter","18","mode","indeterminate",1,"mt-1"],[1,"file-tag"],["target","_blank",3,"href"],[1,"file-close","text-white",3,"click"],[1,"text-end","mx-lg-4","my-3"],[1,"btn","float-start","btn","default-btn",3,"click"],["type","button",1,"btn","ml-4","default-btn",3,"click"],["type","submit",1,"btn","btn-success","mx-2","default-btn"],[1,"text-end","mx-4","my-3"],[1,"btn","btn-success","mx-2","default-btn",3,"click"]],template:function(e,t){1&e&&(a.Vb(0,"form",0),a.cc("ngSubmit",function(){return t.submit()})("keydown.enter",function(e){return e.preventDefault()}),a.Vb(1,"div",1),a.Vb(2,"div",2),a.Vb(3,"div",3),a.Vb(4,"div",4),a.Vb(5,"div",5),a.Vb(6,"h6",6),a.Dc(7,"1. Do you have any limits or restrictions to current licenses registrations: "),a.Vb(8,"span",7),a.Dc(9,"*"),a.Ub(),a.Ub(),a.Vb(10,"div",8),a.Vb(11,"span",9),a.Vb(12,"input",10),a.cc("ngModelChange",function(){return t.idleReset()}),a.Ub(),a.Vb(13,"label",11),a.Dc(14," YES"),a.Ub(),a.Ub(),a.Vb(15,"span",12),a.Vb(16,"input",13),a.cc("ngModelChange",function(){return t.idleReset()}),a.Ub(),a.Vb(17,"label",14),a.Dc(18," NO"),a.Ub(),a.Ub(),a.Ub(),a.Bc(19,yr,2,1,"div",15),a.Vb(20,"div",16),a.Vb(21,"small",17),a.Dc(22,"If yes, please explain."),a.Ub(),a.Ub(),a.Vb(23,"div",18),a.Vb(24,"textarea",19),a.cc("ngModelChange",function(){return t.idleReset()}),a.Ub(),a.Bc(25,Ur,2,1,"div",15),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Vb(26,"div",20),a.Vb(27,"div",4),a.Vb(28,"div",5),a.Vb(29,"h6",21),a.Dc(30,"2. In the past three years from the today's date, has your company had any business or professional license suspended or revoked ? "),a.Vb(31,"span",7),a.Dc(32,"*"),a.Ub(),a.Ub(),a.Vb(33,"div",8),a.Vb(34,"span",9),a.Vb(35,"input",22),a.cc("ngModelChange",function(){return t.idleReset()}),a.Ub(),a.Vb(36,"label",23),a.Dc(37," YES"),a.Ub(),a.Ub(),a.Vb(38,"span",12),a.Vb(39,"input",24),a.cc("ngModelChange",function(){return t.idleReset()}),a.Ub(),a.Vb(40,"label",25),a.Dc(41," NO"),a.Ub(),a.Ub(),a.Ub(),a.Bc(42,Cr,2,1,"div",15),a.Vb(43,"div",26),a.Vb(44,"small",27),a.Dc(45,"If yes, describe circumstances including jurisdiction and bases for suspension or revocation: "),a.Ub(),a.Ub(),a.Vb(46,"div",28),a.Vb(47,"textarea",29),a.cc("ngModelChange",function(){return t.idleReset()}),a.Ub(),a.Bc(48,Rr,2,1,"div",15),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Vb(49,"div",2),a.Vb(50,"div",30),a.Vb(51,"div",4),a.Vb(52,"div",31),a.Vb(53,"h6",32),a.Dc(54,"3. Attach any project specific details "),a.Vb(55,"span",7),a.Dc(56,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(57,"div",33),a.Vb(58,"div",34),a.Vb(59,"input",35),a.cc("change",function(e){return t.projectUpload(e)}),a.Ub(),a.Vb(60,"span",36),a.Dc(61," \xa0 Click here to Add Files"),a.Ub(),a.Ub(),a.Bc(62,Sr,2,1,"div",15),a.Bc(63,wr,4,0,"div",37),a.Bc(64,jr,7,2,"div",38),a.Ub(),a.Ub(),a.Ub(),a.Qb(65,"div",39),a.Ub(),a.Ub(),a.Bc(66,xr,7,1,"div",40),a.Ub(),a.Bc(67,kr,5,0,"div",41)),2&e&&(a.mc("formGroup",t.otherinfoForm),a.Db(1),a.mc("ngClass",a.pc(23,Pr,1==t.showdisabled)),a.Db(11),a.mc("ngClass",a.pc(25,Ar,t.submitted&&t.f.is_Any_Limits.errors)),a.Db(4),a.mc("ngClass",a.pc(27,Ar,t.submitted&&t.f.is_Any_Limits.errors)),a.Db(3),a.mc("ngIf",t.submitted&&t.f.is_Any_Limits.errors),a.Db(2),a.mc("ngClass",a.pc(29,Pr,"no"==t.f.is_Any_Limits.value)),a.Db(3),a.mc("ngClass",a.pc(31,Ar,t.submitted&&t.f.limits_info.errors)),a.Eb("disabled","no"==t.f.is_Any_Limits.value?"":null),a.Db(1),a.mc("ngIf",t.submitted&&t.f.limits_info.errors),a.Db(10),a.mc("ngClass",a.pc(33,Ar,t.submitted&&t.f.is_Suspended.errors)),a.Db(4),a.mc("ngClass",a.pc(35,Ar,t.submitted&&t.f.is_Suspended.errors)),a.Db(3),a.mc("ngIf",t.submitted&&t.f.is_Suspended.errors),a.Db(2),a.mc("ngClass",a.pc(37,Pr,"no"==t.f.is_Suspended.value)),a.Db(3),a.mc("ngClass",a.pc(39,Ar,t.submitted&&t.f.suspended_info.errors)),a.Eb("disabled","no"==t.f.is_Suspended.value?"":null),a.Db(1),a.mc("ngIf",t.submitted&&t.f.suspended_info.errors),a.Db(11),a.mc("ngClass",a.pc(41,Ar,t.submitted&&t.f.project_Details_Upload.errors)),a.Db(1),a.mc("ngClass",a.pc(43,Pr,1==t.showdisabled)),a.Db(2),a.mc("ngIf",t.submitted&&t.f.project_Details_Upload.errors),a.Db(1),a.mc("ngIf",null==t.spinner?null:t.spinner.projectSpinner),a.Db(1),a.mc("ngForOf",t.projectAttachment),a.Db(2),a.mc("ngIf",!(t.showAdmin||t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status)),a.Db(1),a.mc("ngIf",!t.showAdmin&&t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status||t.showAdmin))},directives:[n.v,n.k,n.g,o.j,n.q,n.b,n.j,n.f,o.l,o.k,k.a],styles:[".col-curve-top[_ngcontent-%COMP%]{border-top:6px solid #c3bdbd!important}.col-curve[_ngcontent-%COMP%], .col-curve-top[_ngcontent-%COMP%]{border-radius:18px 19px!important}h6[_ngcontent-%COMP%]{font-size:13px!important}.bg-grey[_ngcontent-%COMP%]{color:#c7bfbf!important}input[type=file][_ngcontent-%COMP%]{width:90px}"]}),e})();const Er=["01 General Trades","02 Demolition","02 Hazardous Material Remediation","03 Concrete","03 Material","03 Pump Place Finish","03 Decking","03 Rebar / Post Tension Material","03 Rebar / Post Tension Labor","03 Precast Concrete","04 Masonry","05 Metals - Structural Steel","05 Metals - Misc. Metals","05 Metals - Ornamental Metals","06 Wood\xb8 Plastics\xb8 and Composites","06 - Millwork","06 - Wood Framing","07 Thermal and Moisture Protection","07 Waterproofing","07 Fireproofing","07 Firestopping / Joint Sealants","07 Roofing","07 Metal Panels","08 Openings","08 Doors Frames Hardware","08 Glass & Glazing","08 Overhead / Special Doors","09 Finishes","09 Drywall & Ceilings","09 Flooring","09 Painting","10 Specialties","11 Equipment","12 Furnishings","13 Special Construction","14 Conveying Equipment","21 Fire Suppression","22 Plumbing","23 Heating\xb8 Ventilating\xb8 & Air Conditioning (HVAC)","26 Electrical","27 Communications","28 Electronic Safety and Security","31 Earthwork","31 Deep Foundations","32 Exterior Improvements","32 Landscaping","32 Site Concrete","32 Asphalt Paving","33 Utilities"];let Mr=(()=>{class e extends mt.a{constructor(e,t){super("Personnel",e,t,{root:bt.a.webserviceURlLocal})}getAll(){return super.getAll()}getRecords(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("personnel/"+e,bt.a.webserviceURlLocal);return this.http.get(i,t)}updateRecord(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("personnel/"+t,bt.a.webserviceURlLocal);return this.http.put(o,e,i)}addRecord(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("personnel",bt.a.webserviceURlLocal);return this.http.post(i,e,t)}getUser(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("Organization/"+e+"/"+t,bt.a.webserviceURlLocal);return this.http.get(o,i)}getComplete(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("Organization/Getstatus/"+e,bt.a.webserviceURlLocal);return this.http.get(i,t)}deleteRecord(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.delete(bt.a.webserviceURlLocal+"Files/"+e,t)}}return e.\u0275fac=function(t){return new(t||e)(a.Zb(ft.b),a.Zb(mt.c))},e.\u0275prov=a.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Nr(e,t){1&e&&(a.Vb(0,"div",96),a.Dc(1,"Quality control plan is required "),a.Ub())}function Tr(e,t){if(1&e&&(a.Vb(0,"div",94),a.Bc(1,Nr,2,0,"div",95),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",null==e.f.is_QCP.errors?null:e.f.is_QCP.errors.required)}}function Br(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Attachment is required"),a.Ub())}function qr(e,t){if(1&e&&(a.Vb(0,"div",97),a.Bc(1,Br,2,0,"div",98),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.qcP_Attachment.errors.required)}}function Lr(e,t){1&e&&(a.Vb(0,"div",99),a.Vb(1,"span"),a.Dc(2,"Uploading..."),a.Ub(),a.Qb(3,"mat-progress-spinner",100),a.Ub())}function Yr(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div"),a.Vb(1,"p",101),a.Vb(2,"small"),a.Vb(3,"a",102),a.Dc(4),a.Ub(),a.Ub(),a.Vb(5,"small",103),a.cc("click",function(){a.uc(e);const i=t.index,o=t.$implicit;return a.gc().removeqcpUpload(i,o)}),a.Dc(6,"X"),a.Ub(),a.Ub(),a.Ub()}if(2&e){const e=t.$implicit;a.Db(3),a.nc("href",e.file_Path,a.wc),a.Db(1),a.Ec(e.name)}}function zr(e,t){1&e&&(a.Vb(0,"div",106),a.Dc(1,"your own employees to perform project work is required "),a.Ub())}function $r(e,t){if(1&e&&(a.Vb(0,"div",104),a.Bc(1,zr,2,0,"div",105),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",null==e.f.is_OwnEmployee.errors?null:e.f.is_OwnEmployee.errors.required)}}function Qr(e,t){1&e&&(a.Vb(0,"div",109),a.Dc(1,"Temp labor to perform project work is required "),a.Ub())}function Gr(e,t){if(1&e&&(a.Vb(0,"div",107),a.Bc(1,Qr,2,0,"div",108),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",null==e.f.is_TempLabor.errors?null:e.f.is_TempLabor.errors.required)}}function Wr(e,t){1&e&&(a.Vb(0,"div",97),a.Vb(1,"div"),a.Dc(2,"work type is required"),a.Ub(),a.Ub())}function Hr(e,t){1&e&&(a.Vb(0,"div",112),a.Dc(1,"Criminal indictment or judgment of conviction is required "),a.Ub())}function Zr(e,t){if(1&e&&(a.Vb(0,"div",110),a.Bc(1,Hr,2,0,"div",111),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",null==e.f.is_Criminal_Indictment.errors?null:e.f.is_Criminal_Indictment.errors.required)}}function Kr(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Criminal indictment or judgment of conviction information is required"),a.Ub())}function Xr(e,t){if(1&e&&(a.Vb(0,"div",97),a.Bc(1,Kr,2,0,"div",98),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.criminal_Indictment_Info.errors.required)}}function Jr(e,t){1&e&&(a.Vb(0,"div",115),a.Dc(1,"Suspension or disbarment is required "),a.Ub())}function es(e,t){if(1&e&&(a.Vb(0,"div",113),a.Bc(1,Jr,2,0,"div",114),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",null==e.f.is_Federal.errors?null:e.f.is_Federal.errors.required)}}function ts(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Suspension or disbarment information is required"),a.Ub())}function is(e,t){if(1&e&&(a.Vb(0,"div",97),a.Bc(1,ts,2,0,"div",98),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.federal_Info.errors.required)}}function os(e,t){1&e&&(a.Vb(0,"div",118),a.Dc(1,"Proceeding or consent order is required "),a.Ub())}function ns(e,t){if(1&e&&(a.Vb(0,"div",116),a.Bc(1,os,2,0,"div",117),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",null==e.f.is_Violation_Of_State.errors?null:e.f.is_Violation_Of_State.errors.required)}}function rs(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Proceeding or consent order information is required"),a.Ub())}function ss(e,t){if(1&e&&(a.Vb(0,"div",97),a.Bc(1,rs,2,0,"div",98),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.showdisabled||e.f.violation_Of_State_Info.errors.required)}}function as(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",119),a.Vb(1,"button",120),a.cc("click",function(){return a.uc(e),a.gc().gotoHome()}),a.Dc(2," << BACK"),a.Ub(),a.Vb(3,"button",121),a.cc("click",function(){return a.uc(e),a.gc().save()}),a.Dc(4),a.Ub(),a.Vb(5,"button",122),a.Dc(6,"NEXT >>"),a.Ub(),a.Ub()}if(2&e){const e=a.gc();a.Db(4),a.Ec(e.submitText)}}function cs(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",123),a.Vb(1,"button",120),a.cc("click",function(){return a.uc(e),a.gc().gotoHome()}),a.Dc(2," << BACK"),a.Ub(),a.Vb(3,"button",124),a.cc("click",function(){return a.uc(e),a.gc().nextroutePage()}),a.Dc(4,"NEXT >>"),a.Ub(),a.Ub()}}const ls=function(e){return{"bg-grey":e}},ds=function(e){return{"is-invalid":e}};let us=(()=>{class e{constructor(e,t,i,o,r,s,a,c,l,d){this.formBuilder=e,this.router=t,this.bnIdle=i,this.keepalive=o,this.toastr=r,this.project=s,this.logininfo=a,this.ngxUiLoader=c,this.personnelService=l,this.companyservice=d,this.currentForm=1,this.personnelForm=this.formBuilder.group({id:[0],companyId:[null,[n.u.maxLength(130)]],proposed_OP_Name:["no",[n.u.required]],proposed_OP_Title:["",[]],proposed_OP_Years:["",[]],proposed_OP_Experience:["",[]],additional_OP_Name:["",[]],additional_OP_Title:["",[]],additional_OP_Years:["",[]],additional_OP_Experience:["",[]],is_QCP:["no",[n.u.required]],qcP_Attachment:[""],is_OwnEmployee:["no",[n.u.required]],is_TempLabor:["no",[n.u.required]],work_Types:[""],is_Criminal_Indictment:["no",[n.u.required]],criminal_Indictment_Info:[""],is_Federal:["no",[n.u.required]],federal_Info:[""],is_Violation_Of_State:["no",[n.u.required]],violation_Of_State_Info:[""],isAutosave:[!1]}),this.showAdmin=!1,this.personnelid=0,this.companyId=0,this.resetTimer=0,this.spinner={qcpSpinner:!1},this.qcpAttachment=[],this.tempqcpAttachment=[],this.worktypes=Er,this.tempQcpFile=[],this.setTimeout=0,this.toppings=new n.e,this.copyworktypes=Er,this.workValue=[],this.toppingList=["Extra cheese","Mushroom","Onion","Pepperoni","Sausage","Tomato"],this.showdisabled=!1}ngOnInit(){this.ngxUiLoader.startLoader("loader-01"),localStorage.setItem("currPage","personnel"),this.prequalification_status=this.logininfo.organization_status,this.submitText="SAVE";let e=localStorage.getItem("userDetails");e=JSON.parse(atob(e)),this.userDetails=e,this.userRole=e.role,this.tempcompanyid=localStorage.getItem("tempcompanyid"),this.tempcompanyid=Number(atob(this.tempcompanyid)),this.tempcompanyid>0&&"Subcontractor"!=this.userRole&&(this.showAdmin=!0,this.personnelService.getRecords(this.tempcompanyid).subscribe(e=>{this.showdisabled=!0,this.personnelForm.disable(),this.personnelForm.updateValueAndValidity(),this.showAdmin=!0,(null==e?void 0:e.length)>0&&(this.personnelid=e[0].id,this.submitText=e[0].is_QCP?"UPDATE":"SAVE",this.updatePersonnel(e))})),null!=this.userDetails.vendorId&&null!=this.userDetails.taxId&&"Subcontractor"==this.userRole&&this.personnelService.getUser(this.userDetails.vendorId,this.userDetails.taxId).subscribe(e=>{this.companyId=e.id,localStorage.setItem("companyid",btoa(this.companyId)),this.getRecords()}),this.ngxUiLoader.stopLoader("loader-01")}ngAfterViewInit(){this.keepalive.interval(30),this.keepalive.stop(),0==this.setTimeout&&this.keepalive.stop()}ngOnDestroy(){this.keepalive.stop(),this.autoSave()}qcpReset(){this.showdisabled=!1,this.qcpAttachment.forEach((e,t)=>{this.removeqcpUpload(t,e,!1)})}idleReset(){this.keepalive.stop(),this.keepalive.start(),this.resetTimer=0}gotoHome(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm-1].url}`])}get f(){var e;return"yes"==this.personnelForm.value.is_QCP?0==this.qcpAttachment.length?(this.personnelForm.controls.qcP_Attachment.setValidators([n.u.required]),this.personnelForm.controls.qcP_Attachment.enable()):this.personnelForm.controls.qcP_Attachment.clearValidators():"no"==this.personnelForm.value.is_QCP&&(this.personnelForm.controls.qcP_Attachment.clearValidators(),this.personnelForm.controls.qcP_Attachment.disable()),this.personnelForm.controls.qcP_Attachment.updateValueAndValidity(),"yes"==this.personnelForm.value.is_Criminal_Indictment?this.personnelForm.controls.criminal_Indictment_Info.setValidators([n.u.required]):(this.personnelForm.patchValue({criminal_Indictment_Info:this.personnelForm.value.criminal_Indictment_Info}),this.personnelForm.controls.criminal_Indictment_Info.clearValidators()),this.personnelForm.controls.criminal_Indictment_Info.updateValueAndValidity(),"yes"==this.personnelForm.value.is_Federal?this.personnelForm.controls.federal_Info.setValidators([n.u.required]):(this.personnelForm.patchValue({federal_Info:this.personnelForm.value.federal_Info}),this.personnelForm.controls.federal_Info.clearValidators()),this.personnelForm.controls.federal_Info.updateValueAndValidity(),"yes"==this.personnelForm.value.is_Violation_Of_State?this.personnelForm.controls.violation_Of_State_Info.setValidators([n.u.required]):(this.personnelForm.patchValue({violation_Of_State_Info:this.personnelForm.value.violation_Of_State_Info}),this.personnelForm.controls.violation_Of_State_Info.clearValidators()),this.personnelForm.controls.violation_Of_State_Info.updateValueAndValidity(),(null===(e=this.qcpAttachment)||void 0===e?void 0:e.length)>0&&(this.personnelForm.controls.qcP_Attachment.setValidators(null),this.personnelForm.controls.qcP_Attachment.updateValueAndValidity()),this.personnelForm.controls}resetData(e){this.personnelForm.patchValue({[e]:""})}updatePersonnel(e){var t,i;let o=[];null===(i=null===(t=e[0])||void 0===t?void 0:t.work_Types)||void 0===i||i.split(",").filter(e=>{o.push(e)}),this.workValue=o,console.log(e),this.personnelForm.patchValue({id:e[0].id,companyId:e[0].companyId,proposed_OP_Name:this.logininfo.validateEmpty(e[0].proposed_OP_Name),proposed_OP_Title:this.logininfo.validateEmpty(e[0].proposed_OP_Title),proposed_OP_Years:this.logininfo.validateEmpty(e[0].proposed_OP_Years),proposed_OP_Experience:this.logininfo.validateEmpty(e[0].proposed_OP_Experience),additional_OP_Name:this.logininfo.validateEmpty(e[0].additional_OP_Name),additional_OP_Title:this.logininfo.validateEmpty(e[0].additional_OP_Title),additional_OP_Years:this.logininfo.validateEmpty(e[0].additional_OP_Years),additional_OP_Experience:this.logininfo.validateEmpty(e[0].additional_OP_Experience),is_QCP:this.logininfo.validateEmpty(e[0].is_QCP),is_OwnEmployee:this.logininfo.validateEmpty(e[0].is_OwnEmployee),is_TempLabor:this.logininfo.validateEmpty(e[0].is_TempLabor),work_Types:this.workValue,is_Criminal_Indictment:this.logininfo.validateEmpty(e[0].is_Criminal_Indictment),criminal_Indictment_Info:this.logininfo.validateEmpty(e[0].criminal_Indictment_Info),is_Federal:this.logininfo.validateEmpty(e[0].is_Federal),federal_Info:this.logininfo.validateEmpty(e[0].federal_Info),is_Violation_Of_State:this.logininfo.validateEmpty(e[0].is_Violation_Of_State),violation_Of_State_Info:this.logininfo.validateEmpty(e[0].violation_Of_State_Info)}),this.qcpAttachment=[],e[0].files.filter(e=>{e.file_Name.length<31&&0==e.isDeleted?this.qcpAttachment.push({id:e.id,name:e.file_Name,file_Path:e.file_Path}):0==e.isDeleted&&this.qcpAttachment.push({id:e.id,name:e.file_Name.substring(0,31)+"....",file_Path:e.file_Path})}),"Subcontractor"!=this.userRole&&"yes"==this.personnelForm.value.is_QCP&&this.personnelForm.controls.qcP_Attachment.setValidators([n.u.required])}save(){if(console.log("save"),console.log(this.personnelForm),this.submitted=!0,this.keepalive.stop(),this.personnelForm.valid)if(0==this.personnelid){this.personnelForm.patchValue({isAutosave:!1});let e=this.formMethod();this.personnelService.addRecord(e).subscribe(e=>{this.getRecords(),this.submitText="UPDATE",this.fileReset(),this.resetSpinner(),this.toastr.success("Work Types & Management approach saved successfully","Work Types & Management")})}else{this.personnelForm.patchValue({isAutosave:!1});let e=this.formMethod();this.personnelService.updateRecord(e,this.personnelid).subscribe(e=>{this.getRecords(),this.fileReset(),this.resetSpinner(),this.toastr.success("Work Types & Management approach updated successfully","Work Types & Management")})}}toggleSelection(e,t){e.selected=!e.selected}submit(){if(console.log("submit"),console.log(this.personnelForm),this.keepalive.stop(),this.ngxUiLoader.startLoader("loader-01"),"Subcontractor"!=this.userRole)this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`]);else if(0==this.personnelid){let e=this.formMethod();this.personnelService.addRecord(e).subscribe(e=>{this.toastr.success("Work Types & Management approach saved successfully","Work Types & Management"),this.getRecords(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])})}else{this.personnelForm.patchValue({isAutosave:!1});let e=this.formMethod();this.personnelService.updateRecord(e,this.personnelid).subscribe(e=>{this.toastr.success("Work Types & Management approach update successfully","Work Types & Management"),this.getRecords()},e=>{},()=>{this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])})}}autoSave(){if(console.log("auto save"),"Subcontractor"==this.userRole&&(this.resetTimer+=1,1==this.resetTimer))if(0==this.personnelid){let e=this.formMethod();this.personnelService.addRecord(e).subscribe(e=>{this.keepalive.stop(),this.getRecords()})}else{this.personnelForm.patchValue({isAutosave:!1});let e=this.formMethod();this.personnelService.updateRecord(e,this.personnelid).subscribe(e=>{this.keepalive.stop(),this.getRecords()})}}nextpage(){if(console.log("nextpage"),0==this.personnelid){let e=this.formMethod();this.personnelService.addRecord(e).subscribe(e=>{this.getRecords()})}else{this.personnelForm.patchValue({isAutosave:!1});let e=this.formMethod();this.personnelService.updateRecord(e,this.personnelid).subscribe(e=>{this.getRecords()})}}fileupload(){if(console.log("file- upload"),this.keepalive.stop(),0==this.personnelid){this.personnelForm.patchValue({isAutosave:!0});let e=this.formMethod();this.personnelService.addRecord(e).subscribe(e=>{this.keepalive.stop(),this.personnelForm.patchValue({qcP_Attachment:"",id:e.id}),this.getRecords(),this.resetSpinner(),this.submitted=!1})}else{this.personnelForm.patchValue({id:this.personnelid,isAutosave:!0});let e=this.formMethod();this.personnelService.updateRecord(e,this.personnelForm.value.id).subscribe(e=>{this.keepalive.stop(),this.getRecords(),this.resetSpinner(),this.personnelForm.patchValue({qcP_Attachment:""}),this.submitted=!1})}}autosave(){if(console.log("auto save"),this.resetTimer+=1,1==this.resetTimer)if(0==this.personnelid){this.personnelForm.patchValue({isAutosave:!1});let e=this.formMethod();this.personnelService.addRecord(e).subscribe(e=>{this.submitText="UPDATE",this.getRecords(),this.fileReset(),this.keepalive.stop(),this.resetSpinner()})}else{this.personnelForm.patchValue({isAutosave:!0});let e=this.formMethod();this.personnelService.updateRecord(e,this.personnelid).subscribe(e=>{this.getRecords(),this.fileReset(),this.keepalive.stop(),this.resetSpinner(),this.personnelForm.patchValue({isAutosave:!1})})}}getRecords(){this.personnelService.getRecords(this.companyId).subscribe(e=>{(null==e?void 0:e.length)>0&&(console.log(e),this.personnelid=e[0].id,this.submitText=e[0].is_QCP?"UPDATE":"SAVE",this.updatePersonnel(e))}),this.companyId>0&&this.companyservice.getRecord(this.companyId).subscribe(e=>{this.prequalification_status=(e=e[0]).preQualification_Status,e.preQualification_Status&&this.logininfo.formDisable(e.preQualification_Status)&&(this.showdisabled=!0,this.personnelForm.disable(),this.personnelForm.updateValueAndValidity())})}formMethod(){this.workValue.length!=this.personnelForm.value.work_Types.toString().length&&(this.personnelForm.value.work_Types=this.workValue);var e=new FormData;e.append("id",this.personnelForm.value.id),e.append("companyId",this.companyId),e.append("proposed_OP_Name",this.personnelForm.value.proposed_OP_Name),e.append("proposed_OP_Title",this.personnelForm.value.proposed_OP_Title),e.append("proposed_OP_Years",this.personnelForm.value.proposed_OP_Years),e.append("proposed_OP_Experience",this.personnelForm.value.proposed_OP_Experience),e.append("additional_OP_Name",this.personnelForm.value.additional_OP_Name),e.append("additional_OP_Title",this.personnelForm.value.additional_OP_Title),e.append("additional_OP_Years",this.personnelForm.value.additional_OP_Years),e.append("additional_OP_Experience",this.personnelForm.value.additional_OP_Experience),e.append("is_QCP",this.personnelForm.value.is_QCP),e.append("is_OwnEmployee",this.personnelForm.value.is_OwnEmployee),e.append("is_TempLabor",this.personnelForm.value.is_TempLabor),e.append("work_Types",this.personnelForm.value.work_Types.toString()),e.append("is_Criminal_Indictment",this.personnelForm.value.is_Criminal_Indictment),e.append("criminal_Indictment_Info",this.personnelForm.value.criminal_Indictment_Info),e.append("is_Federal",this.personnelForm.value.is_Federal),e.append("federal_Info",this.personnelForm.value.federal_Info),e.append("is_Violation_Of_State",this.personnelForm.value.is_Violation_Of_State),e.append("violation_Of_State_Info",this.personnelForm.value.violation_Of_State_Info);for(let t=0;t<this.tempqcpAttachment.length;t++)e.append("qcP_Attachment",this.tempqcpAttachment[t]);return this.tempqcpAttachment=[],e}qcpUpload(e){let t=document.getElementById("qcP_Attachment");for(let i=0;i<t.files.length;i++)this.tempqcpAttachment.push(t.files[i]);this.spinner.qcpSpinner=!0,this.fileupload()}filepreview(e,t){var i=new FileReader;i.onload=i=>{console.log(i.target);let o=new Blob(e.files,{type:e.files[t].type});var n=(window.URL||window.webkitURL).createObjectURL(o);console.log("path",n,e.value);var r=document.createElement("a"),s=document.createTextNode("View File");r.target="_blank",r.appendChild(s),r.href=n,r.click(),e.appendChild(r)},i.readAsDataURL(e.files[t])}removeqcpUpload(e,t,i=!0){this.showdisabled||this.personnelService.deleteRecord(t.id).subscribe(t=>{this.qcpAttachment.splice(e,1),i&&this.toastr.info("File removed successfully","Work Types & Management")})}resetSpinner(){this.spinner={qcpSpinner:!1}}fileReset(){this.personnelForm.patchValue({qcP_Attachment:""})}nextroutePage(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])}}return e.\u0275fac=function(t){return new(t||e)(a.Pb(n.d),a.Pb(r.f),a.Pb(l.a),a.Pb(u.a),a.Pb(f.b),a.Pb(_.a),a.Pb(g),a.Pb(v.c),a.Pb(Mr),a.Pb(c.a))},e.\u0275cmp=a.Jb({type:e,selectors:[["app-personnel-management"]],decls:177,vars:109,consts:[[1,"m-2",3,"formGroup","ngSubmit","keydown.enter"],[1,"px-2","py-2","form-bg",3,"ngClass"],[1,"form-group","input-group","row","px-2","mx-auto"],[1,"col-lg-6","px-0","mx-auto","col-head-1"],[1,"row","col-curve-top","bg-white","mx-0","px-0","py-2","mt-2","pb-2"],[1,"row","bg-white","col-curve","mx-auto","mt-2"],[1,"fw-bold"],[1,"col-12"],[1,"row","pt-1"],[1,"col-6"],["for","is_QCP",1,"my-auto","font-italic"],[1,"text-danger"],[1,"row"],[1,"col-lg-3"],["type","radio","formControlName","is_QCP","value","yes","checked","checked","name","is_QCP","id","is_QCP_yes","required","",3,"ngClass","ngModelChange"],["for","is_QCP_yes"],[1,"col-lg-9"],["type","radio","formControlName","is_QCP","value","no","name","is_QCP","id","is_QCP_no","required","",3,"ngClass","ngModelChange","click"],["for","is_QCP_no"],["class","invalid-feedback mt-2","id","is_QCP",4,"ngIf"],[1,"pt-2","pb-2",3,"ngClass"],["for","qcP_Attachment",1,"my-auto","font-italic"],[1,"form-control-customitem","form-control"],["type","file","title","Choose file","formControlName","qcP_Attachment","id","qcP_Attachment","name","qcP_Attachment","multiple","",3,"ngClass","change"],["for","qcP_Attachment",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["class","spinner__loading pt-3",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"col-lg-6","px-0","mx-auto","col-head-2","ms-1","ps-1","mt-2"],[1,"row","bg-white","col-curve","mx-auto","py-2","col-curve-top"],[1,"fw-bold","mt-2"],[1,"row","pt-2"],[1,"col-8"],["for","is_OwnEmployee",1,"my-auto","font-italic"],[1,"col-4"],[1,"col-lg-6"],["type","radio","formControlName","is_OwnEmployee","value","yes","checked","checked","name","is_OwnEmployee","id","is_OwnEmployee_yes","required","",3,"ngClass","ngModelChange"],["for","is_OwnEmployee_yes"],["type","radio","formControlName","is_OwnEmployee","value","no","name","is_OwnEmployee","id","is_OwnEmployee_no","required","",3,"ngClass","ngModelChange"],["for","is_OwnEmployee_no"],["class","invalid-feedback mt-2","id","is_OwnEmployee",4,"ngIf"],["for","is_TempLabor",1,"my-auto","font-italic"],["type","radio","formControlName","is_TempLabor","value","yes","checked","checked","name","is_TempLabor","id","is_TempLabor_yes","required","",3,"ngClass","ngModelChange"],["for","is_TempLabor_yes"],["type","radio","formControlName","is_TempLabor","value","no","name","is_TempLabor","id","is_TempLabor_no","required","",3,"ngClass","ngModelChange"],["for","is_TempLabor_no"],["class","invalid-feedback mt-2","id","is_TempLabor",4,"ngIf"],["for","is_Subcontractor",1,"my-auto","font-italic"],["type","radio","formControlName","proposed_OP_Name","value","yes","checked","checked","name","proposed_OP_Name","id","is_Subcontractor_yes","required","",3,"ngClass","ngModelChange"],["for","is_Subcontractor_yes"],["type","radio","formControlName","proposed_OP_Name","value","no","name","proposed_OP_Name","id","is_Subcontractor_no","required","",3,"ngClass","ngModelChange"],["for","is_Subcontractor_no"],[1,"form-group","input-group","row","px-2","pb-1","pt-2"],[1,"col-lg-6","py-1","mx-auto","px-0","col-head-1"],[1,"row","col-curve","bg-white","mx-0","px-0","py-2","mt-0","ms-auto","qcp-heights"],[1,"row","bg-white","mx-0","mt-2"],[1,"red",3,"source","destination","destinationChange"],[1,"col-12","bg-white","pb-3"],[1,"row","pt-5","pb-5"],[1,"row","pt-5","pb-5","mt-2"],[1,"col-lg-6","mx-auto","p-0","col-head-2"],[1,"row","bg-white","col-curve","py-2","border","border-4","mx-0"],[1,"mt-2","fw-bold"],[1,"row","mt-2"],["for","is_Criminal_Indictment",1,"my-auto","font-italic"],[1,"col-lg-3","pt-1"],["type","radio","formControlName","is_Criminal_Indictment","value","yes","checked","checked","name","is_Criminal_Indictment","id","is_Criminal_Indictment_yes","required","",3,"ngClass","ngModelChange"],["for","is_Criminal_Indictment_yes"],[1,"col-lg-9","pt-1"],["type","radio","formControlName","is_Criminal_Indictment","value","no","name","is_Criminal_Indictment","id","is_Criminal_Indictment_no","required","",3,"ngClass","ngModelChange","click"],["for","is_Criminal_Indictment_no"],["class","invalid-feedback mt-2","id","is_Criminal_Indictment",4,"ngIf"],[1,"mr-4","mt-1",3,"ngClass"],[1,"note","fw-bold",3,"ngClass"],[1,"col-lg-12","bg-white"],["formControlName","criminal_Indictment_Info","id","criminal_Indictment_Info","name","criminal_Indictment_Info",1,"form-control",3,"ngClass","ngModelChange"],["for","is_Federal",1,"my-auto","font-italic"],["type","radio","formControlName","is_Federal","value","yes","checked","checked","name","is_Federal","id","is_Federal_yes","required","",3,"ngClass","ngModelChange"],["for","is_Federal_yes"],["type","radio","formControlName","is_Federal","value","no","name","is_Federal","id","is_Federal_no","required","",3,"ngClass","ngModelChange","click"],["for","is_Federal_no"],["class","invalid-feedback mt-2","id","is_Federal",4,"ngIf"],[1,"mr-4","mt-1"],["formControlName","federal_Info","id","federal_Info","name","federal_Info",1,"form-control",3,"ngClass","ngModelChange"],[1,"pb-1"],["for","is_Violation_Of_State",1,"my-auto","font-italic","fw-bold"],["type","radio","formControlName","is_Violation_Of_State","value","yes","checked","checked","name","is_Violation_Of_State","id","is_Violation_Of_State_yes","required","",3,"ngClass","ngModelChange"],["for","is_Violation_Of_State_yes"],["type","radio","formControlName","is_Violation_Of_State","value","no","name","is_Violation_Of_State","id","is_Violation_Of_State_no","required","",3,"ngClass","ngModelChange","click"],["for","is_Violation_Of_State_no"],["class","invalid-feedback mt-2","id","is_Violation_Of_State",4,"ngIf"],["formControlName","violation_Of_State_Info","id","violation_Of_State_Info","name","violation_Of_State_Info",1,"form-control",3,"ngClass","ngModelChange"],["class","text-end mx-lg-4 my-3",4,"ngIf"],["class","text-end mx-4 my-3",4,"ngIf"],["id","is_QCP",1,"invalid-feedback","mt-2"],["id","is_QCP",4,"ngIf"],["id","is_QCP"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner__loading","pt-3"],["diameter","18","mode","indeterminate",1,"mt-1"],[1,"file-tag"],["target","_blank",3,"href"],[1,"file-close","text-white",3,"click"],["id","is_OwnEmployee",1,"invalid-feedback","mt-2"],["id","is_OwnEmployee",4,"ngIf"],["id","is_OwnEmployee"],["id","is_TempLabor",1,"invalid-feedback","mt-2"],["id","is_TempLabor",4,"ngIf"],["id","is_TempLabor"],["id","is_Criminal_Indictment",1,"invalid-feedback","mt-2"],["id","is_Criminal_Indictment",4,"ngIf"],["id","is_Criminal_Indictment"],["id","is_Federal",1,"invalid-feedback","mt-2"],["id","is_Federal",4,"ngIf"],["id","is_Federal"],["id","is_Violation_Of_State",1,"invalid-feedback","mt-2"],["id","is_Violation_Of_State",4,"ngIf"],["id","is_Violation_Of_State"],[1,"text-end","mx-lg-4","my-3"],[1,"btn","float-start","btn","default-btn",3,"click"],["type","button",1,"btn","ml-4","default-btn",3,"click"],["type","submit",1,"btn","btn-success","mx-2","default-btn"],[1,"text-end","mx-4","my-3"],[1,"btn","btn-success","mx-2","default-btn",3,"click"]],template:function(e,t){1&e&&(a.Vb(0,"form",0),a.cc("ngSubmit",function(){return t.submit()})("keydown.enter",function(e){return e.preventDefault()}),a.Vb(1,"div",1),a.Vb(2,"div",2),a.Vb(3,"div",3),a.Vb(4,"div",4),a.Vb(5,"div",5),a.Vb(6,"h6",6),a.Dc(7,"1. Quality Control Plan"),a.Ub(),a.Vb(8,"div",7),a.Vb(9,"div",8),a.Vb(10,"div",9),a.Vb(11,"label",10),a.Dc(12," Does your company have a quality control plan? "),a.Vb(13,"span",11),a.Dc(14,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(15,"div",9),a.Vb(16,"div",12),a.Vb(17,"span",13),a.Vb(18,"input",14),a.cc("ngModelChange",function(){return t.idleReset()}),a.Ub(),a.Vb(19,"label",15),a.Dc(20," YES"),a.Ub(),a.Ub(),a.Vb(21,"span",16),a.Vb(22,"input",17),a.cc("ngModelChange",function(){return t.idleReset()})("click",function(){return t.qcpReset()}),a.Ub(),a.Vb(23,"label",18),a.Dc(24," NO"),a.Ub(),a.Ub(),a.Ub(),a.Bc(25,Tr,2,1,"div",19),a.Ub(),a.Ub(),a.Vb(26,"div",20),a.Vb(27,"label",21),a.Dc(28,"Attach a copy your company's quality control plan "),a.Ub(),a.Vb(29,"div",22),a.Vb(30,"input",23),a.cc("change",function(e){return t.qcpUpload(e)}),a.Ub(),a.Vb(31,"span",24),a.Dc(32," \xa0Click here to Add Files"),a.Ub(),a.Ub(),a.Bc(33,qr,2,1,"div",25),a.Bc(34,Lr,4,0,"div",26),a.Bc(35,Yr,7,2,"div",27),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Vb(36,"div",28),a.Vb(37,"div",29),a.Vb(38,"h6",30),a.Dc(39,"2. Labor"),a.Ub(),a.Vb(40,"div",31),a.Vb(41,"div",32),a.Vb(42,"label",33),a.Dc(43," Does your company use your own employees to perform project work?"),a.Vb(44,"span",11),a.Dc(45,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(46,"div",34),a.Vb(47,"div",12),a.Vb(48,"span",35),a.Vb(49,"input",36),a.cc("ngModelChange",function(){return t.idleReset()}),a.Ub(),a.Vb(50,"label",37),a.Dc(51," YES"),a.Ub(),a.Ub(),a.Vb(52,"span",35),a.Vb(53,"input",38),a.cc("ngModelChange",function(){return t.idleReset()}),a.Ub(),a.Vb(54,"label",39),a.Dc(55," NO"),a.Ub(),a.Ub(),a.Ub(),a.Bc(56,$r,2,1,"div",40),a.Ub(),a.Ub(),a.Vb(57,"div",31),a.Vb(58,"div",32),a.Vb(59,"label",41),a.Dc(60," Does your company use temp labor to perform project work?"),a.Vb(61,"span",11),a.Dc(62,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(63,"div",34),a.Vb(64,"div",12),a.Vb(65,"span",35),a.Vb(66,"input",42),a.cc("ngModelChange",function(){return t.idleReset()}),a.Ub(),a.Vb(67,"label",43),a.Dc(68," YES"),a.Ub(),a.Ub(),a.Vb(69,"span",35),a.Vb(70,"input",44),a.cc("ngModelChange",function(){return t.idleReset()}),a.Ub(),a.Vb(71,"label",45),a.Dc(72," NO"),a.Ub(),a.Ub(),a.Ub(),a.Bc(73,Gr,2,1,"div",46),a.Ub(),a.Ub(),a.Vb(74,"div",31),a.Vb(75,"div",32),a.Vb(76,"label",47),a.Dc(77," Does your company use subcontractors for field work?"),a.Vb(78,"span",11),a.Dc(79,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(80,"div",34),a.Vb(81,"div",12),a.Vb(82,"span",35),a.Vb(83,"input",48),a.cc("ngModelChange",function(){return t.idleReset()}),a.Ub(),a.Vb(84,"label",49),a.Dc(85," YES"),a.Ub(),a.Ub(),a.Vb(86,"span",35),a.Vb(87,"input",50),a.cc("ngModelChange",function(){return t.idleReset()}),a.Ub(),a.Vb(88,"label",51),a.Dc(89," NO"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Vb(90,"div",52),a.Vb(91,"div",53),a.Vb(92,"div",54),a.Vb(93,"div",55),a.Vb(94,"h6",6),a.Dc(95,"3. Select all the Work Types performed by your company's work force "),a.Vb(96,"span",11),a.Dc(97,"*"),a.Ub(),a.Ub(),a.Vb(98,"div"),a.Vb(99,"app-duallist",56),a.cc("destinationChange",function(e){return t.workValue=e}),a.Ub(),a.Bc(100,Wr,3,0,"div",25),a.Ub(),a.Qb(101,"div",57),a.Ub(),a.Vb(102,"div",58),a.Dc(103," \xa0 "),a.Ub(),a.Vb(104,"div",59),a.Dc(105," \xa0 "),a.Ub(),a.Ub(),a.Ub(),a.Vb(106,"div",60),a.Vb(107,"div",61),a.Vb(108,"h6",62),a.Dc(109,"4. Other Info"),a.Ub(),a.Vb(110,"div",63),a.Vb(111,"label",64),a.Dc(112," Within the past three years, has your company or any of the individuals identified in this section have been the subject of any criminal indictment or judgment of conviction for any business related conduct constituting a crime under state or federal law? "),a.Vb(113,"span",11),a.Dc(114," *"),a.Ub(),a.Ub(),a.Vb(115,"div",8),a.Vb(116,"span",65),a.Vb(117,"input",66),a.cc("ngModelChange",function(){return t.idleReset()}),a.Ub(),a.Vb(118,"label",67),a.Dc(119," YES"),a.Ub(),a.Ub(),a.Vb(120,"span",68),a.Vb(121,"input",69),a.cc("ngModelChange",function(){return t.idleReset()})("click",function(){return t.resetData("criminal_Indictment_Info")}),a.Ub(),a.Vb(122,"label",70),a.Dc(123," NO"),a.Ub(),a.Ub(),a.Ub(),a.Bc(124,Zr,2,1,"div",71),a.Vb(125,"div",72),a.Vb(126,"small",73),a.Dc(127,"If yes, describe circumstances"),a.Ub(),a.Ub(),a.Vb(128,"div",74),a.Vb(129,"textarea",75),a.cc("ngModelChange",function(){return t.idleReset()}),a.Ub(),a.Bc(130,Xr,2,1,"div",25),a.Ub(),a.Ub(),a.Vb(131,"div",63),a.Vb(132,"label",76),a.Dc(133,"Within the past three years, has your company or any of the individuals identified in this section have been the subject of any federal or state suspension or disbarment? "),a.Vb(134,"span",11),a.Dc(135," *"),a.Ub(),a.Ub(),a.Vb(136,"div",8),a.Vb(137,"span",65),a.Vb(138,"input",77),a.cc("ngModelChange",function(){return t.idleReset()}),a.Ub(),a.Vb(139,"label",78),a.Dc(140," YES"),a.Ub(),a.Ub(),a.Vb(141,"span",68),a.Vb(142,"input",79),a.cc("ngModelChange",function(){return t.idleReset()})("click",function(){return t.resetData("federal_Info")}),a.Ub(),a.Vb(143,"label",80),a.Dc(144," NO"),a.Ub(),a.Ub(),a.Ub(),a.Bc(145,es,2,1,"div",81),a.Vb(146,"div",82),a.Vb(147,"small",73),a.Dc(148,"If yes, describe circumstances"),a.Ub(),a.Ub(),a.Vb(149,"div",74),a.Vb(150,"textarea",83),a.cc("ngModelChange",function(){return t.idleReset()}),a.Ub(),a.Bc(151,is,2,1,"div",25),a.Ub(),a.Vb(152,"div",84),a.Dc(153,"\xa0"),a.Ub(),a.Ub(),a.Vb(154,"div",12),a.Vb(155,"label",85),a.Dc(156,"Within the past three years, has your company or any of the individuals identified in this section have been the subject of any formal proceeding or consent order with a state or federal environment agency involving a violation of state or federal environment laws? "),a.Vb(157,"span",11),a.Dc(158," *"),a.Ub(),a.Ub(),a.Vb(159,"div",8),a.Vb(160,"span",65),a.Vb(161,"input",86),a.cc("ngModelChange",function(){return t.idleReset()}),a.Ub(),a.Vb(162,"label",87),a.Dc(163," YES"),a.Ub(),a.Ub(),a.Vb(164,"span",68),a.Vb(165,"input",88),a.cc("ngModelChange",function(){return t.idleReset()})("click",function(){return t.resetData("violation_Of_State_Info")}),a.Ub(),a.Vb(166,"label",89),a.Dc(167," NO"),a.Ub(),a.Ub(),a.Ub(),a.Bc(168,ns,2,1,"div",90),a.Vb(169,"div",72),a.Vb(170,"small",73),a.Dc(171,"If yes, describe circumstances"),a.Ub(),a.Ub(),a.Vb(172,"div",74),a.Vb(173,"textarea",91),a.cc("ngModelChange",function(){return t.idleReset()}),a.Ub(),a.Bc(174,ss,2,1,"div",25),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Bc(175,as,7,1,"div",92),a.Ub(),a.Bc(176,cs,5,0,"div",93)),2&e&&(a.mc("formGroup",t.personnelForm),a.Db(1),a.mc("ngClass",a.pc(51,ls,1==t.showdisabled)),a.Db(17),a.mc("ngClass",a.pc(53,ds,t.submitted&&t.f.is_QCP.errors)),a.Db(4),a.mc("ngClass",a.pc(55,ds,t.submitted&&t.f.is_QCP.errors)),a.Db(3),a.mc("ngIf",(t.submitted||t.f.is_QCP.touched)&&t.f.is_QCP.errors),a.Db(1),a.mc("ngClass",a.pc(57,ls,"no"==t.f.is_QCP.value)),a.Db(4),a.mc("ngClass",a.pc(59,ds,t.submitted&&t.f.qcP_Attachment.errors)),a.Eb("disabled","no"==t.f.is_QCP.value?"":null),a.Db(1),a.mc("ngClass",a.pc(61,ls,"no"==t.f.is_QCP.value)),a.Db(2),a.mc("ngIf",t.submitted&&t.f.qcP_Attachment.errors),a.Db(1),a.mc("ngIf",null==t.spinner?null:t.spinner.qcpSpinner),a.Db(1),a.mc("ngForOf",t.qcpAttachment),a.Db(14),a.mc("ngClass",a.pc(63,ds,t.submitted&&t.f.is_OwnEmployee.errors)),a.Db(4),a.mc("ngClass",a.pc(65,ds,t.submitted&&t.f.is_OwnEmployee.errors)),a.Db(3),a.mc("ngIf",(t.submitted||t.f.is_OwnEmployee.touched)&&t.f.is_OwnEmployee.errors),a.Db(10),a.mc("ngClass",a.pc(67,ds,t.submitted&&t.f.is_TempLabor.errors)),a.Db(4),a.mc("ngClass",a.pc(69,ds,t.submitted&&t.f.is_TempLabor.errors)),a.Db(3),a.mc("ngIf",(t.submitted||t.f.is_TempLabor.touched)&&t.f.is_TempLabor.errors),a.Db(10),a.mc("ngClass",a.pc(71,ds,t.submitted&&(null==t.f.proposed_OP_Name?null:t.f.proposed_OP_Name.errors))),a.Db(4),a.mc("ngClass",a.pc(73,ds,t.submitted&&(null==t.f.proposed_OP_Name?null:t.f.proposed_OP_Name.errors))),a.Db(12),a.mc("source",t.copyworktypes)("destination",t.workValue),a.Db(1),a.mc("ngIf",t.submitted&&0==t.workValue.length),a.Db(17),a.mc("ngClass",a.pc(75,ds,t.submitted&&t.f.is_Criminal_Indictment.errors)),a.Db(4),a.mc("ngClass",a.pc(77,ds,t.submitted&&t.f.is_Criminal_Indictment.errors)),a.Db(3),a.mc("ngIf",(t.submitted||t.f.is_Criminal_Indictment.touched)&&t.f.is_Criminal_Indictment.errors),a.Db(1),a.mc("ngClass",a.pc(79,ls,"no"==t.f.is_Criminal_Indictment.value)),a.Db(1),a.mc("ngClass",a.pc(81,ls,"no"==t.f.is_Criminal_Indictment.value)),a.Db(3),a.mc("ngClass",a.pc(83,ds,t.submitted&&t.f.criminal_Indictment_Info.errors))("ngClass",a.pc(85,ls,"no"==t.f.is_Criminal_Indictment.value)),a.Eb("disabled","no"==t.f.is_Criminal_Indictment.value?"":null),a.Db(1),a.mc("ngIf",t.submitted&&t.f.criminal_Indictment_Info.errors),a.Db(8),a.mc("ngClass",a.pc(87,ds,t.submitted&&t.f.is_Federal.errors)),a.Db(4),a.mc("ngClass",a.pc(89,ds,t.submitted&&t.f.is_Federal.errors)),a.Db(3),a.mc("ngIf",(t.submitted||t.f.is_Federal.touched)&&t.f.is_Federal.errors),a.Db(2),a.mc("ngClass",a.pc(91,ls,t.showdisabled||"no"==t.f.is_Federal.value)),a.Db(3),a.mc("ngClass",a.pc(93,ls,"no"==t.f.is_Federal.value))("ngClass",a.pc(95,ds,t.submitted&&t.f.federal_Info.errors)),a.Eb("disabled","no"==t.f.is_Federal.value?"":null),a.Db(1),a.mc("ngIf",t.submitted&&t.f.federal_Info.errors),a.Db(10),a.mc("ngClass",a.pc(97,ds,t.submitted&&t.f.is_Violation_Of_State.errors)),a.Db(4),a.mc("ngClass",a.pc(99,ds,t.submitted&&t.f.is_Violation_Of_State.errors)),a.Db(3),a.mc("ngIf",(t.submitted||t.f.is_Violation_Of_State.touched)&&t.f.is_Violation_Of_State.errors),a.Db(1),a.mc("ngClass",a.pc(101,ls,"no"==t.f.is_Violation_Of_State.value)),a.Db(1),a.mc("ngClass",a.pc(103,ls,t.showdisabled||"no"==t.f.is_Violation_Of_State.value)),a.Db(3),a.mc("ngClass",a.pc(105,ds,t.submitted&&t.f.violation_Of_State_Info.errors))("ngClass",a.pc(107,ls,"no"==t.f.is_Violation_Of_State.value)),a.Eb("disabled","no"==t.f.is_Violation_Of_State.value?"":null),a.Db(1),a.mc("ngIf",t.submitted&&t.f.violation_Of_State_Info.errors),a.Db(1),a.mc("ngIf",!(t.showAdmin||t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status)),a.Db(1),a.mc("ngIf",!t.showAdmin&&t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status||t.showAdmin))},directives:[n.v,n.k,n.g,o.j,n.q,n.b,n.j,n.f,n.s,o.l,o.k,x,k.a],styles:["select[_ngcontent-%COMP%]:-internal-list-box   option[_ngcontent-%COMP%]:checked{background-color:#4a7729!important}.border[_ngcontent-%COMP%]{border:4px solid hsla(0,0%,86.7%,.6196078431372549)!important}.col-curve-top[_ngcontent-%COMP%]{border-top:6px solid #c3bdbd!important}.col-curve[_ngcontent-%COMP%], .col-curve-top[_ngcontent-%COMP%]{border-radius:18px 19px!important}.qcp-height[_ngcontent-%COMP%]{min-height:229px}.select-height[_ngcontent-%COMP%]{min-height:215px!important}h6[_ngcontent-%COMP%]{font-size:13px!important}.bg-grey[_ngcontent-%COMP%], .bg-grey[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{color:#c7bfbf!important}.multiple-select[_ngcontent-%COMP%]{width:45%;float:left}[_nghost-%COMP%]   .red[_ngcontent-%COMP%]     .btn-primary{background-color:#4a7729!important}[_nghost-%COMP%]   .red[_ngcontent-%COMP%]     .btn-primary:disabled{background-color:#708362!important}"]}),e})();function ps(e,t){if(1&e&&(a.Vb(0,"strong"),a.Dc(1),a.Ub()),2&e){const e=a.gc();a.Db(1),a.Ec(null==e.userDetails?null:e.userDetails.companyName)}}function ms(e,t){if(1&e&&(a.Vb(0,"strong",38),a.Dc(1),a.Ub()),2&e){const e=a.gc();a.Db(1),a.Ec(e.companyName)}}function bs(e,t){if(1&e&&(a.Vb(0,"strong"),a.Dc(1),a.Ub()),2&e){const e=a.gc();a.Db(1),a.Ec(null==e.userDetails?null:e.userDetails.taxId)}}function fs(e,t){if(1&e&&(a.Vb(0,"strong"),a.Dc(1),a.Ub()),2&e){const e=a.gc();a.Db(1),a.Ec(e.taxId)}}function hs(e,t){if(1&e&&(a.Vb(0,"strong"),a.Dc(1),a.Ub()),2&e){const e=a.gc();a.Db(1),a.Ec(null==e.userDetails?null:e.userDetails.vendorId)}}function _s(e,t){if(1&e&&(a.Vb(0,"strong"),a.Dc(1),a.Ub()),2&e){const e=a.gc();a.Db(1),a.Ec(e.vendorId)}}const gs=function(e){return{activeTab:e}};function vs(e,t){if(1&e){const e=a.Wb();a.Vb(0,"li"),a.Vb(1,"a",39),a.cc("click",function(){a.uc(e);const i=t.$implicit;return a.gc().ActiveMenu(i)}),a.Vb(2,"strong"),a.Dc(3),a.Ub(),a.Qb(4,"br"),a.Vb(5,"small",40),a.Dc(6),a.Ub(),a.Ub(),a.Ub()}if(2&e){const e=t.$implicit,i=t.index,o=a.gc();a.Db(1),a.mc("routerLink",e.url)("ngClass",a.pc(4,gs,o.activeItem===e.desc)),a.Db(2),a.Ec(e.name),a.Db(3),a.Fc(" ",null==o.completeStatus[i]?null:o.completeStatus[i].status,"")}}function ys(e,t){if(1&e&&(a.Vb(0,"small",41),a.Dc(1),a.hc(2,"date"),a.Ub()),2&e){const e=a.gc();a.Db(1),a.Fc("Last Updated on: ",a.jc(2,1,e.orgupdatedate,"MM/dd/yyyy"),"")}}let Vs=(()=>{class e{constructor(e,t,i,o,n,s){this.router=e,this.activatedRouter=t,this.safetyService=i,this.companyservice=o,this.ngxUiLoader=n,this.logininfo=s,this.activeItem="",this.activeDetail="",this.leftMenu=[],this.leftMenudisplay=this.companyservice.MenuDetail,this.companyId=0,this.userRole="",this.userDetails="",this.companyName="",this.taxId="",this.vendorId="",this.navbarOpen=!1,this.completeStatus=[{formname:"organization",status:""},{formname:"personnel",status:""},{formname:"experience",status:""},{formname:"relevant",status:""},{formname:"safety",status:""},{formname:"surety",status:""},{formname:"financial",status:""},{formname:"signature",status:""},{formname:"submit",status:""}],this.signature="",this.router.events.subscribe(e=>{if(e instanceof r.e){let e=localStorage.getItem("userDetails");if(e=JSON.parse(atob(e)),this.userDetails=e,this.userRole=e.role,"Subcontractor"==this.userRole){let e=localStorage.getItem("companyid");this.companyId=Number(atob(e)),this.getFormStatus(this.companyId)}}})}ngOnInit(){var e;this.leftMenu=this.leftMenudisplay.slice(),this.router.events.subscribe(e=>{var t;let i=null===(t=this.activatedRouter.snapshot._routerState.url)||void 0===t?void 0:t.split("/");if(i.length>1){let e=this.leftMenu.find(e=>e.url==i[2]);e&&(this.activeItem=e.desc,this.activeDetail=e.detail)}this.activeItem||(this.activeItem=this.leftMenu[0].desc,this.activeDetail=this.leftMenu[0].detail)});let t=null===(e=this.activatedRouter.snapshot._routerState.url)||void 0===e?void 0:e.split("/");if(t.length>1){let e=this.leftMenu.find(e=>e.url==t[2]);e&&(this.activeItem=e.desc,this.activeDetail=e.detail)}this.activeItem||(this.activeItem=this.leftMenu[0].desc,this.activeDetail=this.leftMenu[0].detail);let i=localStorage.getItem("userDetails");if(i){if(i=JSON.parse(atob(i)),this.userDetails=i,this.userRole=i.role,"Subcontractor"!=this.userRole&&(this.companyName=localStorage.getItem("userName"),this.companyName=atob(this.companyName),this.taxId=localStorage.getItem("taxID"),this.taxId=atob(this.taxId),this.vendorId=localStorage.getItem("vendorID"),this.vendorId=atob(this.vendorId)),"Subcontractor"==this.userRole){let e=localStorage.getItem("companyid");this.companyId=Number(atob(e)),this.getFormStatus(this.companyId)}if("SafetyUser"==this.userRole){this.leftMenu=[];for(let e=0;e<this.leftMenudisplay.length;e++)"Safety Information"==this.leftMenudisplay[e].name&&this.leftMenu.push(this.leftMenudisplay[e]);localStorage.getItem("tempcompanyid")&&(this.companyId=localStorage.getItem("tempcompanyid"),this.companyId=Number(atob(this.companyId))),this.activeItem=this.leftMenu[0].desc,this.router.navigate(["qualification/"+this.leftMenu[0].url])}}this.getOrganization()}ActiveMenu(e){if(localStorage.getItem("companyid")){let e=localStorage.getItem("companyid");this.companyId=Number(atob(e))}if(localStorage.getItem("tempcompanyid")){let e=localStorage.getItem("tempcompanyid");this.companyId=Number(atob(e))}0==this.companyId?this.activeItem=this.leftMenu[0].desc:(this.activeItem=e.desc,this.router.navigate(["qualification/"+e.url]))}gotoHome(){this.router.navigate(["/home"])}redirecttohome(){this.router.navigate(["/home"])}getOrganization(){if(null!=this.userDetails.vendorId&&null!=this.userDetails.taxId&&"Subcontractor"==this.userRole)this.companyservice.getUser(this.userDetails.vendorId,this.userDetails.taxId).subscribe(e=>{});else{let e=localStorage.getItem("tempcompanyid");e=Number(atob(e))}}getFormStatus(e){this.companyservice.getRecord(e).subscribe(e=>{this.orgupdatedate=e.updatedDate}),this.companyservice.getFormStatus(e).subscribe(e=>{var t,i,o,n,r,s,a,c,l,d,u,p,m,b,f;if(null==e?void 0:e.length){let h=[{formname:"organization",status:""},{formname:"personnel",status:""},{formname:"experience",status:""},{formname:"relevant",status:""},{formname:"safety",status:""},{formname:"surety",status:""},{formname:"financial",status:""},{formname:"signature",status:""},{formname:"submit",status:""}];h[0].status="Completed"==(null===(t=e[0])||void 0===t?void 0:t.organizationStatus)?null===(i=e[0])||void 0===i?void 0:i.organizationStatus:"",h[1].status="Completed"==(null===(o=e[0])||void 0===o?void 0:o.personnel)?null===(n=e[0])||void 0===n?void 0:n.personnel:"",h[2].status="Completed"==(null===(r=e[0])||void 0===r?void 0:r.reference)?null===(s=e[0])||void 0===s?void 0:s.reference:"",h[3].status="Completed"==(null===(a=e[0])||void 0===a?void 0:a.safety)?null===(c=e[0])||void 0===c?void 0:c.safety:"",h[4].status="Completed"==(null===(l=e[0])||void 0===l?void 0:l.surity)?null===(d=e[0])||void 0===d?void 0:d.surity:"",h[5].status="Completed"==(null===(u=e[0])||void 0===u?void 0:u.finance)?null===(p=e[0])||void 0===p?void 0:p.finance:"",h[6].status="Completed"==(null===(m=e[0])||void 0===m?void 0:m.signature)?null===(b=e[0])||void 0===b?void 0:b.signature:"",h[7].status="Under initial Risk review"==(null===(f=e[0])||void 0===f?void 0:f.preQualification_Status)?"Completed":"",this.completeStatus=h}})}}return e.\u0275fac=function(t){return new(t||e)(a.Pb(r.f),a.Pb(r.a),a.Pb(Co),a.Pb(c.a),a.Pb(v.c),a.Pb(g))},e.\u0275cmp=a.Jb({type:e,selectors:[["app-qualification"]],decls:65,vars:11,consts:[[1,"container-fluid","mt-3","pt-5"],[1,"row","mx-auto","align-items-center"],[1,"col-lg-12","col-md-12","ps-1"],[1,"row"],[1,"col-lg-3","pt-lg-3","pt-2","text-center"],[1,"col-lg-9","col-md-12"],[1,"row","border","pt-3"],[1,"col-lg-4","col-md-5"],[1,"text-center"],[1,"font-weight-bold"],[1,"text-success","font-weight-bold"],[4,"ngIf"],["class","text-capitalize",4,"ngIf"],[1,"col-lg-2","col-md-2","text-center"],[1,"col-lg-3","col-md-2"],[1,"vendor","text-center"],[1,"col-lg-3","col-md-3"],[1,"row","mt-lg-1","pt-3","pt-lg-0"],[1,"col-lg-3","col-md-12"],[1,"list-group"],[1,"leftmenu","mb-3","mb-lg-0","mb-lg-0"],[4,"ngFor","ngForOf"],[1,"col-lg-9","col-md-12","col-xs-12","px-0","border","section-head"],[1,"row","align-items-center","bg-success","mx-0","header"],[1,"col-8","mx-0"],[1,"bg-success","py-3","ps-2","m-0","text-white"],[1,"col-4","mx-0"],["class","float-end pe-2 text-center pt-lg-1 fw-normal text-white bg-success",4,"ngIf"],[1,"subheading"],["type","button","id","directalertmodal","data-bs-toggle","modal","data-bs-target","#directalertmodals",1,"btn-hide"],["id","directalertmodals","tabindex","-1","aria-labelledby","directalertmodals","aria-hidden","false",1,"modal","fade"],["directalertmodals",""],[1,"modal-dialog","modal-md","modal-dialog-centered"],[1,"modal-content"],[1,"modal-body","my-3"],[1,"modal-footer","p-0"],["type","button","data-bs-dismiss","modal",1,"btn","default-btn","modal-cancel","px-4",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","default-btn","bg-danger","modal-cancel","px-4"],[1,"text-capitalize"],["routerLinkActive","activeTab",1,"list-group-item","text-center","sec-tab","py-3","px-2",3,"routerLink","ngClass","click"],[1,"completeStatus"],[1,"float-end","pe-2","text-center","pt-lg-1","fw-normal","text-white","bg-success"]],template:function(e,t){1&e&&(a.Vb(0,"div",0),a.Vb(1,"div",1),a.Vb(2,"div",2),a.Vb(3,"div",3),a.Vb(4,"div",4),a.Vb(5,"h6"),a.Dc(6,"FORM SECTIONS"),a.Ub(),a.Ub(),a.Vb(7,"div",5),a.Vb(8,"div",6),a.Vb(9,"div",7),a.Vb(10,"p",8),a.Vb(11,"span",9),a.Dc(12," Company Name: "),a.Ub(),a.Vb(13,"span",10),a.Bc(14,ps,2,1,"strong",11),a.Bc(15,ms,2,1,"strong",12),a.Ub(),a.Ub(),a.Ub(),a.Vb(16,"div",13),a.Vb(17,"p",8),a.Vb(18,"span",9),a.Dc(19,"Tax Id: "),a.Ub(),a.Vb(20,"span",10),a.Bc(21,bs,2,1,"strong",11),a.Bc(22,fs,2,1,"strong",11),a.Ub(),a.Ub(),a.Ub(),a.Vb(23,"div",14),a.Vb(24,"p",15),a.Vb(25,"span",9),a.Dc(26,"Messer Vendor Id: "),a.Ub(),a.Vb(27,"span",10),a.Bc(28,hs,2,1,"strong",11),a.Bc(29,_s,2,1,"strong",11),a.Ub(),a.Ub(),a.Ub(),a.Vb(30,"div",16),a.Vb(31,"p",15),a.Vb(32,"span",9),a.Dc(33,"Prequal Expiry Date: "),a.Ub(),a.Vb(34,"span",10),a.Vb(35,"strong"),a.Dc(36),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Vb(37,"div",17),a.Vb(38,"div",18),a.Vb(39,"div",19),a.Vb(40,"ul",20),a.Bc(41,vs,7,6,"li",21),a.Ub(),a.Ub(),a.Ub(),a.Vb(42,"div",22),a.Vb(43,"div",23),a.Vb(44,"div",24),a.Vb(45,"h5",25),a.Dc(46),a.Ub(),a.Ub(),a.Vb(47,"div",26),a.Bc(48,ys,3,4,"small",27),a.Ub(),a.Ub(),a.Vb(49,"div",28),a.Dc(50),a.Ub(),a.Qb(51,"router-outlet"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Qb(52,"button",29),a.Vb(53,"div",30,31),a.Vb(55,"div",32),a.Vb(56,"div",33),a.Vb(57,"div",34),a.Vb(58,"p"),a.Dc(59,"Do you want to stop completing the prequalifcation form and go to the homepage?"),a.Ub(),a.Ub(),a.Vb(60,"div",35),a.Vb(61,"button",36),a.cc("click",function(){return t.redirecttohome()}),a.Dc(62,"YES"),a.Ub(),a.Vb(63,"button",37),a.Dc(64,"NO"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub()),2&e&&(a.Db(14),a.mc("ngIf","Subcontractor"==t.userRole),a.Db(1),a.mc("ngIf","Subcontractor"!=t.userRole),a.Db(6),a.mc("ngIf","Subcontractor"==t.userRole),a.Db(1),a.mc("ngIf","Subcontractor"!=t.userRole),a.Db(6),a.mc("ngIf","Subcontractor"==t.userRole),a.Db(1),a.mc("ngIf","Subcontractor"!=t.userRole),a.Db(7),a.Ec(null==t.userDetails?null:t.userDetails.expDate),a.Db(5),a.mc("ngForOf",t.leftMenu),a.Db(5),a.Ec(t.activeItem),a.Db(2),a.mc("ngIf",t.orgupdatedate),a.Db(2),a.Ec(t.activeDetail))},directives:[o.l,o.k,r.j,r.h,r.g,o.j],pipes:[o.e],styles:['@charset "UTF-8";.leftmenu[_ngcontent-%COMP%]{padding:0;margin:0;list-style-type:none;font-size:14px}.sec-tab[_ngcontent-%COMP%]{background-color:#fafad2;text-transform:uppercase;color:#dc4405!important}.leftmenu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none!important}.activeTab[_ngcontent-%COMP%]:after{content:"";position:absolute;left:100%;top:50%;margin-top:-13px;border-left:0;border-bottom:13px solid transparent;border-top:13px solid transparent;border-left:10px solid #4a7729!important}.activeTab[_ngcontent-%COMP%]{padding:14px \u200b4px;color:#fff!important;border:1px solid #4a7729!important;background:#4a7729!important;text-decoration:none;text-align:center;cursor:pointer;font-weight:700;font-size:12px!important}.activeTab[_ngcontent-%COMP%]   .completeStatus[_ngcontent-%COMP%]{font-size:10px!important;color:#fff!important;font-weight:400!important}.bg-success[_ngcontent-%COMP%]{background-color:#4a7729!important}.font-weight-bold[_ngcontent-%COMP%]{font-weight:600!important}.vendor[_ngcontent-%COMP%]{text-align:right}.btn-outline-success[_ngcontent-%COMP%]{color:#4a7729!important;border-color:#4a7729!important}.btn-outline-success[_ngcontent-%COMP%]:hover{background-color:#4a7729!important;color:#fff!important}.completeStatus[_ngcontent-%COMP%]{font-size:10px!important;color:green;position:absolute;right:5px;bottom:2px}.header[_ngcontent-%COMP%]{text-transform:uppercase}.subheading[_ngcontent-%COMP%]{color:orange;padding:6px 7px 0 30px;font-weight:700;font-size:13px!important}']}),e})(),Us=(()=>{class e extends mt.a{constructor(e,t){super("Experience",e,t,{root:bt.a.webserviceURlLocal})}getAll(){return super.getAll()}getRecords(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("experience/"+e,bt.a.webserviceURlLocal);return this.http.get(i,t)}updateRecord(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("experience/"+t,bt.a.webserviceURlLocal);return this.http.put(o,e,i)}addRecord(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("experience",bt.a.webserviceURlLocal);return this.http.post(i,e,t)}getUser(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("Organization/"+e+"/"+t,bt.a.webserviceURlLocal);return this.http.get(o,i)}getComplete(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("Organization/Getstatus/"+e,bt.a.webserviceURlLocal);return this.http.get(i,t)}deleteRecord(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.delete(bt.a.webserviceURlLocal+"experience/"+e,t)}}return e.\u0275fac=function(t){return new(t||e)(a.Zb(ft.b),a.Zb(mt.c))},e.\u0275prov=a.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Ds(e,t){if(1&e){const e=a.Wb();a.Vb(0,"i",50),a.cc("click",function(){a.uc(e);const t=a.gc(2),i=t.index,o=t.$implicit;return a.gc(2).editrelevant(i,o)}),a.Ub()}}function Cs(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",42),a.Vb(1,"div",43),a.Vb(2,"p",44),a.Dc(3,"Project Name"),a.Ub(),a.Ub(),a.Vb(4,"div",43),a.Vb(5,"p"),a.Vb(6,"span",45),a.Dc(7),a.Ub(),a.Vb(8,"small",46),a.Bc(9,Ds,1,0,"i",47),a.Vb(10,"i",48),a.cc("click",function(){a.uc(e);const t=a.gc(),i=t.index,o=t.$implicit;return a.gc(2).removeRelevant(i,o)}),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Vb(11,"div",49),a.Vb(12,"p",44),a.Dc(13,"General Contractor/Owner"),a.Ub(),a.Ub(),a.Vb(14,"div",49),a.Vb(15,"p"),a.Dc(16),a.Ub(),a.Ub(),a.Vb(17,"div",49),a.Vb(18,"p",44),a.Dc(19,"Contract Price"),a.Ub(),a.Ub(),a.Vb(20,"div",49),a.Vb(21,"p"),a.Dc(22),a.Ub(),a.Ub(),a.Vb(23,"div",49),a.Vb(24,"p",44),a.Dc(25,"Completion Date"),a.Ub(),a.Ub(),a.Vb(26,"div",49),a.Vb(27,"p"),a.Dc(28),a.hc(29,"date"),a.Ub(),a.Ub(),a.Vb(30,"div",49),a.Vb(31,"p",44),a.Dc(32,"City"),a.Ub(),a.Ub(),a.Vb(33,"div",49),a.Vb(34,"p"),a.Dc(35),a.Ub(),a.Ub(),a.Vb(36,"div",49),a.Vb(37,"p",44),a.Dc(38,"State"),a.Ub(),a.Ub(),a.Vb(39,"div",49),a.Vb(40,"p"),a.Dc(41),a.Ub(),a.Ub(),a.Ub()}if(2&e){const e=a.gc().$implicit,t=a.gc(2);a.Db(7),a.Ec(e.projectName),a.Db(2),a.mc("ngIf",!t.pastdisabledEdit),a.Db(7),a.Ec(e.isOwner),a.Db(6),a.Ec(e.contractPrice),a.Db(6),a.Ec(a.jc(29,7,e.completionDate,"MM-dd-yyyy")),a.Db(7),a.Ec(e.city),a.Db(6),a.Ec(e.state)}}function Is(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Project Name is required "),a.Ub())}function Rs(e,t){if(1&e&&(a.Vb(0,"div",78),a.Bc(1,Is,2,0,"div",79),a.Ub()),2&e){const e=a.gc(4);a.Db(1),a.mc("ngIf",e.ff.projectName.errors.required)}}function Fs(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"General contractor/owner is required "),a.Ub())}function Ss(e,t){if(1&e&&(a.Vb(0,"div",78),a.Bc(1,Fs,2,0,"div",79),a.Ub()),2&e){const e=a.gc(4);a.Db(1),a.mc("ngIf",e.ff.isOwner.errors.required)}}function ws(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Contract price is required "),a.Ub())}function js(e,t){if(1&e&&(a.Vb(0,"div",78),a.Bc(1,ws,2,0,"div",79),a.Ub()),2&e){const e=a.gc(4);a.Db(1),a.mc("ngIf",e.ff.contractPrice.errors.required)}}function xs(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Completion date is required "),a.Ub())}function ks(e,t){if(1&e&&(a.Vb(0,"div",78),a.Bc(1,xs,2,0,"div",79),a.Ub()),2&e){const e=a.gc(4);a.Db(1),a.mc("ngIf",e.ff.completionDate.errors.required)}}function Ps(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"City is required"),a.Ub())}function As(e,t){if(1&e&&(a.Vb(0,"div",78),a.Bc(1,Ps,2,0,"div",79),a.Ub()),2&e){const e=a.gc(4);a.Db(1),a.mc("ngIf",e.ff.city.errors.required)}}function Os(e,t){if(1&e&&(a.Vb(0,"option",73),a.Dc(1),a.Ub()),2&e){const e=t.$implicit;a.mc("ngValue",e.name),a.Db(1),a.Fc(" ",e.name,"")}}function Es(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"State is required"),a.Ub())}function Ms(e,t){if(1&e&&(a.Vb(0,"div",78),a.Bc(1,Es,2,0,"div",79),a.Ub()),2&e){const e=a.gc(4);a.Db(1),a.mc("ngIf",e.ff.state.errors.required)}}function Ns(e,t){if(1&e){const e=a.Wb();a.Vb(0,"button",80),a.cc("click",function(){a.uc(e);const t=a.gc(2),i=t.index,o=t.$implicit;return a.gc(2).cancelpastUpdate(i,o)}),a.Dc(1,"CANCEL"),a.Ub()}}function Ts(e,t){if(1&e){const e=a.Wb();a.Vb(0,"button",80),a.cc("click",function(){a.uc(e);const t=a.gc(2),i=t.index,o=t.$implicit;return a.gc(2).relevantupdate(i,o)}),a.Dc(1,"UPDATE"),a.Ub()}}const Bs=function(e){return{"is-invalid":e}};function qs(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",51),a.Vb(1,"form",52),a.Vb(2,"div",53),a.Vb(3,"div",54),a.Vb(4,"label",55),a.Dc(5," Project Name "),a.Vb(6,"span",16),a.Dc(7,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(8,"div",56),a.Vb(9,"input",57),a.cc("ngModelChange",function(){return a.uc(e),a.gc(3).idleReset()}),a.Ub(),a.Bc(10,Rs,2,1,"div",24),a.Ub(),a.Ub(),a.Vb(11,"div",58),a.Vb(12,"div",54),a.Vb(13,"label",59),a.Dc(14," General Contractor/Owner "),a.Vb(15,"span",16),a.Dc(16,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(17,"div",56),a.Vb(18,"div",17),a.Vb(19,"span",60),a.Vb(20,"input",61),a.cc("ngModelChange",function(){return a.uc(e),a.gc(3).idleReset()}),a.Ub(),a.Vb(21,"label",62),a.Dc(22," YES"),a.Ub(),a.Ub(),a.Vb(23,"span",60),a.Vb(24,"input",63),a.cc("ngModelChange",function(){return a.uc(e),a.gc(3).idleReset()}),a.Ub(),a.Vb(25,"label",64),a.Dc(26," NO"),a.Ub(),a.Ub(),a.Ub(),a.Bc(27,Ss,2,1,"div",24),a.Ub(),a.Ub(),a.Vb(28,"div",53),a.Vb(29,"div",54),a.Vb(30,"label",65),a.Dc(31,"Contract Price "),a.Vb(32,"span",16),a.Dc(33,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(34,"div",56),a.Vb(35,"input",66),a.cc("ngModelChange",function(){return a.uc(e),a.gc(3).idleReset()}),a.Ub(),a.Bc(36,js,2,1,"div",24),a.Ub(),a.Ub(),a.Vb(37,"div",53),a.Vb(38,"div",54),a.Vb(39,"label",67),a.Dc(40," Completion Date "),a.Vb(41,"span",16),a.Dc(42,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(43,"div",56),a.Vb(44,"input",68),a.cc("ngModelChange",function(){return a.uc(e),a.gc(3).idleReset()}),a.Ub(),a.Bc(45,ks,2,1,"div",24),a.Ub(),a.Ub(),a.Vb(46,"div",53),a.Vb(47,"div",54),a.Vb(48,"label",69),a.Dc(49,"City "),a.Vb(50,"span",16),a.Dc(51,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(52,"div",56),a.Vb(53,"input",70),a.cc("ngModelChange",function(){return a.uc(e),a.gc(3).idleReset()}),a.Ub(),a.Bc(54,As,2,1,"div",24),a.Ub(),a.Ub(),a.Vb(55,"div",53),a.Vb(56,"div",54),a.Vb(57,"label",71),a.Dc(58,"State "),a.Vb(59,"span",16),a.Dc(60,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(61,"div",56),a.Vb(62,"select",72),a.cc("ngModelChange",function(){return a.uc(e),a.gc(3).idleReset()}),a.Vb(63,"option",73),a.Dc(64,"Select"),a.Ub(),a.Bc(65,Os,2,2,"option",74),a.Ub(),a.Vb(66,"small",75),a.Dc(67,"NOTE: If your country is outside of USA, please select \u2018Other\u2019. "),a.Ub(),a.Bc(68,Ms,2,1,"div",24),a.Ub(),a.Ub(),a.Vb(69,"div",76),a.Bc(70,Ns,2,0,"button",77),a.Bc(71,Ts,2,0,"button",77),a.Ub(),a.Ub(),a.Ub()}if(2&e){const e=a.gc().$implicit,t=a.gc(2);a.Db(1),a.mc("formGroup",t.temppastprojectForm),a.Db(8),a.mc("ngClass",a.pc(18,Bs,t.temppastsubmitted&&t.ff.projectName.errors)),a.Db(1),a.mc("ngIf",(t.ff.projectName.touched||t.temppastsubmitted)&&t.ff.projectName.errors),a.Db(11),a.mc("ngClass",a.pc(20,Bs,t.temppastsubmitted&&t.ff.isOwner.errors)),a.Db(3),a.mc("ngClass",a.pc(22,Bs,t.temppastsubmitted&&t.ff.isOwner.errors)),a.Db(3),a.mc("ngIf",(t.ff.isOwner.touched||t.temppastsubmitted)&&t.ff.isOwner.errors),a.Db(8),a.mc("ngClass",a.pc(24,Bs,t.temppastsubmitted&&t.ff.contractPrice.errors)),a.Db(1),a.mc("ngIf",(t.ff.contractPrice.touched||t.temppastsubmitted)&&t.ff.contractPrice.errors),a.Db(8),a.mc("ngClass",a.pc(26,Bs,t.temppastsubmitted&&t.ff.completionDate.errors)),a.Db(1),a.mc("ngIf",(t.ff.completionDate.touched||t.temppastsubmitted)&&t.ff.completionDate.errors),a.Db(8),a.mc("ngClass",a.pc(28,Bs,t.temppastsubmitted&&t.ff.city.errors)),a.Db(1),a.mc("ngIf",(t.temppastsubmitted||t.ff.city.touched)&&t.ff.city.errors),a.Db(8),a.mc("ngClass",a.pc(30,Bs,t.temppastsubmitted&&t.ff.state.errors)),a.Db(1),a.mc("ngValue",""),a.Db(2),a.mc("ngForOf",t.stateNames),a.Db(3),a.mc("ngIf",(t.temppastsubmitted||t.ff.state.touched)&&t.ff.state.errors),a.Db(2),a.mc("ngIf",e.type),a.Db(1),a.mc("ngIf",e.type)}}function Ls(e,t){if(1&e&&(a.Vb(0,"div"),a.Bc(1,Cs,42,10,"div",41),a.Bc(2,qs,72,32,"div",8),a.Ub()),2&e){const e=t.$implicit;a.Db(1),a.mc("ngIf",!e.showEdit),a.Db(1),a.mc("ngIf",e.showEdit)}}function Ys(e,t){if(1&e&&(a.Vb(0,"div",39),a.Bc(1,Ls,3,2,"div",40),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngForOf",e.pastprojectlist)}}function zs(e,t){if(1&e){const e=a.Wb();a.Vb(0,"button",80),a.cc("click",function(){return a.uc(e),a.gc(2).showpastproject=!1}),a.Dc(1,"Add Another Ref"),a.Ub()}}function $s(e,t){if(1&e&&(a.Vb(0,"div",76),a.Bc(1,zs,2,0,"button",77),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",!e.showdisabled)}}function Qs(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Project Name is required"),a.Ub())}function Gs(e,t){if(1&e&&(a.Vb(0,"div",78),a.Bc(1,Qs,2,0,"div",79),a.Ub()),2&e){const e=a.gc(2);a.Db(1),a.mc("ngIf",e.f.projectName.errors.required)}}function Ws(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"General contractor/owner is required"),a.Ub())}function Hs(e,t){if(1&e&&(a.Vb(0,"div",78),a.Bc(1,Ws,2,0,"div",79),a.Ub()),2&e){const e=a.gc(2);a.Db(1),a.mc("ngIf",e.f.isOwner.errors.required)}}function Zs(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Contract price is required"),a.Ub())}function Ks(e,t){if(1&e&&(a.Vb(0,"div",78),a.Bc(1,Zs,2,0,"div",79),a.Ub()),2&e){const e=a.gc(2);a.Db(1),a.mc("ngIf",e.f.contractPrice.errors.required)}}function Xs(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Completetion date is required "),a.Ub())}function Js(e,t){if(1&e&&(a.Vb(0,"div",78),a.Bc(1,Xs,2,0,"div",79),a.Ub()),2&e){const e=a.gc(2);a.Db(1),a.mc("ngIf",e.f.completionDate.errors.required)}}function ea(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"City is required"),a.Ub())}function ta(e,t){if(1&e&&(a.Vb(0,"div",78),a.Bc(1,ea,2,0,"div",79),a.Ub()),2&e){const e=a.gc(2);a.Db(1),a.mc("ngIf",e.f.city.errors.required)}}function ia(e,t){if(1&e&&(a.Vb(0,"option",73),a.Dc(1),a.Ub()),2&e){const e=t.$implicit;a.mc("ngValue",e.name),a.Db(1),a.Fc("",e.name," ")}}function oa(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"State is required"),a.Ub())}function na(e,t){if(1&e&&(a.Vb(0,"div",78),a.Bc(1,oa,2,0,"div",79),a.Ub()),2&e){const e=a.gc(2);a.Db(1),a.mc("ngIf",e.f.state.errors.required)}}function ra(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",51),a.Vb(1,"form",10),a.cc("keydown.enter",function(e){return e.preventDefault()}),a.Vb(2,"div",53),a.Vb(3,"div",54),a.Vb(4,"label",55),a.Dc(5," Project Name "),a.Vb(6,"span",16),a.Dc(7,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(8,"div",56),a.Vb(9,"input",57),a.cc("ngModelChange",function(){return a.uc(e),a.gc().idleReset()}),a.Ub(),a.Bc(10,Gs,2,1,"div",24),a.Ub(),a.Ub(),a.Vb(11,"div",58),a.Vb(12,"div",54),a.Vb(13,"label",59),a.Dc(14," General Contractor/Owner "),a.Vb(15,"span",16),a.Dc(16,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(17,"div",56),a.Vb(18,"div",58),a.Vb(19,"span",60),a.Vb(20,"input",81),a.cc("ngModelChange",function(){return a.uc(e),a.gc().idleReset()}),a.Ub(),a.Vb(21,"label",62),a.Dc(22," YES"),a.Ub(),a.Ub(),a.Vb(23,"span",82),a.Vb(24,"input",63),a.cc("ngModelChange",function(){return a.uc(e),a.gc().idleReset()}),a.Ub(),a.Vb(25,"label",64),a.Dc(26," NO"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Bc(27,Hs,2,1,"div",24),a.Ub(),a.Vb(28,"div",58),a.Vb(29,"div",54),a.Vb(30,"label",65),a.Dc(31,"Contract Price "),a.Vb(32,"span",16),a.Dc(33,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(34,"div",56),a.Vb(35,"input",66),a.cc("ngModelChange",function(){return a.uc(e),a.gc().idleReset()}),a.Ub(),a.Bc(36,Ks,2,1,"div",24),a.Ub(),a.Ub(),a.Vb(37,"div",58),a.Vb(38,"div",54),a.Vb(39,"label",67),a.Dc(40," Completion Date "),a.Vb(41,"span",16),a.Dc(42,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(43,"div",56),a.Vb(44,"input",68),a.cc("ngModelChange",function(){return a.uc(e),a.gc().idleReset()}),a.Ub(),a.Bc(45,Js,2,1,"div",24),a.Ub(),a.Ub(),a.Vb(46,"div",58),a.Vb(47,"div",54),a.Vb(48,"label",69),a.Dc(49,"City "),a.Vb(50,"span",16),a.Dc(51,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(52,"div",56),a.Vb(53,"input",70),a.cc("ngModelChange",function(){return a.uc(e),a.gc().idleReset()}),a.Ub(),a.Bc(54,ta,2,1,"div",24),a.Ub(),a.Ub(),a.Vb(55,"div",58),a.Vb(56,"div",54),a.Vb(57,"label",71),a.Dc(58,"State "),a.Vb(59,"span",16),a.Dc(60,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(61,"div",56),a.Vb(62,"select",72),a.cc("ngModelChange",function(){return a.uc(e),a.gc().idleReset()}),a.Vb(63,"option",73),a.Dc(64,"Select"),a.Ub(),a.Bc(65,ia,2,2,"option",74),a.Ub(),a.Vb(66,"small",75),a.Dc(67,"NOTE: If your country is outside of USA, please select \u2018Other\u2019. "),a.Ub(),a.Bc(68,na,2,1,"div",24),a.Ub(),a.Ub(),a.Qb(69,"div",76),a.Ub(),a.Ub()}if(2&e){const e=a.gc();a.Db(1),a.mc("formGroup",e.pastprojectForm),a.Db(8),a.mc("ngClass",a.pc(16,Bs,e.submitted&&e.f.projectName.errors)),a.Db(1),a.mc("ngIf",(e.f.projectName.touched||e.submitted)&&e.f.projectName.errors),a.Db(11),a.mc("ngClass",a.pc(18,Bs,e.submitted&&e.f.isOwner.errors)),a.Db(3),a.mc("ngClass",a.pc(20,Bs,e.submitted&&e.f.isOwner.errors)),a.Db(3),a.mc("ngIf",(e.f.isOwner.touched||e.submitted)&&e.f.isOwner.errors),a.Db(8),a.mc("ngClass",a.pc(22,Bs,e.submitted&&e.f.contractPrice.errors)),a.Db(1),a.mc("ngIf",(e.f.contractPrice.touched||e.submitted)&&e.f.contractPrice.errors),a.Db(8),a.mc("ngClass",a.pc(24,Bs,e.submitted&&e.f.completionDate.errors)),a.Db(1),a.mc("ngIf",(e.f.completionDate.touched||e.submitted)&&e.f.completionDate.errors),a.Db(8),a.mc("ngClass",a.pc(26,Bs,e.submitted&&e.f.city.errors)),a.Db(1),a.mc("ngIf",(e.submitted||e.f.city.touched)&&e.f.city.errors),a.Db(8),a.mc("ngClass",a.pc(28,Bs,e.submitted&&e.f.state.errors)),a.Db(1),a.mc("ngValue",""),a.Db(2),a.mc("ngForOf",e.stateNames),a.Db(3),a.mc("ngIf",(e.submitted||e.f.state.touched)&&e.f.state.errors)}}function sa(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Project Name is required"),a.Ub())}function aa(e,t){if(1&e&&(a.Vb(0,"div",78),a.Bc(1,sa,2,0,"div",79),a.Ub()),2&e){const e=a.gc(2);a.Db(1),a.mc("ngIf",e.f2.projectName.errors.required)}}function ca(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"General contractor/owner is required "),a.Ub())}function la(e,t){if(1&e&&(a.Vb(0,"div",78),a.Bc(1,ca,2,0,"div",79),a.Ub()),2&e){const e=a.gc(2);a.Db(1),a.mc("ngIf",e.f2.isOwner.errors.required)}}function da(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Contract price is required"),a.Ub())}function ua(e,t){if(1&e&&(a.Vb(0,"div",78),a.Bc(1,da,2,0,"div",79),a.Ub()),2&e){const e=a.gc(2);a.Db(1),a.mc("ngIf",e.f2.contractPrice.errors.required)}}function pa(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Completetion date is required "),a.Ub())}function ma(e,t){if(1&e&&(a.Vb(0,"div",78),a.Bc(1,pa,2,0,"div",79),a.Ub()),2&e){const e=a.gc(2);a.Db(1),a.mc("ngIf",e.f2.completionDate.errors.required)}}function ba(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"City is required"),a.Ub())}function fa(e,t){if(1&e&&(a.Vb(0,"div",78),a.Bc(1,ba,2,0,"div",79),a.Ub()),2&e){const e=a.gc(2);a.Db(1),a.mc("ngIf",e.f2.city.errors.required)}}function ha(e,t){if(1&e&&(a.Vb(0,"option",73),a.Dc(1),a.Ub()),2&e){const e=t.$implicit;a.mc("ngValue",e.name),a.Db(1),a.Fc("",e.name," ")}}function _a(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"State is required"),a.Ub())}function ga(e,t){if(1&e&&(a.Vb(0,"div",78),a.Bc(1,_a,2,0,"div",79),a.Ub()),2&e){const e=a.gc(2);a.Db(1),a.mc("ngIf",e.f2.state.errors.required)}}function va(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",51),a.Vb(1,"form",10),a.cc("keydown.enter",function(e){return e.preventDefault()}),a.Vb(2,"div",53),a.Vb(3,"div",54),a.Vb(4,"label",55),a.Dc(5," Project Name "),a.Vb(6,"span",16),a.Dc(7,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(8,"div",56),a.Vb(9,"input",57),a.cc("ngModelChange",function(){return a.uc(e),a.gc().idleReset()}),a.Ub(),a.Bc(10,aa,2,1,"div",24),a.Ub(),a.Ub(),a.Vb(11,"div",58),a.Vb(12,"div",54),a.Vb(13,"label",59),a.Dc(14," General Contractor/Owner "),a.Vb(15,"span",16),a.Dc(16,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(17,"div",56),a.Vb(18,"div",58),a.Vb(19,"span",60),a.Vb(20,"input",83),a.cc("ngModelChange",function(){return a.uc(e),a.gc().idleReset()}),a.Ub(),a.Vb(21,"label",84),a.Dc(22," YES"),a.Ub(),a.Ub(),a.Vb(23,"span",82),a.Vb(24,"input",85),a.cc("ngModelChange",function(){return a.uc(e),a.gc().idleReset()}),a.Ub(),a.Vb(25,"label",86),a.Dc(26," NO"),a.Ub(),a.Ub(),a.Ub(),a.Bc(27,la,2,1,"div",24),a.Ub(),a.Ub(),a.Vb(28,"div",58),a.Vb(29,"div",54),a.Vb(30,"label",65),a.Dc(31,"Contract Price "),a.Vb(32,"span",16),a.Dc(33,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(34,"div",56),a.Vb(35,"input",66),a.cc("ngModelChange",function(){return a.uc(e),a.gc().idleReset()}),a.Ub(),a.Bc(36,ua,2,1,"div",24),a.Ub(),a.Ub(),a.Vb(37,"div",58),a.Vb(38,"div",54),a.Vb(39,"label",67),a.Dc(40," Completion Date "),a.Vb(41,"span",16),a.Dc(42,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(43,"div",56),a.Vb(44,"input",68),a.cc("ngModelChange",function(){return a.uc(e),a.gc().idleReset()}),a.Ub(),a.Bc(45,ma,2,1,"div",24),a.Ub(),a.Ub(),a.Vb(46,"div",58),a.Vb(47,"div",54),a.Vb(48,"label",69),a.Dc(49,"City "),a.Vb(50,"span",16),a.Dc(51,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(52,"div",56),a.Vb(53,"input",70),a.cc("ngModelChange",function(){return a.uc(e),a.gc().idleReset()}),a.Ub(),a.Bc(54,fa,2,1,"div",24),a.Ub(),a.Ub(),a.Vb(55,"div",58),a.Vb(56,"div",54),a.Vb(57,"label",71),a.Dc(58,"State "),a.Vb(59,"span",16),a.Dc(60,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(61,"div",56),a.Vb(62,"select",72),a.cc("ngModelChange",function(){return a.uc(e),a.gc().idleReset()}),a.Vb(63,"option",73),a.Dc(64,"Select"),a.Ub(),a.Bc(65,ha,2,2,"option",74),a.Ub(),a.Vb(66,"small",75),a.Dc(67,"NOTE: If your country is outside of USA, please select \u2018Other\u2019. "),a.Ub(),a.Bc(68,ga,2,1,"div",24),a.Ub(),a.Ub(),a.Qb(69,"div",76),a.Ub(),a.Ub()}if(2&e){const e=a.gc();a.Db(1),a.mc("formGroup",e.pastprojectForm2),a.Db(8),a.mc("ngClass",a.pc(16,Bs,e.submitted2&&e.f2.projectName.errors)),a.Db(1),a.mc("ngIf",(e.f2.projectName.touched||e.submitted2)&&e.f2.projectName.errors),a.Db(11),a.mc("ngClass",a.pc(18,Bs,e.submitted2&&e.f2.isOwner.errors)),a.Db(3),a.mc("ngClass",a.pc(20,Bs,e.submitted2&&e.f2.isOwner.errors)),a.Db(3),a.mc("ngIf",(e.f2.isOwner.touched||e.submitted2)&&e.f2.isOwner.errors),a.Db(8),a.mc("ngClass",a.pc(22,Bs,e.submitted2&&e.f2.contractPrice.errors)),a.Db(1),a.mc("ngIf",(e.f2.contractPrice.touched||e.submitted2)&&e.f2.contractPrice.errors),a.Db(8),a.mc("ngClass",a.pc(24,Bs,e.submitted2&&e.f2.completionDate.errors)),a.Db(1),a.mc("ngIf",(e.f2.completionDate.touched||e.submitted2)&&e.f2.completionDate.errors),a.Db(8),a.mc("ngClass",a.pc(26,Bs,e.submitted2&&e.f2.city.errors)),a.Db(1),a.mc("ngIf",(e.submitted2||e.f2.city.touched)&&e.f2.city.errors),a.Db(8),a.mc("ngClass",a.pc(28,Bs,e.submitted2&&e.f2.state.errors)),a.Db(1),a.mc("ngValue",""),a.Db(2),a.mc("ngForOf",e.stateNames),a.Db(3),a.mc("ngIf",(e.submitted2||e.f2.state.touched)&&e.f2.state.errors)}}function ya(e,t){if(1&e){const e=a.Wb();a.Vb(0,"i",50),a.cc("click",function(){a.uc(e);const t=a.gc(2),i=t.index,o=t.$implicit;return a.gc(2).editrelevant(i,o)}),a.Ub()}}function Va(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",42),a.Vb(1,"div",43),a.Vb(2,"p",44),a.Dc(3,"Project Name"),a.Ub(),a.Ub(),a.Vb(4,"div",43),a.Vb(5,"p"),a.Dc(6),a.Vb(7,"small",46),a.Bc(8,ya,1,0,"i",47),a.Vb(9,"i",48),a.cc("click",function(){a.uc(e);const t=a.gc(),i=t.index,o=t.$implicit;return a.gc(2).removeRelevant(i,o)}),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Vb(10,"div",49),a.Vb(11,"p",44),a.Dc(12,"General Contractor/Owner"),a.Ub(),a.Ub(),a.Vb(13,"div",49),a.Vb(14,"p"),a.Dc(15),a.Ub(),a.Ub(),a.Vb(16,"div",49),a.Vb(17,"p",44),a.Dc(18,"Contract Price"),a.Ub(),a.Ub(),a.Vb(19,"div",49),a.Vb(20,"p"),a.Dc(21),a.Ub(),a.Ub(),a.Vb(22,"div",49),a.Vb(23,"p",44),a.Dc(24,"Completion Date"),a.Ub(),a.Ub(),a.Vb(25,"div",49),a.Vb(26,"p"),a.Dc(27),a.hc(28,"date"),a.Ub(),a.Ub(),a.Vb(29,"div",49),a.Vb(30,"p",44),a.Dc(31,"City"),a.Ub(),a.Ub(),a.Vb(32,"div",49),a.Vb(33,"p"),a.Dc(34),a.Ub(),a.Ub(),a.Vb(35,"div",49),a.Vb(36,"p",44),a.Dc(37,"State"),a.Ub(),a.Ub(),a.Vb(38,"div",49),a.Vb(39,"p"),a.Dc(40),a.Ub(),a.Ub(),a.Ub()}if(2&e){const e=a.gc().$implicit,t=a.gc(2);a.Db(6),a.Ec(e.projectName),a.Db(2),a.mc("ngIf",!t.currdisabledEdit),a.Db(7),a.Ec(e.isOwner),a.Db(6),a.Ec(e.contractPrice),a.Db(6),a.Ec(a.jc(28,7,e.completionDate,"MM-dd-yyyy")),a.Db(7),a.Ec(e.city),a.Db(6),a.Ec(e.state)}}function Ua(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Project Name is required "),a.Ub())}function Da(e,t){if(1&e&&(a.Vb(0,"div",78),a.Bc(1,Ua,2,0,"div",79),a.Ub()),2&e){const e=a.gc(4);a.Db(1),a.mc("ngIf",e.ss.projectName.errors.required)}}function Ca(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"General contractor/owner is required"),a.Ub())}function Ia(e,t){if(1&e&&(a.Vb(0,"div",78),a.Bc(1,Ca,2,0,"div",79),a.Ub()),2&e){const e=a.gc(4);a.Db(1),a.mc("ngIf",e.ss.isOwner.errors.required)}}function Ra(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Contract price is required "),a.Ub())}function Fa(e,t){if(1&e&&(a.Vb(0,"div",78),a.Bc(1,Ra,2,0,"div",79),a.Ub()),2&e){const e=a.gc(4);a.Db(1),a.mc("ngIf",e.ss.contractPrice.errors.required)}}function Sa(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Completion date is required"),a.Ub())}function wa(e,t){if(1&e&&(a.Vb(0,"div",78),a.Bc(1,Sa,2,0,"div",79),a.Ub()),2&e){const e=a.gc(4);a.Db(1),a.mc("ngIf",e.ss.completionDate.errors.required)}}function ja(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"City is required"),a.Ub())}function xa(e,t){if(1&e&&(a.Vb(0,"div",78),a.Bc(1,ja,2,0,"div",79),a.Ub()),2&e){const e=a.gc(4);a.Db(1),a.mc("ngIf",e.ss.city.errors.required)}}function ka(e,t){if(1&e&&(a.Vb(0,"option",73),a.Dc(1),a.Ub()),2&e){const e=t.$implicit;a.mc("ngValue",e.name),a.Db(1),a.Fc(" ",e.name,"")}}function Pa(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"State is required"),a.Ub())}function Aa(e,t){if(1&e&&(a.Vb(0,"div",78),a.Bc(1,Pa,2,0,"div",79),a.Ub()),2&e){const e=a.gc(4);a.Db(1),a.mc("ngIf",e.ss.state.errors.required)}}function Oa(e,t){if(1&e){const e=a.Wb();a.Vb(0,"button",80),a.cc("click",function(){a.uc(e);const t=a.gc(2),i=t.index,o=t.$implicit;return a.gc(2).cancelpastUpdate(i,o)}),a.Dc(1,"CANCEL"),a.Ub()}}function Ea(e,t){if(1&e){const e=a.Wb();a.Vb(0,"button",80),a.cc("click",function(){a.uc(e);const t=a.gc(2),i=t.index,o=t.$implicit;return a.gc(2).relevantupdate(i,o)}),a.Dc(1,"UPDATE"),a.Ub()}}function Ma(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",51),a.Vb(1,"form",10),a.cc("keydown.enter",function(e){return e.preventDefault()}),a.Vb(2,"div",58),a.Vb(3,"div",54),a.Vb(4,"label",55),a.Dc(5," Project Name "),a.Vb(6,"span",16),a.Dc(7,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(8,"div",56),a.Vb(9,"input",57),a.cc("ngModelChange",function(){return a.uc(e),a.gc(3).idleReset()}),a.Ub(),a.Bc(10,Da,2,1,"div",24),a.Ub(),a.Ub(),a.Vb(11,"div",58),a.Vb(12,"div",54),a.Vb(13,"label",59),a.Dc(14," General Contractor/Owner "),a.Vb(15,"span",16),a.Dc(16,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(17,"div",49),a.Vb(18,"div",17),a.Vb(19,"span",60),a.Vb(20,"input",61),a.cc("ngModelChange",function(){return a.uc(e),a.gc(3).idleReset()}),a.Ub(),a.Vb(21,"label",62),a.Dc(22," YES"),a.Ub(),a.Ub(),a.Vb(23,"span",60),a.Vb(24,"input",63),a.cc("ngModelChange",function(){return a.uc(e),a.gc(3).idleReset()}),a.Ub(),a.Vb(25,"label",64),a.Dc(26," NO"),a.Ub(),a.Ub(),a.Ub(),a.Bc(27,Ia,2,1,"div",24),a.Ub(),a.Ub(),a.Vb(28,"div",58),a.Vb(29,"div",54),a.Vb(30,"label",65),a.Dc(31,"Contract Price "),a.Vb(32,"span",16),a.Dc(33,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(34,"div",56),a.Vb(35,"input",66),a.cc("ngModelChange",function(){return a.uc(e),a.gc(3).idleReset()}),a.Ub(),a.Bc(36,Fa,2,1,"div",24),a.Ub(),a.Ub(),a.Vb(37,"div",58),a.Vb(38,"div",54),a.Vb(39,"label",67),a.Dc(40," Completion Date "),a.Vb(41,"span",16),a.Dc(42,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(43,"div",56),a.Vb(44,"input",68),a.cc("ngModelChange",function(){return a.uc(e),a.gc(3).idleReset()}),a.Ub(),a.Bc(45,wa,2,1,"div",24),a.Ub(),a.Ub(),a.Vb(46,"div",58),a.Vb(47,"div",54),a.Vb(48,"label",69),a.Dc(49,"City "),a.Vb(50,"span",16),a.Dc(51,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(52,"div",56),a.Vb(53,"input",70),a.cc("ngModelChange",function(){return a.uc(e),a.gc(3).idleReset()}),a.Ub(),a.Bc(54,xa,2,1,"div",24),a.Ub(),a.Ub(),a.Vb(55,"div",58),a.Vb(56,"div",54),a.Vb(57,"label",71),a.Dc(58,"State "),a.Vb(59,"span",16),a.Dc(60,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(61,"div",56),a.Vb(62,"select",72),a.cc("ngModelChange",function(){return a.uc(e),a.gc(3).idleReset()}),a.Vb(63,"option",73),a.Dc(64,"Select"),a.Ub(),a.Bc(65,ka,2,2,"option",74),a.Ub(),a.Vb(66,"small",75),a.Dc(67,"NOTE: If your country is outside of USA, please select \u2018Other\u2019. "),a.Ub(),a.Bc(68,Aa,2,1,"div",24),a.Ub(),a.Ub(),a.Vb(69,"div",76),a.Bc(70,Oa,2,0,"button",77),a.Bc(71,Ea,2,0,"button",77),a.Ub(),a.Ub(),a.Ub()}if(2&e){const e=a.gc().$implicit,t=a.gc(2);a.Db(1),a.mc("formGroup",t.tempcurrentprojectForm),a.Db(8),a.mc("ngClass",a.pc(18,Bs,t.tempcurrentsubmitted&&t.ss.projectName.errors)),a.Db(1),a.mc("ngIf",(t.ss.projectName.touched||t.tempcurrentsubmitted)&&t.ss.projectName.errors),a.Db(11),a.mc("ngClass",a.pc(20,Bs,t.tempcurrentsubmitted&&t.ss.isOwner.errors)),a.Db(3),a.mc("ngClass",a.pc(22,Bs,t.tempcurrentsubmitted&&t.ss.isOwner.errors)),a.Db(3),a.mc("ngIf",(t.ss.isOwner.touched||t.tempcurrentsubmitted)&&t.ss.isOwner.errors),a.Db(8),a.mc("ngClass",a.pc(24,Bs,t.tempcurrentsubmitted&&t.ss.contractPrice.errors)),a.Db(1),a.mc("ngIf",(t.ss.contractPrice.touched||t.tempcurrentsubmitted)&&t.ss.contractPrice.errors),a.Db(8),a.mc("ngClass",a.pc(26,Bs,t.tempcurrentsubmitted&&t.ss.completionDate.errors)),a.Db(1),a.mc("ngIf",(t.ss.completionDate.touched||t.tempcurrentsubmitted)&&t.ss.completionDate.errors),a.Db(8),a.mc("ngClass",a.pc(28,Bs,t.tempcurrentsubmitted&&t.ss.city.errors)),a.Db(1),a.mc("ngIf",(t.tempcurrentsubmitted||t.ss.city.touched)&&t.ss.city.errors),a.Db(8),a.mc("ngClass",a.pc(30,Bs,t.tempcurrentsubmitted&&t.ss.state.errors)),a.Db(1),a.mc("ngValue",""),a.Db(2),a.mc("ngForOf",t.stateNames),a.Db(3),a.mc("ngIf",(t.tempcurrentsubmitted||t.ss.state.touched)&&t.ss.state.errors),a.Db(2),a.mc("ngIf",e.type),a.Db(1),a.mc("ngIf",e.type)}}function Na(e,t){if(1&e&&(a.Vb(0,"div"),a.Bc(1,Va,41,10,"div",41),a.Bc(2,Ma,72,32,"div",8),a.Ub()),2&e){const e=t.$implicit;a.Db(1),a.mc("ngIf",!e.showEdit),a.Db(1),a.mc("ngIf",e.showEdit)}}function Ta(e,t){if(1&e&&(a.Vb(0,"div",39),a.Bc(1,Na,3,2,"div",40),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngForOf",e.currprojectlist)}}function Ba(e,t){if(1&e){const e=a.Wb();a.Vb(0,"button",80),a.cc("click",function(){return a.uc(e),a.gc(2).showcurrentproject=!1}),a.Dc(1,"Add Another Ref"),a.Ub()}}function qa(e,t){if(1&e&&(a.Vb(0,"div",76),a.Bc(1,Ba,2,0,"button",77),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",!e.showdisabled)}}function La(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Project Name is required"),a.Ub())}function Ya(e,t){if(1&e&&(a.Vb(0,"div",78),a.Bc(1,La,2,0,"div",79),a.Ub()),2&e){const e=a.gc(2);a.Db(1),a.mc("ngIf",e.s2.projectName.errors.required)}}function za(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"General contractor/owner is required "),a.Ub())}function $a(e,t){if(1&e&&(a.Vb(0,"div",78),a.Bc(1,za,2,0,"div",79),a.Ub()),2&e){const e=a.gc(2);a.Db(1),a.mc("ngIf",e.s2.isOwner.errors.required)}}function Qa(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Contract price is required "),a.Ub())}function Ga(e,t){if(1&e&&(a.Vb(0,"div",78),a.Bc(1,Qa,2,0,"div",79),a.Ub()),2&e){const e=a.gc(2);a.Db(1),a.mc("ngIf",e.s2.contractPrice.errors.required)}}function Wa(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Completetion date is required "),a.Ub())}function Ha(e,t){if(1&e&&(a.Vb(0,"div",78),a.Bc(1,Wa,2,0,"div",79),a.Ub()),2&e){const e=a.gc(2);a.Db(1),a.mc("ngIf",e.s2.completionDate.errors.required)}}function Za(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"City is required"),a.Ub())}function Ka(e,t){if(1&e&&(a.Vb(0,"div",78),a.Bc(1,Za,2,0,"div",79),a.Ub()),2&e){const e=a.gc(2);a.Db(1),a.mc("ngIf",e.s2.city.errors.required)}}function Xa(e,t){if(1&e&&(a.Vb(0,"option",73),a.Dc(1),a.Ub()),2&e){const e=t.$implicit;a.mc("ngValue",e.name),a.Db(1),a.Fc("",e.name," ")}}function Ja(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"State is required"),a.Ub())}function ec(e,t){if(1&e&&(a.Vb(0,"div",78),a.Bc(1,Ja,2,0,"div",79),a.Ub()),2&e){const e=a.gc(2);a.Db(1),a.mc("ngIf",e.s2.state.errors.required)}}function tc(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",51),a.Vb(1,"form",10),a.cc("keydown.enter",function(e){return e.preventDefault()}),a.Vb(2,"div",53),a.Vb(3,"div",54),a.Vb(4,"label",55),a.Dc(5," Project Name "),a.Vb(6,"span",16),a.Dc(7,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(8,"div",56),a.Vb(9,"input",57),a.cc("ngModelChange",function(){return a.uc(e),a.gc().idleReset()}),a.Ub(),a.Bc(10,Ya,2,1,"div",24),a.Ub(),a.Ub(),a.Vb(11,"div",58),a.Vb(12,"div",54),a.Vb(13,"label",59),a.Dc(14," General Contractor/Owner "),a.Vb(15,"span",16),a.Dc(16,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(17,"div",56),a.Vb(18,"div",58),a.Vb(19,"span",60),a.Vb(20,"input",83),a.cc("ngModelChange",function(){return a.uc(e),a.gc().idleReset()}),a.Ub(),a.Vb(21,"label",84),a.Dc(22," YES"),a.Ub(),a.Ub(),a.Vb(23,"span",82),a.Vb(24,"input",85),a.cc("ngModelChange",function(){return a.uc(e),a.gc().idleReset()}),a.Ub(),a.Vb(25,"label",86),a.Dc(26," NO"),a.Ub(),a.Ub(),a.Ub(),a.Bc(27,$a,2,1,"div",24),a.Ub(),a.Ub(),a.Vb(28,"div",58),a.Vb(29,"div",54),a.Vb(30,"label",65),a.Dc(31,"Contract Price "),a.Vb(32,"span",16),a.Dc(33,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(34,"div",56),a.Vb(35,"input",66),a.cc("ngModelChange",function(){return a.uc(e),a.gc().idleReset()}),a.Ub(),a.Bc(36,Ga,2,1,"div",24),a.Ub(),a.Ub(),a.Vb(37,"div",58),a.Vb(38,"div",54),a.Vb(39,"label",67),a.Dc(40," Completion Date "),a.Vb(41,"span",16),a.Dc(42,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(43,"div",56),a.Vb(44,"input",68),a.cc("ngModelChange",function(){return a.uc(e),a.gc().idleReset()}),a.Ub(),a.Bc(45,Ha,2,1,"div",24),a.Ub(),a.Ub(),a.Vb(46,"div",58),a.Vb(47,"div",54),a.Vb(48,"label",69),a.Dc(49,"City "),a.Vb(50,"span",16),a.Dc(51,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(52,"div",56),a.Vb(53,"input",70),a.cc("ngModelChange",function(){return a.uc(e),a.gc().idleReset()}),a.Ub(),a.Bc(54,Ka,2,1,"div",24),a.Ub(),a.Ub(),a.Vb(55,"div",58),a.Vb(56,"div",54),a.Vb(57,"label",71),a.Dc(58,"State "),a.Vb(59,"span",16),a.Dc(60,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(61,"div",56),a.Vb(62,"select",72),a.cc("ngModelChange",function(){return a.uc(e),a.gc().idleReset()}),a.Vb(63,"option",73),a.Dc(64,"Select"),a.Ub(),a.Bc(65,Xa,2,2,"option",74),a.Ub(),a.Vb(66,"small",75),a.Dc(67,"NOTE: If your country is outside of USA, please select \u2018Other\u2019. "),a.Ub(),a.Bc(68,ec,2,1,"div",24),a.Ub(),a.Ub(),a.Qb(69,"div",76),a.Ub(),a.Ub()}if(2&e){const e=a.gc();a.Db(1),a.mc("formGroup",e.currentprojectForm2),a.Db(8),a.mc("ngClass",a.pc(16,Bs,e.currentprojsubmitted2&&e.s2.projectName.errors)),a.Db(1),a.mc("ngIf",(e.s2.projectName.touched||e.currentprojsubmitted2)&&e.s2.projectName.errors),a.Db(11),a.mc("ngClass",a.pc(18,Bs,e.currentprojsubmitted2&&e.s2.isOwner.errors)),a.Db(3),a.mc("ngClass",a.pc(20,Bs,e.currentprojsubmitted2&&e.s2.isOwner.errors)),a.Db(3),a.mc("ngIf",(e.s2.isOwner.touched||e.currentprojsubmitted2)&&e.s2.isOwner.errors),a.Db(8),a.mc("ngClass",a.pc(22,Bs,e.currentprojsubmitted2&&e.s2.contractPrice.errors)),a.Db(1),a.mc("ngIf",(e.s2.contractPrice.touched||e.currentprojsubmitted2)&&e.s2.contractPrice.errors),a.Db(8),a.mc("ngClass",a.pc(24,Bs,e.currentprojsubmitted2&&e.s2.completionDate.errors)),a.Db(1),a.mc("ngIf",(e.s2.completionDate.touched||e.currentprojsubmitted2)&&e.s2.completionDate.errors),a.Db(8),a.mc("ngClass",a.pc(26,Bs,e.currentprojsubmitted2&&e.s2.city.errors)),a.Db(1),a.mc("ngIf",(e.currentprojsubmitted2||e.s2.city.touched)&&e.s2.city.errors),a.Db(8),a.mc("ngClass",a.pc(28,Bs,e.currentprojsubmitted2&&e.s2.state.errors)),a.Db(1),a.mc("ngValue",""),a.Db(2),a.mc("ngForOf",e.stateNames),a.Db(3),a.mc("ngIf",(e.currentprojsubmitted2||e.s2.state.touched)&&e.s2.state.errors)}}function ic(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Project Name is required"),a.Ub())}function oc(e,t){if(1&e&&(a.Vb(0,"div",78),a.Bc(1,ic,2,0,"div",79),a.Ub()),2&e){const e=a.gc(2);a.Db(1),a.mc("ngIf",e.s.projectName.errors.required)}}function nc(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"General contractor/owner is required "),a.Ub())}function rc(e,t){if(1&e&&(a.Vb(0,"div",78),a.Bc(1,nc,2,0,"div",79),a.Ub()),2&e){const e=a.gc(2);a.Db(1),a.mc("ngIf",e.s.isOwner.errors.required)}}function sc(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Contract price is required "),a.Ub())}function ac(e,t){if(1&e&&(a.Vb(0,"div",78),a.Bc(1,sc,2,0,"div",79),a.Ub()),2&e){const e=a.gc(2);a.Db(1),a.mc("ngIf",e.s.contractPrice.errors.required)}}function cc(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Completetion date is required "),a.Ub())}function lc(e,t){if(1&e&&(a.Vb(0,"div",78),a.Bc(1,cc,2,0,"div",79),a.Ub()),2&e){const e=a.gc(2);a.Db(1),a.mc("ngIf",e.s.completionDate.errors.required)}}function dc(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"City is required"),a.Ub())}function uc(e,t){if(1&e&&(a.Vb(0,"div",78),a.Bc(1,dc,2,0,"div",79),a.Ub()),2&e){const e=a.gc(2);a.Db(1),a.mc("ngIf",e.s.city.errors.required)}}function pc(e,t){if(1&e&&(a.Vb(0,"option",73),a.Dc(1),a.Ub()),2&e){const e=t.$implicit;a.mc("ngValue",e.name),a.Db(1),a.Fc("",e.name," ")}}function mc(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"State is required"),a.Ub())}function bc(e,t){if(1&e&&(a.Vb(0,"div",78),a.Bc(1,mc,2,0,"div",79),a.Ub()),2&e){const e=a.gc(2);a.Db(1),a.mc("ngIf",e.s.state.errors.required)}}function fc(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",51),a.Vb(1,"form",10),a.cc("keydown.enter",function(e){return e.preventDefault()}),a.Vb(2,"div",58),a.Vb(3,"div",54),a.Vb(4,"label",55),a.Dc(5," Project Name "),a.Vb(6,"span",16),a.Dc(7,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(8,"div",56),a.Vb(9,"input",57),a.cc("ngModelChange",function(){return a.uc(e),a.gc().idleReset()}),a.Ub(),a.Bc(10,oc,2,1,"div",24),a.Ub(),a.Ub(),a.Vb(11,"div",58),a.Vb(12,"div",54),a.Vb(13,"label",59),a.Dc(14," General Contractor/Owner "),a.Vb(15,"span",16),a.Dc(16,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(17,"div",56),a.Vb(18,"div",58),a.Vb(19,"span",60),a.Vb(20,"input",87),a.cc("ngModelChange",function(){return a.uc(e),a.gc().idleReset()}),a.Ub(),a.Vb(21,"label",88),a.Dc(22," YES"),a.Ub(),a.Ub(),a.Vb(23,"span",82),a.Vb(24,"input",89),a.cc("ngModelChange",function(){return a.uc(e),a.gc().idleReset()}),a.Ub(),a.Vb(25,"label",90),a.Dc(26," NO"),a.Ub(),a.Ub(),a.Ub(),a.Bc(27,rc,2,1,"div",24),a.Ub(),a.Ub(),a.Vb(28,"div",58),a.Vb(29,"div",54),a.Vb(30,"label",65),a.Dc(31,"Contract Price "),a.Vb(32,"span",16),a.Dc(33,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(34,"div",56),a.Vb(35,"input",66),a.cc("ngModelChange",function(){return a.uc(e),a.gc().idleReset()}),a.Ub(),a.Bc(36,ac,2,1,"div",24),a.Ub(),a.Ub(),a.Vb(37,"div",58),a.Vb(38,"div",54),a.Vb(39,"label",67),a.Dc(40," Completion Date "),a.Vb(41,"span",16),a.Dc(42,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(43,"div",56),a.Vb(44,"input",68),a.cc("ngModelChange",function(){return a.uc(e),a.gc().idleReset()}),a.Ub(),a.Bc(45,lc,2,1,"div",24),a.Ub(),a.Ub(),a.Vb(46,"div",58),a.Vb(47,"div",54),a.Vb(48,"label",69),a.Dc(49,"City "),a.Vb(50,"span",16),a.Dc(51,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(52,"div",56),a.Vb(53,"input",70),a.cc("ngModelChange",function(){return a.uc(e),a.gc().idleReset()}),a.Ub(),a.Bc(54,uc,2,1,"div",24),a.Ub(),a.Ub(),a.Vb(55,"div",58),a.Vb(56,"div",54),a.Vb(57,"label",71),a.Dc(58,"State "),a.Vb(59,"span",16),a.Dc(60,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(61,"div",56),a.Vb(62,"select",72),a.cc("ngModelChange",function(){return a.uc(e),a.gc().idleReset()}),a.Vb(63,"option",73),a.Dc(64,"Select"),a.Ub(),a.Bc(65,pc,2,2,"option",74),a.Ub(),a.Vb(66,"small",75),a.Dc(67,"NOTE: If your country is outside of USA, please select \u2018Other\u2019. "),a.Ub(),a.Bc(68,bc,2,1,"div",24),a.Ub(),a.Ub(),a.Qb(69,"div",76),a.Ub(),a.Ub()}if(2&e){const e=a.gc();a.Db(1),a.mc("formGroup",e.currentprojectForm),a.Db(8),a.mc("ngClass",a.pc(16,Bs,e.currentprojsubmitted&&e.s.projectName.errors)),a.Db(1),a.mc("ngIf",(e.s.projectName.touched||e.currentprojsubmitted)&&e.s.projectName.errors),a.Db(11),a.mc("ngClass",a.pc(18,Bs,e.currentprojsubmitted&&e.s.isOwner.errors)),a.Db(3),a.mc("ngClass",a.pc(20,Bs,e.currentprojsubmitted&&e.s.isOwner.errors)),a.Db(3),a.mc("ngIf",(e.s.isOwner.touched||e.currentprojsubmitted)&&e.s.isOwner.errors),a.Db(8),a.mc("ngClass",a.pc(22,Bs,e.currentprojsubmitted&&e.s.contractPrice.errors)),a.Db(1),a.mc("ngIf",(e.s.contractPrice.touched||e.currentprojsubmitted)&&e.s.contractPrice.errors),a.Db(8),a.mc("ngClass",a.pc(24,Bs,e.currentprojsubmitted&&e.s.completionDate.errors)),a.Db(1),a.mc("ngIf",(e.s.completionDate.touched||e.currentprojsubmitted)&&e.s.completionDate.errors),a.Db(8),a.mc("ngClass",a.pc(26,Bs,e.currentprojsubmitted&&e.s.city.errors)),a.Db(1),a.mc("ngIf",(e.currentprojsubmitted||e.s.city.touched)&&e.s.city.errors),a.Db(8),a.mc("ngClass",a.pc(28,Bs,e.currentprojsubmitted&&e.s.state.errors)),a.Db(1),a.mc("ngValue",""),a.Db(2),a.mc("ngForOf",e.stateNames),a.Db(3),a.mc("ngIf",(e.currentprojsubmitted||e.s.state.touched)&&e.s.state.errors)}}function hc(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Company defaulted or failed is required "),a.Ub())}function _c(e,t){if(1&e&&(a.Vb(0,"div",78),a.Bc(1,hc,2,0,"div",79),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.g.is_Company_Failed.errors.required)}}function gc(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Company surety is required"),a.Ub())}function vc(e,t){if(1&e&&(a.Vb(0,"div",78),a.Bc(1,gc,2,0,"div",79),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.g.company_Failed_Info.errors.required)}}function yc(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Company defaulted or failed is required "),a.Ub())}function Vc(e,t){if(1&e&&(a.Vb(0,"div",78),a.Bc(1,yc,2,0,"div",79),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.g.is_Officer_Failed.errors.required)}}function Uc(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Company surety is required"),a.Ub())}function Dc(e,t){if(1&e&&(a.Vb(0,"div",78),a.Bc(1,Uc,2,0,"div",79),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.g.officer_Failed_Info.errors.required)}}function Cc(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",91),a.Vb(1,"button",92),a.cc("click",function(){return a.uc(e),a.gc().gotoHome()}),a.Dc(2," << BACK"),a.Ub(),a.Vb(3,"button",93),a.cc("click",function(){return a.uc(e),a.gc().save()}),a.Dc(4),a.Ub(),a.Vb(5,"button",80),a.cc("click",function(){return a.uc(e),a.gc().submit()}),a.Dc(6,"NEXT >>"),a.Ub(),a.Ub()}if(2&e){const e=a.gc();a.Db(4),a.Ec(e.submitText)}}function Ic(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",94),a.Vb(1,"button",92),a.cc("click",function(){return a.uc(e),a.gc().gotoHome()}),a.Dc(2," << BACK"),a.Ub(),a.Vb(3,"button",95),a.cc("click",function(){return a.uc(e),a.gc().nextroutePage()}),a.Dc(4,"NEXT >>"),a.Ub(),a.Ub()}}const Rc=function(e){return{"bg-grey":e}};let Fc=(()=>{class e{constructor(e,t,i,o,r,a,c,l,d){this.formBuilder=e,this.router=t,this.bnIdle=i,this.keepalive=o,this.toastr=r,this.companyservice=a,this.loginInfo=c,this.ngxUiLoader=l,this.relevantexperience=d,this.currentForm=3,this.pastprojectForm=this.formBuilder.group({id:[0],companyId:[0],type:["1"],projectName:["",[n.u.required,n.u.maxLength(130)]],isOwner:["",[n.u.required]],contractPrice:["",[n.u.required,n.u.maxLength(40),n.u.pattern(/^-?(0|[1-9]\d*)?$/)]],completionDate:["",[n.u.required,n.u.maxLength(40)]],city:["",[n.u.required,n.u.maxLength(130)]],state:["",[n.u.required,n.u.maxLength(20)]],isAutosave:["false"],isCompleted:["false"]}),this.pastprojectForm2=this.formBuilder.group({id:[0],companyId:[0],type:["1"],projectName:["",[n.u.required,n.u.maxLength(130)]],isOwner:["",[n.u.required]],contractPrice:["",[n.u.required,n.u.maxLength(40),n.u.pattern(/^-?(0|[1-9]\d*)?$/)]],completionDate:["",[n.u.required,n.u.maxLength(40)]],city:["",[n.u.required,n.u.maxLength(130)]],state:["",[n.u.required,n.u.maxLength(20)]],isAutosave:["false"],isCompleted:["false"]}),this.currentprojectForm=this.formBuilder.group({id:[0],companyId:[0],type:["2"],projectName:["",[n.u.required,n.u.maxLength(130)]],isOwner:["",[n.u.required,n.u.maxLength(130)]],contractPrice:["",[n.u.required,n.u.maxLength(40),n.u.pattern(/^-?(0|[1-9]\d*)?$/)]],completionDate:["",[n.u.required,n.u.maxLength(40)]],city:["",[n.u.required,n.u.maxLength(130)]],state:["",[n.u.required,n.u.maxLength(20)]],isAutosave:["false"],isCompleted:["false"]}),this.currentprojectForm2=this.formBuilder.group({id:[0],companyId:[0],type:["2"],projectName:["",[n.u.required,n.u.maxLength(130)]],isOwner:["",[n.u.required,n.u.maxLength(130)]],contractPrice:["",[n.u.required,n.u.maxLength(40),n.u.pattern(/^-?(0|[1-9]\d*)?$/)]],completionDate:["",[n.u.required,n.u.maxLength(40)]],city:["",[n.u.required,n.u.maxLength(130)]],state:["",[n.u.required,n.u.maxLength(20)]],isAutosave:["false"],isCompleted:["false"]}),this.otherForm=this.formBuilder.group({is_Company_Failed:["",[n.u.required,n.u.maxLength(40)]],company_Failed_Info:[""],is_Officer_Failed:["",[n.u.required]],officer_Failed_Info:[""]}),this.temppastprojectForm=this.formBuilder.group({id:[0],companyId:[0],type:["1"],projectName:["",[n.u.required,n.u.maxLength(130)]],isOwner:["",[n.u.required]],contractPrice:["",[n.u.required,n.u.maxLength(40),n.u.pattern(/^-?(0|[1-9]\d*)?$/)]],completionDate:["",[n.u.required,n.u.maxLength(40)]],city:["",[n.u.required,n.u.maxLength(130)]],state:["",[n.u.required,n.u.maxLength(20)]],isAutosave:["false"],isCompleted:["false"]}),this.tempcurrentprojectForm=this.formBuilder.group({id:[0],companyId:[0],type:["2"],projectName:["",[n.u.required,n.u.maxLength(130)]],isOwner:["",[n.u.required,n.u.maxLength(130)]],contractPrice:["",[n.u.required,n.u.maxLength(40),n.u.pattern(/^-?(0|[1-9]\d*)?$/)]],completionDate:["",[n.u.required,n.u.maxLength(40)]],city:["",[n.u.required,n.u.maxLength(130)]],state:["",[n.u.required,n.u.maxLength(20)]],isAutosave:["false"],isCompleted:["false"]}),this.tempcompanyid=0,this.showAdmin=!1,this.submitText="SAVE",this.resetTimer=0,this.submitted=!1,this.stateNames=s,this.showpastproject=!1,this.pastprojectlist=[],this.currprojectlist=[],this.relevantid=0,this.showcurrentproject=!1,this.currentprojsubmitted=!1,this.otherSubmitted=!1,this.showEditPastProject=!1,this.disableEdit=!1,this.otherlist=[{id:0,companyId:0,type:"3",projectName:"",contractPrice:"",completionDate:new Date,isOwner:"",city:"",state:"",is_Company_Failed:"",company_Failed_Info:"",is_Officer_Failed:"",officer_Failed_Info:""}],this.pastdisabledEdit=!1,this.currdisabledEdit=!1,this.temppastsubmitted=!1,this.tempcurrentsubmitted=!1,this.showdisabled=!1,this.submitted2=!1,this.showpastproject2=!1,this.currentprojsubmitted2=!1,this.showcurrentproject2=!1,this.nextclicked=!1}ngOnInit(){this.ngxUiLoader.startLoader("loader-01"),this.prequalification_status=this.loginInfo.organization_status;let e=localStorage.getItem("userDetails");e=JSON.parse(atob(e)),this.userDetails=e,this.userRole=e.role,this.tempcompanyid=localStorage.getItem("tempcompanyid"),this.tempcompanyid=Number(atob(this.tempcompanyid)),localStorage.setItem("currPage","relevant"),this.tempcompanyid>0&&"Subcontractor"!=this.userRole&&(this.showAdmin=!0,this.relevantexperience.getRecords(this.tempcompanyid).subscribe(e=>{this.updaterelevantinfo(e)}),this.showdisabled=!0,this.pastprojectForm.disable(),this.currentprojectForm.disable(),this.pastprojectForm2.disable(),this.currentprojectForm2.disable(),this.otherForm.disable(),this.pastprojectForm.updateValueAndValidity(),this.currentprojectForm.updateValueAndValidity(),this.pastprojectForm2.updateValueAndValidity(),this.currentprojectForm2.updateValueAndValidity(),this.otherForm.updateValueAndValidity()),this.submitText="SAVE",null!=this.userDetails.vendorId&&null!=this.userDetails.taxId&&"Subcontractor"==this.userRole&&this.relevantexperience.getUser(this.userDetails.vendorId,this.userDetails.taxId).subscribe(e=>{this.companyId=e.id,localStorage.setItem("companyid",btoa(this.companyId)),this.getRecords()}),this.ngxUiLoader.stopLoader("loader-01")}ngAfterViewInit(){0==this.showAdmin&&(this.keepalive.interval(30),this.keepalive.start(),this.keepalive.stop())}ngOnDestroy(){this.keepalive.stop(),this.nextclicked||this.nextpage()}get f(){return this.pastprojectForm.controls}get f2(){return this.pastprojectForm2.controls}get s(){return this.currentprojectForm.controls}get s2(){return this.currentprojectForm2.controls}get ff(){return this.temppastprojectForm.controls}get ss(){return this.tempcurrentprojectForm.controls}get g(){return"yes"==this.otherForm.value.is_Company_Failed?this.otherForm.controls.company_Failed_Info.setValidators([n.u.required]):(this.otherForm.patchValue({company_Failed_Info:this.otherForm.value.company_Failed_Info}),this.otherForm.controls.company_Failed_Info.clearValidators()),this.otherForm.controls.company_Failed_Info.updateValueAndValidity(),"yes"==this.otherForm.value.is_Officer_Failed?this.otherForm.controls.officer_Failed_Info.setValidators([n.u.required]):(this.otherForm.patchValue({officer_Failed_Info:this.otherForm.value.officer_Failed_Info}),this.otherForm.controls.officer_Failed_Info.clearValidators()),this.otherForm.controls.officer_Failed_Info.updateValueAndValidity(),this.otherForm.controls}idleReset(){this.keepalive.start(),this.resetTimer=0}getRecords(){this.relevantexperience.getRecords(this.companyId).subscribe(e=>{e.length&&(this.submitText="UPDATE",this.updaterelevantinfo(e))}),this.companyId>0&&this.companyservice.getRecord(this.companyId).subscribe(e=>{this.prequalification_status=(e=e[0]).preQualification_Status,e.preQualification_Status&&this.loginInfo.formDisable(e.preQualification_Status)&&(this.showdisabled=!0,this.pastprojectForm.disable(),this.currentprojectForm.disable(),this.otherForm.disable(),this.pastprojectForm2.disable(),this.currentprojectForm2.disable(),this.pastprojectForm.updateValueAndValidity(),this.currentprojectForm.updateValueAndValidity(),this.pastprojectForm2.updateValueAndValidity(),this.currentprojectForm2.updateValueAndValidity(),this.otherForm.updateValueAndValidity())})}updaterelevantinfo(e){this.pastprojectlist=[],this.currprojectlist=[],e.filter(e=>{"1"==e.type&&(this.pastprojectlist.push({id:e.id,companyId:e.companyId,type:e.type,projectName:this.loginInfo.validateEmpty(e.projectName),contractPrice:this.loginInfo.validateEmpty(e.contractPrice),completionDate:"2099-12-31T00:00:00"==this.loginInfo.validateEmpty(e.completionDate)?"":this.loginInfo.validateEmpty(e.completionDate),isOwner:this.loginInfo.validateEmpty(e.isOwner),city:this.loginInfo.validateEmpty(e.city),state:this.loginInfo.validateEmpty(e.state),is_Company_Failed:this.loginInfo.validateEmpty(e.is_Company_Failed),company_Failed_Info:this.validateEmpty(e.company_Failed_Info),is_Officer_Failed:this.loginInfo.validateEmpty(e.is_Officer_Failed),officer_Failed_Info:this.validateEmpty(e.officer_Failed_Info),showEdit:!1}),1==this.pastprojectlist.length?(this.showpastproject=!1,this.showpastproject2=!0):this.pastprojectlist.length>1&&(this.showpastproject=!0,this.showpastproject2=!0)),"2"==e.type&&(console.log(e),this.currprojectlist.push({id:e.id,companyId:e.companyId,type:e.type,projectName:this.loginInfo.validateEmpty(e.projectName),contractPrice:this.loginInfo.validateEmpty(e.contractPrice),completionDate:"2099-12-31T00:00:00"==this.loginInfo.validateEmpty(e.completionDate)?"":this.loginInfo.validateEmpty(e.completionDate),isOwner:this.loginInfo.validateEmpty(e.isOwner),city:this.loginInfo.validateEmpty(e.city),state:this.loginInfo.validateEmpty(e.state),is_Company_Failed:this.loginInfo.validateEmpty(e.is_Company_Failed),company_Failed_Info:this.validateEmpty(e.company_Failed_Info),is_Officer_Failed:this.loginInfo.validateEmpty(e.is_Officer_Failed),officer_Failed_Info:this.validateEmpty(e.officer_Failed_Info),showEdit:!1}),1==this.currprojectlist.length?(this.showcurrentproject=!1,this.showcurrentproject2=!0):this.currprojectlist.length>1&&(this.showcurrentproject=!0,this.showcurrentproject2=!0,this.showdisabled=!1)),"3"==e.type&&(console.log(e.company_Failed_Info,this.validateEmpty(e.company_Failed_Info)),this.otherForm.patchValue({is_Company_Failed:e.is_Company_Failed,company_Failed_Info:this.validateEmpty(e.company_Failed_Info),is_Officer_Failed:e.is_Officer_Failed,officer_Failed_Info:this.validateEmpty(e.officer_Failed_Info)}),this.otherlist[0].companyId=this.companyId,this.otherlist[0].id=e.id,this.otherlist[0].is_Company_Failed=this.loginInfo.validateEmpty(e.is_Company_Failed),this.otherlist[0].company_Failed_Info=this.loginInfo.validateEmpty(e.company_Failed_Info),this.otherlist[0].is_Officer_Failed=this.loginInfo.validateEmpty(e.is_Officer_Failed),this.otherlist[0].officer_Failed_Info=this.loginInfo.validateEmpty(e.officer_Failed_Info))}),0==this.pastprojectlist.length&&(this.showpastproject=!1,this.showpastproject2=!1),0==this.currprojectlist.length&&(this.showcurrentproject=!1,this.showcurrentproject2=!1)}submit(){if(this.otherSubmitted=!0,this.keepalive.stop(),"Subcontractor"!=this.userRole)this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`]);else if(this.companyId>0){this.nextclicked=!0,this.pastprojectFormcheckformValidation(),this.pastprojectForm2checkformValidation(),this.currentprojectcheckformValidation(),this.currentproject2checkformValidation(),this.temppastprojectFormcheckformValidation(),this.tempcurrprojectFormcheckformValidation(),this.otherlist[0].companyId=this.companyId,this.otherlist[0].is_Company_Failed=this.otherForm.value.is_Company_Failed,this.otherlist[0].company_Failed_Info=this.otherForm.value.company_Failed_Info,this.otherlist[0].is_Officer_Failed=this.otherForm.value.is_Officer_Failed,this.otherlist[0].officer_Failed_Info=this.otherForm.value.officer_Failed_Info;let e=this.saveForms();console.log(e);let t={id:0,companyId:this.companyId,experienceLineDTO:e};e.length&&(this.pastprojectForm.patchValue({isAutosave:!1}),this.relevantexperience.addRecord(t).subscribe(e=>{this.getRecords(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])}))}}autosave(){if(this.resetTimer+=1,1==this.resetTimer){this.pastprojectFormcheckformValidation(),this.pastprojectForm2checkformValidation(),this.currentprojectcheckformValidation(),this.currentproject2checkformValidation(),this.temppastprojectFormcheckformValidation(),this.tempcurrprojectFormcheckformValidation(),this.otherlist[0].companyId=this.companyId,this.otherlist[0].is_Company_Failed=this.otherForm.value.is_Company_Failed,this.otherlist[0].company_Failed_Info=this.otherForm.value.company_Failed_Info,this.otherlist[0].is_Officer_Failed=this.otherForm.value.is_Officer_Failed,this.otherlist[0].officer_Failed_Info=this.otherForm.value.officer_Failed_Info;let e=this.saveForms();console.log(e);let t={id:0,companyId:this.companyId,experienceLineDTO:e};e.length&&(this.pastprojectForm.patchValue({isAutosave:!1}),this.relevantexperience.addRecord(t).subscribe(e=>{this.getRecords()}))}}save(){if(this.otherSubmitted=!0,this.keepalive.stop(),this.companyId>0){let e=!1;this.showpastproject||(e=!0,this.addpastproject()),this.showcurrentproject||(e=!0,this.addcurrproject()),this.otherlist[0].companyId=this.companyId,this.otherlist[0].is_Company_Failed=this.otherForm.value.is_Company_Failed,this.otherlist[0].company_Failed_Info=this.otherForm.value.company_Failed_Info,this.otherlist[0].is_Officer_Failed=this.otherForm.value.is_Officer_Failed,this.otherlist[0].officer_Failed_Info=this.otherForm.value.officer_Failed_Info;let t=this.saveForms(),i={id:0,companyId:this.companyId,experienceLineDTO:t};console.log(t),e||(t.length&&this.pastprojectlist.length>1&&this.currprojectlist.length>1?this.relevantexperience.addRecord(i).subscribe(e=>{this.pastprojectForm.reset(),this.currentprojectForm.reset(),this.getRecords(),this.submitText="UPDATE",this.toastr.success("Relevant experience saved successfully","Relevant Experience")}):this.firstForms())}}nextpage(){if("Subcontractor"==this.userRole){this.pastprojectFormcheckformValidation(),this.pastprojectForm2checkformValidation(),this.currentprojectcheckformValidation(),this.currentproject2checkformValidation(),this.temppastprojectFormcheckformValidation(),this.tempcurrprojectFormcheckformValidation(),this.otherlist[0].companyId=this.companyId,this.otherlist[0].is_Company_Failed=this.otherForm.value.is_Company_Failed,this.otherlist[0].company_Failed_Info=this.otherForm.value.company_Failed_Info,this.otherlist[0].is_Officer_Failed=this.otherForm.value.is_Officer_Failed,this.otherlist[0].officer_Failed_Info=this.otherForm.value.officer_Failed_Info;let e=this.saveForms();console.log(e);let t={id:0,companyId:this.companyId,experienceLineDTO:e};e.length&&(this.pastprojectForm.patchValue({isAutosave:!1}),this.relevantexperience.addRecord(t).subscribe(e=>{}))}}saveOther(){this.otherlist.length&&(this.otherlist[0].companyId=this.companyId,this.otherlist[0].is_Company_Failed=this.otherForm.value.is_Company_Failed,this.otherlist[0].company_Failed_Info=this.otherForm.value.company_Failed_Info,this.otherlist[0].is_Officer_Failed=this.otherForm.value.is_Officer_Failed,this.otherlist[0].officer_Failed_Info=this.otherForm.value.officer_Failed_Info)}firstForms(){console.log(this.pastprojectForm),this.addpastproject(),this.addcurrproject(),this.addpastproject2(),this.addcurrproject2(),this.pastprojectlist.length>1&&this.currprojectlist.length>1&&this.otherForm.valid&&this.save()}firstFormssubmit(){console.log(this.pastprojectForm),this.addpastproject(),this.addcurrproject(),this.addpastproject2(),this.addcurrproject2(),this.pastprojectlist.length>1&&this.currprojectlist.length>1&&this.otherForm.valid&&this.submit()}saveForms(){let e=[];return this.pastprojectlist.filter(t=>{e.push(t)}),this.currprojectlist.filter(t=>{e.push(t)}),this.otherlist.filter(t=>{e.push(t)}),console.log(e),e}autoSave(){if(this.pastprojectForm.patchValue({companyId:this.companyId}),this.companyId>0){let e=this.saveForms(),t={companyId:this.companyId,referenceLineDTO:this.saveForms()};this.resetTimer+=1,1==this.resetTimer&&e.length&&0==this.relevantid&&(this.pastprojectForm.patchValue({isAutosave:!1}),this.relevantexperience.addRecord(t).subscribe(e=>{this.submitText="UPDATE",this.keepalive.stop(),this.getRecords()}))}}gotoHome(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm-1].url}`])}addpastproject(){this.submitted=!0,console.log(this.pastprojectForm),this.pastprojectForm.valid&&(this.pastprojectlist.push({id:0,companyId:this.companyId,type:"1",projectName:this.pastprojectForm.value.projectName?this.pastprojectForm.value.projectName:"",contractPrice:this.pastprojectForm.value.contractPrice?String(this.pastprojectForm.value.contractPrice):"",completionDate:this.pastprojectForm.value.completionDate?this.pastprojectForm.value.completionDate:"",isOwner:this.pastprojectForm.value.isOwner,city:this.pastprojectForm.value.city,state:this.pastprojectForm.value.state,is_Company_Failed:this.otherForm.value.is_Company_Failed,company_Failed_Info:String(this.otherForm.value.company_Failed_Info)?String(this.otherForm.value.company_Failed_Info):"",is_Officer_Failed:this.otherForm.value.is_Officer_Failed,officer_Failed_Info:this.otherForm.value.officer_Failed_Info,isAutosave:!1,isCompleted:!1,showEdit:!1}),console.log(this.pastprojectlist),this.showpastproject=!0,this.pastprojectForm.reset(),this.submitted=!1)}addpastproject2(){this.submitted2=!0,console.log(this.pastprojectForm2),this.pastprojectForm2.valid&&(this.pastprojectlist.push({id:0,companyId:this.companyId,type:"1",projectName:this.pastprojectForm2.value.projectName?this.pastprojectForm2.value.projectName:"",contractPrice:this.pastprojectForm2.value.contractPrice?String(this.pastprojectForm2.value.contractPrice):"",completionDate:this.pastprojectForm2.value.completionDate?this.pastprojectForm2.value.completionDate:"",isOwner:this.pastprojectForm2.value.isOwner,city:this.pastprojectForm2.value.city,state:this.pastprojectForm2.value.state,is_Company_Failed:this.otherForm.value.is_Company_Failed,company_Failed_Info:String(this.otherForm.value.company_Failed_Info)?String(this.otherForm.value.company_Failed_Info):"",is_Officer_Failed:this.otherForm.value.is_Officer_Failed,officer_Failed_Info:this.otherForm.value.officer_Failed_Info,isAutosave:!1,isCompleted:!1,showEdit:!1}),console.log(this.pastprojectlist),this.showpastproject2=!0,this.pastprojectForm2.reset(),this.submitted2=!1)}addcurrproject(){this.currentprojsubmitted=!0,console.log(this.currentprojectForm),this.currentprojectForm.valid&&(this.currprojectlist.push({id:0,companyId:this.companyId,type:"2",projectName:this.currentprojectForm.value.projectName?this.currentprojectForm.value.projectName:"",contractPrice:this.currentprojectForm.value.contractPrice?String(this.currentprojectForm.value.contractPrice):"",completionDate:this.currentprojectForm.value.completionDate?this.currentprojectForm.value.completionDate:"",isOwner:this.currentprojectForm.value.isOwner,city:this.currentprojectForm.value.city,state:this.currentprojectForm.value.state,is_Company_Failed:this.otherForm.value.is_Company_Failed,company_Failed_Info:String(this.otherForm.value.company_Failed_Info)?String(this.otherForm.value.company_Failed_Info):"",is_Officer_Failed:this.otherForm.value.is_Officer_Failed,officer_Failed_Info:this.otherForm.value.officer_Failed_Info,isAutosave:!1,isCompleted:!1,showEdit:!1}),console.log(this.currprojectlist),this.showcurrentproject=!0,this.currentprojectForm.reset(),this.currentprojsubmitted=!1)}addcurrproject2(){this.currentprojsubmitted2=!0,console.log(this.currentprojectForm2),this.currentprojectForm2.valid&&(this.currprojectlist.push({id:0,companyId:this.companyId,type:"2",projectName:this.currentprojectForm2.value.projectName?this.currentprojectForm2.value.projectName:"",contractPrice:this.currentprojectForm2.value.contractPrice?String(this.currentprojectForm2.value.contractPrice):"",completionDate:this.currentprojectForm2.value.completionDate?this.currentprojectForm2.value.completionDate:"",isOwner:this.currentprojectForm2.value.isOwner,city:this.currentprojectForm2.value.city,state:this.currentprojectForm2.value.state,is_Company_Failed:this.otherForm.value.is_Company_Failed,company_Failed_Info:String(this.otherForm.value.company_Failed_Info)?String(this.otherForm.value.company_Failed_Info):"",is_Officer_Failed:this.otherForm.value.is_Officer_Failed,officer_Failed_Info:this.otherForm.value.officer_Failed_Info,isAutosave:!1,isCompleted:!1,showEdit:!1}),console.log(this.currprojectlist),this.showcurrentproject2=!0,this.currentprojectForm2.reset(),this.currentprojsubmitted2=!1)}removeRelevant(e,t){console.log(t,e),this.showdisabled||(0==t.id?("1"==t.type&&(this.pastprojectlist.splice(e,1),0==this.pastprojectlist.length&&(this.showpastproject=!1)),"2"==t.type&&(this.currprojectlist.splice(e,1),0==this.currprojectlist.length&&(this.showcurrentproject=!1))):this.relevantexperience.deleteRecord(t.id).subscribe(i=>{this.getRecords(),"1"==t.type&&(this.pastprojectlist.splice(e,1),this.showpastproject=!1),"2"==t.type&&(this.currprojectlist.splice(e,1),this.showcurrentproject=!1)}),this.toastr.info("Relevant Experience project removed successfully","Relevant Experience"))}validateEmpty(e){return null==e||"null"==e||null==e||"undefined"==e?"":e}editrelevant(e,t){var i,o;console.log(t),this.showdisabled||(this.disableEdit=!0,"1"==t.type&&(this.pastprojectlist[e].showEdit=!0,this.temppastindex=e,this.pastdisabledEdit=!0,this.temppastprojectForm.patchValue({projectName:t.projectName,contractPrice:t.contractPrice,completionDate:null===(i=t.completionDate)||void 0===i?void 0:i.split("T")[0],isOwner:t.isOwner,city:t.city,state:t.state})),"2"==t.type&&(this.currprojectlist[e].showEdit=!0,this.tempcurrentindex=e,this.currdisabledEdit=!0,this.tempcurrentprojectForm.patchValue({projectName:t.projectName,contractPrice:t.contractPrice,completionDate:null===(o=t.completionDate)||void 0===o?void 0:o.split("T")[0],isOwner:t.isOwner,city:t.city,state:t.state})))}pastprojectFormcheckformValidation(){console.log(""!=this.pastprojectForm.value.projectName||""!=this.pastprojectForm.value.contractPrice||""!=this.pastprojectForm.value.completionDate||""!=this.pastprojectForm.value.isOwner||""!=this.pastprojectForm.value.state),""==this.pastprojectForm.value.projectName&&""==this.pastprojectForm.value.contractPrice&&""==this.pastprojectForm.value.completionDate&&""==this.pastprojectForm.value.isOwner&&""==this.pastprojectForm.value.state||(this.pastprojectlist.push({id:0,companyId:this.companyId,type:"1",projectName:this.pastprojectForm.value.projectName?this.pastprojectForm.value.projectName:"",contractPrice:String(this.pastprojectForm.value.contractPrice)?String(this.pastprojectForm.value.contractPrice):"",completionDate:""==this.loginInfo.validateEmpty(this.pastprojectForm.value.completionDate)?"2099-12-31":"",isOwner:this.pastprojectForm.value.isOwner,city:this.pastprojectForm.value.city,state:this.pastprojectForm.value.state,is_Email:0}),this.pastprojectForm.reset(),console.log(this.pastprojectlist))}pastprojectForm2checkformValidation(){console.log(""!=this.pastprojectForm2.value.projectName||""!=this.pastprojectForm2.value.contractPrice||""!=this.pastprojectForm2.value.completionDate||""!=this.pastprojectForm2.value.isOwner||""!=this.pastprojectForm2.value.city||""!=this.pastprojectForm2.value.state),""==this.pastprojectForm2.value.projectName&&""==this.pastprojectForm2.value.contractPrice&&""==this.pastprojectForm2.value.completionDate&&""==this.pastprojectForm2.value.isOwner&&""==this.pastprojectForm2.value.state||(this.pastprojectlist.push({id:0,companyId:this.companyId,type:"1",projectName:this.pastprojectForm2.value.projectName?this.pastprojectForm2.value.projectName:"",contractPrice:String(this.pastprojectForm2.value.contractPrice)?String(this.pastprojectForm2.value.contractPrice):"",completionDate:""==this.loginInfo.validateEmpty(this.pastprojectForm2.value.completionDate)?"2099-12-31":"",isOwner:this.pastprojectForm2.value.isOwner,city:this.pastprojectForm2.value.city,state:this.pastprojectForm2.value.state,is_Email:0}),this.pastprojectForm2.reset(),console.log(this.pastprojectlist))}currentprojectcheckformValidation(){""==this.currentprojectForm.value.projectName&&""==this.currentprojectForm.value.contractPrice&&""==this.currentprojectForm.value.completionDate&&""==this.currentprojectForm.value.isOwner&&""==this.currentprojectForm.value.state||(this.currprojectlist.push({id:0,companyId:this.companyId,type:"2",projectName:this.currentprojectForm.value.projectName?this.currentprojectForm.value.projectName:"",contractPrice:String(this.currentprojectForm.value.contractPrice)?String(this.currentprojectForm.value.contractPrice):"",completionDate:""==this.loginInfo.validateEmpty(this.currentprojectForm.value.completionDate)?"2099-12-31":"",isOwner:this.currentprojectForm.value.isOwner,city:this.currentprojectForm.value.city,state:this.currentprojectForm.value.state,is_Email:0}),this.currentprojectForm.reset())}currentproject2checkformValidation(){""==this.currentprojectForm2.value.projectName&&""==this.currentprojectForm2.value.contractPrice&&""==this.currentprojectForm2.value.completionDate&&""==this.currentprojectForm2.value.isOwner&&""==this.currentprojectForm2.value.state||(this.currprojectlist.push({id:0,companyId:this.companyId,type:"2",projectName:this.currentprojectForm2.value.projectName?this.currentprojectForm2.value.projectName:"",contractPrice:String(this.currentprojectForm2.value.contractPrice)?String(this.currentprojectForm2.value.contractPrice):"",completionDate:""==this.loginInfo.validateEmpty(this.currentprojectForm2.value.completionDate)?"2099-12-31":"",isOwner:this.currentprojectForm2.value.isOwner,city:this.currentprojectForm2.value.city,state:this.currentprojectForm2.value.state,is_Email:0}),this.currentprojectForm2.reset())}temppastprojectFormcheckformValidation(){""==this.temppastprojectForm.value.projectName&&""==this.temppastprojectForm.value.contractPrice&&""==this.temppastprojectForm.value.completionDate&&""==this.temppastprojectForm.value.isOwner&&""==this.temppastprojectForm.value.state||(this.pastprojectlist[this.temppastindex].showEdit=!1,this.pastprojectlist[this.temppastindex].projectName=this.validateEmpty(this.temppastprojectForm.value.projectName),this.pastprojectlist[this.temppastindex].contractPrice=this.validateEmpty(String(this.temppastprojectForm.value.contractPrice)),this.pastprojectlist[this.temppastindex].completionDate=this.validateEmpty(this.temppastprojectForm.value.completionDate),this.pastprojectlist[this.temppastindex].isOwner=this.validateEmpty(this.temppastprojectForm.value.isOwner),this.pastprojectlist[this.temppastindex].city=this.validateEmpty(this.temppastprojectForm.value.city),this.pastprojectlist[this.temppastindex].state=this.validateEmpty(this.temppastprojectForm.value.state),this.temppastprojectForm.reset(),this.pastdisabledEdit=!1,this.temppastsubmitted=!1)}tempcurrprojectFormcheckformValidation(){""==this.tempcurrentprojectForm.value.projectName&&""==this.tempcurrentprojectForm.value.contractPrice&&""==this.tempcurrentprojectForm.value.completionDate&&""==this.tempcurrentprojectForm.value.isOwner&&""==this.tempcurrentprojectForm.value.state||(this.currprojectlist[this.tempcurrentindex].showEdit=!1,this.currprojectlist[this.tempcurrentindex].projectName=this.validateEmpty(this.tempcurrentprojectForm.value.projectName),this.currprojectlist[this.tempcurrentindex].contractPrice=this.validateEmpty(String(this.tempcurrentprojectForm.value.contractPrice)),this.currprojectlist[this.tempcurrentindex].completionDate=this.validateEmpty(this.tempcurrentprojectForm.value.completionDate),this.currprojectlist[this.tempcurrentindex].isOwner=this.validateEmpty(this.tempcurrentprojectForm.value.isOwner),this.currprojectlist[this.tempcurrentindex].city=this.validateEmpty(this.tempcurrentprojectForm.value.city),this.currprojectlist[this.tempcurrentindex].state=this.validateEmpty(this.tempcurrentprojectForm.value.state),this.tempcurrentprojectForm.reset(),this.currdisabledEdit=!1,this.tempcurrentsubmitted=!1)}relevantupdate(e,t){this.showdisabled||"1"==t.type&&(this.temppastsubmitted=!0,this.temppastprojectForm.valid&&(this.pastprojectlist[e].showEdit=!1,this.pastprojectlist[e].projectName=this.validateEmpty(this.temppastprojectForm.value.projectName),this.pastprojectlist[e].contractPrice=this.validateEmpty(String(this.temppastprojectForm.value.contractPrice)),this.pastprojectlist[e].completionDate=this.validateEmpty(this.temppastprojectForm.value.completionDate),this.pastprojectlist[e].isOwner=this.validateEmpty(this.temppastprojectForm.value.isOwner),this.pastprojectlist[e].city=this.validateEmpty(this.temppastprojectForm.value.city),this.pastprojectlist[e].state=this.validateEmpty(this.temppastprojectForm.value.state),this.pastprojectForm.reset(),this.pastdisabledEdit=!1,this.temppastsubmitted=!1)),"2"==t.type&&(this.temppastsubmitted=!0,this.temppastprojectForm.valid&&(this.currprojectlist[e].showEdit=!1,this.currprojectlist[e].projectName=this.validateEmpty(this.tempcurrentprojectForm.value.projectName),this.currprojectlist[e].contractPrice=this.validateEmpty(String(this.tempcurrentprojectForm.value.contractPrice)),this.currprojectlist[e].completionDate=this.validateEmpty(this.tempcurrentprojectForm.value.completionDate),this.currprojectlist[e].isOwner=this.validateEmpty(this.tempcurrentprojectForm.value.isOwner),this.currprojectlist[e].city=this.validateEmpty(this.tempcurrentprojectForm.value.city),this.currprojectlist[e].state=this.validateEmpty(this.tempcurrentprojectForm.value.state),this.tempcurrentprojectForm.reset(),this.currdisabledEdit=!1,this.tempcurrentsubmitted=!1)),this.disableEdit=!1}cancelpastUpdate(e,t){"1"==t.type?(this.pastprojectlist[e].showEdit=!1,this.pastdisabledEdit=!1,this.temppastprojectForm.reset(),this.temppastsubmitted=!1):"2"==t.type&&(this.currprojectlist[e].showEdit=!1,this.currdisabledEdit=!1,this.tempcurrentprojectForm.reset(),this.tempcurrentsubmitted=!1)}nextroutePage(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])}}return e.\u0275fac=function(t){return new(t||e)(a.Pb(n.d),a.Pb(r.f),a.Pb(l.a),a.Pb(u.a),a.Pb(f.b),a.Pb(c.a),a.Pb(g),a.Pb(v.c),a.Pb(Us))},e.\u0275cmp=a.Jb({type:e,selectors:[["app-relevant-experience"]],decls:73,vars:48,consts:[[1,"px-2","py-2","my-2","form-bg"],[1,"form-group","input-group","row","mt-2"],[1,"col-lg-6","py-2","mx-auto","bg-white","col-curve-top","col-head-1"],[1,"row","mx-auto","py-2"],[1,"col-12"],["claas","fw-bold"],["class","mt-2",4,"ngIf"],["class","mt-2 text-end",4,"ngIf"],["class","record-shadow p-3 mt-3",4,"ngIf"],[1,"col-lg-6","py-2","mx-auto","bg-white","col-curve-top"],[1,"px-2",3,"formGroup","keydown.enter"],[1,"row","form-group","input-group","row","mt-2"],[1,"col-lg-6","py-2","mx-auto","bg-white","col-curve","col-head-1"],[3,"formGroup","keydown.enter"],[1,"row","mx-0","px-0","py-2"],["for","is_Company_Failed",1,"my-auto","font-italic","float-right"],[1,"text-danger"],[1,"row","pt-1"],[1,"col-lg-2"],["type","radio","formControlName","is_Company_Failed","value","yes","checked","checked","name","is_Company_Failed","id","is_Company_Failed_yes",3,"ngClass","ngModelChange"],["for","is_Company_Failed_yes"],[1,"col-lg-10"],["type","radio","formControlName","is_Company_Failed","value","no","name","is_Company_Failed","id","is_Company_Failed_no",3,"ngClass","ngModelChange"],["for","is_Company_Failed_no"],["class","invalid-feedback",4,"ngIf"],[1,"mr-4","mt-1"],[1,"note","fw-bold",3,"ngClass"],[1,"col-lg-12","bg-white"],["formControlName","company_Failed_Info","id","company_Failed_Info","name","company_Failed_Info",1,"form-control",3,"ngClass","ngModelChange"],[1,"row","px-2"],["for","is_Officer_Failed",1,"my-auto","font-italic","float-right"],["type","radio","formControlName","is_Officer_Failed","value","yes","checked","checked","name","is_Officer_Failed","id","is_Officer_Failed_yes",3,"ngClass","ngModelChange"],["for","is_Officer_Failed_yes"],["type","radio","formControlName","is_Officer_Failed","value","no","name","is_Officer_Failed","id","is_Officer_Failed_no",3,"ngClass","ngModelChange"],["for","is_Officer_Failed_no"],["formControlName","officer_Failed_Info","id","officer_Failed_Info","name","officer_Failed_Info",1,"form-control",3,"ngClass","ngModelChange"],[1,"col-lg-6","py-2","mx-auto","bg-white","col-curve"],["class","text-end mx-lg-4 my-3",4,"ngIf"],["class","text-end mx-4 my-3",4,"ngIf"],[1,"mt-2"],[4,"ngFor","ngForOf"],["class","row mx-auto record-shadow py-2 mt-3",4,"ngIf"],[1,"row","mx-auto","record-shadow","py-2","mt-3"],[1,"col-6","pt-2"],[1,"fw-bold"],[1,"float-left"],[1,"float-end"],["class","fa fa-edit edit me-2",3,"click",4,"ngIf"],[1,"fa","fa-times-circle","fileclose",3,"click"],[1,"col-6"],[1,"fa","fa-edit","edit","me-2",3,"click"],[1,"record-shadow","p-3","mt-3"],[1,"px-2",3,"formGroup"],[1,"row"],[1,"col-5"],["for","owner-projectName",1,"my-auto","font-italic"],[1,"col-7"],["type","text","formControlName","projectName","id","owner-project-Name","name","owner-projectName",1,"form-control",3,"ngClass","ngModelChange"],[1,"row","pt-2"],["for","isOwner",1,"my-auto","font-italic"],[1,"col-lg-4"],["type","radio","formControlName","isOwner","value","yes","name","isOwner","id","isOwner_yes",3,"ngModelChange"],["for","isOwner_yes",3,"ngClass"],["type","radio","formControlName","isOwner","value","no","name","isOwner","id","isOwner",3,"ngClass","ngModelChange"],["for","isOwner"],["for","owner-contractPrice",1,"my-auto","font-italic"],["type","number","formControlName","contractPrice","id","owner-project-Name","name","owner-contractPrice",1,"form-control",3,"ngClass","ngModelChange"],["for","owner-completionDate",1,"my-auto","font-italic"],["type","date","formControlName","completionDate","id","owner-project-Name","name","owner-completionDate",1,"form-control",3,"ngClass","ngModelChange"],["for","city",1,"my-auto","font-italic"],["type","text","formControlName","city","id","city","name","city",1,"form-control",3,"ngClass","ngModelChange"],["for","state",1,"my-auto","font-italic","float-right"],["formControlName","state","id","state","name","state",1,"form-control","form-select",3,"ngClass","ngModelChange"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"note","fw-bold","p-0","pt-3"],[1,"mt-2","text-end"],["type","button","class","btn mx-2 default-btn",3,"click",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],["type","button",1,"btn","mx-2","default-btn",3,"click"],["type","radio","formControlName","isOwner","value","yes","checked","checked","name","isOwner","id","isOwner_yes",3,"ngModelChange"],[1,"col-lg-8"],["type","radio","formControlName","isOwner","value","yes","checked","checked","name","isOwner","id","isOwner_yes2",3,"ngModelChange"],["for","isOwner_yes2",3,"ngClass"],["type","radio","formControlName","isOwner","value","no","name","isOwner","id","isOwner2",3,"ngClass","ngModelChange"],["for","isOwner2"],["type","radio","formControlName","isOwner","value","yes","checked","checked","name","isOwner","id","isOwner_yes22",3,"ngModelChange"],["for","isOwner_yes22",3,"ngClass"],["type","radio","formControlName","isOwner","value","no","name","isOwner","id","isOwner22",3,"ngClass","ngModelChange"],["for","isOwner22"],[1,"text-end","mx-lg-4","my-3"],[1,"btn","float-start","btn","default-btn",3,"click"],["type","button",1,"btn","ml-4","default-btn",3,"click"],[1,"text-end","mx-4","my-3"],[1,"btn","btn-success","mx-2","default-btn",3,"click"]],template:function(e,t){1&e&&(a.Vb(0,"div",0),a.Vb(1,"div",1),a.Vb(2,"div",2),a.Vb(3,"div",3),a.Vb(4,"div",4),a.Vb(5,"h6",5),a.Dc(6,"1. Past Project Experience"),a.Ub(),a.Bc(7,Ys,2,1,"div",6),a.Bc(8,$s,2,1,"div",7),a.Bc(9,ra,70,30,"div",8),a.Bc(10,va,70,30,"div",8),a.Ub(),a.Ub(),a.Ub(),a.Vb(11,"div",9),a.Vb(12,"form",10),a.cc("keydown.enter",function(e){return e.preventDefault()}),a.Vb(13,"div",3),a.Vb(14,"div",4),a.Vb(15,"h6",5),a.Dc(16,"2. Current Projects Experience"),a.Ub(),a.Bc(17,Ta,2,1,"div",6),a.Bc(18,qa,2,1,"div",7),a.Bc(19,tc,70,30,"div",8),a.Bc(20,fc,70,30,"div",8),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Vb(21,"div",11),a.Vb(22,"div",12),a.Vb(23,"form",13),a.cc("keydown.enter",function(e){return e.preventDefault()}),a.Vb(24,"div",14),a.Vb(25,"h6",5),a.Dc(26,"3. Other"),a.Ub(),a.Vb(27,"div",4),a.Vb(28,"label",15),a.Dc(29,"In the past three (3) years from today's date, has your company defaulted, been terminated for cause or failed to complete a construction contract awarded to it?"),a.Vb(30,"span",16),a.Dc(31,"*"),a.Ub(),a.Ub(),a.Vb(32,"div",17),a.Vb(33,"span",18),a.Vb(34,"input",19),a.cc("ngModelChange",function(){return t.idleReset()}),a.Ub(),a.Vb(35,"label",20),a.Dc(36," YES"),a.Ub(),a.Ub(),a.Vb(37,"span",21),a.Vb(38,"input",22),a.cc("ngModelChange",function(){return t.idleReset()}),a.Ub(),a.Vb(39,"label",23),a.Dc(40," NO"),a.Ub(),a.Ub(),a.Ub(),a.Bc(41,_c,2,1,"div",24),a.Vb(42,"div",25),a.Vb(43,"small",26),a.Dc(44,"If yes, describe circumstances, including dates and owner, and if applicable, your company's surety:"),a.Ub(),a.Ub(),a.Vb(45,"div",27),a.Vb(46,"textarea",28),a.cc("ngModelChange",function(){return t.idleReset()}),a.Ub(),a.Bc(47,vc,2,1,"div",24),a.Ub(),a.Ub(),a.Ub(),a.Vb(48,"div",29),a.Vb(49,"div",4),a.Vb(50,"label",30),a.Dc(51,"In the past three (3) years from today's date has any officer, partner, joint venture or proprietor of your company ever failed to complete a construction contract awarded to that person or entity in their name or on behalf of another organization?"),a.Vb(52,"span",16),a.Dc(53,"*"),a.Ub(),a.Ub(),a.Vb(54,"div",17),a.Vb(55,"span",18),a.Vb(56,"input",31),a.cc("ngModelChange",function(){return t.idleReset()}),a.Ub(),a.Vb(57,"label",32),a.Dc(58," YES"),a.Ub(),a.Ub(),a.Vb(59,"span",21),a.Vb(60,"input",33),a.cc("ngModelChange",function(){return t.idleReset()}),a.Ub(),a.Vb(61,"label",34),a.Dc(62," NO"),a.Ub(),a.Ub(),a.Ub(),a.Bc(63,Vc,2,1,"div",24),a.Vb(64,"div",25),a.Vb(65,"small",26),a.Dc(66,"If yes, describe circumstances:"),a.Ub(),a.Ub(),a.Vb(67,"div",27),a.Vb(68,"textarea",35),a.cc("ngModelChange",function(){return t.idleReset()}),a.Ub(),a.Bc(69,Dc,2,1,"div",24),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Qb(70,"div",36),a.Ub(),a.Ub(),a.Bc(71,Cc,7,1,"div",37),a.Bc(72,Ic,5,0,"div",38)),2&e&&(a.Db(7),a.mc("ngIf",t.pastprojectlist.length),a.Db(1),a.mc("ngIf",t.showpastproject),a.Db(1),a.mc("ngIf",!t.showpastproject),a.Db(1),a.mc("ngIf",!t.showpastproject2),a.Db(2),a.mc("formGroup",t.currentprojectForm),a.Db(5),a.mc("ngIf",t.currprojectlist.length),a.Db(1),a.mc("ngIf",t.showcurrentproject),a.Db(1),a.mc("ngIf",!t.showcurrentproject2),a.Db(1),a.mc("ngIf",!t.showcurrentproject),a.Db(3),a.mc("formGroup",t.otherForm),a.Db(11),a.mc("ngClass",a.pc(28,Bs,t.otherSubmitted&&t.g.is_Company_Failed.errors)),a.Db(4),a.mc("ngClass",a.pc(30,Bs,t.otherSubmitted&&t.g.is_Company_Failed.errors)),a.Db(3),a.mc("ngIf",t.otherSubmitted&&t.g.is_Company_Failed.errors),a.Db(2),a.mc("ngClass",a.pc(32,Rc,"no"==t.g.is_Company_Failed.value)),a.Db(3),a.mc("ngClass",a.pc(34,Bs,t.otherSubmitted&&t.g.company_Failed_Info.errors))("ngClass",a.pc(36,Rc,"no"==t.g.is_Company_Failed.value)),a.Eb("disabled","no"==t.g.is_Company_Failed.value?"":null),a.Db(1),a.mc("ngIf",t.otherSubmitted&&t.g.company_Failed_Info.errors),a.Db(9),a.mc("ngClass",a.pc(38,Bs,t.otherSubmitted&&t.g.is_Officer_Failed.errors)),a.Db(4),a.mc("ngClass",a.pc(40,Bs,t.otherSubmitted&&t.g.is_Officer_Failed.errors)),a.Db(3),a.mc("ngIf",t.otherSubmitted&&t.g.is_Officer_Failed.errors),a.Db(2),a.mc("ngClass",a.pc(42,Rc,"no"==t.g.is_Officer_Failed.value)),a.Db(3),a.mc("ngClass",a.pc(44,Bs,t.otherSubmitted&&t.g.officer_Failed_Info.errors))("ngClass",a.pc(46,Rc,"no"==t.g.is_Officer_Failed.value)),a.Eb("disabled","no"==t.g.is_Officer_Failed.value?"":null),a.Db(1),a.mc("ngIf",t.otherSubmitted&&t.g.officer_Failed_Info.errors),a.Db(2),a.mc("ngIf",!(t.showAdmin||t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status)),a.Db(1),a.mc("ngIf",!t.showAdmin&&t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status||t.showAdmin))},directives:[o.l,n.v,n.k,n.g,n.q,n.b,n.j,n.f,o.j,o.k,n.o,n.t,n.n,n.w],pipes:[o.e],styles:[".record-shadow[_ngcontent-%COMP%]{border:1px solid #ddd;box-shadow:0 .5rem 1rem rgba(0,0,0,.15)!important}.file-close[_ngcontent-%COMP%]{padding:2px 6px!important;background:#969294!important}.col-curve-top[_ngcontent-%COMP%]{border-top-left-radius:18px 19px!important;border-top-right-radius:18px 19px!important;border-bottom-left-radius:10px 10px!important;border-bottom-right-radius:10px 10px!important;border-top:6px solid #c3bdbd!important}.col-curve[_ngcontent-%COMP%]{border-radius:10px 10px!important}.fileclose[_ngcontent-%COMP%]{font-size:22px;color:#6e6767;cursor:pointer}.edit[_ngcontent-%COMP%]{font-size:18px;cursor:pointer}h6[_ngcontent-%COMP%]{font-size:13px!important}.bg-grey[_ngcontent-%COMP%]{color:#c7bfbf!important}"]}),e})(),Sc=(()=>{class e extends mt.a{constructor(e,t){super("Signature",e,t,{root:bt.a.webserviceURlLocal})}getAll(){return super.getAll()}getRecords(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("signature/"+e,bt.a.webserviceURlLocal);return this.http.get(i,t)}updateRecord(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("signature/"+t,bt.a.webserviceURlLocal);return this.http.put(o,e,i)}addRecord(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("signature",bt.a.webserviceURlLocal);return this.http.post(i,e,t)}getUser(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("Organization/"+e+"/"+t,bt.a.webserviceURlLocal);return this.http.get(o,i)}getComplete(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("Organization/Getstatus/"+e,bt.a.webserviceURlLocal);return this.http.get(i,t)}deleteRecord(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.delete(bt.a.webserviceURlLocal+"Files/"+e,t)}}return e.\u0275fac=function(t){return new(t||e)(a.Zb(ft.b),a.Zb(mt.c))},e.\u0275prov=a.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function wc(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Signature form is required"),a.Ub())}function jc(e,t){if(1&e&&(a.Vb(0,"div",24),a.Bc(1,wc,2,0,"div",25),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.signature_Upload.errors.required)}}function xc(e,t){1&e&&(a.Vb(0,"div",26),a.Vb(1,"span"),a.Dc(2,"Uploading..."),a.Ub(),a.Qb(3,"mat-progress-spinner",27),a.Ub())}function kc(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div"),a.Vb(1,"p",28),a.Vb(2,"small"),a.Vb(3,"a",29),a.Dc(4),a.Ub(),a.Ub(),a.Vb(5,"small",30),a.cc("click",function(){a.uc(e);const i=t.index,o=t.$implicit;return a.gc().removeqcpUpload(i,o)}),a.Dc(6,"X"),a.Ub(),a.Ub(),a.Ub()}if(2&e){const e=t.$implicit;a.Db(3),a.nc("href",e.file_Path,a.wc),a.Db(1),a.Ec(e.name)}}function Pc(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",31),a.Vb(1,"button",32),a.cc("click",function(){return a.uc(e),a.gc().gotoHome()}),a.Dc(2," << BACK "),a.Ub(),a.Vb(3,"button",33),a.cc("click",function(){return a.uc(e),a.gc().save()}),a.Dc(4),a.Ub(),a.Vb(5,"button",34),a.cc("click",function(){return a.uc(e),a.gc().submit()}),a.Dc(6,"NEXT >>"),a.Ub(),a.Ub()}if(2&e){const e=a.gc();a.Db(4),a.Ec(e.submitText)}}function Ac(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",35),a.Vb(1,"button",32),a.cc("click",function(){return a.uc(e),a.gc().gotoHome()}),a.Dc(2," << BACK"),a.Ub(),a.Vb(3,"button",36),a.cc("click",function(){return a.uc(e),a.gc().nextroutePage()}),a.Dc(4,"NEXT >>"),a.Ub(),a.Ub()}}const Oc=function(e){return{"bg-grey":e}},Ec=function(e){return{"pointer-events":e}},Mc=function(e){return{"is-invalid":e}},Nc=function(e){return{opacity:e}};let Tc=(()=>{class e{constructor(e,t,i,o,r,s,a,c,l,d){this.formBuilder=e,this.router=t,this.bnIdle=i,this.keepalive=o,this.toastr=r,this.project=s,this.logininfo=a,this.ngxUiLoader=c,this.companyservice=l,this.signatureservice=d,this.currentForm=6,this.signatureForm=this.formBuilder.group({id:[0],companyId:[0,[n.u.maxLength(130)]],signature_Upload:["",[n.u.required]],is_QCP:[""],isAutosave:[!0]}),this.signatureid=0,this.submitText="SAVE",this.submitted=!1,this.companyId=0,this.tempsignatureattachment=[],this.tempcompanyid=0,this.showAdmin=!1,this.spinner={qcpSpinner:!1},this.signatureAttachment=[],this.showdisabled=!1}ngOnInit(){this.ngxUiLoader.startLoader("loader-01"),localStorage.setItem("currPage","personnel"),this.prequalification_status=this.logininfo.organization_status,this.submitText="SAVE";let e=localStorage.getItem("userDetails");e=JSON.parse(atob(e)),this.userDetails=e,this.userRole=e.role,this.tempcompanyid=localStorage.getItem("tempcompanyid"),this.tempcompanyid=Number(atob(this.tempcompanyid)),this.tempcompanyid>0&&"Subcontractor"!=this.userRole&&(this.showAdmin=!0,this.signatureservice.getRecords(this.tempcompanyid).subscribe(e=>{this.showdisabled=!0,this.signatureForm.disable(),this.signatureForm.updateValueAndValidity(),this.showAdmin=!0,(null==e?void 0:e.length)&&(this.signatureid=e[0].id,this.submitText="UPDATE",this.updateSignature(e[0]))})),null!=this.userDetails.vendorId&&null!=this.userDetails.taxId&&"Subcontractor"==this.userRole&&this.signatureservice.getUser(this.userDetails.vendorId,this.userDetails.taxId).subscribe(e=>{this.companyId=e.id,localStorage.setItem("companyid",btoa(this.companyId)),this.getRecords()}),this.ngxUiLoader.stopLoader("loader-01")}updateSignature(e){this.signatureForm.patchValue({id:e.id,companyId:e.companyId,isAutosave:e.isAutosave}),this.signatureAttachment=[],e.files.filter(e=>{"Signature_Upload"==e.file_Type&&0==e.isDeleted&&this.signatureAttachment.push(e.file_Name.length<49?{id:e.id,name:e.file_Name,file_Path:e.file_Path}:{id:e.id,name:e.file_Name.substring(0,49)+"....",file_Path:e.file_Path})})}get f(){return this.signatureAttachment.length?this.signatureForm.controls.signature_Upload.clearValidators():this.signatureForm.controls.signature_Upload.setValidators([n.u.required]),this.signatureForm.controls.signature_Upload.updateValueAndValidity(),this.signatureForm.controls}submit(){this.save(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])}save(){if("Subcontractor"!=this.userRole);else if(console.log(this.signatureForm),this.submitted=!0,this.keepalive.stop(),0==this.signatureid){this.signatureForm.patchValue({isAutosave:!1});let e=this.formMethod();this.signatureservice.addRecord(e).subscribe(e=>{this.getRecords(),this.submitText="UPDATE",this.fileReset(),this.resetSpinner(),this.toastr.success("Signature saved successfully","Signature")})}else{this.signatureForm.patchValue({isAutosave:!1});let e=this.formMethod();this.signatureservice.updateRecord(e,this.signatureid).subscribe(e=>{this.getRecords(),this.fileReset(),this.resetSpinner(),this.toastr.success("Signature updated successfully","Signature")})}}fileupload(){if(this.keepalive.stop(),0==this.signatureid){this.signatureForm.patchValue({isAutosave:!0});let e=this.formMethod();this.signatureservice.addRecord(e).subscribe(e=>{this.keepalive.stop(),this.signatureForm.patchValue({signature_Upload:"",id:e.id}),this.submitText="UPDATE",this.getRecords(),this.resetSpinner(),this.submitted=!1})}else{this.signatureForm.patchValue({id:this.signatureid,isAutosave:!0});let e=this.formMethod();this.signatureservice.updateRecord(e,this.signatureForm.value.id).subscribe(e=>{this.keepalive.stop(),this.getRecords(),this.resetSpinner(),this.signatureForm.patchValue({signature_Upload:""}),this.submitted=!1})}}formMethod(){var e=new FormData;e.append("id",this.signatureForm.value.id),e.append("companyId",this.companyId),e.append("isAutosave",this.signatureForm.value.isAutosave);for(let t=0;t<this.tempsignatureattachment.length;t++)e.append("signature_Upload",this.tempsignatureattachment[t]);return this.tempsignatureattachment=[],e}resetSpinner(){this.spinner={qcpSpinner:!1}}fileReset(){this.signatureForm.patchValue({signature_Upload:""})}qcpUpload(e){let t=document.getElementById("signature_Upload");for(let i=0;i<t.files.length;i++)this.tempsignatureattachment.push(t.files[i]);this.spinner.qcpSpinner=!0,this.fileupload()}removeqcpUpload(e,t){this.showdisabled||this.signatureservice.deleteRecord(t.id).subscribe(t=>{this.signatureAttachment.splice(e,1),this.toastr.info("File removed successfully","Signature")})}gotoHome(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm-1].url}`])}getRecords(){this.signatureservice.getRecords(this.companyId).subscribe(e=>{e.length&&(this.signatureid=e[0].id,this.submitText="UPDATE",this.updateSignature(e[0]))}),this.companyId>0&&this.companyservice.getRecord(this.companyId).subscribe(e=>{this.prequalification_status=(e=e[0]).preQualification_Status,e.preQualification_Status&&this.logininfo.formDisable(e.preQualification_Status)&&(this.showdisabled=!0,this.signatureForm.disable(),this.signatureForm.updateValueAndValidity())})}nextroutePage(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])}}return e.\u0275fac=function(t){return new(t||e)(a.Pb(n.d),a.Pb(r.f),a.Pb(l.a),a.Pb(u.a),a.Pb(f.b),a.Pb(_.a),a.Pb(g),a.Pb(v.c),a.Pb(c.a),a.Pb(Sc))},e.\u0275cmp=a.Jb({type:e,selectors:[["app-signature"]],decls:44,vars:28,consts:[[1,"container","my-2","minheight","row"],[1,"row"],[1,"col-5"],[1,"m-1","pb-5","mb-5",3,"formGroup","ngClass","ngSubmit"],[1,"row","mt-2","pt-3",2,"border","1px solid #31a954","padding","5px"],[2,"margin","5px 2px 5px 10px","list-style-type","decimal"],[1,"px-2","py-2"],[1,"form-group","row","mx-0","px-0","py-2","mt-2","mx-auto"],[1,"col-12","col-curve-top","bg-white","border","border-1","py-2","mx-auto"],[1,"text-center","mb-2"],[1,"fw-bold","font-arial"],["href","assets/MBP Prequal Signature Section.docx",2,"color","blue","font-size","15px !important",3,"ngClass","ngStyle"],[1,"col-12","col-curve","bg-white","border","border-1","py-2","mx-auto"],["for","signature_Upload"],[1,"form-control-customitem","form-control"],["type","file","title","Choose file","formControlName","signature_Upload","id","signature_Upload","name","signature_Upload","multiple","",3,"ngClass","change"],["for","signature_Upload",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["class","spinner__loading pt-3",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"col-7","mt-1",3,"ngClass"],["src","assets/images/signature.jpg",3,"ngStyle"],["class","text-end mx-lg-4 my-3",4,"ngIf"],["class","text-end mx-4 my-3",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner__loading","pt-3"],["diameter","18","mode","indeterminate",1,"mt-1"],[1,"file-tag"],["target","_blank",3,"href"],[1,"file-close","text-white",3,"click"],[1,"text-end","mx-lg-4","my-3"],[1,"btn","float-start","btn","default-btn",3,"click"],["type","button",1,"btn","ml-4","default-btn",3,"click"],["type","button",1,"btn","mx-2","default-btn",3,"click"],[1,"text-end","mx-4","my-3"],[1,"btn","btn-success","mx-2","default-btn",3,"click"]],template:function(e,t){1&e&&(a.Vb(0,"div",0),a.Vb(1,"div",1),a.Vb(2,"div",2),a.Vb(3,"div",1),a.Vb(4,"form",3),a.cc("ngSubmit",function(){return t.submit()}),a.Vb(5,"div",4),a.Vb(6,"h3"),a.Dc(7,"Messer Construction requires that you do the following in this section:"),a.Ub(),a.Vb(8,"ul",5),a.Vb(9,"li"),a.Dc(10,"Download and print the signature form"),a.Ub(),a.Vb(11,"li"),a.Dc(12,"Fill in the required info asked"),a.Ub(),a.Vb(13,"li"),a.Dc(14,"Sign the signature form"),a.Ub(),a.Vb(15,"li"),a.Dc(16,"Get notarization on the signature page"),a.Ub(),a.Vb(17,"li"),a.Dc(18,"Upload the signed and notarized signature form in the attachment section below."),a.Ub(),a.Ub(),a.Ub(),a.Vb(19,"div",6),a.Vb(20,"div",7),a.Vb(21,"div",8),a.Vb(22,"div",9),a.Vb(23,"h5",10),a.Vb(24,"a",11),a.Dc(25,"Click here"),a.Ub(),a.Dc(26," to download the form"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Vb(27,"div",7),a.Vb(28,"div",12),a.Vb(29,"div"),a.Vb(30,"label",13),a.Dc(31,"Attach your signed signature form below: "),a.Ub(),a.Vb(32,"div",14),a.Vb(33,"input",15),a.cc("change",function(e){return t.qcpUpload(e)}),a.Ub(),a.Vb(34,"span",16),a.Dc(35,' \xa0Choose Files with "Click to Add Files"'),a.Ub(),a.Ub(),a.Bc(36,jc,2,1,"div",17),a.Bc(37,xc,4,0,"div",18),a.Bc(38,kc,7,2,"div",19),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Vb(39,"div",20),a.Qb(40,"img",21),a.Ub(),a.Ub(),a.Vb(41,"div",1),a.Bc(42,Pc,7,1,"div",22),a.Bc(43,Ac,5,0,"div",23),a.Ub(),a.Ub()),2&e&&(a.Db(4),a.mc("formGroup",t.signatureForm)("ngClass",a.pc(14,Oc,t.showdisabled)),a.Db(20),a.mc("ngClass",a.pc(16,Oc,t.showdisabled))("ngStyle",a.pc(18,Ec,t.showdisabled?"none":"auto")),a.Db(9),a.mc("ngClass",a.pc(20,Mc,t.submitted&&t.f.signature_Upload.errors)),a.Eb("disabled",t.showdisabled?"":null),a.Db(1),a.mc("ngClass",a.pc(22,Oc,1==t.showdisabled)),a.Db(2),a.mc("ngIf",t.submitted&&t.f.signature_Upload.errors),a.Db(1),a.mc("ngIf",null==t.spinner?null:t.spinner.qcpSpinner),a.Db(1),a.mc("ngForOf",t.signatureAttachment),a.Db(1),a.mc("ngClass",a.pc(24,Oc,t.showdisabled)),a.Db(1),a.mc("ngStyle",a.pc(26,Nc,t.showdisabled?"0.4":"")),a.Db(2),a.mc("ngIf",!(t.showAdmin||t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status)),a.Db(1),a.mc("ngIf",!t.showAdmin&&t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status||t.showAdmin))},directives:[n.v,n.k,n.g,o.j,o.m,n.b,n.j,n.f,o.l,o.k,k.a],styles:[".col-curve-top[_ngcontent-%COMP%]{border-top:6px solid #c3bdbd!important}.col-curve[_ngcontent-%COMP%], .col-curve-top[_ngcontent-%COMP%]{border-radius:18px 19px!important}.minheight[_ngcontent-%COMP%]{min-height:400px}.bg-grey[_ngcontent-%COMP%]{color:#c7bfbf!important}.red[_ngcontent-%COMP%]{color:red}"]}),e})(),Bc=(()=>{class e extends mt.a{constructor(e,t){super("Surety",e,t,{root:bt.a.webserviceURlLocal})}getAll(){return super.getAll()}getRecords(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("surety/"+e,bt.a.webserviceURlLocal);return this.http.get(i,t)}updateRecord(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("surety/"+t,bt.a.webserviceURlLocal);return this.http.put(o,e,i)}addRecord(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("surety",bt.a.webserviceURlLocal);return this.http.post(i,e,t)}getUser(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("Organization/"+e+"/"+t,bt.a.webserviceURlLocal);return this.http.get(o,i)}getComplete(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("Organization/Getstatus/"+e,bt.a.webserviceURlLocal);return this.http.get(i,t)}deleteRecord(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.delete(bt.a.webserviceURlLocal+"Files/"+e,t)}}return e.\u0275fac=function(t){return new(t||e)(a.Zb(ft.b),a.Zb(mt.c))},e.\u0275prov=a.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function qc(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Surety bond is required"),a.Ub())}function Lc(e,t){if(1&e&&(a.Vb(0,"div",66),a.Bc(1,qc,2,0,"div",67),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.is_Surety_Bond.errors.required)}}function Yc(e,t){1&e&&(a.Vb(0,"span",8),a.Dc(1,"*"),a.Ub())}function zc(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Surety company name is required "),a.Ub())}function $c(e,t){if(1&e&&(a.Vb(0,"div",66),a.Bc(1,zc,2,0,"div",67),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.surety_Company_Name.errors.required)}}function Qc(e,t){1&e&&(a.Vb(0,"span",8),a.Dc(1,"*"),a.Ub())}function Gc(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Surety Agent name is required"),a.Ub())}function Wc(e,t){if(1&e&&(a.Vb(0,"div",66),a.Bc(1,Gc,2,0,"div",67),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.surety_Agent_Name.errors.required)}}function Hc(e,t){1&e&&(a.Vb(0,"span",8),a.Dc(1,"*"),a.Ub())}function Zc(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Surety agent email is required "),a.Ub())}function Kc(e,t){if(1&e&&(a.Vb(0,"div",66),a.Bc(1,Zc,2,0,"div",67),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.surety_Agent_Email.errors.required)}}function Xc(e,t){1&e&&(a.Vb(0,"span",8),a.Dc(1,"*"),a.Ub())}function Jc(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Surety Agent Phone is required "),a.Ub())}function el(e,t){if(1&e&&(a.Vb(0,"div",66),a.Bc(1,Jc,2,0,"div",67),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.surety_Agent_Phone.errors.required)}}function tl(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Extention is required "),a.Ub())}function il(e,t){if(1&e&&(a.Vb(0,"div",66),a.Bc(1,tl,2,0,"div",67),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.surety_Agent_Phone_Ext.errors.required)}}function ol(e,t){1&e&&(a.Vb(0,"span",8),a.Dc(1,"*"),a.Ub())}function nl(e,t){if(1&e&&(a.Vb(0,"option",36),a.Dc(1),a.Ub()),2&e){const e=t.$implicit;a.mc("ngValue",e.name),a.Db(1),a.Fc("",e.name," ")}}function rl(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Present surety years is required "),a.Ub())}function sl(e,t){if(1&e&&(a.Vb(0,"div",66),a.Bc(1,rl,2,0,"div",67),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.present_Surety_Years.errors.required)}}function al(e,t){1&e&&(a.Vb(0,"span",8),a.Dc(1,"*"),a.Ub())}function cl(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Bonding limit is required"),a.Ub())}function ll(e,t){if(1&e&&(a.Vb(0,"div",66),a.Bc(1,cl,2,0,"div",67),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.bonding_Limit.errors.required)}}function dl(e,t){1&e&&(a.Vb(0,"span",8),a.Dc(1,"*"),a.Ub())}function ul(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Aggregate bonding capacity is required "),a.Ub())}function pl(e,t){if(1&e&&(a.Vb(0,"div",66),a.Bc(1,ul,2,0,"div",67),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.aggregate_Bonding.errors.required)}}function ml(e,t){1&e&&(a.Vb(0,"span",8),a.Dc(1,"*"),a.Ub())}function bl(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Available bonding capacity is required "),a.Ub())}function fl(e,t){if(1&e&&(a.Vb(0,"div",66),a.Bc(1,bl,2,0,"div",67),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.available_Bonding.errors.required)}}function hl(e,t){1&e&&(a.Vb(0,"span",8),a.Dc(1,"*"),a.Ub())}function _l(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Bonding letter is required"),a.Ub())}function gl(e,t){if(1&e&&(a.Vb(0,"div",66),a.Bc(1,_l,2,0,"div",67),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.surety_Upload.errors.required)}}function vl(e,t){1&e&&(a.Vb(0,"div",68),a.Vb(1,"span"),a.Dc(2,"Uploading..."),a.Ub(),a.Qb(3,"mat-progress-spinner",69),a.Ub())}function yl(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div"),a.Vb(1,"p",70),a.Vb(2,"small"),a.Vb(3,"a",71),a.Dc(4),a.Ub(),a.Ub(),a.Vb(5,"small",72),a.cc("click",function(){a.uc(e);const i=t.index,o=t.$implicit;return a.gc().removeqcpUpload(i,o)}),a.Dc(6,"X"),a.Ub(),a.Ub(),a.Ub()}if(2&e){const e=t.$implicit;a.Db(3),a.nc("href",e.file_Path,a.wc),a.Db(1),a.Ec(e.name)}}function Vl(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Risk manager is required"),a.Ub())}function Ul(e,t){if(1&e&&(a.Vb(0,"div",66),a.Bc(1,Vl,2,0,"div",67),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.is_Risk_Manager.errors.required)}}function Dl(e,t){1&e&&(a.Vb(0,"span",8),a.Dc(1,"*"),a.Ub())}function Cl(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Risk manager name is required"),a.Ub())}function Il(e,t){if(1&e&&(a.Vb(0,"div",66),a.Bc(1,Cl,2,0,"div",67),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.risk_Manager_Name.errors.required)}}function Rl(e,t){1&e&&(a.Vb(0,"span",8),a.Dc(1,"*"),a.Ub())}function Fl(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1,"Risk manager email is required "),a.Ub())}function Sl(e,t){if(1&e&&(a.Vb(0,"div",66),a.Bc(1,Fl,2,0,"div",67),a.Ub()),2&e){const e=a.gc();a.Db(1),a.mc("ngIf",e.f.risk_Manager_Email.errors.required)}}function wl(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",73),a.Vb(1,"button",74),a.cc("click",function(){return a.uc(e),a.gc().gotoHome()}),a.Dc(2," << BACK"),a.Ub(),a.Vb(3,"button",75),a.cc("click",function(){return a.uc(e),a.gc().save()}),a.Dc(4),a.Ub(),a.Vb(5,"button",76),a.Dc(6,"NEXT >>"),a.Ub(),a.Ub()}if(2&e){const e=a.gc();a.Db(4),a.Fc("",e.submitText," ")}}function jl(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",77),a.Vb(1,"button",74),a.cc("click",function(){return a.uc(e),a.gc().gotoHome()}),a.Dc(2," << BACK"),a.Ub(),a.Vb(3,"button",78),a.cc("click",function(){return a.uc(e),a.gc().nextroutePage()}),a.Dc(4,"NEXT >>"),a.Ub(),a.Ub()}}const xl=function(e){return{"bg-grey":e}},kl=function(e){return{"is-invalid":e}},Pl=[{path:"",component:Vs,children:[{path:"companyinfo",component:ut},{path:"experience",component:pi},{path:"safetyinfo",component:Zn},{path:"personnel",component:us},{path:"relevant",component:Fc},{path:"surety",component:(()=>{class e{constructor(e,t,i,o,r,s,a,c,l,d){this.formBuilder=e,this.router=t,this.bnIdle=i,this.keepalive=o,this.toastr=r,this.project=s,this.logininfo=a,this.ngxUiLoader=c,this.suretyinfoService=l,this.companyservice=d,this.currentForm=4,this.suretyForm=this.formBuilder.group({id:[0],companyId:[null,[n.u.maxLength(130)]],is_Surety_Bond:["no",[n.u.required]],surety_Company_Name:["",[n.u.maxLength(130)]],surety_Agent_Name:["",[n.u.maxLength(256)]],surety_Agent_Email:["",[n.u.required,n.u.email]],surety_Agent_Phone:["",[n.u.maxLength(256),n.u.pattern(/^-?(0|[1-9]\d*)?$/)]],surety_Agent_Phone_Ext:["",[n.u.maxLength(256)]],present_Surety_Years:["",[n.u.maxLength(256)]],bonding_Limit:["",[n.u.maxLength(256),n.u.pattern(/^-?(0|[1-9]\d*)?$/)]],aggregate_Bonding:["",[n.u.pattern(/^-?(0|[1-9]\d*)?$/)]],available_Bonding:["",[n.u.pattern(/^-?(0|[1-9]\d*)?$/)]],surety_Upload:[""],is_Risk_Manager:["no",[n.u.required]],risk_Manager_Name:["",[n.u.required]],risk_Manager_Email:["",[n.u.email,n.u.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)]],isAutosave:[!1]}),this.submitText="SAVE",this.showAdmin=!1,this.suretyid=0,this.setTimeout=0,this.resetTimer=0,this.bondingAttachment=[],this.submitted=!1,this.spinner={bondingSpinner:!1},this.suretyyears=[{name:"less than 1 years"},{name:"1-3 years"},{name:"3-5 years"},{name:"5-7 years"},{name:"7-9 years"},{name:"9+years"}],this.showdisabled=!1}ngOnInit(){this.ngxUiLoader.startLoader("loader-01"),localStorage.setItem("currPage","suretyinfo"),this.prequalification_status=this.logininfo.organization_status,this.submitText="SAVE";let e=localStorage.getItem("userDetails");e=JSON.parse(atob(e)),this.userDetails=e,this.userRole=e.role,this.tempcompanyid=localStorage.getItem("tempcompanyid"),this.tempcompanyid=Number(atob(this.tempcompanyid)),this.tempcompanyid>0&&"Subcontractor"!=this.userRole&&(this.showAdmin=!0,this.suretyinfoService.getRecords(this.tempcompanyid).subscribe(e=>{this.showdisabled=!0,this.showAdmin=!0,(null==e?void 0:e.length)&&(this.suretyid=e[0].id,this.submitText=e[0].is_Surety_Bond?"UPDATE":"SAVE",this.updateSurety(e)),this.suretyForm.disable(),this.suretyForm.updateValueAndValidity()})),null!=this.userDetails.vendorId&&null!=this.userDetails.taxId&&"Subcontractor"==this.userRole&&this.suretyinfoService.getUser(this.userDetails.vendorId,this.userDetails.taxId).subscribe(e=>{this.companyId=e.id,localStorage.setItem("companyid",btoa(this.companyId)),this.getRecords()}),this.ngxUiLoader.stopLoader("loader-01"),console.log(this.suretyid)}ngAfterViewInit(){this.keepalive.interval(30),this.keepalive.stop(),0==this.setTimeout&&this.keepalive.stop()}resetSuretyBond(){this.suretyForm.patchValue({surety_Company_Name:"",surety_Agent_Email:"",surety_Agent_Name:"",surety_Agent_Phone:"",surety_Agent_Phone_Ext:"",present_Surety_Years:"",bonding_Limit:"",aggregate_Bonding:"",available_Bonding:"",surety_Upload:""}),this.showdisabled=!1,this.bondingAttachment.forEach((e,t)=>{this.removeqcpUpload(t,e,!1)})}resetRiskManager(){this.suretyForm.patchValue({risk_Manager_Name:"",risk_Manager_Email:""})}ngOnDestroy(){this.keepalive.stop(),this.nextpage()}idleReset(){this.keepalive.stop(),this.keepalive.start(),this.resetTimer=0}gotoHome(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm-1].url}`])}get f(){var e;return"yes"==this.suretyForm.value.is_Surety_Bond?(this.suretyForm.controls.surety_Company_Name.setValidators([n.u.required]),this.suretyForm.controls.surety_Agent_Name.setValidators([n.u.required]),this.suretyForm.controls.surety_Agent_Email.setValidators([n.u.required,n.u.email,n.u.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)]),this.suretyForm.controls.surety_Agent_Phone.setValidators([n.u.required]),this.suretyForm.controls.present_Surety_Years.setValidators([n.u.required]),this.suretyForm.controls.bonding_Limit.setValidators([n.u.required]),this.suretyForm.controls.aggregate_Bonding.setValidators([n.u.required]),this.suretyForm.controls.available_Bonding.setValidators([n.u.required]),this.suretyForm.controls.surety_Upload.setValidators([n.u.required])):(this.suretyForm.controls.surety_Company_Name.clearValidators(),this.suretyForm.controls.surety_Agent_Name.clearValidators(),this.suretyForm.controls.surety_Agent_Email.clearValidators(),this.suretyForm.controls.surety_Agent_Phone.clearValidators(),this.suretyForm.controls.present_Surety_Years.clearValidators(),this.suretyForm.controls.bonding_Limit.clearValidators(),this.suretyForm.controls.aggregate_Bonding.clearValidators(),this.suretyForm.controls.available_Bonding.clearValidators(),this.suretyForm.controls.surety_Upload.clearValidators()),this.suretyForm.controls.surety_Company_Name.updateValueAndValidity(),this.suretyForm.controls.surety_Agent_Name.updateValueAndValidity(),this.suretyForm.controls.surety_Agent_Email.updateValueAndValidity(),this.suretyForm.controls.surety_Agent_Phone.updateValueAndValidity(),this.suretyForm.controls.surety_Agent_Phone_Ext.updateValueAndValidity(),this.suretyForm.controls.present_Surety_Years.updateValueAndValidity(),this.suretyForm.controls.bonding_Limit.updateValueAndValidity(),this.suretyForm.controls.aggregate_Bonding.updateValueAndValidity(),this.suretyForm.controls.available_Bonding.updateValueAndValidity(),this.suretyForm.controls.surety_Upload.updateValueAndValidity(),"yes"==this.suretyForm.value.is_Risk_Manager?(this.suretyForm.controls.risk_Manager_Name.setValidators([n.u.required]),this.suretyForm.controls.risk_Manager_Email.setValidators([n.u.required,n.u.email,n.u.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)])):(this.suretyForm.patchValue({risk_Manager_Name:this.suretyForm.value.risk_Manager_Name,risk_Manager_Email:this.suretyForm.value.risk_Manager_Email}),this.suretyForm.controls.risk_Manager_Name.clearValidators(),this.suretyForm.controls.risk_Manager_Email.clearValidators()),this.suretyForm.controls.risk_Manager_Name.updateValueAndValidity(),this.suretyForm.controls.risk_Manager_Email.updateValueAndValidity(),(null===(e=this.bondingAttachment)||void 0===e?void 0:e.length)>0&&(this.suretyForm.controls.surety_Upload.setValidators(null),this.suretyForm.controls.surety_Upload.updateValueAndValidity()),this.suretyForm.controls}updateSurety(e){this.suretyForm.patchValue({id:e[0].id,companyId:e[0].companyId,is_Surety_Bond:this.logininfo.validateEmpty(e[0].is_Surety_Bond),surety_Company_Name:this.logininfo.validateEmpty(e[0].surety_Company_Name),surety_Agent_Email:this.logininfo.validateEmpty(e[0].surety_Agent_Email),surety_Agent_Name:this.logininfo.validateEmpty(e[0].surety_Agent_Name),surety_Agent_Phone:this.logininfo.validateEmpty(e[0].surety_Agent_Phone),surety_Agent_Phone_Ext:this.logininfo.validateEmpty(e[0].surety_Agent_Phone_Ext),present_Surety_Years:this.logininfo.validateEmpty(e[0].present_Surety_Years),bonding_Limit:this.logininfo.validateEmpty(e[0].bonding_Limit),aggregate_Bonding:this.logininfo.validateEmpty(e[0].aggregate_Bonding),available_Bonding:this.logininfo.validateEmpty(e[0].available_Bonding),is_Risk_Manager:this.logininfo.validateEmpty(e[0].is_Risk_Manager),risk_Manager_Name:this.logininfo.validateEmpty(e[0].risk_Manager_Name),risk_Manager_Email:this.logininfo.validateEmpty(e[0].risk_Manager_Email)}),this.bondingAttachment=[],e[0].files.filter(e=>{this.bondingAttachment.push(e.file_Name.length<31?{id:e.id,name:e.file_Name,file_Path:e.file_Path}:{id:e.id,name:e.file_Name.substring(0,31)+"....",file_Path:e.file_Path})})}save(){if(console.log(this.suretyForm,this.suretyid),this.submitted=!0,this.keepalive.stop(),this.suretyForm.valid)if(0==this.suretyid){this.suretyForm.patchValue({isAutosave:!1,surety_Upload:""});let e=this.formMethod();this.suretyinfoService.addRecord(e).subscribe(e=>{this.getRecords(),this.submitText="UPDATE",this.fileReset(),this.resetSpinner(),this.toastr.success("Surety Information saved successfully","Surety Information")})}else{this.suretyForm.patchValue({isAutosave:!1,surety_Upload:""});let e=this.formMethod();this.suretyinfoService.updateRecord(e,this.suretyid).subscribe(e=>{this.getRecords(),this.fileReset(),this.resetSpinner(),this.toastr.success("Surety Information updated successfully","Surety Information")})}}submit(){if("Subcontractor"!=this.userRole)this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`]);else if(console.log(this.suretyForm),this.keepalive.stop(),this.ngxUiLoader.startLoader("loader-01"),0==this.suretyid){let e=this.formMethod();this.suretyinfoService.addRecord(e).subscribe(e=>{this.toastr.success("Surety Information saved successfully","Surety Information"),this.getRecords(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])})}else{this.suretyForm.patchValue({isAutosave:!1});let e=this.formMethod();this.suretyinfoService.updateRecord(e,this.suretyid).subscribe(e=>{this.toastr.success("Surety Information updated successfully","Surety Information"),this.getRecords(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])})}}autoSave(){if(this.resetTimer+=1,1==this.resetTimer)if(0==this.suretyid){let e=this.formMethod();this.suretyinfoService.addRecord(e).subscribe(e=>{this.getRecords()})}else{this.suretyForm.patchValue({isAutosave:!1});let e=this.formMethod();this.suretyinfoService.updateRecord(e,this.suretyid).subscribe(e=>{this.getRecords()})}}nextpage(){if("Subcontractor"==this.userRole)if(0==this.suretyid){let e=this.formMethod();this.suretyinfoService.addRecord(e).subscribe(e=>{})}else{this.suretyForm.patchValue({isAutosave:!1});let e=this.formMethod();this.suretyinfoService.updateRecord(e,this.suretyid).subscribe(e=>{})}}fileupload(){if(this.keepalive.stop(),0==this.suretyid){this.suretyForm.patchValue({isAutosave:!0});let e=this.formMethod();this.suretyinfoService.addRecord(e).subscribe(e=>{this.keepalive.stop(),this.suretyForm.patchValue({surety_Upload:"",id:e.id}),this.submitText="UPDATE",this.getRecords(),this.resetSpinner(),this.submitted=!1})}else{this.suretyForm.patchValue({id:this.suretyid,isAutosave:!0});let e=this.formMethod();this.suretyinfoService.updateRecord(e,this.suretyForm.value.id).subscribe(e=>{this.keepalive.stop(),this.getRecords(),this.resetSpinner(),this.suretyForm.patchValue({surety_Upload:""}),this.submitted=!1})}}autosave(){if(this.resetTimer+=1,1==this.resetTimer)if(0==this.suretyid){this.suretyForm.patchValue({isAutosave:!1});let e=this.formMethod();this.suretyinfoService.addRecord(e).subscribe(e=>{this.submitText="UPDATE",this.getRecords(),this.fileReset(),this.keepalive.stop(),this.resetSpinner()})}else{this.suretyForm.patchValue({isAutosave:!0});let e=this.formMethod();this.suretyinfoService.updateRecord(e,this.suretyid).subscribe(e=>{this.getRecords(),this.fileReset(),this.keepalive.stop(),this.resetSpinner(),this.suretyForm.patchValue({isAutosave:!1})})}}formMethod(){var e=new FormData;e.append("id",this.suretyForm.value.id),e.append("companyId",this.companyId),e.append("is_Surety_Bond",this.logininfo.validateEmpty(this.suretyForm.value.is_Surety_Bond)),e.append("surety_Company_Name",this.logininfo.validateEmpty(this.suretyForm.value.surety_Company_Name)),e.append("surety_Agent_Name",this.logininfo.validateEmpty(this.suretyForm.value.surety_Agent_Name)),e.append("surety_Agent_Email",this.logininfo.validateEmpty(this.suretyForm.value.surety_Agent_Email)),e.append("surety_Agent_Phone",this.logininfo.validateEmpty(this.suretyForm.value.surety_Agent_Phone)),e.append("surety_Agent_Phone_Ext",this.logininfo.validateEmpty(this.suretyForm.value.surety_Agent_Phone_Ext)),e.append("present_Surety_Years",this.logininfo.validateEmpty(this.suretyForm.value.present_Surety_Years)),e.append("bonding_Limit",this.logininfo.validateEmpty(this.suretyForm.value.bonding_Limit)),e.append("aggregate_Bonding",this.logininfo.validateEmpty(this.suretyForm.value.aggregate_Bonding)),e.append("available_Bonding",this.logininfo.validateEmpty(this.suretyForm.value.available_Bonding)),e.append("is_Risk_Manager",this.logininfo.validateEmpty(this.suretyForm.value.is_Risk_Manager)),e.append("risk_Manager_Name",this.logininfo.validateEmpty(this.suretyForm.value.risk_Manager_Name)),e.append("risk_Manager_Email",this.logininfo.validateEmpty(this.suretyForm.value.risk_Manager_Email));for(let t=0;t<this.bondingAttachment.length;t++)e.append("surety_Upload",this.bondingAttachment[t]);return this.bondingAttachment=[],e}qcpUpload(e){let t=document.getElementById("surety_Upload");for(let i=0;i<t.files.length;i++)this.bondingAttachment.push(t.files[i]);this.spinner.bondingSpinner=!0,this.fileupload()}filepreview(e,t){var i=new FileReader;i.onload=i=>{console.log(i.target);let o=new Blob(e.files,{type:e.files[t].type});var n=(window.URL||window.webkitURL).createObjectURL(o);console.log("path",n,e.value);var r=document.createElement("a"),s=document.createTextNode("View File");r.target="_blank",r.appendChild(s),r.href=n,r.click(),e.appendChild(r)},i.readAsDataURL(e.files[t])}removeqcpUpload(e,t,i=!0){console.log(this.showdisabled+" "+t),this.showdisabled||this.suretyinfoService.deleteRecord(t.id).subscribe(t=>{this.bondingAttachment.splice(e,1),i&&this.toastr.info("File removed successfully","Surety Info")})}CommaFormatted(e,t){var i,o;e.AT_TARGET>=37&&e.AT_TARGET<=40||this.suretyForm.patchValue({[t]:null===(o=null===(i=this.suretyForm.get(t))||void 0===i?void 0:i.value)||void 0===o?void 0:o.replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,",")})}numberCheck(e){return"e"!==e.key&&"+"!==e.key&&"-"!==e.key}resetSpinner(){this.spinner={bondingSpinner:!1}}fileReset(){this.suretyForm.patchValue({surety_Upload:""})}getRecords(){this.suretyinfoService.getRecords(this.companyId).subscribe(e=>{e.length&&(this.suretyid=e[0].id,this.submitText=e[0].is_Surety_Bond?"UPDATE":"SAVE",this.updateSurety(e))}),this.companyId>0&&this.companyservice.getRecord(this.companyId).subscribe(e=>{e=e[0],console.log(e.preQualification_Status),this.prequalification_status=e.preQualification_Status,e.preQualification_Status&&this.logininfo.formDisable(e.preQualification_Status)&&(this.showdisabled=!0,this.suretyForm.disable(),this.suretyForm.updateValueAndValidity())})}setPatternValidator(e){return!!/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}nextroutePage(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])}}return e.\u0275fac=function(t){return new(t||e)(a.Pb(n.d),a.Pb(r.f),a.Pb(l.a),a.Pb(u.a),a.Pb(f.b),a.Pb(_.a),a.Pb(g),a.Pb(v.c),a.Pb(Bc),a.Pb(c.a))},e.\u0275cmp=a.Jb({type:e,selectors:[["app-suretyinfo"]],decls:154,vars:107,consts:[[1,"px-2",3,"formGroup","ngSubmit","keydown.enter"],[1,"px-1","my-2","form-bg",3,"ngClass"],[1,"form-group","input-group","row","px-2","mx-auto","pb-3"],[1,"row"],[1,"col-lg-6","px-2","col-head-1","mx-auto","mt-2"],[1,"row","bg-white","col-curve-top","mx-auto","py-2","mt-2"],["for","is_Surety_Bond",1,"my-auto","fw-bold"],[1,"col-7","ps-3","pt-1"],[1,"text-danger"],[1,"col-5"],[1,"col-lg-5"],["type","radio","formControlName","is_Surety_Bond","value","yes","checked","checked","name","is_Surety_Bond","id","is_Surety_Bond_yes",3,"ngModelChange"],["for","is_Surety_Bond_yes",3,"ngClass"],[1,"col-lg-7"],["type","radio","formControlName","is_Surety_Bond","value","no","name","is_Surety_Bond","id","is_Surety_Bond_no",3,"ngClass","ngModelChange","click"],["for","is_Surety_Bond_no"],["class","invalid-feedback",4,"ngIf"],[1,"pb-1"],[1,"ps-3","px-1",3,"ngClass"],[1,"row",3,"ngClass"],[1,"fw-bold","pt-1"],[1,"col-6"],["for","surety_Company_Name",1,"my-auto","font-italic"],["class","text-danger",4,"ngIf"],["type","text","formControlName","surety_Company_Name","id","surety_Company_Name","name","surety_Company_Name",1,"form-control",3,"ngClass","ngModelChange"],["for","surety_Agent_Name",1,"my-auto","font-italic"],["type","text","formControlName","surety_Agent_Name","id","surety_Agent_Name","name","surety_Agent_Name",1,"form-control",3,"ngClass","ngModelChange"],["for","surety_Agent_Email",1,"my-auto","font-italic"],["type","email","formControlName","surety_Agent_Email","id","surety_Agent_Email","email","true","name","surety_Agent_Email","pattern","/^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$/ ",1,"form-control",3,"ngClass","ngModelChange"],["for","surety_Agent_Phone",1,"my-auto","font-italic","float-right"],[1,"col-10","float-left"],["type","text","appPhoneMask","","onKeyPress","if(this.value.length==15) return false;","formControlName","surety_Agent_Phone","id","surety_Agent_Phone","name","surety_Agent_Phone",1,"form-control",3,"ngClass","ngModelChange"],[1,"col-2","float-left"],["type","number","onKeyPress","if(this.value.length==3) return false;","formControlName","surety_Agent_Phone_Ext","pattern","[0-9]+","id","surety_Agent_Phone_Ext","name","surety_Agent_Phone_Ext",1,"form-control",3,"ngClass","ngModelChange"],["for","present_Surety_Years",1,"my-auto","font-italic"],["formControlName","present_Surety_Years","id","present_Surety_Years","name","state",1,"form-control","form-select",3,"ngClass","ngModelChange"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["for","bonding_Limit",1,"my-auto","font-italic"],["type","number","formControlName","bonding_Limit","id","bonding_Limit","name","bonding_Limit",1,"form-control",3,"ngClass","ngModelChange"],["for","aggregate_Bonding",1,"my-auto","font-italic"],["type","text","formControlName","aggregate_Bonding","id","aggregate_Bonding","name","aggregate_Bonding",1,"form-control",3,"ngClass","ngModelChange","keydown","keyup"],["for","available_Bonding",1,"my-auto","font-italic"],["type","text","formControlName","available_Bonding","id","available_Bonding","name","available_Bonding",1,"form-control",3,"ngClass","ngModelChange","keydown","keyup"],["for","surety_Upload",1,"my-auto","font-italic","float-right"],[1,"col-6","pb-2"],[1,"form-control-customitem","form-control"],["type","file","title","Choose file","formControlName","surety_Upload","id","surety_Upload","name","surety_Upload","multiple","",3,"ngClass","change"],["for","surety_Upload"],["class","spinner__loading pt-3",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"col-lg-6","col-curve-top","bg-white","px-2","col-head-2","mx-auto","mt-2"],[1,"row","mx-0","px-0","py-2","mt-1"],[1,"col-7"],["for","is_Risk_Manager",1,"my-auto","fw-bold"],["type","radio","formControlName","is_Risk_Manager","value","yes","checked","checked","name","is_Risk_Manager","id","is_Risk_Manager_yes",3,"ngModelChange"],["for","is_Risk_Manager_yes",3,"ngClass"],["type","radio","formControlName","is_Risk_Manager","value","no","name","is_Risk_Manager","id","is_Risk_Manager",3,"ngClass","ngModelChange","click"],["for","is_Risk_Manager"],["for","risk_Manager_Name",1,"my-auto","font-italic",3,"ngClass"],["type","text","formControlName","risk_Manager_Name","id","risk_Manager_Name","name","risk_Manager_Name",1,"form-control",3,"ngClass","ngModelChange"],["for","risk_Manager_Email",1,"my-auto","font-italic",3,"ngClass"],["type","email","formControlName","risk_Manager_Email","id","risk_Manager_Email","name","risk_Manager_Email",1,"form-control",3,"ngClass","ngModelChange"],[1,"col-lg-6","col-curve","px-2","col-head-1","mx-auto","mt-2"],["class","text-end mx-lg-4 my-3",4,"ngIf"],["class","text-end mx-4 my-3",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner__loading","pt-3"],["diameter","18","mode","indeterminate",1,"mt-1"],[1,"file-tag"],["target","_blank",3,"href"],[1,"file-close","text-white",3,"click"],[1,"text-end","mx-lg-4","my-3"],[1,"btn","float-start","btn","default-btn",3,"click"],["type","button",1,"btn","ml-4","default-btn",3,"click"],["type","submit",1,"btn","btn-success","mx-2","default-btn"],[1,"text-end","mx-4","my-3"],[1,"btn","btn-success","mx-2","default-btn",3,"click"]],template:function(e,t){1&e&&(a.Vb(0,"form",0),a.cc("ngSubmit",function(){return t.submit()})("keydown.enter",function(e){return e.preventDefault()}),a.Vb(1,"div",1),a.Vb(2,"div",2),a.Vb(3,"div",3),a.Vb(4,"div",4),a.Vb(5,"div",5),a.Vb(6,"div",3),a.Vb(7,"h6",6),a.Dc(8,"1. Surety bond "),a.Ub(),a.Ub(),a.Vb(9,"div",3),a.Vb(10,"div",7),a.Vb(11,"h6",6),a.Dc(12,"Can your company provide a surety bond? "),a.Vb(13,"span",8),a.Dc(14,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(15,"div",9),a.Vb(16,"div",3),a.Vb(17,"span",10),a.Vb(18,"input",11),a.cc("ngModelChange",function(){return t.idleReset()}),a.Ub(),a.Vb(19,"label",12),a.Dc(20," YES"),a.Ub(),a.Ub(),a.Vb(21,"span",13),a.Vb(22,"input",14),a.cc("ngModelChange",function(){return t.idleReset()})("click",function(){return t.resetSuretyBond()}),a.Ub(),a.Vb(23,"label",15),a.Dc(24," NO"),a.Ub(),a.Ub(),a.Bc(25,Lc,2,1,"div",16),a.Ub(),a.Ub(),a.Ub(),a.Qb(26,"div",17),a.Vb(27,"div",18),a.Vb(28,"div",19),a.Vb(29,"h6",20),a.Dc(30,"Surety bond Details"),a.Ub(),a.Vb(31,"div",21),a.Vb(32,"label",22),a.Dc(33,"Surety Company Name: "),a.Bc(34,Yc,2,0,"span",23),a.Ub(),a.Ub(),a.Vb(35,"div",21),a.Vb(36,"input",24),a.cc("ngModelChange",function(){return t.idleReset()}),a.Ub(),a.Bc(37,$c,2,1,"div",16),a.Ub(),a.Ub(),a.Vb(38,"div",3),a.Vb(39,"div",21),a.Vb(40,"label",25),a.Dc(41,"Surety Agent Name: "),a.Bc(42,Qc,2,0,"span",23),a.Ub(),a.Ub(),a.Vb(43,"div",21),a.Vb(44,"input",26),a.cc("ngModelChange",function(){return t.idleReset()}),a.Ub(),a.Bc(45,Wc,2,1,"div",16),a.Ub(),a.Ub(),a.Vb(46,"div",3),a.Vb(47,"div",21),a.Vb(48,"label",27),a.Dc(49,"Surety Agent Email: "),a.Bc(50,Hc,2,0,"span",23),a.Ub(),a.Ub(),a.Vb(51,"div",21),a.Vb(52,"input",28),a.cc("ngModelChange",function(){return t.idleReset()}),a.Ub(),a.Bc(53,Kc,2,1,"div",16),a.Ub(),a.Ub(),a.Vb(54,"div",3),a.Vb(55,"div",21),a.Vb(56,"label",29),a.Dc(57,"Surety Agent Phone: "),a.Bc(58,Xc,2,0,"span",23),a.Ub(),a.Ub(),a.Vb(59,"div",21),a.Vb(60,"div",30),a.Vb(61,"input",31),a.cc("ngModelChange",function(){return t.idleReset()}),a.Ub(),a.Bc(62,el,2,1,"div",16),a.Ub(),a.Vb(63,"div",32),a.Vb(64,"input",33),a.cc("ngModelChange",function(){return t.idleReset()}),a.Ub(),a.Bc(65,il,2,1,"div",16),a.Ub(),a.Ub(),a.Ub(),a.Vb(66,"div",3),a.Vb(67,"div",21),a.Vb(68,"label",34),a.Dc(69,"How long have you been with your present surety: "),a.Bc(70,ol,2,0,"span",23),a.Ub(),a.Ub(),a.Vb(71,"div",21),a.Vb(72,"select",35),a.cc("ngModelChange",function(){return t.idleReset()}),a.Vb(73,"option",36),a.Dc(74,"Select"),a.Ub(),a.Bc(75,nl,2,2,"option",37),a.Ub(),a.Bc(76,sl,2,1,"div",16),a.Ub(),a.Ub(),a.Vb(77,"div",3),a.Vb(78,"div",21),a.Vb(79,"label",38),a.Dc(80,"Bonding limit per project: "),a.Bc(81,al,2,0,"span",23),a.Ub(),a.Ub(),a.Vb(82,"div",21),a.Vb(83,"input",39),a.cc("ngModelChange",function(){return t.idleReset()}),a.Ub(),a.Bc(84,ll,2,1,"div",16),a.Ub(),a.Ub(),a.Vb(85,"div",3),a.Vb(86,"div",21),a.Vb(87,"label",40),a.Dc(88,"Aggregate bonding capacity: "),a.Bc(89,dl,2,0,"span",23),a.Ub(),a.Ub(),a.Vb(90,"div",21),a.Vb(91,"input",41),a.cc("ngModelChange",function(){return t.idleReset()})("keydown",function(e){return t.numberCheck(e)})("keyup",function(e){return t.CommaFormatted(e,"aggregate_Bonding")}),a.Ub(),a.Bc(92,pl,2,1,"div",16),a.Ub(),a.Ub(),a.Vb(93,"div",3),a.Vb(94,"div",21),a.Vb(95,"label",42),a.Dc(96,"Available bonding capacity: "),a.Bc(97,ml,2,0,"span",23),a.Ub(),a.Ub(),a.Vb(98,"div",21),a.Vb(99,"input",43),a.cc("ngModelChange",function(){return t.idleReset()})("keydown",function(e){return t.numberCheck(e)})("keyup",function(e){return t.CommaFormatted(e,"available_Bonding")}),a.Ub(),a.Bc(100,fl,2,1,"div",16),a.Ub(),a.Ub(),a.Vb(101,"div",3),a.Vb(102,"div",21),a.Vb(103,"label",44),a.Dc(104,"Attach Bonding Letter from surety: "),a.Bc(105,hl,2,0,"span",23),a.Ub(),a.Ub(),a.Vb(106,"div",45),a.Vb(107,"div",46),a.Vb(108,"input",47),a.cc("change",function(e){return t.qcpUpload(e)}),a.Ub(),a.Vb(109,"span",48),a.Dc(110," \xa0 Click here to Add Files"),a.Ub(),a.Ub(),a.Bc(111,gl,2,1,"div",16),a.Bc(112,vl,4,0,"div",49),a.Bc(113,yl,7,2,"div",50),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Vb(114,"div",51),a.Vb(115,"div",52),a.Vb(116,"div",3),a.Vb(117,"div",53),a.Vb(118,"h6",54),a.Dc(119,"2. Does your company have a Risk Manager? "),a.Vb(120,"span",8),a.Dc(121,"*"),a.Ub(),a.Ub(),a.Ub(),a.Vb(122,"div",9),a.Vb(123,"div",3),a.Vb(124,"span",10),a.Vb(125,"input",55),a.cc("ngModelChange",function(){return t.idleReset()}),a.Ub(),a.Vb(126,"label",56),a.Dc(127," YES"),a.Ub(),a.Ub(),a.Vb(128,"span",13),a.Vb(129,"input",57),a.cc("ngModelChange",function(){return t.idleReset()})("click",function(){return t.resetRiskManager()}),a.Ub(),a.Vb(130,"label",58),a.Dc(131," NO"),a.Ub(),a.Ub(),a.Ub(),a.Bc(132,Ul,2,1,"div",16),a.Ub(),a.Ub(),a.Vb(133,"div",3),a.Vb(134,"div",9),a.Vb(135,"label",59),a.Dc(136,"Risk Manager Name:"),a.Bc(137,Dl,2,0,"span",23),a.Ub(),a.Ub(),a.Vb(138,"div",53),a.Vb(139,"input",60),a.cc("ngModelChange",function(){return t.idleReset()}),a.Ub(),a.Bc(140,Il,2,1,"div",16),a.Ub(),a.Ub(),a.Vb(141,"div",3),a.Vb(142,"div",9),a.Vb(143,"label",61),a.Dc(144,"Risk Manager Email: "),a.Bc(145,Rl,2,0,"span",23),a.Ub(),a.Ub(),a.Vb(146,"div",53),a.Vb(147,"input",62),a.cc("ngModelChange",function(){return t.idleReset()}),a.Ub(),a.Bc(148,Sl,2,1,"div",16),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Vb(149,"div",3),a.Vb(150,"div",63),a.Dc(151," \xa0 "),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Bc(152,wl,7,1,"div",64),a.Ub(),a.Bc(153,jl,5,0,"div",65)),2&e&&(a.mc("formGroup",t.suretyForm),a.Db(1),a.mc("ngClass",a.pc(65,xl,1==t.showdisabled)),a.Db(18),a.mc("ngClass",a.pc(67,kl,t.submitted&&t.f.is_Surety_Bond.errors)),a.Db(3),a.mc("ngClass",a.pc(69,kl,t.submitted&&t.f.is_Surety_Bond.errors)),a.Db(3),a.mc("ngIf",(t.f.is_Surety_Bond.touched||t.submitted)&&t.f.is_Surety_Bond.errors),a.Db(2),a.mc("ngClass",a.pc(71,xl,"yes"!=t.f.is_Surety_Bond.value)),a.Db(1),a.mc("ngClass",a.pc(73,xl,"yes"!=t.f.is_Surety_Bond.value)),a.Db(6),a.mc("ngIf","yes"==(null==t.suretyForm||null==t.suretyForm.value?null:t.suretyForm.value.is_Surety_Bond)),a.Db(2),a.mc("ngClass",a.pc(75,kl,t.submitted&&t.f.surety_Company_Name.errors)),a.Eb("disabled",1==t.showdisabled||("yes"!=t.f.is_Surety_Bond.value?"":null)),a.Db(1),a.mc("ngIf",t.submitted&&t.f.surety_Company_Name.errors),a.Db(5),a.mc("ngIf","yes"==(null==t.suretyForm||null==t.suretyForm.value?null:t.suretyForm.value.is_Surety_Bond)),a.Db(2),a.mc("ngClass",a.pc(77,kl,t.submitted&&t.f.surety_Agent_Name.errors)),a.Eb("disabled",1==t.showdisabled||("yes"!=t.f.is_Surety_Bond.value?"":null)),a.Db(1),a.mc("ngIf",t.submitted&&t.f.surety_Agent_Name.errors),a.Db(5),a.mc("ngIf","yes"==(null==t.suretyForm||null==t.suretyForm.value?null:t.suretyForm.value.is_Surety_Bond)),a.Db(2),a.mc("ngClass",a.pc(79,kl,t.submitted&&t.f.surety_Agent_Email.errors)),a.Eb("disabled",1==t.showdisabled||("yes"!=t.f.is_Surety_Bond.value?"":null)),a.Db(1),a.mc("ngIf",t.submitted&&t.f.surety_Agent_Email.errors),a.Db(5),a.mc("ngIf","yes"==(null==t.suretyForm||null==t.suretyForm.value?null:t.suretyForm.value.is_Surety_Bond)),a.Db(3),a.mc("ngClass",a.pc(81,kl,t.submitted&&t.f.surety_Agent_Phone.errors)),a.Eb("disabled",1==t.showdisabled||("yes"!=t.f.is_Surety_Bond.value?"":null)),a.Db(1),a.mc("ngIf",(t.submitted||t.f.surety_Agent_Phone.touched)&&t.f.surety_Agent_Phone.errors),a.Db(2),a.mc("ngClass",a.pc(83,kl,t.submitted&&t.f.surety_Agent_Phone_Ext.errors)),a.Eb("disabled",1==t.showdisabled||("yes"!=t.f.is_Surety_Bond.value?"":null)),a.Db(1),a.mc("ngIf",(t.submitted||t.f.surety_Agent_Phone_Ext.touched)&&t.f.surety_Agent_Phone_Ext.errors),a.Db(5),a.mc("ngIf","yes"==(null==t.suretyForm||null==t.suretyForm.value?null:t.suretyForm.value.is_Surety_Bond)),a.Db(2),a.mc("ngClass",a.pc(85,kl,t.submitted&&t.f.present_Surety_Years.errors)),a.Eb("disabled",1==t.showdisabled||("yes"!=t.f.is_Surety_Bond.value?"":null)),a.Db(1),a.mc("ngValue",null),a.Db(2),a.mc("ngForOf",t.suretyyears),a.Db(1),a.mc("ngIf",(t.submitted||t.f.present_Surety_Years.touched)&&t.f.present_Surety_Years.errors),a.Db(5),a.mc("ngIf","yes"==(null==t.suretyForm||null==t.suretyForm.value?null:t.suretyForm.value.is_Surety_Bond)),a.Db(2),a.mc("ngClass",a.pc(87,kl,t.submitted&&t.f.bonding_Limit.errors)),a.Eb("disabled",1==t.showdisabled||("yes"!=t.f.is_Surety_Bond.value?"":null)),a.Db(1),a.mc("ngIf",t.submitted&&t.f.bonding_Limit.errors),a.Db(5),a.mc("ngIf","yes"==(null==t.suretyForm||null==t.suretyForm.value?null:t.suretyForm.value.is_Surety_Bond)),a.Db(2),a.mc("ngClass",a.pc(89,kl,t.submitted&&t.f.aggregate_Bonding.errors)),a.Eb("disabled",1==t.showdisabled||("yes"!=t.f.is_Surety_Bond.value?"":null)),a.Db(1),a.mc("ngIf",t.submitted&&t.f.aggregate_Bonding.errors),a.Db(5),a.mc("ngIf","yes"==(null==t.suretyForm||null==t.suretyForm.value?null:t.suretyForm.value.is_Surety_Bond)),a.Db(2),a.mc("ngClass",a.pc(91,kl,t.submitted&&t.f.available_Bonding.errors)),a.Eb("disabled",1==t.showdisabled||("yes"!=t.f.is_Surety_Bond.value?"":null)),a.Db(1),a.mc("ngIf",t.submitted&&t.f.available_Bonding.errors),a.Db(5),a.mc("ngIf",null==t.f.surety_Upload||null==t.f.surety_Upload.errors?null:t.f.surety_Upload.errors.required),a.Db(3),a.mc("ngClass",a.pc(93,kl,t.submitted&&t.f.surety_Upload.errors)),a.Eb("disabled",1==t.showdisabled||("yes"!=t.f.is_Surety_Bond.value?"":null)),a.Db(3),a.mc("ngIf",t.submitted&&t.f.surety_Upload.errors),a.Db(1),a.mc("ngIf",null==t.spinner?null:t.spinner.bondingSpinner),a.Db(1),a.mc("ngForOf",t.bondingAttachment),a.Db(13),a.mc("ngClass",a.pc(95,kl,t.submitted&&t.f.is_Risk_Manager.errors)),a.Db(3),a.mc("ngClass",a.pc(97,kl,t.submitted&&t.f.is_Risk_Manager.errors)),a.Db(3),a.mc("ngIf",(t.f.is_Risk_Manager.touched||t.submitted)&&t.f.is_Risk_Manager.errors),a.Db(3),a.mc("ngClass",a.pc(99,xl,"no"==t.f.is_Risk_Manager.value)),a.Db(2),a.mc("ngIf","yes"==(null==t.suretyForm||null==t.suretyForm.value?null:t.suretyForm.value.is_Risk_Manager)),a.Db(2),a.mc("ngClass",a.pc(101,kl,t.submitted&&t.f.risk_Manager_Name.errors)),a.Eb("disabled",1==t.showdisabled||("no"==t.f.is_Risk_Manager.value?"":null)),a.Db(1),a.mc("ngIf",t.submitted&&t.f.risk_Manager_Name.errors),a.Db(3),a.mc("ngClass",a.pc(103,xl,"no"==t.f.is_Risk_Manager.value)),a.Db(2),a.mc("ngIf","yes"==(null==t.suretyForm||null==t.suretyForm.value?null:t.suretyForm.value.is_Risk_Manager)),a.Db(2),a.mc("ngClass",a.pc(105,kl,t.submitted&&t.f.risk_Manager_Email.errors)),a.Eb("disabled",1==t.showdisabled||("no"==t.f.is_Risk_Manager.value?"":null)),a.Db(1),a.mc("ngIf",t.submitted&&t.f.risk_Manager_Email.errors),a.Db(4),a.mc("ngIf",!(t.showAdmin||t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status)),a.Db(1),a.mc("ngIf",!t.showAdmin&&t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status||t.showAdmin))},directives:[n.v,n.k,n.g,o.j,n.q,n.b,n.j,n.f,o.l,n.c,n.p,y,n.o,n.t,n.n,n.w,o.k,k.a],styles:["h6[_ngcontent-%COMP%]{font-size:13px!important}.bg-grey[_ngcontent-%COMP%], .bg-grey[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .bg-grey[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{color:#c7bfbf!important}.row[_ngcontent-%COMP%]{margin-top:10px}.float-left[_ngcontent-%COMP%]{float:left}"]}),e})()},{path:"otherinfo",component:Or},{path:"financialinfo",component:Do},{path:"signature",component:Tc},{path:"submittomesser",component:_r}]}];let Al=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.Nb({type:e}),e.\u0275inj=a.Mb({imports:[[r.i.forChild(Pl),n.h,n.r],r.i]}),e})();var Ol=i("+0xr"),El=i("GK3i");let Ml=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.Nb({type:e}),e.\u0275inj=a.Mb({imports:[[o.c,Al,n.h,n.r,El.a,Ol.l]]}),e})()}}]);