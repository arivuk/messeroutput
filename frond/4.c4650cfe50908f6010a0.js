(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{UGqF:function(e,t,i){"use strict";i.r(t),i.d(t,"QualificationModule",function(){return Xu});var n=i("ofXK"),o=i("3Pt+"),a=i("tyNb");const r=[{name:"Alabama",abbreviation:"AL"},{name:"Alaska",abbreviation:"AK"},{name:"American Samoa",abbreviation:"AS"},{name:"Arizona",abbreviation:"AZ"},{name:"Arkansas",abbreviation:"AR"},{name:"California",abbreviation:"CA"},{name:"Colorado",abbreviation:"CO"},{name:"Connecticut",abbreviation:"CT"},{name:"Delaware",abbreviation:"DE"},{name:"District Of Columbia",abbreviation:"DC"},{name:"Federated States Of Micronesia",abbreviation:"FM"},{name:"Florida",abbreviation:"FL"},{name:"Georgia",abbreviation:"GA"},{name:"Guam",abbreviation:"GU"},{name:"Hawaii",abbreviation:"HI"},{name:"Idaho",abbreviation:"ID"},{name:"Illinois",abbreviation:"IL"},{name:"Indiana",abbreviation:"IN"},{name:"Iowa",abbreviation:"IA"},{name:"Kansas",abbreviation:"KS"},{name:"Kentucky",abbreviation:"KY"},{name:"Louisiana",abbreviation:"LA"},{name:"Maine",abbreviation:"ME"},{name:"Marshall Islands",abbreviation:"MH"},{name:"Maryland",abbreviation:"MD"},{name:"Massachusetts",abbreviation:"MA"},{name:"Michigan",abbreviation:"MI"},{name:"Minnesota",abbreviation:"MN"},{name:"Mississippi",abbreviation:"MS"},{name:"Missouri",abbreviation:"MO"},{name:"Montana",abbreviation:"MT"},{name:"Nebraska",abbreviation:"NE"},{name:"Nevada",abbreviation:"NV"},{name:"New Hampshire",abbreviation:"NH"},{name:"New Jersey",abbreviation:"NJ"},{name:"New Mexico",abbreviation:"NM"},{name:"New York",abbreviation:"NY"},{name:"North Carolina",abbreviation:"NC"},{name:"North Dakota",abbreviation:"ND"},{name:"Northern Mariana Islands",abbreviation:"MP"},{name:"Ohio",abbreviation:"OH"},{name:"Oklahoma",abbreviation:"OK"},{name:"Oregon",abbreviation:"OR"},{name:"Palau",abbreviation:"PW"},{name:"Pennsylvania",abbreviation:"PA"},{name:"Puerto Rico",abbreviation:"PR"},{name:"Rhode Island",abbreviation:"RI"},{name:"South Carolina",abbreviation:"SC"},{name:"South Dakota",abbreviation:"SD"},{name:"Tennessee",abbreviation:"TN"},{name:"Texas",abbreviation:"TX"},{name:"Utah",abbreviation:"UT"},{name:"Vermont",abbreviation:"VT"},{name:"Virgin Islands",abbreviation:"VI"},{name:"Virginia",abbreviation:"VA"},{name:"Washington",abbreviation:"WA"},{name:"West Virginia",abbreviation:"WV"},{name:"Wisconsin",abbreviation:"WI"},{name:"Wyoming",abbreviation:"WY"},{name:"Other",abbreviation:"OT"}];var s=i("XNiG"),c=i("fXoL"),l=i("WyCn"),d=i("VZc4"),u=i("+lv+"),m=i("FbN+"),b=i("2Vo4"),p=i("pLZG");let f=(()=>{class e{constructor(){this.toastParam=null,this.subject=new b.a(this.toastParam),this.toast$=this.subject.asObservable().pipe(Object(p.a)(e=>null!==e))}show(e,t,i,n){this.subject.next({type:e,title:t,body:i,delay:n})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=c.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var h=i("5eHb"),g=i("0IaG"),_=i("0+Iz");let v=(()=>{class e{constructor(){this.showAdmin=!1,this.organization_status=""}setAdmin(e){this.showAdmin=e}setOrganization(e){this.organization_status=e}setOrgupdatedate(e){this.getOrgupdatedate=e}validateEmpty(e){return null==e||"null"==e||null==e||"undefined"==e||-2147483648==e?"":e}formDisable(e){return!(!e.includes("Under Risk Review")&&"Reviewed & Prequalified"!=e&&"Prequal form submitted and under quality check"!=e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=c.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var y=i("gren");let V=(()=>{class e{constructor(e){this.ngControl=e}onModelChange(e){this.onInputChange(e,!1)}keydownBackspace(e){this.onInputChange(e.target.value,!0)}onInputChange(e,t){var i;let n=e.replace(/\D/g,"");t&&n.length<=6&&(n=n.substring(0,n.length-1)),0===n.length?n="":n.length<=3?n=n.replace(/^(\d{0,3})/,"($1)"):n.length<=6?n=n.replace(/^(\d{0,3})(\d{0,3})/,"($1) $2"):(n.length<=10||(n=n.substring(0,10)),n=n.replace(/^(\d{0,3})(\d{0,3})(\d{0,4})/,"($1) $2-$3")),null===(i=this.ngControl.valueAccessor)||void 0===i||i.writeValue(n)}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(o.k))},e.\u0275dir=c.Kb({type:e,selectors:[["","formControlName","","appPhoneMask",""]],hostBindings:function(e,t){1&e&&c.cc("ngModelChange",function(e){return t.onModelChange(e)})("keydown.backspace",function(e){return t.keydownBackspace(e)})}}),e})();class U{constructor(e){this._name=e,this.last=null,this.picker="",this.dragStart=!1,this.dragOver=!1,this.pick=[],this.list=[],this.sift=[]}get name(){return this._name}}function D(e,t){if(1&e){const e=c.Wb();c.Vb(0,"form",9),c.Vb(1,"input",10),c.cc("ngModelChange",function(t){return c.uc(e),c.gc().available.picker=t})("ngModelChange",function(){c.uc(e);const t=c.gc();return t.onFilter(t.available)}),c.Ub(),c.Ub()}if(2&e){const e=c.gc();c.Db(1),c.mc("ngModel",e.available.picker)}}const C=function(e,t){return{selected:e,disabled:t}};function I(e,t){if(1&e){const e=c.Wb();c.Vb(0,"li",11),c.cc("click",function(i){c.uc(e);const n=t.$implicit,o=t.index,a=c.gc();return!a.disabled&&a.selectItem(a.available.pick,n),a.shiftClick(i,o,a.available,n)})("dragstart",function(i){c.uc(e);const n=t.$implicit,o=c.gc();return o.drag(i,n,o.available)})("dragend",function(){c.uc(e);const t=c.gc();return t.dragEnd(t.available)}),c.Vb(1,"label"),c.Dc(2),c.Ub(),c.Ub()}if(2&e){const e=t.$implicit,i=c.gc();c.mc("ngClass",c.qc(3,C,i.isItemSelected(i.available.pick,e),i.disabled))("draggable",!i.disabled&&i.format.draggable),c.Db(2),c.Ec(e._name)}}function R(e,t){if(1&e){const e=c.Wb();c.Vb(0,"form",9),c.Vb(1,"input",12),c.cc("ngModelChange",function(t){return c.uc(e),c.gc().confirmed.picker=t})("ngModelChange",function(){c.uc(e);const t=c.gc();return t.onFilter(t.confirmed)}),c.Ub(),c.Ub()}if(2&e){const e=c.gc();c.Db(1),c.mc("ngModel",e.confirmed.picker)}}function F(e,t){if(1&e){const e=c.Wb();c.Vb(0,"li",11,13),c.cc("click",function(i){c.uc(e);const n=t.$implicit,o=t.index,a=c.gc();return!a.disabled&&a.selectItem(a.confirmed.pick,n),a.shiftClick(i,o,a.confirmed,n)})("dragstart",function(i){c.uc(e);const n=t.$implicit,o=c.gc();return o.drag(i,n,o.confirmed)})("dragend",function(){c.uc(e);const t=c.gc();return t.dragEnd(t.confirmed)}),c.Vb(2,"label"),c.Dc(3),c.Ub(),c.Ub()}if(2&e){const e=t.$implicit,i=c.gc();c.mc("ngClass",c.qc(3,C,i.isItemSelected(i.confirmed.pick,e),i.disabled))("draggable",!i.disabled&&i.format.draggable),c.Db(3),c.Ec(e._name)}}const w=function(e,t){return{order:e,"margin-left":t}},S=function(e,t){return{"max-height":e,"min-height":t}},k=function(e){return{over:e}};var x=0;let P=(()=>{class e{constructor(t){this.differs=t,this.id="dual-list-"+x++,this.key="_id",this.display="_name",this.height="100px",this.filter=!1,this.format=e.DEFAULT_FORMAT,this.sort=!1,this.source=[],this.destination=[],this.destinationChange=new c.o,this.sorter=(e,t)=>e._name<t._name?-1:e._name>t._name?1:0,this.available=new U(e.AVAILABLE_LIST_NAME),this.confirmed=new U(e.CONFIRMED_LIST_NAME),console.log("dualbox disabled ="+this.disabled)}ngOnChanges(t){t.disabled&&(this.disabled=t.disabled.currentValue),t.filter&&!1===t.filter.currentValue&&(this.clearFilter(this.available),this.clearFilter(this.confirmed)),t.sort&&(!0===t.sort.currentValue&&void 0===this.compare?this.compare=this.sorter:!1===t.sort.currentValue&&(this.compare=void 0)),t.format&&(this.format=t.format.currentValue,void 0===this.format.direction&&(this.format.direction=e.LTR),void 0===this.format.add&&(this.format.add=e.DEFAULT_FORMAT.add),void 0===this.format.remove&&(this.format.remove=e.DEFAULT_FORMAT.remove),void 0===this.format.all&&(this.format.all=e.DEFAULT_FORMAT.all),void 0===this.format.none&&(this.format.none=e.DEFAULT_FORMAT.none),void 0===this.format.draggable&&(this.format.draggable=e.DEFAULT_FORMAT.draggable)),t.source&&(this.available=new U(e.AVAILABLE_LIST_NAME),this.updatedSource(),this.updatedDestination()),t.destination&&(this.confirmed=new U(e.CONFIRMED_LIST_NAME),this.updatedDestination(),this.updatedSource())}ngDoCheck(){this.source&&this.buildAvailable(this.source)&&this.onFilter(this.available),this.destination&&this.buildConfirmed(this.destination)&&this.onFilter(this.confirmed)}buildAvailable(e){const t=this.sourceDiffer.diff(e);return!!t&&(t.forEachRemovedItem(e=>{const t=this.findItemIndex(this.available.list,e.item,this.key);-1!==t&&this.available.list.splice(t,1)}),t.forEachAddedItem(e=>{-1===this.findItemIndex(this.available.list,e.item,this.key)&&this.available.list.push({_id:this.makeId(e.item),_name:this.makeName(e.item)})}),void 0!==this.compare&&this.available.list.sort(this.compare),this.available.sift=this.available.list,!0)}buildConfirmed(e){let t=!1;const i=this.destinationDiffer.diff(e);return!!i&&(i.forEachRemovedItem(e=>{const i=this.findItemIndex(this.confirmed.list,e.item,this.key);-1!==i&&(this.isItemSelected(this.confirmed.pick,this.confirmed.list[i])||this.selectItem(this.confirmed.pick,this.confirmed.list[i]),this.moveItem(this.confirmed,this.available,this.confirmed.list[i],!1),t=!0)}),i.forEachAddedItem(e=>{const i=this.findItemIndex(this.available.list,e.item,this.key);-1!==i&&(this.isItemSelected(this.available.pick,this.available.list[i])||this.selectItem(this.available.pick,this.available.list[i]),this.moveItem(this.available,this.confirmed,this.available.list[i],!1),t=!0)}),void 0!==this.compare&&this.confirmed.list.sort(this.compare),this.confirmed.sift=this.confirmed.list,t&&this.trueUp(),!0)}updatedSource(){this.available.list.length=0,this.available.pick.length=0,void 0!==this.source&&(this.sourceDiffer=this.differs.find(this.source).create())}updatedDestination(){void 0!==this.destination&&(this.destinationDiffer=this.differs.find(this.destination).create())}direction(){return this.format.direction===e.LTR}dragEnd(e){return e?e.dragStart=!1:(this.available.dragStart=!1,this.confirmed.dragStart=!1),!1}drag(e,t,i){var n;this.isItemSelected(i.pick,t)||this.selectItem(i.pick,t),i.dragStart=!0,null===(n=null==e?void 0:e.dataTransfer)||void 0===n||n.setData(this.id,t._id)}allowDrop(e,t){var i;return(null===(i=e.dataTransfer)||void 0===i?void 0:i.types.length)&&e.dataTransfer.types[0]===this.id&&(e.preventDefault(),t.dragStart||(t.dragOver=!0)),!1}dragLeave(){this.available.dragOver=!1,this.confirmed.dragOver=!1}drop(e,t){var i;(null===(i=null==e?void 0:e.dataTransfer)||void 0===i?void 0:i.types.length)&&e.dataTransfer.types[0]===this.id&&(e.preventDefault(),this.dragLeave(),this.dragEnd(),t===this.available?this.moveItem(this.available,this.confirmed):this.moveItem(this.confirmed,this.available))}trueUp(){let e=!1,t=this.destination.length;for(;(t-=1)>=0;)0===this.confirmed.list.filter(e=>"object"==typeof this.destination[t]?e._id===this.destination[t][this.key]:e._id===this.destination[t]).length&&(this.destination.splice(t,1),e=!0);for(let i=0,n=this.confirmed.list.length;i<n;i+=1){let t=this.destination.filter(e=>"object"==typeof e?e[this.key]===this.confirmed.list[i]._id:e===this.confirmed.list[i]._id);0===t.length&&(t=this.source.filter(e=>"object"==typeof e?e[this.key]===this.confirmed.list[i]._id:e===this.confirmed.list[i]._id),t.length>0&&(this.destination.push(t[0]),e=!0))}e&&this.destinationChange.emit(this.destination)}findItemIndex(e,t,i="_id"){let n=-1;return e.filter("object"==typeof t?function(o){return o._id===t[i]&&(n=e.indexOf(o),!0)}:function(i){return i._id===t&&(n=e.indexOf(i),!0)}),n}makeUnavailable(e,t){const i=e.list.indexOf(t);-1!==i&&e.list.splice(i,1)}moveItem(e,t,i=null,n=!0){let o=0,a=e.pick.length;for(i&&(o=e.list.indexOf(i),a=o+1);o<a;o+=1){let n=[];if(i){const t=this.findItemIndex(e.pick,i);-1!==t&&(n[0]=e.pick[t])}else n=e.list.filter(t=>t._id===e.pick[o]._id);1===n.length&&(0===t.list.filter(e=>e._id===n[0]._id).length&&t.list.push(n[0]),this.makeUnavailable(e,n[0]))}void 0!==this.compare&&t.list.sort(this.compare),e.pick.length=0,n&&this.trueUp(),setTimeout(()=>{this.onFilter(e),this.onFilter(t)},10)}isItemSelected(e,t){return e.filter(e=>Object.is(e,t)).length>0}shiftClick(e,t,i,n){if(e.shiftKey&&i.last&&!Object.is(n,i.last)){const e=i.sift.indexOf(i.last);if(t>e)for(let n=e+1;n<t;n+=1)this.selectItem(i.pick,i.sift[n]);else if(-1!==e)for(let n=t+1;n<e;n+=1)this.selectItem(i.pick,i.sift[n])}i.last=n}selectItem(e,t){const i=e.filter(e=>Object.is(e,t));if(i.length>0)for(let n=0,o=i.length;n<o;n+=1){const t=e.indexOf(i[n]);-1!==t&&e.splice(t,1)}else e.push(t)}selectAll(e){e.pick.length=0,e.pick=e.sift.slice(0)}selectNone(e){e.pick.length=0}isAllSelected(e){return 0===e.list.length||e.list.length===e.pick.length}isAnySelected(e){return e.pick.length>0}unpick(e){for(let t=e.pick.length-1;t>=0;t-=1)-1===e.sift.indexOf(e.pick[t])&&e.pick.splice(t,1)}clearFilter(e){e&&(e.picker="",this.onFilter(e))}onFilter(e){if(e.picker.length>0)try{const t=e.list.filter(t=>"[object Object]"===Object.prototype.toString.call(t)?void 0!==t._name?-1!==t._name.toLocaleLowerCase(this.format.locale).indexOf(e.picker.toLocaleLowerCase(this.format.locale)):-1!==JSON.stringify(t).toLocaleLowerCase(this.format.locale).indexOf(e.picker.toLocaleLowerCase(this.format.locale)):-1!==t.toLocaleLowerCase(this.format.locale).indexOf(e.picker.toLocaleLowerCase(this.format.locale)));e.sift=t,this.unpick(e)}catch(t){t instanceof RangeError&&(this.format.locale=void 0),e.sift=e.list}else e.sift=e.list}makeId(e){return"object"==typeof e?e[this.key]:e}makeName(e,t="_"){const i=this.display;function n(e){switch(Object.prototype.toString.call(e)){case"[object Number]":case"[object String]":return e;default:return void 0!==e?e[i]:"undefined"}}let o="";if(void 0!==this.display)switch(Object.prototype.toString.call(this.display)){case"[object Function]":o=this.display(e);break;case"[object Array]":for(let i=0,n=this.display.length;i<n;i+=1)if(o.length>0&&(o+=t),-1===this.display[i].indexOf("."))o+=e[this.display[i]];else{const t=this.display[i].split("."),n=e[t[0]];if(n)if(-1!==t[1].indexOf("substring")){const e=t[1].substring(t[1].indexOf("(")+1,t[1].indexOf(")")).split(",");switch(e.length){case 1:o+=n.substring(parseInt(e[0],10));break;case 2:o+=n.substring(parseInt(e[0],10),parseInt(e[1],10));break;default:o+=n}}else o+=n}break;default:o=n(e)}else o=n(e);return o}}return e.AVAILABLE_LIST_NAME="available",e.CONFIRMED_LIST_NAME="confirmed",e.LTR="left-to-right",e.RTL="right-to-left",e.DEFAULT_FORMAT={add:"Add",remove:"Remove",all:"All",none:"None",direction:e.LTR,draggable:!0,locale:void 0},e.\u0275fac=function(t){return new(t||e)(c.Pb(c.u))},e.\u0275cmp=c.Jb({type:e,selectors:[["app-duallist"]],inputs:{id:"id",key:"key",display:"display",height:"height",filter:"filter",format:"format",sort:"sort",compare:"compare",disabled:"disabled",source:"source",destination:"destination"},outputs:{destinationChange:"destinationChange"},features:[c.Bb],decls:17,vars:32,consts:[[1,"dual-list"],[1,"listbox",3,"ngStyle"],["class","filter",4,"ngIf"],[1,"record-picker"],[3,"ngStyle","ngClass","drop","dragover","dragleave"],[3,"ngClass","draggable","click","dragstart","dragend",4,"ngFor","ngForOf"],[1,"button-bar"],["type","button","name","addBtn",1,"btn","btn-primary","btn-block",3,"ngClass","disabled","click"],["type","button","name","removeBtn",1,"btn","btn-primary","btn-block",3,"ngClass","disabled","click"],[1,"filter"],["name","filterSource",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngClass","draggable","click","dragstart","dragend"],["name","filterDestination",1,"form-control",3,"ngModel","ngModelChange"],["itmConf",""]],template:function(e,t){1&e&&(c.Vb(0,"div",0),c.Vb(1,"div",1),c.Bc(2,D,2,1,"form",2),c.Vb(3,"div",3),c.Vb(4,"ul",4),c.cc("drop",function(e){return t.drop(e,t.confirmed)})("dragover",function(e){return t.allowDrop(e,t.available)})("dragleave",function(){return t.dragLeave()}),c.Bc(5,I,3,6,"li",5),c.Ub(),c.Ub(),c.Vb(6,"div",6),c.Vb(7,"button",7),c.cc("click",function(){return t.moveItem(t.available,t.confirmed)}),c.Dc(8),c.Ub(),c.Ub(),c.Ub(),c.Vb(9,"div",1),c.Bc(10,R,2,1,"form",2),c.Vb(11,"div",3),c.Vb(12,"ul",4),c.cc("drop",function(e){return t.drop(e,t.available)})("dragover",function(e){return t.allowDrop(e,t.confirmed)})("dragleave",function(){return t.dragLeave()}),c.Bc(13,F,4,6,"li",5),c.Ub(),c.Ub(),c.Vb(14,"div",6),c.Vb(15,"button",8),c.cc("click",function(){return t.moveItem(t.confirmed,t.available)}),c.Dc(16),c.Ub(),c.Ub(),c.Ub(),c.Ub()),2&e&&(c.Db(1),c.mc("ngStyle",c.qc(16,w,t.direction()?1:2,t.direction()?0:"10px")),c.Db(1),c.mc("ngIf",t.filter),c.Db(2),c.mc("ngStyle",c.qc(19,S,t.height,t.height))("ngClass",c.pc(22,k,t.available.dragOver)),c.Db(1),c.mc("ngForOf",t.available.sift),c.Db(2),c.mc("ngClass",t.direction()?"point-right":"point-left")("disabled",0===t.available.pick.length||t.disabled),c.Db(1),c.Ec(t.format.add),c.Db(1),c.mc("ngStyle",c.qc(24,w,t.direction()?2:1,t.direction()?"10px":0)),c.Db(1),c.mc("ngIf",t.filter),c.Db(2),c.mc("ngStyle",c.qc(27,S,t.height,t.height))("ngClass",c.pc(30,k,t.confirmed.dragOver)),c.Db(1),c.mc("ngForOf",t.confirmed.sift),c.Db(2),c.mc("ngClass",t.direction()?"point-left":"point-right")("disabled",0===t.confirmed.pick.length||t.disabled),c.Db(1),c.Ec(t.format.remove))},directives:[n.n,n.m,n.k,n.l,o.x,o.m,o.n,o.b,o.l,o.o],styles:['div.record-picker[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto;border:1px solid #ddd;border-radius:8px;position:relative;cursor:pointer;height:175px}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-button{width:0;height:0}div.record-picker[_ngcontent-%COMP%]{scrollbar-base-color:#4a7729;scrollbar-3dlight-color:#4a7729;scrollbar-highlight-color:#4a7729;scrollbar-track-color:#eee;scrollbar-arrow-color:grey;scrollbar-shadow-color:grey;scrollbar-dark-shadow-color:grey}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#eee;box-shadow:inset 0 0 3px #dfdfdf;border-top-right-radius:8px;border-bottom-right-radius:8px}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#337ab7;border:thin solid grey;border-top-right-radius:8px;border-bottom-right-radius:8px}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#286090}.record-picker[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding:0 0 1px}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-top:thin solid #ddd;border-bottom:1px solid #ddd;display:block;padding:2px 2px 2px 10px;margin-bottom:-1px;font-size:.85em;cursor:pointer;white-space:nowrap;min-height:16px}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.record-picker[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background-color:#d9edf7}.record-picker[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:hover{background-color:#c4e3f3}.record-picker[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:default;background-color:inherit}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{border-top-left-radius:8px;border-top-right-radius:8px;border-top:none}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom-left-radius:8px;border-bottom-right-radius:8px;border-bottom:none}.record-picker[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;font-weight:inherit;font-size:14px;padding:4px;margin-bottom:-1px;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.record-picker[_ngcontent-%COMP%]   ul.over[_ngcontent-%COMP%]{background-color:#d3d3d3}.dual-list[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-content:flex-start}.dual-list[_ngcontent-%COMP%]   .listbox[_ngcontent-%COMP%]{width:50%;margin:0}.dual-list[_ngcontent-%COMP%]   .button-bar[_ngcontent-%COMP%]{margin-top:8px}.point-right[_ngcontent-%COMP%]:after{content:"\\25B6";padding-left:1em}.point-left[_ngcontent-%COMP%]:before{content:"\\25C0";padding-right:1em}.dual-list[_ngcontent-%COMP%]   .button-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:47%}button.btn-block[_ngcontent-%COMP%]{display:block;width:100%;margin-bottom:8px;background-color:#4a7729!important}.filter[_ngcontent-%COMP%]{margin-bottom:-2.2em}.filter[_ngcontent-%COMP%]:after{content:"o";width:40px;color:transparent;font-size:2em;background-image:url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M0 64l192 192v192l128-32V256L512 64H0z"/></svg>\');background-repeat:no-repeat;background-position:50%;opacity:.2;top:-36px;left:calc(100% - 21px);position:relative}']}),e})();var A=i("Xa2L"),O=i("vrVw"),E=i("hlQ1"),j=i("tk/3");let M=(()=>{class e extends E.a{constructor(e,t){super("Comments",e,t,{root:O.a.webserviceURlLocal})}getAll(){return super.getAll()}getRecord(e,t,i){const n={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource(`Comments/${e}/${t}/${i}`,O.a.webserviceURlLocal);return this.http.get(o,n)}deleteRecord(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.delete(O.a.webserviceURlLocal+"Files/"+e,t)}getRecords(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("Comments/"+e,O.a.webserviceURlLocal);return this.http.get(i,t)}updateRecord(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},n=this.httpUrlGenerator.entityResource("Comments",O.a.webserviceURlLocal)+t;return this.http.put(n,e,i)}addRecord(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("Comments",O.a.webserviceURlLocal);return this.http.post(i,e,t)}}return e.\u0275fac=function(t){return new(t||e)(c.Zb(j.b),c.Zb(E.c))},e.\u0275prov=c.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function N(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Additional notes from Risk is required "),c.Ub())}function q(e,t){if(1&e&&(c.Vb(0,"div",16),c.Bc(1,N,2,0,"div",17),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.comment.errors.required)}}function B(e,t){1&e&&(c.Vb(0,"div",18),c.Vb(1,"span"),c.Dc(2,"Uploading..."),c.Ub(),c.Qb(3,"mat-progress-spinner",19),c.Ub())}function L(e,t){if(1&e&&(c.Vb(0,"div"),c.Vb(1,"p",20),c.Vb(2,"small"),c.Vb(3,"a",21),c.Dc(4),c.Ub(),c.Ub(),c.Ub(),c.Ub()),2&e){const e=t.$implicit;c.Db(3),c.nc("href",e.file_Path,c.wc),c.Db(1),c.Ec(e.name)}}function T(e,t){if(1&e&&(c.Vb(0,"a",21),c.Dc(1),c.Ub()),2&e){const e=t.$implicit;c.mc("href",e.file_path,c.wc),c.Db(1),c.Ec(e.file_name)}}function Y(e,t){if(1&e&&(c.Vb(0,"tr"),c.Vb(1,"td"),c.Dc(2),c.Ub(),c.Vb(3,"td"),c.Dc(4),c.hc(5,"date"),c.Ub(),c.Vb(6,"td"),c.Dc(7),c.Ub(),c.Vb(8,"td"),c.Bc(9,T,2,2,"a",24),c.Ub(),c.Ub()),2&e){const e=t.$implicit;c.Db(2),c.Ec(e.createUser),c.Db(2),c.Ec(c.jc(5,4,e.createdDate,"MM-dd-yyyy hh:mm a")),c.Db(3),c.Ec(e.comment),c.Db(2),c.mc("ngForOf",e.attachment)}}function G(e,t){if(1&e&&(c.Vb(0,"table",22),c.Vb(1,"tr",23),c.Vb(2,"td"),c.Dc(3,"Created By"),c.Ub(),c.Vb(4,"td"),c.Dc(5,"Date"),c.Ub(),c.Vb(6,"td"),c.Dc(7,"Risk Notes"),c.Ub(),c.Vb(8,"td"),c.Dc(9,"Attachments"),c.Ub(),c.Ub(),c.Bc(10,Y,10,7,"tr",12),c.Ub()),2&e){const e=c.gc();c.Db(10),c.mc("ngForOf",e.listComments)}}const Q=function(e){return{"is-invalid":e}};let z=(()=>{class e{constructor(e,t){this.fb=e,this.commentservice=t,this.formname="",this.formId=0,this.companyId=0,this.headerReview="",this.listComments=[],this.url=O.a.webserviceURlLocal.replace("api/",""),this.i=1,this.submitted=!1,this.attachment=[],this.commentForm=this.fb.group({id:[0],companyId:[""],comment:["",o.w.required],attachment:[""]}),this.spinner={bondingSpinner:!1}}ngAfterContentChecked(){this.companyId>0&&1==this.i&&this.formId>0&&(this.gridload(),this.i=0==this.formId?1:2,this.events&&this.events.subscribe(()=>{this.commentForm.value.comment.length&&this.commentsubmit()}))}ngAfterViewInit(){this.companyId>0&&1==this.i&&this.formId>0&&(this.gridload(),this.i=0==this.formId?1:2,console.log("home",this.events))}gridload(){console.log(this.i),console.log(this.companyId+" "+this.formname+" "+this.formId),this.commentservice.getRecord(this.companyId,this.formname,this.formId).subscribe(e=>{console.log(e),this.listComments=e.map(e=>Object.assign(Object.assign({},e),{attachment:e.files.map(e=>({file_path:e.file_Path,file_name:e.file_Name}))})),console.log(this.listComments)})}ngOnInit(){}get f(){return this.commentForm.controls}qcpUpload(e){let t=document.getElementById("attachment");for(let i=0;i<t.files.length;i++)this.attachment.push(t.files[i]);this.fileupload()}filepreview(e,t){var i=new FileReader;i.onload=i=>{let n=new Blob(e.files,{type:e.files[t].type});var o=(window.URL||window.webkitURL).createObjectURL(n),a=document.createElement("a"),r=document.createTextNode("View File");a.target="_blank",a.appendChild(r),a.href=o,a.click(),e.appendChild(a)},i.readAsDataURL(e.files[t])}fileupload(){}formMethod(){var e=new FormData;switch(e.append("companyId",this.companyId),e.append("comment",this.commentForm.value.comment),this.formname){case"organization":e.append("organizationId",this.formId);break;case"experience":e.append("experienceId",this.formId);break;case"safety":e.append("safetyId",this.formId);break;case"financial":e.append("financialId",this.formId);break;case"personnel":e.append("personnelId",this.formId);break;case"surety":e.append("suretyId",this.formId);break;case"signature":e.append("signatureId",this.formId)}for(let t=0;t<this.attachment.length;t++)e.append("attachment",this.attachment[t]);return e}commentsubmit(){this.submitted=!0;let e=this.formMethod();this.commentservice.addRecord(e).subscribe(e=>{this.gridload(),this.commentForm.patchValue({comment:"",attachment:[]}),this.attachment=[],this.submitted=!1})}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(o.d),c.Pb(M))},e.\u0275cmp=c.Jb({type:e,selectors:[["app-comment"]],inputs:{formname:"formname",formId:"formId",companyId:"companyId",headerReview:"headerReview",events:"events"},decls:27,vars:12,consts:[[1,"section"],[1,"bgyellow"],[1,"comment-section"],[1,"form",3,"formGroup","ngSubmit","keydown.enter"],[1,"row"],["formControlName","comment","id","comment","name","comment",1,"form-control","rowform",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for",""],[1,"form-control-customitem","form-control","rowform"],["type","file","title","Choose file","formControlName","attachment","id","attachment","name","attachment","multiple","",3,"ngClass","change"],["for","attachment"],["class","spinner__loading pt-3",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"text-end"],[1,"btn","ml-4","default-btn"],["class","table",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner__loading","pt-3"],["diameter","18","mode","indeterminate",1,"mt-1"],[1,"file-tag"],["target","_blank",3,"href"],[1,"table"],[2,"font-weight","bold"],["target","_blank",3,"href",4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(c.Vb(0,"div",0),c.Vb(1,"div"),c.Vb(2,"span",1),c.Dc(3),c.Ub(),c.Ub(),c.Vb(4,"div",2),c.Vb(5,"form",3),c.cc("ngSubmit",function(){return t.commentsubmit()})("keydown.enter",function(e){return e.preventDefault()}),c.Vb(6,"div",4),c.Vb(7,"label"),c.Dc(8,"1. Additional notes from Risk"),c.Ub(),c.Qb(9,"textarea",5),c.Bc(10,q,2,1,"div",6),c.Ub(),c.Vb(11,"div",4),c.Vb(12,"label",7),c.Dc(13,"2. Additional Attachment "),c.Ub(),c.Vb(14,"div",8),c.Vb(15,"input",9),c.cc("change",function(e){return t.qcpUpload(e)}),c.Ub(),c.Vb(16,"span",10),c.Dc(17,' \xa0Choose Files with "Click to Add Files"'),c.Ub(),c.Bc(18,B,4,0,"div",11),c.Bc(19,L,5,2,"div",12),c.Ub(),c.Ub(),c.Vb(20,"div",13),c.Vb(21,"button",14),c.Dc(22,"Submit"),c.Ub(),c.Ub(),c.Ub(),c.Vb(23,"h2"),c.Vb(24,"b"),c.Dc(25,"Risk Notes History"),c.Ub(),c.Ub(),c.Bc(26,G,11,1,"table",15),c.Ub(),c.Ub()),2&e&&(c.Db(3),c.Ec(t.headerReview),c.Db(2),c.mc("formGroup",t.commentForm),c.Db(4),c.mc("ngClass",c.pc(8,Q,t.submitted&&t.f.comment.errors)),c.Db(1),c.mc("ngIf",t.submitted&&t.f.comment.errors),c.Db(5),c.mc("ngClass",c.pc(10,Q,t.submitted&&t.f.attachment.errors)),c.Db(3),c.mc("ngIf",null==t.spinner?null:t.spinner.bondingSpinner),c.Db(1),c.mc("ngForOf",t.attachment),c.Db(7),c.mc("ngIf",t.listComments.length))},directives:[o.x,o.m,o.g,o.b,o.l,o.f,n.k,n.m,n.l,A.a],pipes:[n.e],styles:[".table[_ngcontent-%COMP%]{width:95%;margin:10px auto;border-top:1px solid #ccc;border-right:1px solid #ccc}.table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px;border-bottom:1px solid #ccc;border-left:1px solid #ccc}.section[_ngcontent-%COMP%]{margin:-14px auto 0;padding:10px;width:99%;background-color:#fff}.comment-section[_ngcontent-%COMP%]{width:95%;padding:20px 10px 10px;margin:10px auto;background-color:#fff;border-radius:12px}.form[_ngcontent-%COMP%]{margin:10px;padding:10px 0}.row[_ngcontent-%COMP%]{margin:10px 0}.rowform[_ngcontent-%COMP%]{margin-left:30px;margin-top:5px;width:98%}.bgyellow[_ngcontent-%COMP%]{background-color:#ff0;height:20px;font-weight:700;padding:5px 10px}"]}),e})();const $=["exampleModal"];function W(e,t){1&e&&(c.Vb(0,"div",172),c.Dc(1,"Organization type is required "),c.Ub())}function H(e,t){if(1&e&&(c.Vb(0,"div",170),c.Bc(1,W,2,0,"div",171),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.org_Type.errors.required)}}function Z(e,t){1&e&&(c.Vb(0,"div",180),c.Dc(1," Reason is required "),c.Ub())}function K(e,t){if(1&e&&(c.Vb(0,"div",178),c.Bc(1,Z,2,0,"div",179),c.Ub()),2&e){const e=c.gc(2);c.Db(1),c.mc("ngIf",null==e.f.org_Other_Details||null==e.f.org_Other_Details.errors?null:e.f.org_Other_Details.errors.required)}}const J=function(e){return{"is-invalid":e}};function X(e,t){if(1&e){const e=c.Wb();c.Vb(0,"div",9),c.Qb(1,"div",173),c.Vb(2,"div",103),c.Vb(3,"div",174),c.Vb(4,"label",175),c.Dc(5,"If other, describe circumstances. "),c.Ub(),c.Vb(6,"textarea",176),c.cc("ngModelChange",function(){return c.uc(e),c.gc().idleReset(1)}),c.Ub(),c.Bc(7,K,2,1,"div",177),c.Ub(),c.Ub(),c.Ub()}if(2&e){const e=c.gc();c.Db(6),c.mc("ngClass",c.pc(2,J,e.submitted&&(null==e.f.org_Other_Details?null:e.f.org_Other_Details.errors))),c.Db(1),c.mc("ngIf",(e.submitted||e.f.org_Other_Details.touched)&&(null==e.f.org_Other_Details?null:e.f.org_Other_Details.errors))}}function ee(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Date of incorporation is required"),c.Ub())}function te(e,t){if(1&e&&(c.Vb(0,"div",181),c.Bc(1,ee,2,0,"div",182),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.date_Of_Incorporation.errors.required)}}function ie(e,t){if(1&e&&(c.Vb(0,"option",15),c.Dc(1),c.Ub()),2&e){const e=t.$implicit;c.mc("ngValue",e.name),c.Db(1),c.Fc("",e.name," ")}}function ne(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"State of incorporation is required"),c.Ub())}function oe(e,t){if(1&e&&(c.Vb(0,"div",181),c.Bc(1,ne,2,0,"div",182),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.state_Of_Incorporation.errors.required)}}function ae(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Prequalification Contact name is required"),c.Ub())}function re(e,t){if(1&e&&(c.Vb(0,"div",181),c.Bc(1,ae,2,0,"div",182),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.contact_Name.errors.required)}}function se(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Prequalification Contact email is required"),c.Ub())}function ce(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Enter a valid Email"),c.Ub())}function le(e,t){if(1&e&&(c.Vb(0,"div",181),c.Bc(1,se,2,0,"div",182),c.Bc(2,ce,2,0,"div",182),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.contact_Email.errors.required),c.Db(1),c.mc("ngIf",e.f.contact_Email.errors.email)}}function de(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Prequalification contact phone is required"),c.Ub())}function ue(e,t){if(1&e&&(c.Vb(0,"div",181),c.Bc(1,de,2,0,"div",182),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.contact_Mobile.errors.required)}}function me(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Extension is required "),c.Ub())}function be(e,t){if(1&e&&(c.Vb(0,"div",181),c.Bc(1,me,2,0,"div",182),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.contact_Mobile_Ext.errors.required)}}function pe(e,t){1&e&&(c.Vb(0,"div",185),c.Dc(1," Certified diverse/minority business is required "),c.Ub())}function fe(e,t){if(1&e&&(c.Vb(0,"div",183),c.Bc(1,pe,2,0,"div",184),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",null==e.f.is_Certified_Diverse.errors?null:e.f.is_Certified_Diverse.errors.required)}}function he(e,t){1&e&&(c.Vb(0,"span",12),c.Dc(1,"*"),c.Ub())}function ge(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Last year is required"),c.Ub())}function _e(e,t){if(1&e&&(c.Vb(0,"div",181),c.Bc(1,ge,2,0,"div",182),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.annual_Construction_Last_Year.errors.required)}}function ve(e,t){1&e&&(c.Vb(0,"span",12),c.Dc(1,"*"),c.Ub())}function ye(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Past 2 years is required"),c.Ub())}function Ve(e,t){if(1&e&&(c.Vb(0,"div",181),c.Bc(1,ye,2,0,"div",182),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.annual_Construction_2_Years.errors.required)}}function Ue(e,t){1&e&&(c.Vb(0,"span",12),c.Dc(1,"*"),c.Ub())}function De(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Past 3 years is required"),c.Ub())}function Ce(e,t){if(1&e&&(c.Vb(0,"div",181),c.Bc(1,De,2,0,"div",182),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.annual_Construction_3_Years.errors.required)}}function Ie(e,t){1&e&&(c.Vb(0,"div",188),c.Dc(1," Parent company is required "),c.Ub())}function Re(e,t){if(1&e&&(c.Vb(0,"div",186),c.Bc(1,Ie,2,0,"div",187),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",null==e.f.is_Parent_Company.errors?null:e.f.is_Parent_Company.errors.required)}}function Fe(e,t){1&e&&(c.Vb(0,"span",12),c.Dc(1,"*"),c.Ub())}function we(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Contact name is required "),c.Ub())}function Se(e,t){if(1&e&&(c.Vb(0,"div",181),c.Bc(1,we,2,0,"div",182),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.parent_Company_Name.errors.required)}}function ke(e,t){1&e&&(c.Vb(0,"span",12),c.Dc(1,"*"),c.Ub())}function xe(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Address Line 1 is required"),c.Ub())}function Pe(e,t){if(1&e&&(c.Vb(0,"div",181),c.Bc(1,xe,2,0,"div",182),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.parent_Company_Address1.errors.required)}}function Ae(e,t){1&e&&(c.Vb(0,"span",12),c.Dc(1,"*"),c.Ub())}function Oe(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"City is required"),c.Ub())}function Ee(e,t){if(1&e&&(c.Vb(0,"div",181),c.Bc(1,Oe,2,0,"div",182),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.parent_Company_City.errors.required)}}function je(e,t){1&e&&(c.Vb(0,"span",12),c.Dc(1,"*"),c.Ub())}function Me(e,t){if(1&e&&(c.Vb(0,"option",15),c.Dc(1),c.Ub()),2&e){const e=t.$implicit;c.mc("ngValue",e.name),c.Db(1),c.Fc("",e.name," ")}}function Ne(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"State is required"),c.Ub())}function qe(e,t){if(1&e&&(c.Vb(0,"div",181),c.Bc(1,Ne,2,0,"div",182),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.parent_Company_State.errors.required)}}function Be(e,t){1&e&&(c.Vb(0,"span",12),c.Dc(1,"*"),c.Ub())}function Le(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Zip code is required "),c.Ub())}function Te(e,t){if(1&e&&(c.Vb(0,"div",181),c.Bc(1,Le,2,0,"div",182),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.parent_Company_Zipcode.errors.required)}}function Ye(e,t){1&e&&(c.Vb(0,"span",12),c.Dc(1,"*"),c.Ub())}function Ge(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Country is required "),c.Ub())}function Qe(e,t){if(1&e&&(c.Vb(0,"div",181),c.Bc(1,Ge,2,0,"div",182),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.parent_Company_Country.errors.required)}}function ze(e,t){1&e&&(c.Vb(0,"span",12),c.Dc(1,"*"),c.Ub())}function $e(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Parent Company FEIN Number / Tax-id is required"),c.Ub())}function We(e,t){if(1&e&&(c.Vb(0,"div",181),c.Bc(1,$e,2,0,"div",182),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.parent_Company_FEIN.errors.required)}}function He(e,t){1&e&&(c.Vb(0,"span",12),c.Dc(1,"*"),c.Ub())}function Ze(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Attachment is required"),c.Ub())}function Ke(e,t){if(1&e&&(c.Vb(0,"div",181),c.Bc(1,Ze,2,0,"div",182),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.w9_Document_Attachment.errors.required)}}function Je(e,t){1&e&&(c.Vb(0,"div",189),c.Vb(1,"span"),c.Dc(2,"Uploading..."),c.Ub(),c.Qb(3,"mat-progress-spinner",190),c.Ub())}function Xe(e,t){if(1&e){const e=c.Wb();c.Vb(0,"div"),c.Vb(1,"p",191),c.Vb(2,"small"),c.Vb(3,"a",192),c.Dc(4),c.Ub(),c.Ub(),c.Vb(5,"small",193),c.cc("click",function(){c.uc(e);const i=t.index,n=t.$implicit;return c.gc().removedocumentw9file(i,n)}),c.Dc(6,"X"),c.Ub(),c.Ub(),c.Ub()}if(2&e){const e=t.$implicit;c.Db(3),c.nc("href",e.file_Path,c.wc),c.Db(1),c.Ec(e.name)}}function et(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Executive officer #1 name is required"),c.Ub())}function tt(e,t){if(1&e&&(c.Vb(0,"div",181),c.Bc(1,et,2,0,"div",182),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.executive_Officer_Name.errors.required)}}function it(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Executive officer #1 title is required"),c.Ub())}function nt(e,t){if(1&e&&(c.Vb(0,"div",181),c.Bc(1,it,2,0,"div",182),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.executive_Officer_Title.errors.required)}}function ot(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Executive officer #1 email is required"),c.Ub())}function at(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Enter a valid Email"),c.Ub())}function rt(e,t){if(1&e&&(c.Vb(0,"div",181),c.Bc(1,ot,2,0,"div",182),c.Bc(2,at,2,0,"div",182),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.executive_Officer_Email.errors.required),c.Db(1),c.mc("ngIf",e.f.executive_Officer_Email.errors.email)}}function st(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Enter a valid Email"),c.Ub())}function ct(e,t){if(1&e&&(c.Vb(0,"div",181),c.Bc(1,st,2,0,"div",182),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.executive_Officer_Email2.errors.email)}}function lt(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Bankruptcy proceeding is required"),c.Ub())}function dt(e,t){if(1&e&&(c.Vb(0,"div",181),c.Bc(1,lt,2,0,"div",182),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.is_Bank_Ruptcy.errors.required)}}function ut(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Reason is required"),c.Ub())}function mt(e,t){if(1&e&&(c.Vb(0,"div",181),c.Bc(1,ut,2,0,"div",182),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.bank_Ruptcy_Info.errors.required)}}function bt(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Limits or restrictions is required "),c.Ub())}function pt(e,t){if(1&e&&(c.Vb(0,"div",181),c.Bc(1,bt,2,0,"div",182),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.is_Limit_Licenses.errors.required)}}function ft(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Reason is required"),c.Ub())}function ht(e,t){if(1&e&&(c.Vb(0,"div",181),c.Bc(1,ft,2,0,"div",182),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.limit_Licenses_Info.errors.required)}}function gt(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"License suspended or revoked is required"),c.Ub())}function _t(e,t){if(1&e&&(c.Vb(0,"div",181),c.Bc(1,gt,2,0,"div",182),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.is_Suspended_Licenses.errors.required)}}function vt(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Reason is required"),c.Ub())}function yt(e,t){if(1&e&&(c.Vb(0,"div",181),c.Bc(1,vt,2,0,"div",182),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.suspended_Licenses_Info.errors.required)}}function Vt(e,t){if(1&e){const e=c.Wb();c.Vb(0,"div",194),c.Vb(1,"button",195),c.cc("click",function(){return c.uc(e),c.gc().gotoHome()}),c.Dc(2," << BACK"),c.Ub(),c.Vb(3,"button",196),c.cc("click",function(){return c.uc(e),c.gc().save()}),c.Dc(4),c.Ub(),c.Vb(5,"button",197),c.Dc(6,"NEXT >>"),c.Ub(),c.Ub()}if(2&e){const e=c.gc();c.Db(4),c.Ec(e.submitText)}}function Ut(e,t){if(1&e){const e=c.Wb();c.Vb(0,"div",198),c.Vb(1,"button",195),c.cc("click",function(){return c.uc(e),c.gc().gotoHome()}),c.Dc(2," << BACK"),c.Ub(),c.Vb(3,"button",199),c.cc("click",function(){return c.uc(e),c.gc().nextroutePage()}),c.Dc(4,"NEXT >>"),c.Ub(),c.Ub()}}function Dt(e,t){if(1&e&&c.Qb(0,"app-comment",200),2&e){const e=c.gc();c.mc("events",e.eventsSubject.asObservable())("formId",e.tempcompanyid)("companyId",e.tempcompanyid)}}const Ct=function(e){return{"bg-grey":e}},It=function(e){return{"bg-grey4":e}};let Rt=(()=>{class e{constructor(e,t,i,n,a,c,l,d,u,m,b,p,f){this.formBuilder=e,this.router=t,this.companyservice=i,this.bnIdle=n,this.zone=a,this.idle=c,this.keepalive=l,this.toaster=d,this.toastr=u,this.dialog=m,this.project=b,this.logininfo=p,this.ngxUiLoader=f,this.currentForm=0,this.submitted=!1,this.prequalification_status="",this.regionSource=["Charlotte, North Carolina","Cincinnati, Ohio","Columbus, Ohio","Dayton, Ohio","Indianapolis, Indiana","Knoxville, Tennessee","Lexington, Kentucky","Louisville, Kentucky","Nashville, Tennessee","Raleigh, North Carolina"],this.regionDest=[],this.companyInfo=this.formBuilder.group({id:[0],vendorID:[],taxID:[""],companyName:[""],org_Type:["",[o.w.required,o.w.maxLength(130)]],org_Other_Details:[""],date_Of_Incorporation:["",[o.w.required]],state_Of_Incorporation:["",[o.w.required]],contact_Name:["",[o.w.required,o.w.maxLength(256)]],contact_Email:["",[o.w.required,o.w.maxLength(256),o.w.email,o.w.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)]],contact_Mobile:["",[o.w.required,o.w.minLength(15)]],contact_Mobile_Ext:["",[o.w.maxLength(256)]],is_Certified_Diverse:["no",[o.w.required,o.w.maxLength(130)]],is_Parent_Company:["no",[o.w.required]],parent_Company_Name:[""],parent_Company_Address1:[""],parent_Company_Address2:[""],parent_Company_City:[""],parent_Company_State:[""],parent_Company_Zipcode:[""],parent_Company_Country:["USA"],parent_Company_FEIN:[""],w9_Document_Attachment:[""],geographic_Area:["",[o.w.required]],percentage_Of_Annual_Revenue:["00",[o.w.required,o.w.pattern(/^-?(0|[1-9]\d*)?$/)]],annual_Construction_Last_Year:["",[o.w.required]],annual_Construction_2_Years:["",[o.w.required]],annual_Construction_3_Years:["",[o.w.required]],executive_Officer_Name:["",[o.w.required]],executive_Officer_Title:["",[o.w.required]],executive_Officer_Email:["",[o.w.required,o.w.maxLength(256),o.w.email,o.w.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)]],executive_Officer_Name2:[""],executive_Officer_Title2:[""],executive_Officer_Email2:["",[o.w.email]],is_Bank_Ruptcy:["no",[o.w.required]],bank_Ruptcy_Info:[""],is_Limit_Licenses:["no",[o.w.required]],limit_Licenses_Info:[""],is_Suspended_Licenses:["no",[o.w.required]],suspended_Licenses_Info:[""],preQualification_Status:["To complete prequalification"],approved_Date:[""],reject_Reason:[""],standing:[""],user_Type:[""],safety:[""],experience:[""],finance:[""],personnel:[""],surity:[""],reference:[""],other:[""],organizationStatus:[""],signature:[""],certified_Diverse_Attachment:["",[o.w.maxLength(130)]],additional_Details:["",[o.w.maxLength(256)]],CD_Upload:[""],other_details:["",o.w.maxLength(256)],isAutosave:[!1],city:[""],state:[null],org_Size:[],region:[]}),this.cpaUpload=[],this.autoSaveAlert=!1,this.setTimeout=0,this.firstTime=0,this.resetTimer=0,this.is_Certified_Diverse="no",this.showSaveModal=!1,this.showAdmin=!1,this.userRole="",this.companyId=0,this.selectdisabled=!1,this.worktypes=["Option 1","Option 2","Option 3","Option 4","Option 1","Option 2","Option 3","Option 4","Option 1","Option 2","Option 3","Option 4","Option 1","Option 2","Option 3","Option 4"],this.spinner={trirLastSpinner:!1,trirTwoSpinner:!1,trirThreeSpinner:!1,docmentSpinner:!1},this.tempannuallastyear=[],this.annualtwoyear=[],this.annualthreeyear=[],this.tempannualtwoyear=[],this.tempannualthreeyear=[],this.annuallastyear=[],this.stateNames=r,this.tempdocumentw9file=[],this.documentw9file=[],this.toppings=new o.e,this.stateTotal=[{name:"",percentage:""}],this.eventsSubject=new s.a}ngOnInit(){this.ngxUiLoader.startLoader("loader-01");let e=localStorage.getItem("userDetails");e&&(e=JSON.parse(atob(e)),this.userDetails=e,this.userRole=e.role,this.tempcompanyid=localStorage.getItem("tempcompanyid"),this.tempcompanyid=Number(atob(this.tempcompanyid)),console.log(this.tempcompanyid),localStorage.setItem("currPage","companyinfo"),this.tempcompanyid>0&&"Subcontractor"!=this.userRole&&(this.showAdmin=!0,this.selectdisabled=!0,this.companyservice.getRecord(this.tempcompanyid).subscribe(e=>{e=e[0],this.companyservice.companyId=this.tempcompanyid,this.logininfo.setOrgupdatedate(e.updatedDate),this.updateCompanyinfo(e)}),this.companyInfo.disable(),this.companyInfo.updateValueAndValidity(),this.logininfo.setAdmin(!0)),this.submitText="SAVE",null!=this.userDetails.vendorId&&null!=this.userDetails.taxId&&"Subcontractor"==this.userRole&&this.companyservice.getUser(this.userDetails.vendorId,this.userDetails.taxId).subscribe(e=>{this.companyId=e.id,this.companyservice.companyId=e.id,localStorage.setItem("companyid",btoa(e.id)),this.companyId>0&&(localStorage.setItem("companyid",btoa(this.companyId)),this.companyservice.getRecord(this.companyId).subscribe(e=>{this.logininfo.setOrgupdatedate(e[0].updatedDate),console.log(e,e[0].preQualification_Status),console.log(e,e[0].preQualification_Status,"To complete prequalification"!=e[0].preQualification_Status,"Additional Info Needed from Subcontractor"!=e[0].preQualification_Status),e[0].preQualification_Status&&this.logininfo.formDisable(e[0].preQualification_Status)&&(this.selectdisabled=!0,this.companyInfo.disable(),this.companyInfo.updateValueAndValidity()),this.submitText="UPDATE",this.updateCompanyinfo(e[0])}))}),this.ngxUiLoader.stopLoader("loader-01"))}emitEventToChild(){this.eventsSubject.next()}getRecord(){this.companyservice.getUser(this.userDetails.vendorId,this.userDetails.taxId).subscribe(e=>{this.companyId=e.id,this.companyId>0&&(localStorage.setItem("companyid",btoa(this.companyId)),this.companyservice.getRecord(this.companyId).subscribe(t=>{this.submitText=t[0].is_Parent_Company?"UPDATE":"SAVE",console.log(e.updateDate),this.logininfo.setOrgupdatedate(t.updatedDate),this.updateCompanyinfo(t[0])}))})}CommaFormatted(e,t){var i,n;e.AT_TARGET>=37&&e.AT_TARGET<=40||this.companyInfo.patchValue({[t]:null===(n=null===(i=this.companyInfo.get(t))||void 0===i?void 0:i.value)||void 0===n?void 0:n.replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,",")})}numberCheck(e){return"e"!==e.key&&"+"!==e.key&&"-"!==e.key}companyDetailReset(){this.companyInfo.patchValue({parent_Company_Name:"",parent_Company_Address1:"",parent_Company_Address2:"",parent_Company_City:"",parent_Company_State:"",parent_Company_Zipcode:"",parent_Company_Country:"",parent_Company_FEIN:""}),this.selectdisabled=!1,this.documentw9file.forEach((e,t)=>{this.removedocumentw9file(t,e,!1)})}licenseStateReset(){this.companyInfo.patchValue({suspended_Licenses_Info:""})}licenseReset(){this.companyInfo.patchValue({limit_Licenses_Info:""})}bankruptcyReset(){this.companyInfo.patchValue({bank_Ruptcy_Info:""})}updateCompanyinfo(e){var t,i,n,o;let a=[];this.stateTotal=[],null===(t=null==e?void 0:e.geographic_Area)||void 0===t||t.split(",").filter(e=>{this.stateTotal.push({name:e.split("--")[0],percentage:e.split("--")[1]})}),0==this.stateTotal.length&&this.stateTotal.push({name:"",percentage:""}),console.log(a),console.log(e.org_Type),this.companyInfo.patchValue({id:e.id,org_Type:this.logininfo.validateEmpty(null===(i=null==e?void 0:e.org_Type)||void 0===i?void 0:i.toLowerCase()),org_Other_Details:this.logininfo.validateEmpty(e.org_Other_Details),date_Of_Incorporation:this.logininfo.validateEmpty(null===(n=null==e?void 0:e.date_Of_Incorporation)||void 0===n?void 0:n.split("T")[0]),state_Of_Incorporation:this.logininfo.validateEmpty(e.state_Of_Incorporation),contact_Name:this.logininfo.validateEmpty(e.contact_Name),contact_Email:this.logininfo.validateEmpty(e.contact_Email),contact_Mobile:this.logininfo.validateEmpty(e.contact_Mobile),contact_Mobile_Ext:this.logininfo.validateEmpty(e.contact_Mobile_Ext),is_Certified_Diverse:this.logininfo.validateEmpty(e.is_Certified_Diverse),is_Parent_Company:this.logininfo.validateEmpty(e.is_Parent_Company),parent_Company_Name:this.logininfo.validateEmpty(e.parent_Company_Name),parent_Company_Address1:this.logininfo.validateEmpty(e.parent_Company_Address1),parent_Company_Address2:this.logininfo.validateEmpty(e.parent_Company_Address2),parent_Company_City:this.logininfo.validateEmpty(e.parent_Company_City),parent_Company_State:this.logininfo.validateEmpty(e.parent_Company_State),parent_Company_Zipcode:this.logininfo.validateEmpty(e.parent_Company_Zipcode),parent_Company_Country:this.logininfo.validateEmpty(e.parent_Company_Country),parent_Company_FEIN:this.logininfo.validateEmpty(e.parent_Company_FEIN),geographic_Area:this.logininfo.validateEmpty(this.stateTotal),percentage_Of_Annual_Revenue:this.logininfo.validateEmpty(e.percentage_Of_Annual_Revenue),executive_Officer_Name:this.logininfo.validateEmpty(e.executive_Officer_Name),executive_Officer_Title:this.logininfo.validateEmpty(e.executive_Officer_Title),executive_Officer_Email:this.logininfo.validateEmpty(e.executive_Officer_Email),executive_Officer_Name2:this.logininfo.validateEmpty(e.executive_Officer_Name2),executive_Officer_Title2:this.logininfo.validateEmpty(e.executive_Officer_Title2),executive_Officer_Email2:this.logininfo.validateEmpty(e.executive_Officer_Email2),is_Bank_Ruptcy:this.logininfo.validateEmpty(e.is_Bank_Ruptcy),bank_Ruptcy_Info:this.logininfo.validateEmpty(e.bank_Ruptcy_Info),is_Limit_Licenses:this.logininfo.validateEmpty(e.is_Limit_Licenses),limit_Licenses_Info:this.logininfo.validateEmpty(e.limit_Licenses_Info),is_Suspended_Licenses:this.logininfo.validateEmpty(e.is_Suspended_Licenses),suspended_Licenses_Info:this.logininfo.validateEmpty(e.suspended_Licenses_Info),preQualification_Status:this.logininfo.validateEmpty(e.preQualification_Status),reject_Reason:this.logininfo.validateEmpty(e.reject_Reason),standing:e.standing,companyName:e.companyName,vendorID:e.vendorID,taxID:e.taxID,approved_Date:e.approved_Date,annual_Construction_Last_Year:this.logininfo.validateEmpty(e.annual_Construction_Last_Year),annual_Construction_2_Years:this.logininfo.validateEmpty(e.annual_Construction_2_Years),annual_Construction_3_Years:this.logininfo.validateEmpty(e.annual_Construction_3_Years),region:e.messer_Region,org_Size:e.messer_Dollar});let r=null===(o=e.messer_Region)||void 0===o?void 0:o.split(",");if(r)for(let s=0;s<r.length-1;s+=2)this.regionDest.push(`${r[s]},${r[s+1]}`);this.selectedToppings=a,(null==e?void 0:e.additional_Details)&&"null"!=(null==e?void 0:e.additional_Details)&&this.companyInfo.patchValue({additional_Details:null==e?void 0:e.additional_Details}),this.prequalification_status=e.preQualification_Status,this.logininfo.setOrganization(e.preQualification_Status),this.annuallastyear=[],this.annualtwoyear=[],this.annualthreeyear=[],this.documentw9file=[],e.files.filter(e=>{"Annual_Construction_Last_Year"==e.file_Type&&0==e.isDeleted&&(e.file_Name.length<31?this.annuallastyear.push({id:e.id,name:e.file_Name,file_Path:e.file_Path}):0==e.isDeleted&&this.annuallastyear.push({id:e.id,name:e.file_Name.substring(0,31)+"....",file_Path:e.file_Path})),"Annual_Construction_2_Years"==e.file_Type&&0==e.isDeleted&&(e.file_Name.length<31?this.annualtwoyear.push({id:e.id,name:e.file_Name,file_Path:e.file_Path}):0==e.isDeleted&&this.annualtwoyear.push({id:e.id,name:e.file_Name.substring(0,31)+"....",file_Path:e.file_Path})),"Annual_Construction_3_Years"==e.file_Type&&0==e.isDeleted&&(e.file_Name.length<31?this.annualthreeyear.push({id:e.id,name:e.file_Name,file_Path:e.file_Path}):0==e.isDeleted&&this.annualthreeyear.push({id:e.id,name:e.file_Name.substring(0,31)+"....",file_Path:e.file_Path})),"W9_Document_Attachment"==e.file_Type&&0==e.isDeleted&&(e.file_Name.length<31?this.documentw9file.push({id:e.id,name:e.file_Name,file_Path:e.file_Path}):0==e.isDeleted&&this.documentw9file.push({id:e.id,name:e.file_Name.substring(0,31)+"....",file_Path:e.file_Path}))})}ngAfterViewInit(){this.keepalive.interval(30),this.keepalive.start(),this.keepalive.stop()}ngOnDestroy(){this.keepalive.stop(),this.nextpage()}ngOnChanges(){document.getElementById("exampleModals").click()}idleReset(e){this.keepalive.start(),this.resetTimer=0}get f(){return"other"==this.companyInfo.value.org_Type?this.companyInfo.controls.org_Other_Details.setValidators([o.w.required,o.w.maxLength(256)]):(this.companyInfo.controls.org_Other_Details.clearValidators(),this.companyInfo.patchValue({org_Other_Details:this.logininfo.validateEmpty(this.companyInfo.value.org_Other_Details)})),this.companyInfo.controls.org_Other_Details.updateValueAndValidity(),"yes"==this.companyInfo.value.is_Parent_Company?(this.companyInfo.controls.parent_Company_Name.setValidators([o.w.required,o.w.maxLength(256)]),this.companyInfo.controls.parent_Company_Address1.setValidators([o.w.required,o.w.maxLength(256)]),this.companyInfo.controls.parent_Company_City.setValidators([o.w.required,o.w.maxLength(256)]),this.companyInfo.controls.parent_Company_State.setValidators([o.w.required,o.w.maxLength(256)]),this.companyInfo.controls.parent_Company_Zipcode.setValidators([o.w.required,o.w.maxLength(256),o.w.pattern(/^-?(0|[1-9]\d*)?$/)]),this.companyInfo.controls.parent_Company_Country.setValidators([o.w.required,o.w.maxLength(256)]),this.companyInfo.controls.parent_Company_FEIN.setValidators([o.w.required,o.w.maxLength(256)]),this.companyInfo.controls.w9_Document_Attachment.setValidators([o.w.required])):"no"==this.companyInfo.value.is_Parent_Company&&(this.companyInfo.controls.parent_Company_Name.clearValidators(),this.companyInfo.controls.parent_Company_Address1.clearValidators(),this.companyInfo.controls.parent_Company_City.clearValidators(),this.companyInfo.controls.parent_Company_State.clearValidators(),this.companyInfo.controls.parent_Company_Country.clearValidators(),this.companyInfo.controls.parent_Company_Zipcode.clearValidators(),this.companyInfo.controls.parent_Company_FEIN.clearValidators(),this.companyInfo.controls.w9_Document_Attachment.clearValidators()),this.companyInfo.controls.parent_Company_Name.updateValueAndValidity(),this.companyInfo.controls.parent_Company_Address1.updateValueAndValidity(),this.companyInfo.controls.parent_Company_City.updateValueAndValidity(),this.companyInfo.controls.parent_Company_State.updateValueAndValidity(),this.companyInfo.controls.parent_Company_Country.updateValueAndValidity(),this.companyInfo.controls.parent_Company_FEIN.updateValueAndValidity(),this.companyInfo.controls.parent_Company_Zipcode.updateValueAndValidity(),this.companyInfo.controls.w9_Document_Attachment.updateValueAndValidity(),null==this.companyInfo.value.is_Certified_Diverse?this.companyInfo.controls.is_Certified_Diverse.setValidators([o.w.required]):this.companyInfo.controls.is_Certified_Diverse.setValue(this.companyInfo.value.is_Certified_Diverse),"yes"==this.companyInfo.value.is_Bank_Ruptcy?this.companyInfo.controls.bank_Ruptcy_Info.setValidators([o.w.required,o.w.maxLength(256)]):(this.companyInfo.controls.bank_Ruptcy_Info.clearValidators(),this.companyInfo.patchValue({bank_Ruptcy_Info:this.logininfo.validateEmpty(this.companyInfo.value.bank_Ruptcy_Info)})),this.companyInfo.controls.bank_Ruptcy_Info.updateValueAndValidity(),"yes"==this.companyInfo.value.is_Limit_Licenses?this.companyInfo.controls.limit_Licenses_Info.setValidators([o.w.required,o.w.maxLength(256)]):(this.companyInfo.controls.limit_Licenses_Info.clearValidators(),this.companyInfo.patchValue({limit_Licenses_Info:this.logininfo.validateEmpty(this.companyInfo.value.limit_Licenses_Info)})),this.companyInfo.controls.limit_Licenses_Info.updateValueAndValidity(),"yes"==this.companyInfo.value.is_Suspended_Licenses?this.companyInfo.controls.suspended_Licenses_Info.setValidators([o.w.required,o.w.maxLength(256)]):(this.companyInfo.controls.suspended_Licenses_Info.clearValidators(),this.companyInfo.patchValue({suspended_Licenses_Info:this.logininfo.validateEmpty(this.companyInfo.value.suspended_Licenses_Info)})),this.companyInfo.controls.suspended_Licenses_Info.updateValueAndValidity(),1==this.stateTotal.length?""!=this.stateTotal[0].name||""!=this.stateTotal[0].percentage?(this.companyInfo.controls.geographic_Area.clearValidators(),this.companyInfo.controls.percentage_Of_Annual_Revenue.clearValidators()):(this.companyInfo.controls.geographic_Area.setValidators([o.w.required]),this.companyInfo.controls.percentage_Of_Annual_Revenue.setValidators([o.w.required])):this.stateNames.length>1&&(this.companyInfo.controls.geographic_Area.clearValidators(),this.companyInfo.controls.percentage_Of_Annual_Revenue.clearValidators()),this.companyInfo.controls.geographic_Area.updateValueAndValidity(),this.companyInfo.controls.percentage_Of_Annual_Revenue.updateValueAndValidity(),this.companyInfo.controls}submit(){if(this.keepalive.stop(),this.ngxUiLoader.startLoader("loader-01"),"Subcontractor"!=this.userRole)this.emitEventToChild(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`]);else if(0==this.companyId){this.companyInfo.patchValue({isAutosave:!1});let e=this.formMethod();this.companyservice.addRecord(e).subscribe(e=>{localStorage.setItem("companyid",btoa(e.id)),this.companyInfo.patchValue({id:e.id,isAutosave:!1}),this.autoSaveAlert=!1,this.toastr.success("Organization Information saved successfully","Organizational Information"),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])})}else{this.companyInfo.patchValue({id:this.companyId,isAutosave:!0});let e=this.formMethod();this.companyservice.updateRecord(e,this.companyInfo.value.id).subscribe(e=>{this.companyservice.companyId=e.id,localStorage.setItem("companyid",btoa(e.id)),this.toastr.success("Organization Info updated successfully","Organizational Information"),this.autoSaveAlert=!1,this.getRecord(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])})}}save(){if(this.submitted=!0,this.keepalive.stop(),this.companyInfo.patchValue({companyName:this.userDetails.companyName,vendorID:this.userDetails.vendorID,taxID:this.userDetails.taxID}),console.log(this.companyInfo),this.companyInfo.valid)if(0==this.companyId){this.companyInfo.patchValue({isAutosave:!1});let e=this.formMethod();this.companyservice.addRecord(e).subscribe(e=>{localStorage.setItem("companyid",btoa(e.id)),this.companyservice.companyId=e.id,this.companyInfo.patchValue({id:e.id}),this.submitText="UPDATE",this.autoSaveAlert=!1,this.toastr.success("Organizational Information saved successfully","Organization Information"),this.getRecord()},e=>{})}else{this.companyInfo.patchValue({isAutosave:!0,id:this.companyId});let e=this.formMethod();this.companyservice.updateRecord(e,this.companyInfo.value.id).subscribe(e=>{this.companyservice.companyId=e.id,localStorage.setItem("companyid",btoa(e.id)),this.autoSaveAlert=!1,this.getRecord(),this.toastr.success("Organizational Information updated successfully","Organization Information")})}}autoSave(){if(this.companyInfo.patchValue({companyName:this.userDetails.companyName,vendorID:this.userDetails.vendorID,taxID:this.userDetails.taxID}),this.resetTimer+=1,1==this.resetTimer)if(this.keepalive.stop(),this.showSaveModal=!1,0==this.companyId){this.companyInfo.patchValue({isAutosave:!1});let e=this.formMethod();this.companyservice.addRecord(e).subscribe(e=>{this.companyInfo.patchValue({id:e.id,isAutosave:!1}),this.submitText="UPDATE",this.autoSaveAlert=!1,this.keepalive.stop(),this.getRecord()})}else{this.companyInfo.patchValue({id:this.companyId,isAutosave:!0});let e=this.formMethod();this.companyservice.updateRecord(e,this.companyInfo.value.id).subscribe(e=>{this.autoSaveAlert=!1,this.keepalive.stop(),this.getRecord()})}}nextpage(){if("Subcontractor"==this.userRole)if(0==this.companyId){this.companyInfo.patchValue({isAutosave:!1});let e=this.formMethod();this.companyservice.addRecord(e).subscribe(e=>{localStorage.setItem("companyid",btoa(e.id)),this.companyInfo.patchValue({id:e.id,isAutosave:!1}),this.autoSaveAlert=!1})}else{this.companyInfo.patchValue({id:this.companyId,isAutosave:!0});let e=this.formMethod();this.companyservice.updateRecord(e,this.companyInfo.value.id).subscribe(e=>{this.companyservice.companyId=e.id,localStorage.setItem("companyid",btoa(e.id)),this.autoSaveAlert=!1})}}formMethod(){console.log("Form method"),console.log(this.companyInfo.value.date_Of_Incorporation),console.log(this.companyInfo.value.parent_Company_Zipcode);var e=new FormData;e.append("id",this.companyInfo.value.id),e.append("additional_Details",this.logininfo.validateEmpty(this.companyInfo.value.additional_Details)),e.append("certified_Diverse_Attachment",this.logininfo.validateEmpty(this.companyInfo.value.certified_Diverse_Attachment)),e.append("contact_Email",this.logininfo.validateEmpty(this.companyInfo.value.contact_Email)),e.append("contact_Mobile",this.logininfo.validateEmpty(this.companyInfo.value.contact_Mobile)),e.append("contact_Name",this.logininfo.validateEmpty(this.companyInfo.value.contact_Name)),e.append("is_Certified_Diverse",this.logininfo.validateEmpty(this.companyInfo.value.is_Certified_Diverse)),e.append("org_Type",this.logininfo.validateEmpty(this.companyInfo.value.org_Type)),e.append("CD_Upload",""),e.append("preQualification_Status",this.logininfo.validateEmpty(this.companyInfo.value.preQualification_Status)),e.append("companyName",this.logininfo.validateEmpty(this.userDetails.companyName)),e.append("vendorID",this.logininfo.validateEmpty(this.userDetails.vendorId)),e.append("taxID",this.logininfo.validateEmpty(this.userDetails.taxId)),e.append("org_Other_Details",this.logininfo.validateEmpty(this.companyInfo.value.org_Other_Details)),e.append("date_Of_Incorporation",this.logininfo.validateEmpty(this.companyInfo.value.date_Of_Incorporation)),e.append("state_Of_Incorporation",this.logininfo.validateEmpty(this.companyInfo.value.state_Of_Incorporation)),e.append("contact_Name",this.logininfo.validateEmpty(this.companyInfo.value.contact_Name)),e.append("contact_Mobile",this.logininfo.validateEmpty(this.companyInfo.value.contact_Mobile)),e.append("contact_Mobile_Ext",this.logininfo.validateEmpty(this.companyInfo.value.contact_Mobile_Ext)),e.append("is_Parent_Company",this.logininfo.validateEmpty(this.companyInfo.value.is_Parent_Company)),e.append("parent_Company_Name",this.logininfo.validateEmpty(this.companyInfo.value.parent_Company_Name)),e.append("parent_Company_Address1",this.logininfo.validateEmpty(this.companyInfo.value.parent_Company_Address1)),e.append("parent_Company_Address2",this.logininfo.validateEmpty(this.companyInfo.value.parent_Company_Address2)),e.append("parent_Company_City",this.logininfo.validateEmpty(this.companyInfo.value.parent_Company_City)),e.append("parent_Company_State",this.logininfo.validateEmpty(this.companyInfo.value.parent_Company_State)),e.append("parent_Company_Zipcode",this.logininfo.validateEmpty(this.companyInfo.value.parent_Company_Zipcode)),e.append("parent_Company_Country",this.logininfo.validateEmpty(this.companyInfo.value.parent_Company_Country)),e.append("parent_Company_FEIN",this.logininfo.validateEmpty(this.companyInfo.value.parent_Company_FEIN)),e.append("percentage_Of_Annual_Revenue","00"),e.append("executive_Officer_Name",this.logininfo.validateEmpty(this.companyInfo.value.executive_Officer_Name)),e.append("executive_Officer_Title",this.logininfo.validateEmpty(this.companyInfo.value.executive_Officer_Title)),e.append("executive_Officer_Email",this.logininfo.validateEmpty(this.companyInfo.value.executive_Officer_Email)),e.append("executive_Officer_Name2",this.logininfo.validateEmpty(this.companyInfo.value.executive_Officer_Name2)),e.append("executive_Officer_Title2",this.logininfo.validateEmpty(this.companyInfo.value.executive_Officer_Title2)),e.append("executive_Officer_Email2",this.logininfo.validateEmpty(this.companyInfo.value.executive_Officer_Email2)),e.append("is_Bank_Ruptcy",this.logininfo.validateEmpty(this.companyInfo.value.is_Bank_Ruptcy)),e.append("bank_Ruptcy_Info",this.logininfo.validateEmpty(this.companyInfo.value.bank_Ruptcy_Info)),e.append("is_Limit_Licenses",this.logininfo.validateEmpty(this.companyInfo.value.is_Limit_Licenses)),e.append("limit_Licenses_Info",this.logininfo.validateEmpty(this.companyInfo.value.limit_Licenses_Info)),e.append("is_Suspended_Licenses",this.logininfo.validateEmpty(this.companyInfo.value.is_Suspended_Licenses)),e.append("suspended_Licenses_Info",this.logininfo.validateEmpty(this.companyInfo.value.suspended_Licenses_Info)),e.append("annual_Construction_Last_Year",this.companyInfo.value.annual_Construction_Last_Year),e.append("annual_Construction_2_Years",this.companyInfo.value.annual_Construction_2_Years),e.append("annual_Construction_3_Years",this.companyInfo.value.annual_Construction_3_Years),e.append("messer_Region",this.regionDest),e.append("messer_Dollar",this.companyInfo.value.org_Size),this.tempannualthreeyear=[];for(let i=0;i<this.tempdocumentw9file.length;i++)e.append("W9_Document_Attachment",this.tempdocumentw9file[i]);this.tempdocumentw9file=[];let t=[];return this.stateTotal.filter(e=>{""!=e.name&&""!=e.percentage&&t.push(e.name+"--"+e.percentage)}),console.log(t),e.append("geographic_Area",String(t)),e}gotoHome(){this.emitEventToChild(),this.router.navigate(["/home"])}gotoNext(){this.emitEventToChild(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])}triRInfoLastYearUpload(e){let t=document.getElementById("annual_Construction_Last_Year");for(let i=0;i<t.files.length;i++)this.tempannuallastyear.push(t.files[i]);this.spinner.trirLastSpinner=!0,this.fileupload()}removetriRInfoLastYearUpload(e,t){this.selectdisabled||this.companyservice.deleteRecord(t.id).subscribe(t=>{this.toastr.info("File removed successfully","Company Info"),this.annuallastyear.splice(e,1)})}triRInfoThreeYearsUpload(e){let t=document.getElementById("annual_Construction_3_Years");for(let i=0;i<t.files.length;i++)this.tempannualthreeyear.push(t.files[i]);this.spinner.trirThreeSpinner=!0,this.fileupload()}removetriRInfoThreeYearsUpload(e,t){this.selectdisabled||this.companyservice.deleteRecord(t.id).subscribe(t=>{this.toastr.info("File removed successfully","Company Info"),this.annualthreeyear.splice(e,1)})}triRInfoTwoYearsUpload(e){let t=document.getElementById("annual_Construction_2_Years");for(let i=0;i<t.files.length;i++)this.tempannualtwoyear.push(t.files[i]);this.spinner.trirTwoSpinner=!0,this.fileupload()}removetriRInfoTwoYearsUpload(e,t){this.selectdisabled||this.companyservice.deleteRecord(t.id).subscribe(t=>{this.toastr.info("File removed successfully","Company Info"),this.annualtwoyear.splice(e,1)})}documentw9fileUpload(e){let t=document.getElementById("w9_Document_Attachment");for(let i=0;i<t.files.length;i++)this.tempdocumentw9file.push(t.files[i]);this.spinner.docmentSpinner=!0,this.fileupload()}removedocumentw9file(e,t,i=!0){this.selectdisabled||this.companyservice.deleteRecord(t.id).subscribe(t=>{i&&this.toastr.info("File removed successfully","Company Info"),this.documentw9file.splice(e,1)})}fileupload(){if(0==this.companyId){this.companyInfo.patchValue({isAutosave:!0});let e=this.formMethod();this.companyservice.addRecord(e).subscribe(e=>{this.submitText="UPDATE",this.getRecord(),this.fileReset(),this.keepalive.stop(),this.resetSpinner()})}else{this.companyInfo.patchValue({isAutosave:!0});let e=this.formMethod();this.companyservice.updateRecord(e,this.companyId).subscribe(e=>{this.getRecord(),this.fileReset(),this.keepalive.stop(),this.resetSpinner(),this.companyInfo.patchValue({isAutosave:!1})})}}fileReset(){this.companyInfo.patchValue({triR_Info_LastYear:"",triR_Info_TwoYears:"",triR_Info_ThreeYears:""})}resetSpinner(){this.spinner={trirLastSpinner:!1,trirTwoSpinner:!1,trirThreeSpinner:!1,docmentSpinner:!1}}addGeographicarea(){this.stateTotal.push({name:"",percentage:""})}removeGeographicalarea(e,t){this.selectdisabled||(this.stateTotal.splice(t,1),0==this.stateTotal.length&&this.stateTotal.push({name:"",percentage:""}))}nextroutePage(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(o.d),c.Pb(a.f),c.Pb(l.a),c.Pb(d.a),c.Pb(c.B),c.Pb(u.a),c.Pb(m.a),c.Pb(f),c.Pb(h.b),c.Pb(g.b),c.Pb(_.a),c.Pb(v),c.Pb(y.c))},e.\u0275cmp=c.Jb({type:e,selectors:[["app-companyinfo"]],viewQuery:function(e,t){if(1&e&&c.Hc($,1),2&e){let e;c.rc(e=c.dc())&&(t.exampleModals=e.first)}},features:[c.Bb],decls:449,vars:214,consts:[[1,"m-2",3,"formGroup","ngSubmit","keydown.enter"],[1,"px-2","form-bg",3,"ngClass"],[1,"form-group","input-group","row","px-1","mx-auto","pt-3"],[1,"row"],[1,"col-lg-6","col-head-0","mx-auto"],[1,"row","col-curve-top","bg-white","mx-0","px-0","pt-2","pb-4"],[1,"col-12","pt-2"],[1,"row","my-auto","pt-2","ps"],["for","organization-type",1,"my-auto","fw-bold"],[1,"row","my-auto","pt-1","mx-auto","ps-2"],[1,"col-5","col-lg-4","my-auto"],["for","organization-type",1,"my-auto","font-italic"],[1,"text-danger"],[1,"col-7","col-lg-8"],["formControlName","org_Type","id","organization-type","name","org_Type","aria-label","Default select example",1,"form-control","form-select","my-2",3,"ngClass","ngModelChange"],[3,"ngValue"],["selected","",3,"ngValue"],["class","invalid-feedback","id","org_Type",4,"ngIf"],["class","row  my-auto pt-1 mx-auto ps-2",4,"ngIf"],["for","date_Of_Incorporation",1,"my-auto","font-italic"],[1,""],["type","date","row","5","formControlName","date_Of_Incorporation","id","date_Of_Incorporation","name","date_Of_Incorporation",1,"form-control",3,"ngClass","ngModelChange"],["class","invalid-feedback",4,"ngIf"],[1,"row","my-auto","pt-2","mx-auto","ps-2"],["for","state_Of_Incorporation",1,"my-auto","font-italic"],["id","state_Of_Incorporation","name","state_Of_Incorporation","formControlName","state_Of_Incorporation",1,"form-control","form-select","select-height",3,"ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"note","fw-bold","p-0","pt-3",3,"ngClass"],[1,"col-lg-6","pe-1","ps-3","col-head-0","mx-auto"],[1,"row","bg-white","col-curve-top","mx-0","px-0","pt-2","pb-0"],[1,"col-12","pb-1"],[1,"col-5","col-lg-12","my-auto","pt-2","pt-3","pb-2","mx-auto"],[1,"row","my-2","my-auto","pt-2","pb-2","mx-auto"],[1,"col-5","col-lg-4"],["for","contact_Name",1,"my-auto","font-italic"],["type","text","row","5","formControlName","contact_Name","id","contact_Name","name","contact_Name",1,"form-control",3,"ngClass","ngModelChange"],[1,"row","mb-2","my-auto","pt-2","pb-1","mx-auto"],["for","contact_Email",1,"my-auto","font-italic"],["type","email","formControlName","contact_Email","id","contact_Email","name","contact_Email",1,"form-control",3,"ngClass","ngModelChange"],[1,"row","mb-2","my-auto","pt-2","mx-auto"],["for","contact_Mobile",1,"my-auto","font-italic"],[1,"col-9","pe-0"],["appPhoneMask","","onKeyPress","if(this.value.length==15) return false;","autocomplete","disabled","formControlName","contact_Mobile","id","contact_Mobile","name","contact_Mobile",1,"form-control",3,"ngClass","ngModelChange"],[1,"col-3","ps-0"],["type","number","onKeyPress","if(this.value.length==3) return false;","pattern","[0-9]+","formControlName","contact_Mobile_Ext","id","contact_Mobile_Ext","name","contact_Mobile_Ext",1,"form-control",3,"ngClass","ngModelChange"],[1,"col-lg-6","pe-1","ps-2","col-head-1","mx-auto","pt-3"],[1,"row","bg-white","col-curve","py-2","mt-0"],[1,"col-9","pull-left"],["for","is_Certified_Diverse",1,"my-auto","fw-bold"],[1,"col-3","pull-left"],[1,"row","pt-1"],[1,"col-lg-6"],["type","radio","formControlName","is_Certified_Diverse","value","yes","checked","checked","name","is_Certified_Diverse","id","is_Certified_Diverse_yes","required","",3,"ngModel","ngClass","ngModelChange"],["for","is_Certified_Diverse_yes"],["type","radio","formControlName","is_Certified_Diverse","value","no","name","is_Certified_Diverse","id","is_Certified_Diverse_no","required","",3,"ngModel","ngClass","ngModelChange"],["for","is_Certified_Diverse_no"],["class","invalid-feedback mt-2","id","is_Certified_Diverse",4,"ngIf"],[1,"col-12","form-group","input-group","row","m-0"],[1,"row","bg-white","col-curve","py-2","mt-3"],[1,"fw-bold"],[1,"red",3,"source","destination","disabled","destinationChange"],[1,"col-12","mx-auto","pt-2"],["for","annual_Construction_Last_Year",1,"my-auto","float-right"],[1,"col-lg-12","mt-2","bg-white","col-curve"],["for","annual_Construction_Last_Year",1,"font-italic","float-right"],["class","text-danger",4,"ngIf"],["type","text","formControlName","annual_Construction_Last_Year","name","annual_Construction_Last_Year",1,"form-control",3,"ngClass","keydown","keyup"],["for","annual_Construction_2_Years",1,"font-italic","float-right"],["type","text","formControlName","annual_Construction_2_Years","title","Choose file","id","annual_Construction_2_Years","name","annual_Construction_2_Years",1,"form-control",3,"ngClass","keydown","keyup"],[1,"row","pb-3"],["for","annual_Construction_3_Years",1,"font-italic","float-right"],["type","text","formControlName","annual_Construction_3_Years","id","annual_Construction_3_Years","name","annual_Construction_3_Years",1,"form-control",3,"ngClass","keydown","keyup"],[1,"col-lg-6","pe-0","ps-0","col-head-1","mx-auto","pt-3"],[1,"row","bg-white","col-curve","mx-auto","py-2","mx-0","px-0","mt-2"],[1,"col-6"],["for","is_Parent_Company",1,"my-auto","font-italic"],[1,"col-lg-3"],["type","radio","formControlName","is_Parent_Company","value","yes","checked","checked","name","is_Parent_Company","id","is_Parent_Company_yes","required","",3,"ngClass","ngModelChange"],["for","is_Parent_Company_yes"],[1,"col-lg-9"],["type","radio","formControlName","is_Parent_Company","value","no","name","is_Parent_Company","id","is_Parent_Company_no","required","",3,"ngClass","ngModelChange","click"],["for","is_Parent_Company_no"],["class","invalid-feedback mt-2","id","is_Parent_Company",4,"ngIf"],[1,"col-12",3,"ngClass"],[1,"row","my-2"],["for","parent_Company_Name",1,"my-auto","font-italic"],["type","text","row","5","formControlName","parent_Company_Name","id","parent_Company_Name","name","parent_Company_Name",1,"form-control",3,"ngClass","ngModelChange"],["for","parent_Company_Address1",1,"my-auto","font-italic"],["type","text","row","5","formControlName","parent_Company_Address1","id","parent_Company_Address1","name","parent_Company_Address1",1,"form-control",3,"ngClass","ngModelChange"],["type","text","row","5","formControlName","parent_Company_Address2","id","parent_Company_Address2","name","parent_Company_Address2",1,"form-control",3,"ngModelChange"],["for","parent_Company_City",1,"my-auto","font-italic"],["type","text","formControlName","parent_Company_City","id","parent_Company_City","name","parent_Company_City",1,"form-control",3,"ngClass","ngModelChange"],["for","parent_Company_State",1,"my-auto","font-italic","float-right"],["formControlName","parent_Company_State","id","parent_Company_State","name","parent_Company_State",1,"form-control","form-select",3,"ngClass","ngModelChange"],["for","parent_Company_Zipcode",1,"my-auto","font-italic"],["type","number","row","5","formControlName","parent_Company_Zipcode","id","parent_Company_Zipcode","name","parent_Company_Zipcode",1,"form-control",3,"ngClass","ngModelChange"],["for","parent_Company_Country",1,"my-auto","font-italic"],["type","text","row","5","formControlName","parent_Company_Country","id","parent_Company_Country","value","USA","name","parent_Company_Country",1,"form-control",3,"ngClass","ngModelChange"],["for","parent_Company_FEIN",1,"my-auto","font-italic"],["type","text","row","5","formControlName","parent_Company_FEIN","id","parent_Company_FEIN","name","parent_Company_FEIN",1,"form-control",3,"ngClass","ngModelChange"],[1,"row","mb-1"],[1,"col-4","my-auto"],["for","w9_Document_Attachment",1,"my-auto","font-italic","float-right"],[1,"col-8"],[1,"form-control-customitem","form-control"],["type","file","title","Choose file","formControlName","w9_Document_Attachment","id","w9_Document_Attachment","name","w9_Document_Attachment","multiple","",3,"ngClass","change"],["for","w9_Document_Attachment",3,"ngClass"],["class","spinner__loading pt-3",4,"ngIf"],[4,"ngFor","ngForOf"],["formControlName","org_Size","id","organization-Size","name","org_Size","aria-label","Default select example",1,"form-control","form-select","my-2","ml-1",2,"width","96%","margin-left","10px",3,"ngClass","ngModelChange"],[1,"col-lg-6","pe-1","ps-3","col-head-1"],[1,"row","bg-white","col-curve","mx-auto","py-1","mx-0","px-0","mt-1"],["for","executive_Officer_Name",1,"my-auto","fw-bold","pt-3"],[1,"row","my-1"],["for","executive_Officer_Name",1,"my-auto","font-italic"],["type","text","row","5","formControlName","executive_Officer_Name","id","executive_Officer_Name","name","executive_Officer_Name",1,"form-control",3,"ngClass","ngModelChange"],["for","executive_Officer_Title",1,"my-auto","font-italic"],["type","text","row","5","formControlName","executive_Officer_Title","id","executive_Officer_Title","name","executive_Officer_Title",1,"form-control",3,"ngClass","ngModelChange"],["for","executive_Officer_Email",1,"my-auto","font-italic"],["type","email","row","5","formControlName","executive_Officer_Email","id","executive_Officer_Email","name","executive_Officer_Email",1,"form-control",3,"ngClass","ngModelChange"],["for","executive_Officer_Name2",1,"my-auto","font-italic"],["type","text","row","5","formControlName","executive_Officer_Name2","id","executive_Officer_Name2","name","executive_Officer_Name2",1,"form-control",3,"ngModelChange"],["for","executive_Officer_Title2",1,"my-auto","font-italic"],["type","text","row","5","formControlName","executive_Officer_Title2","id","executive_Officer_Title2","name","executive_Officer_Title2",1,"form-control",3,"ngModelChange"],["for","executive_Officer_Email2",1,"my-auto","font-italic"],["type","email","formControlName","executive_Officer_Email2","id","executive_Officer_Email2","name","executive_Officer_Email2",1,"form-control",3,"ngModelChange"],["for","additional_Details",1,"my-auto","font-italic"],[1,"col-lg-2"],["type","radio","formControlName","is_Bank_Ruptcy","value","yes","checked","checked","name","is_Bank_Ruptcy","id","is_Bank_Ruptcy_yes",3,"ngClass","ngModelChange"],["for","is_Bank_Ruptcy_yes"],[1,"col-lg-10"],["type","radio","formControlName","is_Bank_Ruptcy","value","no","name","is_Bank_Ruptcy","id","is_Bank_Ruptcy_no",3,"ngClass","ngModelChange","click"],["for","is_Bank_Ruptcy_no"],[1,"mr-4","mt-1"],[1,"note","fw-bold",3,"ngClass"],[1,"col-lg-12","bg-white"],["formControlName","bank_Ruptcy_Info","id","bank_Ruptcy_Info","name","bank_Ruptcy_Info",1,"form-control",3,"ngClass","ngModelChange"],[1,"col-lg-6","pe-0","ps-0","col-head-1","mx-auto"],[1,"row","bg-white","col-curve","py-2","mx-3","px-0","mt-1"],[1,"mt-2"],["for","is_Limit_Licenses",1,"my-auto","fw-bold"],["for","is_Limit_Licenses",1,"my-auto","font-italic"],["type","radio","formControlName","is_Limit_Licenses","value","yes","checked","checked","name","is_Limit_Licenses","id","is_Limit_Licenses_yes",3,"ngClass","ngModelChange"],["for","is_Limit_Licenses_yes"],["type","radio","formControlName","is_Limit_Licenses","value","no","name","is_Limit_Licenses","id","is_Limit_Licenses_no",3,"ngClass","ngModelChange","click"],["for","is_Limit_Licenses_no"],["formControlName","limit_Licenses_Info","id","limit_Licenses_Info","name","limit_Licenses_Info",1,"form-control",3,"ngClass","ngModelChange"],[1,"pt-1"],["type","radio","formControlName","is_Suspended_Licenses","value","yes","checked","checked","name","is_Suspended_Licenses","id","is_Suspended_Licenses_yes",3,"ngClass","ngModelChange"],["for","is_Suspended_Licenses_yes"],["type","radio","formControlName","is_Suspended_Licenses","value","no","name","is_Suspended_Licenses","id","is_Suspended_Licenses_no",3,"ngClass","ngModelChange","click"],["for","is_Suspended_Licenses_no"],["formControlName","suspended_Licenses_Info","id","suspended_Licenses_Info","name","suspended_Licenses_Info",1,"form-control",3,"ngClass","ngModelChange"],[1,"pt-5","pb-1"],["class","text-end mx-lg-4 my-3",4,"ngIf"],["class","text-end mx-4 my-3",4,"ngIf"],["headerReview","Risk Review & Inputs","formname","organization",3,"events","formId","companyId",4,"ngIf"],["type","button","id","exampleModals","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn-hide"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["exampleModal",""],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"text-success"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","default-btn","modal-cancel"],["type","button","data-bs-dismiss","modal",1,"btn","default-btn"],["id","org_Type",1,"invalid-feedback"],["id","org_Type",4,"ngIf"],["id","org_Type"],[1,"col-4"],[1,"col-12"],["for","organization-others",1,"my-auto","font-italic","note"],["formControlName","org_Other_Details","id","organization-others","name","organizationOthers",1,"form-control",3,"ngClass","ngModelChange"],["class","invalid-feedback","id","organizationothers",4,"ngIf"],["id","organizationothers",1,"invalid-feedback"],["id","org_Other_Details",4,"ngIf"],["id","org_Other_Details"],[1,"invalid-feedback"],[4,"ngIf"],["id","is_Certified_Diverse",1,"invalid-feedback","mt-2"],["id","is_Certified_Diverse",4,"ngIf"],["id","is_Certified_Diverse"],["id","is_Parent_Company",1,"invalid-feedback","mt-2"],["id","is_Parent_Company",4,"ngIf"],["id","is_Parent_Company"],[1,"spinner__loading","pt-3"],["diameter","18","mode","indeterminate",1,"mt-1"],[1,"file-tag"],["target","_blank",3,"href"],[1,"file-close","text-white",3,"click"],[1,"text-end","mx-lg-4","my-3"],[1,"btn","float-start","btn","default-btn",3,"click"],["type","button",1,"btn","ml-4","default-btn",3,"click"],["type","submit",1,"btn","btn-success","mx-2","default-btn"],[1,"text-end","mx-4","my-3"],[1,"btn","btn-success","mx-2","default-btn",3,"click"],["headerReview","Risk Review & Inputs","formname","organization",3,"events","formId","companyId"]],template:function(e,t){1&e&&(c.Vb(0,"form",0),c.cc("ngSubmit",function(){return t.submit()})("keydown.enter",function(e){return e.preventDefault()}),c.Vb(1,"div",1),c.Vb(2,"div",2),c.Vb(3,"div",3),c.Vb(4,"div",4),c.Vb(5,"div",5),c.Vb(6,"div",6),c.Vb(7,"div",7),c.Vb(8,"h6",8),c.Dc(9,"1. Organization Details "),c.Ub(),c.Ub(),c.Vb(10,"div",9),c.Vb(11,"div",10),c.Vb(12,"label",11),c.Dc(13,"Type of Organization: "),c.Vb(14,"span",12),c.Dc(15,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(16,"div",13),c.Vb(17,"select",14),c.cc("ngModelChange",function(){return t.idleReset(1)}),c.Vb(18,"option",15),c.Dc(19,"Select"),c.Ub(),c.Vb(20,"option",16),c.Dc(21,"Corporation"),c.Ub(),c.Vb(22,"option",15),c.Dc(23,"Partnership"),c.Ub(),c.Vb(24,"option",15),c.Dc(25,"Joint Venture"),c.Ub(),c.Vb(26,"option",15),c.Dc(27,"Limited Liability Company "),c.Ub(),c.Vb(28,"option",15),c.Dc(29,"Sole Proprietorship"),c.Ub(),c.Vb(30,"option",15),c.Dc(31,"Other"),c.Ub(),c.Ub(),c.Bc(32,H,2,1,"div",17),c.Ub(),c.Ub(),c.Bc(33,X,8,4,"div",18),c.Vb(34,"div",9),c.Vb(35,"div",10),c.Vb(36,"label",19),c.Dc(37,"Date of Incorporation: "),c.Vb(38,"span",12),c.Dc(39,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(40,"div",13),c.Vb(41,"div",20),c.Vb(42,"input",21),c.cc("ngModelChange",function(){return t.idleReset(1)}),c.Ub(),c.Bc(43,te,2,1,"div",22),c.Ub(),c.Ub(),c.Ub(),c.Vb(44,"div",23),c.Vb(45,"div",10),c.Vb(46,"label",24),c.Dc(47,"State of Incorporation: "),c.Vb(48,"span",12),c.Dc(49,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(50,"div",13),c.Vb(51,"select",25),c.cc("ngModelChange",function(){return t.idleReset(1)}),c.Vb(52,"option",15),c.Dc(53,"Select State"),c.Ub(),c.Bc(54,ie,2,2,"option",26),c.Ub(),c.Vb(55,"small",27),c.Dc(56,"NOTE: If your country is outside of USA, please select \u2018Other\u2019. "),c.Ub(),c.Bc(57,oe,2,1,"div",22),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(58,"div",28),c.Vb(59,"div",29),c.Vb(60,"div",30),c.Vb(61,"div",31),c.Vb(62,"h6",8),c.Dc(63,"2. Prequalification Contact Info "),c.Vb(64,"span",12),c.Dc(65,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(66,"div",30),c.Vb(67,"div",32),c.Vb(68,"div",33),c.Vb(69,"label",34),c.Dc(70,"Prequalification Contact Name:"),c.Vb(71,"span",12),c.Dc(72,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(73,"div",13),c.Vb(74,"input",35),c.cc("ngModelChange",function(){return t.idleReset(1)}),c.Ub(),c.Bc(75,re,2,1,"div",22),c.Ub(),c.Ub(),c.Vb(76,"div",36),c.Vb(77,"div",33),c.Vb(78,"label",37),c.Dc(79,"Prequalification Contact Email: "),c.Vb(80,"span",12),c.Dc(81,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(82,"div",13),c.Vb(83,"input",38),c.cc("ngModelChange",function(){return t.idleReset(1)}),c.Ub(),c.Bc(84,le,3,2,"div",22),c.Ub(),c.Ub(),c.Vb(85,"div",39),c.Vb(86,"div",33),c.Vb(87,"label",40),c.Dc(88,"Prequalification Contact Phone: "),c.Vb(89,"span",12),c.Dc(90,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(91,"div",13),c.Vb(92,"div",3),c.Vb(93,"div",41),c.Vb(94,"input",42),c.cc("ngModelChange",function(){return t.idleReset(1)}),c.Ub(),c.Bc(95,ue,2,1,"div",22),c.Ub(),c.Vb(96,"div",43),c.Vb(97,"input",44),c.cc("ngModelChange",function(){return t.idleReset(1)}),c.Ub(),c.Bc(98,be,2,1,"div",22),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(99,"div",3),c.Vb(100,"div",45),c.Vb(101,"div",46),c.Vb(102,"div",6),c.Vb(103,"div",47),c.Vb(104,"h6",48),c.Dc(105,"3. Is your organization a certified diverse business (i.e., MBE, WBE, SBE, DBE, VBE, etc.,)? "),c.Vb(106,"span",12),c.Dc(107,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(108,"div",49),c.Vb(109,"div",50),c.Vb(110,"span",51),c.Vb(111,"input",52),c.cc("ngModelChange",function(){return t.idleReset(1)})("ngModelChange",function(e){return t.is_Certified_Diverse=e}),c.Ub(),c.Vb(112,"label",53),c.Dc(113," YES"),c.Ub(),c.Ub(),c.Vb(114,"span",51),c.Vb(115,"input",54),c.cc("ngModelChange",function(){return t.idleReset(1)})("ngModelChange",function(e){return t.is_Certified_Diverse=e}),c.Ub(),c.Vb(116,"label",55),c.Dc(117," NO"),c.Ub(),c.Ub(),c.Ub(),c.Bc(118,fe,2,1,"div",56),c.Ub(),c.Ub(),c.Vb(119,"div",57),c.Vb(120,"small",27),c.Dc(121,"If yes, please submit a copy of each of your certification documents on the MBP or contact nmoffitt@messer.com to check if you qualify to become certified. "),c.Ub(),c.Ub(),c.Ub(),c.Vb(122,"div",58),c.Vb(123,"div",6),c.Vb(124,"div"),c.Vb(125,"h6",59),c.Dc(126,"5. Please pick all the Messer regions your company is willing to operate / perform work?"),c.Ub(),c.Ub(),c.Vb(127,"div",50),c.Vb(128,"app-duallist",60),c.cc("destinationChange",function(e){return t.regionDest=e}),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(129,"div",58),c.Vb(130,"div",61),c.Vb(131,"h6",62),c.Dc(132,"6. Annual Construction volume of work you\u2019ve completed in the past 3 years "),c.Vb(133,"span",12),c.Dc(134,"*"),c.Ub(),c.Ub(),c.Vb(135,"div",63),c.Vb(136,"div",3),c.Vb(137,"div",33),c.Vb(138,"label",64),c.Dc(139,"Last year: "),c.Bc(140,he,2,0,"span",65),c.Ub(),c.Ub(),c.Vb(141,"div",13),c.Vb(142,"div"),c.Vb(143,"input",66),c.cc("keydown",function(e){return t.numberCheck(e)})("keyup",function(e){return t.CommaFormatted(e,"annual_Construction_Last_Year")}),c.Ub(),c.Ub(),c.Bc(144,_e,2,1,"div",22),c.Ub(),c.Ub(),c.Ub(),c.Vb(145,"div",63),c.Vb(146,"div",3),c.Vb(147,"div",33),c.Vb(148,"label",67),c.Dc(149,"Past 2 years: "),c.Bc(150,ve,2,0,"span",65),c.Ub(),c.Ub(),c.Vb(151,"div",13),c.Vb(152,"div"),c.Vb(153,"input",68),c.cc("keydown",function(e){return t.numberCheck(e)})("keyup",function(e){return t.CommaFormatted(e,"annual_Construction_2_Years")}),c.Ub(),c.Ub(),c.Bc(154,Ve,2,1,"div",22),c.Ub(),c.Ub(),c.Ub(),c.Vb(155,"div",63),c.Vb(156,"div",69),c.Vb(157,"div",33),c.Vb(158,"label",70),c.Dc(159,"Past 3 years:"),c.Bc(160,Ue,2,0,"span",65),c.Ub(),c.Ub(),c.Vb(161,"div",13),c.Vb(162,"div"),c.Vb(163,"input",71),c.cc("keydown",function(e){return t.numberCheck(e)})("keyup",function(e){return t.CommaFormatted(e,"annual_Construction_3_Years")}),c.Ub(),c.Ub(),c.Bc(164,Ce,2,1,"div",22),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(165,"div",72),c.Vb(166,"div",73),c.Vb(167,"div",6),c.Vb(168,"div",3),c.Vb(169,"h6"),c.Dc(170,"4. Parent Company Details"),c.Ub(),c.Ub(),c.Vb(171,"div",3),c.Vb(172,"div",74),c.Vb(173,"label",75),c.Dc(174,"Do you have a parent company: "),c.Vb(175,"span",12),c.Dc(176,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(177,"div",74),c.Vb(178,"div",50),c.Vb(179,"span",76),c.Vb(180,"input",77),c.cc("ngModelChange",function(){return t.idleReset(1)}),c.Ub(),c.Vb(181,"label",78),c.Dc(182," YES"),c.Ub(),c.Ub(),c.Vb(183,"span",79),c.Vb(184,"input",80),c.cc("ngModelChange",function(){return t.idleReset(1)})("click",function(){return t.companyDetailReset()}),c.Ub(),c.Vb(185,"label",81),c.Dc(186," NO"),c.Ub(),c.Ub(),c.Ub(),c.Bc(187,Re,2,1,"div",82),c.Ub(),c.Ub(),c.Ub(),c.Vb(188,"div",83),c.Vb(189,"div",84),c.Vb(190,"div",33),c.Vb(191,"label",85),c.Dc(192,"Parent Company Name:"),c.Bc(193,Fe,2,0,"span",65),c.Ub(),c.Ub(),c.Vb(194,"div",13),c.Vb(195,"input",86),c.cc("ngModelChange",function(){return t.idleReset(1)}),c.Ub(),c.Bc(196,Se,2,1,"div",22),c.Ub(),c.Ub(),c.Vb(197,"div",84),c.Vb(198,"div",33),c.Vb(199,"label",87),c.Dc(200,"Parent Company Address Line 1: "),c.Bc(201,ke,2,0,"span",65),c.Ub(),c.Ub(),c.Vb(202,"div",13),c.Vb(203,"input",88),c.cc("ngModelChange",function(){return t.idleReset(1)}),c.Ub(),c.Bc(204,Pe,2,1,"div",22),c.Ub(),c.Ub(),c.Vb(205,"div",84),c.Vb(206,"div",33),c.Vb(207,"label",87),c.Dc(208,"Parent Company Address Line 2: "),c.Ub(),c.Ub(),c.Vb(209,"div",13),c.Vb(210,"input",89),c.cc("ngModelChange",function(){return t.idleReset(1)}),c.Ub(),c.Ub(),c.Ub(),c.Vb(211,"div",84),c.Vb(212,"div",33),c.Vb(213,"label",90),c.Dc(214,"City: "),c.Bc(215,Ae,2,0,"span",65),c.Ub(),c.Ub(),c.Vb(216,"div",13),c.Vb(217,"input",91),c.cc("ngModelChange",function(){return t.idleReset(1)}),c.Ub(),c.Bc(218,Ee,2,1,"div",22),c.Ub(),c.Ub(),c.Vb(219,"div",84),c.Vb(220,"div",33),c.Vb(221,"label",92),c.Dc(222,"State: "),c.Bc(223,je,2,0,"span",65),c.Ub(),c.Ub(),c.Vb(224,"div",13),c.Vb(225,"select",93),c.cc("ngModelChange",function(){return t.idleReset(1)}),c.Vb(226,"option",15),c.Dc(227,"Select"),c.Ub(),c.Bc(228,Me,2,2,"option",26),c.Ub(),c.Vb(229,"small",27),c.Dc(230,"NOTE: If your country is outside of USA, please select \u2018Other\u2019. "),c.Ub(),c.Bc(231,qe,2,1,"div",22),c.Ub(),c.Ub(),c.Vb(232,"div",84),c.Vb(233,"div",33),c.Vb(234,"label",94),c.Dc(235,"Zip code: "),c.Bc(236,Be,2,0,"span",65),c.Ub(),c.Ub(),c.Vb(237,"div",13),c.Vb(238,"input",95),c.cc("ngModelChange",function(){return t.idleReset(1)}),c.Ub(),c.Bc(239,Te,2,1,"div",22),c.Ub(),c.Ub(),c.Vb(240,"div",84),c.Vb(241,"div",33),c.Vb(242,"label",96),c.Dc(243,"Country: "),c.Bc(244,Ye,2,0,"span",65),c.Ub(),c.Ub(),c.Vb(245,"div",13),c.Vb(246,"input",97),c.cc("ngModelChange",function(){return t.idleReset(1)}),c.Ub(),c.Bc(247,Qe,2,1,"div",22),c.Ub(),c.Ub(),c.Vb(248,"div",84),c.Vb(249,"div",33),c.Vb(250,"label",98),c.Dc(251,"Parent Company FEIN Number / Tax-id: "),c.Bc(252,ze,2,0,"span",65),c.Ub(),c.Ub(),c.Vb(253,"div",13),c.Vb(254,"input",99),c.cc("ngModelChange",function(){return t.idleReset(1)}),c.Ub(),c.Bc(255,We,2,1,"div",22),c.Ub(),c.Ub(),c.Vb(256,"div",100),c.Vb(257,"div",101),c.Vb(258,"label",102),c.Dc(259,"Attach your w9 document: "),c.Bc(260,He,2,0,"span",65),c.Ub(),c.Ub(),c.Vb(261,"div",103),c.Vb(262,"div",104),c.Vb(263,"input",105),c.cc("change",function(e){return t.documentw9fileUpload(e)}),c.Ub(),c.Vb(264,"span",106),c.Dc(265," \xa0 Click here to Add Files"),c.Ub(),c.Ub(),c.Bc(266,Ke,2,1,"div",22),c.Bc(267,Je,4,0,"div",107),c.Bc(268,Xe,7,2,"div",108),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(269,"div",73),c.Vb(270,"div",6),c.Vb(271,"div",3),c.Vb(272,"h6"),c.Dc(273,"7. What size (dollar value) of contracts do you wish to perform with Messer? "),c.Ub(),c.Ub(),c.Vb(274,"div",3),c.Vb(275,"select",109),c.cc("ngModelChange",function(){return t.idleReset(1)}),c.Vb(276,"option",15),c.Dc(277,"Select"),c.Ub(),c.Vb(278,"option",16),c.Dc(279,"Less than $50k"),c.Ub(),c.Vb(280,"option",15),c.Dc(281,"$50k - $250K"),c.Ub(),c.Vb(282,"option",15),c.Dc(283,"$250K - $500K"),c.Ub(),c.Vb(284,"option",15),c.Dc(285,"$500K - $1 million "),c.Ub(),c.Vb(286,"option",15),c.Dc(287,"$1million - $5million"),c.Ub(),c.Vb(288,"option",15),c.Dc(289,"$5million - $20 million"),c.Ub(),c.Vb(290,"option",15),c.Dc(291,"$20 million +"),c.Ub(),c.Ub(),c.Ub(),c.Vb(292,"div"),c.Dc(293,"\xa0"),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(294,"div",2),c.Vb(295,"div",3),c.Vb(296,"div",110),c.Vb(297,"div",111),c.Vb(298,"h6",112),c.Dc(299,"8. Executive Officers "),c.Vb(300,"span",12),c.Dc(301,"*"),c.Ub(),c.Ub(),c.Qb(302,"br"),c.Vb(303,"div"),c.Vb(304,"div",113),c.Vb(305,"div",33),c.Vb(306,"label",114),c.Dc(307,"Executive Officer #1 Name:"),c.Vb(308,"span",12),c.Dc(309,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(310,"div",13),c.Vb(311,"input",115),c.cc("ngModelChange",function(){return t.idleReset(1)}),c.Ub(),c.Bc(312,tt,2,1,"div",22),c.Ub(),c.Ub(),c.Vb(313,"div",113),c.Vb(314,"div",33),c.Vb(315,"label",116),c.Dc(316,"Executive Officer #1 Title:"),c.Vb(317,"span",12),c.Dc(318,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(319,"div",13),c.Vb(320,"input",117),c.cc("ngModelChange",function(){return t.idleReset(1)}),c.Ub(),c.Bc(321,nt,2,1,"div",22),c.Ub(),c.Ub(),c.Vb(322,"div",100),c.Vb(323,"div",33),c.Vb(324,"label",118),c.Dc(325,"Executive Officer #1 Email:"),c.Vb(326,"span",12),c.Dc(327,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(328,"div",13),c.Vb(329,"input",119),c.cc("ngModelChange",function(){return t.idleReset(1)}),c.Ub(),c.Bc(330,rt,3,2,"div",22),c.Ub(),c.Ub(),c.Ub(),c.Vb(331,"div"),c.Vb(332,"div",113),c.Vb(333,"div",33),c.Vb(334,"label",120),c.Dc(335,"Executive Officer #2 Name: "),c.Ub(),c.Ub(),c.Vb(336,"div",13),c.Vb(337,"input",121),c.cc("ngModelChange",function(){return t.idleReset(1)}),c.Ub(),c.Ub(),c.Ub(),c.Vb(338,"div",113),c.Vb(339,"div",33),c.Vb(340,"label",122),c.Dc(341,"Executive Officer #2 Title: "),c.Ub(),c.Ub(),c.Vb(342,"div",13),c.Vb(343,"input",123),c.cc("ngModelChange",function(){return t.idleReset(1)}),c.Ub(),c.Ub(),c.Ub(),c.Vb(344,"div",100),c.Vb(345,"div",33),c.Vb(346,"label",124),c.Dc(347,"Executive Officer #2 Email: "),c.Ub(),c.Ub(),c.Vb(348,"div",13),c.Vb(349,"input",125),c.cc("ngModelChange",function(){return t.idleReset(1)}),c.Ub(),c.Bc(350,ct,2,1,"div",22),c.Ub(),c.Ub(),c.Ub(),c.Vb(351,"div"),c.Vb(352,"label",126),c.Dc(353,"Has your company, or any of the executive officers mentioned above has/have been the subject of any bankruptcy proceeding within the last three years."),c.Vb(354,"span",12),c.Dc(355,"*"),c.Ub(),c.Ub(),c.Vb(356,"div",50),c.Vb(357,"span",127),c.Vb(358,"input",128),c.cc("ngModelChange",function(){return t.idleReset(1)}),c.Ub(),c.Vb(359,"label",129),c.Dc(360," YES"),c.Ub(),c.Ub(),c.Vb(361,"span",130),c.Vb(362,"input",131),c.cc("ngModelChange",function(){return t.idleReset(1)})("click",function(){return t.bankruptcyReset()}),c.Ub(),c.Vb(363,"label",132),c.Dc(364," NO"),c.Ub(),c.Ub(),c.Ub(),c.Bc(365,dt,2,1,"div",22),c.Vb(366,"div",133),c.Vb(367,"small",134),c.Dc(368,"If yes, describe the circumstances."),c.Ub(),c.Ub(),c.Vb(369,"div",135),c.Vb(370,"textarea",136),c.cc("ngModelChange",function(){return t.idleReset(1)}),c.Ub(),c.Bc(371,mt,2,1,"div",22),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(372,"div",137),c.Vb(373,"div",138),c.Vb(374,"div",139),c.Vb(375,"h6",140),c.Dc(376,"9. Company Licenses & Registrations"),c.Vb(377,"span",12),c.Dc(378,"*"),c.Ub(),c.Ub(),c.Qb(379,"br"),c.Ub(),c.Vb(380,"div"),c.Vb(381,"label",141),c.Dc(382,"Do you have any limits or restrictions to current licenses registrations. "),c.Vb(383,"span",12),c.Dc(384,"*"),c.Ub(),c.Ub(),c.Vb(385,"div",50),c.Vb(386,"span",127),c.Vb(387,"input",142),c.cc("ngModelChange",function(){return t.idleReset(1)}),c.Ub(),c.Vb(388,"label",143),c.Dc(389," YES"),c.Ub(),c.Ub(),c.Vb(390,"span",130),c.Vb(391,"input",144),c.cc("ngModelChange",function(){return t.idleReset(1)})("click",function(){return t.licenseReset()}),c.Ub(),c.Vb(392,"label",145),c.Dc(393," NO"),c.Ub(),c.Ub(),c.Ub(),c.Bc(394,pt,2,1,"div",22),c.Vb(395,"div",133),c.Vb(396,"small",134),c.Dc(397,"If yes, please explain the details."),c.Ub(),c.Ub(),c.Vb(398,"div",135),c.Vb(399,"textarea",146),c.cc("ngModelChange",function(){return t.idleReset(1)}),c.Ub(),c.Bc(400,ht,2,1,"div",22),c.Ub(),c.Ub(),c.Vb(401,"div",147),c.Vb(402,"label",126),c.Dc(403,"Has your company ever been debarred from performing Federal or State contracts? "),c.Vb(404,"span",12),c.Dc(405,"*"),c.Ub(),c.Ub(),c.Vb(406,"div",50),c.Vb(407,"span",127),c.Vb(408,"input",148),c.cc("ngModelChange",function(){return t.idleReset(1)}),c.Ub(),c.Vb(409,"label",149),c.Dc(410," YES"),c.Ub(),c.Ub(),c.Vb(411,"span",130),c.Vb(412,"input",150),c.cc("ngModelChange",function(){return t.idleReset(1)})("click",function(){return t.licenseStateReset()}),c.Ub(),c.Vb(413,"label",151),c.Dc(414," NO"),c.Ub(),c.Ub(),c.Ub(),c.Bc(415,_t,2,1,"div",22),c.Vb(416,"div",133),c.Vb(417,"small",134),c.Dc(418,"If yes, describe circumstances, including jurisdiction and bases for suspension or revocation:"),c.Ub(),c.Ub(),c.Vb(419,"div",135),c.Vb(420,"textarea",152),c.cc("ngModelChange",function(){return t.idleReset(1)}),c.Ub(),c.Bc(421,yt,2,1,"div",22),c.Ub(),c.Ub(),c.Vb(422,"div",153),c.Dc(423,"\xa0"),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Bc(424,Vt,7,1,"div",154),c.Ub(),c.Ub(),c.Bc(425,Ut,5,0,"div",155),c.Bc(426,Dt,1,3,"app-comment",156),c.Qb(427,"button",157),c.Vb(428,"div",158,159),c.Vb(430,"div",160),c.Vb(431,"div",161),c.Vb(432,"div",162),c.Vb(433,"h6",163),c.Dc(434,"Leave page?"),c.Ub(),c.Qb(435,"button",164),c.Ub(),c.Vb(436,"div",165),c.Dc(437," You have unsaved changes. Press "),c.Vb(438,"code",166),c.Dc(439,"SAVE"),c.Ub(),c.Dc(440," to update these changes, or "),c.Vb(441,"code",12),c.Dc(442,"CANCEL"),c.Ub(),c.Dc(443," to lose these changes. "),c.Ub(),c.Vb(444,"div",167),c.Vb(445,"button",168),c.Dc(446,"CANCEL"),c.Ub(),c.Vb(447,"button",169),c.Dc(448,"SAVE"),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub()),2&e&&(c.mc("formGroup",t.companyInfo),c.Db(1),c.mc("ngClass",c.pc(128,Ct,1==t.selectdisabled)),c.Db(16),c.mc("ngClass",c.pc(130,J,t.submitted&&t.f.org_Type.errors)),c.Db(1),c.mc("ngValue",""),c.Db(2),c.mc("ngValue","corporation"),c.Db(2),c.mc("ngValue","partnership"),c.Db(2),c.mc("ngValue","joint_venture"),c.Db(2),c.mc("ngValue","limited_liability_company"),c.Db(2),c.mc("ngValue","sole_proprietorship"),c.Db(2),c.mc("ngValue","other"),c.Db(2),c.mc("ngIf",t.submitted&&t.f.org_Type.errors),c.Db(1),c.mc("ngIf","other"==(null==t.f.org_Type?null:t.f.org_Type.value)),c.Db(9),c.mc("ngClass",c.pc(132,J,t.submitted&&t.f.date_Of_Incorporation.errors)),c.Db(1),c.mc("ngIf",t.submitted&&t.f.date_Of_Incorporation.errors),c.Db(8),c.Eb("disabled",t.selectdisabled?"":null),c.Db(1),c.mc("ngValue",""),c.Db(2),c.mc("ngForOf",t.stateNames),c.Db(1),c.mc("ngClass",c.pc(134,It,t.selectdisabled)),c.Db(2),c.mc("ngIf",t.submitted&&t.f.state_Of_Incorporation.errors),c.Db(17),c.mc("ngClass",c.pc(136,J,t.submitted&&t.f.contact_Name.errors)),c.Db(1),c.mc("ngIf",t.submitted&&t.f.contact_Name.errors),c.Db(8),c.mc("ngClass",c.pc(138,J,t.submitted&&t.f.contact_Email.errors)),c.Db(1),c.mc("ngIf",(t.submitted||t.f.contact_Email.touched)&&t.f.contact_Email.errors),c.Db(10),c.mc("ngClass",c.pc(140,J,t.submitted&&t.f.contact_Mobile.errors)),c.Db(1),c.mc("ngIf",(t.submitted||t.f.contact_Mobile.touched)&&t.f.contact_Mobile.errors),c.Db(2),c.mc("ngClass",c.pc(142,J,t.submitted&&t.f.contact_Mobile_Ext.errors)),c.Db(1),c.mc("ngIf",(t.submitted||t.f.contact_Mobile_Ext.touched)&&t.f.contact_Mobile_Ext.errors),c.Db(13),c.mc("ngModel",t.is_Certified_Diverse)("ngClass",c.pc(144,J,t.submitted&&t.f.is_Certified_Diverse.errors)),c.Db(4),c.mc("ngModel",t.is_Certified_Diverse)("ngClass",c.pc(146,J,t.submitted&&t.f.is_Certified_Diverse.errors)),c.Db(3),c.mc("ngIf",(t.submitted||t.f.is_Certified_Diverse.touched)&&t.f.is_Certified_Diverse.errors),c.Db(2),c.mc("ngClass",c.pc(148,It,t.selectdisabled)),c.Db(8),c.mc("source",t.regionSource)("destination",t.regionDest)("disabled",t.selectdisabled),c.Db(12),c.mc("ngIf",null==t.f.annual_Construction_Last_Year||null==t.f.annual_Construction_Last_Year.errors?null:t.f.annual_Construction_Last_Year.errors.required),c.Db(3),c.mc("ngClass",c.pc(150,J,t.submitted&&t.f.annual_Construction_Last_Year.errors)),c.Db(1),c.mc("ngIf",t.submitted&&t.f.annual_Construction_Last_Year.errors),c.Db(6),c.mc("ngIf",null==t.f.annual_Construction_2_Years||null==t.f.annual_Construction_2_Years.errors?null:t.f.annual_Construction_2_Years.errors.required),c.Db(3),c.mc("ngClass",c.pc(152,J,t.submitted&&t.f.annual_Construction_2_Years.errors)),c.Db(1),c.mc("ngIf",t.submitted&&t.f.annual_Construction_2_Years.errors),c.Db(6),c.mc("ngIf",null==t.f.annual_Construction_3_Years||null==t.f.annual_Construction_3_Years.errors?null:t.f.annual_Construction_3_Years.errors.required),c.Db(3),c.mc("ngClass",c.pc(154,J,t.submitted&&t.f.annual_Construction_3_Years.errors)),c.Db(1),c.mc("ngIf",t.submitted&&t.f.annual_Construction_3_Years.errors),c.Db(16),c.mc("ngClass",c.pc(156,J,t.submitted&&t.f.is_Parent_Company.errors)),c.Db(4),c.mc("ngClass",c.pc(158,J,t.submitted&&t.f.is_Parent_Company.errors)),c.Db(3),c.mc("ngIf",(t.submitted||t.f.is_Parent_Company.touched)&&t.f.is_Parent_Company.errors),c.Db(1),c.mc("ngClass",c.pc(160,Ct,"no"==t.f.is_Parent_Company.value)),c.Db(5),c.mc("ngIf","yes"==(null==t.companyInfo||null==t.companyInfo.value?null:t.companyInfo.value.is_Parent_Company)),c.Db(2),c.mc("ngClass",c.pc(162,J,t.submitted&&t.f.parent_Company_Name.errors)),c.Eb("disabled","no"==t.f.is_Parent_Company.value?"":null),c.Db(1),c.mc("ngIf",t.submitted&&t.f.parent_Company_Name.errors),c.Db(5),c.mc("ngIf","yes"==(null==t.companyInfo||null==t.companyInfo.value?null:t.companyInfo.value.is_Parent_Company)),c.Db(2),c.mc("ngClass",c.pc(164,J,t.submitted&&t.f.parent_Company_Address1.errors)),c.Eb("disabled","no"==t.f.is_Parent_Company.value?"":null),c.Db(1),c.mc("ngIf",t.submitted&&t.f.parent_Company_Address1.errors),c.Db(6),c.Eb("disabled","no"==t.f.is_Parent_Company.value?"":null),c.Db(5),c.mc("ngIf","yes"==(null==t.companyInfo||null==t.companyInfo.value?null:t.companyInfo.value.is_Parent_Company)),c.Db(2),c.mc("ngClass",c.pc(166,J,t.submitted&&t.f.parent_Company_City.errors)),c.Eb("disabled","no"==t.f.is_Parent_Company.value?"":null),c.Db(1),c.mc("ngIf",(t.submitted||t.f.parent_Company_City.touched)&&t.f.parent_Company_City.errors),c.Db(5),c.mc("ngIf","yes"==(null==t.companyInfo||null==t.companyInfo.value?null:t.companyInfo.value.is_Parent_Company)),c.Db(2),c.mc("ngClass",c.pc(168,J,t.submitted&&t.f.parent_Company_State.errors)),c.Eb("disabled","no"==t.f.is_Parent_Company.value?"":null),c.Db(1),c.mc("ngValue",""),c.Db(2),c.mc("ngForOf",t.stateNames),c.Db(1),c.mc("ngClass",c.pc(170,It,t.selectdisabled)),c.Db(2),c.mc("ngIf",(t.submitted||t.f.parent_Company_State.touched)&&t.f.parent_Company_State.errors),c.Db(5),c.mc("ngIf","yes"==(null==t.companyInfo||null==t.companyInfo.value?null:t.companyInfo.value.is_Parent_Company)),c.Db(2),c.mc("ngClass",c.pc(172,J,t.submitted&&t.f.parent_Company_Zipcode.errors)),c.Eb("disabled","no"==t.f.is_Parent_Company.value?"":null),c.Db(1),c.mc("ngIf",t.submitted&&t.f.parent_Company_Zipcode.errors),c.Db(5),c.mc("ngIf","yes"==(null==t.companyInfo||null==t.companyInfo.value?null:t.companyInfo.value.is_Parent_Company)),c.Db(2),c.mc("ngClass",c.pc(174,J,t.submitted&&t.f.parent_Company_Country.errors)),c.Eb("disabled","no"==t.f.is_Parent_Company.value?"":null),c.Db(1),c.mc("ngIf",t.submitted&&t.f.parent_Company_Country.errors),c.Db(5),c.mc("ngIf","yes"==(null==t.companyInfo||null==t.companyInfo.value?null:t.companyInfo.value.is_Parent_Company)),c.Db(2),c.mc("ngClass",c.pc(176,J,t.submitted&&t.f.parent_Company_FEIN.errors)),c.Eb("disabled","no"==t.f.is_Parent_Company.value?"":null),c.Db(1),c.mc("ngIf",t.submitted&&t.f.parent_Company_FEIN.errors),c.Db(5),c.mc("ngIf",null==t.f.w9_Document_Attachment||null==t.f.w9_Document_Attachment.errors?null:t.f.w9_Document_Attachment.errors.required),c.Db(3),c.mc("ngClass",c.pc(178,J,t.submitted&&t.f.w9_Document_Attachment.errors)),c.Eb("disabled",t.selectdisabled||"no"==t.f.is_Parent_Company.value?"":null),c.Db(1),c.mc("ngClass",c.pc(180,Ct,"no"==t.f.is_Parent_Company.value)),c.Db(2),c.mc("ngIf",t.submitted&&t.f.w9_Document_Attachment.errors),c.Db(1),c.mc("ngIf",null==t.spinner?null:t.spinner.docmentSpinner),c.Db(1),c.mc("ngForOf",t.documentw9file),c.Db(7),c.mc("ngClass",c.pc(182,J,t.submitted&&t.f.org_Size.errors)),c.Db(1),c.mc("ngValue",""),c.Db(2),c.mc("ngValue","Less than $50k"),c.Db(2),c.mc("ngValue","$50k - $250K"),c.Db(2),c.mc("ngValue","$250K -  $500K"),c.Db(2),c.mc("ngValue","$500K - $1 million"),c.Db(2),c.mc("ngValue","$1million - $5million"),c.Db(2),c.mc("ngValue","$5million - $20 million"),c.Db(2),c.mc("ngValue","$20 million +"),c.Db(21),c.mc("ngClass",c.pc(184,J,t.submitted&&t.f.executive_Officer_Name.errors)),c.Db(1),c.mc("ngIf",t.submitted&&t.f.executive_Officer_Name.errors),c.Db(8),c.mc("ngClass",c.pc(186,J,t.submitted&&t.f.contact_Name.errors)),c.Db(1),c.mc("ngIf",t.submitted&&t.f.executive_Officer_Title.errors),c.Db(8),c.mc("ngClass",c.pc(188,J,t.submitted&&t.f.executive_Officer_Email.errors)),c.Db(1),c.mc("ngIf",(t.submitted||t.f.executive_Officer_Email.touched)&&t.f.executive_Officer_Email.errors),c.Db(20),c.mc("ngIf",(t.submitted||t.f.executive_Officer_Email2.touched)&&t.f.executive_Officer_Email2.errors),c.Db(8),c.mc("ngClass",c.pc(190,J,t.submitted&&t.f.is_Bank_Ruptcy.errors)),c.Db(4),c.mc("ngClass",c.pc(192,J,t.submitted&&t.f.is_Bank_Ruptcy.errors)),c.Db(3),c.mc("ngIf",t.submitted&&t.f.is_Bank_Ruptcy.errors),c.Db(2),c.mc("ngClass",c.pc(194,It,"no"==t.f.is_Bank_Ruptcy.value||1==t.selectdisabled)),c.Db(3),c.mc("ngClass",c.pc(196,J,t.submitted&&t.f.bank_Ruptcy_Info.errors)),c.Eb("disabled","no"==t.f.is_Bank_Ruptcy.value?"":null),c.Db(1),c.mc("ngIf",t.submitted&&t.f.bank_Ruptcy_Info.errors),c.Db(16),c.mc("ngClass",c.pc(198,J,t.submitted&&t.f.is_Limit_Licenses.errors)),c.Db(4),c.mc("ngClass",c.pc(200,J,t.submitted&&t.f.is_Limit_Licenses.errors)),c.Db(3),c.mc("ngIf",t.submitted&&t.f.is_Limit_Licenses.errors),c.Db(2),c.mc("ngClass",c.pc(202,It,"no"==t.f.is_Limit_Licenses.value||1==t.selectdisabled)),c.Db(3),c.mc("ngClass",c.pc(204,J,t.submitted&&t.f.limit_Licenses_Info.errors)),c.Eb("disabled","no"==t.f.is_Limit_Licenses.value?"":null),c.Db(1),c.mc("ngIf",t.submitted&&t.f.limit_Licenses_Info.errors),c.Db(8),c.mc("ngClass",c.pc(206,J,t.submitted&&t.f.is_Suspended_Licenses.errors)),c.Db(4),c.mc("ngClass",c.pc(208,J,t.submitted&&t.f.is_Suspended_Licenses.errors)),c.Db(3),c.mc("ngIf",t.submitted&&t.f.is_Suspended_Licenses.errors),c.Db(2),c.mc("ngClass",c.pc(210,It,"no"==t.f.is_Suspended_Licenses.value||1==t.selectdisabled)),c.Db(3),c.mc("ngClass",c.pc(212,J,t.submitted&&t.f.suspended_Licenses_Info.errors)),c.Eb("disabled","no"==t.f.is_Suspended_Licenses.value?"":null),c.Db(1),c.mc("ngIf",t.submitted&&t.f.suspended_Licenses_Info.errors),c.Db(3),c.mc("ngIf",!(t.showAdmin||t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status)),c.Db(1),c.mc("ngIf",!t.showAdmin&&t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status||t.showAdmin),c.Db(1),c.mc("ngIf","Subcontractor"!=t.userRole&&"Additional Info Needed from Subcontractor"!=t.prequalification_status&&"Prequal form submitted and under quality check"!=t.prequalification_status))},directives:[o.x,o.m,o.g,n.k,o.v,o.l,o.f,o.p,o.y,n.m,o.b,n.l,V,o.q,o.r,o.s,o.u,P,A.a,z],styles:[".form-group[_ngcontent-%COMP%]{margin:15px 0}.border[_ngcontent-%COMP%]{border:4px solid hsla(0,0%,86.7%,.6196078431372549)!important}.col-curve-top[_ngcontent-%COMP%]{border-top-left-radius:22px 22px!important;border-top-right-radius:22px 22px!important;border-bottom-left-radius:18px 19px!important;border-bottom-right-radius:18px 19px!important;border-top:6px solid #c3bdbd!important}.col-curve[_ngcontent-%COMP%]{border-radius:18px 19px!important}h6[_ngcontent-%COMP%]{font-size:13px!important}.bg-grey[_ngcontent-%COMP%], .bg-grey4[_ngcontent-%COMP%], .bg-grey[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .bg-grey[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{color:#c7bfbf!important}.file-close-geographical[_ngcontent-%COMP%]{padding:2px 6px!important;background:#969294!important;border-radius:50%;cursor:pointer;border:1px solid #fff}.listchk[_ngcontent-%COMP%]{list-style-type:none;margin-left:10px}"]}),e})();var Ft=i("cp0P");let wt=(()=>{class e extends E.a{constructor(e,t){super("Reference",e,t,{root:O.a.webserviceURlLocal})}getAll(){return super.getAll()}getRecords(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("Reference/"+e,O.a.webserviceURlLocal);return this.http.get(i,t)}updateRecord(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},n=this.httpUrlGenerator.entityResource("Reference/"+t,O.a.webserviceURlLocal);return this.http.put(n,e,i)}addRecord(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("Reference",O.a.webserviceURlLocal);return this.http.post(i,e,t)}getUser(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},n=this.httpUrlGenerator.entityResource("Organization/"+e+"/"+t,O.a.webserviceURlLocal);return this.http.get(n,i)}getComplete(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("Organization/Getstatus/"+e,O.a.webserviceURlLocal);return this.http.get(i,t)}deleteRecord(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.delete(O.a.webserviceURlLocal+"reference/"+e,t)}}return e.\u0275fac=function(t){return new(t||e)(c.Zb(j.b),c.Zb(E.c))},e.\u0275prov=c.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),St=(()=>{class e{constructor(e){this.http=e}updateRecord(e,t,i){const n={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.put(O.a.webserviceURlLocal+e+"/"+i,t,n)}addRecord(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.post(O.a.webserviceURlLocal+e,t,i)}deleteRecord(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.delete(O.a.webserviceURlLocal+"reference/"+e,t)}}return e.\u0275fac=function(t){return new(t||e)(c.Zb(j.b))},e.\u0275prov=c.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function kt(e,t){1&e&&(c.Vb(0,"span",20),c.Dc(1,"*"),c.Ub())}function xt(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Project Name is required "),c.Ub())}function Pt(e,t){if(1&e&&(c.Vb(0,"div",21),c.Bc(1,xt,2,0,"div",22),c.Ub()),2&e){const e=c.gc(2);c.Db(1),c.mc("ngIf",e.ff.project_Name.errors.required)}}function At(e,t){1&e&&(c.Vb(0,"span",20),c.Dc(1,"*"),c.Ub())}function Ot(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Scope of work is required"),c.Ub())}function Et(e,t){if(1&e&&(c.Vb(0,"div",21),c.Bc(1,Ot,2,0,"div",22),c.Ub()),2&e){const e=c.gc(2);c.Db(1),c.mc("ngIf",e.ff.project_Detail.errors.required)}}function jt(e,t){1&e&&(c.Vb(0,"span",20),c.Dc(1,"*"),c.Ub())}function Mt(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"City is required"),c.Ub())}function Nt(e,t){if(1&e&&(c.Vb(0,"div",21),c.Bc(1,Mt,2,0,"div",22),c.Ub()),2&e){const e=c.gc(2);c.Db(1),c.mc("ngIf",e.ff.project_City.errors.required)}}function qt(e,t){1&e&&(c.Vb(0,"span",20),c.Dc(1,"*"),c.Ub())}function Bt(e,t){if(1&e&&(c.Vb(0,"option",15),c.Dc(1),c.Ub()),2&e){const e=t.$implicit;c.mc("ngValue",e.name),c.Db(1),c.Fc(" ",e.name,"")}}function Lt(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"State is required"),c.Ub())}function Tt(e,t){if(1&e&&(c.Vb(0,"div",21),c.Bc(1,Lt,2,0,"div",22),c.Ub()),2&e){const e=c.gc(2);c.Db(1),c.mc("ngIf",e.ff.project_State.errors.required)}}function Yt(e,t){1&e&&(c.Vb(0,"span",20),c.Dc(1,"*"),c.Ub())}function Gt(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Messer Contact person is required"),c.Ub())}function Qt(e,t){if(1&e&&(c.Vb(0,"div",21),c.Bc(1,Gt,2,0,"div",22),c.Ub()),2&e){const e=c.gc(2);c.Db(1),c.mc("ngIf",e.ff.project_MesserContact.errors.required)}}const zt=function(e){return{"bg-grey":e}},$t=function(e){return{"is-invalid":e}};function Wt(e,t){if(1&e){const e=c.Wb();c.Vb(0,"div",1),c.Vb(1,"div",2),c.Vb(2,"div",3),c.Vb(3,"div",4),c.Vb(4,"label",5),c.Dc(5,"Project Name: "),c.Bc(6,kt,2,0,"span",6),c.Ub(),c.Ub(),c.Vb(7,"div",4),c.Qb(8,"input",7),c.Bc(9,Pt,2,1,"div",8),c.Ub(),c.Ub(),c.Vb(10,"div",3),c.Vb(11,"div",4),c.Vb(12,"label",9),c.Dc(13," Scope of work:"),c.Bc(14,At,2,0,"span",6),c.Ub(),c.Ub(),c.Vb(15,"div",4),c.Qb(16,"textarea",10),c.Bc(17,Et,2,1,"div",8),c.Ub(),c.Ub(),c.Vb(18,"div",3),c.Vb(19,"div",4),c.Vb(20,"label",11),c.Dc(21,"City: "),c.Bc(22,jt,2,0,"span",6),c.Ub(),c.Ub(),c.Vb(23,"div",4),c.Vb(24,"input",12),c.cc("ngModelChange",function(){return c.uc(e),c.gc().idleReset()}),c.Ub(),c.Bc(25,Nt,2,1,"div",8),c.Ub(),c.Ub(),c.Vb(26,"div",3),c.Vb(27,"div",4),c.Vb(28,"label",13),c.Dc(29,"State: "),c.Bc(30,qt,2,0,"span",6),c.Ub(),c.Ub(),c.Vb(31,"div",4),c.Vb(32,"select",14),c.cc("ngModelChange",function(){return c.uc(e),c.gc().idleReset()}),c.Vb(33,"option",15),c.Dc(34,"Select"),c.Ub(),c.Bc(35,Bt,2,2,"option",16),c.Ub(),c.Vb(36,"small",17),c.cc("[ngClass]",function(){return c.uc(e),c.gc().stateCSS}),c.Dc(37,"NOTE: If your country is outside of USA, please select \u2018Other\u2019. "),c.Ub(),c.Bc(38,Tt,2,1,"div",8),c.Ub(),c.Ub(),c.Vb(39,"div",3),c.Vb(40,"div",4),c.Vb(41,"label",18),c.Dc(42,"Messer Contact Person: "),c.Bc(43,Yt,2,0,"span",6),c.Ub(),c.Ub(),c.Vb(44,"div",4),c.Vb(45,"input",19),c.cc("ngModelChange",function(){return c.uc(e),c.gc().idleReset()}),c.Ub(),c.Bc(46,Qt,2,1,"div",8),c.Ub(),c.Ub(),c.Ub(),c.Ub()}if(2&e){const e=c.gc();c.mc("formGroup",e.tempownerForm)("ngClass",c.pc(19,zt,1==e.showdisabled)),c.Db(6),c.mc("ngIf",1!=e.showdisabled),c.Db(2),c.mc("ngClass",c.pc(21,$t,e.tempownersubmitted&&e.ff.project_Name.errors)),c.Db(1),c.mc("ngIf",(e.ff.project_Name.touched||e.tempownersubmitted)&&e.ff.project_Name.errors),c.Db(5),c.mc("ngIf",1!=e.showdisabled),c.Db(2),c.mc("ngClass",c.pc(23,$t,e.tempownersubmitted&&e.ff.project_Detail.errors)),c.Db(1),c.mc("ngIf",(e.ff.project_Detail.touched||e.tempownersubmitted)&&e.ff.project_Detail.errors),c.Db(5),c.mc("ngIf",1!=e.showdisabled),c.Db(2),c.mc("ngClass",c.pc(25,$t,e.tempownersubmitted&&e.ff.project_City.errors)),c.Db(1),c.mc("ngIf",(e.tempownersubmitted||e.ff.project_City.touched)&&e.ff.project_City.errors),c.Db(5),c.mc("ngIf",1!=e.showdisabled),c.Db(2),c.mc("ngClass",c.pc(27,$t,e.tempownersubmitted&&e.ff.project_State.errors)),c.Db(1),c.mc("ngValue",""),c.Db(2),c.mc("ngForOf",e.stateNames),c.Db(3),c.mc("ngIf",(e.tempownersubmitted||e.ff.project_State.touched)&&e.ff.project_State.errors),c.Db(5),c.mc("ngIf",1!=e.showdisabled),c.Db(2),c.mc("ngClass",c.pc(29,$t,e.tempownersubmitted&&e.ff.project_MesserContact.errors)),c.Db(1),c.mc("ngIf",(e.tempownersubmitted||e.ff.project_MesserContact.touched)&&e.ff.project_MesserContact.errors)}}let Ht=(()=>{class e{constructor(e,t,i){this.fb=e,this.formBuilder=t,this.keepalive=i,this.tempownersubmitted=!1,this.stateNames=r,this.submitted=!1,this.stateCSS="note fw-bold p-0 pt-3",this.isMesserProject=!0,this.resetTimer=0}ngAfterContentChecked(){var e;this.showdisabled&&(null===(e=this.tempownerForm)||void 0===e||e.disable())}ngOnChanges(){this.showdisabled&&(this.stateCSS=this.stateCSS+" bg-grey",console.log(this.stateCSS))}ngAfterViewInit(){var e;this.showdisabled&&(null===(e=this.tempownerForm)||void 0===e||e.disable())}ngOnInit(){console.log(this.showdisabled)}chkContractor(e){this.isMesserProject="Yes"==e}get getDisabled(){var e;return"no"==(null===(e=this.ff)||void 0===e?void 0:e.CompletedProject.value)}get ff(){var e;return null===(e=this.tempownerForm)||void 0===e?void 0:e.controls}idleReset(){this.keepalive.start(),this.resetTimer=0}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(o.d),c.Pb(o.d),c.Pb(m.a))},e.\u0275cmp=c.Jb({type:e,selectors:[["app-experiencenew"]],inputs:{tempownerForm:["formInfo","tempownerForm"],showdisabled:"showdisabled"},features:[c.Bb],decls:1,vars:1,consts:[["style","padding-top:5%;padding-bottom:5%;",3,"formGroup","ngClass",4,"ngIf"],[2,"padding-top","5%","padding-bottom","5%",3,"formGroup","ngClass"],[1,"px-2"],[1,"row"],[1,"col-6"],["for","owner-company_Name",1,"my-auto","font-italic"],["class","text-danger",4,"ngIf"],["type","text","formControlName","project_Name","id","project-Name","autocomplete","disabled","name","project_Name",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","project_Detail",1,"my-auto","font-italic"],["type","text","formControlName","project_Detail","id","project-Name","autocomplete","off","name","project_Detail",1,"form-control",3,"ngClass"],["for","project_City",1,"my-auto","font-italic"],["type","text","formControlName","project_City","id","project_City","name","project_City","autocomplete","disabled",1,"form-control",3,"ngClass","ngModelChange"],["for","project_State",1,"my-auto","font-italic","float-right"],["formControlName","project_State","id","state","name","project_State",1,"form-control","form-select",3,"ngClass","ngModelChange"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"[ngClass]"],["for","project_MesserContact",1,"my-auto","font-italic"],["type","text","formControlName","project_MesserContact","autocomplete","disabled","id","project_MesserContact","name","project_MesserContact",1,"form-control",3,"ngClass","ngModelChange"],[1,"text-danger"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(e,t){1&e&&c.Bc(0,Wt,47,31,"div",0),2&e&&c.mc("ngIf",t.ff&&t.tempownerForm)},directives:[n.m,o.m,o.g,n.k,o.b,o.l,o.f,o.v,o.p,o.y,n.l],styles:[".row[_ngcontent-%COMP%]{padding:5px 1px}"]}),e})();function Zt(e,t){1&e&&c.Qb(0,"hr",51)}function Kt(e,t){if(1&e&&c.Qb(0,"app-experiencenew",17),2&e){const e=c.gc();c.mc("formInfo",e.currentProject1)("showdisabled",e.showdisabled)}}function Jt(e,t){if(1&e){const e=c.Wb();c.Vb(0,"button",52),c.cc("click",function(){return c.uc(e),c.gc().addcurrentProject()}),c.Dc(1),c.Ub()}if(2&e){const e=c.gc();c.Eb("disabled",e.radioDisable),c.Db(1),c.Fc("",e.isProject1?"Remove":"Add Another"," ")}}function Xt(e,t){1&e&&c.Qb(0,"hr",51)}function ei(e,t){if(1&e&&c.Qb(0,"app-experiencenew",17),2&e){const e=c.gc();c.mc("formInfo",e.ongoingproject1)("showdisabled",e.showdisabled)}}function ti(e,t){if(1&e){const e=c.Wb();c.Vb(0,"button",52),c.cc("click",function(){return c.uc(e),c.gc().addOngoing()}),c.Dc(1),c.Ub()}if(2&e){const e=c.gc();c.Eb("disabled",e.radioDisable),c.Db(1),c.Ec(e.isProject2?"Remove":"Add Another")}}function ii(e,t){1&e&&(c.Vb(0,"span",53),c.Dc(1,"*"),c.Ub())}function ni(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1," Project Reference Contact Name is required "),c.Ub())}function oi(e,t){if(1&e&&(c.Vb(0,"div",54),c.Bc(1,ni,2,0,"div",55),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.nonMesserReference.controls.project_ReferenceName.errors.required)}}function ai(e,t){1&e&&(c.Vb(0,"span",53),c.Dc(1,"*"),c.Ub())}function ri(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1," Reference Contact Type is required"),c.Ub())}function si(e,t){if(1&e&&(c.Vb(0,"div",54),c.Bc(1,ri,2,0,"div",55),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.nonMesserReference.controls.project_Contact_Type.errors.required)}}function ci(e,t){1&e&&(c.Vb(0,"span",53),c.Dc(1,"*"),c.Ub())}function li(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1," Email Project Reference Contact is required "),c.Ub())}function di(e,t){if(1&e&&(c.Vb(0,"div",54),c.Bc(1,li,2,0,"div",55),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.nonMesserReference.controls.project_EmailReferenceName.errors.required)}}function ui(e,t){1&e&&(c.Vb(0,"span",53),c.Dc(1,"*"),c.Ub())}function mi(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1," Project Reference Contact Name 2 is required "),c.Ub())}function bi(e,t){if(1&e&&(c.Vb(0,"div",54),c.Bc(1,mi,2,0,"div",55),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.nonMesserReference.controls.project_ReferenceName2.errors.required)}}function pi(e,t){1&e&&(c.Vb(0,"span",53),c.Dc(1,"*"),c.Ub())}function fi(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1," Reference Contact Type 2 is required "),c.Ub())}function hi(e,t){if(1&e&&(c.Vb(0,"div",54),c.Bc(1,fi,2,0,"div",55),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.nonMesserReference.controls.project_Contact_Type2.errors.required)}}function gi(e,t){1&e&&(c.Vb(0,"span",53),c.Dc(1,"*"),c.Ub())}function _i(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1," Email Project Reference Contact 2 is required "),c.Ub())}function vi(e,t){if(1&e&&(c.Vb(0,"div",54),c.Bc(1,_i,2,0,"div",55),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.nonMesserReference.controls.project_EmailReferenceName2.errors.required)}}function yi(e,t){if(1&e){const e=c.Wb();c.Vb(0,"div",56),c.Vb(1,"button",57),c.cc("click",function(){return c.uc(e),c.gc().gotoHome()}),c.Dc(2," << BACK"),c.Ub(),c.Vb(3,"button",58),c.cc("click",function(){return c.uc(e),c.gc().save()}),c.Dc(4),c.Ub(),c.Vb(5,"button",59),c.cc("click",function(){return c.uc(e),c.gc().submit()}),c.Dc(6,"NEXT >>"),c.Ub(),c.Ub()}if(2&e){const e=c.gc();c.Db(4),c.Ec(e.submitText)}}function Vi(e,t){if(1&e){const e=c.Wb();c.Vb(0,"div",60),c.Vb(1,"button",57),c.cc("click",function(){return c.uc(e),c.gc().gotoHome()}),c.Dc(2," << BACK"),c.Ub(),c.Vb(3,"button",61),c.cc("click",function(){return c.uc(e),c.gc().nextroutePage()}),c.Dc(4,"NEXT >>"),c.Ub(),c.Ub()}}function Ui(e,t){if(1&e&&c.Qb(0,"app-comment",62),2&e){const e=c.gc();c.mc("events",e.eventsSubject.asObservable())("formId",e.experienceId)("companyId",e.tempcompanyid)}}const Di=function(e){return{"bg-grey":e}},Ci=function(e){return{"is-invalid":e}};let Ii=(()=>{class e{constructor(e,t,i,n,a,r,c,l,d,u,m){this.formBuilder=e,this.router=t,this.experienceservice=i,this.bnIdle=n,this.keepalive=a,this.toastr=r,this.companyservice=c,this.loginInfo=l,this.ngxUiLoader=d,this.logininfo=u,this.expService=m,this.currentForm=2,this.submitted=!1,this.companyId=0,this.userRole="",this.resetTimer=0,this.showAdmin=!1,this.tempcompanyid=0,this.submitText="",this.prequalification_status="",this.showdisabled=!1,this.radioDisable=null,this.isOngoing=!1,this.isCurrent=!1,this.isNonmesser=!1,this.isOnemesser=!1,this.isProject2=!1,this.isProject1=!1,this.experienceId=0,this.eventsSubject=new s.a,this.experienceForm=this.formBuilder.group({experience:this.formBuilder.array([])}),this.nonMesserReference=this.formBuilder.group({project_ReferenceName:["",[o.w.required]],project_Contact_Type:["",[o.w.required]],project_EmailReferenceName:["",[o.w.required,o.w.email]],project_ReferenceName2:["",[o.w.required]],project_Contact_Type2:["",[o.w.required]],project_EmailReferenceName2:["",[o.w.required,o.w.email]],project_onemesserreference:["",[]],project_nonmesserreference:["",[]]}),this.ongoingproject=this.newExperience(),this.currentProject=this.newExperience(),this.ongoingproject1=this.newExperience(),this.currentProject1=this.newExperience();let b=localStorage.getItem("userDetails");b=JSON.parse(atob(b)),this.userDetails=b,this.userRole=b.role;let p=localStorage.getItem("tempcompanyid");this.tempcompanyid=Number(p?atob(p):0),this.submitText="SAVE",localStorage.setItem("currPage","experienceinfo"),this.showdisabled="Subcontractor"!=this.userRole,this.tempcompanyid>0&&"Subcontractor"!=this.userRole&&(this.showAdmin=!0,this.showdisabled=!0,this.radioDisable=!0,this.getRecords(this.tempcompanyid),this.nonMesserReference.disable()),null!=this.userDetails.vendorId&&null!=this.userDetails.taxId&&"Subcontractor"==this.userRole&&this.experienceservice.getUser(this.userDetails.vendorId,this.userDetails.taxId).subscribe(e=>{this.companyId=e.id,localStorage.setItem("companyid",btoa(this.companyId.toString())),this.getRecords(this.companyId)})}get getexperience(){return this.experienceForm.get("experience")}addExperience(){this.getexperience.push(this.newExperience()),this.getexperience.push(this.newExperience())}addcurrentProject(){this.isProject1=!this.isProject1}addOngoing(){this.isProject2=!this.isProject2}nonmesserReference(){var e=document.getElementById("project_nonmesserreference");this.isNonmesser=null==e?void 0:e.checked,this.isNonmesser?(this.isOnemesser=!1,this.nonMesserReference.patchValue({project_ReferenceName:"",project_Contact_Type:"",project_EmailReferenceName:"",project_ReferenceName2:"",project_Contact_Type2:"",project_EmailReferenceName2:""}),this.nonMesserReference.disable(),this.nonMesserReference.controls.project_onemesserreference.enable(),this.nonMesserReference.controls.project_nonmesserreference.enable()):(this.nonMesserReference.patchValue({project_ReferenceName:"",project_Contact_Type:"",project_EmailReferenceName:"",project_ReferenceName2:"",project_Contact_Type2:"",project_EmailReferenceName2:""}),this.nonMesserReference.enable())}onemesserReference(){var e=document.getElementById("project_onemesserreference");this.isOnemesser=null==e?void 0:e.checked,this.isNonmesser&&(this.isNonmesser=!this.isOnemesser),1==this.isOnemesser?(this.nonMesserReference.patchValue({project_ReferenceName2:"",project_Contact_Type2:"",project_EmailReferenceName2:""}),this.nonMesserReference.controls.project_ReferenceName.enable(),this.nonMesserReference.controls.project_Contact_Type.enable(),this.nonMesserReference.controls.project_EmailReferenceName.enable(),this.nonMesserReference.controls.project_ReferenceName2.disable(),this.nonMesserReference.controls.project_Contact_Type2.disable(),this.nonMesserReference.controls.project_EmailReferenceName2.disable()):(this.nonMesserReference.patchValue({project_ReferenceName2:"",project_Contact_Type2:"",project_EmailReferenceName2:""}),this.nonMesserReference.controls.project_ReferenceName2.enable(),this.nonMesserReference.controls.project_Contact_Type2.enable(),this.nonMesserReference.controls.project_EmailReferenceName2.enable())}newExperience(){return this.formBuilder.group({id:0,companyId:0,type:[""],CompletedProject:[],project_Name:["",[o.w.required,o.w.maxLength(130)]],project_Detail:["",[o.w.required,o.w.maxLength(130)]],project_Price:["",[]],isMesserProject:[""],project_Completion:["",[]],project_City:["",[o.w.required]],project_State:["",[o.w.required]],project_MesserContact:["",[o.w.required]],project_Reference:["",[]],project_Contact_Type:["",[]],project_Email:["",[]]})}ngOnInit(){this.ngxUiLoader.startLoader("loader-01"),this.chkExperience("no","CurrentProject"),this.chkExperience("no","OngoingProject"),console.log("show",this.showdisabled)}chkExperience(e,t){console.log(e+" - "+t),"OngoingProject"===t?(this.ongoingproject.controls.CompletedProject.setValue(e),"no"==e?(this.isOngoing=!1,this.ongoingproject.patchValue({type:"",CompletedProject:"",project_Name:"",project_Detail:"",project_Price:"",isMesserProject:"",project_Completion:"",project_City:"",project_State:"",project_MesserContact:"",project_Reference:"",project_Contact_Type:"",project_Email:""}),this.isProject2&&(this.ongoingproject1.patchValue({type:"",CompletedProject:"",project_Name:"",project_Detail:"",project_Price:"",isMesserProject:"",project_Completion:"",project_City:"",project_State:"",project_MesserContact:"",project_Reference:"",project_Contact_Type:"",project_Email:""}),this.addOngoing(),this.ongoingproject1.disable()),this.ongoingproject.disable()):(this.isOngoing=!0,this.ongoingproject.enable(),this.isProject2&&(this.ongoingproject1.enable(),this.ongoingproject1.controls.CompletedProject.setValue(e)))):(this.currentProject.controls.CompletedProject.setValue(e),"no"==e?(this.isCurrent=!1,this.currentProject.disable(),this.currentProject.patchValue({type:"",CompletedProject:"",project_Name:"",project_Detail:"",project_Price:"",isMesserProject:"",project_Completion:"",project_City:"",project_State:"",project_MesserContact:"",project_Reference:"",project_Contact_Type:"",project_Email:""}),this.isProject1&&(this.currentProject1.disable(),this.currentProject1.patchValue({type:"",CompletedProject:"",project_Name:"",project_Detail:"",project_Price:"",isMesserProject:"",project_Completion:"",project_City:"",project_State:"",project_MesserContact:"",project_Reference:"",project_Contact_Type:"",project_Email:""}),this.addcurrentProject())):(this.isCurrent=!0,this.currentProject.enable(),this.isProject1&&(this.currentProject1.enable(),this.currentProject1.controls.CompletedProject.setValue(e))))}ngOnDestroy(){this.keepalive.stop()}getRecords(e){this.experienceservice.getRecords(e).subscribe(e=>{if(e.length>0){this.experienceId=e[0].id;var t=e.filter(function(e){return"CurrentProject"==e.type}),i=e.filter(function(e){return"OngoingProject"==e.type}),n=i.filter(function(e){return e.projectReference||e.projectContactType||e.projectEmail}).length>=1?i.filter(function(e){return e.projectReference||e.projectContactType||e.projectEmail})[0]:null,o=t.filter(function(e){return e.projectReference||e.projectContactType||e.projectEmail}).length>=1?t.filter(function(e){return e.projectReference||e.projectContactType||e.projectEmail})[0]:null;this.isProject1=2==t.length,this.isProject2=2==i.length,this.isOnemesser=e[0].isOneReference,this.isNonmesser=e[0].isNoReference;var a=0,r=0,s=!1;o&&n&&this.isRefPresent(o)&&this.isRefPresent(n)&&(s=(2==e.length||4==e.length)&&t.length==i.length),e=e.sort((e,t)=>{var i,n,o,a,r;return(null!==(n=null!==(i=e.projectReference)&&void 0!==i?i:e.projectContactType)&&void 0!==n?n:e.projectEmail).length>(null===(r=null!==(a=null!==(o=t.projectReference)&&void 0!==o?o:t.projectContactType)&&void 0!==a?a:t.projectEmail)||void 0===r?void 0:r.length)?-1:1});for(var c=0;c<e.length;c++){var l=e[c];if("CurrentProject"==l.type){var d=2==(a+=1)?this.currentProject1:this.currentProject,u=""==l.completedProject||null==l.completedProject?"no":l.completedProject;2==a&&(u="Yes"),this.chkExperience(u,l.type),this.updateExperience(d,l,l.type,2==a)}else{var m=2==(r+=1)?this.ongoingproject1:this.ongoingproject;u=""==l.completedProject||null==l.completedProject?"no":l.completedProject,2==r&&(u="Yes"),this.chkExperience(u,l.type),this.updateExperience(m,l,l.type,2==r||s)}}0==i.length&&this.chkExperience("no","OngoingProject"),0==t.length&&this.chkExperience("no","CurrentProject"),this.submitText="UPDATE",this.nonMesserReference.controls.project_onemesserreference.setValue(this.isOnemesser),this.nonMesserReference.controls.project_nonmesserreference.setValue(this.isNonmesser),this.isNonmesser&&this.nonmesserReference(),this.isOnemesser&&this.onemesserReference()}else this.chkExperience("no","CurrentProject"),this.chkExperience("no","OngoingProject")}),e>0&&this.companyservice.getRecord(e).subscribe(e=>{this.prequalification_status=(e=e[0]).preQualification_Status,e.preQualification_Status&&this.loginInfo.formDisable(e.preQualification_Status)&&(this.showdisabled=!0,this.radioDisable=!0,this.ongoingproject.disable(),this.ongoingproject.updateValueAndValidity(),this.ongoingproject1.disable(),this.ongoingproject1.updateValueAndValidity(),this.currentProject.disable(),this.currentProject.updateValueAndValidity(),this.currentProject1.disable(),this.nonMesserReference.disable())})}updateExperience(e,t,i,n){var o;e.controls.id.setValue(t.id),e.controls.companyId.setValue(this.companyId),e.controls.type.setValue(t.type),e.controls.project_Name.setValue(t.projectName),e.controls.project_Detail.setValue(t.projectDetail),e.controls.project_Price.setValue(null!==(o=t.projectPrice)&&void 0!==o?o:0),e.controls.isMesserProject.setValue(t.isMesserProject),e.controls.project_Completion.setValue(t.projectCompletion),e.controls.project_City.setValue(t.projectCity),e.controls.project_State.setValue(t.projectState),e.controls.project_MesserContact.setValue(t.projectMesserContact),console.log("data",i,t);var a=this.isRefPresent(t);this.nonMesserReference.controls.project_onemesserreference.setValue(t.isOneReference),this.nonMesserReference.controls.project_nonmesserreference.setValue(t.isNoReference),a&&("CurrentProject"==i&&"Yes"==t.completedProject||"OngoingProject"==i&&"Yes"==t.completedProject?n&&!this.nonMesserReference.controls.project_ReferenceName2.value||this.nonMesserReference.controls.project_ReferenceName.value?(this.nonMesserReference.controls.project_ReferenceName2.setValue(t.projectReference),this.nonMesserReference.controls.project_Contact_Type2.setValue(t.projectContactType),this.nonMesserReference.controls.project_EmailReferenceName2.setValue(t.projectEmail)):(this.nonMesserReference.controls.project_ReferenceName.setValue(t.projectReference),this.nonMesserReference.controls.project_Contact_Type.setValue(t.projectContactType),this.nonMesserReference.controls.project_EmailReferenceName.setValue(t.projectEmail)):"CurrentProject"==i?(this.nonMesserReference.controls.project_ReferenceName.setValue(t.projectReference),this.nonMesserReference.controls.project_Contact_Type.setValue(t.projectContactType),this.nonMesserReference.controls.project_EmailReferenceName.setValue(t.projectEmail)):n?(this.nonMesserReference.controls.project_ReferenceName2.setValue(t.projectReference),this.nonMesserReference.controls.project_Contact_Type2.setValue(t.projectContactType),this.nonMesserReference.controls.project_EmailReferenceName2.setValue(t.projectEmail)):(this.nonMesserReference.controls.project_ReferenceName.setValue(t.projectReference),this.nonMesserReference.controls.project_Contact_Type.setValue(t.projectContactType),this.nonMesserReference.controls.project_EmailReferenceName.setValue(t.projectEmail)))}isRefPresent(e){return!!e&&!!(e.projectReference||e.projectContactType||e.projectEmail)}updateExperienceinfo(e){}ngAfterViewInit(){}idleReset(){this.keepalive.start(),this.resetTimer=0}submit(){this.keepalive.stop(),"Subcontractor"!=this.userRole?(this.emitEventToChild(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])):this.companyId>0&&(this.multiSave(!0),this.ngxUiLoader.startLoader("loader-01"))}nextpage(){this.companyId>0&&this.multiSave(!0)}save(){this.keepalive.stop(),this.companyId>0&&this.multiSave(!1)}multiSave(e){var t=this.formMethod(this.currentProject,"CurrentProject"),i=this.formMethod(this.ongoingproject,"OngoingProject"),n=this.formMethod(this.currentProject1,"CurrentProject"),o=this.formMethod(this.ongoingproject1,"OngoingProject"),a=[],r={isCurrent:this.isCurrent,isOngoing:this.isOngoing,isProject1:this.isProject1,isProject2:this.isProject2,isOnemesser:this.isOnemesser,isNonmesser:this.isNonmesser};console.log(r),r.isNonmesser||r.isOnemesser?r.isOnemesser?(t.projectReference=this.nonMesserReference.value.project_ReferenceName,t.projectContactType=this.nonMesserReference.value.project_Contact_Type,t.projectEmail=this.nonMesserReference.value.project_EmailReferenceName,n.projectReference="",n.projectContactType="",n.projectEmail="",i.projectReference="",i.projectContactType="",i.projectEmail="",o.projectReference="",o.projectContactType="",o.projectEmail=""):(t.projectReference="",t.projectContactType="",t.projectEmail="",n.projectReference="",n.projectContactType="",n.projectEmail="",o.projectReference="",o.projectContactType="",o.projectEmail="",i.projectReference="",i.projectContactType="",i.projectEmail=""):(i.projectReference=this.nonMesserReference.value.project_ReferenceName2,i.projectContactType=this.nonMesserReference.value.project_Contact_Type2,i.projectEmail=this.nonMesserReference.value.project_EmailReferenceName2,t.projectReference=this.nonMesserReference.value.project_ReferenceName,t.projectContactType=this.nonMesserReference.value.project_Contact_Type,t.projectEmail=this.nonMesserReference.value.project_EmailReferenceName,n.projectReference="",n.projectContactType="",n.projectEmail="",o.projectReference="",o.projectContactType="",o.projectEmail=""),r.isCurrent||r.isOngoing?r.isCurrent&&!r.isOngoing?(console.log("Secenario 2 curr -yes & ong- no"),t.completedProject="Yes",t.projectReference=this.nonMesserReference.value.project_ReferenceName,t.projectContactType=this.nonMesserReference.value.project_Contact_Type,t.projectEmail=this.nonMesserReference.value.project_EmailReferenceName,(a=this.setDeleteCalls(o,a)).push(this.expService.addRecord("Reference",t)),r.isProject1?(n.completedProject="Yes",r.isNonmesser||r.isOnemesser||(n.projectReference=this.nonMesserReference.value.project_ReferenceName2,n.projectContactType=this.nonMesserReference.value.project_Contact_Type2,n.projectEmail=this.nonMesserReference.value.project_EmailReferenceName2,t.projectReference=this.nonMesserReference.value.project_ReferenceName,t.projectContactType=this.nonMesserReference.value.project_Contact_Type,t.projectEmail=this.nonMesserReference.value.project_EmailReferenceName),a.push(this.expService.addRecord("Reference",n)),a=this.setDeleteCalls(i,a)):this.nonMesserReference.value.project_ReferenceName2?((i=this.clearFormData(i)).completedProject="no",i.projectReference=this.nonMesserReference.value.project_ReferenceName2,i.projectContactType=this.nonMesserReference.value.project_Contact_Type2,i.projectEmail=this.nonMesserReference.value.project_EmailReferenceName2,a.push(this.expService.addRecord("Reference",i)),a=this.setDeleteCalls(n,a)):(a=this.setDeleteCalls(n,a),a=this.setDeleteCalls(i,a))):!r.isCurrent&&r.isOngoing?(console.log("Secenario 3 curr -no & ong- yes"),i.completedProject="Yes",i.projectReference=this.nonMesserReference.value.project_ReferenceName,i.projectContactType=this.nonMesserReference.value.project_Contact_Type,i.projectEmail=this.nonMesserReference.value.project_EmailReferenceName,a.push(this.expService.addRecord("Reference",i)),a=this.setDeleteCalls(n,a),r.isProject2?(o.completedProject="Yes",r.isNonmesser||r.isOnemesser||(o.projectReference=this.nonMesserReference.value.project_ReferenceName2,o.projectContactType=this.nonMesserReference.value.project_Contact_Type2,o.projectEmail=this.nonMesserReference.value.project_EmailReferenceName2,i.projectReference=this.nonMesserReference.value.project_ReferenceName,i.projectContactType=this.nonMesserReference.value.project_Contact_Type,i.projectEmail=this.nonMesserReference.value.project_EmailReferenceName),a.push(this.expService.addRecord("Reference",o)),a=this.setDeleteCalls(t,a)):this.nonMesserReference.value.project_ReferenceName2?((t=this.clearFormData(t)).completedProject="no",t.projectReference=this.nonMesserReference.value.project_ReferenceName2,t.projectContactType=this.nonMesserReference.value.project_Contact_Type2,t.projectEmail=this.nonMesserReference.value.project_EmailReferenceName2,a.push(this.expService.addRecord("Reference",t)),a=this.setDeleteCalls(o,a)):(a=this.setDeleteCalls(o,a),a=this.setDeleteCalls(t,a))):(console.log("Secenario 4 both yes"),a.push(this.expService.addRecord("Reference",t)),a.push(this.expService.addRecord("Reference",i)),r.isProject1&&r.isProject2?(n.completedProject="Yes",a.push(this.expService.addRecord("Reference",n)),o.completedProject="Yes",a.push(this.expService.addRecord("Reference",o))):r.isProject1||r.isProject2?r.isProject1?(n.completedProject="Yes",(a=this.setDeleteCalls(o,a)).push(this.expService.addRecord("Reference",n))):(o.completedProject="Yes",(a=this.setDeleteCalls(n,a)).push(this.expService.addRecord("Reference",o))):(a=this.setDeleteCalls(n,a),a=this.setDeleteCalls(o,a))):(console.log("Secenario 1 both no"),a=this.setDeleteCalls(o,a),a=this.setDeleteCalls(n,a),r.isNonmesser||r.isOnemesser?r.isOnemesser?((t=this.clearFormData(t)).completedProject="no",a.push(this.expService.addRecord("Reference",t)),a=this.setDeleteCalls(i,a)):(a=this.setDeleteCalls(t,a),a=this.setDeleteCalls(i,a),r.isNonmesser&&((t=this.clearFormData(t)).completedProject="no",t.isNoReference=!0,a.push(this.expService.addRecord("Reference",t)))):(t=this.clearFormData(t),i=this.clearFormData(i),t.completedProject="no",i.completedProject="no",a.push(this.expService.addRecord("Reference",i)),a.push(this.expService.addRecord("Reference",t)))),Object(Ft.a)(a).subscribe(t=>{this.toastr.success("Project Experience & References saved successfully","Project Experience & References"),e&&this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`]),this.submitText="UPDATE"})}setDeleteCalls(e,t){return 0!=e.id&&t.push(this.expService.deleteRecord(e.id)),t}clearFormData(e){return e.completedProject="",e.projectName="",e.projectDetail="",e.projectPrice=0,e.isMesserProject=!1,e.projectCompletion="",e.projectCity="",e.projectState="",e.projectMesserContact="",e}firstFormssubmit(){}saveForms(){return[]}firstForms(){}autoSave(){}formMethod(e,t){var i={};return i.id=e.value.id,i.companyId=this.companyId,i.type=t,i.completedProject=e.value.CompletedProject,i.projectName=e.value.project_Name,i.projectDetail=e.value.project_Detail,i.projectPrice=""==e.value.project_Price?0:e.value.project_Price,i.isMesserProject=""!=e.value.isMesserProject&&e.value.isMesserProject,i.projectCompletion=e.value.project_Completion,i.projectCity=e.value.project_City,i.projectState=e.value.project_State,i.projectMesserContact=e.value.project_MesserContact,i.isOneReference=this.isOnemesser,i.isNoReference=this.isNonmesser,"CurrentProject"==t?(i.projectReference=this.nonMesserReference.value.project_ReferenceName,i.projectContactType=this.nonMesserReference.value.project_Contact_Type,i.projectEmail=this.nonMesserReference.value.project_EmailReferenceName):(i.projectReference=this.nonMesserReference.value.project_ReferenceName2,i.projectContactType=this.nonMesserReference.value.project_Contact_Type2,i.projectEmail=this.nonMesserReference.value.project_EmailReferenceName2),i}emitEventToChild(){this.eventsSubject.next()}gotoHome(){this.emitEventToChild(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm-1].url}`])}addOwner(){}addOwner2(){}addArchitect(){}addArchitect2(){}addSupplier(){}addSupplier2(){}removeReference(e,t){}editreference(e,t){}ownerformcheckformValidation(){}ownerform2checkformValidation(){}architectformcheckformValidation(){}architect2formcheckformValidation(){}supplierformcheckformValidation(){}supplierform2checkformValidation(){}tempownercheckformValidation(){}temparchitectcheckformValidation(){}tempsuppliercheckformValidation(){}validateEmpty(e){return null==e||"null"==e||null==e||"undefined"==e?"":e}referenceupdate(e,t){}cancelUpdate(e,t){}nextroutePage(){this.emitEventToChild(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(o.d),c.Pb(a.f),c.Pb(wt),c.Pb(d.a),c.Pb(m.a),c.Pb(h.b),c.Pb(l.a),c.Pb(v),c.Pb(y.c),c.Pb(v),c.Pb(St))},e.\u0275cmp=c.Jb({type:e,selectors:[["app-experience"]],decls:138,vars:81,consts:[[1,"px-2","py-2","my-2","form-bg",3,"ngClass"],[1,"form-group","input-group","row"],[1,"col-lg-11","py-1","mx-auto"],[1,"row"],[1,"col-lg-6","pe-1","ps-2","col-head-1","mx-auto"],[1,"row","col-curve-top","bg-white","mx-0","px-0","pt-2","pb-3"],[3,"formGroup","keydown.enter"],[1,"col-6","pull-left","pt-1"],[1,"fw-bold"],[1,"col-6","pull-left"],[1,"row","pt-1"],[1,"col-lg-6"],["type","radio","value","yes","name","isMesserProject","id","isMesserProject_yes","required","",3,"checked","ngClass","click"],["for","isMesserProject_yes"],[1,"col-lg-4"],["type","radio","value","no","name","isMesserProject","id","isMesserProject_no","required","",3,"checked","ngClass","click"],["for","isMesserProject_no"],[3,"formInfo","showdisabled"],["style","width: 98%;margin: 0 auto;",4,"ngIf"],[3,"formInfo","showdisabled",4,"ngIf"],[1,"row","text-right"],["class","btn btnlg default-btn",3,"click",4,"ngIf"],["type","radio","value","yes","name","Ongoingproject","id","ongoingisMesserProject_yes","required","",3,"checked","ngClass","click"],["for","ongoingisMesserProject_yes"],["type","radio","value","no","name","Ongoingproject","id","ongoingisMesserProject_no","required","",3,"checked","ngClass","click"],["for","ongoingisMesserProject_no"],[1,"col-lg-12","py-2","mx-auto"],[1,"row","bg-white","col-curve","mx-auto","py-2","pt-1"],[1,"row","px-2"],[1,"col-6"],["for","owner-company_Name",1,"my-auto","font-italic"],["class","text-danger",4,"ngIf"],["type","text","formControlName","project_ReferenceName","id","project_ReferenceName","name","project_ReferenceName","autocomplete","disabled",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","project_Contact_Type",1,"my-auto","font-italic"],["formControlName","project_Contact_Type","id","state","name","state",1,"form-control","form-select",3,"ngClass","ngModelChange"],[3,"ngValue"],["type","text","formControlName","project_EmailReferenceName","id","project_EmailReferenceName","name","project_EmailReferenceName","autocomplete","disabled",1,"form-control",3,"ngClass"],[1,"row","mx-auto"],["for","owner-company_Name2",1,"my-auto","font-italic"],["type","text","formControlName","project_ReferenceName2","name","project_EmailReferenceName2","autocomplete","disabled","id","project_ReferenceName2","name","project_ReferenceName2",1,"form-control",3,"ngClass"],["for","project_Contact_Type2",1,"my-auto","font-italic"],["formControlName","project_Contact_Type2","id","state","name","state",1,"form-control","form-select",3,"ngClass","ngModelChange"],["for","project_EmailReferenceName2",1,"my-auto","font-italic"],["type","text","formControlName","project_EmailReferenceName2","id","project_EmailReferenceName2","autocomplete","disabled",1,"form-control",3,"ngClass"],["for","project_onemesserreference",1,"my-auto","font-italic"],["type","checkbox","formControlName","project_onemesserreference","id","project_onemesserreference","name","project_onemesserreference",3,"checked","click"],["type","checkbox","formControlName","project_nonmesserreference","id","project_nonmesserreference","name","project_nonmesserreference",3,"checked","click"],["class","text-end mx-lg-4 my-3",4,"ngIf"],["class","text-end mx-4 my-3",4,"ngIf"],["headerReview","Risk Review & Inputs","formname","experience",3,"events","formId","companyId",4,"ngIf"],[2,"width","98%","margin","0 auto"],[1,"btn","btnlg","default-btn",3,"click"],[1,"text-danger"],[1,"invalid-feedback"],[4,"ngIf"],[1,"text-end","mx-lg-4","my-3"],[1,"btn","float-start","btn","default-btn",3,"click"],["type","button",1,"btn","ml-4","default-btn",3,"click"],["type","button",1,"btn","mx-2","default-btn",3,"click"],[1,"text-end","mx-4","my-3"],[1,"btn","btn-success","mx-2","default-btn",3,"click"],["headerReview","Risk Review & Inputs","formname","experience",3,"events","formId","companyId"]],template:function(e,t){1&e&&(c.Vb(0,"div",0),c.Vb(1,"div",1),c.Vb(2,"div",2),c.Tb(3),c.Vb(4,"div",3),c.Vb(5,"div",4),c.Vb(6,"div",5),c.Vb(7,"form",6),c.cc("keydown.enter",function(e){return e.preventDefault()}),c.Vb(8,"div",3),c.Vb(9,"div",7),c.Vb(10,"h6",8),c.Dc(11,"1. Have you completed any projects with Messer in the past 5 years? "),c.Ub(),c.Ub(),c.Vb(12,"div",9),c.Vb(13,"div",10),c.Vb(14,"span",11),c.Vb(15,"input",12),c.cc("click",function(){return t.chkExperience("Yes","CurrentProject")}),c.Ub(),c.Vb(16,"label",13),c.Dc(17," YES"),c.Ub(),c.Ub(),c.Vb(18,"span",14),c.Vb(19,"input",15),c.cc("click",function(){return t.chkExperience("no","CurrentProject")}),c.Ub(),c.Vb(20,"label",16),c.Dc(21," NO"),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(22,"div",3),c.Qb(23,"app-experiencenew",17),c.Bc(24,Zt,1,0,"hr",18),c.Bc(25,Kt,1,2,"app-experiencenew",19),c.Ub(),c.Vb(26,"div",20),c.Bc(27,Jt,2,2,"button",21),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(28,"div",4),c.Vb(29,"div",5),c.Vb(30,"form",6),c.cc("keydown.enter",function(e){return e.preventDefault()}),c.Vb(31,"div",3),c.Vb(32,"div",7),c.Vb(33,"h6",8),c.Dc(34,"2. Are you currently on any ongoing projects with Messer? "),c.Ub(),c.Ub(),c.Vb(35,"div",9),c.Vb(36,"div",10),c.Vb(37,"span",11),c.Vb(38,"input",22),c.cc("click",function(){return t.chkExperience("Yes","OngoingProject")}),c.Ub(),c.Vb(39,"label",23),c.Dc(40," YES"),c.Ub(),c.Ub(),c.Vb(41,"span",14),c.Vb(42,"input",24),c.cc("click",function(){return t.chkExperience("no","OngoingProject")}),c.Ub(),c.Vb(43,"label",25),c.Dc(44," NO"),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(45,"div",3),c.Qb(46,"app-experiencenew",17),c.Bc(47,Xt,1,0,"hr",18),c.Bc(48,ei,1,2,"app-experiencenew",19),c.Ub(),c.Vb(49,"div",20),c.Bc(50,ti,2,2,"button",21),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(51,"div",26),c.Vb(52,"form",6),c.cc("keydown.enter",function(e){return e.preventDefault()}),c.Vb(53,"div",27),c.Vb(54,"div",7),c.Vb(55,"h6",8),c.Dc(56,"3. Please provide two non - Messer references"),c.Ub(),c.Ub(),c.Vb(57,"div",28),c.Vb(58,"div",29),c.Vb(59,"label",30),c.Dc(60,"Project Reference Contact Name: "),c.Bc(61,ii,2,0,"span",31),c.Ub(),c.Ub(),c.Vb(62,"div",29),c.Qb(63,"input",32),c.Bc(64,oi,2,1,"div",33),c.Ub(),c.Ub(),c.Vb(65,"div",28),c.Vb(66,"div",29),c.Vb(67,"label",34),c.Dc(68,"Reference Contact Type: "),c.Bc(69,ai,2,0,"span",31),c.Ub(),c.Ub(),c.Vb(70,"div",29),c.Vb(71,"select",35),c.cc("ngModelChange",function(){return t.idleReset()}),c.Vb(72,"option",36),c.Dc(73,"Select"),c.Ub(),c.Vb(74,"option",36),c.Dc(75,"CM/GC"),c.Ub(),c.Vb(76,"option",36),c.Dc(77,"Owner"),c.Ub(),c.Vb(78,"option",36),c.Dc(79,"Designer"),c.Ub(),c.Ub(),c.Bc(80,si,2,1,"div",33),c.Ub(),c.Ub(),c.Vb(81,"div",28),c.Vb(82,"div",29),c.Vb(83,"label",30),c.Dc(84,"Email for Project Reference Contact: "),c.Bc(85,ci,2,0,"span",31),c.Ub(),c.Ub(),c.Vb(86,"div",29),c.Qb(87,"input",37),c.Bc(88,di,2,1,"div",33),c.Ub(),c.Ub(),c.Vb(89,"div",38),c.Qb(90,"hr"),c.Vb(91,"div",28),c.Vb(92,"div",29),c.Vb(93,"label",39),c.Dc(94,"Project Reference Contact Name 2: "),c.Bc(95,ui,2,0,"span",31),c.Ub(),c.Ub(),c.Vb(96,"div",29),c.Qb(97,"input",40),c.Bc(98,bi,2,1,"div",33),c.Ub(),c.Ub(),c.Vb(99,"div",28),c.Vb(100,"div",29),c.Vb(101,"label",41),c.Dc(102,"Reference Contact Type 2: "),c.Bc(103,pi,2,0,"span",31),c.Ub(),c.Ub(),c.Vb(104,"div",29),c.Vb(105,"select",42),c.cc("ngModelChange",function(){return t.idleReset()}),c.Vb(106,"option",36),c.Dc(107,"Select"),c.Ub(),c.Vb(108,"option",36),c.Dc(109,"CM/GC"),c.Ub(),c.Vb(110,"option",36),c.Dc(111,"Owner"),c.Ub(),c.Vb(112,"option",36),c.Dc(113,"Designer"),c.Ub(),c.Ub(),c.Bc(114,hi,2,1,"div",33),c.Ub(),c.Ub(),c.Vb(115,"div",28),c.Vb(116,"div",29),c.Vb(117,"label",43),c.Dc(118,"Email for Project Reference Contact 2: "),c.Bc(119,gi,2,0,"span",31),c.Ub(),c.Ub(),c.Vb(120,"div",29),c.Qb(121,"input",44),c.Bc(122,vi,2,1,"div",33),c.Ub(),c.Ub(),c.Ub(),c.Vb(123,"div",28),c.Vb(124,"div",29),c.Vb(125,"label",45),c.Dc(126,"I only have one non-messer references "),c.Ub(),c.Ub(),c.Vb(127,"div",29),c.Vb(128,"input",46),c.cc("click",function(){return t.onemesserReference()}),c.Ub(),c.Ub(),c.Ub(),c.Vb(129,"div",28),c.Vb(130,"div",29),c.Vb(131,"label",30),c.Dc(132,"I have no non-messer references "),c.Ub(),c.Ub(),c.Vb(133,"div",29),c.Vb(134,"input",47),c.cc("click",function(){return t.nonmesserReference()}),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Sb(),c.Ub(),c.Ub(),c.Bc(135,yi,7,1,"div",48),c.Bc(136,Vi,5,0,"div",49),c.Ub(),c.Bc(137,Ui,1,3,"app-comment",50)),2&e&&(c.mc("ngClass",c.pc(59,Di,1==t.showdisabled)),c.Db(7),c.mc("formGroup",t.currentProject),c.Eb("disabled",t.showdisabled),c.Db(8),c.mc("checked",t.isCurrent)("ngClass",c.pc(61,Ci,t.submitted&&t.currentProject.controls.CompletedProject.errors)),c.Eb("disabled",t.radioDisable),c.Db(4),c.mc("checked",!t.isCurrent)("ngClass",c.pc(63,Ci,t.submitted&&t.currentProject.controls.CompletedProject.errors)),c.Eb("disabled",t.radioDisable),c.Db(4),c.mc("formInfo",t.currentProject)("showdisabled",t.showdisabled),c.Db(1),c.mc("ngIf",t.isProject1&&t.isCurrent),c.Db(1),c.mc("ngIf",t.isProject1&&t.isCurrent),c.Db(2),c.mc("ngIf",t.isCurrent),c.Db(3),c.mc("formGroup",t.ongoingproject),c.Db(8),c.mc("checked",t.isOngoing)("ngClass",c.pc(65,Ci,t.submitted&&t.ongoingproject.controls.CompletedProject.errors)),c.Eb("disabled",!0===t.showdisabled)("disabled",t.radioDisable),c.Db(4),c.mc("checked",!t.isOngoing)("ngClass",c.pc(67,Ci,t.submitted&&t.ongoingproject.controls.CompletedProject.errors)),c.Eb("disabled",t.radioDisable),c.Db(4),c.mc("formInfo",t.ongoingproject)("showdisabled",t.showdisabled),c.Db(1),c.mc("ngIf",t.isProject2&&t.isOngoing),c.Db(1),c.mc("ngIf",t.isProject2&&t.isOngoing),c.Db(2),c.mc("ngIf",t.isOngoing),c.Db(2),c.mc("formGroup",t.nonMesserReference),c.Db(9),c.mc("ngIf",1!=t.showdisabled),c.Db(2),c.mc("ngClass",c.pc(69,Ci,t.nonMesserReference.controls.project_ReferenceName.touched&&t.nonMesserReference.controls.project_ReferenceName.errors)),c.Db(1),c.mc("ngIf",t.nonMesserReference.controls.project_ReferenceName.touched&&t.nonMesserReference.controls.project_ReferenceName.errors),c.Db(5),c.mc("ngIf",1!=t.showdisabled),c.Db(2),c.mc("ngClass",c.pc(71,Ci,t.nonMesserReference.controls.project_Contact_Type.touched&&t.nonMesserReference.controls.project_Contact_Type.errors)),c.Db(1),c.mc("ngValue",""),c.Db(2),c.mc("ngValue","Architect"),c.Db(2),c.mc("ngValue","Owner"),c.Db(2),c.mc("ngValue","Designer"),c.Db(2),c.mc("ngIf",t.nonMesserReference.controls.project_Contact_Type.touched&&t.nonMesserReference.controls.project_Contact_Type.errors),c.Db(5),c.mc("ngIf",1!=t.showdisabled),c.Db(2),c.mc("ngClass",c.pc(73,Ci,t.nonMesserReference.controls.project_ReferenceName.touched&&t.nonMesserReference.controls.project_EmailReferenceName.errors)),c.Db(1),c.mc("ngIf",t.nonMesserReference.controls.project_ReferenceName.touched&&t.nonMesserReference.controls.project_EmailReferenceName.errors),c.Db(7),c.mc("ngIf",1!=t.showdisabled),c.Db(2),c.mc("ngClass",c.pc(75,Ci,t.nonMesserReference.controls.project_ReferenceName2.touched&&t.nonMesserReference.controls.project_ReferenceName2.errors)),c.Db(1),c.mc("ngIf",t.nonMesserReference.controls.project_ReferenceName2.touched&&t.nonMesserReference.controls.project_ReferenceName2.errors),c.Db(5),c.mc("ngIf",1!=t.showdisabled),c.Db(2),c.mc("ngClass",c.pc(77,Ci,t.nonMesserReference.controls.project_Contact_Type2.touched&&t.nonMesserReference.controls.project_Contact_Type2.errors)),c.Db(1),c.mc("ngValue",""),c.Db(2),c.mc("ngValue","Architect"),c.Db(2),c.mc("ngValue","Owner"),c.Db(2),c.mc("ngValue","Designer"),c.Db(2),c.mc("ngIf",t.nonMesserReference.controls.project_Contact_Type2.touched&&t.nonMesserReference.controls.project_Contact_Type2.errors),c.Db(5),c.mc("ngIf",1!=t.showdisabled),c.Db(2),c.mc("ngClass",c.pc(79,Ci,t.nonMesserReference.controls.project_ReferenceName2.touched&&t.nonMesserReference.controls.project_EmailReferenceName2.errors)),c.Db(1),c.mc("ngIf",t.nonMesserReference.controls.project_ReferenceName2.touched&&t.nonMesserReference.controls.project_EmailReferenceName2.errors),c.Db(6),c.mc("checked",t.isOnemesser),c.Db(6),c.mc("checked",t.isNonmesser),c.Db(1),c.mc("ngIf",!(t.showAdmin||t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status)),c.Db(1),c.mc("ngIf",!t.showAdmin&&t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status||t.showAdmin),c.Db(1),c.mc("ngIf","Subcontractor"!=t.userRole&&"Additional Info Needed from Subcontractor"!=t.prequalification_status&&"Prequal form submitted and under quality check"!=t.prequalification_status))},directives:[n.k,o.x,o.m,o.g,Ht,n.m,o.b,o.l,o.f,o.v,o.p,o.y,o.a,z],styles:[".cont-border-left[_ngcontent-%COMP%]{border:4px solid #fff;border-right:0}.cont-border-right[_ngcontent-%COMP%]{border:4px solid #fff;border-left:0}.col-curve-top[_ngcontent-%COMP%]{border-top:6px solid #c3bdbd!important}.col-curve[_ngcontent-%COMP%], .col-curve-top[_ngcontent-%COMP%]{border-radius:18px 19px!important}.border[_ngcontent-%COMP%]{border:1px solid #fff!important}.border-end[_ngcontent-%COMP%]{border-bottom-left-radius:13px!important;border-bottom-right-radius:13px!important}.left-col-curve[_ngcontent-%COMP%]{border-top-left-radius:18px 19px!important}.right-col-curve[_ngcontent-%COMP%]{border-top-right-radius:18px 19px!important}.record-shadow[_ngcontent-%COMP%]{border:1px solid #ddd;box-shadow:0 .5rem 1rem rgba(0,0,0,.15)!important}.file-close[_ngcontent-%COMP%]{padding:2px 6px!important;background:#969294!important}.fileclose[_ngcontent-%COMP%]{font-size:22px;color:#6e6767;cursor:pointer}.edit[_ngcontent-%COMP%]{font-size:18px;cursor:pointer}h6[_ngcontent-%COMP%]{font-size:13px!important}.row[_ngcontent-%COMP%]{padding:5px 1px}.btnlg[_ngcontent-%COMP%]{width:180px!important}.text-right[_ngcontent-%COMP%]{float:right;padding-right:10px;display:block;text-align:right}.bg-grey[_ngcontent-%COMP%], .bg-grey[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .bg-grey[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{color:#c7bfbf!important}"]}),e})(),Ri=(()=>{class e extends E.a{constructor(e,t){super("Financial",e,t,{root:O.a.webserviceURlLocal})}getAll(){return super.getAll()}getRecord(e){let t={Screen_ID:e,Screen_Type:"Financial"};const i={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")},body:t};return this.http.get(O.a.webserviceURlLocal+"Files/"+e+"?Screen_Type=Financial",i)}deleteRecord(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.delete(O.a.webserviceURlLocal+"Files/"+e,t)}getRecords(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("financial/"+e,O.a.webserviceURlLocal);return this.http.get(i,t)}updateRecord(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},n=this.httpUrlGenerator.entityResource("Financial",O.a.webserviceURlLocal)+t;return this.http.put(n,e,i)}addRecord(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("Financial",O.a.webserviceURlLocal);return this.http.post(i,e,t)}getUser(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},n=this.httpUrlGenerator.entityResource("Organization/"+e+"/"+t,O.a.webserviceURlLocal);return this.http.get(n,i)}getComplete(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("Organization/Getstatus/"+e,O.a.webserviceURlLocal);return this.http.get(i,t)}updateOrgRecord(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.put(O.a.webserviceURlLocal+"Organization/UpdateStatus?id="+t,e,i)}getRiskRecords(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.get(O.a.webserviceURlLocal+"Organization/GetRisk?id="+e,t)}}return e.\u0275fac=function(t){return new(t||e)(c.Zb(j.b),c.Zb(E.c))},e.\u0275prov=c.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Fi=i("jhN1");let wi=(()=>{class e{constructor(e,t){this.dialogRef=e,this.data=t,console.log("this",this.data)}onNoClick(){this.dialogRef.close("No")}onYesClick(){this.dialogRef.close("Yes")}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(g.f),c.Pb(g.a))},e.\u0275cmp=c.Jb({type:e,selectors:[["app-safetyapprove"]],decls:11,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","",1,"btn","default-btn",3,"click"],["mat-button","","cdkFocusInitial","",1,"btn","default-btn",3,"click"]],template:function(e,t){1&e&&(c.Vb(0,"h1",0),c.Dc(1,"Confirmation"),c.Ub(),c.Vb(2,"div",1),c.Vb(3,"p"),c.Dc(4),c.Ub(),c.Ub(),c.Vb(5,"div",2),c.Vb(6,"button",3),c.cc("click",function(){return t.onNoClick()}),c.Dc(7,"Cancel"),c.Ub(),c.Dc(8," \xa0 "),c.Vb(9,"button",4),c.cc("click",function(){return t.onYesClick()}),c.Dc(10,"Ok"),c.Ub(),c.Ub()),2&e&&(c.Db(4),c.Ec(t.data?t.data:"Are you sure? Data entered will go to go Risk"))},directives:[g.g,g.d,g.c],encapsulation:2}),e})(),Si=(()=>{class e extends E.a{constructor(e,t){super("FinancialCalculation",e,t,{root:O.a.webserviceURlLocal})}getRecords(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("financialcalculation/statement/"+e,O.a.webserviceURlLocal);return this.http.get(i,t)}getIntrimRecords(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("financialcalculation/intrim/"+e,O.a.webserviceURlLocal);return this.http.get(i,t)}updateRecord(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},n=this.httpUrlGenerator.entityResource("Financial",O.a.webserviceURlLocal)+t;return this.http.put(n,e,i)}addRecord(e){console.log("fina",e);const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("financialcalculation",O.a.webserviceURlLocal);return this.http.post(i,e,t)}addRecords(e,t,i,n){console.log("fina",e);const o={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}};let a=[];const r=this.httpUrlGenerator.entityResource("financialcalculation",O.a.webserviceURlLocal),s=this.http.post(r,e,o);if(a.push(s),t.financialYearEndDate&&"0000-12-31"!=t.financialYearEndDate.toString()&&"0001-01-01"!=t.financialYearEndDate.toString()){const e=this.http.post(r,t,o);a.push(e)}if(i.financialYearEndDate&&"0000-12-31"!=i.financialYearEndDate.toString()&&"0001-01-01"!=i.financialYearEndDate.toString()){const e=this.http.post(r,i,o);a.push(e)}if(n.financialYearEndDate&&"0000-12-31"!=n.financialYearEndDate.toString()&&"0001-01-01"!=n.financialYearEndDate.toString()){const e=this.http.post(r,n,o);a.push(e)}return Object(Ft.a)(a)}addRecord1(e){console.log("fina",e);const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("FinancialCalculate",O.a.webserviceURlLocal);return this.http.post(i,e,t)}addCalculate(e,t,i,n){const o={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},a=this.httpUrlGenerator.entityResource("FinancialCalculate",O.a.webserviceURlLocal),r=this.http.post(a,e,o);let s=[];if(s.push(r),t.financialYearEndDate&&"0000-12-31"!=t.financialYearEndDate&&"0001-01-01"!=t.financialYearEndDate){const e=this.http.post(a,t,o);s.push(e)}if(i.financialYearEndDate&&"0000-12-31"!=i.financialYearEndDate&&"0001-01-01"!=i.financialYearEndDate){const e=this.http.post(a,i,o);s.push(e)}if(n.financialYearEndDate&&"0000-12-31"!=n.financialYearEndDate&&"0001-01-01"!=n.financialYearEndDate){const e=this.http.post(a,n,o);s.push(e)}return Object(Ft.a)(s)}addCalculatecurrent(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("FinancialCalculate",O.a.webserviceURlLocal);return this.http.post(i,e,t)}getUser(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},n=this.httpUrlGenerator.entityResource("Organization/"+e+"/"+t,O.a.webserviceURlLocal);return this.http.get(n,i)}}return e.\u0275fac=function(t){return new(t||e)(c.Zb(j.b),c.Zb(E.c))},e.\u0275prov=c.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function ki(e,t){if(1&e){const e=c.Wb();c.Tb(0),c.Vb(1,"input",1),c.cc("keydown",function(t){return c.uc(e),c.gc().numberCheck(t)})("keyup",function(t){return c.uc(e),c.gc().CommaFormatted(t)})("change",function(t){return c.uc(e),c.gc().format(t)}),c.Ub(),c.Sb()}if(2&e){const e=c.gc();c.Db(1),c.mc("value",e.txtValue)}}function xi(e,t){if(1&e&&(c.Tb(0),c.Dc(1),c.Sb()),2&e){const e=c.gc();c.Db(1),c.Fc("\n",e.txtValue,"")}}let Pi=(()=>{class e{constructor(e){this._decimalPipe=e,this.textDispaly=!1,this.txtValue="",this.onChange=e=>{this.txtValue=e},this.onTouched=()=>{}}writeValue(e){this.txtValue=e}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}ngOnInit(){}newValue(e){this.onChange(e)}CommaFormatted(e){e.AT_TARGET>=37&&e.AT_TARGET<=40||(this.onChange(e.target.value),this.writeValue(e.target.value))}numberCheck(e){const t=e.keyCode;return""==e.target.value&&189==t||t>=48&&t<=57||37==t||39==t||9==t||8==t||190==t||110==t||32==t||t>=96&&t<=105}format(e){var t=this._decimalPipe.transform(this.txtValue,"1.2-2");t&&this.writeValue(t)}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(n.f))},e.\u0275cmp=c.Jb({type:e,selectors:[["app-financial-input"]],inputs:{required:"required",textDispaly:"textDispaly"},features:[c.Cb([n.f,{provide:o.j,multi:!0,useExisting:Object(c.W)(()=>e)}])],decls:2,vars:2,consts:[[4,"ngIf"],["type","text",1,"form-control",3,"value","keydown","keyup","change"]],template:function(e,t){1&e&&(c.Bc(0,ki,2,1,"ng-container",0),c.Bc(1,xi,2,1,"ng-container",0)),2&e&&(c.mc("ngIf",0==t.textDispaly),c.Db(1),c.mc("ngIf",1==t.textDispaly))},directives:[n.m],styles:[""]}),e})();function Ai(e,t){if(1&e&&(c.Vb(0,"td",6),c.Dc(1),c.Ub()),2&e){const e=t.$implicit;c.Db(1),c.Fc(" ",e.yearStr,"")}}function Oi(e,t){if(1&e&&(c.Vb(0,"td"),c.Dc(1),c.Ub()),2&e){const e=t.$implicit;c.Db(1),c.Ec(e.yearStr)}}function Ei(e,t){if(1&e&&(c.Tb(0),c.Dc(1),c.Sb()),2&e){const e=c.gc().$implicit,t=c.gc().$implicit;c.Db(1),c.Fc(" ",e[t.key]," ")}}function ji(e,t){if(1&e&&c.Dc(0),2&e){const e=c.gc().$implicit,t=c.gc().$implicit;c.Fc(" ",e[t.key]," ")}}function Mi(e,t){if(1&e&&(c.Vb(0,"td"),c.Bc(1,Ei,2,1,"ng-container",105),c.Bc(2,ji,1,1,"ng-template",null,106,c.Cc),c.Ub()),2&e){const e=t.index,i=c.sc(3);c.Db(1),c.mc("ngIf",0==e)("ngIfElse",i)}}function Ni(e,t){if(1&e&&(c.Vb(0,"tr"),c.Vb(1,"td"),c.Dc(2),c.Ub(),c.Bc(3,Mi,4,2,"td",96),c.Ub()),2&e){const e=t.$implicit,i=c.gc();c.Db(2),c.Ec(e.name),c.Db(1),c.mc("ngForOf",i.financialStatement)}}function qi(e,t){if(1&e&&(c.Tb(0),c.Dc(1),c.Sb()),2&e){const e=c.gc().$implicit,t=c.gc().$implicit;c.Db(1),c.Fc(" ",e[t.key],"")}}function Bi(e,t){if(1&e&&c.Dc(0),2&e){const e=c.gc().$implicit,t=c.gc().$implicit;c.Fc(" ",e[t.key]," ")}}function Li(e,t){if(1&e&&(c.Vb(0,"td"),c.Bc(1,qi,2,1,"ng-container",105),c.Bc(2,Bi,1,1,"ng-template",null,106,c.Cc),c.Ub()),2&e){const e=t.index,i=c.sc(3);c.Db(1),c.mc("ngIf",0==e)("ngIfElse",i)}}function Ti(e,t){if(1&e&&(c.Vb(0,"tr"),c.Vb(1,"td"),c.Dc(2),c.Ub(),c.Bc(3,Li,4,2,"td",96),c.Ub()),2&e){const e=t.$implicit,i=c.gc();c.Db(2),c.Ec(e.name),c.Db(1),c.mc("ngForOf",i.financialStatement)}}function Yi(e,t){if(1&e&&(c.Tb(0),c.Dc(1),c.Sb()),2&e){const e=c.gc().$implicit,t=c.gc().$implicit;c.Db(1),c.Fc(" ",e[t.key]," ")}}function Gi(e,t){if(1&e&&c.Dc(0),2&e){const e=c.gc().$implicit,t=c.gc().$implicit;c.Fc(" ",e[t.key]," ")}}function Qi(e,t){if(1&e&&(c.Vb(0,"td"),c.Bc(1,Yi,2,1,"ng-container",105),c.Bc(2,Gi,1,1,"ng-template",null,106,c.Cc),c.Ub()),2&e){const e=t.index,i=c.sc(3);c.Db(1),c.mc("ngIf",0==e)("ngIfElse",i)}}function zi(e,t){if(1&e&&(c.Vb(0,"tr"),c.Vb(1,"td"),c.Dc(2),c.Ub(),c.Bc(3,Qi,4,2,"td",96),c.Ub()),2&e){const e=t.$implicit,i=c.gc();c.Db(2),c.Ec(e.name),c.Db(1),c.mc("ngForOf",i.financialStatement)}}function $i(e,t){if(1&e&&(c.Tb(0),c.Dc(1),c.Sb()),2&e){const e=c.gc().$implicit,t=c.gc().$implicit;c.Db(1),c.Fc(" ",e[t.key]," ")}}function Wi(e,t){if(1&e&&c.Dc(0),2&e){const e=c.gc().$implicit,t=c.gc().$implicit;c.Fc(" ",e[t.key]," ")}}function Hi(e,t){if(1&e&&(c.Vb(0,"td"),c.Bc(1,$i,2,1,"ng-container",105),c.Bc(2,Wi,1,1,"ng-template",null,106,c.Cc),c.Ub()),2&e){const e=t.index,i=c.sc(3);c.Db(1),c.mc("ngIf",0==e)("ngIfElse",i)}}function Zi(e,t){if(1&e&&(c.Vb(0,"tr"),c.Vb(1,"td"),c.Dc(2),c.Ub(),c.Bc(3,Hi,4,2,"td",96),c.Ub()),2&e){const e=t.$implicit,i=c.gc();c.Db(2),c.Ec(e.name),c.Db(1),c.mc("ngForOf",i.financialStatement)}}function Ki(e,t){if(1&e&&(c.Tb(0),c.Dc(1),c.Sb()),2&e){const e=c.gc().$implicit,t=c.gc().$implicit;c.Db(1),c.Fc(" ",e[t.key]," ")}}function Ji(e,t){if(1&e&&c.Dc(0),2&e){const e=c.gc().$implicit,t=c.gc().$implicit;c.Fc(" ",e[t.key]," ")}}function Xi(e,t){if(1&e&&(c.Vb(0,"td"),c.Bc(1,Ki,2,1,"ng-container",105),c.Bc(2,Ji,1,1,"ng-template",null,106,c.Cc),c.Ub()),2&e){const e=t.index,i=c.sc(3);c.Db(1),c.mc("ngIf",0==e)("ngIfElse",i)}}function en(e,t){if(1&e&&(c.Vb(0,"tr"),c.Vb(1,"td"),c.Dc(2),c.Ub(),c.Bc(3,Xi,4,2,"td",96),c.Ub()),2&e){const e=t.$implicit,i=c.gc();c.Db(2),c.Ec(e.name),c.Db(1),c.mc("ngForOf",i.financialStatement)}}function tn(e,t){if(1&e&&(c.Tb(0),c.Dc(1),c.Sb()),2&e){const e=c.gc().$implicit,t=c.gc().$implicit;c.Db(1),c.Fc(" ",e[t.key]," ")}}function nn(e,t){if(1&e&&c.Dc(0),2&e){const e=c.gc().$implicit,t=c.gc().$implicit;c.Fc(" ",e[t.key]," ")}}function on(e,t){if(1&e&&(c.Vb(0,"td"),c.Bc(1,tn,2,1,"ng-container",105),c.Bc(2,nn,1,1,"ng-template",null,106,c.Cc),c.Ub()),2&e){const e=t.index,i=c.sc(3);c.Db(1),c.mc("ngIf",0==e)("ngIfElse",i)}}function an(e,t){if(1&e&&(c.Vb(0,"tr"),c.Vb(1,"td"),c.Dc(2),c.Ub(),c.Bc(3,on,4,2,"td",96),c.Ub()),2&e){const e=t.$implicit,i=c.gc();c.Db(2),c.Ec(e.name),c.Db(1),c.mc("ngForOf",i.financialStatement)}}let rn=(()=>{class e{constructor(e,t,i,n,a){this.fb=e,this.toastr=t,this.financialstatementdataservice=i,this.financialservice=n,this.dialog=a,this.companyId=0,this.taxId=0,this.vendorId=0,this.statement_Calcuate="",this.statementForm=this.fb.group({id:[0],id1:[0],id2:[0],id3:[0],companyId:[""],yearStr:[""],isDataAvailable:[""],financialYearEndDate:["",o.w.required],cashEquivalents:["",o.w.required],accountsReceivableRetainage:["",o.w.required],marketableSecurities:["",o.w.required],underbillings:["",o.w.required],totalCurrentAssets:["",o.w.required],intagibleAssets:["",o.w.required],totalAssets:["",o.w.required],accountsPayableRetainage:["",o.w.required],overbillings:["",o.w.required],totalCurrentLiabilities:["",o.w.required],equity:["",o.w.required],revenue:["",o.w.required],costOfGoodSold:["",o.w.required],netIncomeBeforeTaxes:["",o.w.required],backlogLast:["",o.w.required],lineofCredit:["",o.w.required],unusedLineofCredit:["",o.w.required],dbPayIndex:["",o.w.required],pppLoan:["",o.w.required],lineofCreditPayable:["",o.w.required],financialYearEndDate1:[""],cashEquivalents1:[""],accountsReceivableRetainage1:[""],marketableSecurities1:[""],underbillings1:[""],totalCurrentAssets1:[""],intagibleAssets1:[""],totalAssets1:[""],accountsPayableRetainage1:[""],overbillings1:[""],totalCurrentLiabilities1:[""],equity1:[""],revenue1:[""],costOfGoodSold1:[""],netIncomeBeforeTaxes1:[""],backlogLast1:[""],lineofCredit1:[""],unusedLineofCredit1:[""],dbPayIndex1:[""],pppLoan1:[""],lineofCreditPayable1:[""],financialYearEndDate2:[""],cashEquivalents2:[""],accountsReceivableRetainage2:[""],marketableSecurities2:[""],underbillings2:[""],totalCurrentAssets2:[""],intagibleAssets2:[""],totalAssets2:[""],accountsPayableRetainage2:[""],overbillings2:[""],totalCurrentLiabilities2:[""],equity2:[""],revenue2:[""],costOfGoodSold2:[""],netIncomeBeforeTaxes2:[""],backlogLast2:[""],lineofCredit2:[""],unusedLineofCredit2:[""],dbPayIndex2:[""],pppLoan2:[""],lineofCreditPayable2:[""],financialYearEndDate3:[""],cashEquivalents3:[""],accountsReceivableRetainage3:[""],marketableSecurities3:[""],underbillings3:[""],totalCurrentAssets3:[""],intagibleAssets3:[""],totalAssets3:[""],accountsPayableRetainage3:[""],overbillings3:[""],totalCurrentLiabilities3:[""],equity3:[""],revenue3:[""],costOfGoodSold3:[""],netIncomeBeforeTaxes3:[""],backlogLast3:[""],lineofCredit3:[""],unusedLineofCredit3:[""],dbPayIndex3:[""],pppLoan3:[""],lineofCreditPayable3:[""]}),this.outputForm=this.fb.group({financialGrade:["",o.w.required],financialGrade1:[""],financialGrade2:[""],financialGrade3:[""]}),this.newRowsBalanceSheet=[{name:"Financial year end date",key:"financialYearEndDate"},{name:"Cash / Cash Equivalents",key:"cashEquivalents"},{name:"Accounts Receivables & Retainage",key:"accountsReceivableRetainage"},{name:"Marketable Securities",key:"marketableSecurities"},{name:"Under billings",key:"underbillings"},{name:"Total Current Assets",key:"totalCurrentAssets"},{name:"Goodwill / Patents Intangible Assets",key:"intagibleAssets"},{name:"Total Assets",key:"totalAssets"},{name:"Accounts Payables & Retainage",key:"accountsPayableRetainage"},{name:"Overbillings",key:"overbillings"},{name:"Total Current Liabilities",key:"totalCurrentLiabilities"},{name:"Equity",key:"equity"}],this.newRowsIncome=[{name:"Revenue",key:"revenue"},{name:"Cost of Goods sold/Construction",key:"costOfGoodSold"},{name:"Net Income before taxes",key:"netIncomeBeforeTaxes"}],this.newRowsOther=[{name:"Backlog Last",key:"backlogLast"},{name:"Line of credit",key:"lineofCredit"},{name:"Unused line of credit",key:"unusedLineofCredit"},{name:"Line of credit payable",key:"lineofCreditPayable"},{name:"D & B Pay Index",key:"dbPayIndex"},{name:"PPP Loan",key:"pppLoan"}],this.newRowsNetworth=[{name:"Revenue to NW(Equity)",key:"revenueToNWEquity"},{name:"Net Worth to Backlog",key:"netWorthtoBacklog"},{name:"Net Worth Score",key:"netWorthScore"}],this.newRowsWorking=[{name:"Quick Ratio",key:"quickRatio"},{name:"Current Ratio",key:"currentRatio"},{name:"Revenue/ Working Capital",key:"revenueWorkingCaptial"},{name:"Under billings / Working  Capital",key:"underbillingWorkingCaptial"},{name:"Working Capital Score",key:"workingCapitalScore"}],this.newRowsLeverage=[{name:"Debt to Equity",key:"debtToEquity"},{name:"Debt to Net Worth",key:"debtToNetWorth"},{name:"Leverage Score",key:"leverageScore"}],this.newRowsProfit=[{name:"Return on Equity",key:"returnOnEquity"},{name:"% Gross Profit",key:"grossProfit"},{name:"% Net Profit",key:"netProfit"},{name:"2 Year Change in Net Worth",key:"twoYearChangeInNetWorth"},{name:"Profitability Score",key:"profitabilityScore"}],this.newRowsOperation=[{name:"Revenue over receivables",key:"revenueOverReceivables"},{name:"Cost of Rev to Payables",key:"costofRevToPayables"},{name:"Operation Efficiency Score",key:"operationEfficiencyScore"}],this.newRowsSubcontractor=[{name:"Five * Working Capital",key:"fiveXWorkingCaptial"},{name:"25% of Annual Revenue",key:"oneFourthAnnualRevenue"},{name:"Tangible Net Worth",key:"tangibleNetWorth"},{name:"Net Cash %",key:"netCash"}],console.log(this.companyId)}ngAfterViewInit(){this.companyId>0&&this.gridLoad()}gridLoad(){this.financialstatementdataservice.getRecords(this.companyId).subscribe(e=>{var t,i,n,o,a,r,s,c,l,d,u,m,b,p,f,h,g,_,v,y,V,U,D,C,I,R,F,w,S,k,x,P,A,O,E,j,M,N,q,B,L,T,Y,G,Q,z,$,W,H,Z,K,J,X,ee,te,ie,ne,oe,ae,re,se,ce,le,de,ue,me,be,pe,fe,he,ge,_e,ve,ye,Ve,Ue,De,Ce,Ie,Re,Fe,we,Se;this.financialStatement=e,e.length>2&&(this.outputForm.patchValue({financialGrade:e[0].financialGrade,financialGrade1:e[1].financialGrade,financialGrade2:e[2].financialGrade,financialGrade3:e[3].financialGrade}),this.statementForm.patchValue({id:e[0].id,id1:e[1].id,id2:e[2].id,id3:e[3].id,companyId:this.companyId,yearStr:"last Year",isDataAvailable:!0,financialYearEndDate:new Date(e[0].financialYearEndDate).toISOString().slice(0,10),cashEquivalents:null!==(t=e[0].cashEquivalents)&&void 0!==t?t:"",accountsReceivableRetainage:null!==(i=e[0].accountsReceivableRetainage)&&void 0!==i?i:"",marketableSecurities:null!==(n=e[0].marketableSecurities)&&void 0!==n?n:"",underbillings:null!==(o=e[0].underbillings)&&void 0!==o?o:"",totalCurrentAssets:null!==(a=e[0].totalCurrentAssets)&&void 0!==a?a:"",intagibleAssets:null!==(r=e[0].intagibleAssets)&&void 0!==r?r:"",totalAssets:null!==(s=e[0].totalAssets)&&void 0!==s?s:"",accountsPayableRetainage:null!==(c=e[0].accountsPayableRetainage)&&void 0!==c?c:"",overbillings:null!==(l=e[0].overbillings)&&void 0!==l?l:"",totalCurrentLiabilities:null!==(d=e[0].totalCurrentLiabilities)&&void 0!==d?d:"",equity:null!==(u=e[0].equity)&&void 0!==u?u:"",revenue:null!==(m=e[0].revenue)&&void 0!==m?m:"",costOfGoodSold:null!==(b=e[0].costOfGoodSold)&&void 0!==b?b:"",netIncomeBeforeTaxes:null!==(p=e[0].netIncomeBeforeTaxes)&&void 0!==p?p:"",backlogLast:null!==(f=e[0].backlogLast)&&void 0!==f?f:"",lineofCredit:null!==(h=e[0].lineofCredit)&&void 0!==h?h:"",unusedLineofCredit:null!==(g=e[0].unusedLineofCredit)&&void 0!==g?g:"",dbPayIndex:null!==(_=e[0].dbPayIndex)&&void 0!==_?_:"",pppLoan:null!==(v=e[0].pppLoan)&&void 0!==v?v:"",lineofCreditPayable:null!==(y=e[0].lineofCreditPayable)&&void 0!==y?y:"",financialYearEndDate1:new Date(null!==(V=e[1].financialYearEndDate)&&void 0!==V?V:new Date).toISOString().slice(0,10),cashEquivalents1:null!==(U=e[1].cashEquivalents)&&void 0!==U?U:"",accountsReceivableRetainage1:null!==(D=e[1].accountsReceivableRetainage)&&void 0!==D?D:"",marketableSecurities1:null!==(C=e[1].marketableSecurities)&&void 0!==C?C:"",underbillings1:null!==(I=e[1].underbillings)&&void 0!==I?I:"",totalCurrentAssets1:null!==(R=e[1].totalCurrentAssets)&&void 0!==R?R:"",intagibleAssets1:null!==(F=e[1].intagibleAssets)&&void 0!==F?F:"",totalAssets1:null!==(w=e[1].totalAssets)&&void 0!==w?w:"",accountsPayableRetainage1:null!==(S=e[1].accountsPayableRetainage)&&void 0!==S?S:"",overbillings1:null!==(k=e[1].overbillings)&&void 0!==k?k:"",totalCurrentLiabilities1:null!==(x=e[1].totalCurrentLiabilities)&&void 0!==x?x:"",equity1:null!==(P=e[1].equity)&&void 0!==P?P:"",revenue1:null!==(A=e[1].revenue)&&void 0!==A?A:"",costOfGoodSold1:null!==(O=e[1].costOfGoodSold)&&void 0!==O?O:"",netIncomeBeforeTaxes1:null!==(E=e[1].netIncomeBeforeTaxes)&&void 0!==E?E:"",backlogLast1:null!==(j=e[1].backlogLast)&&void 0!==j?j:"",lineofCredit1:null!==(M=e[1].lineofCredit)&&void 0!==M?M:"",unusedLineofCredit1:null!==(N=e[1].unusedLineofCredit)&&void 0!==N?N:"",dbPayIndex1:null!==(q=e[1].dbPayIndex)&&void 0!==q?q:"",pppLoan1:null!==(B=e[1].pppLoan)&&void 0!==B?B:"",lineofCreditPayable1:null!==(L=e[1].lineofCreditPayable)&&void 0!==L?L:"",financialYearEndDate2:new Date(null!==(T=e[2].financialYearEndDate)&&void 0!==T?T:new Date).toISOString().slice(0,10),cashEquivalents2:null!==(Y=e[2].cashEquivalents)&&void 0!==Y?Y:"",accountsReceivableRetainage2:null!==(G=e[2].accountsReceivableRetainage)&&void 0!==G?G:"",marketableSecurities2:null!==(Q=e[2].marketableSecurities)&&void 0!==Q?Q:"",underbillings2:null!==(z=e[2].underbillings)&&void 0!==z?z:"",totalCurrentAssets2:null!==($=e[2].totalCurrentAssets)&&void 0!==$?$:"",intagibleAssets2:null!==(W=e[2].intagibleAssets)&&void 0!==W?W:"",totalAssets2:null!==(H=e[2].totalAssets)&&void 0!==H?H:"",accountsPayableRetainage2:null!==(Z=e[2].accountsPayableRetainage)&&void 0!==Z?Z:"",overbillings2:null!==(K=e[2].overbillings)&&void 0!==K?K:"",totalCurrentLiabilities2:null!==(J=e[2].totalCurrentLiabilities)&&void 0!==J?J:"",equity2:null!==(X=e[2].equity)&&void 0!==X?X:"",revenue2:null!==(ee=e[2].revenue)&&void 0!==ee?ee:"",costOfGoodSold2:null!==(te=e[2].costOfGoodSold)&&void 0!==te?te:"",netIncomeBeforeTaxes2:null!==(ie=e[2].netIncomeBeforeTaxes)&&void 0!==ie?ie:"",backlogLast2:null!==(ne=e[2].backlogLast)&&void 0!==ne?ne:"",lineofCredit2:null!==(oe=e[2].lineofCredit)&&void 0!==oe?oe:"",unusedLineofCredit2:null!==(ae=e[2].unusedLineofCredit)&&void 0!==ae?ae:"",dbPayIndex2:null!==(re=e[2].dbPayIndex)&&void 0!==re?re:"",pppLoan2:null!==(se=e[2].pppLoan)&&void 0!==se?se:"",lineofCreditPayable2:null!==(ce=e[2].lineofCreditPayable)&&void 0!==ce?ce:"",financialYearEndDate3:new Date(null!==(le=e[3].financialYearEndDate)&&void 0!==le?le:new Date).toISOString().slice(0,10),cashEquivalents3:null!==(de=e[3].cashEquivalents)&&void 0!==de?de:"",accountsReceivableRetainage3:null!==(ue=e[3].accountsReceivableRetainage)&&void 0!==ue?ue:"",marketableSecurities3:null!==(me=e[3].marketableSecurities)&&void 0!==me?me:"",underbillings3:null!==(be=e[3].underbillings)&&void 0!==be?be:"",totalCurrentAssets3:null!==(pe=e[3].totalCurrentAssets)&&void 0!==pe?pe:"",intagibleAssets3:null!==(fe=e[3].intagibleAssets)&&void 0!==fe?fe:"",totalAssets3:null!==(he=e[3].totalAssets)&&void 0!==he?he:"",accountsPayableRetainage3:null!==(ge=e[3].accountsPayableRetainage)&&void 0!==ge?ge:"",overbillings3:null!==(_e=e[3].overbillings)&&void 0!==_e?_e:"",totalCurrentLiabilities3:null!==(ve=e[3].totalCurrentLiabilities)&&void 0!==ve?ve:"",equity3:null!==(ye=e[3].equity)&&void 0!==ye?ye:"",revenue3:null!==(Ve=e[3].revenue)&&void 0!==Ve?Ve:"",costOfGoodSold3:null!==(Ue=e[3].costOfGoodSold)&&void 0!==Ue?Ue:"",netIncomeBeforeTaxes3:null!==(De=e[3].netIncomeBeforeTaxes)&&void 0!==De?De:"",backlogLast3:null!==(Ce=e[3].backlogLast)&&void 0!==Ce?Ce:"",lineofCredit3:null!==(Ie=e[3].lineofCredit)&&void 0!==Ie?Ie:"",unusedLineofCredit3:null!==(Re=e[3].unusedLineofCredit)&&void 0!==Re?Re:"",dbPayIndex3:null!==(Fe=e[3].dbPayIndex)&&void 0!==Fe?Fe:"",pppLoan3:null!==(we=e[3].pppLoan)&&void 0!==we?we:"",lineofCreditPayable3:null!==(Se=e[3].lineofCreditPayable)&&void 0!==Se?Se:""})),console.log("this.financialStatement.value.",this.financialStatement.value),"0001-01-01"==this.statementForm.value.financialYearEndDate3&&this.statementForm.patchValue({financialYearEndDate3:""}),"0001-01-01"==this.statementForm.value.financialYearEndDate2&&this.statementForm.patchValue({financialYearEndDate2:""}),"0001-01-01"==this.statementForm.value.financialYearEndDate1&&this.statementForm.patchValue({financialYearEndDate1:""}),"0001-01-01"==this.statementForm.value.financialYearEndDate&&this.statementForm.patchValue({financialYearEndDate:""})})}ngOnInit(){}saveInfo(){var e,t,i;if(this.statementForm.patchValue({companyId:this.companyId}),this.statementForm.valid){let n={id:this.statementForm.value.id,yearStr:"1",financialGrade:"1",isDataAvailable:!0,financialYearEndDate:this.statementForm.value.financialYearEndDate,cashEquivalents:this.statementForm.value.cashEquivalents,accountsReceivableRetainage:this.statementForm.value.accountsReceivableRetainage,marketableSecurities:this.statementForm.value.marketableSecurities,underbillings:this.statementForm.value.underbillings,totalCurrentAssets:this.statementForm.value.totalCurrentAssets,intagibleAssets:this.statementForm.value.intagibleAssets,totalAssets:this.statementForm.value.totalAssets,accountsPayableRetainage:this.statementForm.value.accountsPayableRetainage,overbillings:this.statementForm.value.overbillings,totalCurrentLiabilities:this.statementForm.value.totalCurrentLiabilities,equity:this.statementForm.value.equity,revenue:this.statementForm.value.revenue,costOfGoodSold:this.statementForm.value.costOfGoodSold,netIncomeBeforeTaxes:this.statementForm.value.netIncomeBeforeTaxes,backlogLast:this.statementForm.value.backlogLast,lineofCredit:this.statementForm.value.lineofCredit,unusedLineofCredit:this.statementForm.value.unusedLineofCredit,dbPayIndex:this.statementForm.value.dbPayIndex,pppLoan:this.statementForm.value.pppLoan,lineofCreditPayable:this.statementForm.value.lineofCreditPayable,taxId:this.taxId,vendorId:this.vendorId,companyId:this.companyId};const o=new Date,a="1/1/"+(o.getFullYear()-1),r="1/1/"+(o.getFullYear()-2),s="1/1/"+(o.getFullYear()-3);let c={id:this.statementForm.value.id1,yearStr:"2",financialGrade:"2",isDataAvailable:!0,financialYearEndDate:null!==(e=this.statementForm.value.financialYearEndDate1)&&void 0!==e?e:a,cashEquivalents:""==this.statementForm.value.cashEquivalents1?0:this.statementForm.value.cashEquivalents1,accountsReceivableRetainage:""==this.statementForm.value.accountsReceivableRetainage1?0:this.statementForm.value.accountsReceivableRetainage1,marketableSecurities:""==this.statementForm.value.marketableSecurities1?0:this.statementForm.value.marketableSecurities1,underbillings:""==this.statementForm.value.underbillings1?0:this.statementForm.value.underbillings1,totalCurrentAssets:""==this.statementForm.value.totalCurrentAssets1?0:this.statementForm.value.totalCurrentAssets1,intagibleAssets:""==this.statementForm.value.intagibleAssets1?0:this.statementForm.value.intagibleAssets1,totalAssets:""==this.statementForm.value.totalAssets1?0:this.statementForm.value.totalAssets1,accountsPayableRetainage:""==this.statementForm.value.accountsPayableRetainage1?0:this.statementForm.value.accountsPayableRetainage1,overbillings:""==this.statementForm.value.overbillings1?0:this.statementForm.value.overbillings1,totalCurrentLiabilities:""==this.statementForm.value.totalCurrentLiabilities1?0:this.statementForm.value.totalCurrentLiabilities1,equity:""==this.statementForm.value.equity1?0:this.statementForm.value.equity1,revenue:""==this.statementForm.value.revenue1?0:this.statementForm.value.revenue1,costOfGoodSold:""==this.statementForm.value.costOfGoodSold1?0:this.statementForm.value.costOfGoodSold1,netIncomeBeforeTaxes:""==this.statementForm.value.netIncomeBeforeTaxes1?0:this.statementForm.value.netIncomeBeforeTaxes1,backlogLast:""==this.statementForm.value.backlogLast1?0:this.statementForm.value.backlogLast1,lineofCredit:""==this.statementForm.value.lineofCredit1?0:this.statementForm.value.lineofCredit1,unusedLineofCredit:""==this.statementForm.value.unusedLineofCredit1?0:this.statementForm.value.unusedLineofCredit1,dbPayIndex:""==this.statementForm.value.dbPayIndex1?0:this.statementForm.value.dbPayIndex1,pppLoan:""==this.statementForm.value.pppLoan1?0:this.statementForm.value.pppLoan1,lineofCreditPayable:""==this.statementForm.value.lineofCreditPayable1?0:this.statementForm.value.lineofCreditPayable1,taxId:this.taxId,vendorId:this.vendorId,companyId:this.companyId},l={id:this.statementForm.value.id2,yearStr:"3",financialGrade:"",isDataAvailable:!0,financialYearEndDate:null!==(t=this.statementForm.value.financialYearEndDate2)&&void 0!==t?t:r,cashEquivalents:""==this.statementForm.value.cashEquivalents2?0:this.statementForm.value.cashEquivalents2,accountsReceivableRetainage:""==this.statementForm.value.accountsReceivableRetainage2?0:this.statementForm.value.accountsReceivableRetainage2,marketableSecurities:""==this.statementForm.value.marketableSecurities2?0:this.statementForm.value.marketableSecurities2,underbillings:""==this.statementForm.value.underbillings2?0:this.statementForm.value.underbillings2,totalCurrentAssets:""==this.statementForm.value.totalCurrentAssets2?0:this.statementForm.value.totalCurrentAssets2,intagibleAssets:""==this.statementForm.value.intagibleAssets2?0:this.statementForm.value.intagibleAssets2,totalAssets:""==this.statementForm.value.totalAssets2?0:this.statementForm.value.totalAssets2,accountsPayableRetainage:""==this.statementForm.value.accountsPayableRetainage2?0:this.statementForm.value.accountsPayableRetainage2,overbillings:""==this.statementForm.value.overbillings2?0:this.statementForm.value.overbillings2,totalCurrentLiabilities:""==this.statementForm.value.totalCurrentLiabilities2?0:this.statementForm.value.totalCurrentLiabilities2,equity:""==this.statementForm.value.equity2?0:this.statementForm.value.equity2,revenue:""==this.statementForm.value.revenue2?0:this.statementForm.value.revenue2,costOfGoodSold:""==this.statementForm.value.costOfGoodSold2?0:this.statementForm.value.costOfGoodSold2,netIncomeBeforeTaxes:""==this.statementForm.value.netIncomeBeforeTaxes2?0:this.statementForm.value.netIncomeBeforeTaxes2,backlogLast:""==this.statementForm.value.backlogLast2?0:this.statementForm.value.backlogLast2,lineofCredit:""==this.statementForm.value.lineofCredit2?0:this.statementForm.value.lineofCredit2,unusedLineofCredit:""==this.statementForm.value.unusedLineofCredit2?0:this.statementForm.value.unusedLineofCredit2,dbPayIndex:""==this.statementForm.value.dbPayIndex2?0:this.statementForm.value.dbPayIndex2,pppLoan:""==this.statementForm.value.pppLoan2?0:this.statementForm.value.pppLoan2,lineofCreditPayable:""==this.statementForm.value.lineofCreditPayable2?0:this.statementForm.value.lineofCreditPayable2,taxId:this.taxId,vendorId:this.vendorId,companyId:this.companyId},d={id:this.statementForm.value.id3,yearStr:"4",financialGrade:"",isDataAvailable:!0,financialYearEndDate:null!==(i=this.statementForm.value.financialYearEndDate3)&&void 0!==i?i:s,cashEquivalents:""==this.statementForm.value.cashEquivalents3?0:this.statementForm.value.cashEquivalents3,accountsReceivableRetainage:""==this.statementForm.value.accountsReceivableRetainage3?0:this.statementForm.value.accountsReceivableRetainage3,marketableSecurities:""==this.statementForm.value.marketableSecurities3?0:this.statementForm.value.marketableSecurities3,underbillings:""==this.statementForm.value.underbillings3?0:this.statementForm.value.underbillings3,totalCurrentAssets:""==this.statementForm.value.totalCurrentAssets3?0:this.statementForm.value.totalCurrentAssets3,intagibleAssets:""==this.statementForm.value.intagibleAssets3?0:this.statementForm.value.intagibleAssets3,totalAssets:""==this.statementForm.value.totalAssets3?0:this.statementForm.value.totalAssets3,accountsPayableRetainage:""==this.statementForm.value.accountsPayableRetainage3?0:this.statementForm.value.accountsPayableRetainage3,overbillings:""==this.statementForm.value.overbillings3?0:this.statementForm.value.overbillings3,totalCurrentLiabilities:""==this.statementForm.value.totalCurrentLiabilities3?0:this.statementForm.value.totalCurrentLiabilities3,equity:""==this.statementForm.value.equity3?0:this.statementForm.value.equity3,revenue:""==this.statementForm.value.revenue3?0:this.statementForm.value.revenue3,costOfGoodSold:""==this.statementForm.value.costOfGoodSold3?0:this.statementForm.value.costOfGoodSold3,netIncomeBeforeTaxes:""==this.statementForm.value.netIncomeBeforeTaxes3?0:this.statementForm.value.netIncomeBeforeTaxes3,backlogLast:""==this.statementForm.value.backlogLast3?0:this.statementForm.value.backlogLast3,lineofCredit:""==this.statementForm.value.lineofCredit3?0:this.statementForm.value.lineofCredit3,unusedLineofCredit:""==this.statementForm.value.unusedLineofCredit3?0:this.statementForm.value.unusedLineofCredit3,dbPayIndex:""==this.statementForm.value.dbPayIndex3?0:this.statementForm.value.dbPayIndex3,pppLoan:""==this.statementForm.value.pppLoan3?0:this.statementForm.value.pppLoan3,lineofCreditPayable:""==this.statementForm.value.lineofCreditPayable3?0:this.statementForm.value.lineofCreditPayable3,taxId:this.taxId,vendorId:this.vendorId,companyId:this.companyId};this.financialstatementdataservice.addRecords(n,c,l,d).subscribe(e=>{console.log(e)})}else this.toastr.success("Please fill the required field","Financial Comment")}calculate(){if(this.statementForm.patchValue({companyId:this.companyId}),this.statementForm.valid){let e={id:this.statementForm.value.id,yearStr:"1",financialGrade:"1",isDataAvailable:!0,financialYearEndDate:this.statementForm.value.financialYearEndDate,cashEquivalents:this.statementForm.value.cashEquivalents,accountsReceivableRetainage:this.statementForm.value.accountsReceivableRetainage,marketableSecurities:this.statementForm.value.marketableSecurities,underbillings:this.statementForm.value.underbillings,totalCurrentAssets:this.statementForm.value.totalCurrentAssets,intagibleAssets:this.statementForm.value.intagibleAssets,totalAssets:this.statementForm.value.totalAssets,accountsPayableRetainage:this.statementForm.value.accountsPayableRetainage,overbillings:this.statementForm.value.overbillings,totalCurrentLiabilities:this.statementForm.value.totalCurrentLiabilities,equity:this.statementForm.value.equity,revenue:this.statementForm.value.revenue,costOfGoodSold:this.statementForm.value.costOfGoodSold,netIncomeBeforeTaxes:this.statementForm.value.netIncomeBeforeTaxes,backlogLast:this.statementForm.value.backlogLast,lineofCredit:this.statementForm.value.lineofCredit,unusedLineofCredit:this.statementForm.value.unusedLineofCredit,dbPayIndex:this.statementForm.value.dbPayIndex,pppLoan:this.statementForm.value.pppLoan,lineofCreditPayable:this.statementForm.value.lineofCreditPayable,taxId:this.taxId,vendorId:this.vendorId,companyId:this.companyId};const t=new Date;t.getFullYear(),t.getFullYear(),t.getFullYear(),this.financialstatementdataservice.addRecords(e,{id:this.statementForm.value.id1,yearStr:"2",financialGrade:"2",isDataAvailable:!0,financialYearEndDate:this.statementForm.value.financialYearEndDate1,cashEquivalents:""==this.statementForm.value.cashEquivalents1?0:this.statementForm.value.cashEquivalents1,accountsReceivableRetainage:""==this.statementForm.value.accountsReceivableRetainage1?0:this.statementForm.value.accountsReceivableRetainage1,marketableSecurities:""==this.statementForm.value.marketableSecurities1?0:this.statementForm.value.marketableSecurities1,underbillings:""==this.statementForm.value.underbillings1?0:this.statementForm.value.underbillings1,totalCurrentAssets:""==this.statementForm.value.totalCurrentAssets1?0:this.statementForm.value.totalCurrentAssets1,intagibleAssets:""==this.statementForm.value.intagibleAssets1?0:this.statementForm.value.intagibleAssets1,totalAssets:""==this.statementForm.value.totalAssets1?0:this.statementForm.value.totalAssets1,accountsPayableRetainage:""==this.statementForm.value.accountsPayableRetainage1?0:this.statementForm.value.accountsPayableRetainage1,overbillings:""==this.statementForm.value.overbillings1?0:this.statementForm.value.overbillings1,totalCurrentLiabilities:""==this.statementForm.value.totalCurrentLiabilities1?0:this.statementForm.value.totalCurrentLiabilities1,equity:""==this.statementForm.value.equity1?0:this.statementForm.value.equity1,revenue:""==this.statementForm.value.revenue1?0:this.statementForm.value.revenue1,costOfGoodSold:""==this.statementForm.value.costOfGoodSold1?0:this.statementForm.value.costOfGoodSold1,netIncomeBeforeTaxes:""==this.statementForm.value.netIncomeBeforeTaxes1?0:this.statementForm.value.netIncomeBeforeTaxes1,backlogLast:""==this.statementForm.value.backlogLast1?0:this.statementForm.value.backlogLast1,lineofCredit:""==this.statementForm.value.lineofCredit1?0:this.statementForm.value.lineofCredit1,unusedLineofCredit:""==this.statementForm.value.unusedLineofCredit1?0:this.statementForm.value.unusedLineofCredit1,dbPayIndex:""==this.statementForm.value.dbPayIndex1?0:this.statementForm.value.dbPayIndex1,pppLoan:""==this.statementForm.value.pppLoan1?0:this.statementForm.value.pppLoan1,lineofCreditPayable:""==this.statementForm.value.lineofCreditPayable1?0:this.statementForm.value.lineofCreditPayable1,taxId:this.taxId,vendorId:this.vendorId,companyId:this.companyId},{id:this.statementForm.value.id2,yearStr:"3",financialGrade:"",isDataAvailable:!0,financialYearEndDate:this.statementForm.value.financialYearEndDate2,cashEquivalents:""==this.statementForm.value.cashEquivalents2?0:this.statementForm.value.cashEquivalents2,accountsReceivableRetainage:""==this.statementForm.value.accountsReceivableRetainage2?0:this.statementForm.value.accountsReceivableRetainage2,marketableSecurities:""==this.statementForm.value.marketableSecurities2?0:this.statementForm.value.marketableSecurities2,underbillings:""==this.statementForm.value.underbillings2?0:this.statementForm.value.underbillings2,totalCurrentAssets:""==this.statementForm.value.totalCurrentAssets2?0:this.statementForm.value.totalCurrentAssets2,intagibleAssets:""==this.statementForm.value.intagibleAssets2?0:this.statementForm.value.intagibleAssets2,totalAssets:""==this.statementForm.value.totalAssets2?0:this.statementForm.value.totalAssets2,accountsPayableRetainage:""==this.statementForm.value.accountsPayableRetainage2?0:this.statementForm.value.accountsPayableRetainage2,overbillings:""==this.statementForm.value.overbillings2?0:this.statementForm.value.overbillings2,totalCurrentLiabilities:""==this.statementForm.value.totalCurrentLiabilities2?0:this.statementForm.value.totalCurrentLiabilities2,equity:""==this.statementForm.value.equity2?0:this.statementForm.value.equity2,revenue:""==this.statementForm.value.revenue2?0:this.statementForm.value.revenue2,costOfGoodSold:""==this.statementForm.value.costOfGoodSold2?0:this.statementForm.value.costOfGoodSold2,netIncomeBeforeTaxes:""==this.statementForm.value.netIncomeBeforeTaxes2?0:this.statementForm.value.netIncomeBeforeTaxes2,backlogLast:""==this.statementForm.value.backlogLast2?0:this.statementForm.value.backlogLast2,lineofCredit:""==this.statementForm.value.lineofCredit2?0:this.statementForm.value.lineofCredit2,unusedLineofCredit:""==this.statementForm.value.unusedLineofCredit2?0:this.statementForm.value.unusedLineofCredit2,dbPayIndex:""==this.statementForm.value.dbPayIndex2?0:this.statementForm.value.dbPayIndex2,pppLoan:""==this.statementForm.value.pppLoan2?0:this.statementForm.value.pppLoan2,lineofCreditPayable:""==this.statementForm.value.lineofCreditPayable2?0:this.statementForm.value.lineofCreditPayable2,taxId:this.taxId,vendorId:this.vendorId,companyId:this.companyId},{id:this.statementForm.value.id3,yearStr:"4",financialGrade:"",isDataAvailable:!0,financialYearEndDate:this.statementForm.value.financialYearEndDate3,cashEquivalents:""==this.statementForm.value.cashEquivalents3?0:this.statementForm.value.cashEquivalents3,accountsReceivableRetainage:""==this.statementForm.value.accountsReceivableRetainage3?0:this.statementForm.value.accountsReceivableRetainage3,marketableSecurities:""==this.statementForm.value.marketableSecurities3?0:this.statementForm.value.marketableSecurities3,underbillings:""==this.statementForm.value.underbillings3?0:this.statementForm.value.underbillings3,totalCurrentAssets:""==this.statementForm.value.totalCurrentAssets3?0:this.statementForm.value.totalCurrentAssets3,intagibleAssets:""==this.statementForm.value.intagibleAssets3?0:this.statementForm.value.intagibleAssets3,totalAssets:""==this.statementForm.value.totalAssets3?0:this.statementForm.value.totalAssets3,accountsPayableRetainage:""==this.statementForm.value.accountsPayableRetainage3?0:this.statementForm.value.accountsPayableRetainage3,overbillings:""==this.statementForm.value.overbillings3?0:this.statementForm.value.overbillings3,totalCurrentLiabilities:""==this.statementForm.value.totalCurrentLiabilities3?0:this.statementForm.value.totalCurrentLiabilities3,equity:""==this.statementForm.value.equity3?0:this.statementForm.value.equity3,revenue:""==this.statementForm.value.revenue3?0:this.statementForm.value.revenue3,costOfGoodSold:""==this.statementForm.value.costOfGoodSold3?0:this.statementForm.value.costOfGoodSold3,netIncomeBeforeTaxes:""==this.statementForm.value.netIncomeBeforeTaxes3?0:this.statementForm.value.netIncomeBeforeTaxes3,backlogLast:""==this.statementForm.value.backlogLast3?0:this.statementForm.value.backlogLast3,lineofCredit:""==this.statementForm.value.lineofCredit3?0:this.statementForm.value.lineofCredit3,unusedLineofCredit:""==this.statementForm.value.unusedLineofCredit3?0:this.statementForm.value.unusedLineofCredit3,dbPayIndex:""==this.statementForm.value.dbPayIndex3?0:this.statementForm.value.dbPayIndex3,pppLoan:""==this.statementForm.value.pppLoan3?0:this.statementForm.value.pppLoan3,lineofCreditPayable:""==this.statementForm.value.lineofCreditPayable3?0:this.statementForm.value.lineofCreditPayable3,taxId:this.taxId,vendorId:this.vendorId,companyId:this.companyId}).subscribe(e=>{this.financialstatementdataservice.addCalculate({type:"financial",taxId:this.taxId,vendorId:this.vendorId,FinanceDate:this.statementForm.value.financialYearEndDate},{type:"financial",taxId:this.taxId,vendorId:this.vendorId,FinanceDate:this.statementForm.value.financialYearEndDate1},{type:"financial",taxId:this.taxId,vendorId:this.vendorId,FinanceDate:this.statementForm.value.financialYearEndDate2},{type:"financial",taxId:this.taxId,vendorId:this.vendorId,FinanceDate:this.statementForm.value.financialYearEndDate3}).subscribe(e=>{this.gridLoad()})})}else this.toastr.success("Please fill the required field","Financial Comment")}letterOnly(e){var t=e.keyCode;return t>64&&t<91||t>96&&t<123||8==t}saveOther1(e){this.statementForm.valid&&this.dialog.open(wi,{width:"350px",data:"Are you sure you want to submit Finance?"}).afterClosed().subscribe(e=>{"Yes"==e&&this.saveOther("Final")})}saveOther(e){this.statementForm.patchValue({companyId:this.companyId});let t={id:this.statementForm.value.id,financialYearEndDate:this.statementForm.value.financialYearEndDate,taxId:this.taxId,vendorId:this.vendorId,companyId:this.companyId,financialGrade:this.outputForm.value.financialGrade,cashEquivalents:this.statementForm.value.cashEquivalents,accountsReceivableRetainage:this.statementForm.value.accountsReceivableRetainage,marketableSecurities:this.statementForm.value.marketableSecurities,underbillings:this.statementForm.value.underbillings,totalCurrentAssets:this.statementForm.value.totalCurrentAssets,intagibleAssets:this.statementForm.value.intagibleAssets,totalAssets:this.statementForm.value.totalAssets,accountsPayableRetainage:this.statementForm.value.accountsPayableRetainage,overbillings:this.statementForm.value.overbillings,totalCurrentLiabilities:this.statementForm.value.totalCurrentLiabilities,equity:this.statementForm.value.equity,revenue:this.statementForm.value.revenue,costOfGoodSold:this.statementForm.value.costOfGoodSold,netIncomeBeforeTaxes:this.statementForm.value.netIncomeBeforeTaxes,backlogLast:this.statementForm.value.backlogLast,lineofCredit:this.statementForm.value.lineofCredit,unusedLineofCredit:this.statementForm.value.unusedLineofCredit,dbPayIndex:this.statementForm.value.dbPayIndex,pppLoan:this.statementForm.value.pppLoan,lineofCreditPayable:this.statementForm.value.lineofCreditPayable};const i=new Date;i.getFullYear(),i.getFullYear(),i.getFullYear(),this.financialstatementdataservice.addRecords(t,{id:this.statementForm.value.id1,financialYearEndDate:this.statementForm.value.financialYearEndDate1,taxId:this.taxId,vendorId:this.vendorId,companyId:this.companyId,financialGrade:this.outputForm.value.financialGrade1,cashEquivalents:""==this.statementForm.value.cashEquivalents1?0:this.statementForm.value.cashEquivalents1,accountsReceivableRetainage:""==this.statementForm.value.accountsReceivableRetainage1?0:this.statementForm.value.accountsReceivableRetainage1,marketableSecurities:""==this.statementForm.value.marketableSecurities1?0:this.statementForm.value.marketableSecurities1,underbillings:""==this.statementForm.value.underbillings1?0:this.statementForm.value.underbillings1,totalCurrentAssets:""==this.statementForm.value.totalCurrentAssets1?0:this.statementForm.value.totalCurrentAssets1,intagibleAssets:""==this.statementForm.value.intagibleAssets1?0:this.statementForm.value.intagibleAssets1,totalAssets:""==this.statementForm.value.totalAssets1?0:this.statementForm.value.totalAssets1,accountsPayableRetainage:""==this.statementForm.value.accountsPayableRetainage1?0:this.statementForm.value.accountsPayableRetainage1,overbillings:""==this.statementForm.value.overbillings1?0:this.statementForm.value.overbillings1,totalCurrentLiabilities:""==this.statementForm.value.totalCurrentLiabilities1?0:this.statementForm.value.totalCurrentLiabilities1,equity:""==this.statementForm.value.equity1?0:this.statementForm.value.equity1,revenue:""==this.statementForm.value.revenue1?0:this.statementForm.value.revenue1,costOfGoodSold:""==this.statementForm.value.costOfGoodSold1?0:this.statementForm.value.costOfGoodSold1,netIncomeBeforeTaxes:""==this.statementForm.value.netIncomeBeforeTaxes1?0:this.statementForm.value.netIncomeBeforeTaxes1,backlogLast:""==this.statementForm.value.backlogLast1?0:this.statementForm.value.backlogLast1,lineofCredit:""==this.statementForm.value.lineofCredit1?0:this.statementForm.value.lineofCredit1,unusedLineofCredit:""==this.statementForm.value.unusedLineofCredit1?0:this.statementForm.value.unusedLineofCredit1,dbPayIndex:""==this.statementForm.value.dbPayIndex1?0:this.statementForm.value.dbPayIndex1,pppLoan:""==this.statementForm.value.pppLoan1?0:this.statementForm.value.pppLoan1,lineofCreditPayable:""==this.statementForm.value.lineofCreditPayable1?0:this.statementForm.value.lineofCreditPayable1},{id:this.statementForm.value.id2,financialYearEndDate:this.statementForm.value.financialYearEndDate2,taxId:this.taxId,vendorId:this.vendorId,companyId:this.companyId,financialGrade:this.outputForm.value.financialGrade2,cashEquivalents:""==this.statementForm.value.cashEquivalents2?0:this.statementForm.value.cashEquivalents2,accountsReceivableRetainage:""==this.statementForm.value.accountsReceivableRetainage2?0:this.statementForm.value.accountsReceivableRetainage2,marketableSecurities:""==this.statementForm.value.marketableSecurities2?0:this.statementForm.value.marketableSecurities2,underbillings:""==this.statementForm.value.underbillings2?0:this.statementForm.value.underbillings2,totalCurrentAssets:""==this.statementForm.value.totalCurrentAssets2?0:this.statementForm.value.totalCurrentAssets2,intagibleAssets:""==this.statementForm.value.intagibleAssets2?0:this.statementForm.value.intagibleAssets2,totalAssets:""==this.statementForm.value.totalAssets2?0:this.statementForm.value.totalAssets2,accountsPayableRetainage:""==this.statementForm.value.accountsPayableRetainage2?0:this.statementForm.value.accountsPayableRetainage2,overbillings:""==this.statementForm.value.overbillings2?0:this.statementForm.value.overbillings2,totalCurrentLiabilities:""==this.statementForm.value.totalCurrentLiabilities2?0:this.statementForm.value.totalCurrentLiabilities2,equity:""==this.statementForm.value.equity2?0:this.statementForm.value.equity2,revenue:""==this.statementForm.value.revenue2?0:this.statementForm.value.revenue2,costOfGoodSold:""==this.statementForm.value.costOfGoodSold2?0:this.statementForm.value.costOfGoodSold2,netIncomeBeforeTaxes:""==this.statementForm.value.netIncomeBeforeTaxes2?0:this.statementForm.value.netIncomeBeforeTaxes2,backlogLast:""==this.statementForm.value.backlogLast2?0:this.statementForm.value.backlogLast2,lineofCredit:""==this.statementForm.value.lineofCredit2?0:this.statementForm.value.lineofCredit2,unusedLineofCredit:""==this.statementForm.value.unusedLineofCredit2?0:this.statementForm.value.unusedLineofCredit2,dbPayIndex:""==this.statementForm.value.dbPayIndex2?0:this.statementForm.value.dbPayIndex2,pppLoan:""==this.statementForm.value.pppLoan2?0:this.statementForm.value.pppLoan2,lineofCreditPayable:""==this.statementForm.value.lineofCreditPayable2?0:this.statementForm.value.lineofCreditPayable2},{id:this.statementForm.value.id3,financialYearEndDate:this.statementForm.value.financialYearEndDate3,taxId:this.taxId,vendorId:this.vendorId,companyId:this.companyId,financialGrade:this.outputForm.value.financialGrade3,cashEquivalents:""==this.statementForm.value.cashEquivalents3?0:this.statementForm.value.cashEquivalents3,accountsReceivableRetainage:""==this.statementForm.value.accountsReceivableRetainage3?0:this.statementForm.value.accountsReceivableRetainage3,marketableSecurities:""==this.statementForm.value.marketableSecurities3?0:this.statementForm.value.marketableSecurities3,underbillings:""==this.statementForm.value.underbillings3?0:this.statementForm.value.underbillings3,totalCurrentAssets:""==this.statementForm.value.totalCurrentAssets3?0:this.statementForm.value.totalCurrentAssets3,intagibleAssets:""==this.statementForm.value.intagibleAssets3?0:this.statementForm.value.intagibleAssets3,totalAssets:""==this.statementForm.value.totalAssets3?0:this.statementForm.value.totalAssets3,accountsPayableRetainage:""==this.statementForm.value.accountsPayableRetainage3?0:this.statementForm.value.accountsPayableRetainage3,overbillings:""==this.statementForm.value.overbillings3?0:this.statementForm.value.overbillings3,totalCurrentLiabilities:""==this.statementForm.value.totalCurrentLiabilities3?0:this.statementForm.value.totalCurrentLiabilities3,equity:""==this.statementForm.value.equity3?0:this.statementForm.value.equity3,revenue:""==this.statementForm.value.revenue3?0:this.statementForm.value.revenue3,costOfGoodSold:""==this.statementForm.value.costOfGoodSold3?0:this.statementForm.value.costOfGoodSold3,netIncomeBeforeTaxes:""==this.statementForm.value.netIncomeBeforeTaxes3?0:this.statementForm.value.netIncomeBeforeTaxes3,backlogLast:""==this.statementForm.value.backlogLast3?0:this.statementForm.value.backlogLast3,lineofCredit:""==this.statementForm.value.lineofCredit3?0:this.statementForm.value.lineofCredit3,unusedLineofCredit:""==this.statementForm.value.unusedLineofCredit3?0:this.statementForm.value.unusedLineofCredit3,dbPayIndex:""==this.statementForm.value.dbPayIndex3?0:this.statementForm.value.dbPayIndex3,pppLoan:""==this.statementForm.value.pppLoan3?0:this.statementForm.value.pppLoan3,lineofCreditPayable:""==this.statementForm.value.lineofCreditPayable3?0:this.statementForm.value.lineofCreditPayable3}).subscribe(t=>{if(console.log("data",t),"Final"==e){let e=new FormData;e.append("PreQualification_Status","Financial Reviewed"),e.append("Approved_Date",(new Date).toLocaleString()),this.financialservice.updateOrgRecord(e,this.companyId).subscribe(e=>{})}})}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(o.d),c.Pb(h.b),c.Pb(Si),c.Pb(Ri),c.Pb(g.b))},e.\u0275cmp=c.Jb({type:e,selectors:[["app-financial-statement"]],inputs:{companyId:"companyId",taxId:"taxId",vendorId:"vendorId"},decls:313,vars:10,consts:[[1,"section"],[2,"width","100%","text-align-last","center"],[1,"comment-section"],[1,"form",3,"formGroup","keydown.enter"],[1,"table"],["colspan","5",1,"headeryellow"],[1,"td"],["class","td",4,"ngFor","ngForOf"],["formControlName","financialYearEndDate","type","date",1,"form-control"],["formControlName","financialYearEndDate1","type","date",1,"form-control"],["formControlName","financialYearEndDate2","type","date",1,"form-control"],["formControlName","financialYearEndDate3","type","date",1,"form-control"],["formControlName","cashEquivalents"],["formControlName","cashEquivalents1"],["formControlName","cashEquivalents2"],["formControlName","cashEquivalents3"],["formControlName","accountsReceivableRetainage"],["formControlName","accountsReceivableRetainage1"],["formControlName","accountsReceivableRetainage2"],["formControlName","accountsReceivableRetainage3"],["formControlName","marketableSecurities"],["formControlName","marketableSecurities1"],["formControlName","marketableSecurities2"],["formControlName","marketableSecurities3"],["formControlName","underbillings"],["formControlName","underbillings1"],["formControlName","underbillings2"],["formControlName","underbillings3"],["formControlName","totalCurrentAssets"],["formControlName","totalCurrentAssets1"],["formControlName","totalCurrentAssets2"],["formControlName","totalCurrentAssets3"],["formControlName","intagibleAssets"],["formControlName","intagibleAssets1"],["formControlName","intagibleAssets2"],["formControlName","intagibleAssets3"],["formControlName","totalAssets"],["formControlName","totalAssets1"],["formControlName","totalAssets2"],["formControlName","totalAssets3"],["formControlName","accountsPayableRetainage"],["formControlName","accountsPayableRetainage1"],["formControlName","accountsPayableRetainage2"],["formControlName","accountsPayableRetainage3"],["formControlName","overbillings"],["formControlName","overbillings1"],["formControlName","overbillings2"],["formControlName","overbillings3"],["formControlName","totalCurrentLiabilities"],["formControlName","totalCurrentLiabilities1"],["formControlName","totalCurrentLiabilities2"],["formControlName","totalCurrentLiabilities3"],["formControlName","equity"],["formControlName","equity1"],["formControlName","equity2"],["formControlName","equity3"],["formControlName","revenue"],["formControlName","revenue1"],["formControlName","revenue2"],["formControlName","revenue3"],["formControlName","costOfGoodSold"],["formControlName","costOfGoodSold1"],["formControlName","costOfGoodSold2"],["formControlName","costOfGoodSold3"],["formControlName","netIncomeBeforeTaxes"],["formControlName","netIncomeBeforeTaxes1"],["formControlName","netIncomeBeforeTaxes2"],["formControlName","netIncomeBeforeTaxes3"],["formControlName","backlogLast"],["formControlName","backlogLast1"],["formControlName","backlogLast2"],["formControlName","backlogLast3"],["formControlName","lineofCredit"],["formControlName","lineofCredit1"],["formControlName","lineofCredit2"],["formControlName","lineofCredit3"],["formControlName","unusedLineofCredit"],["formControlName","unusedLineofCredit1"],["formControlName","unusedLineofCredit2"],["formControlName","unusedLineofCredit3"],["formControlName","lineofCreditPayable"],["formControlName","lineofCreditPayable1"],["formControlName","lineofCreditPayable2"],["formControlName","lineofCreditPayable3"],["formControlName","dbPayIndex"],["formControlName","dbPayIndex1"],["formControlName","dbPayIndex2"],["formControlName","dbPayIndex3"],["formControlName","pppLoan"],["formControlName","pppLoan1"],["formControlName","pppLoan2"],["formControlName","pppLoan3"],[1,"row"],[1,"text-left","col-md-6"],[1,"btn","default-btn",3,"click"],[1,"col-md-6","text-end"],[4,"ngFor","ngForOf"],["colspan","5",1,"headergreen"],["formControlName","financialGrade","maxlength","1",1,"form-control",2,"text-transform","uppercase",3,"keypress"],["formControlName","financialGrade1","maxlength","1",1,"form-control",2,"text-transform","uppercase",3,"keypress"],["formControlName","financialGrade2","maxlength","1",1,"form-control",2,"text-transform","uppercase",3,"keypress"],["formControlName","financialGrade3","maxlength","1",1,"form-control",2,"text-transform","uppercase",3,"keypress"],[1,"text-left","col-md-4"],[1,"btn","default-btn"],[1,"col-md-4","text-end"],[4,"ngIf","ngIfElse"],["loggedOut",""]],template:function(e,t){1&e&&(c.Vb(0,"div",0),c.Vb(1,"div",1),c.Vb(2,"span"),c.Dc(3,"Financial Statements \u2013 Risk enters info from subcontractor financial documents"),c.Ub(),c.Ub(),c.Vb(4,"div",2),c.Vb(5,"form",3),c.cc("keydown.enter",function(e){return e.preventDefault()}),c.Vb(6,"table",4),c.Vb(7,"tr"),c.Vb(8,"th",5),c.Dc(9," Balance Sheet"),c.Ub(),c.Ub(),c.Vb(10,"tr"),c.Qb(11,"td",6),c.Bc(12,Ai,2,1,"td",7),c.Ub(),c.Vb(13,"tr"),c.Vb(14,"td"),c.Dc(15,"Financial year end date"),c.Ub(),c.Vb(16,"td"),c.Qb(17,"input",8),c.Ub(),c.Vb(18,"td"),c.Qb(19,"input",9),c.Ub(),c.Vb(20,"td"),c.Qb(21,"input",10),c.Ub(),c.Vb(22,"td"),c.Qb(23,"input",11),c.Ub(),c.Ub(),c.Vb(24,"tr"),c.Vb(25,"td"),c.Dc(26,"Cash / Cash Equivalents"),c.Ub(),c.Vb(27,"td"),c.Qb(28,"app-financial-input",12),c.Ub(),c.Vb(29,"td"),c.Qb(30,"app-financial-input",13),c.Ub(),c.Vb(31,"td"),c.Qb(32,"app-financial-input",14),c.Ub(),c.Vb(33,"td"),c.Qb(34,"app-financial-input",15),c.Ub(),c.Ub(),c.Vb(35,"tr"),c.Vb(36,"td"),c.Dc(37,"Accounts Receivables & Retainage"),c.Ub(),c.Vb(38,"td"),c.Qb(39,"app-financial-input",16),c.Ub(),c.Vb(40,"td"),c.Qb(41,"app-financial-input",17),c.Ub(),c.Vb(42,"td"),c.Qb(43,"app-financial-input",18),c.Ub(),c.Vb(44,"td"),c.Qb(45,"app-financial-input",19),c.Ub(),c.Ub(),c.Vb(46,"tr"),c.Vb(47,"td"),c.Dc(48,"Marketable Securities"),c.Ub(),c.Vb(49,"td"),c.Qb(50,"app-financial-input",20),c.Ub(),c.Vb(51,"td"),c.Qb(52,"app-financial-input",21),c.Ub(),c.Vb(53,"td"),c.Qb(54,"app-financial-input",22),c.Ub(),c.Vb(55,"td"),c.Qb(56,"app-financial-input",23),c.Ub(),c.Ub(),c.Vb(57,"tr"),c.Vb(58,"td"),c.Dc(59,"Under billings"),c.Ub(),c.Vb(60,"td"),c.Qb(61,"app-financial-input",24),c.Ub(),c.Vb(62,"td"),c.Qb(63,"app-financial-input",25),c.Ub(),c.Vb(64,"td"),c.Qb(65,"app-financial-input",26),c.Ub(),c.Vb(66,"td"),c.Qb(67,"app-financial-input",27),c.Ub(),c.Ub(),c.Vb(68,"tr"),c.Vb(69,"td"),c.Dc(70,"Total Current Assets"),c.Ub(),c.Vb(71,"td"),c.Qb(72,"app-financial-input",28),c.Ub(),c.Vb(73,"td"),c.Qb(74,"app-financial-input",29),c.Ub(),c.Vb(75,"td"),c.Qb(76,"app-financial-input",30),c.Ub(),c.Vb(77,"td"),c.Qb(78,"app-financial-input",31),c.Ub(),c.Ub(),c.Vb(79,"tr"),c.Vb(80,"td"),c.Dc(81,"Goodwill / Patents Intangible Assets"),c.Ub(),c.Vb(82,"td"),c.Qb(83,"app-financial-input",32),c.Ub(),c.Vb(84,"td"),c.Qb(85,"app-financial-input",33),c.Ub(),c.Vb(86,"td"),c.Qb(87,"app-financial-input",34),c.Ub(),c.Vb(88,"td"),c.Qb(89,"app-financial-input",35),c.Ub(),c.Ub(),c.Vb(90,"tr"),c.Vb(91,"td"),c.Dc(92,"Total Assets"),c.Ub(),c.Vb(93,"td"),c.Qb(94,"app-financial-input",36),c.Ub(),c.Vb(95,"td"),c.Qb(96,"app-financial-input",37),c.Ub(),c.Vb(97,"td"),c.Qb(98,"app-financial-input",38),c.Ub(),c.Vb(99,"td"),c.Qb(100,"app-financial-input",39),c.Ub(),c.Ub(),c.Vb(101,"tr"),c.Vb(102,"td"),c.Dc(103,"Accounts Payables & Retainage"),c.Ub(),c.Vb(104,"td"),c.Qb(105,"app-financial-input",40),c.Ub(),c.Vb(106,"td"),c.Qb(107,"app-financial-input",41),c.Ub(),c.Vb(108,"td"),c.Qb(109,"app-financial-input",42),c.Ub(),c.Vb(110,"td"),c.Qb(111,"app-financial-input",43),c.Ub(),c.Ub(),c.Vb(112,"tr"),c.Vb(113,"td"),c.Dc(114,"Overbillings"),c.Ub(),c.Vb(115,"td"),c.Qb(116,"app-financial-input",44),c.Ub(),c.Vb(117,"td"),c.Qb(118,"app-financial-input",45),c.Ub(),c.Vb(119,"td"),c.Qb(120,"app-financial-input",46),c.Ub(),c.Vb(121,"td"),c.Qb(122,"app-financial-input",47),c.Ub(),c.Ub(),c.Vb(123,"tr"),c.Vb(124,"td"),c.Dc(125,"Total Current Liabilities"),c.Ub(),c.Vb(126,"td"),c.Qb(127,"app-financial-input",48),c.Ub(),c.Vb(128,"td"),c.Qb(129,"app-financial-input",49),c.Ub(),c.Vb(130,"td"),c.Qb(131,"app-financial-input",50),c.Ub(),c.Vb(132,"td"),c.Qb(133,"app-financial-input",51),c.Ub(),c.Ub(),c.Vb(134,"tr"),c.Vb(135,"td"),c.Dc(136,"Equity"),c.Ub(),c.Vb(137,"td"),c.Qb(138,"app-financial-input",52),c.Ub(),c.Vb(139,"td"),c.Qb(140,"app-financial-input",53),c.Ub(),c.Vb(141,"td"),c.Qb(142,"app-financial-input",54),c.Ub(),c.Vb(143,"td"),c.Qb(144,"app-financial-input",55),c.Ub(),c.Ub(),c.Vb(145,"tr"),c.Vb(146,"th",5),c.Dc(147," Income Statement"),c.Ub(),c.Ub(),c.Vb(148,"tr"),c.Vb(149,"td"),c.Dc(150,"Revenue"),c.Ub(),c.Vb(151,"td"),c.Qb(152,"app-financial-input",56),c.Ub(),c.Vb(153,"td"),c.Qb(154,"app-financial-input",57),c.Ub(),c.Vb(155,"td"),c.Qb(156,"app-financial-input",58),c.Ub(),c.Vb(157,"td"),c.Qb(158,"app-financial-input",59),c.Ub(),c.Ub(),c.Vb(159,"tr"),c.Vb(160,"td"),c.Dc(161,"Cost of Goods sold/Construction"),c.Ub(),c.Vb(162,"td"),c.Qb(163,"app-financial-input",60),c.Ub(),c.Vb(164,"td"),c.Qb(165,"app-financial-input",61),c.Ub(),c.Vb(166,"td"),c.Qb(167,"app-financial-input",62),c.Ub(),c.Vb(168,"td"),c.Qb(169,"app-financial-input",63),c.Ub(),c.Ub(),c.Vb(170,"tr"),c.Vb(171,"td"),c.Dc(172,"Net Income before taxes"),c.Ub(),c.Vb(173,"td"),c.Qb(174,"app-financial-input",64),c.Ub(),c.Vb(175,"td"),c.Qb(176,"app-financial-input",65),c.Ub(),c.Vb(177,"td"),c.Qb(178,"app-financial-input",66),c.Ub(),c.Vb(179,"td"),c.Qb(180,"app-financial-input",67),c.Ub(),c.Ub(),c.Vb(181,"tr"),c.Vb(182,"th",5),c.Dc(183," Other Entries"),c.Ub(),c.Ub(),c.Vb(184,"tr"),c.Vb(185,"td"),c.Dc(186,"Backlog Last"),c.Ub(),c.Vb(187,"td"),c.Qb(188,"app-financial-input",68),c.Ub(),c.Vb(189,"td"),c.Qb(190,"app-financial-input",69),c.Ub(),c.Vb(191,"td"),c.Qb(192,"app-financial-input",70),c.Ub(),c.Vb(193,"td"),c.Qb(194,"app-financial-input",71),c.Ub(),c.Ub(),c.Vb(195,"tr"),c.Vb(196,"td"),c.Dc(197,"Line of credit"),c.Ub(),c.Vb(198,"td"),c.Qb(199,"app-financial-input",72),c.Ub(),c.Vb(200,"td"),c.Qb(201,"app-financial-input",73),c.Ub(),c.Vb(202,"td"),c.Qb(203,"app-financial-input",74),c.Ub(),c.Vb(204,"td"),c.Qb(205,"app-financial-input",75),c.Ub(),c.Ub(),c.Vb(206,"tr"),c.Vb(207,"td"),c.Dc(208,"Unused line of credit"),c.Ub(),c.Vb(209,"td"),c.Qb(210,"app-financial-input",76),c.Ub(),c.Vb(211,"td"),c.Qb(212,"app-financial-input",77),c.Ub(),c.Vb(213,"td"),c.Qb(214,"app-financial-input",78),c.Ub(),c.Vb(215,"td"),c.Qb(216,"app-financial-input",79),c.Ub(),c.Ub(),c.Vb(217,"tr"),c.Vb(218,"td"),c.Dc(219,"Line of credit payable"),c.Ub(),c.Vb(220,"td"),c.Qb(221,"app-financial-input",80),c.Ub(),c.Vb(222,"td"),c.Qb(223,"app-financial-input",81),c.Ub(),c.Vb(224,"td"),c.Qb(225,"app-financial-input",82),c.Ub(),c.Vb(226,"td"),c.Qb(227,"app-financial-input",83),c.Ub(),c.Ub(),c.Vb(228,"tr"),c.Vb(229,"td"),c.Dc(230,"D & B Pay Index"),c.Ub(),c.Vb(231,"td"),c.Qb(232,"app-financial-input",84),c.Ub(),c.Vb(233,"td"),c.Qb(234,"app-financial-input",85),c.Ub(),c.Vb(235,"td"),c.Qb(236,"app-financial-input",86),c.Ub(),c.Vb(237,"td"),c.Qb(238,"app-financial-input",87),c.Ub(),c.Ub(),c.Vb(239,"tr"),c.Vb(240,"td"),c.Dc(241,"PPP Loan"),c.Ub(),c.Vb(242,"td"),c.Qb(243,"app-financial-input",88),c.Ub(),c.Vb(244,"td"),c.Qb(245,"app-financial-input",89),c.Ub(),c.Vb(246,"td"),c.Qb(247,"app-financial-input",90),c.Ub(),c.Vb(248,"td"),c.Qb(249,"app-financial-input",91),c.Ub(),c.Ub(),c.Ub(),c.Vb(250,"div",92),c.Vb(251,"div",93),c.Vb(252,"button",94),c.cc("click",function(){return t.saveInfo()}),c.Dc(253,"Save "),c.Ub(),c.Ub(),c.Vb(254,"div",95),c.Vb(255,"button",94),c.cc("click",function(){return t.calculate()}),c.Dc(256,"Calculate"),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(257,"div",1),c.Vb(258,"span"),c.Dc(259,"Financial Outputs from Risk entered data: "),c.Vb(260,"b"),c.Dc(261,"Ratio Calculation"),c.Ub(),c.Ub(),c.Ub(),c.Vb(262,"div",2),c.Vb(263,"form",3),c.cc("keydown.enter",function(e){return e.preventDefault()}),c.Vb(264,"table",4),c.Vb(265,"tr"),c.Qb(266,"td"),c.Bc(267,Oi,2,1,"td",96),c.Ub(),c.Vb(268,"tr"),c.Vb(269,"th",97),c.Dc(270," Net Worth"),c.Ub(),c.Ub(),c.Bc(271,Ni,4,2,"tr",96),c.Vb(272,"tr"),c.Vb(273,"th",97),c.Dc(274," Working Capital"),c.Ub(),c.Ub(),c.Bc(275,Ti,4,2,"tr",96),c.Vb(276,"tr"),c.Vb(277,"th",97),c.Dc(278," Leverage"),c.Ub(),c.Ub(),c.Bc(279,zi,4,2,"tr",96),c.Vb(280,"tr"),c.Vb(281,"th",97),c.Dc(282," Profitability"),c.Ub(),c.Ub(),c.Bc(283,Zi,4,2,"tr",96),c.Vb(284,"tr"),c.Vb(285,"th",97),c.Dc(286," Operational Efficiency"),c.Ub(),c.Ub(),c.Bc(287,en,4,2,"tr",96),c.Vb(288,"tr"),c.Vb(289,"th",97),c.Dc(290," Subcontractor Limits"),c.Ub(),c.Ub(),c.Bc(291,an,4,2,"tr",96),c.Vb(292,"tr"),c.Vb(293,"td"),c.Dc(294,"Calculated Financial Grade"),c.Ub(),c.Vb(295,"td"),c.Vb(296,"input",98),c.cc("keypress",function(e){return t.letterOnly(e)}),c.Ub(),c.Ub(),c.Vb(297,"td"),c.Vb(298,"input",99),c.cc("keypress",function(e){return t.letterOnly(e)}),c.Ub(),c.Ub(),c.Vb(299,"td"),c.Vb(300,"input",100),c.cc("keypress",function(e){return t.letterOnly(e)}),c.Ub(),c.Ub(),c.Vb(301,"td"),c.Vb(302,"input",101),c.cc("keypress",function(e){return t.letterOnly(e)}),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(303,"div",92),c.Vb(304,"div",102),c.Vb(305,"button",103),c.Dc(306,"Clear "),c.Ub(),c.Ub(),c.Vb(307,"div",102),c.Vb(308,"button",94),c.cc("click",function(){return t.saveOther("")}),c.Dc(309,"Save "),c.Ub(),c.Ub(),c.Vb(310,"div",104),c.Vb(311,"button",94),c.cc("click",function(){return t.saveOther1("Final")}),c.Dc(312,"Save & Submit"),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub()),2&e&&(c.Db(5),c.mc("formGroup",t.statementForm),c.Db(7),c.mc("ngForOf",t.financialStatement),c.Db(251),c.mc("formGroup",t.outputForm),c.Db(4),c.mc("ngForOf",t.financialStatement),c.Db(4),c.mc("ngForOf",t.newRowsNetworth),c.Db(4),c.mc("ngForOf",t.newRowsWorking),c.Db(4),c.mc("ngForOf",t.newRowsLeverage),c.Db(4),c.mc("ngForOf",t.newRowsProfit),c.Db(4),c.mc("ngForOf",t.newRowsOperation),c.Db(4),c.mc("ngForOf",t.newRowsSubcontractor))},directives:[o.x,o.m,o.g,n.l,o.b,o.l,o.f,Pi,o.i,n.m],styles:[".table[_ngcontent-%COMP%]{width:95%;margin:10px auto;border-top:1px solid #ccc;border-right:1px solid #ccc}.table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1px 5px;border-bottom:1px solid #ccc;border-left:1px solid #ccc;width:20%;font-style:italic!important;font-weight:600;font-size:13px}.section[_ngcontent-%COMP%]{margin:-14px auto 0;padding:10px;width:99%;background-color:#fff}.comment-section[_ngcontent-%COMP%]{width:95%;padding:0 10px 10px;margin:10px auto;background-color:#fff;border-radius:12px}.form[_ngcontent-%COMP%]{margin:10px;padding:10px 0}.row[_ngcontent-%COMP%]{margin:15px 0 15px 5px;width:97%}.my-auto1[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]{font-style:italic!important;font-weight:600}.my-auto1[_ngcontent-%COMP%]{margin:0 10px;font-size:13px!important}.rowform[_ngcontent-%COMP%]{margin-left:18px;margin-top:5px;width:98%}.bgyellow[_ngcontent-%COMP%]{background-color:#ff0;height:20px;font-weight:700;padding:5px 10px}.font-bold[_ngcontent-%COMP%]{font-weight:700;font-style:italic!important;font-weight:600;font-size:15px}.table[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:last-child) > [_ngcontent-%COMP%]:last-child > *[_ngcontent-%COMP%]{border-bottom-color:#fff}.headeryellow[_ngcontent-%COMP%]{background-color:#ff0}.headergreen[_ngcontent-%COMP%], .headeryellow[_ngcontent-%COMP%]{align-content:center;width:100%;text-align-last:center;border-bottom:1px solid #ccc;border-left:1px solid #ccc}.headergreen[_ngcontent-%COMP%]{background-color:#3cb371}.td[_ngcontent-%COMP%]{width:20%!important}"]}),e})();function sn(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Compiled independent credit is required"),c.Ub())}function cn(e,t){if(1&e&&(c.Vb(0,"div",99),c.Bc(1,sn,2,0,"div",100),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.is_Independent_CPA.errors.required)}}function ln(e,t){1&e&&(c.Vb(0,"span",7),c.Dc(1,"*"),c.Ub())}function dn(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"CPA audited, reviewed and verified records is required"),c.Ub())}function un(e,t){if(1&e&&(c.Vb(0,"div",99),c.Bc(1,dn,2,0,"div",100),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.cpa_auditReviewed.errors.required)}}function mn(e,t){1&e&&(c.Vb(0,"div",101),c.Vb(1,"span"),c.Dc(2,"Uploading..."),c.Ub(),c.Qb(3,"mat-progress-spinner",102),c.Ub())}function bn(e,t){if(1&e){const e=c.Wb();c.Vb(0,"div",103),c.Vb(1,"p",104),c.Vb(2,"small"),c.Vb(3,"a",105),c.cc("click",function(){c.uc(e);const i=t.$implicit;return c.gc().openlink(i)}),c.Dc(4),c.Ub(),c.Ub(),c.Vb(5,"small",106),c.cc("click",function(){c.uc(e);const i=t.index,n=t.$implicit;return c.gc().removecpaUpload(i,n)}),c.Dc(6,"X"),c.Ub(),c.Ub(),c.Ub()}if(2&e){const e=t.$implicit;c.Db(3),c.nc("href",e.file_Path,c.wc),c.Db(1),c.Ec(e.name)}}function pn(e,t){1&e&&(c.Vb(0,"span",7),c.Dc(1,"*"),c.Ub())}function fn(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Balance sheet is required"),c.Ub())}function hn(e,t){if(1&e&&(c.Vb(0,"div",99),c.Bc(1,fn,2,0,"div",100),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.internal_Balance_Upload.errors.required)}}function gn(e,t){1&e&&(c.Vb(0,"div",101),c.Vb(1,"span"),c.Dc(2,"Uploading..."),c.Ub(),c.Qb(3,"mat-progress-spinner",102),c.Ub())}function _n(e,t){if(1&e){const e=c.Wb();c.Vb(0,"div",103),c.Vb(1,"p",104),c.Vb(2,"small"),c.Vb(3,"a",105),c.cc("click",function(){c.uc(e);const i=t.$implicit;return c.gc().openlink(i)}),c.Dc(4),c.Ub(),c.Ub(),c.Vb(5,"small",106),c.cc("click",function(){c.uc(e);const i=t.index,n=t.$implicit;return c.gc().removebalanceSheetUpload(i,n)}),c.Dc(6,"X"),c.Ub(),c.Ub(),c.Ub()}if(2&e){const e=t.$implicit;c.Db(3),c.nc("href",e.file_Path,c.wc),c.Db(1),c.Ec(e.name)}}function vn(e,t){1&e&&(c.Vb(0,"span",7),c.Dc(1,"*"),c.Ub())}function yn(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Internal Profit & Loss Statement is required"),c.Ub())}function Vn(e,t){if(1&e&&(c.Vb(0,"div",99),c.Bc(1,yn,2,0,"div",100),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.internal_Profit_Upload.errors.required)}}function Un(e,t){1&e&&(c.Vb(0,"div",101),c.Vb(1,"span"),c.Dc(2,"Uploading..."),c.Ub(),c.Qb(3,"mat-progress-spinner",102),c.Ub())}function Dn(e,t){if(1&e){const e=c.Wb();c.Vb(0,"div",103),c.Vb(1,"p",104),c.Vb(2,"small"),c.Vb(3,"a",105),c.cc("click",function(){c.uc(e);const i=t.$implicit;return c.gc().openlink(i)}),c.Dc(4),c.Ub(),c.Ub(),c.Vb(5,"small",106),c.cc("click",function(){c.uc(e);const i=t.index,n=t.$implicit;return c.gc().removeprofitlossUpload(i,n)}),c.Dc(6,"X"),c.Ub(),c.Ub(),c.Ub()}if(2&e){const e=t.$implicit;c.Db(3),c.nc("href",e.file_Path,c.wc),c.Db(1),c.Ec(e.name)}}function Cn(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Extended credit is required"),c.Ub())}function In(e,t){if(1&e&&(c.Vb(0,"div",99),c.Bc(1,Cn,2,0,"div",100),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.iS_Extended_Credit.errors.required)}}function Rn(e,t){1&e&&(c.Vb(0,"span",7),c.Dc(1,"*"),c.Ub())}function Fn(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Approximate value of line of credit is required "),c.Ub())}function wn(e,t){if(1&e&&(c.Vb(0,"div",99),c.Bc(1,Fn,2,0,"div",100),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.appr_CreditValue.errors.required)}}function Sn(e,t){1&e&&(c.Vb(0,"span",7),c.Dc(1,"*"),c.Ub())}function kn(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Approximate value used on your line of credit is required "),c.Ub())}function xn(e,t){if(1&e&&(c.Vb(0,"div",99),c.Bc(1,kn,2,0,"div",100),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.appr_CreditValue_Used.errors.required)}}function Pn(e,t){1&e&&(c.Vb(0,"span",7),c.Dc(1,"*"),c.Ub())}function An(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Bank Name of line of credit is required "),c.Ub())}function On(e,t){if(1&e&&(c.Vb(0,"div",99),c.Bc(1,An,2,0,"div",100),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.bank_Name.errors.required)}}function En(e,t){1&e&&(c.Vb(0,"span",7),c.Dc(1,"*"),c.Ub())}function jn(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Bank contact personnel is required"),c.Ub())}function Mn(e,t){if(1&e&&(c.Vb(0,"div",99),c.Bc(1,jn,2,0,"div",100),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.bank_Contact_Personnnel.errors.required)}}function Nn(e,t){1&e&&(c.Vb(0,"span",7),c.Dc(1,"*"),c.Ub())}function qn(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Bank contact email is required "),c.Ub())}function Bn(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Bank contact email is valid "),c.Ub())}function Ln(e,t){if(1&e&&(c.Vb(0,"div",99),c.Bc(1,qn,2,0,"div",100),c.Bc(2,Bn,2,0,"div",100),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.bank_Contact_email.errors.required),c.Db(1),c.mc("ngIf",e.f.bank_Contact_email.errors.email)}}function Tn(e,t){1&e&&(c.Vb(0,"span",7),c.Dc(1,"*"),c.Ub())}function Yn(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Bank contact phone is required "),c.Ub())}function Gn(e,t){if(1&e&&(c.Vb(0,"div",99),c.Bc(1,Yn,2,0,"div",100),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.bank_Contact_phone.errors.required)}}function Qn(e,t){1&e&&(c.Vb(0,"div",101),c.Vb(1,"span"),c.Dc(2,"Uploading..."),c.Ub(),c.Qb(3,"mat-progress-spinner",102),c.Ub())}function zn(e,t){if(1&e){const e=c.Wb();c.Vb(0,"div",103),c.Vb(1,"p",104),c.Vb(2,"small"),c.Vb(3,"a",107),c.Dc(4),c.Ub(),c.Ub(),c.Vb(5,"small",106),c.cc("click",function(){c.uc(e);const i=t.index,n=t.$implicit;return c.gc().removetriRInfoTwoYearsUpload(i,n)}),c.Dc(6,"X"),c.Ub(),c.Ub(),c.Ub()}if(2&e){const e=t.$implicit;c.Db(3),c.nc("href",e.file_Path,c.wc),c.nc("download",e.name),c.Db(1),c.Ec(e.name)}}function $n(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Work in progress file is required"),c.Ub())}function Wn(e,t){if(1&e&&(c.Vb(0,"div",99),c.Bc(1,$n,2,0,"div",100),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.WIP_Upload.errors.required)}}function Hn(e,t){if(1&e&&(c.Vb(0,"p",119),c.Dc(1,"Application Status: "),c.Vb(2,"span",116),c.Dc(3),c.Ub(),c.Ub()),2&e){const e=c.gc(2).$implicit;c.Db(3),c.Ec(e.risk_Reviewer_1_Status)}}function Zn(e,t){1&e&&(c.Vb(0,"p"),c.Vb(1,"span",120),c.Dc(2,"Conditional Approval Reason:"),c.Ub(),c.Ub())}function Kn(e,t){if(1&e&&(c.Vb(0,"small",121),c.Vb(1,"span",122),c.Dc(2),c.Ub(),c.Ub()),2&e){const e=c.gc(2).$implicit;c.Db(2),c.Ec(e.risk_Reviewer_1_Reason)}}function Jn(e,t){if(1&e&&(c.Vb(0,"div"),c.Vb(1,"div",8),c.Vb(2,"div",112),c.Bc(3,Hn,4,1,"p",113),c.Ub(),c.Vb(4,"div",114),c.Vb(5,"p",115),c.Dc(6,"Date: "),c.Vb(7,"span",116),c.Dc(8),c.hc(9,"date"),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(10,"div",8),c.Vb(11,"div",117),c.Bc(12,Zn,3,0,"p",100),c.Bc(13,Kn,3,1,"small",118),c.Ub(),c.Ub(),c.Ub()),2&e){const e=c.gc().$implicit;c.Db(3),c.mc("ngIf","Conditionally Approved"==e.risk_Reviewer_1_Status||"Approved"==e.risk_Reviewer_1_Status),c.Db(5),c.Ec(c.jc(9,4,e.reviewer_1_Approved_Date,"MM/dd/yyyy")),c.Db(4),c.mc("ngIf","Conditionally Approved"==e.risk_Reviewer_1_Status),c.Db(1),c.mc("ngIf",null!=e.risk_Reviewer_1_Reason&&"null"!=e.risk_Reviewer_1_Reason&&"Conditionally Approved"==e.risk_Reviewer_1_Status)}}function Xn(e,t){if(1&e&&(c.Vb(0,"div",111),c.Bc(1,Jn,14,7,"div",100),c.Ub()),2&e){const e=t.$implicit;c.Db(1),c.mc("ngIf",null!=e.risk_Reviewer_1_Status)}}function eo(e,t){if(1&e&&(c.Vb(0,"div",108),c.Vb(1,"h6",109),c.Dc(2,"Risk User 1 - Review"),c.Ub(),c.Bc(3,Xn,2,1,"div",110),c.Ub()),2&e){const e=c.gc();c.Db(3),c.mc("ngForOf",e.getriskrecords)}}function to(e,t){if(1&e&&(c.Vb(0,"p",127),c.Vb(1,"span",120),c.Dc(2,"Application Status: "),c.Vb(3,"span",116),c.Dc(4),c.Ub(),c.Ub(),c.Ub()),2&e){const e=c.gc(2).$implicit;c.Db(4),c.Ec(e.risk_Reviewer_2_Status)}}function io(e,t){1&e&&(c.Vb(0,"p"),c.Vb(1,"span",120),c.Dc(2,"Conditional Approval Reason:"),c.Ub(),c.Ub())}function no(e,t){if(1&e&&(c.Vb(0,"small",121),c.Vb(1,"span",122),c.Dc(2),c.Ub(),c.Ub()),2&e){const e=c.gc(2).$implicit;c.Db(2),c.Ec(e.risk_Reviewer_2_Reason)}}function oo(e,t){if(1&e&&(c.Vb(0,"div"),c.Vb(1,"div",8),c.Vb(2,"div",112),c.Bc(3,to,5,1,"p",125),c.Ub(),c.Vb(4,"div",114),c.Vb(5,"p",126),c.Dc(6,"Date: "),c.Vb(7,"span",116),c.Dc(8),c.hc(9,"date"),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(10,"div",8),c.Vb(11,"div",117),c.Bc(12,io,3,0,"p",100),c.Bc(13,no,3,1,"small",118),c.Ub(),c.Ub(),c.Ub()),2&e){const e=c.gc().$implicit;c.Db(3),c.mc("ngIf","Conditionally Approved"==e.risk_Reviewer_2_Status||"Approved"==e.risk_Reviewer_2_Status),c.Db(5),c.Ec(c.jc(9,4,e.reviewer_2_Approved_Date,"MM/dd/yyyy")),c.Db(4),c.mc("ngIf","Conditionally Approved"==e.risk_Reviewer_2_Status),c.Db(1),c.mc("ngIf",null!=e.risk_Reviewer_2_Reason&&"null"!=e.risk_Reviewer_2_Reason&&"Conditionally Approved"==e.risk_Reviewer_2_Status)}}function ao(e,t){if(1&e&&(c.Vb(0,"div",111),c.Bc(1,oo,14,7,"div",100),c.Ub()),2&e){const e=t.$implicit;c.Db(1),c.mc("ngIf",null!=e.risk_Reviewer_2_Status)}}function ro(e,t){if(1&e&&(c.Vb(0,"div",123),c.Vb(1,"h6",124),c.Dc(2,"Risk User 2 - Review"),c.Ub(),c.Bc(3,ao,2,1,"div",110),c.Ub()),2&e){const e=c.gc();c.Db(3),c.mc("ngForOf",e.getrisk2records)}}function so(e,t){if(1&e){const e=c.Wb();c.Vb(0,"div",128),c.Vb(1,"button",129),c.cc("click",function(){return c.uc(e),c.gc().gotoHome()}),c.Dc(2," << BACK"),c.Ub(),c.Vb(3,"button",130),c.cc("click",function(){return c.uc(e),c.gc().save()}),c.Dc(4),c.Ub(),c.Vb(5,"button",131),c.cc("click",function(){return c.uc(e),c.gc().submit()}),c.Dc(6,"NEXT >>"),c.Ub(),c.Ub()}if(2&e){const e=c.gc();c.Db(4),c.Ec(e.submitText)}}function co(e,t){if(1&e){const e=c.Wb();c.Vb(0,"div",132),c.Vb(1,"button",129),c.cc("click",function(){return c.uc(e),c.gc().gotoHome()}),c.Dc(2," << BACK"),c.Ub(),c.Vb(3,"button",133),c.cc("click",function(){return c.uc(e),c.gc().nextroutePage()}),c.Dc(4,"NEXT >>"),c.Ub(),c.Ub()}}function lo(e,t){if(1&e){const e=c.Wb();c.Vb(0,"div",134),c.Vb(1,"button",135),c.cc("click",function(){return c.uc(e),c.gc().gotoHome()}),c.Dc(2," << BACK"),c.Ub(),c.Ub()}}function uo(e,t){if(1&e&&c.Qb(0,"app-financial-statement",136),2&e){const e=c.gc();c.mc("companyId",e.tempcompanyid)("taxId",e.taxId)("vendorId",e.vendorId)}}function mo(e,t){1&e&&(c.Vb(0,"div",99),c.Vb(1,"div"),c.Dc(2,"Reason is required"),c.Ub(),c.Ub())}const bo=function(e){return{"bg-grey":e}},po=function(e){return{"is-invalid":e}},fo=function(e){return{"pointer-events":e}};let ho=(()=>{class e{constructor(e,t,i,n,a,r,s,c,l,d){this.formBuilder=e,this.router=t,this.financialservice=i,this.bnIdle=n,this.keepalive=a,this.toastr=r,this.companyservice=s,this.loginInfo=c,this.sanitizer=l,this.ngxUiLoader=d,this.currentForm=5,this.submitted=!1,this.financialinfoForm=this.formBuilder.group({id:[0],companyId:[0],is_Independent_CPA:["no",[o.w.required]],cpa_auditReviewed:["",[o.w.required]],internal_Balance_Upload:["",[o.w.required]],internal_Profit_Upload:["",[o.w.required]],WIP_Upload:["",[o.w.required]],iS_Extended_Credit:["no",[o.w.required]],appr_CreditValue:["",[o.w.maxLength(256),o.w.pattern(/^-?(0|[1-9]\d*)?$/)]],appr_CreditValue_Used:["",[o.w.maxLength(256),o.w.pattern(/^-?(0|[1-9]\d*)?$/)]],bank_Name:["",[o.w.required,o.w.maxLength(256)]],bank_Contact_Personnnel:["",[o.w.required,o.w.maxLength(256)]],bank_Contact_email:["",[o.w.required,o.w.email,o.w.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)]],bank_Contact_phone:["",[o.w.required,o.w.pattern(/^-?(0|[1-9]\d*)?$/)]],isAutosave:[!1],reject_Reason:[""],approved_Date:[""],preQualification_Status:["In-Progress"],isCompleted:[!1]}),this.companyInfo=this.formBuilder.group({id:["0"],org_Type:[null,[o.w.required,o.w.maxLength(130)]],is_Certified_Diverse:["",[o.w.required,o.w.maxLength(130)]],certified_Diverse_Attachment:["null",[o.w.maxLength(130)]],contact_Name:["",[o.w.required,o.w.maxLength(256)]],contact_Email:["",[o.w.required,o.w.maxLength(256),o.w.email,o.w.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)]],contact_Mobile:["",[o.w.required,o.w.maxLength(256),o.w.pattern("^((\\+91-?) |0)?[0-9]{10}$")]],additional_Details:["",[o.w.required,o.w.maxLength(256)]],CD_Upload:[null],other_details:["",o.w.maxLength(256)],isAutosave:[!0],preQualification_Status:["In-Progress"],isComplete:[!1],approved_Date:[""],reject_Reason:[""]}),this.cpaAttachment=[],this.wipAttachment=[],this.tempcpaAttachment=[],this.tempwipAttachment=[],this.setTimeout=0,this.spinner={cpaSpinner:!1,balanceSpinner:!1,lossSpinner:!1,wipSpinner:!1},this.resetTimer=0,this.showAdmin=!1,this.rejecionrequired=!1,this.completionclicked=0,this.userRole="",this.companyId=0,this.financialid=0,this.isCompleted=!1,this.formCompleted=!1,this.prequalification_status="",this.getriskrecords=[],this.getrisk2records=[],this.tempinternalBalanceUpload=[],this.tempinternalProfitUpload=[],this.balancesheetAttachment=[],this.profitlossAttachment=[],this.showdisabled=!1,this.taxId=0,this.vendorId=0}ngOnInit(){this.ngxUiLoader.startLoader("loader-01"),localStorage.setItem("currPage","financialinfo"),this.prequalification_status=this.loginInfo.organization_status;let e=localStorage.getItem("userDetails");if(e=JSON.parse(atob(e)),this.userDetails=e,this.userRole=e.role,this.tempcompanyid=localStorage.getItem("tempcompanyid"),this.tempcompanyid=Number(atob(this.tempcompanyid)),this.submitText="SAVE",this.tempcompanyid>0&&"Subcontractor"!=this.userRole){this.showAdmin=!0;var t=localStorage.getItem("taxID");t&&(this.taxId=Number(atob(t)));var i=localStorage.getItem("vendorID");i&&(this.vendorId=Number(atob(i))),console.log("data",this.taxId,this.vendorId),this.companyId=this.tempcompanyid,this.showdisabled=!0,this.getRecords(),this.financialinfoForm.disable(),this.financialinfoForm.updateValueAndValidity(),this.financialinfoForm.controls.reject_Reason.enable(),this.financialinfoForm.controls.reject_Reason.updateValueAndValidity()}null!=this.userDetails.vendorId&&null!=this.userDetails.taxId&&"Subcontractor"==this.userRole&&this.financialservice.getUser(this.userDetails.vendorId,this.userDetails.taxId).subscribe(e=>{this.companyId=e.id,this.getRecords(),this.companyservice.getRecord(this.companyId).subscribe(e=>{this.updateCompanyinfo(e),this.prequalification_status=e.preQualification_Status})}),this.ngxUiLoader.stopLoader("loader-01")}ngAfterViewInit(){this.keepalive.interval(30),this.keepalive.stop()}CommaFormatted(e,t){var i,n;e.AT_TARGET>=37&&e.AT_TARGET<=40||this.financialinfoForm.patchValue({[t]:null===(n=null===(i=this.financialinfoForm.get(t))||void 0===i?void 0:i.value)||void 0===n?void 0:n.replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,",")})}phonePress(e){return 15!=e.target.value.length}numberCheck(e){return"e"!==e.key&&"+"!==e.key&&"-"!==e.key}resetFinance(){this.financialinfoForm.patchValue({appr_CreditValue:"",appr_CreditValue_Used:"",bank_Name:"",bank_Contact_Personnnel:"",bank_Contact_email:"",bank_Contact_phone:""})}resetNo(){this.showdisabled=!1,this.cpaAttachment.forEach((e,t)=>{this.removecpaUpload(t,e,!1)})}resetYes(){this.showdisabled=!1,this.profitlossAttachment.forEach((e,t)=>{this.removeprofitlossUpload(t,e,!1)}),this.balancesheetAttachment.forEach((e,t)=>{this.removebalanceSheetUpload(t,e,!1)})}ngOnDestroy(){this.keepalive.stop(),this.nextpage()}getRecords(){this.financialservice.getRecords(this.companyId).subscribe(e=>{var t;this.submitText=e[0].is_Independent_CPA?"UPDATE":"SAVE",this.financialid=e[0].id,this.updateFinancialinfo(e),this.getFiles(null===(t=e[0])||void 0===t?void 0:t.files),this.companyservice.getRecord(this.companyId).subscribe(e=>{(e=e[0]).preQualification_Status&&this.loginInfo.formDisable(e.preQualification_Status)&&(this.showdisabled=!0,this.financialinfoForm.disable(),this.financialinfoForm.updateValueAndValidity()),this.updateCompanyinfo(e),this.companydata=e,console.log(e)})})}checkRisk2approved(e){return"Approved"==e.risk_Reviewer_2_Status}checkRisk1approved(e){return"Approved"==e.risk_Reviewer_1_Status}editrecord(e){this.tempriskrecord=e.risk_Reviewer_1_Reason,this.financialinfoForm.patchValue({reject_Reason:this.tempriskrecord}),this.financialinfoForm.controls.reject_Reason.updateValueAndValidity()}updateFinancialinfo(e){this.financialinfoForm.patchValue({id:e[0].id,companyId:e[0].companyId,is_Independent_CPA:e[0].is_Independent_CPA,iS_Extended_Credit:e[0].iS_Extended_Credit,appr_CreditValue:e[0].appr_CreditValue,appr_CreditValue_Used:e[0].appr_CreditValue_Used&&"null"!=e[0].appr_CreditValue_Used?e[0].appr_CreditValue_Used:"",bank_Name:e[0].bank_Name&&"null"!=e[0].bank_Name?e[0].bank_Name:"",bank_Contact_Personnnel:e[0].bank_Contact_Personnnel&&"null"!=e[0].bank_Contact_Personnnel?e[0].bank_Contact_Personnnel:"",bank_Contact_email:e[0].bank_Contact_email&&"null"!=e[0].bank_Contact_email?e[0].bank_Contact_email:"",bank_Contact_phone:e[0].bank_Contact_phone&&"null"!=e[0].bank_Contact_phone?e[0].bank_Contact_phone:""}),this.tempcompanyid>0&&"Subcontractor"!=this.userRole&&this.condApprovetxt()}updateCompanyinfo(e){var t;this.companyInfo.patchValue({id:e.id,org_Type:null===(t=e.org_Type)||void 0===t?void 0:t.toLowerCase(),is_Certified_Diverse:e.is_Certified_Diverse,contact_Name:this.loginInfo.validateEmpty(e.contact_Name),contact_Email:this.loginInfo.validateEmpty(e.contact_Email),contact_Mobile:this.loginInfo.validateEmpty(e.contact_Mobile),additional_Details:this.loginInfo.validateEmpty(e.additional_Details),other_details:this.loginInfo.validateEmpty(e.other_details),reject_Reason:this.loginInfo.validateEmpty(e.reject_Reason),standing:this.loginInfo.validateEmpty(e.standing),approved_Date:this.loginInfo.validateEmpty(e.approved_Date)}),this.reject_Reason=e.reject_Reason,this.prequalification_status=e.preQualification_Status,this.risk_Reviewer_1_Reason=e.risk_Reviewer_1_Reason,this.risk_Reviewer_2_Reason=e.risk_Reviewer_2_Reason,"Subcontractor"==this.userRole&&this.companyInfo.patchValue({companyName:this.userDetails.companyName,vendorID:this.userDetails.vendorId,taxID:this.userDetails.taxId}),"Subcontractor"!=this.userRole&&this.companyInfo.patchValue({companyName:localStorage.getItem("userName"),vendorID:localStorage.getItem("vendorID"),taxID:localStorage.getItem("taxID")}),"Subcontractor"!=this.userRole&&this.financialinfoForm.patchValue({reject_Reason:""})}idleReset(){this.keepalive.stop(),this.keepalive.start(),this.resetTimer=0}getFiles(e){this.cpaAttachment=[],this.balancesheetAttachment=[],this.wipAttachment=[],this.profitlossAttachment=[],console.log(e),e.filter(e=>{"Internal_Balance_Upload"==e.file_Type?e.file_Name.length<49&&0==e.isDeleted?this.balancesheetAttachment.push({id:e.id,name:e.file_Name,file_Path:e.file_Path}):0==e.isDeleted&&this.balancesheetAttachment.push({id:e.id,name:e.file_Name.substring(0,49)+"....",file_Path:e.file_Path}):"Internal_Profit_Upload"==e.file_Type?e.file_Name.length<49&&0==e.isDeleted?this.profitlossAttachment.push({id:e.id,name:e.file_Name,file_Path:e.file_Path}):0==e.isDeleted&&this.profitlossAttachment.push({id:e.id,name:e.file_Name.substring(0,49)+"....",file_Path:e.file_Path}):"WIP_Upload"==e.file_Type?e.file_Name.length<49&&0==e.isDeleted?this.wipAttachment.push({id:e.id,name:e.file_Name,file_Path:e.file_Path}):0==e.isDeleted&&this.wipAttachment.push({id:e.id,name:e.file_Name.substring(0,49)+"....",file_Path:e.file_Path}):e.file_Name.length<49&&0==e.isDeleted?this.cpaAttachment.push({id:e.id,name:e.file_Name,file_Path:e.file_Path}):0==e.isDeleted&&this.cpaAttachment.push({id:e.id,name:e.file_Name.substring(0,49)+"....",file_Path:e.file_Path})})}get f(){var e,t,i,n;return"yes"==this.financialinfoForm.value.iS_Extended_Credit?(this.financialinfoForm.controls.appr_CreditValue.setValidators([o.w.required,o.w.maxLength(256)]),this.financialinfoForm.controls.appr_CreditValue_Used.setValidators([o.w.required,o.w.maxLength(256)]),this.financialinfoForm.controls.bank_Name.setValidators([o.w.required,o.w.maxLength(256)]),this.financialinfoForm.controls.bank_Contact_Personnnel.setValidators([o.w.required,o.w.maxLength(256)]),this.financialinfoForm.controls.bank_Contact_email.setValidators([o.w.required,o.w.maxLength(256),o.w.email,o.w.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)]),this.financialinfoForm.controls.bank_Contact_phone.setValidators([o.w.required,o.w.maxLength(256)])):(this.financialinfoForm.controls.appr_CreditValue.clearValidators(),this.financialinfoForm.controls.appr_CreditValue_Used.clearValidators(),this.financialinfoForm.controls.bank_Name.clearValidators(),this.financialinfoForm.controls.bank_Contact_Personnnel.clearValidators(),this.financialinfoForm.controls.bank_Contact_email.clearValidators(),this.financialinfoForm.controls.bank_Contact_phone.clearValidators()),this.financialinfoForm.controls.appr_CreditValue.updateValueAndValidity(),this.financialinfoForm.controls.appr_CreditValue_Used.updateValueAndValidity(),this.financialinfoForm.controls.bank_Name.updateValueAndValidity(),this.financialinfoForm.controls.bank_Contact_Personnnel.updateValueAndValidity(),this.financialinfoForm.controls.bank_Contact_email.updateValueAndValidity(),this.financialinfoForm.controls.bank_Contact_phone.updateValueAndValidity(),"no"==this.financialinfoForm.value.is_Independent_CPA?(this.financialinfoForm.controls.cpa_auditReviewed.clearValidators(),this.financialinfoForm.controls.internal_Balance_Upload.setValidators([o.w.required]),this.financialinfoForm.controls.internal_Profit_Upload.setValidators([o.w.required])):(this.financialinfoForm.controls.cpa_auditReviewed.setValidators([o.w.required]),this.financialinfoForm.controls.internal_Balance_Upload.clearValidators(),this.financialinfoForm.controls.internal_Profit_Upload.clearValidators()),this.financialinfoForm.controls.cpa_auditReviewed.updateValueAndValidity(),this.financialinfoForm.controls.internal_Balance_Upload.updateValueAndValidity(),this.financialinfoForm.controls.internal_Profit_Upload.updateValueAndValidity(),(null===(e=this.cpaAttachment)||void 0===e?void 0:e.length)>0&&(this.financialinfoForm.controls.cpa_auditReviewed.setValidators(null),this.financialinfoForm.controls.cpa_auditReviewed.updateValueAndValidity()),(null===(t=this.balancesheetAttachment)||void 0===t?void 0:t.length)>0&&(this.financialinfoForm.controls.internal_Balance_Upload.setValidators(null),this.financialinfoForm.controls.internal_Balance_Upload.updateValueAndValidity()),(null===(i=this.profitlossAttachment)||void 0===i?void 0:i.length)>0&&(this.financialinfoForm.controls.internal_Profit_Upload.setValidators(null),this.financialinfoForm.controls.internal_Profit_Upload.updateValueAndValidity()),(null===(n=this.wipAttachment)||void 0===n?void 0:n.length)>0&&(this.financialinfoForm.controls.WIP_Upload.setValidators(null),this.financialinfoForm.controls.WIP_Upload.updateValueAndValidity()),"Subcontractor"==this.userRole&&(this.financialinfoForm.controls.reject_Reason.setValidators(null),this.financialinfoForm.controls.reject_Reason.updateValueAndValidity()),"Admin"==this.userRole&&(this.financialinfoForm.controls.reject_Reason.setValidators([o.w.required]),this.financialinfoForm.controls.reject_Reason.updateValueAndValidity()),this.financialinfoForm.value.reject_Reason>0&&(this.financialinfoForm.controls.reject_Reason.setValidators(null),this.financialinfoForm.controls.reject_Reason.updateValueAndValidity()),this.financialinfoForm.updateValueAndValidity(),this.financialinfoForm.controls}submit(){if(this.keepalive.stop(),"Subcontractor"!=this.userRole)this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`]);else{this.formCompleted=!0,this.financialinfoForm.patchValue({isAutosave:!1,isCompleted:!0});let e=this.formMethod();if(0==this.financialid)this.financialservice.addRecord(e).subscribe(e=>{this.financialinfoForm.patchValue({isCompleted:!1,id:e.id}),this.toastr.success("Financial Information saved successfully","Financial Information"),this.getRecords(),this.formCompleted=!1,this.resetSpinner(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])});else{this.financialinfoForm.patchValue({id:this.financialid,isAutosave:!1,isCompleted:!1});let e=this.formMethod();this.financialservice.updateRecord(e,this.financialinfoForm.value.id).subscribe(e=>{this.toastr.success("Financial Information updated successfully","Financial Information"),this.getRecords(),this.resetSpinner()},e=>{},()=>{this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`]),this.resetSpinner()})}}}save(){if(this.submitted=!0,this.keepalive.stop(),console.log(this.financialinfoForm),this.financialinfoForm.valid)if(0==this.financialid){this.financialinfoForm.patchValue({isAutosave:!1,isCompleted:!1});let e=this.formMethod();this.financialservice.addRecord(e).subscribe(e=>{this.financialinfoForm.patchValue({id:e.id}),this.submitText="UPDATE",this.financialinfoForm.patchValue({cpa_auditReviewed:"",internal_Balance_Upload:"",internal_Profit_Upload:"",WIP_Upload:""}),this.toastr.success("Financial Information saved successfully","Financial Information"),this.getRecords(),this.resetSpinner()})}else{this.financialinfoForm.patchValue({id:this.financialid,isAutosave:!1,isCompleted:!1});let e=this.formMethod();this.financialservice.updateRecord(e,this.financialinfoForm.value.id).subscribe(e=>{this.financialinfoForm.patchValue({cpa_auditReviewed:"",internal_Balance_Upload:"",internal_Profit_Upload:"",WIP_Upload:""}),this.toastr.success("Financial Information updated successfully","Financial Information"),this.getRecords(),this.resetSpinner()})}}autoSave(){if(this.resetTimer+=1,1==this.resetTimer)if(0==this.financialid){this.financialinfoForm.patchValue({isAutosave:!1}),this.financialinfoForm.patchValue({isCompleted:!1});let e=this.formMethod();this.financialservice.addRecord(e).subscribe(e=>{this.keepalive.stop(),this.financialinfoForm.patchValue({id:e.id,cpa_auditReviewed:"",internal_Balance_Upload:"",internal_Profit_Upload:"",WIP_Upload:""}),this.submitText="UPDATE",this.getRecords(),this.resetSpinner()})}else{this.financialinfoForm.patchValue({id:this.financialid}),this.financialinfoForm.patchValue({isAutosave:!0}),this.financialinfoForm.patchValue({isCompleted:!1});let e=this.formMethod();this.financialservice.updateRecord(e,this.financialinfoForm.value.id).subscribe(e=>{this.keepalive.stop(),this.getRecords(),this.resetSpinner(),this.financialinfoForm.patchValue({internal_Balance_Upload:"",internal_Profit_Upload:"",WIP_Upload:""})})}}nextpage(){if("Subcontractor"==this.userRole){this.formCompleted=!0,this.financialinfoForm.patchValue({isAutosave:!1,isCompleted:!0});let e=this.formMethod();if(0==this.financialid)this.financialservice.addRecord(e).subscribe(e=>{this.financialinfoForm.patchValue({isCompleted:!1,id:e.id}),this.formCompleted=!1});else{this.financialinfoForm.patchValue({id:this.financialid,isAutosave:!1,isCompleted:!1});let e=this.formMethod();this.financialservice.updateRecord(e,this.financialinfoForm.value.id).subscribe(e=>{})}}}formMethod(){this.financialinfoForm.updateValueAndValidity();var e=new FormData;e.append("id",this.financialinfoForm.value.id),e.append("companyId",String(this.companyId)),e.append("is_Independent_CPA",this.loginInfo.validateEmpty(this.financialinfoForm.value.is_Independent_CPA)),e.append("iS_Extended_Credit",this.loginInfo.validateEmpty(this.financialinfoForm.value.iS_Extended_Credit)),e.append("appr_CreditValue",this.loginInfo.validateEmpty(this.financialinfoForm.value.appr_CreditValue)),e.append("appr_CreditValue_Used",this.loginInfo.validateEmpty(this.financialinfoForm.value.appr_CreditValue_Used)),e.append("bank_Name",this.loginInfo.validateEmpty(this.financialinfoForm.value.bank_Name)),e.append("bank_Contact_Personnnel",this.loginInfo.validateEmpty(this.financialinfoForm.value.bank_Contact_Personnnel)),e.append("bank_Contact_email",this.loginInfo.validateEmpty(this.financialinfoForm.value.bank_Contact_email)),e.append("bank_Contact_phone",this.loginInfo.validateEmpty(this.financialinfoForm.value.bank_Contact_phone)),e.append("isAutosave",this.financialinfoForm.value.isAutosave),e.append("isCompleted",1==this.formCompleted);for(let t=0;t<this.tempcpaAttachment.length;t++)e.append("cpa_auditReviewed",this.tempcpaAttachment[t]);this.tempcpaAttachment=[];for(let t=0;t<this.tempinternalBalanceUpload.length;t++)e.append("internal_Balance_Upload",this.tempinternalBalanceUpload[t]);this.tempinternalBalanceUpload=[];for(let t=0;t<this.tempinternalProfitUpload.length;t++)e.append("internal_Profit_Upload",this.tempinternalProfitUpload[t]);this.tempinternalProfitUpload=[];for(let t=0;t<this.tempwipAttachment.length;t++)e.append("WIP_Upload",this.tempwipAttachment[t]);return this.tempwipAttachment=[],e}companyformMethod(){var e=new FormData;return e.append("id",this.companyInfo.value.id),e.append("additional_Details",this.companyInfo.value.additional_Details),e.append("certified_Diverse_Attachment",this.companyInfo.value.certified_Diverse_Attachment),e.append("contact_Email",this.companyInfo.value.contact_Email),e.append("contact_Mobile",this.companyInfo.value.contact_Mobile),e.append("contact_Name",this.companyInfo.value.contact_Name),e.append("is_Certified_Diverse",this.companyInfo.value.is_Certified_Diverse),e.append("org_Type",this.companyInfo.value.org_Type),this.companyInfo.value.approved_Date&&e.append("approved_Date",this.companyInfo.value.approved_Date),e.append("CD_Upload",""),e.append("standing",this.companyInfo.value.standing),e.append("other_details",this.companyInfo.value.other_details),"Subcontractor"==this.userRole&&(e.append("companyName",this.userDetails.companyName),e.append("vendorID",this.userDetails.vendorId),e.append("taxID",this.userDetails.taxId),e.append("reject_Reason",this.companyInfo.value.reject_Reason),1==this.isCompleted?(e.append("PreQualification_Status","Under Review"),e.append("approved_Date",(new Date).toLocaleDateString("en-us"))):0==this.isCompleted&&e.append("PreQualification_Status",this.companyInfo.value.PreQualification_Status)),"Admin"!=this.userRole&&"SafetyUser"!=this.userRole&&"RiskUser"!=this.userRole||(e.append("companyName",localStorage.getItem("userName")),e.append("vendorID",localStorage.getItem("vendorID")),e.append("taxID",localStorage.getItem("taxID")),e.append("reject_Reason",this.financialinfoForm.value.reject_Reason),1==this.completionclicked?e.append("PreQualification_Status","Approved"):2==this.completionclicked&&e.append("PreQualification_Status","Conditionally Approved")),e}CPAAuditUpload(e){let t=document.getElementById("cpa_auditReviewed");for(let i=0;i<t.files.length;i++)this.tempcpaAttachment.push(t.files[i]);this.spinner.cpaSpinner=!0,this.fileupload()}balanceSheetUpload(e){let t=document.getElementById("internal_Balance_Upload");for(let i=0;i<t.files.length;i++)this.tempinternalBalanceUpload.push(t.files[i]);this.spinner.balanceSpinner=!0,this.fileupload()}filepreview(e,t){var i=new FileReader;i.onload=i=>{console.log(i.target);let n=new Blob(e.files,{type:e.files[t].type});var o=(window.URL||window.webkitURL).createObjectURL(n);console.log("path",o,e.value);var a=document.createElement("a"),r=document.createTextNode("View File");a.target="_blank",a.appendChild(r),a.href=o,a.click(),e.appendChild(a)},i.readAsDataURL(e.files[t])}removebalanceSheetUpload(e,t,i=!0){this.showdisabled||this.financialservice.deleteRecord(t.id).subscribe(t=>{this.balancesheetAttachment.splice(e,1),i&&this.toastr.info("File removed successfully","Financial Info")})}removecpaUpload(e,t,i=!0){this.showdisabled||this.financialservice.deleteRecord(t.id).subscribe(t=>{this.cpaAttachment.splice(e,1),i&&this.toastr.info("File removed successfully","Financial Info")})}profitlossUpload(e){let t=document.getElementById("internal_Profit_Upload");for(let i=0;i<t.files.length;i++)this.tempinternalProfitUpload.push(t.files[i]);this.spinner.cpaSpinner=!0,this.fileupload()}removeprofitlossUpload(e,t,i=!0){this.showdisabled||this.financialservice.deleteRecord(t.id).subscribe(t=>{this.profitlossAttachment.splice(e,1),i&&this.toastr.info("File removed successfully","Financial Info")})}wipUpload(e){let t=document.getElementById("WIP_Upload");for(let i=0;i<t.files.length;i++)this.tempwipAttachment.push(t.files[i]);this.spinner.wipSpinner=!0,this.fileupload()}removetriRInfoTwoYearsUpload(e,t){this.showdisabled||this.financialservice.deleteRecord(t.id).subscribe(t=>{this.toastr.info("File removed successfully","Financial Info"),this.wipAttachment.splice(e,1)})}resetSpinner(){this.spinner={cpaSpinner:!1,balanceSpinner:!1,lossSpinner:!1,wipSpinner:!1}}rejectionalert(){this.financialinfoForm.value.reject_Reason.length>0?(this.financialinfoForm.controls.reject_Reason.setValidators(null),this.financialinfoForm.updateValueAndValidity()):(this.financialinfoForm.controls.reject_Reason.setValidators([o.w.required]),this.financialinfoForm.updateValueAndValidity()),this.condApprovetxt()}completion(){this.financialinfoForm.controls.reject_Reason.clearValidators(),this.completionclicked=1,this.financialinfoForm.updateValueAndValidity();let e=new FormData;e.append("PreQualification_Status","Approved"),e.append("User_Type",this.userRole),this.financialservice.updateOrgRecord(e,this.companyInfo.value.id).subscribe(e=>{this.companyId=e.id,this.financialinfoForm.patchValue({reject_Reason:""}),this.getRecords(),this.toastr.success("Submission approved successfully","Application Submission")})}condApprove(){if(this.completionclicked=2,0==this.financialinfoForm.value.reject_Reason.length)this.submitted=!0;else{let e=new FormData;e.append("PreQualification_Status","Conditionally Approved"),e.append("User_Type",this.userRole),e.append("reject_Reason",this.financialinfoForm.value.reject_Reason),document.getElementById("exampleModals").click(),this.financialservice.updateOrgRecord(e,this.companyInfo.value.id).subscribe(e=>{this.companyId=e.id,this.getRecords(),this.toastr.success("Submission conditionally approved successfully","Application Submission")})}}condApprovetxt(){var e;(null===(e=this.financialinfoForm.value.reject_Reason)||void 0===e?void 0:e.length)>0?(this.submitted=!1,this.rejecionrequired=!1):(this.submitted=!0,this.rejecionrequired=!0),this.financialinfoForm.controls.reject_Reason.enable(),this.financialinfoForm.controls.reject_Reason.updateValueAndValidity()}fileupload(){if(this.keepalive.stop(),0==this.financialid){this.financialinfoForm.patchValue({isAutosave:!0});let e=this.formMethod();this.financialservice.addRecord(e).subscribe(e=>{this.keepalive.stop(),this.financialinfoForm.patchValue({cpa_auditReviewed:"",internal_Balance_Upload:"",internal_Profit_Upload:"",WIP_Upload:"",id:e.id}),this.submitText="UPDATE",this.getRecords(),this.resetSpinner()})}else{this.financialinfoForm.patchValue({id:this.financialid,isAutosave:!0});let e=this.formMethod();this.financialservice.updateRecord(e,this.financialinfoForm.value.id).subscribe(e=>{this.keepalive.stop(),this.getRecords(),this.resetSpinner(),this.financialinfoForm.patchValue({cpa_auditReviewed:"",internal_Balance_Upload:"",internal_Profit_Upload:"",WIP_Upload:""})})}}getComplete(){this.financialservice.getComplete(this.companyId).subscribe(e=>{if(e.data.length&&"Under Review"==e.data[0].preQualification_Status){this.isCompleted=!0;let e=new FormData;e.append("PreQualification_Status","Under Review"),e.append("Approved_Date",(new Date).toLocaleDateString("en-in")),e.append("User_Type",this.userRole),this.financialservice.updateOrgRecord(e,this.companyInfo.value.id).subscribe(e=>{this.router.navigate(["/home"])})}})}gotoHome(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm-1].url}`])}openlink(e){this.sanitizer.bypassSecurityTrustUrl(e.file_Path)}nextroutePage(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(o.d),c.Pb(a.f),c.Pb(Ri),c.Pb(d.a),c.Pb(m.a),c.Pb(h.b),c.Pb(l.a),c.Pb(v),c.Pb(Fi.b),c.Pb(y.c))},e.\u0275cmp=c.Jb({type:e,selectors:[["app-financialinfo"]],decls:222,vars:130,consts:[[1,"px-2",3,"formGroup","ngClass","ngSubmit","keydown.enter"],[1,"px-2","my-1","pb-1","form-bg"],[1,"form-group","input-group","row","mx-auto","mb-3","pt-2"],[1,"col-lg-6","pe-1","py-2","col-head-1"],[1,"row","bg-white","col-curve-top","mx-auto"],[1,"col-12","py-2"],["for","is_Independent_CPA",1,"my-auto","fw-bold","pt-2"],[1,"text-danger"],[1,"row"],[1,"col-lg-2"],["type","radio","formControlName","is_Independent_CPA","value","yes","checked","checked","name","is_Independent_CPA","id","is_Independent_CPA_yes",3,"ngModelChange","click"],["for","is_Independent_CPA_yes"],[1,"col-lg-10"],["type","radio","formControlName","is_Independent_CPA","value","no","name","is_Independent_CPA","id","is_Independent_CPA_no",3,"ngModelChange","click"],["for","is_Independent_CPA_no"],["class","invalid-feedback",4,"ngIf"],[1,"row","mt-1",3,"ngClass"],[1,"col-5"],["for","cpa_auditReviewed",1,"my-auto","font-italic"],["class","text-danger",4,"ngIf"],[1,"col-7"],[1,"form-control-customitem","form-control"],["type","file","title","Choose file","formControlName","cpa_auditReviewed","id","cpa_auditReviewed","name","cpa_auditReviewed","multiple","",3,"ngClass","change"],["for","cpa_auditReviewed",3,"ngClass"],["class","spinner__loading pt-3",4,"ngIf"],["class","me-2",4,"ngFor","ngForOf"],["for","internal_Balance_Upload",1,"my-auto","font-italic"],["type","file","title","Choose file","formControlName","internal_Balance_Upload","id","internal_Balance_Upload","name","internal_Balance_Upload","multiple","",3,"ngClass","change"],["for","internal_Balance_Upload",3,"ngClass"],[1,"row","py-2",3,"ngClass"],["for","internal_Profit_Upload",1,"my-auto","font-italic"],["type","file","title","Choose file","formControlName","internal_Profit_Upload","id","internal_Profit_Upload","name","internal_Profit_Upload","multiple","",3,"ngClass","change"],["for","internal_Profit_Upload",3,"ngClass"],[1,"row","bg-white","col-curve","py-2","mt-3","mx-auto","wip-bottom"],[1,"row","pt-2"],[1,"fw-bold"],[1,"col-6"],["for","iS_Extended_Credit",1,"my-auto","font-italic","float-right"],[1,"row","pt-1"],[1,"col-lg-4"],["type","radio","formControlName","iS_Extended_Credit","value","yes","checked","checked","name","iS_Extended_Credit","id","iS_Extended_Credit_yes",3,"ngModelChange"],["for","iS_Extended_Credit_yes"],[1,"col-lg-8"],["type","radio","formControlName","iS_Extended_Credit","value","no","name","iS_Extended_Credit","id","iS_Extended_Credit_no",3,"click","ngModelChange"],["for","iS_Extended_Credit_no"],[1,"row","mt-2",3,"ngClass"],["for","appr_CreditValue",1,"my-auto","font-italic","float-right"],["type","text","formControlName","appr_CreditValue","pattern","[0-9]+","id","appr_CreditValue","name","appr_CreditValue",1,"form-control",3,"ngClass","keydown","keyup","ngModelChange"],["for","appr_CreditValue_Used",1,"my-auto","font-italic","float-right"],["type","text","formControlName","appr_CreditValue_Used","pattern","[0-9]+","id","appr_CreditValue_Used","name","appr_CreditValue_Used",1,"form-control",3,"ngClass","keydown","keyup","ngModelChange"],["for","bank_Name",1,"my-auto","font-italic","float-right"],["type","text","formControlName","bank_Name","pattern","[0-9]+","id","bank_Name","name","bank_Name",1,"form-control",3,"ngClass","ngModelChange"],["for","bank_Contact_Personnnel",1,"my-auto","font-italic","float-right"],["type","text","formControlName","bank_Contact_Personnnel","id","bank_Contact_Personnnel","name","bank_Contact_Personnnel",1,"form-control",3,"ngClass","ngModelChange"],["for","bank_Contact_email",1,"my-auto","font-italic","float-right"],["type","text","formControlName","bank_Contact_email","id","bank_Contact_email","name","bank_Contact_email",1,"form-control",3,"ngClass","ngModelChange"],["for","bank_Contact_phone",1,"my-auto","font-italic","float-right"],["type","text","appPhoneMask","","onKeyPress","if(this.value.length==15) return false;","formControlName","bank_Contact_phone","id","bank_Contact_phone","name","bank_Contact_phone",1,"form-control",3,"ngClass","ngModelChange"],[1,"col-lg-6","pe-1","py-2","mt-2","bg-white","col-curve-top","col-head-2","mx-auto"],[1,"row","my-auto","pt-2"],["for","WIP_Upload",1,"my-auto","fw-bold"],["type","file","formControlName","WIP_Upload","title","Choose file","id","WIP_Upload","name","WIP_Upload","multiple","",3,"ngClass","change"],["for","WIP_Upload",3,"ngClass"],[1,"pt-2"],["href","assets/WIP Sheet.XLSX","target","_blank",1,"font-bold",3,"ngClass","ngStyle"],["class","mr-4 px-3 border pb-4",4,"ngIf"],["class","mr-4 px-3 border mt-4 pb-4",4,"ngIf"],["class","text-end mx-lg-4 my-4",4,"ngIf"],["class","text-end mx-lg-4 d-none d-lg-block my-4",4,"ngIf"],["class","text-end mx-lg-4 d-lg-none pb-3",4,"ngIf"],[3,"companyId","taxId","vendorId",4,"ngIf"],["type","button","id","exampleModals","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn-hide"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","false",1,"modal","fade"],["exampleModal",""],[1,"modal-dialog","modal-lg","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","text-success"],["type","button","id","closebutton","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"px-2",3,"formGroup","ngSubmit","keydown.enter"],["formControlName","reject_Reason","id","reject_Reason","rows","13","name","reject_Reason",1,"form-control",3,"ngClass","ngModelChange"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","default-btn","modal-cancel"],["type","submit",1,"btn","default-btn",3,"click"],["type","button","id","formsubmitmodal","data-bs-toggle","modal","data-bs-target","#formsubmitmodals",1,"btn-hide"],["id","formsubmitmodals","tabindex","-1","aria-labelledby","formsubmitmodals","aria-hidden","false",1,"modal","fade"],["formsubmitmodals",""],[1,"modal-dialog","modal-md","modal-dialog-centered"],["id","formsubmitmodal",1,"modal-title","text-success"],[1,"modal-body","my-3"],[1,"modal-footer","py-1"],["type","button","id","beforesubmitmodal","data-bs-toggle","modal","data-bs-target","#beforesubmitmodals",1,"btn-hide"],["id","beforesubmitmodals","tabindex","-1","aria-labelledby","beforesubmitmodals","aria-hidden","false",1,"modal","fade"],["beforesubmitmodals",""],["type","button","data-bs-dismiss","modal",1,"btn","default-btn",3,"click"],["type","button","id","previewimagemodal","data-bs-toggle","modal","data-bs-target","#previewimagemodal",1,"btn-hide"],["id","previewimagemodals","tabindex","-1","aria-labelledby","previewimagemodals","aria-hidden","false",1,"modal","fade"],["previewimagemodal",""],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner__loading","pt-3"],["diameter","18","mode","indeterminate",1,"mt-1"],[1,"me-2"],[1,"file-tag"],["target","_blank",3,"href","click"],[1,"file-close","text-white",3,"click"],["target","_blank",3,"href","download"],[1,"mr-4","px-3","border","pb-4"],[1,"text-center","text-success","my-3"],["class","p-3 record-shadow my-2",4,"ngFor","ngForOf"],[1,"p-3","record-shadow","my-2"],[1,"col-lg-10","p-1","px-lg-2"],["class","pt-2 text-succes fw-bold text-success m-0",4,"ngIf"],[1,"col-lg-2","py-2","ps-1","px-lg-2"],[1,"fw-bold","text-success","float-lg-end","m-0"],[1,"fw-normal"],[1,"col-10","p-1","m-0","px-lg-2"],["class","mb-4",4,"ngIf"],[1,"pt-2","text-succes","fw-bold","text-success","m-0"],[1,"fw-bold","text-success"],[1,"mb-4"],[1,"text-capitalize","ps-4"],[1,"mr-4","px-3","border","mt-4","pb-4"],[1,"text-center","my-2","text-success"],["class","pt-2 text-success",4,"ngIf"],[1,"fw-bold","text-success","float-end"],[1,"pt-2","text-success"],[1,"text-end","mx-lg-4","my-4"],[1,"btn","float-start","btn","default-btn",3,"click"],["type","button",1,"btn","ml-4","default-btn",3,"click"],["type","button",1,"btn","ms-2","default-btn",3,"click"],[1,"text-end","mx-lg-4","d-none","d-lg-block","my-4"],[1,"btn","btn-success","mx-2","default-btn",3,"click"],[1,"text-end","mx-lg-4","d-lg-none","pb-3"],[1,"btn","float-start","btn","mx-3","default-btn",3,"click"],[3,"companyId","taxId","vendorId"]],template:function(e,t){1&e&&(c.Vb(0,"form",0),c.cc("ngSubmit",function(){return t.submit()})("keydown.enter",function(e){return e.preventDefault()}),c.Vb(1,"div",1),c.Vb(2,"div",2),c.Vb(3,"div",3),c.Vb(4,"div",4),c.Vb(5,"div",5),c.Vb(6,"h6",6),c.Dc(7,"1. Has your company had their most recent year-end financial statements audited, reviewed, or compiled by an independant CPA? "),c.Vb(8,"span",7),c.Dc(9,"*"),c.Ub(),c.Ub(),c.Qb(10,"br"),c.Vb(11,"div",8),c.Vb(12,"span",9),c.Vb(13,"input",10),c.cc("ngModelChange",function(){return t.idleReset()})("click",function(){return t.resetYes()}),c.Ub(),c.Vb(14,"label",11),c.Dc(15," YES"),c.Ub(),c.Ub(),c.Vb(16,"span",12),c.Vb(17,"input",13),c.cc("ngModelChange",function(){return t.idleReset()})("click",function(){return t.resetNo()}),c.Ub(),c.Vb(18,"label",14),c.Dc(19," NO"),c.Ub(),c.Ub(),c.Bc(20,cn,2,1,"div",15),c.Vb(21,"div",16),c.Vb(22,"div",17),c.Vb(23,"label",18),c.Dc(24,"CPA audited, reviewed and verified records "),c.Bc(25,ln,2,0,"span",19),c.Ub(),c.Ub(),c.Vb(26,"div",20),c.Vb(27,"div",21),c.Vb(28,"input",22),c.cc("change",function(e){return t.CPAAuditUpload(e)}),c.Ub(),c.Vb(29,"span",23),c.Dc(30," \xa0Click here to Add Files"),c.Ub(),c.Ub(),c.Bc(31,un,2,1,"div",15),c.Bc(32,mn,4,0,"div",24),c.Bc(33,bn,7,2,"div",25),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(34,"div",16),c.Vb(35,"div",17),c.Vb(36,"label",26),c.Dc(37,"Internal Balance Sheet "),c.Bc(38,pn,2,0,"span",19),c.Ub(),c.Ub(),c.Vb(39,"div",20),c.Vb(40,"div",21),c.Vb(41,"input",27),c.cc("change",function(e){return t.balanceSheetUpload(e)}),c.Ub(),c.Vb(42,"span",28),c.Dc(43," \xa0Click here to Add Files"),c.Ub(),c.Ub(),c.Bc(44,hn,2,1,"div",15),c.Bc(45,gn,4,0,"div",24),c.Bc(46,_n,7,2,"div",25),c.Ub(),c.Ub(),c.Vb(47,"div",29),c.Vb(48,"div",17),c.Vb(49,"label",30),c.Dc(50,"Internal Profit & Loss Statement "),c.Bc(51,vn,2,0,"span",19),c.Ub(),c.Ub(),c.Vb(52,"div",20),c.Vb(53,"div",21),c.Vb(54,"input",31),c.cc("change",function(e){return t.profitlossUpload(e)}),c.Ub(),c.Vb(55,"span",32),c.Dc(56," \xa0Click here to Add Files"),c.Ub(),c.Ub(),c.Bc(57,Vn,2,1,"div",15),c.Bc(58,Un,4,0,"div",24),c.Bc(59,Dn,7,2,"div",25),c.Ub(),c.Ub(),c.Ub(),c.Vb(60,"div",33),c.Vb(61,"div",34),c.Vb(62,"h6",35),c.Dc(63,"3. Banking Information"),c.Ub(),c.Vb(64,"div",34),c.Vb(65,"div",36),c.Vb(66,"label",37),c.Dc(67," Do you have access to extended line of credit? "),c.Vb(68,"span",7),c.Dc(69,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(70,"div",36),c.Vb(71,"div",38),c.Vb(72,"span",39),c.Vb(73,"input",40),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Vb(74,"label",41),c.Dc(75," YES"),c.Ub(),c.Ub(),c.Vb(76,"span",42),c.Vb(77,"input",43),c.cc("click",function(){return t.resetFinance()})("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Vb(78,"label",44),c.Dc(79," NO"),c.Ub(),c.Ub(),c.Ub(),c.Bc(80,In,2,1,"div",15),c.Ub(),c.Vb(81,"div",45),c.Vb(82,"div",36),c.Vb(83,"label",46),c.Dc(84," Approximate value of line of credit: "),c.Bc(85,Rn,2,0,"span",19),c.Ub(),c.Ub(),c.Vb(86,"div",36),c.Vb(87,"input",47),c.cc("keydown",function(e){return t.numberCheck(e)})("keyup",function(e){return t.CommaFormatted(e,"appr_CreditValue")})("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Bc(88,wn,2,1,"div",15),c.Ub(),c.Ub(),c.Vb(89,"div",45),c.Vb(90,"div",36),c.Vb(91,"label",48),c.Dc(92," Approximate value used on your line of credit: "),c.Bc(93,Sn,2,0,"span",19),c.Ub(),c.Ub(),c.Vb(94,"div",36),c.Vb(95,"input",49),c.cc("keydown",function(e){return t.numberCheck(e)})("keyup",function(e){return t.CommaFormatted(e,"appr_CreditValue_Used")})("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Bc(96,xn,2,1,"div",15),c.Ub(),c.Ub(),c.Vb(97,"div",45),c.Vb(98,"div",36),c.Vb(99,"label",50),c.Dc(100," Bank Name: "),c.Bc(101,Pn,2,0,"span",19),c.Ub(),c.Ub(),c.Vb(102,"div",36),c.Vb(103,"input",51),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Bc(104,On,2,1,"div",15),c.Ub(),c.Ub(),c.Vb(105,"div",45),c.Vb(106,"div",36),c.Vb(107,"label",52),c.Dc(108," Bank contact personnel: "),c.Bc(109,En,2,0,"span",19),c.Ub(),c.Ub(),c.Vb(110,"div",36),c.Vb(111,"input",53),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Bc(112,Mn,2,1,"div",15),c.Ub(),c.Ub(),c.Vb(113,"div",45),c.Vb(114,"div",36),c.Vb(115,"label",54),c.Dc(116," Bank contact email: "),c.Bc(117,Nn,2,0,"span",19),c.Ub(),c.Ub(),c.Vb(118,"div",36),c.Vb(119,"input",55),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Bc(120,Ln,3,2,"div",15),c.Ub(),c.Ub(),c.Vb(121,"div",45),c.Vb(122,"div",36),c.Vb(123,"label",56),c.Dc(124,"Bank contact phone: "),c.Bc(125,Tn,2,0,"span",19),c.Ub(),c.Ub(),c.Vb(126,"div",36),c.Vb(127,"input",57),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Bc(128,Gn,2,1,"div",15),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(129,"div",58),c.Vb(130,"div",59),c.Vb(131,"div",17),c.Vb(132,"h6",60),c.Dc(133,"2. Work in progress file attachment "),c.Vb(134,"span",7),c.Dc(135,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(136,"div",20),c.Vb(137,"div",21),c.Vb(138,"input",61),c.cc("change",function(e){return t.wipUpload(e)}),c.Ub(),c.Vb(139,"span",62),c.Dc(140," \xa0Click here to Add Files"),c.Ub(),c.Ub(),c.Bc(141,Qn,4,0,"div",24),c.Bc(142,zn,7,3,"div",25),c.Bc(143,Wn,2,1,"div",15),c.Ub(),c.Vb(144,"label",63),c.Dc(145,"If you don't have work in progress(WIP) document, please use the "),c.Vb(146,"u"),c.Vb(147,"a",64),c.Dc(148,"attached template"),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Bc(149,eo,4,1,"div",65),c.Bc(150,ro,4,1,"div",66),c.Bc(151,so,7,1,"div",67),c.Ub(),c.Bc(152,co,5,0,"div",68),c.Bc(153,lo,3,0,"div",69),c.Bc(154,uo,1,3,"app-financial-statement",70),c.Qb(155,"button",71),c.Vb(156,"div",72,73),c.Vb(158,"div",74),c.Vb(159,"div",75),c.Vb(160,"div",76),c.Vb(161,"h6",77),c.Dc(162,"Conditionally approved reason"),c.Ub(),c.Qb(163,"button",78),c.Ub(),c.Vb(164,"div",79),c.Vb(165,"form",80),c.cc("ngSubmit",function(){return t.submit()})("keydown.enter",function(e){return e.preventDefault()}),c.Vb(166,"textarea",81),c.cc("ngModelChange",function(){return t.condApprovetxt()}),c.Ub(),c.Bc(167,mo,3,0,"div",15),c.Ub(),c.Ub(),c.Vb(168,"div",82),c.Vb(169,"button",83),c.Dc(170,"CANCEL"),c.Ub(),c.Vb(171,"button",84),c.cc("click",function(){return t.condApprove()}),c.Dc(172,"SAVE"),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Qb(173,"button",85),c.Vb(174,"div",86,87),c.Vb(176,"div",88),c.Vb(177,"div",75),c.Vb(178,"div",76),c.Vb(179,"h6",89),c.Dc(180,"Application incomplete alert"),c.Ub(),c.Qb(181,"button",78),c.Ub(),c.Vb(182,"div",90),c.Vb(183,"small"),c.Dc(184,"Application section is incomplete. Please review and ensure all the required fields are filled."),c.Ub(),c.Ub(),c.Vb(185,"div",91),c.Vb(186,"button",83),c.Dc(187,"CLOSE"),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Qb(188,"button",92),c.Vb(189,"div",93,94),c.Vb(191,"div",88),c.Vb(192,"div",75),c.Vb(193,"div",76),c.Vb(194,"h6",89),c.Dc(195,"Messer"),c.Ub(),c.Qb(196,"button",78),c.Ub(),c.Vb(197,"div",90),c.Vb(198,"small"),c.Dc(199,"Are you sure you want to submit the application?"),c.Ub(),c.Ub(),c.Vb(200,"div",91),c.Vb(201,"button",95),c.cc("click",function(){return t.submit()}),c.Dc(202,"YES"),c.Ub(),c.Vb(203,"button",83),c.Dc(204,"NO"),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Qb(205,"button",96),c.Vb(206,"div",97,98),c.Vb(208,"div",88),c.Vb(209,"div",75),c.Vb(210,"div",76),c.Vb(211,"h6",89),c.Dc(212,"Messer"),c.Ub(),c.Qb(213,"button",78),c.Ub(),c.Vb(214,"div",90),c.Vb(215,"p"),c.Dc(216),c.Ub(),c.Ub(),c.Vb(217,"div",91),c.Vb(218,"button",95),c.cc("click",function(){return t.submit()}),c.Dc(219,"YES"),c.Ub(),c.Vb(220,"button",83),c.Dc(221,"NO"),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub()),2&e&&(c.mc("formGroup",t.financialinfoForm)("ngClass",c.pc(76,bo,1==t.showdisabled)),c.Db(20),c.mc("ngIf",(t.f.is_Independent_CPA.touched||t.submitted)&&t.f.is_Independent_CPA.errors),c.Db(1),c.mc("ngClass",c.pc(78,bo,!0===t.showdisabled||"no"==t.f.is_Independent_CPA.value)),c.Db(4),c.mc("ngIf","yes"==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.is_Independent_CPA)),c.Db(3),c.mc("ngClass",c.pc(80,po,t.submitted&&t.f.cpa_auditReviewed.errors)),c.Eb("disabled","no"==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.is_Independent_CPA)?"":null),c.Db(1),c.mc("ngClass",c.pc(82,bo,!0===t.showdisabled||"no"==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.is_Independent_CPA))),c.Db(2),c.mc("ngIf","yes"==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.is_Independent_CPA)&&(t.f.cpa_auditReviewed.touched||t.submitted)&&t.f.cpa_auditReviewed.errors),c.Db(1),c.mc("ngIf",null==t.spinner?null:t.spinner.cpaSpinner),c.Db(1),c.mc("ngForOf",t.cpaAttachment),c.Db(1),c.mc("ngClass",c.pc(84,bo,!0===t.showdisabled||"no"!=t.f.is_Independent_CPA.value)),c.Db(4),c.mc("ngIf","no"==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.is_Independent_CPA)),c.Db(3),c.mc("ngClass",c.pc(86,po,t.submitted&&t.f.internal_Balance_Upload.errors)),c.Eb("disabled","no"!=(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.is_Independent_CPA)?"":null),c.Db(1),c.mc("ngClass",c.pc(88,bo,!0===t.showdisabled||"no"!=(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.is_Independent_CPA))),c.Db(2),c.mc("ngIf",(t.f.internal_Balance_Upload.touched||t.submitted)&&t.f.internal_Balance_Upload.errors),c.Db(1),c.mc("ngIf",null==t.spinner?null:t.spinner.balanceSpinner),c.Db(1),c.mc("ngForOf",t.balancesheetAttachment),c.Db(1),c.mc("ngClass",c.pc(90,bo,!0===t.showdisabled||"no"!==t.f.is_Independent_CPA.value)),c.Db(4),c.mc("ngIf","no"==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.is_Independent_CPA)),c.Db(3),c.mc("ngClass",c.pc(92,po,t.submitted&&t.f.internal_Profit_Upload.errors)),c.Eb("disabled","no"!=(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.is_Independent_CPA)?"":null),c.Db(1),c.mc("ngClass",c.pc(94,bo,!0===t.showdisabled||"no"!==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.is_Independent_CPA))),c.Db(2),c.mc("ngIf",(t.f.internal_Profit_Upload.touched||t.submitted)&&t.f.internal_Profit_Upload.errors),c.Db(1),c.mc("ngIf",null==t.spinner?null:t.spinner.lossSpinner),c.Db(1),c.mc("ngForOf",t.profitlossAttachment),c.Db(21),c.mc("ngIf",(t.f.iS_Extended_Credit.touched||t.submitted)&&t.f.iS_Extended_Credit.errors),c.Db(1),c.mc("ngClass",c.pc(96,bo,!0===t.showdisabled||"no"==t.f.iS_Extended_Credit.value)),c.Db(4),c.mc("ngIf","yes"==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.iS_Extended_Credit)),c.Db(2),c.mc("ngClass",c.pc(98,po,t.submitted&&t.f.appr_CreditValue.errors)),c.Eb("disabled","no"==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.iS_Extended_Credit)?"":null),c.Db(1),c.mc("ngIf",(t.submitted||t.f.appr_CreditValue.touched)&&t.f.appr_CreditValue.errors),c.Db(1),c.mc("ngClass",c.pc(100,bo,"no"==t.f.iS_Extended_Credit.value)),c.Db(4),c.mc("ngIf","yes"==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.iS_Extended_Credit)),c.Db(2),c.mc("ngClass",c.pc(102,po,t.submitted&&t.f.appr_CreditValue_Used.errors)),c.Eb("disabled","no"==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.iS_Extended_Credit)?"":null),c.Db(1),c.mc("ngIf",(t.submitted||t.f.appr_CreditValue_Used.touched)&&t.f.appr_CreditValue_Used.errors),c.Db(1),c.mc("ngClass",c.pc(104,bo,"no"==t.f.iS_Extended_Credit.value)),c.Db(4),c.mc("ngIf","yes"==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.iS_Extended_Credit)),c.Db(2),c.mc("ngClass",c.pc(106,po,t.submitted&&t.f.bank_Name.errors)),c.Eb("disabled","no"==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.iS_Extended_Credit)?"":null),c.Db(1),c.mc("ngIf",(t.submitted||t.f.bank_Name.touched)&&t.f.bank_Name.errors),c.Db(1),c.mc("ngClass",c.pc(108,bo,"no"==t.f.iS_Extended_Credit.value)),c.Db(4),c.mc("ngIf","yes"==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.iS_Extended_Credit)),c.Db(2),c.mc("ngClass",c.pc(110,po,t.submitted&&t.f.bank_Contact_Personnnel.errors)),c.Eb("disabled","no"==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.iS_Extended_Credit)?"":null),c.Db(1),c.mc("ngIf",t.submitted&&t.f.bank_Contact_Personnnel.errors),c.Db(1),c.mc("ngClass",c.pc(112,bo,"no"==t.f.iS_Extended_Credit.value)),c.Db(4),c.mc("ngIf","yes"==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.iS_Extended_Credit)),c.Db(2),c.mc("ngClass",c.pc(114,po,t.submitted&&t.f.bank_Contact_email.errors)),c.Eb("disabled","no"==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.iS_Extended_Credit)?"":null),c.Db(1),c.mc("ngIf",t.submitted&&t.f.bank_Contact_email.errors),c.Db(1),c.mc("ngClass",c.pc(116,bo,"no"==t.f.iS_Extended_Credit.value)),c.Db(4),c.mc("ngIf","yes"==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.iS_Extended_Credit)),c.Db(2),c.mc("ngClass",c.pc(118,po,t.submitted&&t.f.bank_Contact_phone.errors)),c.Eb("disabled","no"==(null==t.financialinfoForm||null==t.financialinfoForm.value?null:t.financialinfoForm.value.iS_Extended_Credit)?"":null),c.Db(1),c.mc("ngIf",t.submitted&&t.f.bank_Contact_phone.errors),c.Db(10),c.mc("ngClass",c.pc(120,po,t.submitted&&t.f.WIP_Upload.errors)),c.Db(1),c.mc("ngClass",c.pc(122,bo,!0===t.showdisabled)),c.Db(2),c.mc("ngIf",null==t.spinner?null:t.spinner.wipSpinner),c.Db(1),c.mc("ngForOf",t.wipAttachment),c.Db(1),c.mc("ngIf",t.submitted&&t.f.WIP_Upload.errors),c.Db(4),c.mc("ngClass",c.pc(124,bo,t.showdisabled))("ngStyle",c.pc(126,fo,t.showdisabled?"none":"auto")),c.Db(2),c.mc("ngIf","Subcontractor"!=t.userRole&&(null==t.getriskrecords?null:t.getriskrecords.length)>0),c.Db(1),c.mc("ngIf","Subcontractor"!=t.userRole&&t.showrisk1status&&(null==t.getrisk2records?null:t.getrisk2records.length)>0),c.Db(1),c.mc("ngIf",!(t.showAdmin||t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status)),c.Db(1),c.mc("ngIf",!t.showAdmin&&t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status||t.showAdmin),c.Db(1),c.mc("ngIf",!t.showAdmin&&t.prequalification_status&&"In-Progress"!=t.prequalification_status||t.showAdmin),c.Db(1),c.mc("ngIf","Subcontractor"!=t.userRole&&"Additional Info Needed from Subcontractor"!=t.prequalification_status&&"Prequal form submitted and under quality check"!=t.prequalification_status),c.Db(11),c.mc("formGroup",t.financialinfoForm),c.Db(1),c.mc("ngClass",c.pc(128,po,t.rejecionrequired)),c.Eb("disable",!1),c.Db(1),c.mc("ngIf",t.rejecionrequired),c.Db(49),c.Ec(t.previewimgurl))},directives:[o.x,o.m,o.g,n.k,o.s,o.b,o.l,o.f,n.m,n.l,o.r,V,n.n,A.a,rn],pipes:[n.e],styles:[".form-group[_ngcontent-%COMP%]{margin:15px 0}input[type=file][_ngcontent-%COMP%]{width:90px;color:transparent}.form-control-customitem[_ngcontent-%COMP%]{width:98%;cursor:pointer}.form-control-customitem[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer}.record-shadow[_ngcontent-%COMP%]{border:1px solid #ddd;box-shadow:0 .5rem 1rem rgba(0,0,0,.15)!important}.border[_ngcontent-%COMP%]{border:4px solid hsla(0,0%,86.7%,.6196078431372549)!important}.col-curve-top[_ngcontent-%COMP%]{border-top:6px solid #c3bdbd!important}.col-curve[_ngcontent-%COMP%], .col-curve-top[_ngcontent-%COMP%]{border-radius:18px 19px!important}.wip-bottom[_ngcontent-%COMP%]{position:relative;bottom:-8px}h6[_ngcontent-%COMP%]{font-size:13px!important}.bg-grey[_ngcontent-%COMP%]{color:#c7bfbf!important}"]}),e})(),go=(()=>{class e extends E.a{constructor(e,t){super("safety",e,t,{root:O.a.webserviceURlLocal})}getAll(){return super.getAll()}getRecord(e){let t={Screen_ID:e,Screen_Type:"Safety"};const i={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")},body:t},n=this.httpUrlGenerator.entityResource("Files/"+e+"?Screen_Type=Safety",O.a.webserviceURlLocal);return this.http.get(n,i)}deleteRecord(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.delete(O.a.webserviceURlLocal+"Files/"+e,t)}getRecords(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("Safety/"+e,O.a.webserviceURlLocal);return this.http.get(i,t)}updateRecord(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},n=this.httpUrlGenerator.entityResource("Safety",O.a.webserviceURlLocal)+t;return this.http.put(n,e,i)}addRecord(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("Safety",O.a.webserviceURlLocal);return this.http.post(i,e,t)}getUser(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},n=this.httpUrlGenerator.entityResource("Organization/"+e+"/"+t,O.a.webserviceURlLocal);return this.http.get(n,i)}getComplete(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("Organization/Getstatus/"+e,O.a.webserviceURlLocal);return this.http.get(i,t)}}return e.\u0275fac=function(t){return new(t||e)(c.Zb(j.b),c.Zb(E.c))},e.\u0275prov=c.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),_o=(()=>{class e extends E.a{constructor(e,t){super("safetycomment",e,t,{root:O.a.webserviceURlLocal})}getAll(){return super.getAll()}getRecord(e){let t={Screen_ID:e,Screen_Type:"safetycomments"};const i={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")},body:t},n=this.httpUrlGenerator.entityResource("Files/"+e+"?Screen_Type=safetycomments",O.a.webserviceURlLocal);return this.http.get(n,i)}deleteRecord(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.delete(O.a.webserviceURlLocal+"Files/"+e,t)}getRecords(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("safetycomment/"+e,O.a.webserviceURlLocal);return this.http.get(i,t)}updateRecord(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},n=this.httpUrlGenerator.entityResource("safetycomment",O.a.webserviceURlLocal)+t;return this.http.put(n,e,i)}addRecord(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("safetycomment",O.a.webserviceURlLocal);return this.http.post(i,e,t)}addSafetyCalculation(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("SafetyCalculation",O.a.webserviceURlLocal);return this.http.post(i,e,t)}getSafetyCalculation(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("SafetyCalculation/"+e,O.a.webserviceURlLocal);return this.http.get(i,t)}getUser(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},n=this.httpUrlGenerator.entityResource("Organization/"+e+"/"+t,O.a.webserviceURlLocal);return this.http.get(n,i)}getComplete(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("Organization/Getstatus/"+e,O.a.webserviceURlLocal);return this.http.get(i,t)}}return e.\u0275fac=function(t){return new(t||e)(c.Zb(j.b),c.Zb(E.c))},e.\u0275prov=c.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function vo(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Safety Officer is required "),c.Ub())}function yo(e,t){if(1&e&&(c.Vb(0,"div",31),c.Bc(1,vo,2,0,"div",32),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.safety_officer.errors.required)}}function Vo(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Safety Program is required "),c.Ub())}function Uo(e,t){if(1&e&&(c.Vb(0,"div",31),c.Bc(1,Vo,2,0,"div",32),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.safety_program.errors.required)}}function Do(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Drug & Alcohol Policy is required "),c.Ub())}function Co(e,t){if(1&e&&(c.Vb(0,"div",31),c.Bc(1,Do,2,0,"div",32),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.drug_alcohol.errors.required)}}function Io(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Current Year is required "),c.Ub())}function Ro(e,t){if(1&e&&(c.Vb(0,"div",31),c.Bc(1,Io,2,0,"div",32),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.emr_currentyear.errors.required)}}function Fo(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Last Year is required "),c.Ub())}function wo(e,t){if(1&e&&(c.Vb(0,"div",31),c.Bc(1,Fo,2,0,"div",32),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.emr_lastyear.errors.required)}}function So(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Last Year is required "),c.Ub())}function ko(e,t){if(1&e&&(c.Vb(0,"div",31),c.Bc(1,So,2,0,"div",32),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.emr_twoyear.errors.required)}}function xo(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Last Year is required "),c.Ub())}function Po(e,t){if(1&e&&(c.Vb(0,"div",31),c.Bc(1,xo,2,0,"div",32),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.trir_lastyear.errors.required)}}function Ao(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Two Years Ago is required "),c.Ub())}function Oo(e,t){if(1&e&&(c.Vb(0,"div",31),c.Bc(1,Ao,2,0,"div",32),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.trir_twoyear.errors.required)}}function Eo(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Three Years Ago is required "),c.Ub())}function jo(e,t){if(1&e&&(c.Vb(0,"div",31),c.Bc(1,Eo,2,0,"div",32),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.trir_threeyear.errors.required)}}function Mo(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Safety Grade is required "),c.Ub())}function No(e,t){if(1&e&&(c.Vb(0,"div",31),c.Bc(1,Mo,2,0,"div",32),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.grade_safety.errors.required)}}function qo(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Comments is required "),c.Ub())}function Bo(e,t){if(1&e&&(c.Vb(0,"div",31),c.Bc(1,qo,2,0,"div",32),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.comment.errors.required)}}function Lo(e,t){1&e&&(c.Vb(0,"div",33),c.Vb(1,"span"),c.Dc(2,"Uploading..."),c.Ub(),c.Qb(3,"mat-progress-spinner",34),c.Ub())}function To(e,t){if(1&e&&(c.Vb(0,"div"),c.Vb(1,"p",35),c.Vb(2,"small"),c.Vb(3,"a",36),c.Dc(4),c.Ub(),c.Ub(),c.Ub(),c.Ub()),2&e){const e=t.$implicit;c.Db(3),c.nc("href",e.file_Path,c.wc),c.Db(1),c.Ec(e.name)}}const Yo=function(e){return{"is-invalid":e}};let Go=(()=>{class e{constructor(e,t,i,n,a){this.fb=e,this.safetycommentservice=t,this.financialstatementdataservice=i,this.financialservice=n,this.dialog=a,this.companyId=0,this.formId=0,this.taxId=0,this.vendorId=0,this.attachment=[],this.safety_Calcuate="",this.commentForm=this.fb.group({id:[0],CompanyId:[""],safety_officer:["",o.w.required],safety_program:["",o.w.required],drug_alcohol:["",o.w.required],emr_currentyear:["",o.w.required],emr_lastyear:["",o.w.required],emr_twoyear:["",o.w.required],trir_lastyear:["",o.w.required],trir_twoyear:["",o.w.required],trir_threeyear:["",o.w.required],grade_safety:[""],grade_value:[],comment:[""],overallNotes:[""],attachment:[""]}),this.trirScore="",this.emrScore="",this.drugAlcoholPolicyScore="",this.safetyProgramScore="",this.safetyScore="",this.spinner={bondingSpinner:!1},this.submitted=!1}ngOnInit(){}ngAfterViewInit(){this.companyId>0&&this.loadGrid()}get f(){return this.commentForm.controls}loadGrid(){this.safetycommentservice.getSafetyCalculation(this.companyId).subscribe(e=>{this.commentForm.patchValue({safety_officer:e[0].safetyOfficer,safety_program:e[0].safetyProgram,drug_alcohol:e[0].drugAlcoholPolicy,emr_currentyear:e[0].emr,emr_lastyear:e[0].emR1,emr_twoyear:e[0].emR2,trir_lastyear:e[0].trir,trir_twoyear:e[0].triR1,trir_threeyear:e[0].triR2,grade_safety:e[0].safetyGradeBySafety,grade_value:e[0].grade_value,comment:e[0].reasonForChangeofSafetyGrade,overallNotes:e[0].overallSafetyNotes}),this.safety_Calcuate=e[0].calculatedSafetyGrade,this.trirScore=e[0].trirScore,this.emrScore=e[0].emrScore,this.drugAlcoholPolicyScore=e[0].drugAlcoholPolicyScore,this.safetyProgramScore=e[0].safetyProgramScore,this.safetyScore=e[0].safetyScore})}safetygradecalculation(){if(this.submitted=!0,this.commentForm.valid){let e=this.formMethod();this.safetycommentservice.addSafetyCalculation(e).subscribe(e=>{const t={type:"safety",taxId:this.taxId,vendorId:this.vendorId,financeDate:new Date};this.financialstatementdataservice.addCalculatecurrent(t).subscribe(e=>{this.loadGrid()})})}}qcpUpload(e){let t=document.getElementById("attachment");for(let i=0;i<t.files.length;i++)this.attachment.push(t.files[i])}filepreview(e,t){var i=new FileReader;i.onload=i=>{let n=new Blob(e.files,{type:e.files[t].type});var o=(window.URL||window.webkitURL).createObjectURL(n),a=document.createElement("a"),r=document.createTextNode("View File");a.target="_blank",a.appendChild(r),a.href=o,a.click(),e.appendChild(a)},i.readAsDataURL(e.files[t])}formMethod(){console.log("this.commentForm.value",this.commentForm.value);var e=new FormData;e.append("companyId",this.companyId),e.append("safetyId",this.formId),e.append("safetyOfficer",this.commentForm.value.safety_officer),e.append("safetyProgram",this.commentForm.value.safety_program),e.append("drugAlcoholPolicy",this.commentForm.value.drug_alcohol),e.append("eMR",this.commentForm.value.emr_currentyear),e.append("eMR1",this.commentForm.value.emr_lastyear),e.append("eMR2",this.commentForm.value.emr_twoyear),e.append("tRIR",this.commentForm.value.trir_lastyear),e.append("tRIR1",this.commentForm.value.trir_twoyear),e.append("tRIR2",this.commentForm.value.trir_threeyear),e.append("safetyGradeBySafety",this.commentForm.value.grade_safety?this.commentForm.value.grade_safety:""),e.append("reasonForChangeofSafetyGrade",this.commentForm.value.comment?this.commentForm.value.comment:""),e.append("overallSafetyNotes",this.commentForm.value.overallNotes?this.commentForm.value.overallNotes:"");for(let t=0;t<this.attachment.length;t++)e.append("additionalAttachments",this.attachment[t]);return e.append("vendorId",this.vendorId),e.append("taxId",this.taxId),e.append("year",(new Date).getFullYear()),e}commentsubmit(){this.submitted=!0;let e=this.formMethod();this.safetycommentservice.addSafetyCalculation(e).subscribe(e=>{})}commentFinalsubmit(){this.submitted=!0,this.commentForm.valid&&this.dialog.open(wi,{width:"350px"}).afterClosed().subscribe(e=>{if(console.log("The dialog was closed"),"Yes"==e){let e=this.formMethod();this.safetycommentservice.addSafetyCalculation(e).subscribe(e=>{let t=new FormData;t.append("PreQualification_Status","Safety Reviewed"),t.append("Approved_Date",(new Date).toLocaleString()),this.financialservice.updateOrgRecord(t,this.companyId).subscribe(e=>{})})}})}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(o.d),c.Pb(_o),c.Pb(Si),c.Pb(Ri),c.Pb(g.b))},e.\u0275cmp=c.Jb({type:e,selectors:[["app-safetycomment"]],inputs:{companyId:"companyId",formId:"formId",taxId:"taxId",vendorId:"vendorId"},decls:173,vars:26,consts:[[1,"section"],[1,"bgyellow"],[1,"comment-section"],[1,"form",3,"formGroup","keydown.enter"],[1,"table"],["formControlName","safety_officer",1,"form-select"],["class","invalid-feedback",4,"ngIf"],["formControlName","safety_program",1,"form-select"],["formControlName","drug_alcohol",1,"form-select"],[1,"font-bold"],["formControlName","emr_currentyear",1,"form-control"],["rowspan","3"],["formControlName","emr_lastyear",1,"form-control"],["formControlName","emr_twoyear",1,"form-control"],["formControlName","trir_lastyear",1,"form-control"],["formControlName","trir_twoyear",1,"form-control"],["formControlName","trir_threeyear",1,"form-control"],[1,"btn","default-btn",3,"click"],["formControlName","grade_safety",1,"form-select"],[1,"row"],["for","is_Surety_Bond",1,"my-auto1","fw-bold"],["formControlName","comment","id","comment","name","comment",1,"form-control","rowform",3,"ngClass"],["formControlName","overallNotes","id","comment","name","overallNotes",1,"form-control","rowform"],[1,"my-auto1"],[1,"form-control-customitem","form-control","rowform"],["type","file","title","Choose file","formControlName","attachment","id","attachment","name","attachment","multiple","",3,"ngClass","change"],["for","attachment"],["class","spinner__loading pt-3",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"text-left","col-md-6"],[1,"col-md-6","text-end"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner__loading","pt-3"],["diameter","18","mode","indeterminate",1,"mt-1"],[1,"file-tag"],["target","_blank",3,"href"]],template:function(e,t){1&e&&(c.Vb(0,"div",0),c.Vb(1,"div"),c.Vb(2,"span",1),c.Dc(3,"SAFETY REVIEW \u2013 Info entered on this page will sent to Risk and be a part of the prequalification review"),c.Ub(),c.Ub(),c.Vb(4,"div",2),c.Vb(5,"form",3),c.cc("keydown.enter",function(e){return e.preventDefault()}),c.Vb(6,"table",4),c.Vb(7,"tr"),c.Vb(8,"td"),c.Dc(9,"Safety Officer"),c.Vb(10,"span"),c.Dc(11,"*"),c.Ub(),c.Ub(),c.Vb(12,"td"),c.Vb(13,"select",5),c.Vb(14,"option"),c.Dc(15,"Approved"),c.Ub(),c.Vb(16,"option"),c.Dc(17,"Conditional"),c.Ub(),c.Vb(18,"option"),c.Dc(19,"Not Approved"),c.Ub(),c.Ub(),c.Bc(20,yo,2,1,"div",6),c.Ub(),c.Vb(21,"td"),c.Dc(22),c.Ub(),c.Ub(),c.Vb(23,"tr"),c.Vb(24,"td"),c.Dc(25,"Safety Program"),c.Vb(26,"span"),c.Dc(27,"*"),c.Ub(),c.Ub(),c.Vb(28,"td"),c.Vb(29,"select",7),c.Vb(30,"option"),c.Dc(31,"Approved"),c.Ub(),c.Vb(32,"option"),c.Dc(33,"Conditional"),c.Ub(),c.Vb(34,"option"),c.Dc(35,"Not Approved"),c.Ub(),c.Ub(),c.Bc(36,Uo,2,1,"div",6),c.Ub(),c.Vb(37,"td"),c.Dc(38),c.Ub(),c.Ub(),c.Vb(39,"tr"),c.Vb(40,"td"),c.Dc(41,"Drug & Alcohol Policy"),c.Vb(42,"span"),c.Dc(43,"*"),c.Ub(),c.Ub(),c.Vb(44,"td"),c.Vb(45,"select",8),c.Vb(46,"option"),c.Dc(47,"Approved"),c.Ub(),c.Vb(48,"option"),c.Dc(49,"Conditional"),c.Ub(),c.Vb(50,"option"),c.Dc(51,"Not Approved"),c.Ub(),c.Ub(),c.Bc(52,Co,2,1,"div",6),c.Ub(),c.Vb(53,"td"),c.Dc(54),c.Ub(),c.Ub(),c.Ub(),c.Vb(55,"table",4),c.Vb(56,"tr"),c.Vb(57,"td",9),c.Dc(58,"EMR Records"),c.Ub(),c.Qb(59,"td"),c.Vb(60,"td"),c.Dc(61,"EMR Calculation"),c.Ub(),c.Ub(),c.Vb(62,"tr"),c.Vb(63,"td"),c.Dc(64,"Current Year "),c.Vb(65,"span"),c.Dc(66,"*"),c.Ub(),c.Ub(),c.Vb(67,"td"),c.Qb(68,"input",10),c.Bc(69,Ro,2,1,"div",6),c.Ub(),c.Vb(70,"td",11),c.Dc(71),c.Ub(),c.Ub(),c.Vb(72,"tr"),c.Vb(73,"td"),c.Dc(74,"Last Year "),c.Vb(75,"span"),c.Dc(76,"*"),c.Ub(),c.Ub(),c.Vb(77,"td"),c.Qb(78,"input",12),c.Bc(79,wo,2,1,"div",6),c.Ub(),c.Ub(),c.Vb(80,"tr"),c.Vb(81,"td"),c.Dc(82,"Two Years Ago "),c.Vb(83,"span"),c.Dc(84,"*"),c.Ub(),c.Ub(),c.Vb(85,"td"),c.Qb(86,"input",13),c.Bc(87,ko,2,1,"div",6),c.Ub(),c.Ub(),c.Ub(),c.Vb(88,"table",4),c.Vb(89,"tr"),c.Vb(90,"td",9),c.Dc(91,"TRIR Information"),c.Ub(),c.Qb(92,"td"),c.Vb(93,"td"),c.Dc(94,"TRIR Calculation"),c.Ub(),c.Ub(),c.Vb(95,"tr"),c.Vb(96,"td"),c.Dc(97,"Last Year "),c.Vb(98,"span"),c.Dc(99,"*"),c.Ub(),c.Ub(),c.Vb(100,"td"),c.Qb(101,"input",14),c.Bc(102,Po,2,1,"div",6),c.Ub(),c.Vb(103,"td",11),c.Dc(104),c.Ub(),c.Ub(),c.Vb(105,"tr"),c.Vb(106,"td"),c.Dc(107,"Two Years Ago "),c.Vb(108,"span"),c.Dc(109,"*"),c.Ub(),c.Ub(),c.Vb(110,"td"),c.Qb(111,"input",15),c.Bc(112,Oo,2,1,"div",6),c.Ub(),c.Ub(),c.Vb(113,"tr"),c.Vb(114,"td"),c.Dc(115,"Three Years Ago "),c.Vb(116,"span"),c.Dc(117,"*"),c.Ub(),c.Ub(),c.Vb(118,"td"),c.Qb(119,"input",16),c.Bc(120,jo,2,1,"div",6),c.Ub(),c.Ub(),c.Ub(),c.Vb(121,"table",4),c.Vb(122,"tr"),c.Vb(123,"td",9),c.Dc(124,"Safety Score \u2013 All above info is mandatory for calculation"),c.Ub(),c.Vb(125,"td"),c.Dc(126,"Calculated Safety Grade"),c.Ub(),c.Vb(127,"td"),c.Dc(128,"Safety Grade by Safety "),c.Vb(129,"span"),c.Dc(130,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(131,"tr"),c.Vb(132,"td"),c.Vb(133,"button",17),c.cc("click",function(){return t.safetygradecalculation()}),c.Dc(134,"Calculated Safety Grade"),c.Ub(),c.Ub(),c.Vb(135,"td"),c.Dc(136),c.Ub(),c.Vb(137,"td"),c.Vb(138,"select",18),c.Vb(139,"option"),c.Dc(140,"A"),c.Ub(),c.Vb(141,"option"),c.Dc(142,"B"),c.Ub(),c.Vb(143,"option"),c.Dc(144,"C"),c.Ub(),c.Vb(145,"option"),c.Dc(146,"D"),c.Ub(),c.Ub(),c.Bc(147,No,2,1,"div",6),c.Ub(),c.Ub(),c.Ub(),c.Vb(148,"div",19),c.Vb(149,"h6",20),c.Dc(150,"Reason for change of Safety Grade*"),c.Ub(),c.Qb(151,"textarea",21),c.Bc(152,Bo,2,1,"div",6),c.Ub(),c.Vb(153,"div",19),c.Vb(154,"h6",20),c.Dc(155,"Overall Safety Notes"),c.Ub(),c.Qb(156,"textarea",22),c.Ub(),c.Vb(157,"div",19),c.Vb(158,"label",23),c.Dc(159,"Additional Attachment "),c.Ub(),c.Vb(160,"div",24),c.Vb(161,"input",25),c.cc("change",function(e){return t.qcpUpload(e)}),c.Ub(),c.Vb(162,"span",26),c.Dc(163,' \xa0Choose Files with "Click to Add Files"'),c.Ub(),c.Bc(164,Lo,4,0,"div",27),c.Bc(165,To,5,2,"div",28),c.Ub(),c.Ub(),c.Vb(166,"div",19),c.Vb(167,"div",29),c.Vb(168,"button",17),c.cc("click",function(){return t.commentsubmit()}),c.Dc(169,"Save "),c.Ub(),c.Ub(),c.Vb(170,"div",30),c.Vb(171,"button",17),c.cc("click",function(){return t.commentFinalsubmit()}),c.Dc(172,"Approve & Send to Risk "),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub()),2&e&&(c.Db(5),c.mc("formGroup",t.commentForm),c.Db(15),c.mc("ngIf",t.submitted&&t.f.safety_officer.errors),c.Db(2),c.Ec(t.safetyScore),c.Db(14),c.mc("ngIf",t.submitted&&t.f.safety_program.errors),c.Db(2),c.Ec(t.safetyProgramScore),c.Db(14),c.mc("ngIf",t.submitted&&t.f.drug_alcohol.errors),c.Db(2),c.Ec(t.drugAlcoholPolicyScore),c.Db(15),c.mc("ngIf",t.submitted&&t.f.emr_currentyear.errors),c.Db(2),c.Ec(t.emrScore),c.Db(8),c.mc("ngIf",t.submitted&&t.f.emr_lastyear.errors),c.Db(8),c.mc("ngIf",t.submitted&&t.f.emr_twoyear.errors),c.Db(15),c.mc("ngIf",t.submitted&&t.f.trir_lastyear.errors),c.Db(2),c.Ec(t.trirScore),c.Db(8),c.mc("ngIf",t.submitted&&t.f.trir_twoyear.errors),c.Db(8),c.mc("ngIf",t.submitted&&t.f.trir_threeyear.errors),c.Db(16),c.Ec(t.safety_Calcuate),c.Db(11),c.mc("ngIf",t.submitted&&t.f.grade_safety.errors),c.Db(4),c.mc("ngClass",c.pc(22,Yo,t.submitted&&t.f.comment.errors)),c.Db(1),c.mc("ngIf",t.submitted&&t.f.comment.errors),c.Db(9),c.mc("ngClass",c.pc(24,Yo,t.submitted&&t.f.attachment.errors)),c.Db(3),c.mc("ngIf",null==t.spinner?null:t.spinner.bondingSpinner),c.Db(1),c.mc("ngForOf",t.attachment))},directives:[o.x,o.m,o.g,o.v,o.l,o.f,o.p,o.y,n.m,o.b,n.k,n.l,A.a],styles:[".table[_ngcontent-%COMP%]{width:95%;margin:10px auto;border-top:1px solid #ccc;border-right:1px solid #ccc}.table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px;border-bottom:1px solid #ccc;border-left:1px solid #ccc;width:33%;font-style:italic!important;font-weight:600;font-size:13px}.section[_ngcontent-%COMP%]{margin:-14px auto 0;padding:10px;width:99%;background-color:#fff}.comment-section[_ngcontent-%COMP%]{width:95%;padding:0 10px 10px;margin:10px auto;background-color:#fff;border-radius:12px}.form[_ngcontent-%COMP%]{margin:10px;padding:10px 0}.row[_ngcontent-%COMP%]{margin:15px 0 15px 5px;width:97%}.my-auto1[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]{font-style:italic!important;font-weight:600}.my-auto1[_ngcontent-%COMP%]{margin:0 10px;font-size:13px!important}.rowform[_ngcontent-%COMP%]{margin-left:18px;margin-top:5px;width:98%}.bgyellow[_ngcontent-%COMP%]{background-color:#ff0;height:20px;font-weight:700;padding:5px 10px}.font-bold[_ngcontent-%COMP%]{font-weight:700;font-style:italic!important;font-weight:600;font-size:15px}.table[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:last-child) > [_ngcontent-%COMP%]:last-child > *[_ngcontent-%COMP%]{border-bottom-color:#fff}"]}),e})();function Qo(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Supplier is required"),c.Ub())}function zo(e,t){if(1&e&&(c.Vb(0,"div",121),c.Bc(1,Qo,2,0,"div",120),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.is_Supplier.errors.required)}}const $o=function(e){return{"bg-grey":e}};function Wo(e,t){if(1&e&&(c.Vb(0,"div",122),c.Vb(1,"small",123),c.Dc(2,"As a supplier, you are not required to complete this section. Please move to the NEXT section."),c.Ub(),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngClass",c.pc(1,$o,1==e.showdisabled))}}function Ho(e,t){1&e&&(c.Vb(0,"span",9),c.Dc(1,"*"),c.Ub())}function Zo(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Safety officer/safety department is required"),c.Ub())}function Ko(e,t){if(1&e&&(c.Vb(0,"div",121),c.Bc(1,Zo,2,0,"div",120),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.is_Safety_Officer.errors.required)}}function Jo(e,t){1&e&&(c.Vb(0,"span",9),c.Dc(1,"*"),c.Ub())}function Xo(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Safety officer name is required "),c.Ub())}function ea(e,t){if(1&e&&(c.Vb(0,"div",121),c.Bc(1,Xo,2,0,"div",120),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.safety_Officer_Name.errors.required)}}function ta(e,t){1&e&&(c.Vb(0,"span",9),c.Dc(1,"*"),c.Ub())}function ia(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Safety officer phone is required "),c.Ub())}function na(e,t){if(1&e&&(c.Vb(0,"div",121),c.Bc(1,ia,2,0,"div",120),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.safety_Officer_Phone.errors.required)}}function oa(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Extention is required "),c.Ub())}function aa(e,t){if(1&e&&(c.Vb(0,"div",121),c.Bc(1,oa,2,0,"div",120),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.safety_Officer_Phone_Ext.errors.required)}}function ra(e,t){1&e&&(c.Vb(0,"span",9),c.Dc(1,"*"),c.Ub())}function sa(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Safety officer email is required "),c.Ub())}function ca(e,t){if(1&e&&(c.Vb(0,"div",121),c.Bc(1,sa,2,0,"div",120),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.safety_Officer_Email.errors.required)}}function la(e,t){1&e&&(c.Vb(0,"span",9),c.Dc(1,"*"),c.Ub())}function da(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Safety program is required"),c.Ub())}function ua(e,t){if(1&e&&(c.Vb(0,"div",121),c.Bc(1,da,2,0,"div",120),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.is_Safety_Program.errors.required)}}function ma(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Safety program attachment is required"),c.Ub())}function ba(e,t){if(1&e&&(c.Vb(0,"div",121),c.Bc(1,ma,2,0,"div",120),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.safety_Program_Upload.errors.required)}}function pa(e,t){1&e&&(c.Vb(0,"div",124),c.Vb(1,"span"),c.Dc(2,"Uploading..."),c.Ub(),c.Qb(3,"mat-progress-spinner",125),c.Ub())}function fa(e,t){if(1&e){const e=c.Wb();c.Vb(0,"div"),c.Vb(1,"p",126),c.Vb(2,"small"),c.Vb(3,"a",127),c.Dc(4),c.Ub(),c.Ub(),c.Vb(5,"small",128),c.cc("click",function(){c.uc(e);const i=t.index,n=t.$implicit;return c.gc().removesafetyProgramFile(i,n)}),c.Dc(6,"X"),c.Ub(),c.Ub(),c.Ub()}if(2&e){const e=t.$implicit;c.Db(3),c.nc("href",e.file_Path,c.wc),c.Db(1),c.Ec(e.name)}}function ha(e,t){1&e&&(c.Vb(0,"span",9),c.Dc(1,"*"),c.Ub())}function ga(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Drug and alcohol testing policy is required"),c.Ub())}function _a(e,t){if(1&e&&(c.Vb(0,"div",121),c.Bc(1,ga,2,0,"div",120),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.is_Drug_Testing_Policy.errors.required)}}function va(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Attachment is required"),c.Ub())}function ya(e,t){if(1&e&&(c.Vb(0,"div",121),c.Bc(1,va,2,0,"div",120),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.drug_Testing_Upload.errors.required)}}function Va(e,t){1&e&&(c.Vb(0,"div",124),c.Vb(1,"span"),c.Dc(2,"Uploading..."),c.Ub(),c.Qb(3,"mat-progress-spinner",125),c.Ub())}function Ua(e,t){if(1&e){const e=c.Wb();c.Vb(0,"div"),c.Vb(1,"p",126),c.Vb(2,"small"),c.Vb(3,"a",127),c.Dc(4),c.Ub(),c.Ub(),c.Vb(5,"small",128),c.cc("click",function(){c.uc(e);const i=t.index,n=t.$implicit;return c.gc().removesafetyofficerFile(i,n)}),c.Dc(6,"X"),c.Ub(),c.Ub(),c.Ub()}if(2&e){const e=t.$implicit;c.Db(3),c.nc("href",e.file_Path,c.wc),c.Db(1),c.Ec(e.name)}}function Da(e,t){1&e&&(c.Vb(0,"span",9),c.Dc(1,"*"),c.Ub())}function Ca(e,t){1&e&&(c.Vb(0,"span",9),c.Dc(1,"*"),c.Ub())}function Ia(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Last year TRIR is required"),c.Ub())}function Ra(e,t){if(1&e&&(c.Vb(0,"div",121),c.Bc(1,Ia,2,0,"div",120),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.triR_Info_LastYear.errors.required)}}function Fa(e,t){1&e&&(c.Vb(0,"span",9),c.Dc(1,"*"),c.Ub())}function wa(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Two years TRIR is required"),c.Ub())}function Sa(e,t){if(1&e&&(c.Vb(0,"div",121),c.Bc(1,wa,2,0,"div",120),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.triR_Info_TwoYears.errors.required)}}function ka(e,t){1&e&&(c.Vb(0,"span",9),c.Dc(1,"*"),c.Ub())}function xa(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Three years TRIR is required "),c.Ub())}function Pa(e,t){if(1&e&&(c.Vb(0,"div",121),c.Bc(1,xa,2,0,"div",120),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.triR_Info_ThreeYears.errors.required)}}function Aa(e,t){1&e&&(c.Vb(0,"span",9),c.Dc(1,"*"),c.Ub())}function Oa(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Employees count is required "),c.Ub())}function Ea(e,t){if(1&e&&(c.Vb(0,"div",121),c.Bc(1,Oa,2,0,"div",120),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.number_Of_Employees.errors.required)}}function ja(e,t){1&e&&(c.Vb(0,"span",9),c.Dc(1,"*"),c.Ub())}function Ma(e,t){1&e&&(c.Vb(0,"div",124),c.Vb(1,"span"),c.Dc(2,"Uploading..."),c.Ub(),c.Qb(3,"mat-progress-spinner",125),c.Ub())}function Na(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Last year OSHA log is required"),c.Ub())}function qa(e,t){if(1&e&&(c.Vb(0,"div",121),c.Bc(1,Na,2,0,"div",120),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.oshA_Log_LastYear.errors.required)}}function Ba(e,t){if(1&e){const e=c.Wb();c.Vb(0,"div"),c.Vb(1,"p",126),c.Vb(2,"small"),c.Vb(3,"a",127),c.Dc(4),c.Ub(),c.Ub(),c.Vb(5,"small",128),c.cc("click",function(){c.uc(e);const i=t.index,n=t.$implicit;return c.gc().removeOSHALastYearUpload(i,n)}),c.Dc(6,"X"),c.Ub(),c.Ub(),c.Ub()}if(2&e){const e=t.$implicit;c.Db(3),c.nc("href",e.file_Path,c.wc),c.Db(1),c.Ec(e.name)}}function La(e,t){1&e&&(c.Vb(0,"span",9),c.Dc(1,"*"),c.Ub())}function Ta(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"OSHA is required"),c.Ub())}function Ya(e,t){if(1&e&&(c.Vb(0,"div",121),c.Bc(1,Ta,2,0,"div",120),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.is_OSHA.errors.required)}}function Ga(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"OSHA citation is required"),c.Ub())}function Qa(e,t){if(1&e&&(c.Vb(0,"div",121),c.Bc(1,Ga,2,0,"div",120),c.Ub()),2&e){const e=c.gc(2);c.Db(1),c.mc("ngIf",e.f.oshA_Citation.errors.required)}}function za(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"OSHA additional information is required"),c.Ub())}function $a(e,t){if(1&e&&(c.Vb(0,"div",121),c.Bc(1,za,2,0,"div",120),c.Ub()),2&e){const e=c.gc(2);c.Db(1),c.mc("ngIf",e.f.oshA_AddInfo.errors.required)}}const Wa=function(e){return{"is-invalid":e}};function Ha(e,t){if(1&e){const e=c.Wb();c.Vb(0,"div",129),c.Vb(1,"label"),c.Dc(2,"1. How many citations? "),c.Ub(),c.Vb(3,"input",130),c.cc("ngModelChange",function(){return c.uc(e),c.gc().idleReset()}),c.Ub(),c.Bc(4,Qa,2,1,"div",17),c.Vb(5,"label"),c.Dc(6,"2. Additional Details"),c.Ub(),c.Vb(7,"textarea",131),c.cc("ngModelChange",function(){return c.uc(e),c.gc().idleReset()}),c.Ub(),c.Bc(8,$a,2,1,"div",17),c.Ub()}if(2&e){const e=c.gc();c.Db(3),c.mc("ngClass",c.pc(4,Wa,e.submitted&&e.f.oshA_AddInfo.errors)),c.Db(1),c.mc("ngIf",e.submitted&&e.f.oshA_Citation.errors),c.Db(3),c.mc("ngClass",c.pc(6,Wa,e.submitted&&e.f.oshA_AddInfo.errors)),c.Db(1),c.mc("ngIf",e.submitted&&e.f.oshA_AddInfo.errors)}}function Za(e,t){1&e&&(c.Vb(0,"span",9),c.Dc(1,"*"),c.Ub())}function Ka(e,t){1&e&&(c.Vb(0,"span",9),c.Dc(1,"*"),c.Ub())}function Ja(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Current year EMR is required"),c.Ub())}function Xa(e,t){if(1&e&&(c.Vb(0,"div",121),c.Bc(1,Ja,2,0,"div",120),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.emR_LastYear_Upload.errors.required)}}function er(e,t){1&e&&(c.Vb(0,"span",9),c.Dc(1,"*"),c.Ub())}function tr(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Last year EMR is required"),c.Ub())}function ir(e,t){if(1&e&&(c.Vb(0,"div",121),c.Bc(1,tr,2,0,"div",120),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.emR_TwoYears_Upload.errors.required)}}function nr(e,t){1&e&&(c.Vb(0,"span",9),c.Dc(1,"*"),c.Ub())}function or(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Two years EMR is required "),c.Ub())}function ar(e,t){if(1&e&&(c.Vb(0,"div",121),c.Bc(1,or,2,0,"div",120),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.emR_ThreeYears_Upload.errors.required)}}function rr(e,t){1&e&&(c.Vb(0,"span",9),c.Dc(1,"*"),c.Ub())}function sr(e,t){1&e&&(c.Vb(0,"span",9),c.Dc(1,"*"),c.Ub())}function cr(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"EMR is required"),c.Ub())}function lr(e,t){if(1&e&&(c.Vb(0,"div",121),c.Bc(1,cr,2,0,"div",120),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.emR_Verification_Upload.errors.required)}}function dr(e,t){1&e&&(c.Vb(0,"div",124),c.Vb(1,"span"),c.Dc(2,"Uploading..."),c.Ub(),c.Qb(3,"mat-progress-spinner",125),c.Ub())}function ur(e,t){if(1&e){const e=c.Wb();c.Vb(0,"div"),c.Vb(1,"p",126),c.Vb(2,"small"),c.Vb(3,"a",127),c.Dc(4),c.Ub(),c.Ub(),c.Vb(5,"small",128),c.cc("click",function(){c.uc(e);const i=t.index,n=t.$implicit;return c.gc().removeemRVerificationUpload(i,n)}),c.Dc(6,"X"),c.Ub(),c.Ub(),c.Ub()}if(2&e){const e=t.$implicit;c.Db(3),c.nc("href",e.file_Path,c.wc),c.Db(1),c.Ec(e.name)}}function mr(e,t){if(1&e){const e=c.Wb();c.Vb(0,"div",132),c.Vb(1,"button",133),c.cc("click",function(){return c.uc(e),c.gc().gotoHome()}),c.Dc(2," << BACK"),c.Ub(),c.Vb(3,"button",134),c.cc("click",function(){return c.uc(e),c.gc().save()}),c.Dc(4),c.Ub(),c.Vb(5,"button",135),c.Dc(6,"NEXT >>"),c.Ub(),c.Ub()}if(2&e){const e=c.gc();c.Db(4),c.Ec(e.submitText)}}function br(e,t){if(1&e){const e=c.Wb();c.Vb(0,"div",136),c.Vb(1,"button",133),c.cc("click",function(){return c.uc(e),c.gc().gotoHome()}),c.Dc(2," << BACK"),c.Ub(),c.Vb(3,"button",137),c.cc("click",function(){return c.uc(e),c.gc().nextroutePage()}),c.Dc(4,"NEXT >>"),c.Ub(),c.Ub()}}function pr(e,t){if(1&e&&c.Qb(0,"app-safetycomment",138),2&e){const e=c.gc();c.mc("formId",e.safetyid)("companyId",e.tempcompanyid)("taxId",e.taxId)("vendorId",e.vendorId)}}function fr(e,t){1&e&&(c.Vb(0,"div"),c.Vb(1,"button",139),c.Dc(2,"SUBMIT SAFETY INPUTS "),c.Ub(),c.Ub())}let hr=(()=>{class e{constructor(e,t,i,n,a,r,s,c,l){this.formBuilder=e,this.router=t,this.safetyservice=i,this.bnIdle=n,this.keepalive=a,this.toastr=r,this.companyservice=s,this.loginInfo=c,this.ngxUiLoader=l,this.currentForm=3,this.submitted=!1,this.safetyinfoForm=this.formBuilder.group({id:[0],companyId:[0],is_Supplier:["no",[o.w.required]],is_Safety_Officer:["no",[o.w.required]],safety_Officer_Name:["",[o.w.required,o.w.maxLength(130)]],safety_Officer_Phone:["",[o.w.required,o.w.pattern(/^-?(0|[1-9]\d*)?$/)]],safety_Officer_Phone_Ext:["",[o.w.maxLength(5)]],safety_Officer_Email:["",[o.w.required,o.w.email,o.w.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)]],is_Safety_Program:["no",[o.w.required]],safety_Program_Upload:[null,[o.w.required]],is_Drug_Testing_Policy:["no",[o.w.required]],drug_Testing_Upload:[null,[o.w.required]],number_Of_Employees:["",[o.w.required,o.w.maxLength(130)]],oshA_Log_LastYear:[null,[o.w.required]],is_OSHA:["no",[o.w.required]],oshA_AddInfo:["",[o.w.required]],oshA_Citation:["",[o.w.required]],isnumber_Of_Employees:[!1],triR_Info_LastYear:[null,[o.w.required]],triR_Info_TwoYears:[null,[o.w.required]],triR_Info_ThreeYears:[null,[o.w.required]],emR_LastYear_Upload:[null,[o.w.required]],emR_TwoYears_Upload:[null,[o.w.required]],emR_ThreeYears_Upload:[null,[o.w.required]],emR_Verification_Upload:[null,[o.w.required]],isAutosave:[!1],preQualification_Status:["In-Progress"],isComplete:[!1]}),this.companyInfo=this.formBuilder.group({id:["0"],org_Type:[null,[o.w.required,o.w.maxLength(130)]],is_Certified_Diverse:["",[o.w.required,o.w.maxLength(130)]],certified_Diverse_Attachment:["null",[o.w.maxLength(130)]],contact_Name:[null,[o.w.required,o.w.maxLength(256)]],contact_Email:[null,[o.w.required,o.w.maxLength(256),o.w.email,o.w.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)]],contact_Mobile:[null,[o.w.required,o.w.maxLength(256),o.w.pattern(/^-?(0|[1-9]\d*)?$/)]],additional_Details:["",[o.w.required,o.w.maxLength(256)]],CD_Upload:[null],other_details:["",o.w.maxLength(256)],isAutosave:[!0],preQualification_Status:["In-Progress"],isComplete:[!0],reject_Reason:[""]}),this.safetyProgramAttachments=[],this.oshALogLastYear=[],this.oshALogThreeYears=[],this.oshALogTwoYears=[],this.triRInfoLastYear=[],this.triRInfoThreeYears=[],this.triRInfoTwoYears=[],this.Safety_Program_Upload=[],this.tempSafetyProgramUpload=[],this.tempOSHALastYearUpload=[],this.tempOSHAThreeYearsUpload=[],this.tempOSHATwoYearsUpload=[],this.tempTRIRLastYearUpload=[],this.tempTRIRThreeYearsUpload=[],this.tempTRIRTwoYearsUpload=[],this.setTimeout=0,this.formSubmited=!1,this.is_Supplier=!1,this.spinner={safetySpinner:!1,oshaLastSpinner:!1,oshaTwoSpinner:!1,oshaThreeSpinner:!1,trirLastSpinner:!1,trirTwoSpinner:!1,trirThreeSpinner:!1,drugtestingSpinner:!1,emrLastSpinner:!1,emrTwoSpinner:!1,emrThreeSpinner:!1,emrverification:!1},this.resetTimer=0,this.showAdmin=!1,this.userRole="",this.companyId=0,this.safetyid=0,this.isCompleted=!1,this.prequalification_status="",this.drugTestingUploadAttachments=[],this.tempdrugTestingUpload=[],this.tempemRLastYearUpload=[],this.emRLastYear=[],this.tempemRTwoYearsUpload=[],this.emRTwoYears=[],this.tempemRThreeYearsUpload=[],this.emRThreeYears=[],this.tempemRVerificationUpload=[],this.emRVerification=[],this.showdisabled=!1,this.taxId=0,this.vendorId=0}ngOnInit(){this.ngxUiLoader.startLoader("loader-01"),localStorage.setItem("currPage","safetyinfo"),this.prequalification_status=this.loginInfo.organization_status,this.submitText="SAVE";let e=localStorage.getItem("userDetails");e=JSON.parse(atob(e)),this.userDetails=e,this.userRole=e.role,this.tempcompanyid=localStorage.getItem("tempcompanyid"),this.tempcompanyid=Number(atob(this.tempcompanyid));var t=localStorage.getItem("taxID");t&&(this.taxId=Number(atob(t)));var i=localStorage.getItem("vendorID");i&&(this.vendorId=Number(atob(i))),this.tempcompanyid>0&&"Subcontractor"!=this.userRole&&(this.showAdmin=!0,this.showdisabled=!0,this.safetyservice.getRecords(this.tempcompanyid).subscribe(e=>{var t;this.safetyinfoForm.disable(),this.safetyinfoForm.updateValueAndValidity(),this.showAdmin=!0,this.showdisabled=!0,(null==e?void 0:e.length)&&(this.safetyid=e[0].id,this.submitText=e[0].is_Supplier?"UPDATE":"SAVE",this.updateSafetyinfo(e),this.getFiles(null===(t=e[0])||void 0===t?void 0:t.files))})),null!=this.userDetails.vendorId&&null!=this.userDetails.taxId&&"Subcontractor"==this.userRole&&this.safetyservice.getUser(this.userDetails.vendorId,this.userDetails.taxId).subscribe(e=>{this.companyId=e.id,localStorage.setItem("companyid",btoa(this.companyId)),this.getRecords(this.companyId)}),this.ngxUiLoader.stopLoader("loader-01")}resetSupplierYes(){console.log("resetSafety"),this.safetyinfoForm.controls.is_Safety_Officer.setValue("no"),this.resetSafety(),this.safetyinfoForm.controls.is_Safety_Program.setValue("no"),this.resetSafetyProgram(),this.safetyinfoForm.controls.is_Drug_Testing_Policy.setValue("no"),this.resetDrug(),this.safetyinfoForm.patchValue({triR_Info_LastYear:"",triR_Info_TwoYears:"",triR_Info_ThreeYears:"",emR_LastYear_Upload:"",emR_TwoYears_Upload:"",emR_ThreeYears_Upload:""}),this.safetyinfoForm.controls.number_Of_Employees.setValue(""),this.isNumberEmployees(!0),this.safetyinfoForm.controls.is_OSHA.setValue("no"),this.safetyinfoForm.controls.oshA_AddInfo.setValidators(null),this.safetyinfoForm.controls.oshA_AddInfo.updateValueAndValidity(),this.safetyinfoForm.controls.oshA_AddInfo.setValue(""),this.safetyinfoForm.controls.oshA_Citation.setValidators(null),this.safetyinfoForm.controls.oshA_Citation.updateValueAndValidity(),this.safetyinfoForm.controls.oshA_Citation.setValue(""),this.emRVerification.forEach((e,t)=>{this.safetyservice.deleteRecord(e.id).subscribe(e=>{this.emRVerification.splice(t,1)})})}getRecords(e){this.safetyservice.getRecords(e).subscribe(e=>{var t;console.log(e),e.length&&(this.safetyid=e[0].id,this.submitText=e[0].is_Supplier?"UPDATE":"SAVE",this.updateSafetyinfo(e),this.getFiles(null===(t=e[0])||void 0===t?void 0:t.files))}),this.companyId>0&&this.companyservice.getRecord(e).subscribe(e=>{this.prequalification_status=e[0].preQualification_Status,e[0].preQualification_Status&&this.loginInfo.formDisable(e[0].preQualification_Status)&&(this.showdisabled=!0,this.safetyinfoForm.disable(),this.safetyinfoForm.updateValueAndValidity(),this.safetyinfoForm.controls.oshA_Log_LastYear.disable(),this.safetyinfoForm.controls.oshA_Log_LastYear.updateValueAndValidity())})}resetSafety(){this.safetyinfoForm.patchValue({safety_Officer_Email:"",safety_Officer_Name:"",safety_Officer_Phone:"",safety_Officer_Phone_Ext:""})}resetSafetyProgram(){this.showdisabled=!1,this.safetyProgramAttachments.forEach((e,t)=>{this.removesafetyProgramFile(t,e,!1)})}resetDrug(){var e;this.showdisabled=!1,null===(e=this.drugTesting)||void 0===e||e.forEach((e,t)=>{this.removesafetyofficerFile(t,e,!1)})}updateSafetyinfo(e){this.safetyinfoForm.patchValue({id:e[0].id,companyId:e[0].companyId,is_Supplier:e[0].is_Supplier,is_Safety_Officer:e[0].is_Safety_Officer,is_Drug_Testing_Policy:e[0].is_Drug_Testing_Policy,is_Safety_Program:e[0].is_Safety_Program,number_Of_Employees:e[0].number_Of_Employees&&"null"!=e[0].number_Of_Employees?e[0].number_Of_Employees:"",safety_Officer_Email:e[0].safety_Officer_Email&&"null"!=e[0].safety_Officer_Email?e[0].safety_Officer_Email:"",safety_Officer_Name:e[0].safety_Officer_Name&&"null"!=e[0].safety_Officer_Name?e[0].safety_Officer_Name:"",safety_Officer_Phone:e[0].safety_Officer_Phone&&"null"!=e[0].safety_Officer_Phone?e[0].safety_Officer_Phone:"",safety_Officer_Phone_Ext:e[0].safety_Officer_Phone_Ext&&"null"!=e[0].safety_Officer_Phone_Ext?e[0].safety_Officer_Phone_Ext:"",triR_Info_LastYear:e[0].triR_Info_LastYear?e[0].triR_Info_LastYear:"",triR_Info_TwoYears:e[0].triR_Info_TwoYears?e[0].triR_Info_TwoYears:"",triR_Info_ThreeYears:e[0].triR_Info_ThreeYears?e[0].triR_Info_ThreeYears:"",emR_LastYear_Upload:e[0].emR_LastYear_Upload?e[0].emR_LastYear_Upload:"",emR_TwoYears_Upload:e[0].emR_TwoYears_Upload?e[0].emR_TwoYears_Upload:"",emR_ThreeYears_Upload:e[0].emR_ThreeYears_Upload?e[0].emR_ThreeYears_Upload:"",isnumber_Of_Employees:!!e[0].isnumber_Of_Employees&&e[0].isnumber_Of_Employees}),this.safetyinfoForm.patchValue(e[0].supplier_Definition&&"null"!=e[0].supplier_Definition?{supplier_Definition:e[0].supplier_Definition}:{supplier_Definition:""}),this.safetyinfoForm.patchValue(null!=e[0].oshA_AddInfo&&"null"!=e[0].oshA_AddInfo?{oshA_AddInfo:e[0].oshA_AddInfo}:{oshA_AddInfo:""}),this.safetyinfoForm.patchValue(null!=e[0].citation&&"null"!=e[0].citation?{oshA_Citation:e[0].citation}:{oshA_Citation:""}),null!=e[0].is_OSHA&&"null"!=e[0].is_OSHA&&this.safetyinfoForm.patchValue({is_OSHA:e[0].is_OSHA}),null!=e[0].is_Safety_Program&&"null"!=e[0].is_Safety_Program&&this.safetyinfoForm.patchValue({is_Safety_Program:e[0].is_Safety_Program}),"Subcontractor"!=this.userRole&&"yes"==this.safetyinfoForm.value.is_Supplier&&(this.safetyinfoForm.controls.is_Safety_Program.setValidators([o.w.required]),this.safetyinfoForm.controls.is_OSHA.setValidators([o.w.required]),this.safetyinfoForm.controls.oshA_AddInfo.setValidators([o.w.required]),this.safetyinfoForm.controls.oshA_Citation.setValidators([o.w.required]),this.safetyinfoForm.controls.oshA_Log_LastYear.setValidators([o.w.required]),this.safetyinfoForm.controls.triR_Info_LastYear.setValidators([o.w.required]),this.safetyinfoForm.controls.triR_Info_TwoYears.setValidators([o.w.required]),this.safetyinfoForm.controls.triR_Info_ThreeYears.setValidators([o.w.required]))}ngOnDestroy(){this.keepalive.stop(),this.nextpage()}ngAfterViewInit(){this.keepalive.interval(30),this.keepalive.stop(),0==this.setTimeout&&this.keepalive.stop(),0==this.showAdmin&&this.keepalive.onPing.subscribe(()=>{"safetyinfo"==localStorage.getItem("currPage")&&(1==this.setTimeout?(this.autoSave(),this.keepalive.stop(),this.setTimeout=0):this.setTimeout=1)})}idleReset(){this.keepalive.stop(),this.keepalive.start(),this.resetTimer=0}getFiles(e){this.safetyProgramAttachments=[],this.oshALogLastYear=[],this.oshALogTwoYears=[],this.oshALogThreeYears=[],this.triRInfoLastYear=[],this.triRInfoTwoYears=[],this.triRInfoThreeYears=[],this.drugTesting=[],this.emRLastYear=[],this.emRTwoYears=[],this.emRThreeYears=[],this.emRVerification=[],e.filter(e=>{"Safety_Program_Upload"==e.file_Type&&0==e.isDeleted&&(e.file_Name.length<31?this.safetyProgramAttachments.push({id:e.id,name:e.file_Name,file_Path:e.file_Path}):0==e.isDeleted&&this.safetyProgramAttachments.push({id:e.id,name:e.file_Name.substring(0,31)+"....",file_Path:e.file_Path})),"OSHA_LastYear_Upload"==e.file_Type&&0==e.isDeleted&&(e.file_Name.length<31?this.oshALogLastYear.push({id:e.id,name:e.file_Name,file_Path:e.file_Path}):0==e.isDeleted&&this.oshALogLastYear.push({id:e.id,name:e.file_Name.substring(0,31)+"....",file_Path:e.file_Path})),"OSHA_TwoYears_Upload"==e.file_Type&&0==e.isDeleted&&(e.file_Name.length<31?this.oshALogTwoYears.push({id:e.id,name:e.file_Name,file_Path:e.file_Path}):0==e.isDeleted&&this.oshALogTwoYears.push({id:e.id,name:e.file_Name.substring(0,31)+"....",file_Path:e.file_Path})),"OSHA_ThreeYears_Upload"==e.file_Type&&0==e.isDeleted&&(e.file_Name.length<31?this.oshALogThreeYears.push({id:e.id,name:e.file_Name,file_Path:e.file_Path}):0==e.isDeleted&&this.oshALogThreeYears.push({id:e.id,name:e.file_Name.substring(0,31)+"....",file_Path:e.file_Path})),"Drug_Testing_Upload"==e.file_Type&&0==e.isDeleted&&(e.file_Name.length<31?this.drugTesting.push({id:e.id,name:e.file_Name,file_Path:e.file_Path}):0==e.isDeleted&&this.drugTesting.push({id:e.id,name:e.file_Name.substring(0,31)+"....",file_Path:e.file_Path})),"EMR_Verification_Upload"==e.file_Type&&0==e.isDeleted&&(e.file_Name.length<31?this.emRVerification.push({id:e.id,name:e.file_Name,file_Path:e.file_Path}):0==e.isDeleted&&this.emRVerification.push({id:e.id,name:e.file_Name.substring(0,31)+"....",file_Path:e.file_Path}))})}get f(){var e,t,i,n;return this.safetyinfoForm.value.is_Supplier&&"no"!=this.safetyinfoForm.value.is_Supplier||!1!==this.showdisabled?((n=[]).push(this.safetyinfoForm.controls.safety_Officer_Name),n.push(this.safetyinfoForm.controls.safety_Officer_Phone),n.push(this.safetyinfoForm.controls.safety_Officer_Email),n.push(this.safetyinfoForm.controls.safety_Program_Upload),n.push(this.safetyinfoForm.controls.drug_Testing_Upload),n.push(this.safetyinfoForm.controls.triR_Info_LastYear),n.push(this.safetyinfoForm.controls.triR_Info_TwoYears),n.push(this.safetyinfoForm.controls.triR_Info_ThreeYears),n.push(this.safetyinfoForm.controls.number_Of_Employees),n.push(this.safetyinfoForm.controls.oshA_Log_LastYear),n.push(this.safetyinfoForm.controls.oshA_Citation),n.push(this.safetyinfoForm.controls.oshA_AddInfo),n.push(this.safetyinfoForm.controls.emR_LastYear_Upload),n.push(this.safetyinfoForm.controls.emR_TwoYears_Upload),n.push(this.safetyinfoForm.controls.emR_ThreeYears_Upload),n.push(this.safetyinfoForm.controls.emR_Verification_Upload),n=this.validatorEnableOrDisable(!1,n)):((n=[]).push(this.safetyinfoForm.controls.safety_Officer_Name),n.push(this.safetyinfoForm.controls.safety_Officer_Phone),n.push(this.safetyinfoForm.controls.safety_Officer_Email),(n=this.validatorEnableOrDisable(!this.safetyinfoForm.value.is_Safety_Officer||"yes"==this.safetyinfoForm.value.is_Safety_Officer,n)).push(this.safetyinfoForm.controls.safety_Program_Upload),(n=this.validatorEnableOrDisable((!this.safetyinfoForm.value.is_Safety_Program||"yes"==this.safetyinfoForm.value.is_Safety_Program)&&0==(null===(e=this.safetyProgramAttachments)||void 0===e?void 0:e.length),n)).push(this.safetyinfoForm.controls.drug_Testing_Upload),(n=this.validatorEnableOrDisable((!this.safetyinfoForm.value.is_Drug_Testing_Policy||"yes"==this.safetyinfoForm.value.is_Drug_Testing_Policy)&&0==(null===(t=this.drugTesting)||void 0===t?void 0:t.length),n)).push(this.safetyinfoForm.controls.triR_Info_LastYear),n.push(this.safetyinfoForm.controls.triR_Info_TwoYears),n.push(this.safetyinfoForm.controls.triR_Info_ThreeYears),n=this.validatorEnableOrDisable(!0,n),this.safetyinfoForm.controls.number_Of_Employees.setValidators([o.w.required,o.w.maxLength(130)]),this.safetyinfoForm.controls.number_Of_Employees.enable(),this.safetyinfoForm.controls.number_Of_Employees.updateValueAndValidity(),n.push(this.safetyinfoForm.controls.oshA_Log_LastYear),(n=this.validatorEnableOrDisable(null==this.safetyinfoForm.value.isnumber_Of_Employees||0==this.safetyinfoForm.value.isnumber_Of_Employees,n)).push(this.safetyinfoForm.controls.oshA_Citation),n.push(this.safetyinfoForm.controls.oshA_AddInfo),(n=this.validatorEnableOrDisable(!this.safetyinfoForm.value.is_OSHA||"yes"==this.safetyinfoForm.value.is_OSHA,n)).push(this.safetyinfoForm.controls.emR_LastYear_Upload),n.push(this.safetyinfoForm.controls.emR_TwoYears_Upload),n.push(this.safetyinfoForm.controls.emR_ThreeYears_Upload),(n=this.validatorEnableOrDisable(!0,n)).push(this.safetyinfoForm.controls.emR_Verification_Upload),n=this.validatorEnableOrDisable(0===(null===(i=this.emRVerification)||void 0===i?void 0:i.length),n)),this.safetyinfoForm.controls}validatorEnableOrDisable(e,t){return t.forEach(t=>{e?(t.setValidators([o.w.required]),t.enable()):(t.clearValidators(),t.disable()),t.updateValueAndValidity()}),[]}submit(){if(this.keepalive.stop(),this.ngxUiLoader.startLoader("loader-01"),"Subcontractor"!=this.userRole)this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`]);else if(0==this.safetyid){("yes"==this.safetyinfoForm.value.is_Supplier||"no"==this.safetyinfoForm.value.is_Supplier)&&this.safetyinfoForm.patchValue({isAutosave:!0});let e=this.formMethod();this.safetyservice.addRecord(e).subscribe(e=>{this.getRecords(this.companyId)},e=>{},()=>{this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])})}else{this.safetyinfoForm.patchValue({isAutosave:!0});let e=this.formMethod();this.safetyservice.updateRecord(e,this.safetyid).subscribe(e=>{this.getRecords(this.companyId)},e=>{},()=>{this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])})}}save(){if(this.submitted=!0,this.formSubmited=!0,this.keepalive.stop(),this.safetyinfoForm.value.isnumber_Of_Employees&&this.safetyinfoForm.controls.oshA_Log_LastYear.setValidators(null),console.log(this.safetyinfoForm.controls.oshA_Log_LastYear.valid),this.safetyinfoForm.valid)if(0==this.safetyid){this.safetyinfoForm.patchValue({isAutosave:!0}),("yes"==this.safetyinfoForm.value.is_Supplier||"no"==this.safetyinfoForm.value.is_Supplier)&&this.safetyinfoForm.patchValue({isAutosave:!0});let e=this.formMethod();this.safetyservice.addRecord(e).subscribe(e=>{this.getRecords(this.companyId),this.submitText="UPDATE",this.getRecords(this.companyId),this.fileReset(),this.resetSpinner(),this.toastr.success("Safety Information saved successfully","Safety Information")})}else{this.safetyinfoForm.patchValue({isAutosave:!0});let e=this.formMethod();console.log(e),this.safetyservice.updateRecord(e,this.safetyid).subscribe(e=>{this.getRecords(this.companyId),this.fileReset(),this.resetSpinner(),this.toastr.success("Safety Information updated successfully","Safety Information")})}}autoSave(){if(this.resetTimer+=1,1==this.resetTimer)if(0==this.safetyid){this.safetyinfoForm.patchValue({isAutosave:!0});let e=this.formMethod();this.safetyservice.addRecord(e).subscribe(e=>{this.submitText="UPDATE",this.getRecords(this.companyId),this.fileReset(),this.keepalive.stop(),this.resetSpinner()})}else{this.safetyinfoForm.patchValue({isAutosave:!0});let e=this.formMethod();this.safetyservice.updateRecord(e,this.safetyid).subscribe(e=>{this.getRecords(this.companyId),this.fileReset(),this.keepalive.stop(),this.resetSpinner(),this.safetyinfoForm.patchValue({isAutosave:!0})})}}isNumberEmployees(e){1==e?(this.showdisabled=!1,this.oshALogLastYear.forEach((e,t)=>{this.removeOSHALastYearUpload(t,e,!1)}),this.safetyinfoForm.controls.oshA_Log_LastYear.disable(),this.safetyinfoForm.controls.oshA_Log_LastYear.setValidators(null),this.safetyinfoForm.controls.oshA_Log_LastYear.updateValueAndValidity()):(this.safetyinfoForm.controls.oshA_Log_LastYear.setValidators([o.w.required]),this.safetyinfoForm.controls.oshA_Log_LastYear.enable())}nextpage(){if("Subcontractor"==this.userRole)if(0==this.safetyid){("yes"==this.safetyinfoForm.value.is_Supplier||"no"==this.safetyinfoForm.value.is_Supplier)&&this.safetyinfoForm.patchValue({isAutosave:!0});let e=this.formMethod();this.safetyservice.addRecord(e).subscribe(e=>{this.toastr.success("Safety Information saved successfully","Safety Information"),this.keepalive.stop(),this.resetSpinner()})}else if(!this.showdisabled){this.safetyinfoForm.patchValue({isAutosave:!0});let e=this.formMethod();console.log(e),this.safetyservice.updateRecord(e,this.safetyid).subscribe(e=>{this.toastr.success("Safety Information updated successfully","Safety Information"),this.keepalive.stop(),this.resetSpinner()})}}fileReset(){this.safetyinfoForm.patchValue({oshA_Log_LastYear:"",triR_Info_LastYear:"",triR_Info_TwoYears:"",triR_Info_ThreeYears:"",safety_Program_Upload:"",drug_Testing_Upload:"",emR_LastYear_Upload:"",emR_TwoYears_Upload:"",emR_ThreeYears_Upload:"",emR_Verification_Upload:""})}formMethod(){var e=new FormData;e.append("id",this.safetyinfoForm.value.id),e.append("companyId",this.companyId),e.append("is_Supplier",this.loginInfo.validateEmpty(this.safetyinfoForm.value.is_Supplier)),e.append("is_Safety_Officer",this.loginInfo.validateEmpty(this.safetyinfoForm.value.is_Safety_Officer)),e.append("is_Drug_Testing_Policy",this.loginInfo.validateEmpty(this.safetyinfoForm.value.is_Drug_Testing_Policy)),e.append("safety_Officer_Name",this.loginInfo.validateEmpty(this.safetyinfoForm.value.safety_Officer_Name)),e.append("safety_Officer_Phone",this.loginInfo.validateEmpty(this.safetyinfoForm.value.safety_Officer_Phone)),e.append("safety_Officer_Phone_Ext",this.loginInfo.validateEmpty(this.safetyinfoForm.value.safety_Officer_Phone_Ext)),e.append("safety_Officer_Email",this.loginInfo.validateEmpty(this.safetyinfoForm.value.safety_Officer_Email)),e.append("is_Safety_Program",this.loginInfo.validateEmpty(this.safetyinfoForm.value.is_Safety_Program)),e.append("number_Of_Employees",this.loginInfo.validateEmpty(this.safetyinfoForm.value.number_Of_Employees)),e.append("is_OSHA",this.loginInfo.validateEmpty(this.safetyinfoForm.value.is_OSHA)),e.append("oshA_AddInfo",this.loginInfo.validateEmpty(this.safetyinfoForm.value.oshA_AddInfo)),e.append("citation",this.safetyinfoForm.value.oshA_Citation?this.safetyinfoForm.value.oshA_Citation:0),e.append("isComplete",!1),e.append("isAutosave",this.safetyinfoForm.value.isAutosave),e.append("isnumber_Of_Employees",this.safetyinfoForm.value.isnumber_Of_Employees),e.append("triR_Info_LastYear",this.safetyinfoForm.value.triR_Info_LastYear?this.safetyinfoForm.value.triR_Info_LastYear:""),e.append("triR_Info_TwoYears",this.safetyinfoForm.value.triR_Info_TwoYears?this.safetyinfoForm.value.triR_Info_TwoYears:""),e.append("triR_Info_ThreeYears",this.safetyinfoForm.value.triR_Info_ThreeYears?this.safetyinfoForm.value.triR_Info_ThreeYears:""),e.append("emR_LastYear_Upload",this.safetyinfoForm.value.emR_LastYear_Upload?this.safetyinfoForm.value.emR_LastYear_Upload:""),e.append("emR_TwoYears_Upload",this.safetyinfoForm.value.emR_TwoYears_Upload?this.safetyinfoForm.value.emR_TwoYears_Upload:""),e.append("emR_ThreeYears_Upload",this.safetyinfoForm.value.emR_ThreeYears_Upload?this.safetyinfoForm.value.emR_ThreeYears_Upload:"");for(let t=0;t<this.tempSafetyProgramUpload.length;t++)e.append("Safety_Program_Upload",this.tempSafetyProgramUpload[t]);this.tempSafetyProgramUpload=[];for(let t=0;t<this.tempdrugTestingUpload.length;t++)e.append("drug_Testing_Upload",this.tempdrugTestingUpload[t]);this.tempdrugTestingUpload=[];for(let t=0;t<this.tempOSHALastYearUpload.length;t++)e.append("OSHA_LastYear_Upload",this.tempOSHALastYearUpload[t]);this.tempOSHALastYearUpload=[];for(let t=0;t<this.tempOSHATwoYearsUpload.length;t++)e.append("OSHA_TwoYears_Upload",this.tempOSHATwoYearsUpload[t]);this.tempOSHATwoYearsUpload=[];for(let t=0;t<this.tempOSHAThreeYearsUpload.length;t++)e.append("OSHA_ThreeYears_Upload",this.tempOSHAThreeYearsUpload[t]);return this.tempOSHAThreeYearsUpload=[],this.tempTRIRThreeYearsUpload=[],this.tempemRThreeYearsUpload=[],this.tempemRVerificationUpload.filter(t=>{e.append("emR_Verification_Upload",t)}),this.tempemRVerificationUpload=[],e}safetyProgramUpload(e){let t=document.getElementById("safety_Program_Upload");for(let i=0;i<t.files.length;i++)this.tempSafetyProgramUpload.push(t.files[i]);this.spinner.safetySpinner=!0,this.fileupload()}removesafetyProgramFile(e,t,i=!0){this.showdisabled||this.safetyservice.deleteRecord(t.id).subscribe(t=>{1==i&&this.toastr.info("File removed successfully","Safety Info"),this.safetyProgramAttachments.splice(e,1)})}safetyofficerUpload(e){let t=document.getElementById("drug_Testing_Upload");for(let i=0;i<t.files.length;i++)this.tempdrugTestingUpload.push(t.files[i]);this.spinner.drugtestingSpinner=!0,this.fileupload()}removesafetyofficerFile(e,t,i=!0){this.showdisabled||this.safetyservice.deleteRecord(t.id).subscribe(t=>{i&&this.toastr.info("File removed successfully","Safety Info"),this.drugTesting.splice(e,1)})}OSHALastYearUpload(e){let t=document.getElementById("OSHA_LastYear_Upload");for(let i=0;i<t.files.length;i++)this.tempOSHALastYearUpload.push(t.files[i]);this.spinner.oshaLastSpinner=!0,this.fileupload()}removeOSHALastYearUpload(e,t,i=!0){this.showdisabled||this.safetyservice.deleteRecord(t.id).subscribe(t=>{i&&this.toastr.info("File removed successfully","Safety Info"),this.oshALogLastYear.splice(e,1)})}oshALogThreeYearsUpload(e){let t=document.getElementById("OSHA_ThreeYears_Upload");for(let i=0;i<t.files.length;i++)this.tempOSHAThreeYearsUpload.push(t.files[i]);this.spinner.oshaThreeSpinner=!0,this.fileupload()}removeoshALogThreeYearsUpload(e,t){this.showdisabled||this.safetyservice.deleteRecord(t.id).subscribe(t=>{this.toastr.info("File removed successfully","Safety Info"),this.oshALogThreeYears.splice(e,1)})}oshALogTwoYearsUpload(e){let t=document.getElementById("OSHA_TwoYears_Upload");for(let i=0;i<t.files.length;i++)this.tempOSHATwoYearsUpload.push(t.files[i]);this.spinner.oshaTwoSpinner=!0,this.fileupload()}removeoshALogTwoYearsUpload(e,t){this.showdisabled||this.safetyservice.deleteRecord(t.id).subscribe(t=>{this.toastr.info("File removed successfully","Safety Info"),this.oshALogTwoYears.splice(e,1)})}triRInfoLastYearUpload(e){let t=document.getElementById("TRIR_LastYear_Upload");for(let i=0;i<t.files.length;i++)this.tempTRIRLastYearUpload.push(t.files[i]);this.spinner.trirLastSpinner=!0,this.fileupload()}removetriRInfoLastYearUpload(e,t){this.showdisabled||this.safetyservice.deleteRecord(t.id).subscribe(t=>{this.toastr.info("File removed successfully","Safety Info"),this.triRInfoLastYear.splice(e,1)})}triRInfoThreeYearsUpload(e){let t=document.getElementById("TRIR_ThreeYears_Upload");for(let i=0;i<t.files.length;i++)this.tempTRIRThreeYearsUpload.push(t.files[i]);this.spinner.trirThreeSpinner=!0,this.fileupload()}removetriRInfoThreeYearsUpload(e,t){this.showdisabled||this.safetyservice.deleteRecord(t.id).subscribe(t=>{this.toastr.info("File removed successfully","Safety Info"),this.triRInfoThreeYears.splice(e,1)})}triRInfoTwoYearsUpload(e){let t=document.getElementById("TRIR_TwoYears_Upload");for(let i=0;i<t.files.length;i++)this.tempTRIRTwoYearsUpload.push(t.files[i]);this.spinner.trirTwoSpinner=!0,this.fileupload()}removetriRInfoTwoYearsUpload(e,t){this.showdisabled||this.safetyservice.deleteRecord(t.id).subscribe(t=>{this.toastr.info("File removed successfully","Safety Info"),this.triRInfoTwoYears.splice(e,1)})}emRLastYearUpload(e){let t=document.getElementById("emR_LastYear_Upload");for(let i=0;i<t.files.length;i++)this.tempemRLastYearUpload.push(t.files[i]);this.spinner.trirTwoSpinner=!0,this.fileupload()}removeemRLastYearUpload(e,t){this.showdisabled||this.safetyservice.deleteRecord(t.id).subscribe(t=>{this.toastr.info("File removed successfully","Safety Info"),this.emRLastYear.splice(e,1)})}emRTwoYearsUpload(e){let t=document.getElementById("emR_TwoYears_Upload");for(let i=0;i<t.files.length;i++)this.tempemRTwoYearsUpload.push(t.files[i]);this.spinner.emrTwoSpinner=!0,this.fileupload()}removeemRTwoYearsUpload(e,t){this.showdisabled||this.safetyservice.deleteRecord(t.id).subscribe(t=>{this.toastr.info("File removed successfully","Safety Info"),this.emRTwoYears.splice(e,1)})}emRThreeYearsUpload(e){let t=document.getElementById("emR_ThreeYears_Upload");for(let i=0;i<t.files.length;i++)this.tempemRThreeYearsUpload.push(t.files[i]);this.spinner.emrThreeSpinner=!0,this.fileupload()}removeemRThreeYearsUpload(e,t){this.showdisabled||this.safetyservice.deleteRecord(t.id).subscribe(t=>{this.toastr.info("File removed successfully","Safety Info"),this.emRThreeYears.splice(e,1)})}emRVerificationUpload(e){let t=document.getElementById("emR_Verification_Upload");for(let i=0;i<t.files.length;i++)this.tempemRVerificationUpload.push(t.files[i]);this.spinner.emrverification=!0,this.fileupload()}removeemRVerificationUpload(e,t){this.showdisabled||this.safetyservice.deleteRecord(t.id).subscribe(t=>{this.toastr.info("File removed successfully","Safety Info"),this.emRVerification.splice(e,1)})}resetSpinner(){this.spinner={safetySpinner:!1,oshaLastSpinner:!1,oshaTwoSpinner:!1,oshaThreeSpinner:!1,trirLastSpinner:!1,trirTwoSpinner:!1,trirThreeSpinner:!1,drugtestingSpinner:!1,emrLastSpinner:!1,emrTwoSpinner:!1,emrThreeSpinner:!1,emrverification:!1}}fileupload(){if(0==this.safetyid){this.safetyinfoForm.patchValue({isAutosave:!0});let e=this.formMethod();this.safetyservice.addRecord(e).subscribe(e=>{this.submitText="UPDATE",this.getRecords(this.companyId),this.fileReset(),this.keepalive.stop(),this.resetSpinner()})}else{this.safetyinfoForm.patchValue({isAutosave:!0});let e=this.formMethod();this.safetyservice.updateRecord(e,this.safetyid).subscribe(e=>{this.getRecords(this.companyId),this.fileReset(),this.keepalive.stop(),this.resetSpinner(),this.safetyinfoForm.patchValue({isAutosave:!0})})}}gotoHome(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm-1].url}`])}filepreview(e,t){var i=new FileReader;i.onload=i=>{console.log(i.target);let n=new Blob(e.files,{type:e.files[t].type});var o=(window.URL||window.webkitURL).createObjectURL(n);console.log("path",o,e.value);var a=document.createElement("a"),r=document.createTextNode("View File");a.target="_blank",a.appendChild(r),a.href=o,a.click(),e.appendChild(a)},i.readAsDataURL(e.files[t])}nextroutePage(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(o.d),c.Pb(a.f),c.Pb(go),c.Pb(d.a),c.Pb(m.a),c.Pb(h.b),c.Pb(l.a),c.Pb(v),c.Pb(y.c))},e.\u0275cmp=c.Jb({type:e,selectors:[["app-safetyinfo"]],decls:283,vars:207,consts:[[1,"px-2",3,"formGroup","ngSubmit","keydown.enter"],[1,"px-1","my-2","form-bg",3,"ngClass"],[1,"form-group","row","px-2","mx-auto","pb-3"],[1,"row"],[1,"col-lg-6","px-2","mt-2"],[1,"row","col-curve-top","bg-white","mx-0","px-0","py-2","mt-2"],[1,"row","pt-2"],[1,"col-5"],["for","is_Supplier",1,"my-auto"],[1,"text-danger"],[1,"col-7"],[1,"col-lg-3"],["type","radio","formControlName","is_Supplier","value","yes","checked","checked","name","is_Supplier","id","is_Supplier_yes",3,"ngModelChange","click"],["for","is_Supplier_yes",3,"ngClass"],[1,"col-lg-9"],["type","radio","formControlName","is_Supplier","value","no","name","is_Supplier","id","is_Supplier_no",3,"ngClass","ngModelChange"],["for","is_Supplier_no"],["class","invalid-feedback",4,"ngIf"],["class","col-lg-12 text-danger",4,"ngIf"],[1,"row","px-4","mt-2"],[1,"row","pb-5"],[1,"row","pb-4"],[1,"row","col-curve-top","bg-white","mx-0","px-0","py-2","mt-2",3,"ngClass"],[1,"col-lg-12","pt-2","mx-auto","bg-white","col-curve"],[1,"col-8"],["for","is_Safety_Officer",1,"my-auto","float-right"],["class","text-danger",4,"ngIf"],[1,"col-4"],[1,"col-lg-6"],["type","radio","formControlName","is_Safety_Officer","value","yes","checked","checked","name","is_Safety_Officer","id","is_Safety_Officer_yes",3,"ngClass","ngModelChange"],["for","is_Safety_Officer_yes"],["type","radio","formControlName","is_Safety_Officer","value","no","name","is_Safety_Officer","id","is_Safety_Officer_no",3,"ngClass","ngModelChange","click"],["for","is_Safety_Officer_no"],[1,"row","mt-1",3,"ngClass"],["for","safety_Officer_Name",1,"my-auto","font-italic","float-right"],["type","text","formControlName","safety_Officer_Name","pattern","[0-9]+","id","safety_Officer_Name","name","safety_Officer_Name",1,"form-control",3,"ngClass","ngModelChange"],["for","safety_Officer_Phone",1,"my-auto","font-italic","float-right"],[1,"col-10","pe-0"],["type","text","appPhoneMask","","onKeyPress","if(this.value.length==15) return false;","formControlName","safety_Officer_Phone","id","safety_Officer_Phone","name","safety_Officer_Phone",1,"form-control",3,"ngClass","ngModelChange"],[1,"col-2","ps-0"],["type","number","onKeyPress","if(this.value.length==3) return false;","formControlName","safety_Officer_Phone_Ext","pattern","[0-9]+","id","safety_Officer_Phone_Ext","name","safety_Officer_Phone_Ext",1,"form-control",3,"ngClass","ngModelChange"],["for","safety_Officer_Email",1,"my-auto","font-italic","float-right"],["type","text","formControlName","safety_Officer_Email","pattern","[0-9]+","id","safety_Officer_Email","name","safety_Officer_Email",1,"form-control",3,"ngClass","ngModelChange"],[1,"row","col-curve","bg-white","mx-0","px-0","py-2","mt-2",3,"ngClass"],[1,"row","pt-3"],[1,"col-6"],["for","is_Safety_Program",1,"my-auto","float-right"],["type","radio","formControlName","is_Safety_Program","value","yes","checked","checked","name","is_Safety_Program","id","is_Safety_Program_yes",3,"ngClass","ngModelChange"],["for","is_Safety_Program_yes"],["type","radio","formControlName","is_Safety_Program","value","no","name","is_Safety_Program","id","is_Safety_Program_no",3,"ngClass","ngModelChange","click"],["for","is_Safety_Program_no"],[1,"pt-2","pb-4",3,"ngClass"],["for","Safety_Program_Upload",1,"my-auto","font-italic","float-right"],[1,"form-control-customitem","form-control","fupupload"],["type","file","formControlName","safety_Program_Upload","title","Choose file","id","safety_Program_Upload","name","Safety_Program_Upload","multiple","",3,"ngClass","change"],["for","CPA_Upload",3,"ngClass"],["class","spinner__loading pt-3",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"col-lg-12","py-2","mx-auto","bg-white","col-curve"],[1,"mt-1"],[1,"row","pt-1"],["for","is_Drug_Testing_Policy",1,"my-auto","float-right"],["type","radio","formControlName","is_Drug_Testing_Policy","value","yes","checked","checked","name","is_Drug_Testing_Policy","id","is_Drug_Testing_Policy_yes",3,"ngClass","ngModelChange"],["for","is_Drug_Testing_Policy_yes"],["type","radio","formControlName","is_Drug_Testing_Policy","value","no","name","is_Drug_Testing_Policy","id","is_Drug_Testing_Policy_no",3,"ngClass","ngModelChange","click"],["for","is_Drug_Testing_Policy_no"],[1,"pt-2",3,"ngClass"],["for","drug_Testing_Upload",1,"my-auto","font-italic","float-right"],["type","file","formControlName","drug_Testing_Upload","title","Choose file","id","drug_Testing_Upload","name","drug_Testing_Upload","multiple","",3,"ngClass","change"],["for","drug_Testing_Upload",3,"ngClass"],[1,"bg-white","pt-3"],["for","project-zipcode",1,"my-auto","float-right"],["for","project-zipcode",1,"my-auto","font-italic","float-right","mt-3"],["for","triR_Info_LastYear",1,"my-auto","font-italic","float-right"],["type","number","formControlName","triR_Info_LastYear","id","triR_Info_LastYear","name","triR_Info_LastYear",1,"form-control",3,"ngClass"],["for","triR_Info_TwoYears",1,"my-auto","font-italic","float-right"],["type","number","formControlName","triR_Info_TwoYears","id","triR_Info_TwoYears","name","triR_Info_TwoYears",1,"form-control",3,"ngClass"],["for","triR_Info_ThreeYears",1,"my-auto","font-italic","float-right"],["type","number","formControlName","triR_Info_ThreeYears","id","triR_Info_ThreeYears","name","triR_Info_ThreeYears",1,"form-control",3,"ngClass"],[1,"pb-5","pt-4"],[1,"pb-4","pt-4"],[1,"row","mt-2"],[1,"col-12","my-auto","font-italic","float-right"],["type","checkbox","formControlName","isnumber_Of_Employees","id","isnumber_Of_Employees","name","isnumber_Of_Employees",3,"change"],[1,"col-12"],["for","number_Of_Employees",1,"my-auto","font-italic","float-right"],["type","number","formControlName","number_Of_Employees","pattern","[0-9]+","id","number_Of_Employees","name","number_Of_Employees",1,"form-control",3,"ngClass","ngModelChange"],["for","project-zipcode",1,"my-auto","font-italic","float-right"],[1,"col-lg-12","mt-3","bg-white","col-curve"],["type","file","formControlName","oshA_Log_LastYear","id","OSHA_LastYear_Upload","title","Choose file","name","oshA_Log_LastYear","multiple","",3,"ngClass","change"],["for","oshA_Log_LastYear",3,"ngClass"],[1,"mt-2"],["for","is_OSHA",1,"my-auto","font-italic","float-right"],[1,"col-lg-2"],["type","radio","formControlName","is_OSHA","value","yes","checked","checked","name","is_OSHA","id","is_OSHA_yes",3,"ngClass","ngModelChange"],["for","is_OSHA_yes"],[1,"col-lg-10"],["type","radio","formControlName","is_OSHA","value","no","name","is_OSHA","id","is_OSHA_no",3,"ngClass","ngModelChange"],["for","is_OSHA_no"],[1,"mr-4","mt-1"],[1,"note","fw-bold",3,"ngClass"],["class","col-lg-12 bg-white",4,"ngIf"],[1,"my-auto","float-right"],["for","emR_LastYear_Upload",1,"my-auto","font-italic","float-right","mt-2"],["for","emR_LastYear_Upload",1,"my-auto","font-italic","float-right"],["type","number","formControlName","emR_LastYear_Upload","id","emR_LastYear_Upload","name","emR_LastYear_Upload",1,"form-control",3,"ngClass"],["for","emR_TwoYears_Upload",1,"my-auto","font-italic","float-right"],["type","number","formControlName","emR_TwoYears_Upload","title","Choose file","id","emR_TwoYears_Upload","name","emR_TwoYears_Upload",1,"form-control",3,"ngClass"],["for","emR_ThreeYears_Upload",1,"my-auto","font-italic","float-right"],["type","number","formControlName","emR_ThreeYears_Upload","id","emR_ThreeYears_Upload","name","emR_ThreeYears_Upload",1,"form-control",3,"ngClass"],[1,"my-auto","float-right","pt-3"],[1,"col-lg-12","mt-2","bg-white","col-curve"],["for","emR_Verification_Upload",1,"my-auto","font-italic","float-right","col-2"],["type","file","title","Choose file","formControlName","emR_Verification_Upload","id","emR_Verification_Upload","name","emR_Verification_Upload","multiple","",3,"ngClass","change"],["for","emR_Verification_Upload",3,"ngClass"],[1,"pb-5","pt-5"],[1,"pt-2"],["class","text-end mx-lg-4 my-3",4,"ngIf"],["class","text-end mx-4 my-3",4,"ngIf"],[3,"formId","companyId","taxId","vendorId",4,"ngIf"],[4,"ngIf"],[1,"invalid-feedback"],[1,"col-lg-12","text-danger"],[1,"fw-bold","note",3,"ngClass"],[1,"spinner__loading","pt-3"],["diameter","18","mode","indeterminate",1,"mt-1"],[1,"file-tag"],["target","_blank",3,"href"],[1,"file-close","text-white",3,"click"],[1,"col-lg-12","bg-white"],["type","number","formControlName","oshA_Citation","id","oshA_Citation","name","oshA_Citation",1,"form-control",3,"ngClass","ngModelChange"],["formControlName","oshA_AddInfo","id","oshA_AddInfo","name","oshA_AddInfo",1,"form-control",3,"ngClass","ngModelChange"],[1,"text-end","mx-lg-4","my-3"],[1,"btn","float-start","btn","default-btn",3,"click"],["type","button",1,"btn","ml-4","default-btn",3,"click"],["type","submit",1,"btn","mx-2","default-btn"],[1,"text-end","mx-4","my-3"],[1,"btn","btn-success","mx-2","default-btn",3,"click"],[3,"formId","companyId","taxId","vendorId"],[1,"btn","btn","my-2","default-btn","float-end","me-4"]],template:function(e,t){1&e&&(c.Vb(0,"form",0),c.cc("ngSubmit",function(){return t.submit()})("keydown.enter",function(e){return e.preventDefault()}),c.Vb(1,"div",1),c.Vb(2,"div",2),c.Vb(3,"div",3),c.Vb(4,"div",4),c.Vb(5,"div",5),c.Vb(6,"div",6),c.Vb(7,"div",7),c.Vb(8,"h6",8),c.Dc(9,"1. Are you a supplier? "),c.Vb(10,"span",9),c.Dc(11,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(12,"div",10),c.Vb(13,"div",3),c.Vb(14,"span",11),c.Vb(15,"input",12),c.cc("ngModelChange",function(){return t.idleReset()})("click",function(){return t.resetSupplierYes()}),c.Ub(),c.Vb(16,"label",13),c.Dc(17," YES"),c.Ub(),c.Ub(),c.Vb(18,"span",14),c.Vb(19,"input",15),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Vb(20,"label",16),c.Dc(21," NO"),c.Ub(),c.Ub(),c.Ub(),c.Bc(22,zo,2,1,"div",17),c.Ub(),c.Bc(23,Wo,3,3,"div",18),c.Ub(),c.Vb(24,"div",19),c.Dc(25,"Supplier = You only supply materials to the project sites. You DO NOT perform work in the field or provide any field services."),c.Ub(),c.Qb(26,"div",20),c.Qb(27,"div",21),c.Ub(),c.Ub(),c.Vb(28,"div",4),c.Vb(29,"div",22),c.Vb(30,"div",23),c.Vb(31,"div",3),c.Vb(32,"div",24),c.Vb(33,"h6",25),c.Dc(34,"2. Do you have a safety officer/safety department in your company?"),c.Bc(35,Ho,2,0,"span",26),c.Ub(),c.Ub(),c.Vb(36,"div",27),c.Vb(37,"div",3),c.Vb(38,"span",28),c.Vb(39,"input",29),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Vb(40,"label",30),c.Dc(41," YES"),c.Ub(),c.Ub(),c.Vb(42,"span",28),c.Vb(43,"input",31),c.cc("ngModelChange",function(){return t.idleReset()})("click",function(){return t.resetSafety()}),c.Ub(),c.Vb(44,"label",32),c.Dc(45," NO"),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Bc(46,Ko,2,1,"div",17),c.Ub(),c.Vb(47,"div",33),c.Vb(48,"div",3),c.Vb(49,"div",7),c.Vb(50,"label",34),c.Dc(51," Safety Officer Name: "),c.Bc(52,Jo,2,0,"span",26),c.Ub(),c.Ub(),c.Vb(53,"div",10),c.Vb(54,"input",35),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Bc(55,ea,2,1,"div",17),c.Ub(),c.Ub(),c.Ub(),c.Vb(56,"div",33),c.Vb(57,"div",3),c.Vb(58,"div",7),c.Vb(59,"label",36),c.Dc(60," Safety Officer Phone: "),c.Bc(61,ta,2,0,"span",26),c.Ub(),c.Ub(),c.Vb(62,"div",10),c.Vb(63,"div",3),c.Vb(64,"div",37),c.Vb(65,"input",38),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Bc(66,na,2,1,"div",17),c.Ub(),c.Vb(67,"div",39),c.Vb(68,"input",40),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Bc(69,aa,2,1,"div",17),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(70,"div",33),c.Vb(71,"div",3),c.Vb(72,"div",7),c.Vb(73,"label",41),c.Dc(74," Safety Officer Email: "),c.Bc(75,ra,2,0,"span",26),c.Ub(),c.Ub(),c.Vb(76,"div",10),c.Vb(77,"input",42),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Bc(78,ca,2,1,"div",17),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(79,"div",3),c.Vb(80,"div",4),c.Vb(81,"div",43),c.Vb(82,"div",44),c.Vb(83,"div",45),c.Vb(84,"h6",46),c.Dc(85,"3. Do you have a written safety program ? "),c.Bc(86,la,2,0,"span",26),c.Ub(),c.Ub(),c.Vb(87,"div",45),c.Vb(88,"div",3),c.Vb(89,"span",11),c.Vb(90,"input",47),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Vb(91,"label",48),c.Dc(92," YES"),c.Ub(),c.Ub(),c.Vb(93,"span",14),c.Vb(94,"input",49),c.cc("ngModelChange",function(){return t.idleReset()})("click",function(){return t.resetSafetyProgram()}),c.Ub(),c.Vb(95,"label",50),c.Dc(96," NO"),c.Ub(),c.Ub(),c.Ub(),c.Bc(97,ua,2,1,"div",17),c.Ub(),c.Ub(),c.Vb(98,"div",51),c.Vb(99,"label",52),c.Dc(100,"Please attach your company's safety program: "),c.Ub(),c.Vb(101,"div",53),c.Vb(102,"input",54),c.cc("change",function(e){return t.safetyProgramUpload(e)}),c.Ub(),c.Vb(103,"span",55),c.Dc(104," \xa0 Click here to Add Files"),c.Ub(),c.Ub(),c.Bc(105,ba,2,1,"div",17),c.Bc(106,pa,4,0,"div",56),c.Bc(107,fa,7,2,"div",57),c.Ub(),c.Ub(),c.Ub(),c.Vb(108,"div",4),c.Vb(109,"div",43),c.Vb(110,"div",58),c.Vb(111,"div",59),c.Vb(112,"div",60),c.Vb(113,"div",45),c.Vb(114,"h6",61),c.Dc(115,"4. Do you have a drug and alcohol testing policy? "),c.Bc(116,ha,2,0,"span",26),c.Ub(),c.Ub(),c.Vb(117,"div",45),c.Vb(118,"div",3),c.Vb(119,"span",11),c.Vb(120,"input",62),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Vb(121,"label",63),c.Dc(122," YES"),c.Ub(),c.Ub(),c.Vb(123,"span",14),c.Vb(124,"input",64),c.cc("ngModelChange",function(){return t.idleReset()})("click",function(){return t.resetDrug()}),c.Ub(),c.Vb(125,"label",65),c.Dc(126," NO"),c.Ub(),c.Ub(),c.Ub(),c.Bc(127,_a,2,1,"div",17),c.Ub(),c.Ub(),c.Ub(),c.Vb(128,"div",66),c.Vb(129,"label",67),c.Dc(130,"Please attach your company's alcohol testing policy: "),c.Ub(),c.Vb(131,"div",53),c.Vb(132,"input",68),c.cc("change",function(e){return t.safetyofficerUpload(e)}),c.Ub(),c.Vb(133,"span",69),c.Dc(134," \xa0 Click here to Add Files"),c.Ub(),c.Ub(),c.Bc(135,ya,2,1,"div",17),c.Bc(136,Va,4,0,"div",56),c.Bc(137,Ua,7,2,"div",57),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(138,"div",3),c.Vb(139,"div",4),c.Vb(140,"div",43),c.Vb(141,"div",70),c.Vb(142,"h6",71),c.Dc(143,"5. TRIR Information "),c.Ub(),c.Ub(),c.Vb(144,"label",72),c.Dc(145,"List your company\u2019s Total Recordable Incident Rate (TRIR) for the past 3 years."),c.Bc(146,Da,2,0,"span",26),c.Ub(),c.Vb(147,"div",6),c.Vb(148,"div",45),c.Vb(149,"label",73),c.Dc(150,"Last year: "),c.Bc(151,Ca,2,0,"span",26),c.Ub(),c.Ub(),c.Vb(152,"div",45),c.Vb(153,"div"),c.Qb(154,"input",74),c.Ub(),c.Bc(155,Ra,2,1,"div",17),c.Ub(),c.Ub(),c.Vb(156,"div",6),c.Vb(157,"div",45),c.Vb(158,"label",75),c.Dc(159,"Two years ago: "),c.Bc(160,Fa,2,0,"span",26),c.Ub(),c.Ub(),c.Vb(161,"div",45),c.Vb(162,"div"),c.Qb(163,"input",76),c.Ub(),c.Bc(164,Sa,2,1,"div",17),c.Ub(),c.Ub(),c.Vb(165,"div",6),c.Vb(166,"div",45),c.Vb(167,"label",77),c.Dc(168,"Three years ago: "),c.Bc(169,ka,2,0,"span",26),c.Ub(),c.Ub(),c.Vb(170,"div",45),c.Vb(171,"div"),c.Qb(172,"input",78),c.Ub(),c.Bc(173,Pa,2,1,"div",17),c.Ub(),c.Ub(),c.Qb(174,"div",79),c.Qb(175,"div",80),c.Ub(),c.Ub(),c.Vb(176,"div",4),c.Vb(177,"div",43),c.Vb(178,"div",70),c.Vb(179,"h6",71),c.Dc(180,"6. OSHA Records "),c.Ub(),c.Vb(181,"div",81),c.Vb(182,"div",82),c.Vb(183,"label"),c.Dc(184,"I don\u2019t have more than 10 employees as of today?"),c.Ub(),c.Dc(185," \xa0 \xa0 \xa0 \xa0 "),c.Vb(186,"input",83),c.cc("change",function(){return t.isNumberEmployees(t.safetyinfoForm.value.isnumber_Of_Employees)}),c.Ub(),c.Ub(),c.Ub(),c.Vb(187,"div",81),c.Vb(188,"div",84),c.Vb(189,"label",85),c.Dc(190," How many employees does your company have as of today ? "),c.Bc(191,Aa,2,0,"span",26),c.Ub(),c.Vb(192,"input",86),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Bc(193,Ea,2,1,"div",17),c.Ub(),c.Ub(),c.Ub(),c.Vb(194,"div",59),c.Vb(195,"label",87),c.Dc(196,"Provide Subcontractors's OSHA No. 300A Summary of Occupational injuries and illnesses of the past three years:"),c.Bc(197,ja,2,0,"span",26),c.Ub(),c.Ub(),c.Vb(198,"div",88),c.Vb(199,"div",53),c.Vb(200,"input",89),c.cc("change",function(e){return t.OSHALastYearUpload(e)}),c.Ub(),c.Vb(201,"span",90),c.Dc(202," \xa0 Click here to Add Files"),c.Ub(),c.Ub(),c.Bc(203,Ma,4,0,"div",56),c.Bc(204,qa,2,1,"div",17),c.Bc(205,Ba,7,2,"div",57),c.Ub(),c.Vb(206,"div",91),c.Vb(207,"label",92),c.Dc(208,"Has OSHA (federal or state) issued any citation(s) to your company over the past 5 years period? "),c.Bc(209,La,2,0,"span",26),c.Ub(),c.Vb(210,"div",60),c.Vb(211,"span",93),c.Vb(212,"input",94),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Vb(213,"label",95),c.Dc(214," YES"),c.Ub(),c.Ub(),c.Vb(215,"span",96),c.Vb(216,"input",97),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Vb(217,"label",98),c.Dc(218," NO"),c.Ub(),c.Ub(),c.Ub(),c.Bc(219,Ya,2,1,"div",17),c.Vb(220,"div",99),c.Vb(221,"small",100),c.Dc(222,"If yes, please denote how many & other details."),c.Ub(),c.Ub(),c.Bc(223,Ha,9,8,"div",101),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(224,"div",3),c.Vb(225,"div",4),c.Vb(226,"div",43),c.Vb(227,"div",70),c.Vb(228,"h6",102),c.Dc(229,"7. Experience Modification Rate (EMR) Records "),c.Ub(),c.Ub(),c.Vb(230,"label",103),c.Dc(231,"List your company\u2019s workers compensation / Experience Modification Rate (EMR) and the last 3 years. "),c.Bc(232,Za,2,0,"span",26),c.Ub(),c.Vb(233,"div",81),c.Vb(234,"div",45),c.Vb(235,"label",104),c.Dc(236,"Current year: "),c.Bc(237,Ka,2,0,"span",26),c.Ub(),c.Ub(),c.Vb(238,"div",45),c.Vb(239,"div"),c.Qb(240,"input",105),c.Ub(),c.Bc(241,Xa,2,1,"div",17),c.Ub(),c.Ub(),c.Vb(242,"div",81),c.Vb(243,"div",45),c.Vb(244,"label",106),c.Dc(245,"Last year: "),c.Bc(246,er,2,0,"span",26),c.Ub(),c.Ub(),c.Vb(247,"div",45),c.Vb(248,"div"),c.Qb(249,"input",107),c.Ub(),c.Bc(250,ir,2,1,"div",17),c.Ub(),c.Ub(),c.Vb(251,"div",81),c.Vb(252,"div",45),c.Vb(253,"label",108),c.Dc(254,"Two years ago: "),c.Bc(255,nr,2,0,"span",26),c.Ub(),c.Ub(),c.Vb(256,"div",45),c.Vb(257,"div"),c.Qb(258,"input",109),c.Ub(),c.Bc(259,ar,2,1,"div",17),c.Qb(260,"div",80),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(261,"div",4),c.Vb(262,"div",43),c.Vb(263,"h6",110),c.Dc(264,"8. Attach a copy of the insurance agent's EMR verification letter: "),c.Bc(265,rr,2,0,"span",26),c.Ub(),c.Vb(266,"div",111),c.Vb(267,"label",112),c.Dc(268,"Add Attachment: "),c.Bc(269,sr,2,0,"span",26),c.Ub(),c.Vb(270,"div",53),c.Vb(271,"input",113),c.cc("change",function(e){return t.emRVerificationUpload(e)}),c.Ub(),c.Vb(272,"span",114),c.Dc(273," \xa0 Click here to Add Files"),c.Ub(),c.Ub(),c.Bc(274,lr,2,1,"div",17),c.Bc(275,dr,4,0,"div",56),c.Bc(276,ur,7,2,"div",57),c.Ub(),c.Qb(277,"div",115),c.Qb(278,"div",116),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Bc(279,mr,7,1,"div",117),c.Ub(),c.Bc(280,br,5,0,"div",118),c.Bc(281,pr,1,4,"app-safetycomment",119),c.Bc(282,fr,3,0,"div",120)),2&e&&(c.mc("formGroup",t.safetyinfoForm),c.Db(1),c.mc("ngClass",c.pc(121,$o,1==t.showdisabled)),c.Db(15),c.mc("ngClass",c.pc(123,Wa,t.submitted&&t.f.is_Supplier.errors)),c.Db(3),c.mc("ngClass",c.pc(125,Wa,t.submitted&&t.f.is_Supplier.errors)),c.Db(3),c.mc("ngIf",(t.f.is_Supplier.touched||t.submitted)&&t.f.is_Supplier.errors),c.Db(1),c.mc("ngIf","yes"==t.f.is_Supplier.value),c.Db(6),c.mc("ngClass",c.pc(127,$o,"yes"==t.f.is_Supplier.value)),c.Db(6),c.mc("ngIf",null==t.f.is_Safety_Officer||null==t.f.is_Safety_Officer.errors?null:t.f.is_Safety_Officer.errors.required),c.Db(4),c.mc("ngClass",c.pc(129,Wa,t.submitted&&t.f.is_Safety_Officer.errors)),c.Eb("disabled","yes"==t.f.is_Supplier.value?"":null),c.Db(4),c.mc("ngClass",c.pc(131,Wa,t.submitted&&t.f.is_Safety_Officer.errors)),c.Eb("disabled","yes"==t.f.is_Supplier.value?"":null),c.Db(3),c.mc("ngIf",t.submitted&&t.f.is_Safety_Officer.errors),c.Db(1),c.mc("ngClass",c.pc(133,$o,"no"==t.f.is_Safety_Officer.value)),c.Db(5),c.mc("ngIf",null==t.f.safety_Officer_Name||null==t.f.safety_Officer_Name.errors?null:t.f.safety_Officer_Name.errors.required),c.Db(2),c.mc("ngClass",c.pc(135,Wa,t.submitted&&t.f.safety_Officer_Name.errors)),c.Eb("disabled","no"==t.safetyinfoForm.value.is_Safety_Officer?"":null),c.Db(1),c.mc("ngIf",(t.submitted||t.f.safety_Officer_Name.touched)&&t.f.safety_Officer_Name.errors),c.Db(1),c.mc("ngClass",c.pc(137,$o,"no"==t.f.is_Safety_Officer.value)),c.Db(5),c.mc("ngIf",null==t.f.safety_Officer_Phone||null==t.f.safety_Officer_Phone.errors?null:t.f.safety_Officer_Phone.errors.required),c.Db(4),c.mc("ngClass",c.pc(139,Wa,t.submitted&&t.f.safety_Officer_Phone.errors)),c.Eb("disabled","no"==t.safetyinfoForm.value.is_Safety_Officer?"":null),c.Db(1),c.mc("ngIf",(t.submitted||t.f.safety_Officer_Phone.touched)&&t.f.safety_Officer_Phone.errors),c.Db(2),c.mc("ngClass",c.pc(141,Wa,t.submitted&&t.f.safety_Officer_Phone_Ext.errors)),c.Eb("disabled","no"==t.safetyinfoForm.value.is_Safety_Officer?"":null),c.Db(1),c.mc("ngIf",(t.submitted||t.f.safety_Officer_Phone_Ext.touched)&&t.f.safety_Officer_Phone_Ext.errors),c.Db(1),c.mc("ngClass",c.pc(143,$o,"no"==t.f.is_Safety_Officer.value)),c.Db(5),c.mc("ngIf",null==t.f.safety_Officer_Email||null==t.f.safety_Officer_Email.errors?null:t.f.safety_Officer_Email.errors.required),c.Db(2),c.mc("ngClass",c.pc(145,Wa,t.submitted&&t.f.safety_Officer_Email.errors)),c.Eb("disabled","no"==t.safetyinfoForm.value.is_Safety_Officer?"":null),c.Db(1),c.mc("ngIf",(t.submitted||t.f.safety_Officer_Email.touched)&&t.f.safety_Officer_Email.errors),c.Db(3),c.mc("ngClass",c.pc(147,$o,"yes"==t.f.is_Supplier.value)),c.Db(5),c.mc("ngIf","no"==(null==t.safetyinfoForm||null==t.safetyinfoForm.value?null:t.safetyinfoForm.value.is_Supplier)),c.Db(4),c.mc("ngClass",c.pc(149,Wa,t.submitted&&t.f.is_Safety_Program.errors)),c.Eb("disabled","yes"==t.f.is_Supplier.value?"":null),c.Db(4),c.mc("ngClass",c.pc(151,Wa,t.submitted&&t.f.is_Safety_Program.errors)),c.Eb("disabled","yes"==t.f.is_Supplier.value?"":null),c.Db(3),c.mc("ngIf",t.submitted&&t.f.is_Safety_Program.errors),c.Db(1),c.mc("ngClass",c.pc(153,$o,"no"==t.f.is_Safety_Program.value)),c.Db(4),c.mc("ngClass",c.pc(155,Wa,t.submitted&&t.f.safety_Program_Upload.errors)),c.Eb("disabled",1==t.showdisabled||("no"==t.f.is_Safety_Program.value?"":null)),c.Db(1),c.mc("ngClass",c.pc(157,$o,t.showdisabled||"yes"==t.f.is_Supplier.value||"no"==t.f.is_Safety_Program.value)),c.Db(2),c.mc("ngIf",t.submitted&&t.f.safety_Program_Upload.errors),c.Db(1),c.mc("ngIf",null==t.spinner?null:t.spinner.safetySpinner),c.Db(1),c.mc("ngForOf",t.safetyProgramAttachments),c.Db(2),c.mc("ngClass",c.pc(159,$o,"yes"==t.f.is_Supplier.value)),c.Db(7),c.mc("ngIf","no"==(null==t.safetyinfoForm||null==t.safetyinfoForm.value?null:t.safetyinfoForm.value.is_Supplier)),c.Db(4),c.mc("ngClass",c.pc(161,Wa,t.submitted&&t.f.is_Drug_Testing_Policy.errors)),c.Eb("disabled","yes"==t.f.is_Supplier.value?"":null),c.Db(4),c.mc("ngClass",c.pc(163,Wa,t.submitted&&t.f.is_Drug_Testing_Policy.errors)),c.Eb("disabled","yes"==t.f.is_Supplier.value?"":null),c.Db(3),c.mc("ngIf",t.submitted&&t.f.is_Drug_Testing_Policy.errors),c.Db(1),c.mc("ngClass",c.pc(165,$o,"no"==t.f.is_Drug_Testing_Policy.value)),c.Db(4),c.mc("ngClass",c.pc(167,Wa,t.submitted&&t.f.drug_Testing_Upload.errors)),c.Eb("disabled",1==t.showdisabled||("yes"==t.f.is_Drug_Testing_Policy.value?"":null)),c.Db(1),c.mc("ngClass",c.pc(169,$o,t.showdisabled||"yes"==t.f.is_Supplier.value||"no"==t.f.is_Drug_Testing_Policy.value)),c.Db(2),c.mc("ngIf",t.submitted&&t.f.drug_Testing_Upload.errors),c.Db(1),c.mc("ngIf",null==t.spinner?null:t.spinner.drugtestingSpinner),c.Db(1),c.mc("ngForOf",t.drugTesting),c.Db(3),c.mc("ngClass",c.pc(171,$o,"yes"==t.f.is_Supplier.value)),c.Db(6),c.mc("ngIf","no"==(null==t.safetyinfoForm||null==t.safetyinfoForm.value?null:t.safetyinfoForm.value.is_Supplier)),c.Db(5),c.mc("ngIf","no"==(null==t.safetyinfoForm||null==t.safetyinfoForm.value?null:t.safetyinfoForm.value.is_Supplier)||(null==t.f.triR_Info_LastYear||null==t.f.triR_Info_LastYear.errors?null:t.f.triR_Info_LastYear.errors.required)),c.Db(3),c.mc("ngClass",c.pc(173,Wa,t.submitted&&t.f.triR_Info_LastYear.errors)),c.Eb("disabled","yes"==t.f.is_Supplier.value?"":null),c.Db(1),c.mc("ngIf",t.submitted&&t.f.triR_Info_LastYear.errors),c.Db(5),c.mc("ngIf","no"==(null==t.safetyinfoForm||null==t.safetyinfoForm.value?null:t.safetyinfoForm.value.is_Supplier)||(null==t.f.triR_Info_TwoYears||null==t.f.triR_Info_TwoYears.errors?null:t.f.triR_Info_TwoYears.errors.required)),c.Db(3),c.mc("ngClass",c.pc(175,Wa,t.submitted&&t.f.triR_Info_TwoYears.errors)),c.Eb("disabled","yes"==t.f.is_Supplier.value?"":null),c.Db(1),c.mc("ngIf",t.submitted&&t.f.triR_Info_TwoYears.errors),c.Db(5),c.mc("ngIf","no"==(null==t.safetyinfoForm||null==t.safetyinfoForm.value?null:t.safetyinfoForm.value.is_Supplier)||(null==t.f.triR_Info_ThreeYears||null==t.f.triR_Info_ThreeYears.errors?null:t.f.triR_Info_ThreeYears.errors.required)),c.Db(3),c.mc("ngClass",c.pc(177,Wa,t.submitted&&t.f.triR_Info_ThreeYears.errors)),c.Eb("disabled","yes"==t.f.is_Supplier.value?"":null),c.Db(1),c.mc("ngIf",t.submitted&&t.f.triR_Info_ThreeYears.errors),c.Db(4),c.mc("ngClass",c.pc(179,$o,"yes"==t.f.is_Supplier.value)),c.Db(9),c.Eb("disabled","yes"==t.f.is_Supplier.value?"":null),c.Db(5),c.mc("ngIf","no"==(null==t.safetyinfoForm||null==t.safetyinfoForm.value?null:t.safetyinfoForm.value.is_Supplier)),c.Db(1),c.mc("ngClass",c.pc(181,Wa,t.submitted&&t.f.number_Of_Employees.errors)),c.Eb("disabled","yes"==t.f.is_Supplier.value?"":null),c.Db(1),c.mc("ngIf",(t.submitted||t.f.number_Of_Employees.touched)&&t.f.number_Of_Employees.errors),c.Db(4),c.mc("ngIf","no"==(null==t.safetyinfoForm||null==t.safetyinfoForm.value?null:t.safetyinfoForm.value.is_Supplier)),c.Db(3),c.mc("ngClass",c.pc(183,Wa,t.submitted&&t.f.oshA_Log_LastYear.errors)),c.Eb("disabled",!0!==t.showdisabled&&("yes"==t.f.is_Supplier.value||1==t.f.isnumber_Of_Employees.value?"":null)),c.Db(1),c.mc("ngClass",c.pc(185,$o,t.showdisabled||"yes"==t.f.is_Supplier.value||1==t.f.isnumber_Of_Employees.value)),c.Db(2),c.mc("ngIf",null==t.spinner?null:t.spinner.oshaLastSpinner),c.Db(1),c.mc("ngIf",t.submitted&&t.f.oshA_Log_LastYear.errors),c.Db(1),c.mc("ngForOf",t.oshALogLastYear),c.Db(4),c.mc("ngIf","no"==(null==t.safetyinfoForm||null==t.safetyinfoForm.value?null:t.safetyinfoForm.value.is_Supplier)),c.Db(3),c.mc("ngClass",c.pc(187,Wa,t.submitted&&t.f.is_OSHA.errors)),c.Eb("disabled","yes"==t.f.is_Supplier.value?"":null),c.Db(4),c.mc("ngClass",c.pc(189,Wa,t.submitted&&t.f.is_OSHA.errors)),c.Eb("disabled","yes"==t.f.is_Supplier.value?"":null),c.Db(3),c.mc("ngIf",t.submitted&&t.f.is_OSHA.errors),c.Db(2),c.mc("ngClass",c.pc(191,$o,t.showdisabled||"yes"==t.f.is_Supplier.value)),c.Db(2),c.mc("ngIf","yes"==t.f.is_OSHA.value),c.Db(3),c.mc("ngClass",c.pc(193,$o,"yes"==t.f.is_Supplier.value)),c.Db(6),c.mc("ngIf","no"==(null==t.safetyinfoForm||null==t.safetyinfoForm.value?null:t.safetyinfoForm.value.is_Supplier)),c.Db(5),c.mc("ngIf","no"==(null==t.safetyinfoForm||null==t.safetyinfoForm.value?null:t.safetyinfoForm.value.is_Supplier)||(null==t.f.emR_LastYear_Upload||null==t.f.emR_LastYear_Upload.errors?null:t.f.emR_LastYear_Upload.errors.required)),c.Db(3),c.mc("ngClass",c.pc(195,Wa,t.submitted&&t.f.emR_LastYear_Upload.errors)),c.Eb("disabled","yes"==t.f.is_Supplier.value?"":null),c.Db(1),c.mc("ngIf",t.submitted&&t.f.emR_LastYear_Upload.errors),c.Db(5),c.mc("ngIf","no"==(null==t.safetyinfoForm||null==t.safetyinfoForm.value?null:t.safetyinfoForm.value.is_Supplier)||(null==t.f.emR_TwoYears_Upload||null==t.f.emR_TwoYears_Upload.errors?null:t.f.emR_TwoYears_Upload.errors.required)),c.Db(3),c.mc("ngClass",c.pc(197,Wa,t.submitted&&t.f.emR_TwoYears_Upload.errors)),c.Eb("disabled","yes"==t.f.is_Supplier.value?"":null),c.Db(1),c.mc("ngIf",t.submitted&&t.f.emR_TwoYears_Upload.errors),c.Db(5),c.mc("ngIf","no"==(null==t.safetyinfoForm||null==t.safetyinfoForm.value?null:t.safetyinfoForm.value.is_Supplier)||(null==t.f.emR_ThreeYears_Upload||null==t.f.emR_ThreeYears_Upload.errors?null:t.f.emR_ThreeYears_Upload.errors.required)),c.Db(3),c.mc("ngClass",c.pc(199,Wa,t.submitted&&t.f.emR_ThreeYears_Upload.errors)),c.Eb("disabled",!0===t.showdisabled||"yes"==t.f.is_Supplier.value?"":null),c.Db(1),c.mc("ngIf",t.submitted&&t.f.emR_ThreeYears_Upload.errors),c.Db(3),c.mc("ngClass",c.pc(201,$o,"yes"==t.f.is_Supplier.value)),c.Db(3),c.mc("ngIf","no"==(null==t.safetyinfoForm||null==t.safetyinfoForm.value?null:t.safetyinfoForm.value.is_Supplier)),c.Db(4),c.mc("ngIf",null==t.f.emR_Verification_Upload||null==t.f.emR_Verification_Upload.errors?null:t.f.emR_Verification_Upload.errors.required),c.Db(2),c.mc("ngClass",c.pc(203,Wa,t.submitted&&t.f.emR_Verification_Upload.errors)),c.Eb("disabled",1==t.showdisabled||"yes"==t.f.is_Supplier.value?"":null),c.Db(1),c.mc("ngClass",c.pc(205,$o,t.showdisabled||"yes"==t.f.is_Supplier.value)),c.Db(2),c.mc("ngIf",t.submitted&&t.f.emR_Verification_Upload.errors),c.Db(1),c.mc("ngIf",null==t.spinner?null:t.spinner.emrverification),c.Db(1),c.mc("ngForOf",t.emRVerification),c.Db(3),c.mc("ngIf",!(t.showAdmin||t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status)),c.Db(1),c.mc("ngIf",!t.showAdmin&&t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status||t.showAdmin&&"SafetyUser"!=t.userRole),c.Db(1),c.mc("ngIf","Subcontractor"!=t.userRole&&"Additional Info Needed from Subcontractor"!=t.prequalification_status&&"Prequal form submitted and under quality check"!=t.prequalification_status),c.Db(1),c.mc("ngIf","SafetyUser"==t.userRole))},directives:[o.x,o.m,o.g,n.k,o.s,o.b,o.l,o.f,n.m,o.r,V,o.q,n.l,o.a,A.a,Go],styles:[".form-group[_ngcontent-%COMP%]{margin:15px 0}input[type=text][_ngcontent-%COMP%]:disabled{background:#ddd}.border[_ngcontent-%COMP%]{border:4px solid hsla(0,0%,86.7%,.6196078431372549)!important}.col-curve-top[_ngcontent-%COMP%]{border-top-left-radius:18px 19px!important;border-top-right-radius:18px 19px!important;border-bottom-left-radius:10px 10px!important;border-bottom-right-radius:10px 10px!important;border-top:6px solid #c3bdbd!important}.col-curve[_ngcontent-%COMP%]{border-radius:10px 10px!important}.form-group[_ngcontent-%COMP%]{margin:0!important}.bg-grey[_ngcontent-%COMP%]{color:#c7bfbf!important}h6[_ngcontent-%COMP%]{font-size:13px!important}.fupupload[_ngcontent-%COMP%]{width:75%;display:inline-block;margin-left:5px}.px-auto[_ngcontent-%COMP%]{margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0}"]}),e})();function gr(e,t){1&e&&(c.Vb(0,"div",36),c.Vb(1,"div",37),c.Vb(2,"h6",38),c.Dc(3,'PLEASE READ CAREFULLY AND REVIEW NEXT STEPS BEFORE CHECKING ON "SUBMIT"'),c.Ub(),c.Vb(4,"div",39),c.Vb(5,"ul",40),c.Vb(6,"li"),c.Dc(7,"Once you click on the \u2018SUBMIT\u2019 button, all the sections on the prequalification form will be closed and no edits can be made."),c.Ub(),c.Vb(8,"li"),c.Dc(9,"Messer will review your information, which can take up to 5-7 business days after you have submitted your information."),c.Ub(),c.Vb(10,"li"),c.Dc(11,"Any missing documents or information from your side will delay in review of your prequalification info."),c.Ub(),c.Vb(12,"li"),c.Dc(13,"Messer will contact your prequalification contact any additional questions or clarifications related to your prequalification info. "),c.Ub(),c.Vb(14,"li"),c.Dc(15,"Messer will reopen your prequalification form only if additional info is required for submission from you. And, yes, this will delay the review of your prequalification form."),c.Ub(),c.Vb(16,"li"),c.Dc(17,"Prequalification form status on your welcome page will give your progress updates as Messer reviews your information."),c.Ub(),c.Vb(18,"li"),c.Dc(19,"You'll also receive email notifications as we review the prequalification information. Please check your spam folder, we don't control your email receipt setting."),c.Ub(),c.Vb(20,"li"),c.Dc(21,"Thanks for your patience and wanting to be a Messer Business partner"),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub())}function _r(e,t){if(1&e){const e=c.Wb();c.Vb(0,"div",61),c.Vb(1,"button",62),c.cc("click",function(){return c.uc(e),c.gc(2).riskAddInfoSave("save")}),c.Dc(2,"SAVE"),c.Ub(),c.Vb(3,"button",63),c.cc("click",function(){c.uc(e);const t=c.gc(2);return t.approvedclicked=!0,t.approvealert()})("click",function(){return c.uc(e),c.gc(2).riskAddInfoSave("reject")}),c.Dc(4,"POST TO SUBCONTRACTOR"),c.Ub(),c.Ub()}if(2&e){const e=c.gc(2);c.Db(1),c.Eb("disabled","no"!=e.submitForm.value.additional_Info&&null),c.Db(2),c.Eb("disabled","no"!=e.submitForm.value.additional_Info&&null)}}function vr(e,t){if(1&e){const e=c.Wb();c.Vb(0,"div",61),c.Vb(1,"button",64),c.cc("click",function(){return c.uc(e),c.gc(2).gotoHome()}),c.Dc(2," << BACK"),c.Ub(),c.Vb(3,"button",65),c.cc("click",function(){return c.uc(e),c.gc(2).beginRiskReview()}),c.Dc(4,"BEGIN RISK REVIEW"),c.Ub(),c.Ub()}if(2&e){const e=c.gc(2);c.Db(3),c.Eb("disabled","yes"==e.submitForm.value.additional_Info?"":null)}}function yr(e,t){if(1&e){const e=c.Wb();c.Vb(0,"form",22),c.cc("keydown.enter",function(e){return e.preventDefault()}),c.Vb(1,"div",36),c.Vb(2,"div",36),c.Vb(3,"h2",41),c.Dc(4,"RISK DOCUMENT QUALITY CHECKLIST"),c.Ub(),c.Vb(5,"div",42),c.Vb(6,"ul",43),c.Vb(7,"li"),c.Dc(8,"1. Please ensure you've opened and reviewed all documents submitted by the subcontractor are the correct documents for the review."),c.Ub(),c.Vb(9,"li"),c.Dc(10,"2. If additional documents are needed, we suggest you call the subcontractor and have conversation with them before an email is sent to the subcontactor."),c.Ub(),c.Vb(11,"li"),c.Dc(12,'3. Email is auto generated by the MBP and will be sent when you click on "Send notes to Subcontractor". The same will also be posted on the subcontactor\'s welcome page under their status.'),c.Ub(),c.Vb(13,"li",44),c.Dc(14,"4. Don't start the Risk Review I until you have all required documents from the subcontractor."),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(15,"div",45),c.Vb(16,"div",46),c.Vb(17,"div",47),c.Vb(18,"span",48),c.Vb(19,"input",49),c.cc("ngModelChange",function(){return c.uc(e),c.gc().idleReset()})("click",function(){return c.uc(e),c.gc().additionalInfoClick("yes")}),c.Ub(),c.Vb(20,"span",50),c.Dc(21," Need Additional info from the subcontractor. "),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(22,"div",51),c.Vb(23,"div",52),c.Vb(24,"label",53),c.Dc(25," Risk Notes to Subcontactor"),c.Vb(26,"span",54),c.Dc(27,"(Subcontactor visible)"),c.Ub(),c.Ub(),c.Ub(),c.Vb(28,"div",55),c.Qb(29,"textarea",56),c.Ub(),c.Ub(),c.Vb(30,"div",36),c.Bc(31,_r,5,2,"div",57),c.Ub(),c.Vb(32,"div",51),c.Vb(33,"div",58),c.Vb(34,"div",47),c.Vb(35,"span",48),c.Vb(36,"input",59),c.cc("ngModelChange",function(){return c.uc(e),c.gc().idleReset()})("click",function(){return c.uc(e),c.gc().additionalInfoClick("no")}),c.Ub(),c.Vb(37,"span",60),c.Dc(38," Subcontractor has submitted all required all documents, I'm ready for my review. "),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(39,"div",45),c.Bc(40,vr,5,1,"div",57),c.Ub(),c.Ub(),c.Ub()}if(2&e){const e=c.gc();c.mc("formGroup",e.submitForm),c.Db(29),c.Eb("disabled","no"!=e.submitForm.value.additional_Info&&null),c.Db(2),c.mc("ngIf","Admin"==e.userRole||!e.showrisk1status&&"RiskUser"==e.userRole||!e.showrisk2status&&"RiskUser2"==e.userRole),c.Db(9),c.mc("ngIf","Admin"==e.userRole||!e.showrisk1status&&"RiskUser"==e.userRole||!e.showrisk2status&&"RiskUser2"==e.userRole)}}const Vr=function(e){return{"text-red":e}};function Ur(e,t){if(1&e&&(c.Vb(0,"p",78),c.Vb(1,"span",79),c.Dc(2,"Application Status: "),c.Vb(3,"span",80),c.Dc(4),c.Ub(),c.Ub(),c.Ub()),2&e){const e=c.gc(2).$implicit;c.Db(3),c.mc("ngClass",c.pc(2,Vr,"Additional Info Needed from Subcontractor"==e.risk_Reviewer_2_Status)),c.Db(1),c.Ec(e.risk_Reviewer_2_Status)}}function Dr(e,t){1&e&&(c.Vb(0,"p"),c.Vb(1,"span",79),c.Dc(2,"Send Back Reason:"),c.Ub(),c.Ub())}function Cr(e,t){if(1&e&&(c.Vb(0,"small",81),c.Vb(1,"span",82),c.Dc(2),c.Ub(),c.Ub()),2&e){const e=c.gc(2).$implicit;c.Db(2),c.Ec(e.risk_Reviewer_2_Reason)}}function Ir(e,t){if(1&e&&(c.Vb(0,"small",81),c.Vb(1,"span",82),c.Dc(2),c.Ub(),c.Ub()),2&e){const e=c.gc(2).$implicit;c.Db(2),c.Ec(e.risk_Reviewer_2_Approved_Notes)}}function Rr(e,t){if(1&e&&(c.Vb(0,"div"),c.Vb(1,"div",36),c.Vb(2,"div",71),c.Bc(3,Ur,5,4,"p",72),c.Ub(),c.Vb(4,"div",73),c.Vb(5,"p",74),c.Dc(6,"Date: "),c.Vb(7,"span",75),c.Dc(8),c.hc(9,"date"),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(10,"div",36),c.Vb(11,"div",76),c.Bc(12,Dr,3,0,"p",70),c.Bc(13,Cr,3,1,"small",77),c.Bc(14,Ir,3,1,"small",77),c.Ub(),c.Ub(),c.Ub()),2&e){const e=c.gc().$implicit;c.Db(3),c.mc("ngIf","Additional Info Needed from Subcontractor"==e.risk_Reviewer_2_Status||"Approved"==e.risk_Reviewer_2_Status),c.Db(5),c.Ec(c.jc(9,5,e.reviewer_2_Approved_Date,"MM/dd/yyyy")),c.Db(4),c.mc("ngIf","Additional Info Needed from Subcontractor"==e.risk_Reviewer_2_Status),c.Db(1),c.mc("ngIf",null!=e.risk_Reviewer_2_Reason&&"undefined"!=e.risk_Reviewer_2_Reason&&"null"!=e.risk_Reviewer_2_Reason&&"Additional Info Needed from Subcontractor"==e.risk_Reviewer_2_Status),c.Db(1),c.mc("ngIf",null!=e.risk_Reviewer_2_Approved_Notes&&"null"!=e.risk_Reviewer_2_Approved_Notes&&"undefined"!=e.risk_Reviewer_2_Reason&&"Approved"==e.risk_Reviewer_2_Status)}}function Fr(e,t){if(1&e&&(c.Vb(0,"div",69),c.Bc(1,Rr,15,8,"div",70),c.Ub()),2&e){const e=t.$implicit;c.Db(1),c.mc("ngIf",null!=e.risk_Reviewer_2_Status)}}function wr(e,t){if(1&e&&(c.Vb(0,"div",66),c.Vb(1,"h6",67),c.Dc(2,"Risk User 2 - Review"),c.Ub(),c.Bc(3,Fr,2,1,"div",68),c.Ub()),2&e){const e=c.gc();c.Db(3),c.mc("ngForOf",e.getrisk2records)}}function Sr(e,t){if(1&e){const e=c.Wb();c.Vb(0,"button",85),c.cc("click",function(){return c.uc(e),c.gc(2).submit()}),c.Dc(1,"SUBMIT"),c.Ub()}}function kr(e,t){if(1&e){const e=c.Wb();c.Vb(0,"div",83),c.Vb(1,"button",64),c.cc("click",function(){return c.uc(e),c.gc().gotoHome()}),c.Dc(2," << BACK"),c.Ub(),c.Bc(3,Sr,2,0,"button",84),c.Ub()}if(2&e){const e=c.gc();c.Db(3),c.mc("ngIf",!e.prequalification_status||"To complete prequalification"==e.prequalification_status||"Additional Info Needed from Subcontractor"==e.prequalification_status)}}function xr(e,t){1&e&&(c.Vb(0,"div",86),c.Vb(1,"div"),c.Dc(2,"Reason is required"),c.Ub(),c.Ub())}function Pr(e,t){1&e&&(c.Vb(0,"div",86),c.Vb(1,"div"),c.Dc(2,"Reason is required"),c.Ub(),c.Ub())}function Ar(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Reason is required"),c.Ub())}function Or(e,t){if(1&e&&(c.Vb(0,"div",86),c.Bc(1,Ar,2,0,"div",70),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.approve_reason.errors.required)}}function Er(e,t){if(1&e&&(c.Vb(0,"li"),c.Dc(1),c.Ub()),2&e){const e=t.$implicit;c.Db(1),c.Fc(" ",e," ")}}const jr=function(e){return{"is-invalid":e}};let Mr=(()=>{class e{constructor(e,t,i,n,a,r,s,c,l,d){this.formBuilder=e,this.router=t,this.financialservice=i,this.bnIdle=n,this.keepalive=a,this.toastr=r,this.companyservice=s,this.loginInfo=c,this.sanitizer=l,this.ngxUiLoader=d,this.currentForm=7,this.tempcompanyid=0,this.submitText="SAVE",this.showAdmin=!1,this.companyId=0,this.requiredField=[],this.submitForm=this.formBuilder.group({id:[0],companyId:[0],reject_Reason:["",[o.w.required]],additional_Info:"no",approve_reason:[""]}),this.getriskrecords=[],this.getrisk2records=[],this.resetTimer=0,this.submitted=!1,this.isCompleted=!1,this.rejecionrequired=!1,this.approvedclicked=!1,this.approvesubmitted=!1}ngOnInit(){this.ngxUiLoader.startLoader("loader-01"),localStorage.setItem("currPage","submittomesser"),this.prequalification_status=this.loginInfo.organization_status;let e=localStorage.getItem("userDetails");e=JSON.parse(atob(e)),this.userDetails=e,this.userRole=e.role,console.log(this.userRole),this.tempcompanyid=localStorage.getItem("tempcompanyid"),this.tempcompanyid=Number(atob(this.tempcompanyid)),this.submitText="SAVE",this.tempcompanyid>0&&"Subcontractor"!=this.userRole&&(this.showAdmin=!0,this.companyId=this.tempcompanyid,console.log(this.companyId),this.getRecords(),this.submitForm.controls.reject_Reason.enable(),this.submitForm.controls.reject_Reason.updateValueAndValidity()),null!=this.userDetails.vendorId&&null!=this.userDetails.taxId&&"Subcontractor"==this.userRole&&this.financialservice.getUser(this.userDetails.vendorId,this.userDetails.taxId).subscribe(e=>{this.companyId=e.id,this.getRecords(),this.companyservice.getRecord(this.companyId).subscribe(e=>{this.updateCompanyinfo(e),this.prequalification_status=e[0].preQualification_Status})}),this.ngxUiLoader.stopLoader("loader-01")}ngAfterViewInit(){this.keepalive.interval(30),this.keepalive.stop()}ngOnDestroy(){this.keepalive.stop()}getRecords(){console.log(this.userDetails),this.companyservice.getRecord(this.companyId).subscribe(e=>{this.updateCompanyinfo(e),this.financialservice.getRiskRecords(this.companyId).subscribe(e=>{var t,i;console.log(e),this.getriskrecords=[],this.getrisk2records=[],null==e||e.data.filter(e=>{e.risk_Reviewer_1_Status&&this.getriskrecords.push(e),e.risk_Reviewer_2_Status&&this.getrisk2records.push(e)}),this.showrisk1status=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.some(this.checkRisk1approved),this.showrisk2status=null===(i=null==e?void 0:e.data)||void 0===i?void 0:i.some(this.checkRisk2approved),console.log(this.getrisk2records,this.showrisk2status,this.getriskrecords,this.showrisk1status,this.showrisk2status)})})}checkRisk2approved(e){return"Approved"==e.risk_Reviewer_2_Status}checkRisk1approved(e){return"Approved"==e.risk_Reviewer_1_Status}updateCompanyinfo(e){this.submitForm.patchValue({id:this.companyId}),e.length>0&&(this.reject_Reason=e[0].reject_Reason,this.prequalification_status=e[0].preQualification_Status,this.risk_Reviewer_1_Reason=e[0].risk_Reviewer_1_Reason,this.risk_Reviewer_2_Reason=e[0].risk_Reviewer_2_Reason),"Subcontractor"!=this.userRole&&this.submitForm.patchValue(null!=this.reject_Reason&&"null"!=this.reject_Reason&&"undefined"!=this.reject_Reason?{reject_Reason:this.reject_Reason,additional_Info:"yes"}:{reject_Reason:"",additional_Info:"no"})}idleReset(){this.keepalive.stop(),this.keepalive.start(),this.resetTimer=0}submit(){this.submitted=!0,this.keepalive.stop(),this.companyId&&this.financialservice.getComplete(this.companyId).subscribe(e=>{var t;if((null==e?void 0:e.length)&&"true"==(null===(t=e[0])||void 0===t?void 0:t.standing))document.getElementById("beforesubmitmodal").click();else{let e=[];this.companyservice.getFormStatus(this.companyId).subscribe(t=>{var i,n,o,a,r,s,c;(null==t?void 0:t.length)&&(this.ngxUiLoader.stop(),document.getElementById("formsubmitmodal").click(),"Completed"!=(null===(i=t[0])||void 0===i?void 0:i.organizationStatus)&&e.push("Organization"),"Completed"!=(null===(n=t[0])||void 0===n?void 0:n.personnel)&&e.push("Personnel & Management Approach"),"Completed"!=(null===(o=t[0])||void 0===o?void 0:o.reference)&&e.push("References"),"Completed"!=(null===(a=t[0])||void 0===a?void 0:a.safety)&&e.push("Safety Info"),"Completed"!=(null===(r=t[0])||void 0===r?void 0:r.surity)&&e.push("Surety Info"),"Completed"!=(null===(s=t[0])||void 0===s?void 0:s.finance)&&e.push("Financial Info"),"Completed"!=(null===(c=t[0])||void 0===c?void 0:c.signature)&&e.push("Signature"),this.requiredField=e)})}})}riskAddInfoSave(e){let t=new FormData;t.append("PreQualification_Status","Additional Info Needed from Subcontractor"),t.append("Approved_Date",(new Date).toLocaleString()),t.append("User_Type",this.userRole),t.append("Reject_Reason",this.submitForm.value.reject_Reason),this.financialservice.updateOrgRecord(t,this.submitForm.value.id).subscribe(e=>{this.router.navigate(["/home"])})}beginRiskReview(){let e=new FormData;e.append("PreQualification_Status","Under Risk Review I"),e.append("Approved_Date",(new Date).toLocaleString()),e.append("User_Type",this.userRole),e.append("Reject_Reason",""),this.financialservice.updateOrgRecord(e,this.submitForm.value.id).subscribe(e=>{this.router.navigate(["/home"])})}additionalInfoClick(e){"no"===e?(this.submitForm.controls.reject_Reason.setValue(""),this.submitForm.controls.reject_Reason.clearValidators()):this.submitForm.controls.reject_Reason.setValidators([o.w.required]),this.submitForm.updateValueAndValidity()}getComplete(){this.financialservice.getComplete(this.companyId).subscribe(e=>{if(e.length>0&&("To complete prequalification"==e[0].preQualification_Status||"Additional Info Needed from Subcontractor"==e[0].preQualification_Status)){this.isCompleted=!0;let e=new FormData;e.append("PreQualification_Status","Prequal form submitted and under quality check"),e.append("Approved_Date",(new Date).toLocaleString()),e.append("User_Type",this.userRole),this.financialservice.updateOrgRecord(e,this.submitForm.value.id).subscribe(e=>{this.router.navigate(["/home"])})}})}completion(){if(this.submitForm.controls.reject_Reason.clearValidators(),this.submitForm.updateValueAndValidity(),this.approvesubmitted=!0,this.submitForm.valid){let e=new FormData;"Subcontractor"==this.userRole?e.append("PreQualification_Status","Under initial Risk review"):"RiskUser"==this.userRole?e.append("PreQualification_Status","Under final Risk review"):"RiskUser2"==this.userRole&&e.append("PreQualification_Status","Risk review Completed"),e.append("User_Type",this.userRole),e.append("Approved_Notes",this.submitForm.value.approve_reason),this.financialservice.updateOrgRecord(e,this.submitForm.value.id).subscribe(e=>{this.companyId=e.id,this.submitForm.patchValue({reject_Reason:""}),this.approvedclicked=!1,document.getElementById("approveModals").click(),this.getRecords(),this.toastr.success("Submission approved successfully","Submit To Messer")})}}condApprove(){if(0==this.submitForm.value.reject_Reason.length)this.submitted=!0;else{let e=new FormData;e.append("PreQualification_Status","Additional Info Needed from Subcontractor"),e.append("User_Type",this.userRole),e.append("reject_Reason",this.submitForm.value.reject_Reason),this.financialservice.updateOrgRecord(e,this.companyId).subscribe(e=>{this.companyId=e.id,document.getElementById("exampleModals").click(),this.getRecords(),this.toastr.success("Submission conditionally approved successfully","Submit To Messer")})}}get f(){var e;return(null===(e=this.submitForm.value.reject_Reason)||void 0===e?void 0:e.length)>0?this.submitForm.controls.reject_Reason.setValidators([o.w.required]):this.submitForm.controls.reject_Reason.clearValidators(),this.submitForm.controls.reject_Reason.updateValueAndValidity(),1==this.approvedclicked?this.submitForm.controls.approve_reason.setValidators([o.w.required]):this.submitForm.controls.approve_reason.clearValidators(),this.submitForm.controls.approve_reason.updateValueAndValidity(),this.submitForm.controls}gotoHome(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm-1].url}`])}rejectionalert(){this.submitForm.value.reject_Reason.length>0?(this.submitForm.controls.reject_Reason.setValidators(null),this.submitForm.updateValueAndValidity()):(this.submitForm.controls.reject_Reason.setValidators([o.w.required]),this.submitForm.updateValueAndValidity()),this.condApprovetxt()}condApprovetxt(){var e;(null===(e=this.submitForm.value.reject_Reason)||void 0===e?void 0:e.length)>0?(this.submitted=!1,this.rejecionrequired=!1):(this.submitted=!0,this.rejecionrequired=!0),this.submitForm.controls.reject_Reason.enable(),this.submitForm.controls.reject_Reason.updateValueAndValidity()}approvealert(){}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(o.d),c.Pb(a.f),c.Pb(Ri),c.Pb(d.a),c.Pb(m.a),c.Pb(h.b),c.Pb(l.a),c.Pb(v),c.Pb(Fi.b),c.Pb(y.c))},e.\u0275cmp=c.Jb({type:e,selectors:[["app-submit-to-messer"]],decls:75,vars:22,consts:[["class","row",4,"ngIf"],["class","px-2",3,"formGroup","keydown.enter",4,"ngIf"],["class","mr-4 px-3 mt-4 pb-4",4,"ngIf"],["class","text-end mx-lg-4 my-4",4,"ngIf"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","false",1,"modal","fade"],["exampleModal",""],[1,"modal-dialog","modal-lg","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","text-success"],["type","button","id","closebutton","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"px-2",3,"formGroup","ngSubmit","keydown.enter"],["formControlName","reject_Reason","id","reject_Reason","rows","13","name","reject_Reason",1,"form-control",3,"ngClass","ngModelChange"],["class","invalid-feedback",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","default-btn","modal-cancel"],["type","submit",1,"btn","default-btn",3,"click"],["type","button","id","approveModals","data-bs-toggle","modal","data-bs-target","#approveModal",1,"btn-hide"],["id","approveModal","tabindex","-1","aria-labelledby","approveModalLabel","aria-hidden","false",1,"modal","fade"],["approveModal",""],["id","approveModalLabel",1,"modal-title","text-success"],[1,"px-2",3,"formGroup","keydown.enter"],["formControlName","approve_reason","rows","5","id","approve_reason","name","approve_reason",1,"form-control",3,"ngClass"],["type","button","id","formsubmitmodal","data-bs-toggle","modal","data-bs-target","#formsubmitmodals",1,"btn-hide"],["id","formsubmitmodals","tabindex","-1","aria-labelledby","formsubmitmodals","aria-hidden","false",1,"modal","fade"],["formsubmitmodals",""],[1,"modal-dialog","modal-md","modal-dialog-centered"],["id","formsubmitmodal",1,"modal-title","text-success"],[1,"modal-body","my-3"],[4,"ngFor","ngForOf"],[1,"modal-footer","py-1"],["type","button","id","beforesubmitmodal","data-bs-toggle","modal","data-bs-target","#beforesubmitmodals",1,"btn-hide"],["id","beforesubmitmodals","tabindex","-1","aria-labelledby","beforesubmitmodals","aria-hidden","false",1,"modal","fade"],["beforesubmitmodals",""],["type","button","data-bs-dismiss","modal",1,"btn","default-btn",3,"click"],[1,"row"],[1,"col-11","mx-auto","col-curve-top-submit","mt-2","mb-5","px-0","mx-0","border"],[1,"text-center","my-auto","py-3","submit-head"],[1,"col-curve","fw-bold","px-4","pb-5"],[1,"info","font-italic"],[1,"text-left","ps-5","my-2"],[1,"ps-5","my-2"],[1,"info",2,"list-style-type","none","margin","0","padding","0"],[2,"color","red"],[1,"row","pt-1"],[1,"col-11"],[1,"ps-5"],[1,"col-lg-2"],["type","radio","formControlName","additional_Info","value","yes","checked","checked","name","additional_Info","id","additional_Info_Yes",3,"ngModelChange","click"],["for","additional_Info_Yes",1,"float-right","my-auto","font-italic",2,"color","red"],[1,"row","pt-2"],[1,"col-7","pb-3",2,"padding-left","7%"],["for","risk_Notes",1,"my-auto","font-italic"],[1,"text-danger"],[1,"col-12","pe-5",2,"padding-left","7%"],["type","text","id","reject_Reason","formControlName","reject_Reason","name","reject_Reason",1,"form-control",2,"height","200%","width","100%"],["class","text-end mx-lg-4 my-4 pt-5",4,"ngIf"],[1,"col-12"],["type","radio","formControlName","additional_Info","value","no","checked","checked","name","additional_Info","id","additional_Info_No",3,"ngModelChange","click"],["for","additional_Info_No",1,"float-right","my-auto","font-italic",2,"color","red"],[1,"text-end","mx-lg-4","my-4","pt-5"],["type","button","id","risk_AddInfo_Save","data-bs-toggle","modal",1,"btn","ml-lg-4","default-btn",3,"click"],["type","button","id","approveModals",1,"btn","mx-2","default-btn",2,"width","270px",3,"click"],[1,"btn","float-start","btn","default-btn",3,"click"],["type","button","id","beginRiskReview",1,"btn","mx-2","default-btn",2,"width","270px",3,"click"],[1,"mr-4","px-3","mt-4","pb-4"],[1,"text-center","my-2","text-success"],["class","p-3 record-shadow my-2",4,"ngFor","ngForOf"],[1,"p-3","record-shadow","my-2"],[4,"ngIf"],[1,"col-lg-10","p-1","px-lg-2"],["class","pt-2 text-success",4,"ngIf"],[1,"col-lg-2","py-2","ps-1","px-lg-2"],[1,"fw-bold","text-success","float-end"],[1,"fw-bold"],[1,"col-10","p-1","m-0","px-lg-2"],["class","mb-4",4,"ngIf"],[1,"pt-2","text-success"],[1,"fw-bold","text-success"],[1,"fw-bold",3,"ngClass"],[1,"mb-4"],[1,"text-capitalize","ps-4"],[1,"text-end","mx-lg-4","my-4"],["type","button","class","btn ms-2 default-btn",3,"click",4,"ngIf"],["type","button",1,"btn","ms-2","default-btn",3,"click"],[1,"invalid-feedback"]],template:function(e,t){1&e&&(c.Bc(0,gr,22,0,"div",0),c.Bc(1,yr,41,4,"form",1),c.Bc(2,wr,4,1,"div",2),c.Bc(3,kr,4,1,"div",3),c.Vb(4,"div",4,5),c.Vb(6,"div",6),c.Vb(7,"div",7),c.Vb(8,"div",8),c.Vb(9,"h6",9),c.Dc(10,"Send back reason"),c.Ub(),c.Qb(11,"button",10),c.Ub(),c.Vb(12,"div",11),c.Vb(13,"form",12),c.cc("ngSubmit",function(){return t.submit()})("keydown.enter",function(e){return e.preventDefault()}),c.Vb(14,"textarea",13),c.cc("ngModelChange",function(){return t.condApprovetxt()}),c.Ub(),c.Bc(15,xr,3,0,"div",14),c.Ub(),c.Ub(),c.Vb(16,"div",15),c.Vb(17,"button",16),c.Dc(18,"CANCEL"),c.Ub(),c.Vb(19,"button",17),c.cc("click",function(){return t.condApprove()}),c.Dc(20,"SAVE"),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Qb(21,"button",18),c.Vb(22,"div",19,20),c.Vb(24,"div",6),c.Vb(25,"div",7),c.Vb(26,"div",8),c.Vb(27,"h6",21),c.Dc(28," Approved reason"),c.Ub(),c.Qb(29,"button",10),c.Ub(),c.Vb(30,"div",11),c.Vb(31,"form",22),c.cc("keydown.enter",function(e){return e.preventDefault()}),c.Vb(32,"textarea",13),c.cc("ngModelChange",function(){return t.condApprovetxt()}),c.Ub(),c.Bc(33,Pr,3,0,"div",14),c.Qb(34,"textarea",23),c.Bc(35,Or,2,1,"div",14),c.Ub(),c.Ub(),c.Vb(36,"div",15),c.Vb(37,"button",16),c.Dc(38,"CANCEL"),c.Ub(),c.Vb(39,"button",17),c.cc("click",function(){return t.completion()}),c.Dc(40,"SAVE"),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Qb(41,"button",24),c.Vb(42,"div",25,26),c.Vb(44,"div",27),c.Vb(45,"div",7),c.Vb(46,"div",8),c.Vb(47,"h6",28),c.Dc(48,"Application Incomplete"),c.Ub(),c.Qb(49,"button",10),c.Ub(),c.Vb(50,"div",29),c.Vb(51,"small"),c.Dc(52,"Please fill all the required fields in the following forms before submitting the application. "),c.Ub(),c.Vb(53,"ul"),c.Bc(54,Er,2,1,"li",30),c.Ub(),c.Ub(),c.Vb(55,"div",31),c.Vb(56,"button",16),c.Dc(57,"CLOSE"),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Qb(58,"button",32),c.Vb(59,"div",33,34),c.Vb(61,"div",27),c.Vb(62,"div",7),c.Vb(63,"div",8),c.Vb(64,"h6",28),c.Dc(65,"Messer"),c.Ub(),c.Qb(66,"button",10),c.Ub(),c.Vb(67,"div",29),c.Vb(68,"small"),c.Dc(69,"Yes I'm ready to submit my prequalification info to Messer for Review."),c.Ub(),c.Ub(),c.Vb(70,"div",31),c.Vb(71,"button",35),c.cc("click",function(){return t.getComplete()}),c.Dc(72,"YES"),c.Ub(),c.Vb(73,"button",16),c.Dc(74,"NO"),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub()),2&e&&(c.mc("ngIf","Subcontractor"==t.userRole),c.Db(1),c.mc("ngIf","Admin"==t.userRole||!t.showrisk1status&&"RiskUser"==t.userRole||!t.showrisk2status&&"RiskUser2"==t.userRole),c.Db(1),c.mc("ngIf","Subcontractor"!=t.userRole&&t.showrisk2status&&(null==t.getrisk2records?null:t.getrisk2records.length)>0),c.Db(1),c.mc("ngIf",!(t.showAdmin||t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status)),c.Db(10),c.mc("formGroup",t.submitForm),c.Db(1),c.mc("ngClass",c.pc(16,jr,t.rejecionrequired)),c.Eb("disable",!1),c.Db(1),c.mc("ngIf",t.rejecionrequired),c.Db(16),c.mc("formGroup",t.submitForm),c.Db(1),c.mc("ngClass",c.pc(18,jr,t.rejecionrequired)),c.Eb("disable",!1),c.Db(1),c.mc("ngIf",t.rejecionrequired),c.Db(1),c.mc("ngClass",c.pc(20,jr,t.approvesubmitted&&t.f.approve_reason.errors)),c.Eb("disable",!1),c.Db(1),c.mc("ngIf",t.approvesubmitted&&t.f.approve_reason.errors),c.Db(19),c.mc("ngForOf",t.requiredField))},directives:[n.m,o.x,o.m,o.g,o.b,o.l,o.f,n.k,n.l,o.s],pipes:[n.e],styles:[".col-curve-top-submit[_ngcontent-%COMP%]{border-top-left-radius:28px!important;border-top-right-radius:28px!important;border-top:6px solid rgba(253,222,222,.0196078431372549)!important}.col-curve[_ngcontent-%COMP%]{border-radius:18px 19px!important}.submit-head[_ngcontent-%COMP%]{background:#c3bdbd;color:#ce2929;border-top-left-radius:18px 19px!important;border-top-right-radius:18px 19px!important}.record-shadow[_ngcontent-%COMP%]{border:1px solid #ddd;box-shadow:0 .5rem 1rem rgba(0,0,0,.15)!important}.text-red[_ngcontent-%COMP%]{color:#ce2929!important}h6[_ngcontent-%COMP%]{font-size:13px!important}.info[_ngcontent-%COMP%]{list-style-type:decimal;margin-top:10px}"]}),e})(),Nr=(()=>{class e extends E.a{constructor(e,t){super("Other",e,t,{root:O.a.webserviceURlLocal})}getAll(){return super.getAll()}getRecords(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("other/"+e,O.a.webserviceURlLocal);return this.http.get(i,t)}updateRecord(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},n=this.httpUrlGenerator.entityResource("other/"+t,O.a.webserviceURlLocal);return this.http.put(n,e,i)}addRecord(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("other",O.a.webserviceURlLocal);return this.http.post(i,e,t)}getUser(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},n=this.httpUrlGenerator.entityResource("Organization/"+e+"/"+t,O.a.webserviceURlLocal);return this.http.get(n,i)}getComplete(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("Organization/Getstatus/"+e,O.a.webserviceURlLocal);return this.http.get(i,t)}deleteRecord(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.delete(O.a.webserviceURlLocal+"Files/"+e,t)}}return e.\u0275fac=function(t){return new(t||e)(c.Zb(j.b),c.Zb(E.c))},e.\u0275prov=c.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function qr(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Current licenses registrations is required"),c.Ub())}function Br(e,t){if(1&e&&(c.Vb(0,"div",42),c.Bc(1,qr,2,0,"div",43),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.is_Any_Limits.errors.required)}}function Lr(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Current licenses registrations information is required"),c.Ub())}function Tr(e,t){if(1&e&&(c.Vb(0,"div",42),c.Bc(1,Lr,2,0,"div",43),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.limits_info.errors.required)}}function Yr(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Suspended or revoked is required"),c.Ub())}function Gr(e,t){if(1&e&&(c.Vb(0,"div",42),c.Bc(1,Yr,2,0,"div",43),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.is_Suspended.errors.required)}}function Qr(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"OSHA information is required"),c.Ub())}function zr(e,t){if(1&e&&(c.Vb(0,"div",42),c.Bc(1,Qr,2,0,"div",43),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.suspended_info.errors.required)}}function $r(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Attachment is required"),c.Ub())}function Wr(e,t){if(1&e&&(c.Vb(0,"div",42),c.Bc(1,$r,2,0,"div",43),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.project_Details_Upload.errors.required)}}function Hr(e,t){1&e&&(c.Vb(0,"div",44),c.Vb(1,"span"),c.Dc(2,"Uploading..."),c.Ub(),c.Qb(3,"mat-progress-spinner",45),c.Ub())}function Zr(e,t){if(1&e){const e=c.Wb();c.Vb(0,"div"),c.Vb(1,"p",46),c.Vb(2,"small"),c.Vb(3,"a",47),c.Dc(4),c.Ub(),c.Ub(),c.Vb(5,"small",48),c.cc("click",function(){c.uc(e);const i=t.index,n=t.$implicit;return c.gc().removeprojectUpload(i,n)}),c.Dc(6,"X"),c.Ub(),c.Ub(),c.Ub()}if(2&e){const e=t.$implicit;c.Db(3),c.nc("href",e.file_Path,c.wc),c.Db(1),c.Ec(e.name)}}function Kr(e,t){if(1&e){const e=c.Wb();c.Vb(0,"div",49),c.Vb(1,"button",50),c.cc("click",function(){return c.uc(e),c.gc().gotoHome()}),c.Dc(2,"<< BACK"),c.Ub(),c.Vb(3,"button",51),c.cc("click",function(){return c.uc(e),c.gc().save()}),c.Dc(4),c.Ub(),c.Vb(5,"button",52),c.Dc(6,"NEXT >>"),c.Ub(),c.Ub()}if(2&e){const e=c.gc();c.Db(4),c.Ec(e.submitText)}}function Jr(e,t){if(1&e){const e=c.Wb();c.Vb(0,"div",53),c.Vb(1,"button",50),c.cc("click",function(){return c.uc(e),c.gc().gotoHome()}),c.Dc(2,"<< BACK"),c.Ub(),c.Vb(3,"button",54),c.cc("click",function(){return c.uc(e),c.gc().nextroutePage()}),c.Dc(4,"NEXT >>"),c.Ub(),c.Ub()}}const Xr=function(e){return{"bg-grey":e}},es=function(e){return{"is-invalid":e}};let ts=(()=>{class e{constructor(e,t,i,n,a,r,s,c,l,d){this.formBuilder=e,this.router=t,this.bnIdle=i,this.keepalive=n,this.toastr=a,this.project=r,this.logininfo=s,this.ngxUiLoader=c,this.otherinfoservice=l,this.companyservice=d,this.currentForm=7,this.otherinfoForm=this.formBuilder.group({id:[0],companyId:[null,[o.w.maxLength(130)]],is_Any_Limits:["",[o.w.required]],limits_info:[""],is_Suspended:["",[o.w.required]],suspended_info:[""],project_Details_Upload:["",[o.w.required]],isAutosave:[!1]}),this.submitted=!1,this.prequalification_status="",this.submitText="SAVE",this.showAdmin=!1,this.otherinfoid=0,this.companyId=0,this.setTimeout=0,this.resetTimer=0,this.projectAttachment=[],this.tempprojectAttachment=[],this.spinner={projectSpinner:!1},this.showdisabled=!1}ngOnInit(){this.ngxUiLoader.startLoader("loader-01"),localStorage.setItem("currPage","otherinfo"),this.prequalification_status=this.logininfo.organization_status,this.submitText="SAVE";let e=localStorage.getItem("userDetails");e=JSON.parse(atob(e)),this.userDetails=e,this.userRole=e.role,this.tempcompanyid=localStorage.getItem("tempcompanyid"),this.tempcompanyid=Number(atob(this.tempcompanyid)),this.tempcompanyid>0&&"Subcontractor"!=this.userRole&&(this.showAdmin=!0,this.otherinfoservice.getRecords(this.tempcompanyid).subscribe(e=>{this.showdisabled=!0,this.otherinfoForm.disable(),this.otherinfoForm.updateValueAndValidity(),this.showAdmin=!0,(null==e?void 0:e.length)&&(this.otherinfoid=e[0].id,this.submitText="UPDATE",this.updateOtherinfo(e))})),null!=this.userDetails.vendorId&&null!=this.userDetails.taxId&&"Subcontractor"==this.userRole&&this.otherinfoservice.getUser(this.userDetails.vendorId,this.userDetails.taxId).subscribe(e=>{this.companyId=e.id,localStorage.setItem("companyid",btoa(this.companyId)),this.getRecords()}),this.ngxUiLoader.stopLoader("loader-01")}ngAfterViewInit(){this.keepalive.interval(30),this.keepalive.stop(),0==this.setTimeout&&this.keepalive.stop()}ngOnDestroy(){this.keepalive.stop(),this.nextpage()}idleReset(){this.keepalive.stop(),this.keepalive.start(),this.resetTimer=0}gotoHome(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm-1].url}`])}get f(){var e;return"yes"==this.otherinfoForm.value.is_Any_Limits?(this.otherinfoForm.controls.limits_info.setValidators([o.w.required]),this.otherinfoForm.controls.limits_info.enable()):"no"==this.otherinfoForm.value.is_Any_Limits&&(this.otherinfoForm.controls.limits_info.clearValidators(),this.otherinfoForm.patchValue({limits_info:""}),this.otherinfoForm.controls.limits_info.disable()),"yes"==this.otherinfoForm.value.is_Suspended?(this.otherinfoForm.controls.suspended_info.setValidators([o.w.required]),this.otherinfoForm.controls.suspended_info.enable()):"no"==this.otherinfoForm.value.is_Suspended&&(this.otherinfoForm.controls.suspended_info.clearValidators(),this.otherinfoForm.patchValue({suspended_info:""}),this.otherinfoForm.controls.suspended_info.disable()),this.otherinfoForm.controls.limits_info.updateValueAndValidity(),this.otherinfoForm.controls.suspended_info.updateValueAndValidity(),(null===(e=this.projectAttachment)||void 0===e?void 0:e.length)>0&&(this.otherinfoForm.controls.project_Details_Upload.setValidators(null),this.otherinfoForm.controls.project_Details_Upload.updateValueAndValidity()),this.otherinfoForm.controls}updateOtherinfo(e){this.otherinfoForm.patchValue({id:e[0].id,companyId:e[0].companyId,is_Any_Limits:e[0].is_Any_Limits,limits_info:this.logininfo.validateEmpty(this.logininfo.validateEmpty(e[0].limits_info)),is_Suspended:e[0].is_Suspended,suspended_info:this.logininfo.validateEmpty(this.logininfo.validateEmpty(e[0].suspended_info))}),this.projectAttachment=[],e[0].files.filter(e=>{e.file_Name.length<31&&0==e.isDeleted?this.projectAttachment.push({id:e.id,name:e.file_Name,file_Path:e.file_Path}):0==e.isDeleted&&this.projectAttachment.push({id:e.id,name:e.file_Name.substring(0,31)+"....",file_Path:e.file_Path})})}save(){if(console.log(this.otherinfoForm),this.submitted=!0,this.keepalive.stop(),this.otherinfoForm.valid)if(0==this.otherinfoid){this.otherinfoForm.patchValue({isAutosave:!1});let e=this.formMethod();this.otherinfoservice.addRecord(e).subscribe(e=>{this.getRecords(),this.submitText="UPDATE",this.fileReset(),this.resetSpinner(),this.toastr.success("Other info saved successfully","Other Info")})}else{this.otherinfoForm.patchValue({isAutosave:!1});let e=this.formMethod();this.otherinfoservice.updateRecord(e,this.otherinfoid).subscribe(e=>{this.getRecords(),this.fileReset(),this.resetSpinner(),this.toastr.success("Other info updated successfully","Other Info")})}}submit(){if(console.log(this.otherinfoForm),this.keepalive.stop(),this.ngxUiLoader.startLoader("loader-01"),0==this.otherinfoid){let e=this.formMethod();this.otherinfoservice.addRecord(e).subscribe(e=>{this.getRecords(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])})}else{this.otherinfoForm.patchValue({isAutosave:!1});let e=this.formMethod();this.otherinfoservice.updateRecord(e,this.otherinfoid).subscribe(e=>{this.getRecords(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])})}}autoSave(){if(this.resetTimer+=1,1==this.resetTimer)if(0==this.otherinfoid){let e=this.formMethod();this.otherinfoservice.addRecord(e).subscribe(e=>{this.getRecords()})}else{this.otherinfoForm.patchValue({isAutosave:!1});let e=this.formMethod();this.otherinfoservice.updateRecord(e,this.otherinfoid).subscribe(e=>{this.getRecords()})}}nextpage(){if(0==this.otherinfoid){let e=this.formMethod();this.otherinfoservice.addRecord(e).subscribe(e=>{})}else{this.otherinfoForm.patchValue({isAutosave:!1});let e=this.formMethod();this.otherinfoservice.updateRecord(e,this.otherinfoid).subscribe(e=>{})}}fileupload(){if(this.keepalive.stop(),0==this.otherinfoid){this.otherinfoForm.patchValue({isAutosave:!0});let e=this.formMethod();this.otherinfoservice.addRecord(e).subscribe(e=>{this.keepalive.stop(),this.otherinfoForm.patchValue({qcP_Attachment:"",id:e.id}),this.submitText="UPDATE",this.getRecords(),this.resetSpinner(),this.submitted=!1})}else{this.otherinfoForm.patchValue({id:this.otherinfoid,isAutosave:!0});let e=this.formMethod();this.otherinfoservice.updateRecord(e,this.otherinfoForm.value.id).subscribe(e=>{this.keepalive.stop(),this.getRecords(),this.resetSpinner(),this.otherinfoForm.patchValue({qcP_Attachment:""}),this.submitted=!1})}}autosave(){if(this.resetTimer+=1,1==this.resetTimer)if(0==this.otherinfoid){this.otherinfoForm.patchValue({isAutosave:!1});let e=this.formMethod();this.otherinfoservice.addRecord(e).subscribe(e=>{this.submitText="UPDATE",this.getRecords(),this.fileReset(),this.keepalive.stop(),this.resetSpinner()})}else{this.otherinfoForm.patchValue({isAutosave:!0});let e=this.formMethod();this.otherinfoservice.updateRecord(e,this.otherinfoid).subscribe(e=>{this.getRecords(),this.fileReset(),this.keepalive.stop(),this.resetSpinner(),this.otherinfoForm.patchValue({isAutosave:!1})})}}getRecords(){this.otherinfoservice.getRecords(this.companyId).subscribe(e=>{e.length&&(this.otherinfoid=e[0].id,this.submitText="UPDATE",this.updateOtherinfo(e))}),this.companyId>0&&this.companyservice.getRecord(this.companyId).subscribe(e=>{this.prequalification_status=(e=e[0]).preQualification_Status,e.preQualification_Status&&this.logininfo.formDisable(e.preQualification_Status)&&(this.showdisabled=!0,this.otherinfoForm.disable(),this.otherinfoForm.updateValueAndValidity())})}formMethod(){var e=new FormData;if(e.append("id",this.otherinfoForm.value.id),e.append("companyId",this.companyId),e.append("is_Any_Limits",this.otherinfoForm.value.is_Any_Limits),e.append("proposed_OP_Title",this.otherinfoForm.value.proposed_OP_Title),e.append("limits_info","undefined"!=this.otherinfoForm.value.limits_info?this.otherinfoForm.value.limits_info:""),e.append("is_Suspended",this.otherinfoForm.value.is_Suspended),e.append("suspended_info",this.otherinfoForm.value.suspended_info),this.tempprojectAttachment.length){for(let t=0;t<this.tempprojectAttachment.length;t++)e.append("project_Details_Upload",this.tempprojectAttachment[t]);this.tempprojectAttachment=[]}return e}projectUpload(e){let t=document.getElementById("project_Details_Upload");for(let i=0;i<t.files.length;i++)this.tempprojectAttachment.push(t.files[i]);this.spinner.projectSpinner=!0,this.fileupload()}filepreview(e,t){var i=new FileReader;i.onload=i=>{console.log(i.target);let n=new Blob(e.files,{type:e.files[t].type});var o=(window.URL||window.webkitURL).createObjectURL(n);console.log("path",o,e.value);var a=document.createElement("a"),r=document.createTextNode("View File");a.target="_blank",a.appendChild(r),a.href=o,a.click(),e.appendChild(a)},i.readAsDataURL(e.files[t])}removeprojectUpload(e,t){this.showdisabled||this.otherinfoservice.deleteRecord(t.id).subscribe(t=>{this.projectAttachment.splice(e,1),this.toastr.info("File removed successfully","Other Info")})}resetSpinner(){this.spinner={projectSpinner:!1}}fileReset(){this.otherinfoForm.patchValue({project_Details_Upload:""})}nextroutePage(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(o.d),c.Pb(a.f),c.Pb(d.a),c.Pb(m.a),c.Pb(h.b),c.Pb(_.a),c.Pb(v),c.Pb(y.c),c.Pb(Nr),c.Pb(l.a))},e.\u0275cmp=c.Jb({type:e,selectors:[["app-otherinfo"]],decls:68,vars:45,consts:[[1,"px-2",3,"formGroup","ngSubmit","keydown.enter"],[1,"px-1","my-2","form-bg",3,"ngClass"],[1,"form-group","input-group","row","px-2","mx-auto","pb-3"],[1,"col-lg-6","col-curve-top","bg-white","px-2","col-head-1","mx-auto","mt-2"],[1,"row","mx-0","px-0","py-2","mt-2"],[1,"col-12"],["for","is_Any_Limits",1,"my-auto","fw-bold","float-right"],[1,"text-danger"],[1,"row","pt-1"],[1,"col-lg-2"],["type","radio","formControlName","is_Any_Limits","value","yes","checked","checked","name","is_Any_Limits","id","is_Any_Limits_yes",3,"ngClass","ngModelChange"],["for","is_Any_Limits_yes"],[1,"col-lg-10"],["type","radio","formControlName","is_Any_Limits","value","no","name","is_Any_Limits","id","is_Any_Limits_no",3,"ngClass","ngModelChange"],["for","is_Any_Limits_no"],["class","invalid-feedback",4,"ngIf"],[1,"mr-4","mt-4","pt-1"],[1,"note","fw-bold",3,"ngClass"],[1,"col-lg-12","bg-white","mt-2"],["formControlName","limits_info","id","limits_info","name","limits_info",1,"form-control",3,"ngClass","ngModelChange"],[1,"col-lg-6","px-2","col-head-2","col-curve-top","bg-white","mx-auto","mt-2"],["for","is_Suspended",1,"my-auto","fw-bold","float-right"],["type","radio","formControlName","is_Suspended","value","yes","checked","checked","name","is_Suspended","id","is_Suspended_yes",3,"ngClass","ngModelChange"],["for","is_Suspended_yes"],["type","radio","formControlName","is_Suspended","value","no","name","is_Suspended","id","is_Suspended_no",3,"ngClass","ngModelChange"],["for","is_Suspended_no"],[1,"mr-4"],["for","risk_Manager_Email",1,"note","fw-bold",3,"ngClass"],[1,"col-lg-12","bg-white"],["formControlName","suspended_info","id","suspended_info","name","suspended_info",1,"form-control",3,"ngClass","ngModelChange"],[1,"col-lg-6","col-curve","bg-white","px-2","mx-auto","col-head-1"],[1,"col-5"],["for","project_Details_Upload",1,"my-auto","fw-bold","float-right"],[1,"col-7"],[1,"form-control-customitem","form-control"],["type","file","formControlName","project_Details_Upload","title","Choose file","id","project_Details_Upload","name","project_Details_Upload","multiple","",3,"ngClass","change"],["for","project_Details_Upload",3,"ngClass"],["class","spinner__loading pt-3",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"col-lg-6","col-curve","bg-white","px-2","col-head-2","mx-auto"],["class","text-end mx-lg-4 my-3",4,"ngIf"],["class","text-end mx-4 my-3",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner__loading","pt-3"],["diameter","18","mode","indeterminate",1,"mt-1"],[1,"file-tag"],["target","_blank",3,"href"],[1,"file-close","text-white",3,"click"],[1,"text-end","mx-lg-4","my-3"],[1,"btn","float-start","btn","default-btn",3,"click"],["type","button",1,"btn","ml-4","default-btn",3,"click"],["type","submit",1,"btn","btn-success","mx-2","default-btn"],[1,"text-end","mx-4","my-3"],[1,"btn","btn-success","mx-2","default-btn",3,"click"]],template:function(e,t){1&e&&(c.Vb(0,"form",0),c.cc("ngSubmit",function(){return t.submit()})("keydown.enter",function(e){return e.preventDefault()}),c.Vb(1,"div",1),c.Vb(2,"div",2),c.Vb(3,"div",3),c.Vb(4,"div",4),c.Vb(5,"div",5),c.Vb(6,"h6",6),c.Dc(7,"1. Do you have any limits or restrictions to current licenses registrations: "),c.Vb(8,"span",7),c.Dc(9,"*"),c.Ub(),c.Ub(),c.Vb(10,"div",8),c.Vb(11,"span",9),c.Vb(12,"input",10),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Vb(13,"label",11),c.Dc(14," YES"),c.Ub(),c.Ub(),c.Vb(15,"span",12),c.Vb(16,"input",13),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Vb(17,"label",14),c.Dc(18," NO"),c.Ub(),c.Ub(),c.Ub(),c.Bc(19,Br,2,1,"div",15),c.Vb(20,"div",16),c.Vb(21,"small",17),c.Dc(22,"If yes, please explain."),c.Ub(),c.Ub(),c.Vb(23,"div",18),c.Vb(24,"textarea",19),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Bc(25,Tr,2,1,"div",15),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(26,"div",20),c.Vb(27,"div",4),c.Vb(28,"div",5),c.Vb(29,"h6",21),c.Dc(30,"2. In the past three years from the today's date, has your company had any business or professional license suspended or revoked ? "),c.Vb(31,"span",7),c.Dc(32,"*"),c.Ub(),c.Ub(),c.Vb(33,"div",8),c.Vb(34,"span",9),c.Vb(35,"input",22),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Vb(36,"label",23),c.Dc(37," YES"),c.Ub(),c.Ub(),c.Vb(38,"span",12),c.Vb(39,"input",24),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Vb(40,"label",25),c.Dc(41," NO"),c.Ub(),c.Ub(),c.Ub(),c.Bc(42,Gr,2,1,"div",15),c.Vb(43,"div",26),c.Vb(44,"small",27),c.Dc(45,"If yes, describe circumstances including jurisdiction and bases for suspension or revocation: "),c.Ub(),c.Ub(),c.Vb(46,"div",28),c.Vb(47,"textarea",29),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Bc(48,zr,2,1,"div",15),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(49,"div",2),c.Vb(50,"div",30),c.Vb(51,"div",4),c.Vb(52,"div",31),c.Vb(53,"h6",32),c.Dc(54,"3. Attach any project specific details "),c.Vb(55,"span",7),c.Dc(56,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(57,"div",33),c.Vb(58,"div",34),c.Vb(59,"input",35),c.cc("change",function(e){return t.projectUpload(e)}),c.Ub(),c.Vb(60,"span",36),c.Dc(61," \xa0 Click here to Add Files"),c.Ub(),c.Ub(),c.Bc(62,Wr,2,1,"div",15),c.Bc(63,Hr,4,0,"div",37),c.Bc(64,Zr,7,2,"div",38),c.Ub(),c.Ub(),c.Ub(),c.Qb(65,"div",39),c.Ub(),c.Ub(),c.Bc(66,Kr,7,1,"div",40),c.Ub(),c.Bc(67,Jr,5,0,"div",41)),2&e&&(c.mc("formGroup",t.otherinfoForm),c.Db(1),c.mc("ngClass",c.pc(23,Xr,1==t.showdisabled)),c.Db(11),c.mc("ngClass",c.pc(25,es,t.submitted&&t.f.is_Any_Limits.errors)),c.Db(4),c.mc("ngClass",c.pc(27,es,t.submitted&&t.f.is_Any_Limits.errors)),c.Db(3),c.mc("ngIf",t.submitted&&t.f.is_Any_Limits.errors),c.Db(2),c.mc("ngClass",c.pc(29,Xr,"no"==t.f.is_Any_Limits.value)),c.Db(3),c.mc("ngClass",c.pc(31,es,t.submitted&&t.f.limits_info.errors)),c.Eb("disabled","no"==t.f.is_Any_Limits.value?"":null),c.Db(1),c.mc("ngIf",t.submitted&&t.f.limits_info.errors),c.Db(10),c.mc("ngClass",c.pc(33,es,t.submitted&&t.f.is_Suspended.errors)),c.Db(4),c.mc("ngClass",c.pc(35,es,t.submitted&&t.f.is_Suspended.errors)),c.Db(3),c.mc("ngIf",t.submitted&&t.f.is_Suspended.errors),c.Db(2),c.mc("ngClass",c.pc(37,Xr,"no"==t.f.is_Suspended.value)),c.Db(3),c.mc("ngClass",c.pc(39,es,t.submitted&&t.f.suspended_info.errors)),c.Eb("disabled","no"==t.f.is_Suspended.value?"":null),c.Db(1),c.mc("ngIf",t.submitted&&t.f.suspended_info.errors),c.Db(11),c.mc("ngClass",c.pc(41,es,t.submitted&&t.f.project_Details_Upload.errors)),c.Db(1),c.mc("ngClass",c.pc(43,Xr,1==t.showdisabled)),c.Db(2),c.mc("ngIf",t.submitted&&t.f.project_Details_Upload.errors),c.Db(1),c.mc("ngIf",null==t.spinner?null:t.spinner.projectSpinner),c.Db(1),c.mc("ngForOf",t.projectAttachment),c.Db(2),c.mc("ngIf",!(t.showAdmin||t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status)),c.Db(1),c.mc("ngIf",!t.showAdmin&&t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status||t.showAdmin))},directives:[o.x,o.m,o.g,n.k,o.s,o.b,o.l,o.f,n.m,n.l,A.a],styles:[".col-curve-top[_ngcontent-%COMP%]{border-top:6px solid #c3bdbd!important}.col-curve[_ngcontent-%COMP%], .col-curve-top[_ngcontent-%COMP%]{border-radius:18px 19px!important}h6[_ngcontent-%COMP%]{font-size:13px!important}.bg-grey[_ngcontent-%COMP%]{color:#c7bfbf!important}input[type=file][_ngcontent-%COMP%]{width:90px}"]}),e})();const is=["01 General Trades","02 Demolition","02 Hazardous Material Remediation","03 Concrete","03 Material","03 Pump Place Finish","03 Decking","03 Rebar / Post Tension Material","03 Rebar / Post Tension Labor","03 Precast Concrete","04 Masonry","05 Metals - Structural Steel","05 Metals - Misc. Metals","05 Metals - Ornamental Metals","06 Wood\xb8 Plastics\xb8 and Composites","06 - Millwork","06 - Wood Framing","07 Thermal and Moisture Protection","07 Waterproofing","07 Fireproofing","07 Firestopping / Joint Sealants","07 Roofing","07 Metal Panels","08 Openings","08 Doors Frames Hardware","08 Glass & Glazing","08 Overhead / Special Doors","09 Finishes","09 Drywall & Ceilings","09 Flooring","09 Painting","10 Specialties","11 Equipment","12 Furnishings","13 Special Construction","14 Conveying Equipment","21 Fire Suppression","22 Plumbing","23 Heating\xb8 Ventilating\xb8 & Air Conditioning (HVAC)","26 Electrical","27 Communications","28 Electronic Safety and Security","31 Earthwork","31 Deep Foundations","32 Exterior Improvements","32 Landscaping","32 Site Concrete","32 Asphalt Paving","33 Utilities"];let ns=(()=>{class e extends E.a{constructor(e,t){super("Personnel",e,t,{root:O.a.webserviceURlLocal})}getAll(){return super.getAll()}getRecords(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("personnel/"+e,O.a.webserviceURlLocal);return this.http.get(i,t)}updateRecord(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},n=this.httpUrlGenerator.entityResource("personnel/"+t,O.a.webserviceURlLocal);return this.http.put(n,e,i)}addRecord(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("personnel",O.a.webserviceURlLocal);return this.http.post(i,e,t)}getUser(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},n=this.httpUrlGenerator.entityResource("Organization/"+e+"/"+t,O.a.webserviceURlLocal);return this.http.get(n,i)}getComplete(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("Organization/Getstatus/"+e,O.a.webserviceURlLocal);return this.http.get(i,t)}deleteRecord(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.delete(O.a.webserviceURlLocal+"Files/"+e,t)}}return e.\u0275fac=function(t){return new(t||e)(c.Zb(j.b),c.Zb(E.c))},e.\u0275prov=c.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function os(e,t){1&e&&(c.Vb(0,"div",97),c.Dc(1,"Quality control plan is required "),c.Ub())}function as(e,t){if(1&e&&(c.Vb(0,"div",95),c.Bc(1,os,2,0,"div",96),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",null==e.f.is_QCP.errors?null:e.f.is_QCP.errors.required)}}function rs(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Attachment is required"),c.Ub())}function ss(e,t){if(1&e&&(c.Vb(0,"div",98),c.Bc(1,rs,2,0,"div",99),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.qcP_Attachment.errors.required)}}function cs(e,t){1&e&&(c.Vb(0,"div",100),c.Vb(1,"span"),c.Dc(2,"Uploading..."),c.Ub(),c.Qb(3,"mat-progress-spinner",101),c.Ub())}function ls(e,t){if(1&e){const e=c.Wb();c.Vb(0,"div"),c.Vb(1,"p",102),c.Vb(2,"small"),c.Vb(3,"a",103),c.Dc(4),c.Ub(),c.Ub(),c.Vb(5,"small",104),c.cc("click",function(){c.uc(e);const i=t.index,n=t.$implicit;return c.gc().removeqcpUpload(i,n)}),c.Dc(6,"X"),c.Ub(),c.Ub(),c.Ub()}if(2&e){const e=t.$implicit;c.Db(3),c.nc("href",e.file_Path,c.wc),c.Db(1),c.Ec(e.name)}}function ds(e,t){1&e&&(c.Vb(0,"div",107),c.Dc(1,"your own employees to perform project work is required "),c.Ub())}function us(e,t){if(1&e&&(c.Vb(0,"div",105),c.Bc(1,ds,2,0,"div",106),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",null==e.f.is_OwnEmployee.errors?null:e.f.is_OwnEmployee.errors.required)}}function ms(e,t){1&e&&(c.Vb(0,"div",110),c.Dc(1,"Temp labor to perform project work is required "),c.Ub())}function bs(e,t){if(1&e&&(c.Vb(0,"div",108),c.Bc(1,ms,2,0,"div",109),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",null==e.f.is_TempLabor.errors?null:e.f.is_TempLabor.errors.required)}}function ps(e,t){1&e&&(c.Vb(0,"div",98),c.Vb(1,"div"),c.Dc(2,"work type is required"),c.Ub(),c.Ub())}function fs(e,t){1&e&&(c.Vb(0,"div",113),c.Dc(1,"Criminal indictment or judgment of conviction is required "),c.Ub())}function hs(e,t){if(1&e&&(c.Vb(0,"div",111),c.Bc(1,fs,2,0,"div",112),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",null==e.f.is_Criminal_Indictment.errors?null:e.f.is_Criminal_Indictment.errors.required)}}function gs(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Criminal indictment or judgment of conviction information is required"),c.Ub())}function _s(e,t){if(1&e&&(c.Vb(0,"div",98),c.Bc(1,gs,2,0,"div",99),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.criminal_Indictment_Info.errors.required)}}function vs(e,t){1&e&&(c.Vb(0,"div",116),c.Dc(1,"Suspension or disbarment is required "),c.Ub())}function ys(e,t){if(1&e&&(c.Vb(0,"div",114),c.Bc(1,vs,2,0,"div",115),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",null==e.f.is_Federal.errors?null:e.f.is_Federal.errors.required)}}function Vs(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Suspension or disbarment information is required"),c.Ub())}function Us(e,t){if(1&e&&(c.Vb(0,"div",98),c.Bc(1,Vs,2,0,"div",99),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.federal_Info.errors.required)}}function Ds(e,t){1&e&&(c.Vb(0,"div",119),c.Dc(1,"Proceeding or consent order is required "),c.Ub())}function Cs(e,t){if(1&e&&(c.Vb(0,"div",117),c.Bc(1,Ds,2,0,"div",118),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",null==e.f.is_Violation_Of_State.errors?null:e.f.is_Violation_Of_State.errors.required)}}function Is(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Proceeding or consent order information is required"),c.Ub())}function Rs(e,t){if(1&e&&(c.Vb(0,"div",98),c.Bc(1,Is,2,0,"div",99),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.showdisabled||e.f.violation_Of_State_Info.errors.required)}}function Fs(e,t){if(1&e){const e=c.Wb();c.Vb(0,"div",120),c.Vb(1,"button",121),c.cc("click",function(){return c.uc(e),c.gc().gotoHome()}),c.Dc(2," << BACK"),c.Ub(),c.Vb(3,"button",122),c.cc("click",function(){return c.uc(e),c.gc().save()}),c.Dc(4),c.Ub(),c.Vb(5,"button",123),c.Dc(6,"NEXT >>"),c.Ub(),c.Ub()}if(2&e){const e=c.gc();c.Db(4),c.Ec(e.submitText)}}function ws(e,t){if(1&e){const e=c.Wb();c.Vb(0,"div",124),c.Vb(1,"button",121),c.cc("click",function(){return c.uc(e),c.gc().gotoHome()}),c.Dc(2," << BACK"),c.Ub(),c.Vb(3,"button",125),c.cc("click",function(){return c.uc(e),c.gc().nextroutePage()}),c.Dc(4,"NEXT >>"),c.Ub(),c.Ub()}}function Ss(e,t){if(1&e&&c.Qb(0,"app-comment",126),2&e){const e=c.gc();c.mc("events",e.eventsSubject.asObservable())("formId",e.personnelid)("companyId",e.tempcompanyid)}}const ks=function(e){return{"bg-grey":e}},xs=function(e){return{"is-invalid":e}};let Ps=(()=>{class e{constructor(e,t,i,n,a,r,c,l,d,u){this.formBuilder=e,this.router=t,this.bnIdle=i,this.keepalive=n,this.toastr=a,this.project=r,this.logininfo=c,this.ngxUiLoader=l,this.personnelService=d,this.companyservice=u,this.currentForm=1,this.personnelForm=this.formBuilder.group({id:[0],companyId:[null,[o.w.maxLength(130)]],proposed_OP_Name:["no",[o.w.required]],proposed_OP_Title:["",[]],proposed_OP_Years:["",[]],proposed_OP_Experience:["",[]],additional_OP_Name:["",[]],additional_OP_Title:["",[]],additional_OP_Years:["",[]],additional_OP_Experience:["",[]],is_QCP:["no",[o.w.required]],qcP_Attachment:[""],is_OwnEmployee:["no",[o.w.required]],is_TempLabor:["no",[o.w.required]],work_Types:[""],is_Criminal_Indictment:["no",[o.w.required]],criminal_Indictment_Info:[""],is_Federal:["no",[o.w.required]],federal_Info:[""],is_Violation_Of_State:["no",[o.w.required]],violation_Of_State_Info:[""],isAutosave:[!1]}),this.showAdmin=!1,this.personnelid=0,this.companyId=0,this.resetTimer=0,this.spinner={qcpSpinner:!1},this.qcpAttachment=[],this.tempqcpAttachment=[],this.worktypes=is,this.tempQcpFile=[],this.setTimeout=0,this.toppings=new o.e,this.copyworktypes=is,this.workValue=[],this.toppingList=["Extra cheese","Mushroom","Onion","Pepperoni","Sausage","Tomato"],this.showdisabled=!1,this.eventsSubject=new s.a;let m=localStorage.getItem("userDetails");m=JSON.parse(atob(m)),this.userDetails=m,this.userRole=m.role,this.tempcompanyid=localStorage.getItem("tempcompanyid"),this.tempcompanyid=Number(atob(this.tempcompanyid)),this.tempcompanyid>0&&"Subcontractor"!=this.userRole&&(this.showAdmin=!0,this.personnelService.getRecords(this.tempcompanyid).subscribe(e=>{this.showdisabled=!0,this.personnelForm.disable(),this.personnelForm.updateValueAndValidity(),this.showAdmin=!0,(null==e?void 0:e.length)>0&&(console.log("Personnel id "+e[0].id),this.personnelid=e[0].id,this.submitText=e[0].is_QCP?"UPDATE":"SAVE",this.updatePersonnel(e))})),null!=this.userDetails.vendorId&&null!=this.userDetails.taxId&&"Subcontractor"==this.userRole&&this.personnelService.getUser(this.userDetails.vendorId,this.userDetails.taxId).subscribe(e=>{this.companyId=e.id,localStorage.setItem("companyid",btoa(this.companyId)),this.getRecords()})}ngOnInit(){this.ngxUiLoader.startLoader("loader-01"),localStorage.setItem("currPage","personnel"),this.prequalification_status=this.logininfo.organization_status,this.submitText="SAVE",this.ngxUiLoader.stopLoader("loader-01")}emitEventToChild(){this.eventsSubject.next()}ngAfterViewInit(){this.keepalive.interval(30),this.keepalive.stop(),0==this.setTimeout&&this.keepalive.stop()}ngOnDestroy(){this.keepalive.stop(),this.autoSave()}qcpReset(){this.showdisabled=!1,this.qcpAttachment.forEach((e,t)=>{this.removeqcpUpload(t,e,!1)})}idleReset(){this.keepalive.stop(),this.keepalive.start(),this.resetTimer=0}gotoHome(){this.emitEventToChild(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm-1].url}`])}get f(){var e;return"yes"==this.personnelForm.value.is_QCP?0==this.qcpAttachment.length?(this.personnelForm.controls.qcP_Attachment.setValidators([o.w.required]),this.personnelForm.controls.qcP_Attachment.enable()):this.personnelForm.controls.qcP_Attachment.clearValidators():"no"==this.personnelForm.value.is_QCP&&(this.personnelForm.controls.qcP_Attachment.clearValidators(),this.personnelForm.controls.qcP_Attachment.disable()),this.personnelForm.controls.qcP_Attachment.updateValueAndValidity(),"yes"==this.personnelForm.value.is_Criminal_Indictment?this.personnelForm.controls.criminal_Indictment_Info.setValidators([o.w.required]):(this.personnelForm.patchValue({criminal_Indictment_Info:this.personnelForm.value.criminal_Indictment_Info}),this.personnelForm.controls.criminal_Indictment_Info.clearValidators()),this.personnelForm.controls.criminal_Indictment_Info.updateValueAndValidity(),"yes"==this.personnelForm.value.is_Federal?this.personnelForm.controls.federal_Info.setValidators([o.w.required]):(this.personnelForm.patchValue({federal_Info:this.personnelForm.value.federal_Info}),this.personnelForm.controls.federal_Info.clearValidators()),this.personnelForm.controls.federal_Info.updateValueAndValidity(),"yes"==this.personnelForm.value.is_Violation_Of_State?this.personnelForm.controls.violation_Of_State_Info.setValidators([o.w.required]):(this.personnelForm.patchValue({violation_Of_State_Info:this.personnelForm.value.violation_Of_State_Info}),this.personnelForm.controls.violation_Of_State_Info.clearValidators()),this.personnelForm.controls.violation_Of_State_Info.updateValueAndValidity(),(null===(e=this.qcpAttachment)||void 0===e?void 0:e.length)>0&&(this.personnelForm.controls.qcP_Attachment.setValidators(null),this.personnelForm.controls.qcP_Attachment.updateValueAndValidity()),this.personnelForm.controls}resetData(e){this.personnelForm.patchValue({[e]:""})}updatePersonnel(e){var t,i;let n=[];null===(i=null===(t=e[0])||void 0===t?void 0:t.work_Types)||void 0===i||i.split(",").filter(e=>{n.push(e)}),this.workValue=n,console.log(e),this.personnelForm.patchValue({id:e[0].id,companyId:e[0].companyId,proposed_OP_Name:this.logininfo.validateEmpty(e[0].proposed_OP_Name),proposed_OP_Title:this.logininfo.validateEmpty(e[0].proposed_OP_Title),proposed_OP_Years:this.logininfo.validateEmpty(e[0].proposed_OP_Years),proposed_OP_Experience:this.logininfo.validateEmpty(e[0].proposed_OP_Experience),additional_OP_Name:this.logininfo.validateEmpty(e[0].additional_OP_Name),additional_OP_Title:this.logininfo.validateEmpty(e[0].additional_OP_Title),additional_OP_Years:this.logininfo.validateEmpty(e[0].additional_OP_Years),additional_OP_Experience:this.logininfo.validateEmpty(e[0].additional_OP_Experience),is_QCP:this.logininfo.validateEmpty(e[0].is_QCP),is_OwnEmployee:this.logininfo.validateEmpty(e[0].is_OwnEmployee),is_TempLabor:this.logininfo.validateEmpty(e[0].is_TempLabor),work_Types:this.workValue,is_Criminal_Indictment:this.logininfo.validateEmpty(e[0].is_Criminal_Indictment),criminal_Indictment_Info:this.logininfo.validateEmpty(e[0].criminal_Indictment_Info),is_Federal:this.logininfo.validateEmpty(e[0].is_Federal),federal_Info:this.logininfo.validateEmpty(e[0].federal_Info),is_Violation_Of_State:this.logininfo.validateEmpty(e[0].is_Violation_Of_State),violation_Of_State_Info:this.logininfo.validateEmpty(e[0].violation_Of_State_Info)}),this.qcpAttachment=[],e[0].files.filter(e=>{e.file_Name.length<31&&0==e.isDeleted?this.qcpAttachment.push({id:e.id,name:e.file_Name,file_Path:e.file_Path}):0==e.isDeleted&&this.qcpAttachment.push({id:e.id,name:e.file_Name.substring(0,31)+"....",file_Path:e.file_Path})}),"Subcontractor"!=this.userRole&&"yes"==this.personnelForm.value.is_QCP&&this.personnelForm.controls.qcP_Attachment.setValidators([o.w.required])}save(){if(console.log("save"),console.log(this.personnelForm),this.submitted=!0,this.keepalive.stop(),this.personnelForm.valid)if(0==this.personnelid){this.personnelForm.patchValue({isAutosave:!1});let e=this.formMethod();this.personnelService.addRecord(e).subscribe(e=>{this.getRecords(),this.submitText="UPDATE",this.fileReset(),this.resetSpinner(),this.toastr.success("Work Types & Management approach saved successfully","Work Types & Management")})}else{this.personnelForm.patchValue({isAutosave:!1});let e=this.formMethod();this.personnelService.updateRecord(e,this.personnelid).subscribe(e=>{this.getRecords(),this.fileReset(),this.resetSpinner(),this.toastr.success("Work Types & Management approach updated successfully","Work Types & Management")})}}toggleSelection(e,t){e.selected=!e.selected}submit(){if(console.log("submit"),console.log(this.personnelForm),this.keepalive.stop(),this.ngxUiLoader.startLoader("loader-01"),"Subcontractor"!=this.userRole)this.emitEventToChild(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`]);else if(0==this.personnelid){let e=this.formMethod();this.personnelService.addRecord(e).subscribe(e=>{this.toastr.success("Work Types & Management approach saved successfully","Work Types & Management"),this.getRecords(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])})}else{this.personnelForm.patchValue({isAutosave:!1});let e=this.formMethod();this.personnelService.updateRecord(e,this.personnelid).subscribe(e=>{this.toastr.success("Work Types & Management approach update successfully","Work Types & Management"),this.getRecords()},e=>{},()=>{this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])})}}autoSave(){if(console.log("auto save"),"Subcontractor"==this.userRole&&(this.resetTimer+=1,1==this.resetTimer))if(0==this.personnelid){let e=this.formMethod();this.personnelService.addRecord(e).subscribe(e=>{this.keepalive.stop(),this.getRecords()})}else{this.personnelForm.patchValue({isAutosave:!1});let e=this.formMethod();this.personnelService.updateRecord(e,this.personnelid).subscribe(e=>{this.keepalive.stop(),this.getRecords()})}}nextpage(){if(console.log("nextpage"),0==this.personnelid){let e=this.formMethod();this.personnelService.addRecord(e).subscribe(e=>{this.getRecords()})}else{this.personnelForm.patchValue({isAutosave:!1});let e=this.formMethod();this.personnelService.updateRecord(e,this.personnelid).subscribe(e=>{this.getRecords()})}}fileupload(){if(console.log("file- upload"),this.keepalive.stop(),0==this.personnelid){this.personnelForm.patchValue({isAutosave:!0});let e=this.formMethod();this.personnelService.addRecord(e).subscribe(e=>{this.keepalive.stop(),this.personnelForm.patchValue({qcP_Attachment:"",id:e.id}),this.getRecords(),this.resetSpinner(),this.submitted=!1})}else{this.personnelForm.patchValue({id:this.personnelid,isAutosave:!0});let e=this.formMethod();this.personnelService.updateRecord(e,this.personnelForm.value.id).subscribe(e=>{this.keepalive.stop(),this.getRecords(),this.resetSpinner(),this.personnelForm.patchValue({qcP_Attachment:""}),this.submitted=!1})}}autosave(){if(console.log("auto save"),this.resetTimer+=1,1==this.resetTimer)if(0==this.personnelid){this.personnelForm.patchValue({isAutosave:!1});let e=this.formMethod();this.personnelService.addRecord(e).subscribe(e=>{this.submitText="UPDATE",this.getRecords(),this.fileReset(),this.keepalive.stop(),this.resetSpinner()})}else{this.personnelForm.patchValue({isAutosave:!0});let e=this.formMethod();this.personnelService.updateRecord(e,this.personnelid).subscribe(e=>{this.getRecords(),this.fileReset(),this.keepalive.stop(),this.resetSpinner(),this.personnelForm.patchValue({isAutosave:!1})})}}getRecords(){this.personnelService.getRecords(this.companyId).subscribe(e=>{(null==e?void 0:e.length)>0&&(console.log(e),this.personnelid=e[0].id,this.submitText=e[0].is_QCP?"UPDATE":"SAVE",this.updatePersonnel(e))}),this.companyId>0&&this.companyservice.getRecord(this.companyId).subscribe(e=>{this.prequalification_status=(e=e[0]).preQualification_Status,e.preQualification_Status&&this.logininfo.formDisable(e.preQualification_Status)&&(this.showdisabled=!0,this.personnelForm.disable(),this.personnelForm.updateValueAndValidity())})}formMethod(){this.workValue.length!=this.personnelForm.value.work_Types.toString().length&&(this.personnelForm.value.work_Types=this.workValue);var e=new FormData;e.append("id",this.personnelForm.value.id),e.append("companyId",this.companyId),e.append("proposed_OP_Name",this.personnelForm.value.proposed_OP_Name),e.append("proposed_OP_Title",this.personnelForm.value.proposed_OP_Title),e.append("proposed_OP_Years",this.personnelForm.value.proposed_OP_Years),e.append("proposed_OP_Experience",this.personnelForm.value.proposed_OP_Experience),e.append("additional_OP_Name",this.personnelForm.value.additional_OP_Name),e.append("additional_OP_Title",this.personnelForm.value.additional_OP_Title),e.append("additional_OP_Years",this.personnelForm.value.additional_OP_Years),e.append("additional_OP_Experience",this.personnelForm.value.additional_OP_Experience),e.append("is_QCP",this.personnelForm.value.is_QCP),e.append("is_OwnEmployee",this.personnelForm.value.is_OwnEmployee),e.append("is_TempLabor",this.personnelForm.value.is_TempLabor),e.append("work_Types",this.personnelForm.value.work_Types.toString()),e.append("is_Criminal_Indictment",this.personnelForm.value.is_Criminal_Indictment),e.append("criminal_Indictment_Info",this.personnelForm.value.criminal_Indictment_Info),e.append("is_Federal",this.personnelForm.value.is_Federal),e.append("federal_Info",this.personnelForm.value.federal_Info),e.append("is_Violation_Of_State",this.personnelForm.value.is_Violation_Of_State),e.append("violation_Of_State_Info",this.personnelForm.value.violation_Of_State_Info);for(let t=0;t<this.tempqcpAttachment.length;t++)e.append("qcP_Attachment",this.tempqcpAttachment[t]);return this.tempqcpAttachment=[],e}qcpUpload(e){let t=document.getElementById("qcP_Attachment");for(let i=0;i<t.files.length;i++)this.tempqcpAttachment.push(t.files[i]);this.spinner.qcpSpinner=!0,this.fileupload()}filepreview(e,t){var i=new FileReader;i.onload=i=>{console.log(i.target);let n=new Blob(e.files,{type:e.files[t].type});var o=(window.URL||window.webkitURL).createObjectURL(n);console.log("path",o,e.value);var a=document.createElement("a"),r=document.createTextNode("View File");a.target="_blank",a.appendChild(r),a.href=o,a.click(),e.appendChild(a)},i.readAsDataURL(e.files[t])}removeqcpUpload(e,t,i=!0){this.showdisabled||this.personnelService.deleteRecord(t.id).subscribe(t=>{this.qcpAttachment.splice(e,1),i&&this.toastr.info("File removed successfully","Work Types & Management")})}resetSpinner(){this.spinner={qcpSpinner:!1}}fileReset(){this.personnelForm.patchValue({qcP_Attachment:""})}nextroutePage(){this.emitEventToChild(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(o.d),c.Pb(a.f),c.Pb(d.a),c.Pb(m.a),c.Pb(h.b),c.Pb(_.a),c.Pb(v),c.Pb(y.c),c.Pb(ns),c.Pb(l.a))},e.\u0275cmp=c.Jb({type:e,selectors:[["app-personnel-management"]],decls:178,vars:111,consts:[[1,"m-2",3,"formGroup","ngSubmit","keydown.enter"],[1,"px-2","py-2","form-bg",3,"ngClass"],[1,"form-group","input-group","row","px-2","mx-auto"],[1,"col-lg-6","px-0","mx-auto","col-head-1"],[1,"row","col-curve-top","bg-white","mx-0","px-0","py-2","mt-2","pb-2"],[1,"row","bg-white","col-curve","mx-auto","mt-2"],[1,"fw-bold"],[1,"col-12"],[1,"row","pt-1"],[1,"col-6"],["for","is_QCP",1,"my-auto","font-italic"],[1,"text-danger"],[1,"row"],[1,"col-lg-3"],["type","radio","formControlName","is_QCP","value","yes","checked","checked","name","is_QCP","id","is_QCP_yes","required","",3,"ngClass","ngModelChange"],["for","is_QCP_yes"],[1,"col-lg-9"],["type","radio","formControlName","is_QCP","value","no","name","is_QCP","id","is_QCP_no","required","",3,"ngClass","ngModelChange","click"],["for","is_QCP_no"],["class","invalid-feedback mt-2","id","is_QCP",4,"ngIf"],[1,"pt-2","pb-2",3,"ngClass"],["for","qcP_Attachment",1,"my-auto","font-italic"],[1,"form-control-customitem","form-control"],["type","file","title","Choose file","formControlName","qcP_Attachment","id","qcP_Attachment","name","qcP_Attachment","multiple","",3,"ngClass","change"],["for","qcP_Attachment",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["class","spinner__loading pt-3",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"col-lg-6","px-0","mx-auto","col-head-2","ms-1","ps-1","mt-2"],[1,"row","bg-white","col-curve","mx-auto","py-2","col-curve-top"],[1,"fw-bold","mt-2"],[1,"row","pt-2"],[1,"col-8"],["for","is_OwnEmployee",1,"my-auto","font-italic"],[1,"col-4"],[1,"col-lg-6"],["type","radio","formControlName","is_OwnEmployee","value","yes","checked","checked","name","is_OwnEmployee","id","is_OwnEmployee_yes","required","",3,"ngClass","ngModelChange"],["for","is_OwnEmployee_yes"],["type","radio","formControlName","is_OwnEmployee","value","no","name","is_OwnEmployee","id","is_OwnEmployee_no","required","",3,"ngClass","ngModelChange"],["for","is_OwnEmployee_no"],["class","invalid-feedback mt-2","id","is_OwnEmployee",4,"ngIf"],["for","is_TempLabor",1,"my-auto","font-italic"],["type","radio","formControlName","is_TempLabor","value","yes","checked","checked","name","is_TempLabor","id","is_TempLabor_yes","required","",3,"ngClass","ngModelChange"],["for","is_TempLabor_yes"],["type","radio","formControlName","is_TempLabor","value","no","name","is_TempLabor","id","is_TempLabor_no","required","",3,"ngClass","ngModelChange"],["for","is_TempLabor_no"],["class","invalid-feedback mt-2","id","is_TempLabor",4,"ngIf"],["for","is_Subcontractor",1,"my-auto","font-italic"],["type","radio","formControlName","proposed_OP_Name","value","yes","checked","checked","name","proposed_OP_Name","id","is_Subcontractor_yes","required","",3,"ngClass","ngModelChange"],["for","is_Subcontractor_yes"],["type","radio","formControlName","proposed_OP_Name","value","no","name","proposed_OP_Name","id","is_Subcontractor_no","required","",3,"ngClass","ngModelChange"],["for","is_Subcontractor_no"],[1,"form-group","input-group","row","px-2","pb-1","pt-2"],[1,"col-lg-6","py-1","mx-auto","px-0","col-head-1"],[1,"row","col-curve","bg-white","mx-0","px-0","py-2","mt-0","ms-auto","qcp-heights"],[1,"row","bg-white","mx-0","mt-2"],[1,"red",3,"source","destination","disabled","destinationChange"],[1,"col-12","bg-white","pb-3"],[1,"row","pt-5","pb-5"],[1,"row","pt-5","pb-5","mt-2"],[1,"col-lg-6","mx-auto","p-0","col-head-2"],[1,"row","bg-white","col-curve","py-2","border","border-4","mx-0"],[1,"mt-2","fw-bold"],[1,"row","mt-2"],["for","is_Criminal_Indictment",1,"my-auto","font-italic"],[1,"col-lg-3","pt-1"],["type","radio","formControlName","is_Criminal_Indictment","value","yes","checked","checked","name","is_Criminal_Indictment","id","is_Criminal_Indictment_yes","required","",3,"ngClass","ngModelChange"],["for","is_Criminal_Indictment_yes"],[1,"col-lg-9","pt-1"],["type","radio","formControlName","is_Criminal_Indictment","value","no","name","is_Criminal_Indictment","id","is_Criminal_Indictment_no","required","",3,"ngClass","ngModelChange","click"],["for","is_Criminal_Indictment_no"],["class","invalid-feedback mt-2","id","is_Criminal_Indictment",4,"ngIf"],[1,"mr-4","mt-1",3,"ngClass"],[1,"note","fw-bold",3,"ngClass"],[1,"col-lg-12","bg-white"],["formControlName","criminal_Indictment_Info","id","criminal_Indictment_Info","name","criminal_Indictment_Info",1,"form-control",3,"ngClass","ngModelChange"],["for","is_Federal",1,"my-auto","font-italic"],["type","radio","formControlName","is_Federal","value","yes","checked","checked","name","is_Federal","id","is_Federal_yes","required","",3,"ngClass","ngModelChange"],["for","is_Federal_yes"],["type","radio","formControlName","is_Federal","value","no","name","is_Federal","id","is_Federal_no","required","",3,"ngClass","ngModelChange","click"],["for","is_Federal_no"],["class","invalid-feedback mt-2","id","is_Federal",4,"ngIf"],[1,"mr-4","mt-1"],["formControlName","federal_Info","id","federal_Info","name","federal_Info",1,"form-control",3,"ngClass","ngModelChange"],[1,"pb-1"],["for","is_Violation_Of_State",1,"my-auto","font-italic","fw-bold"],["type","radio","formControlName","is_Violation_Of_State","value","yes","checked","checked","name","is_Violation_Of_State","id","is_Violation_Of_State_yes","required","",3,"ngClass","ngModelChange"],["for","is_Violation_Of_State_yes"],["type","radio","formControlName","is_Violation_Of_State","value","no","name","is_Violation_Of_State","id","is_Violation_Of_State_no","required","",3,"ngClass","ngModelChange","click"],["for","is_Violation_Of_State_no"],["class","invalid-feedback mt-2","id","is_Violation_Of_State",4,"ngIf"],["formControlName","violation_Of_State_Info","id","violation_Of_State_Info","name","violation_Of_State_Info",1,"form-control",3,"ngClass","ngModelChange"],["class","text-end mx-lg-4 my-3",4,"ngIf"],["class","text-end mx-4 my-3",4,"ngIf"],["headerReview","Risk Review & Inputs","formname","personnel",3,"events","formId","companyId",4,"ngIf"],["id","is_QCP",1,"invalid-feedback","mt-2"],["id","is_QCP",4,"ngIf"],["id","is_QCP"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner__loading","pt-3"],["diameter","18","mode","indeterminate",1,"mt-1"],[1,"file-tag"],["target","_blank",3,"href"],[1,"file-close","text-white",3,"click"],["id","is_OwnEmployee",1,"invalid-feedback","mt-2"],["id","is_OwnEmployee",4,"ngIf"],["id","is_OwnEmployee"],["id","is_TempLabor",1,"invalid-feedback","mt-2"],["id","is_TempLabor",4,"ngIf"],["id","is_TempLabor"],["id","is_Criminal_Indictment",1,"invalid-feedback","mt-2"],["id","is_Criminal_Indictment",4,"ngIf"],["id","is_Criminal_Indictment"],["id","is_Federal",1,"invalid-feedback","mt-2"],["id","is_Federal",4,"ngIf"],["id","is_Federal"],["id","is_Violation_Of_State",1,"invalid-feedback","mt-2"],["id","is_Violation_Of_State",4,"ngIf"],["id","is_Violation_Of_State"],[1,"text-end","mx-lg-4","my-3"],[1,"btn","float-start","btn","default-btn",3,"click"],["type","button",1,"btn","ml-4","default-btn",3,"click"],["type","submit",1,"btn","btn-success","mx-2","default-btn"],[1,"text-end","mx-4","my-3"],[1,"btn","btn-success","mx-2","default-btn",3,"click"],["headerReview","Risk Review & Inputs","formname","personnel",3,"events","formId","companyId"]],template:function(e,t){1&e&&(c.Vb(0,"form",0),c.cc("ngSubmit",function(){return t.submit()})("keydown.enter",function(e){return e.preventDefault()}),c.Vb(1,"div",1),c.Vb(2,"div",2),c.Vb(3,"div",3),c.Vb(4,"div",4),c.Vb(5,"div",5),c.Vb(6,"h6",6),c.Dc(7,"1. Quality Control Plan"),c.Ub(),c.Vb(8,"div",7),c.Vb(9,"div",8),c.Vb(10,"div",9),c.Vb(11,"label",10),c.Dc(12," Does your company have a quality control plan? "),c.Vb(13,"span",11),c.Dc(14,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(15,"div",9),c.Vb(16,"div",12),c.Vb(17,"span",13),c.Vb(18,"input",14),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Vb(19,"label",15),c.Dc(20," YES"),c.Ub(),c.Ub(),c.Vb(21,"span",16),c.Vb(22,"input",17),c.cc("ngModelChange",function(){return t.idleReset()})("click",function(){return t.qcpReset()}),c.Ub(),c.Vb(23,"label",18),c.Dc(24," NO"),c.Ub(),c.Ub(),c.Ub(),c.Bc(25,as,2,1,"div",19),c.Ub(),c.Ub(),c.Vb(26,"div",20),c.Vb(27,"label",21),c.Dc(28,"Attach a copy your company's quality control plan "),c.Ub(),c.Vb(29,"div",22),c.Vb(30,"input",23),c.cc("change",function(e){return t.qcpUpload(e)}),c.Ub(),c.Vb(31,"span",24),c.Dc(32," \xa0Click here to Add Files"),c.Ub(),c.Ub(),c.Bc(33,ss,2,1,"div",25),c.Bc(34,cs,4,0,"div",26),c.Bc(35,ls,7,2,"div",27),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(36,"div",28),c.Vb(37,"div",29),c.Vb(38,"h6",30),c.Dc(39,"2. Labor"),c.Ub(),c.Vb(40,"div",31),c.Vb(41,"div",32),c.Vb(42,"label",33),c.Dc(43," Does your company use your own employees to perform project work?"),c.Vb(44,"span",11),c.Dc(45,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(46,"div",34),c.Vb(47,"div",12),c.Vb(48,"span",35),c.Vb(49,"input",36),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Vb(50,"label",37),c.Dc(51," YES"),c.Ub(),c.Ub(),c.Vb(52,"span",35),c.Vb(53,"input",38),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Vb(54,"label",39),c.Dc(55," NO"),c.Ub(),c.Ub(),c.Ub(),c.Bc(56,us,2,1,"div",40),c.Ub(),c.Ub(),c.Vb(57,"div",31),c.Vb(58,"div",32),c.Vb(59,"label",41),c.Dc(60," Does your company use temp labor to perform project work?"),c.Vb(61,"span",11),c.Dc(62,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(63,"div",34),c.Vb(64,"div",12),c.Vb(65,"span",35),c.Vb(66,"input",42),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Vb(67,"label",43),c.Dc(68," YES"),c.Ub(),c.Ub(),c.Vb(69,"span",35),c.Vb(70,"input",44),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Vb(71,"label",45),c.Dc(72," NO"),c.Ub(),c.Ub(),c.Ub(),c.Bc(73,bs,2,1,"div",46),c.Ub(),c.Ub(),c.Vb(74,"div",31),c.Vb(75,"div",32),c.Vb(76,"label",47),c.Dc(77," Does your company use subcontractors for field work?"),c.Vb(78,"span",11),c.Dc(79,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(80,"div",34),c.Vb(81,"div",12),c.Vb(82,"span",35),c.Vb(83,"input",48),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Vb(84,"label",49),c.Dc(85," YES"),c.Ub(),c.Ub(),c.Vb(86,"span",35),c.Vb(87,"input",50),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Vb(88,"label",51),c.Dc(89," NO"),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(90,"div",52),c.Vb(91,"div",53),c.Vb(92,"div",54),c.Vb(93,"div",55),c.Vb(94,"h6",6),c.Dc(95,"3. Select all the Work Types performed by your company's work force "),c.Vb(96,"span",11),c.Dc(97,"*"),c.Ub(),c.Ub(),c.Vb(98,"div"),c.Vb(99,"app-duallist",56),c.cc("destinationChange",function(e){return t.workValue=e}),c.Ub(),c.Bc(100,ps,3,0,"div",25),c.Ub(),c.Qb(101,"div",57),c.Ub(),c.Vb(102,"div",58),c.Dc(103," \xa0 "),c.Ub(),c.Vb(104,"div",59),c.Dc(105," \xa0 "),c.Ub(),c.Ub(),c.Ub(),c.Vb(106,"div",60),c.Vb(107,"div",61),c.Vb(108,"h6",62),c.Dc(109,"4. Other Info"),c.Ub(),c.Vb(110,"div",63),c.Vb(111,"label",64),c.Dc(112," Within the past three years, has your company or any of the individuals identified in this section have been the subject of any criminal indictment or judgment of conviction for any business related conduct constituting a crime under state or federal law? "),c.Vb(113,"span",11),c.Dc(114," *"),c.Ub(),c.Ub(),c.Vb(115,"div",8),c.Vb(116,"span",65),c.Vb(117,"input",66),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Vb(118,"label",67),c.Dc(119," YES"),c.Ub(),c.Ub(),c.Vb(120,"span",68),c.Vb(121,"input",69),c.cc("ngModelChange",function(){return t.idleReset()})("click",function(){return t.resetData("criminal_Indictment_Info")}),c.Ub(),c.Vb(122,"label",70),c.Dc(123," NO"),c.Ub(),c.Ub(),c.Ub(),c.Bc(124,hs,2,1,"div",71),c.Vb(125,"div",72),c.Vb(126,"small",73),c.Dc(127,"If yes, describe circumstances"),c.Ub(),c.Ub(),c.Vb(128,"div",74),c.Vb(129,"textarea",75),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Bc(130,_s,2,1,"div",25),c.Ub(),c.Ub(),c.Vb(131,"div",63),c.Vb(132,"label",76),c.Dc(133,"Within the past three years, has your company or any of the individuals identified in this section have been the subject of any federal or state suspension or disbarment? "),c.Vb(134,"span",11),c.Dc(135," *"),c.Ub(),c.Ub(),c.Vb(136,"div",8),c.Vb(137,"span",65),c.Vb(138,"input",77),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Vb(139,"label",78),c.Dc(140," YES"),c.Ub(),c.Ub(),c.Vb(141,"span",68),c.Vb(142,"input",79),c.cc("ngModelChange",function(){return t.idleReset()})("click",function(){return t.resetData("federal_Info")}),c.Ub(),c.Vb(143,"label",80),c.Dc(144," NO"),c.Ub(),c.Ub(),c.Ub(),c.Bc(145,ys,2,1,"div",81),c.Vb(146,"div",82),c.Vb(147,"small",73),c.Dc(148,"If yes, describe circumstances"),c.Ub(),c.Ub(),c.Vb(149,"div",74),c.Vb(150,"textarea",83),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Bc(151,Us,2,1,"div",25),c.Ub(),c.Vb(152,"div",84),c.Dc(153,"\xa0"),c.Ub(),c.Ub(),c.Vb(154,"div",12),c.Vb(155,"label",85),c.Dc(156,"Within the past three years, has your company or any of the individuals identified in this section have been the subject of any formal proceeding or consent order with a state or federal environment agency involving a violation of state or federal environment laws? "),c.Vb(157,"span",11),c.Dc(158," *"),c.Ub(),c.Ub(),c.Vb(159,"div",8),c.Vb(160,"span",65),c.Vb(161,"input",86),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Vb(162,"label",87),c.Dc(163," YES"),c.Ub(),c.Ub(),c.Vb(164,"span",68),c.Vb(165,"input",88),c.cc("ngModelChange",function(){return t.idleReset()})("click",function(){return t.resetData("violation_Of_State_Info")}),c.Ub(),c.Vb(166,"label",89),c.Dc(167," NO"),c.Ub(),c.Ub(),c.Ub(),c.Bc(168,Cs,2,1,"div",90),c.Vb(169,"div",72),c.Vb(170,"small",73),c.Dc(171,"If yes, describe circumstances"),c.Ub(),c.Ub(),c.Vb(172,"div",74),c.Vb(173,"textarea",91),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Bc(174,Rs,2,1,"div",25),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Bc(175,Fs,7,1,"div",92),c.Ub(),c.Bc(176,ws,5,0,"div",93),c.Bc(177,Ss,1,3,"app-comment",94)),2&e&&(c.mc("formGroup",t.personnelForm),c.Db(1),c.mc("ngClass",c.pc(53,ks,1==t.showdisabled)),c.Db(17),c.mc("ngClass",c.pc(55,xs,t.submitted&&t.f.is_QCP.errors)),c.Db(4),c.mc("ngClass",c.pc(57,xs,t.submitted&&t.f.is_QCP.errors)),c.Db(3),c.mc("ngIf",(t.submitted||t.f.is_QCP.touched)&&t.f.is_QCP.errors),c.Db(1),c.mc("ngClass",c.pc(59,ks,"no"==t.f.is_QCP.value)),c.Db(4),c.mc("ngClass",c.pc(61,xs,t.submitted&&t.f.qcP_Attachment.errors)),c.Eb("disabled",t.showdisabled||"no"==t.f.is_QCP.value?"":null),c.Db(1),c.mc("ngClass",c.pc(63,ks,"no"==t.f.is_QCP.value)),c.Db(2),c.mc("ngIf",t.submitted&&t.f.qcP_Attachment.errors),c.Db(1),c.mc("ngIf",null==t.spinner?null:t.spinner.qcpSpinner),c.Db(1),c.mc("ngForOf",t.qcpAttachment),c.Db(14),c.mc("ngClass",c.pc(65,xs,t.submitted&&t.f.is_OwnEmployee.errors)),c.Db(4),c.mc("ngClass",c.pc(67,xs,t.submitted&&t.f.is_OwnEmployee.errors)),c.Db(3),c.mc("ngIf",(t.submitted||t.f.is_OwnEmployee.touched)&&t.f.is_OwnEmployee.errors),c.Db(10),c.mc("ngClass",c.pc(69,xs,t.submitted&&t.f.is_TempLabor.errors)),c.Db(4),c.mc("ngClass",c.pc(71,xs,t.submitted&&t.f.is_TempLabor.errors)),c.Db(3),c.mc("ngIf",(t.submitted||t.f.is_TempLabor.touched)&&t.f.is_TempLabor.errors),c.Db(10),c.mc("ngClass",c.pc(73,xs,t.submitted&&(null==t.f.proposed_OP_Name?null:t.f.proposed_OP_Name.errors))),c.Db(4),c.mc("ngClass",c.pc(75,xs,t.submitted&&(null==t.f.proposed_OP_Name?null:t.f.proposed_OP_Name.errors))),c.Db(12),c.mc("source",t.copyworktypes)("destination",t.workValue)("disabled",t.showdisabled),c.Db(1),c.mc("ngIf",t.submitted&&0==t.workValue.length),c.Db(17),c.mc("ngClass",c.pc(77,xs,t.submitted&&t.f.is_Criminal_Indictment.errors)),c.Db(4),c.mc("ngClass",c.pc(79,xs,t.submitted&&t.f.is_Criminal_Indictment.errors)),c.Db(3),c.mc("ngIf",(t.submitted||t.f.is_Criminal_Indictment.touched)&&t.f.is_Criminal_Indictment.errors),c.Db(1),c.mc("ngClass",c.pc(81,ks,"no"==t.f.is_Criminal_Indictment.value)),c.Db(1),c.mc("ngClass",c.pc(83,ks,t.showdisabled||"no"==t.f.is_Criminal_Indictment.value)),c.Db(3),c.mc("ngClass",c.pc(85,xs,t.submitted&&t.f.criminal_Indictment_Info.errors))("ngClass",c.pc(87,ks,"no"==t.f.is_Criminal_Indictment.value)),c.Eb("disabled","no"==t.f.is_Criminal_Indictment.value?"":null),c.Db(1),c.mc("ngIf",t.submitted&&t.f.criminal_Indictment_Info.errors),c.Db(8),c.mc("ngClass",c.pc(89,xs,t.submitted&&t.f.is_Federal.errors)),c.Db(4),c.mc("ngClass",c.pc(91,xs,t.submitted&&t.f.is_Federal.errors)),c.Db(3),c.mc("ngIf",(t.submitted||t.f.is_Federal.touched)&&t.f.is_Federal.errors),c.Db(2),c.mc("ngClass",c.pc(93,ks,t.showdisabled||"no"==t.f.is_Federal.value)),c.Db(3),c.mc("ngClass",c.pc(95,ks,"no"==t.f.is_Federal.value))("ngClass",c.pc(97,xs,t.submitted&&t.f.federal_Info.errors)),c.Eb("disabled","no"==t.f.is_Federal.value?"":null),c.Db(1),c.mc("ngIf",t.submitted&&t.f.federal_Info.errors),c.Db(10),c.mc("ngClass",c.pc(99,xs,t.submitted&&t.f.is_Violation_Of_State.errors)),c.Db(4),c.mc("ngClass",c.pc(101,xs,t.submitted&&t.f.is_Violation_Of_State.errors)),c.Db(3),c.mc("ngIf",(t.submitted||t.f.is_Violation_Of_State.touched)&&t.f.is_Violation_Of_State.errors),c.Db(1),c.mc("ngClass",c.pc(103,ks,"no"==t.f.is_Violation_Of_State.value)),c.Db(1),c.mc("ngClass",c.pc(105,ks,t.showdisabled||"no"==t.f.is_Violation_Of_State.value)),c.Db(3),c.mc("ngClass",c.pc(107,xs,t.submitted&&t.f.violation_Of_State_Info.errors))("ngClass",c.pc(109,ks,"no"==t.f.is_Violation_Of_State.value)),c.Eb("disabled","no"==t.f.is_Violation_Of_State.value?"":null),c.Db(1),c.mc("ngIf",t.submitted&&t.f.violation_Of_State_Info.errors),c.Db(1),c.mc("ngIf",!(t.showAdmin||t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status)),c.Db(1),c.mc("ngIf",!t.showAdmin&&t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status||t.showAdmin),c.Db(1),c.mc("ngIf","Subcontractor"!=t.userRole&&"Additional Info Needed from Subcontractor"!=t.prequalification_status&&"Prequal form submitted and under quality check"!=t.prequalification_status))},directives:[o.x,o.m,o.g,n.k,o.s,o.b,o.l,o.f,o.u,n.m,n.l,P,A.a,z],styles:["select[_ngcontent-%COMP%]:-internal-list-box   option[_ngcontent-%COMP%]:checked{background-color:#4a7729!important}.border[_ngcontent-%COMP%]{border:4px solid hsla(0,0%,86.7%,.6196078431372549)!important}.col-curve-top[_ngcontent-%COMP%]{border-top:6px solid #c3bdbd!important}.col-curve[_ngcontent-%COMP%], .col-curve-top[_ngcontent-%COMP%]{border-radius:18px 19px!important}.qcp-height[_ngcontent-%COMP%]{min-height:229px}.select-height[_ngcontent-%COMP%]{min-height:215px!important}h6[_ngcontent-%COMP%]{font-size:13px!important}.bg-grey[_ngcontent-%COMP%], .bg-grey[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{color:#c7bfbf!important}.multiple-select[_ngcontent-%COMP%]{width:45%;float:left}[_nghost-%COMP%]   .red[_ngcontent-%COMP%]     .btn-primary{background-color:#4a7729!important}[_nghost-%COMP%]   .red[_ngcontent-%COMP%]     .btn-primary:disabled{background-color:#708362!important}"]}),e})();function As(e,t){if(1&e&&(c.Vb(0,"strong"),c.Dc(1),c.Ub()),2&e){const e=c.gc();c.Db(1),c.Ec(null==e.userDetails?null:e.userDetails.companyName)}}function Os(e,t){if(1&e&&(c.Vb(0,"strong",38),c.Dc(1),c.Ub()),2&e){const e=c.gc();c.Db(1),c.Ec(e.companyName)}}function Es(e,t){if(1&e&&(c.Vb(0,"strong"),c.Dc(1),c.Ub()),2&e){const e=c.gc();c.Db(1),c.Ec(null==e.userDetails?null:e.userDetails.taxId)}}function js(e,t){if(1&e&&(c.Vb(0,"strong"),c.Dc(1),c.Ub()),2&e){const e=c.gc();c.Db(1),c.Ec(e.taxId)}}function Ms(e,t){if(1&e&&(c.Vb(0,"strong"),c.Dc(1),c.Ub()),2&e){const e=c.gc();c.Db(1),c.Ec(null==e.userDetails?null:e.userDetails.vendorId)}}function Ns(e,t){if(1&e&&(c.Vb(0,"strong"),c.Dc(1),c.Ub()),2&e){const e=c.gc();c.Db(1),c.Ec(e.vendorId)}}const qs=function(e){return{activeTab:e}};function Bs(e,t){if(1&e){const e=c.Wb();c.Vb(0,"li"),c.Vb(1,"a",39),c.cc("click",function(){c.uc(e);const i=t.$implicit;return c.gc().ActiveMenu(i)}),c.Vb(2,"strong"),c.Dc(3),c.Ub(),c.Qb(4,"br"),c.Vb(5,"small",40),c.Dc(6),c.Ub(),c.Ub(),c.Ub()}if(2&e){const e=t.$implicit,i=t.index,n=c.gc();c.Db(1),c.mc("routerLink",e.url)("ngClass",c.pc(4,qs,n.activeItem===e.desc)),c.Db(2),c.Ec(e.name),c.Db(3),c.Fc(" ",null==n.completeStatus[i]?null:n.completeStatus[i].status,"")}}function Ls(e,t){if(1&e&&(c.Vb(0,"small",41),c.Dc(1),c.hc(2,"date"),c.Ub()),2&e){const e=c.gc();c.Db(1),c.Fc("Last Updated on: ",c.jc(2,1,e.orgupdatedate,"MM/dd/yyyy"),"")}}let Ts=(()=>{class e{constructor(e,t,i,n,o,r){this.router=e,this.activatedRouter=t,this.safetyService=i,this.companyservice=n,this.ngxUiLoader=o,this.logininfo=r,this.activeItem="",this.activeDetail="",this.leftMenu=[],this.leftMenudisplay=this.companyservice.getMenuDetails(),this.companyId=0,this.userRole="",this.userDetails="",this.companyName="",this.taxId="",this.vendorId="",this.navbarOpen=!1,this.completeStatus=[{formname:"organization",status:""},{formname:"personnel",status:""},{formname:"experience",status:""},{formname:"relevant",status:""},{formname:"safety",status:""},{formname:"surety",status:""},{formname:"financial",status:""},{formname:"signature",status:""},{formname:"submit",status:""}],this.signature="",this.router.events.subscribe(e=>{if(e instanceof a.e){let e=localStorage.getItem("userDetails");if(e=JSON.parse(atob(e)),this.userDetails=e,this.userRole=e.role,"Subcontractor"==this.userRole){let e=localStorage.getItem("companyid");this.companyId=Number(atob(e)),this.getFormStatus(this.companyId)}}})}ngOnInit(){var e;this.leftMenu=this.leftMenudisplay.slice(),this.router.events.subscribe(e=>{var t;let i=null===(t=this.activatedRouter.snapshot._routerState.url)||void 0===t?void 0:t.split("/");if(i.length>1){let e=this.leftMenu.find(e=>e.url==i[2]);e&&(this.activeItem=e.desc,this.activeDetail=e.detail)}this.activeItem||(this.activeItem=this.leftMenu[0].desc,this.activeDetail=this.leftMenu[0].detail)});let t=null===(e=this.activatedRouter.snapshot._routerState.url)||void 0===e?void 0:e.split("/");if(t.length>1){let e=this.leftMenu.find(e=>e.url==t[2]);e&&(this.activeItem=e.desc,this.activeDetail=e.detail)}this.activeItem||(this.activeItem=this.leftMenu[0].desc,this.activeDetail=this.leftMenu[0].detail);let i=localStorage.getItem("userDetails");if(i){if(i=JSON.parse(atob(i)),this.userDetails=i,this.userRole=i.role,"Subcontractor"!=this.userRole&&(this.companyName=localStorage.getItem("userName"),this.companyName=atob(this.companyName),this.taxId=localStorage.getItem("taxID"),this.taxId=atob(this.taxId),this.vendorId=localStorage.getItem("vendorID"),this.vendorId=atob(this.vendorId)),"Subcontractor"==this.userRole){let e=localStorage.getItem("companyid");this.companyId=Number(atob(e)),this.getFormStatus(this.companyId)}if("SafetyUser"==this.userRole){this.leftMenu=[];for(let e=0;e<this.leftMenudisplay.length;e++)"Safety Information"==this.leftMenudisplay[e].name&&this.leftMenu.push(this.leftMenudisplay[e]);localStorage.getItem("tempcompanyid")&&(this.companyId=localStorage.getItem("tempcompanyid"),this.companyId=Number(atob(this.companyId))),this.activeItem=this.leftMenu[0].desc,this.router.navigate(["qualification/"+this.leftMenu[0].url])}}this.getOrganization()}ActiveMenu(e){if(localStorage.getItem("companyid")){let e=localStorage.getItem("companyid");this.companyId=Number(atob(e))}if(localStorage.getItem("tempcompanyid")){let e=localStorage.getItem("tempcompanyid");this.companyId=Number(atob(e))}0==this.companyId?this.activeItem=this.leftMenu[0].desc:(this.activeItem=e.desc,this.router.navigate(["qualification/"+e.url]))}gotoHome(){this.router.navigate(["/home"])}redirecttohome(){this.router.navigate(["/home"])}getOrganization(){if(null!=this.userDetails.vendorId&&null!=this.userDetails.taxId&&"Subcontractor"==this.userRole)this.companyservice.getUser(this.userDetails.vendorId,this.userDetails.taxId).subscribe(e=>{});else{let e=localStorage.getItem("tempcompanyid");e=Number(atob(e))}}getFormStatus(e){this.companyservice.getRecord(e).subscribe(e=>{this.orgupdatedate=e.updatedDate}),this.companyservice.getFormStatus(e).subscribe(e=>{var t,i,n,o,a,r,s,c,l,d,u,m,b,p,f;if(null==e?void 0:e.length){let h=[{formname:"organization",status:""},{formname:"personnel",status:""},{formname:"experience",status:""},{formname:"relevant",status:""},{formname:"safety",status:""},{formname:"surety",status:""},{formname:"financial",status:""},{formname:"signature",status:""},{formname:"submit",status:""}];h[0].status="Completed"==(null===(t=e[0])||void 0===t?void 0:t.organizationStatus)?null===(i=e[0])||void 0===i?void 0:i.organizationStatus:"",h[1].status="Completed"==(null===(n=e[0])||void 0===n?void 0:n.personnel)?null===(o=e[0])||void 0===o?void 0:o.personnel:"",h[2].status="Completed"==(null===(a=e[0])||void 0===a?void 0:a.reference)?null===(r=e[0])||void 0===r?void 0:r.reference:"",h[3].status="Completed"==(null===(s=e[0])||void 0===s?void 0:s.safety)?null===(c=e[0])||void 0===c?void 0:c.safety:"",h[4].status="Completed"==(null===(l=e[0])||void 0===l?void 0:l.surity)?null===(d=e[0])||void 0===d?void 0:d.surity:"",h[5].status="Completed"==(null===(u=e[0])||void 0===u?void 0:u.finance)?null===(m=e[0])||void 0===m?void 0:m.finance:"",h[6].status="Completed"==(null===(b=e[0])||void 0===b?void 0:b.signature)?null===(p=e[0])||void 0===p?void 0:p.signature:"",h[7].status="Under initial Risk review"==(null===(f=e[0])||void 0===f?void 0:f.preQualification_Status)?"Completed":"",this.completeStatus=h}})}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(a.f),c.Pb(a.a),c.Pb(go),c.Pb(l.a),c.Pb(y.c),c.Pb(v))},e.\u0275cmp=c.Jb({type:e,selectors:[["app-qualification"]],decls:65,vars:11,consts:[[1,"container-fluid","mt-3","pt-5"],[1,"row","mx-auto","align-items-center"],[1,"col-lg-12","col-md-12","ps-1"],[1,"row"],[1,"col-lg-3","pt-lg-3","pt-2","text-center"],[1,"col-lg-9","col-md-12"],[1,"row","border","pt-3"],[1,"col-lg-4","col-md-5"],[1,"text-center"],[1,"font-weight-bold"],[1,"text-success","font-weight-bold"],[4,"ngIf"],["class","text-capitalize",4,"ngIf"],[1,"col-lg-2","col-md-2","text-center"],[1,"col-lg-3","col-md-2"],[1,"vendor","text-center"],[1,"col-lg-3","col-md-3"],[1,"row","mt-lg-1","pt-3","pt-lg-0"],[1,"col-lg-3","col-md-12"],[1,"list-group"],[1,"leftmenu","mb-3","mb-lg-0","mb-lg-0"],[4,"ngFor","ngForOf"],[1,"col-lg-9","col-md-12","col-xs-12","px-0","border","section-head"],[1,"row","align-items-center","bg-success","mx-0","header"],[1,"col-8","mx-0"],[1,"bg-success","py-3","ps-2","m-0","text-white"],[1,"col-4","mx-0"],["class","float-end pe-2 text-center pt-lg-1 fw-normal text-white bg-success",4,"ngIf"],[1,"subheading"],["type","button","id","directalertmodal","data-bs-toggle","modal","data-bs-target","#directalertmodals",1,"btn-hide"],["id","directalertmodals","tabindex","-1","aria-labelledby","directalertmodals","aria-hidden","false",1,"modal","fade"],["directalertmodals",""],[1,"modal-dialog","modal-md","modal-dialog-centered"],[1,"modal-content"],[1,"modal-body","my-3"],[1,"modal-footer","p-0"],["type","button","data-bs-dismiss","modal",1,"btn","default-btn","modal-cancel","px-4",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","default-btn","bg-danger","modal-cancel","px-4"],[1,"text-capitalize"],["routerLinkActive","activeTab",1,"list-group-item","text-center","sec-tab","py-3","px-2",3,"routerLink","ngClass","click"],[1,"completeStatus"],[1,"float-end","pe-2","text-center","pt-lg-1","fw-normal","text-white","bg-success"]],template:function(e,t){1&e&&(c.Vb(0,"div",0),c.Vb(1,"div",1),c.Vb(2,"div",2),c.Vb(3,"div",3),c.Vb(4,"div",4),c.Vb(5,"h6"),c.Dc(6,"FORM SECTIONS"),c.Ub(),c.Ub(),c.Vb(7,"div",5),c.Vb(8,"div",6),c.Vb(9,"div",7),c.Vb(10,"p",8),c.Vb(11,"span",9),c.Dc(12," Company Name: "),c.Ub(),c.Vb(13,"span",10),c.Bc(14,As,2,1,"strong",11),c.Bc(15,Os,2,1,"strong",12),c.Ub(),c.Ub(),c.Ub(),c.Vb(16,"div",13),c.Vb(17,"p",8),c.Vb(18,"span",9),c.Dc(19,"Tax Id: "),c.Ub(),c.Vb(20,"span",10),c.Bc(21,Es,2,1,"strong",11),c.Bc(22,js,2,1,"strong",11),c.Ub(),c.Ub(),c.Ub(),c.Vb(23,"div",14),c.Vb(24,"p",15),c.Vb(25,"span",9),c.Dc(26,"Messer Vendor Id: "),c.Ub(),c.Vb(27,"span",10),c.Bc(28,Ms,2,1,"strong",11),c.Bc(29,Ns,2,1,"strong",11),c.Ub(),c.Ub(),c.Ub(),c.Vb(30,"div",16),c.Vb(31,"p",15),c.Vb(32,"span",9),c.Dc(33,"Prequal Expiry Date: "),c.Ub(),c.Vb(34,"span",10),c.Vb(35,"strong"),c.Dc(36),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(37,"div",17),c.Vb(38,"div",18),c.Vb(39,"div",19),c.Vb(40,"ul",20),c.Bc(41,Bs,7,6,"li",21),c.Ub(),c.Ub(),c.Ub(),c.Vb(42,"div",22),c.Vb(43,"div",23),c.Vb(44,"div",24),c.Vb(45,"h5",25),c.Dc(46),c.Ub(),c.Ub(),c.Vb(47,"div",26),c.Bc(48,Ls,3,4,"small",27),c.Ub(),c.Ub(),c.Vb(49,"div",28),c.Dc(50),c.Ub(),c.Qb(51,"router-outlet"),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Qb(52,"button",29),c.Vb(53,"div",30,31),c.Vb(55,"div",32),c.Vb(56,"div",33),c.Vb(57,"div",34),c.Vb(58,"p"),c.Dc(59,"Do you want to stop completing the prequalifcation form and go to the homepage?"),c.Ub(),c.Ub(),c.Vb(60,"div",35),c.Vb(61,"button",36),c.cc("click",function(){return t.redirecttohome()}),c.Dc(62,"YES"),c.Ub(),c.Vb(63,"button",37),c.Dc(64,"NO"),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub()),2&e&&(c.Db(14),c.mc("ngIf","Subcontractor"==t.userRole),c.Db(1),c.mc("ngIf","Subcontractor"!=t.userRole),c.Db(6),c.mc("ngIf","Subcontractor"==t.userRole),c.Db(1),c.mc("ngIf","Subcontractor"!=t.userRole),c.Db(6),c.mc("ngIf","Subcontractor"==t.userRole),c.Db(1),c.mc("ngIf","Subcontractor"!=t.userRole),c.Db(7),c.Ec(null==t.userDetails?null:t.userDetails.expDate),c.Db(5),c.mc("ngForOf",t.leftMenu),c.Db(5),c.Ec(t.activeItem),c.Db(2),c.mc("ngIf",t.orgupdatedate),c.Db(2),c.Ec(t.activeDetail))},directives:[n.m,n.l,a.j,a.h,a.g,n.k],pipes:[n.e],styles:['@charset "UTF-8";.leftmenu[_ngcontent-%COMP%]{padding:0;margin:0;list-style-type:none;font-size:14px}.sec-tab[_ngcontent-%COMP%]{background-color:#fafad2;text-transform:uppercase;color:#dc4405!important}.leftmenu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none!important}.activeTab[_ngcontent-%COMP%]:after{content:"";position:absolute;left:100%;top:50%;margin-top:-13px;border-left:0;border-bottom:13px solid transparent;border-top:13px solid transparent;border-left:10px solid #4a7729!important}.activeTab[_ngcontent-%COMP%]{padding:14px \u200b4px;color:#fff!important;border:1px solid #4a7729!important;background:#4a7729!important;text-decoration:none;text-align:center;cursor:pointer;font-weight:700;font-size:12px!important}.activeTab[_ngcontent-%COMP%]   .completeStatus[_ngcontent-%COMP%]{font-size:10px!important;color:#fff!important;font-weight:400!important}.bg-success[_ngcontent-%COMP%]{background-color:#4a7729!important}.font-weight-bold[_ngcontent-%COMP%]{font-weight:600!important}.vendor[_ngcontent-%COMP%]{text-align:right}.btn-outline-success[_ngcontent-%COMP%]{color:#4a7729!important;border-color:#4a7729!important}.btn-outline-success[_ngcontent-%COMP%]:hover{background-color:#4a7729!important;color:#fff!important}.completeStatus[_ngcontent-%COMP%]{font-size:10px!important;color:green;position:absolute;right:5px;bottom:2px}.header[_ngcontent-%COMP%]{text-transform:uppercase}.subheading[_ngcontent-%COMP%]{color:orange;padding:6px 7px 0 30px;font-weight:700;font-size:13px!important}']}),e})(),Ys=(()=>{class e extends E.a{constructor(e,t){super("Experience",e,t,{root:O.a.webserviceURlLocal})}getAll(){return super.getAll()}getRecords(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("experience/"+e,O.a.webserviceURlLocal);return this.http.get(i,t)}updateRecord(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},n=this.httpUrlGenerator.entityResource("experience/"+t,O.a.webserviceURlLocal);return this.http.put(n,e,i)}addRecord(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("experience",O.a.webserviceURlLocal);return this.http.post(i,e,t)}getUser(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},n=this.httpUrlGenerator.entityResource("Organization/"+e+"/"+t,O.a.webserviceURlLocal);return this.http.get(n,i)}getComplete(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("Organization/Getstatus/"+e,O.a.webserviceURlLocal);return this.http.get(i,t)}deleteRecord(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.delete(O.a.webserviceURlLocal+"experience/"+e,t)}}return e.\u0275fac=function(t){return new(t||e)(c.Zb(j.b),c.Zb(E.c))},e.\u0275prov=c.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Gs(e,t){if(1&e){const e=c.Wb();c.Vb(0,"i",50),c.cc("click",function(){c.uc(e);const t=c.gc(2),i=t.index,n=t.$implicit;return c.gc(2).editrelevant(i,n)}),c.Ub()}}function Qs(e,t){if(1&e){const e=c.Wb();c.Vb(0,"div",42),c.Vb(1,"div",43),c.Vb(2,"p",44),c.Dc(3,"Project Name"),c.Ub(),c.Ub(),c.Vb(4,"div",43),c.Vb(5,"p"),c.Vb(6,"span",45),c.Dc(7),c.Ub(),c.Vb(8,"small",46),c.Bc(9,Gs,1,0,"i",47),c.Vb(10,"i",48),c.cc("click",function(){c.uc(e);const t=c.gc(),i=t.index,n=t.$implicit;return c.gc(2).removeRelevant(i,n)}),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(11,"div",49),c.Vb(12,"p",44),c.Dc(13,"General Contractor/Owner"),c.Ub(),c.Ub(),c.Vb(14,"div",49),c.Vb(15,"p"),c.Dc(16),c.Ub(),c.Ub(),c.Vb(17,"div",49),c.Vb(18,"p",44),c.Dc(19,"Contract Price"),c.Ub(),c.Ub(),c.Vb(20,"div",49),c.Vb(21,"p"),c.Dc(22),c.Ub(),c.Ub(),c.Vb(23,"div",49),c.Vb(24,"p",44),c.Dc(25,"Completion Date"),c.Ub(),c.Ub(),c.Vb(26,"div",49),c.Vb(27,"p"),c.Dc(28),c.hc(29,"date"),c.Ub(),c.Ub(),c.Vb(30,"div",49),c.Vb(31,"p",44),c.Dc(32,"City"),c.Ub(),c.Ub(),c.Vb(33,"div",49),c.Vb(34,"p"),c.Dc(35),c.Ub(),c.Ub(),c.Vb(36,"div",49),c.Vb(37,"p",44),c.Dc(38,"State"),c.Ub(),c.Ub(),c.Vb(39,"div",49),c.Vb(40,"p"),c.Dc(41),c.Ub(),c.Ub(),c.Ub()}if(2&e){const e=c.gc().$implicit,t=c.gc(2);c.Db(7),c.Ec(e.projectName),c.Db(2),c.mc("ngIf",!t.pastdisabledEdit),c.Db(7),c.Ec(e.isOwner),c.Db(6),c.Ec(e.contractPrice),c.Db(6),c.Ec(c.jc(29,7,e.completionDate,"MM-dd-yyyy")),c.Db(7),c.Ec(e.city),c.Db(6),c.Ec(e.state)}}function zs(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Project Name is required "),c.Ub())}function $s(e,t){if(1&e&&(c.Vb(0,"div",78),c.Bc(1,zs,2,0,"div",79),c.Ub()),2&e){const e=c.gc(4);c.Db(1),c.mc("ngIf",e.ff.projectName.errors.required)}}function Ws(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"General contractor/owner is required "),c.Ub())}function Hs(e,t){if(1&e&&(c.Vb(0,"div",78),c.Bc(1,Ws,2,0,"div",79),c.Ub()),2&e){const e=c.gc(4);c.Db(1),c.mc("ngIf",e.ff.isOwner.errors.required)}}function Zs(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Contract price is required "),c.Ub())}function Ks(e,t){if(1&e&&(c.Vb(0,"div",78),c.Bc(1,Zs,2,0,"div",79),c.Ub()),2&e){const e=c.gc(4);c.Db(1),c.mc("ngIf",e.ff.contractPrice.errors.required)}}function Js(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Completion date is required "),c.Ub())}function Xs(e,t){if(1&e&&(c.Vb(0,"div",78),c.Bc(1,Js,2,0,"div",79),c.Ub()),2&e){const e=c.gc(4);c.Db(1),c.mc("ngIf",e.ff.completionDate.errors.required)}}function ec(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"City is required"),c.Ub())}function tc(e,t){if(1&e&&(c.Vb(0,"div",78),c.Bc(1,ec,2,0,"div",79),c.Ub()),2&e){const e=c.gc(4);c.Db(1),c.mc("ngIf",e.ff.city.errors.required)}}function ic(e,t){if(1&e&&(c.Vb(0,"option",73),c.Dc(1),c.Ub()),2&e){const e=t.$implicit;c.mc("ngValue",e.name),c.Db(1),c.Fc(" ",e.name,"")}}function nc(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"State is required"),c.Ub())}function oc(e,t){if(1&e&&(c.Vb(0,"div",78),c.Bc(1,nc,2,0,"div",79),c.Ub()),2&e){const e=c.gc(4);c.Db(1),c.mc("ngIf",e.ff.state.errors.required)}}function ac(e,t){if(1&e){const e=c.Wb();c.Vb(0,"button",80),c.cc("click",function(){c.uc(e);const t=c.gc(2),i=t.index,n=t.$implicit;return c.gc(2).cancelpastUpdate(i,n)}),c.Dc(1,"CANCEL"),c.Ub()}}function rc(e,t){if(1&e){const e=c.Wb();c.Vb(0,"button",80),c.cc("click",function(){c.uc(e);const t=c.gc(2),i=t.index,n=t.$implicit;return c.gc(2).relevantupdate(i,n)}),c.Dc(1,"UPDATE"),c.Ub()}}const sc=function(e){return{"is-invalid":e}};function cc(e,t){if(1&e){const e=c.Wb();c.Vb(0,"div",51),c.Vb(1,"form",52),c.Vb(2,"div",53),c.Vb(3,"div",54),c.Vb(4,"label",55),c.Dc(5," Project Name "),c.Vb(6,"span",16),c.Dc(7,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(8,"div",56),c.Vb(9,"input",57),c.cc("ngModelChange",function(){return c.uc(e),c.gc(3).idleReset()}),c.Ub(),c.Bc(10,$s,2,1,"div",24),c.Ub(),c.Ub(),c.Vb(11,"div",58),c.Vb(12,"div",54),c.Vb(13,"label",59),c.Dc(14," General Contractor/Owner "),c.Vb(15,"span",16),c.Dc(16,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(17,"div",56),c.Vb(18,"div",17),c.Vb(19,"span",60),c.Vb(20,"input",61),c.cc("ngModelChange",function(){return c.uc(e),c.gc(3).idleReset()}),c.Ub(),c.Vb(21,"label",62),c.Dc(22," YES"),c.Ub(),c.Ub(),c.Vb(23,"span",60),c.Vb(24,"input",63),c.cc("ngModelChange",function(){return c.uc(e),c.gc(3).idleReset()}),c.Ub(),c.Vb(25,"label",64),c.Dc(26," NO"),c.Ub(),c.Ub(),c.Ub(),c.Bc(27,Hs,2,1,"div",24),c.Ub(),c.Ub(),c.Vb(28,"div",53),c.Vb(29,"div",54),c.Vb(30,"label",65),c.Dc(31,"Contract Price "),c.Vb(32,"span",16),c.Dc(33,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(34,"div",56),c.Vb(35,"input",66),c.cc("ngModelChange",function(){return c.uc(e),c.gc(3).idleReset()}),c.Ub(),c.Bc(36,Ks,2,1,"div",24),c.Ub(),c.Ub(),c.Vb(37,"div",53),c.Vb(38,"div",54),c.Vb(39,"label",67),c.Dc(40," Completion Date "),c.Vb(41,"span",16),c.Dc(42,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(43,"div",56),c.Vb(44,"input",68),c.cc("ngModelChange",function(){return c.uc(e),c.gc(3).idleReset()}),c.Ub(),c.Bc(45,Xs,2,1,"div",24),c.Ub(),c.Ub(),c.Vb(46,"div",53),c.Vb(47,"div",54),c.Vb(48,"label",69),c.Dc(49,"City "),c.Vb(50,"span",16),c.Dc(51,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(52,"div",56),c.Vb(53,"input",70),c.cc("ngModelChange",function(){return c.uc(e),c.gc(3).idleReset()}),c.Ub(),c.Bc(54,tc,2,1,"div",24),c.Ub(),c.Ub(),c.Vb(55,"div",53),c.Vb(56,"div",54),c.Vb(57,"label",71),c.Dc(58,"State "),c.Vb(59,"span",16),c.Dc(60,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(61,"div",56),c.Vb(62,"select",72),c.cc("ngModelChange",function(){return c.uc(e),c.gc(3).idleReset()}),c.Vb(63,"option",73),c.Dc(64,"Select"),c.Ub(),c.Bc(65,ic,2,2,"option",74),c.Ub(),c.Vb(66,"small",75),c.Dc(67,"NOTE: If your country is outside of USA, please select \u2018Other\u2019. "),c.Ub(),c.Bc(68,oc,2,1,"div",24),c.Ub(),c.Ub(),c.Vb(69,"div",76),c.Bc(70,ac,2,0,"button",77),c.Bc(71,rc,2,0,"button",77),c.Ub(),c.Ub(),c.Ub()}if(2&e){const e=c.gc().$implicit,t=c.gc(2);c.Db(1),c.mc("formGroup",t.temppastprojectForm),c.Db(8),c.mc("ngClass",c.pc(18,sc,t.temppastsubmitted&&t.ff.projectName.errors)),c.Db(1),c.mc("ngIf",(t.ff.projectName.touched||t.temppastsubmitted)&&t.ff.projectName.errors),c.Db(11),c.mc("ngClass",c.pc(20,sc,t.temppastsubmitted&&t.ff.isOwner.errors)),c.Db(3),c.mc("ngClass",c.pc(22,sc,t.temppastsubmitted&&t.ff.isOwner.errors)),c.Db(3),c.mc("ngIf",(t.ff.isOwner.touched||t.temppastsubmitted)&&t.ff.isOwner.errors),c.Db(8),c.mc("ngClass",c.pc(24,sc,t.temppastsubmitted&&t.ff.contractPrice.errors)),c.Db(1),c.mc("ngIf",(t.ff.contractPrice.touched||t.temppastsubmitted)&&t.ff.contractPrice.errors),c.Db(8),c.mc("ngClass",c.pc(26,sc,t.temppastsubmitted&&t.ff.completionDate.errors)),c.Db(1),c.mc("ngIf",(t.ff.completionDate.touched||t.temppastsubmitted)&&t.ff.completionDate.errors),c.Db(8),c.mc("ngClass",c.pc(28,sc,t.temppastsubmitted&&t.ff.city.errors)),c.Db(1),c.mc("ngIf",(t.temppastsubmitted||t.ff.city.touched)&&t.ff.city.errors),c.Db(8),c.mc("ngClass",c.pc(30,sc,t.temppastsubmitted&&t.ff.state.errors)),c.Db(1),c.mc("ngValue",""),c.Db(2),c.mc("ngForOf",t.stateNames),c.Db(3),c.mc("ngIf",(t.temppastsubmitted||t.ff.state.touched)&&t.ff.state.errors),c.Db(2),c.mc("ngIf",e.type),c.Db(1),c.mc("ngIf",e.type)}}function lc(e,t){if(1&e&&(c.Vb(0,"div"),c.Bc(1,Qs,42,10,"div",41),c.Bc(2,cc,72,32,"div",8),c.Ub()),2&e){const e=t.$implicit;c.Db(1),c.mc("ngIf",!e.showEdit),c.Db(1),c.mc("ngIf",e.showEdit)}}function dc(e,t){if(1&e&&(c.Vb(0,"div",39),c.Bc(1,lc,3,2,"div",40),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngForOf",e.pastprojectlist)}}function uc(e,t){if(1&e){const e=c.Wb();c.Vb(0,"button",80),c.cc("click",function(){return c.uc(e),c.gc(2).showpastproject=!1}),c.Dc(1,"Add Another Ref"),c.Ub()}}function mc(e,t){if(1&e&&(c.Vb(0,"div",76),c.Bc(1,uc,2,0,"button",77),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",!e.showdisabled)}}function bc(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Project Name is required"),c.Ub())}function pc(e,t){if(1&e&&(c.Vb(0,"div",78),c.Bc(1,bc,2,0,"div",79),c.Ub()),2&e){const e=c.gc(2);c.Db(1),c.mc("ngIf",e.f.projectName.errors.required)}}function fc(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"General contractor/owner is required"),c.Ub())}function hc(e,t){if(1&e&&(c.Vb(0,"div",78),c.Bc(1,fc,2,0,"div",79),c.Ub()),2&e){const e=c.gc(2);c.Db(1),c.mc("ngIf",e.f.isOwner.errors.required)}}function gc(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Contract price is required"),c.Ub())}function _c(e,t){if(1&e&&(c.Vb(0,"div",78),c.Bc(1,gc,2,0,"div",79),c.Ub()),2&e){const e=c.gc(2);c.Db(1),c.mc("ngIf",e.f.contractPrice.errors.required)}}function vc(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Completetion date is required "),c.Ub())}function yc(e,t){if(1&e&&(c.Vb(0,"div",78),c.Bc(1,vc,2,0,"div",79),c.Ub()),2&e){const e=c.gc(2);c.Db(1),c.mc("ngIf",e.f.completionDate.errors.required)}}function Vc(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"City is required"),c.Ub())}function Uc(e,t){if(1&e&&(c.Vb(0,"div",78),c.Bc(1,Vc,2,0,"div",79),c.Ub()),2&e){const e=c.gc(2);c.Db(1),c.mc("ngIf",e.f.city.errors.required)}}function Dc(e,t){if(1&e&&(c.Vb(0,"option",73),c.Dc(1),c.Ub()),2&e){const e=t.$implicit;c.mc("ngValue",e.name),c.Db(1),c.Fc("",e.name," ")}}function Cc(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"State is required"),c.Ub())}function Ic(e,t){if(1&e&&(c.Vb(0,"div",78),c.Bc(1,Cc,2,0,"div",79),c.Ub()),2&e){const e=c.gc(2);c.Db(1),c.mc("ngIf",e.f.state.errors.required)}}function Rc(e,t){if(1&e){const e=c.Wb();c.Vb(0,"div",51),c.Vb(1,"form",10),c.cc("keydown.enter",function(e){return e.preventDefault()}),c.Vb(2,"div",53),c.Vb(3,"div",54),c.Vb(4,"label",55),c.Dc(5," Project Name "),c.Vb(6,"span",16),c.Dc(7,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(8,"div",56),c.Vb(9,"input",57),c.cc("ngModelChange",function(){return c.uc(e),c.gc().idleReset()}),c.Ub(),c.Bc(10,pc,2,1,"div",24),c.Ub(),c.Ub(),c.Vb(11,"div",58),c.Vb(12,"div",54),c.Vb(13,"label",59),c.Dc(14," General Contractor/Owner "),c.Vb(15,"span",16),c.Dc(16,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(17,"div",56),c.Vb(18,"div",58),c.Vb(19,"span",60),c.Vb(20,"input",81),c.cc("ngModelChange",function(){return c.uc(e),c.gc().idleReset()}),c.Ub(),c.Vb(21,"label",62),c.Dc(22," YES"),c.Ub(),c.Ub(),c.Vb(23,"span",82),c.Vb(24,"input",63),c.cc("ngModelChange",function(){return c.uc(e),c.gc().idleReset()}),c.Ub(),c.Vb(25,"label",64),c.Dc(26," NO"),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Bc(27,hc,2,1,"div",24),c.Ub(),c.Vb(28,"div",58),c.Vb(29,"div",54),c.Vb(30,"label",65),c.Dc(31,"Contract Price "),c.Vb(32,"span",16),c.Dc(33,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(34,"div",56),c.Vb(35,"input",66),c.cc("ngModelChange",function(){return c.uc(e),c.gc().idleReset()}),c.Ub(),c.Bc(36,_c,2,1,"div",24),c.Ub(),c.Ub(),c.Vb(37,"div",58),c.Vb(38,"div",54),c.Vb(39,"label",67),c.Dc(40," Completion Date "),c.Vb(41,"span",16),c.Dc(42,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(43,"div",56),c.Vb(44,"input",68),c.cc("ngModelChange",function(){return c.uc(e),c.gc().idleReset()}),c.Ub(),c.Bc(45,yc,2,1,"div",24),c.Ub(),c.Ub(),c.Vb(46,"div",58),c.Vb(47,"div",54),c.Vb(48,"label",69),c.Dc(49,"City "),c.Vb(50,"span",16),c.Dc(51,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(52,"div",56),c.Vb(53,"input",70),c.cc("ngModelChange",function(){return c.uc(e),c.gc().idleReset()}),c.Ub(),c.Bc(54,Uc,2,1,"div",24),c.Ub(),c.Ub(),c.Vb(55,"div",58),c.Vb(56,"div",54),c.Vb(57,"label",71),c.Dc(58,"State "),c.Vb(59,"span",16),c.Dc(60,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(61,"div",56),c.Vb(62,"select",72),c.cc("ngModelChange",function(){return c.uc(e),c.gc().idleReset()}),c.Vb(63,"option",73),c.Dc(64,"Select"),c.Ub(),c.Bc(65,Dc,2,2,"option",74),c.Ub(),c.Vb(66,"small",75),c.Dc(67,"NOTE: If your country is outside of USA, please select \u2018Other\u2019. "),c.Ub(),c.Bc(68,Ic,2,1,"div",24),c.Ub(),c.Ub(),c.Qb(69,"div",76),c.Ub(),c.Ub()}if(2&e){const e=c.gc();c.Db(1),c.mc("formGroup",e.pastprojectForm),c.Db(8),c.mc("ngClass",c.pc(16,sc,e.submitted&&e.f.projectName.errors)),c.Db(1),c.mc("ngIf",(e.f.projectName.touched||e.submitted)&&e.f.projectName.errors),c.Db(11),c.mc("ngClass",c.pc(18,sc,e.submitted&&e.f.isOwner.errors)),c.Db(3),c.mc("ngClass",c.pc(20,sc,e.submitted&&e.f.isOwner.errors)),c.Db(3),c.mc("ngIf",(e.f.isOwner.touched||e.submitted)&&e.f.isOwner.errors),c.Db(8),c.mc("ngClass",c.pc(22,sc,e.submitted&&e.f.contractPrice.errors)),c.Db(1),c.mc("ngIf",(e.f.contractPrice.touched||e.submitted)&&e.f.contractPrice.errors),c.Db(8),c.mc("ngClass",c.pc(24,sc,e.submitted&&e.f.completionDate.errors)),c.Db(1),c.mc("ngIf",(e.f.completionDate.touched||e.submitted)&&e.f.completionDate.errors),c.Db(8),c.mc("ngClass",c.pc(26,sc,e.submitted&&e.f.city.errors)),c.Db(1),c.mc("ngIf",(e.submitted||e.f.city.touched)&&e.f.city.errors),c.Db(8),c.mc("ngClass",c.pc(28,sc,e.submitted&&e.f.state.errors)),c.Db(1),c.mc("ngValue",""),c.Db(2),c.mc("ngForOf",e.stateNames),c.Db(3),c.mc("ngIf",(e.submitted||e.f.state.touched)&&e.f.state.errors)}}function Fc(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Project Name is required"),c.Ub())}function wc(e,t){if(1&e&&(c.Vb(0,"div",78),c.Bc(1,Fc,2,0,"div",79),c.Ub()),2&e){const e=c.gc(2);c.Db(1),c.mc("ngIf",e.f2.projectName.errors.required)}}function Sc(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"General contractor/owner is required "),c.Ub())}function kc(e,t){if(1&e&&(c.Vb(0,"div",78),c.Bc(1,Sc,2,0,"div",79),c.Ub()),2&e){const e=c.gc(2);c.Db(1),c.mc("ngIf",e.f2.isOwner.errors.required)}}function xc(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Contract price is required"),c.Ub())}function Pc(e,t){if(1&e&&(c.Vb(0,"div",78),c.Bc(1,xc,2,0,"div",79),c.Ub()),2&e){const e=c.gc(2);c.Db(1),c.mc("ngIf",e.f2.contractPrice.errors.required)}}function Ac(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Completetion date is required "),c.Ub())}function Oc(e,t){if(1&e&&(c.Vb(0,"div",78),c.Bc(1,Ac,2,0,"div",79),c.Ub()),2&e){const e=c.gc(2);c.Db(1),c.mc("ngIf",e.f2.completionDate.errors.required)}}function Ec(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"City is required"),c.Ub())}function jc(e,t){if(1&e&&(c.Vb(0,"div",78),c.Bc(1,Ec,2,0,"div",79),c.Ub()),2&e){const e=c.gc(2);c.Db(1),c.mc("ngIf",e.f2.city.errors.required)}}function Mc(e,t){if(1&e&&(c.Vb(0,"option",73),c.Dc(1),c.Ub()),2&e){const e=t.$implicit;c.mc("ngValue",e.name),c.Db(1),c.Fc("",e.name," ")}}function Nc(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"State is required"),c.Ub())}function qc(e,t){if(1&e&&(c.Vb(0,"div",78),c.Bc(1,Nc,2,0,"div",79),c.Ub()),2&e){const e=c.gc(2);c.Db(1),c.mc("ngIf",e.f2.state.errors.required)}}function Bc(e,t){if(1&e){const e=c.Wb();c.Vb(0,"div",51),c.Vb(1,"form",10),c.cc("keydown.enter",function(e){return e.preventDefault()}),c.Vb(2,"div",53),c.Vb(3,"div",54),c.Vb(4,"label",55),c.Dc(5," Project Name "),c.Vb(6,"span",16),c.Dc(7,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(8,"div",56),c.Vb(9,"input",57),c.cc("ngModelChange",function(){return c.uc(e),c.gc().idleReset()}),c.Ub(),c.Bc(10,wc,2,1,"div",24),c.Ub(),c.Ub(),c.Vb(11,"div",58),c.Vb(12,"div",54),c.Vb(13,"label",59),c.Dc(14," General Contractor/Owner "),c.Vb(15,"span",16),c.Dc(16,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(17,"div",56),c.Vb(18,"div",58),c.Vb(19,"span",60),c.Vb(20,"input",83),c.cc("ngModelChange",function(){return c.uc(e),c.gc().idleReset()}),c.Ub(),c.Vb(21,"label",84),c.Dc(22," YES"),c.Ub(),c.Ub(),c.Vb(23,"span",82),c.Vb(24,"input",85),c.cc("ngModelChange",function(){return c.uc(e),c.gc().idleReset()}),c.Ub(),c.Vb(25,"label",86),c.Dc(26," NO"),c.Ub(),c.Ub(),c.Ub(),c.Bc(27,kc,2,1,"div",24),c.Ub(),c.Ub(),c.Vb(28,"div",58),c.Vb(29,"div",54),c.Vb(30,"label",65),c.Dc(31,"Contract Price "),c.Vb(32,"span",16),c.Dc(33,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(34,"div",56),c.Vb(35,"input",66),c.cc("ngModelChange",function(){return c.uc(e),c.gc().idleReset()}),c.Ub(),c.Bc(36,Pc,2,1,"div",24),c.Ub(),c.Ub(),c.Vb(37,"div",58),c.Vb(38,"div",54),c.Vb(39,"label",67),c.Dc(40," Completion Date "),c.Vb(41,"span",16),c.Dc(42,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(43,"div",56),c.Vb(44,"input",68),c.cc("ngModelChange",function(){return c.uc(e),c.gc().idleReset()}),c.Ub(),c.Bc(45,Oc,2,1,"div",24),c.Ub(),c.Ub(),c.Vb(46,"div",58),c.Vb(47,"div",54),c.Vb(48,"label",69),c.Dc(49,"City "),c.Vb(50,"span",16),c.Dc(51,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(52,"div",56),c.Vb(53,"input",70),c.cc("ngModelChange",function(){return c.uc(e),c.gc().idleReset()}),c.Ub(),c.Bc(54,jc,2,1,"div",24),c.Ub(),c.Ub(),c.Vb(55,"div",58),c.Vb(56,"div",54),c.Vb(57,"label",71),c.Dc(58,"State "),c.Vb(59,"span",16),c.Dc(60,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(61,"div",56),c.Vb(62,"select",72),c.cc("ngModelChange",function(){return c.uc(e),c.gc().idleReset()}),c.Vb(63,"option",73),c.Dc(64,"Select"),c.Ub(),c.Bc(65,Mc,2,2,"option",74),c.Ub(),c.Vb(66,"small",75),c.Dc(67,"NOTE: If your country is outside of USA, please select \u2018Other\u2019. "),c.Ub(),c.Bc(68,qc,2,1,"div",24),c.Ub(),c.Ub(),c.Qb(69,"div",76),c.Ub(),c.Ub()}if(2&e){const e=c.gc();c.Db(1),c.mc("formGroup",e.pastprojectForm2),c.Db(8),c.mc("ngClass",c.pc(16,sc,e.submitted2&&e.f2.projectName.errors)),c.Db(1),c.mc("ngIf",(e.f2.projectName.touched||e.submitted2)&&e.f2.projectName.errors),c.Db(11),c.mc("ngClass",c.pc(18,sc,e.submitted2&&e.f2.isOwner.errors)),c.Db(3),c.mc("ngClass",c.pc(20,sc,e.submitted2&&e.f2.isOwner.errors)),c.Db(3),c.mc("ngIf",(e.f2.isOwner.touched||e.submitted2)&&e.f2.isOwner.errors),c.Db(8),c.mc("ngClass",c.pc(22,sc,e.submitted2&&e.f2.contractPrice.errors)),c.Db(1),c.mc("ngIf",(e.f2.contractPrice.touched||e.submitted2)&&e.f2.contractPrice.errors),c.Db(8),c.mc("ngClass",c.pc(24,sc,e.submitted2&&e.f2.completionDate.errors)),c.Db(1),c.mc("ngIf",(e.f2.completionDate.touched||e.submitted2)&&e.f2.completionDate.errors),c.Db(8),c.mc("ngClass",c.pc(26,sc,e.submitted2&&e.f2.city.errors)),c.Db(1),c.mc("ngIf",(e.submitted2||e.f2.city.touched)&&e.f2.city.errors),c.Db(8),c.mc("ngClass",c.pc(28,sc,e.submitted2&&e.f2.state.errors)),c.Db(1),c.mc("ngValue",""),c.Db(2),c.mc("ngForOf",e.stateNames),c.Db(3),c.mc("ngIf",(e.submitted2||e.f2.state.touched)&&e.f2.state.errors)}}function Lc(e,t){if(1&e){const e=c.Wb();c.Vb(0,"i",50),c.cc("click",function(){c.uc(e);const t=c.gc(2),i=t.index,n=t.$implicit;return c.gc(2).editrelevant(i,n)}),c.Ub()}}function Tc(e,t){if(1&e){const e=c.Wb();c.Vb(0,"div",42),c.Vb(1,"div",43),c.Vb(2,"p",44),c.Dc(3,"Project Name"),c.Ub(),c.Ub(),c.Vb(4,"div",43),c.Vb(5,"p"),c.Dc(6),c.Vb(7,"small",46),c.Bc(8,Lc,1,0,"i",47),c.Vb(9,"i",48),c.cc("click",function(){c.uc(e);const t=c.gc(),i=t.index,n=t.$implicit;return c.gc(2).removeRelevant(i,n)}),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(10,"div",49),c.Vb(11,"p",44),c.Dc(12,"General Contractor/Owner"),c.Ub(),c.Ub(),c.Vb(13,"div",49),c.Vb(14,"p"),c.Dc(15),c.Ub(),c.Ub(),c.Vb(16,"div",49),c.Vb(17,"p",44),c.Dc(18,"Contract Price"),c.Ub(),c.Ub(),c.Vb(19,"div",49),c.Vb(20,"p"),c.Dc(21),c.Ub(),c.Ub(),c.Vb(22,"div",49),c.Vb(23,"p",44),c.Dc(24,"Completion Date"),c.Ub(),c.Ub(),c.Vb(25,"div",49),c.Vb(26,"p"),c.Dc(27),c.hc(28,"date"),c.Ub(),c.Ub(),c.Vb(29,"div",49),c.Vb(30,"p",44),c.Dc(31,"City"),c.Ub(),c.Ub(),c.Vb(32,"div",49),c.Vb(33,"p"),c.Dc(34),c.Ub(),c.Ub(),c.Vb(35,"div",49),c.Vb(36,"p",44),c.Dc(37,"State"),c.Ub(),c.Ub(),c.Vb(38,"div",49),c.Vb(39,"p"),c.Dc(40),c.Ub(),c.Ub(),c.Ub()}if(2&e){const e=c.gc().$implicit,t=c.gc(2);c.Db(6),c.Ec(e.projectName),c.Db(2),c.mc("ngIf",!t.currdisabledEdit),c.Db(7),c.Ec(e.isOwner),c.Db(6),c.Ec(e.contractPrice),c.Db(6),c.Ec(c.jc(28,7,e.completionDate,"MM-dd-yyyy")),c.Db(7),c.Ec(e.city),c.Db(6),c.Ec(e.state)}}function Yc(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Project Name is required "),c.Ub())}function Gc(e,t){if(1&e&&(c.Vb(0,"div",78),c.Bc(1,Yc,2,0,"div",79),c.Ub()),2&e){const e=c.gc(4);c.Db(1),c.mc("ngIf",e.ss.projectName.errors.required)}}function Qc(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"General contractor/owner is required"),c.Ub())}function zc(e,t){if(1&e&&(c.Vb(0,"div",78),c.Bc(1,Qc,2,0,"div",79),c.Ub()),2&e){const e=c.gc(4);c.Db(1),c.mc("ngIf",e.ss.isOwner.errors.required)}}function $c(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Contract price is required "),c.Ub())}function Wc(e,t){if(1&e&&(c.Vb(0,"div",78),c.Bc(1,$c,2,0,"div",79),c.Ub()),2&e){const e=c.gc(4);c.Db(1),c.mc("ngIf",e.ss.contractPrice.errors.required)}}function Hc(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Completion date is required"),c.Ub())}function Zc(e,t){if(1&e&&(c.Vb(0,"div",78),c.Bc(1,Hc,2,0,"div",79),c.Ub()),2&e){const e=c.gc(4);c.Db(1),c.mc("ngIf",e.ss.completionDate.errors.required)}}function Kc(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"City is required"),c.Ub())}function Jc(e,t){if(1&e&&(c.Vb(0,"div",78),c.Bc(1,Kc,2,0,"div",79),c.Ub()),2&e){const e=c.gc(4);c.Db(1),c.mc("ngIf",e.ss.city.errors.required)}}function Xc(e,t){if(1&e&&(c.Vb(0,"option",73),c.Dc(1),c.Ub()),2&e){const e=t.$implicit;c.mc("ngValue",e.name),c.Db(1),c.Fc(" ",e.name,"")}}function el(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"State is required"),c.Ub())}function tl(e,t){if(1&e&&(c.Vb(0,"div",78),c.Bc(1,el,2,0,"div",79),c.Ub()),2&e){const e=c.gc(4);c.Db(1),c.mc("ngIf",e.ss.state.errors.required)}}function il(e,t){if(1&e){const e=c.Wb();c.Vb(0,"button",80),c.cc("click",function(){c.uc(e);const t=c.gc(2),i=t.index,n=t.$implicit;return c.gc(2).cancelpastUpdate(i,n)}),c.Dc(1,"CANCEL"),c.Ub()}}function nl(e,t){if(1&e){const e=c.Wb();c.Vb(0,"button",80),c.cc("click",function(){c.uc(e);const t=c.gc(2),i=t.index,n=t.$implicit;return c.gc(2).relevantupdate(i,n)}),c.Dc(1,"UPDATE"),c.Ub()}}function ol(e,t){if(1&e){const e=c.Wb();c.Vb(0,"div",51),c.Vb(1,"form",10),c.cc("keydown.enter",function(e){return e.preventDefault()}),c.Vb(2,"div",58),c.Vb(3,"div",54),c.Vb(4,"label",55),c.Dc(5," Project Name "),c.Vb(6,"span",16),c.Dc(7,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(8,"div",56),c.Vb(9,"input",57),c.cc("ngModelChange",function(){return c.uc(e),c.gc(3).idleReset()}),c.Ub(),c.Bc(10,Gc,2,1,"div",24),c.Ub(),c.Ub(),c.Vb(11,"div",58),c.Vb(12,"div",54),c.Vb(13,"label",59),c.Dc(14," General Contractor/Owner "),c.Vb(15,"span",16),c.Dc(16,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(17,"div",49),c.Vb(18,"div",17),c.Vb(19,"span",60),c.Vb(20,"input",61),c.cc("ngModelChange",function(){return c.uc(e),c.gc(3).idleReset()}),c.Ub(),c.Vb(21,"label",62),c.Dc(22," YES"),c.Ub(),c.Ub(),c.Vb(23,"span",60),c.Vb(24,"input",63),c.cc("ngModelChange",function(){return c.uc(e),c.gc(3).idleReset()}),c.Ub(),c.Vb(25,"label",64),c.Dc(26," NO"),c.Ub(),c.Ub(),c.Ub(),c.Bc(27,zc,2,1,"div",24),c.Ub(),c.Ub(),c.Vb(28,"div",58),c.Vb(29,"div",54),c.Vb(30,"label",65),c.Dc(31,"Contract Price "),c.Vb(32,"span",16),c.Dc(33,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(34,"div",56),c.Vb(35,"input",66),c.cc("ngModelChange",function(){return c.uc(e),c.gc(3).idleReset()}),c.Ub(),c.Bc(36,Wc,2,1,"div",24),c.Ub(),c.Ub(),c.Vb(37,"div",58),c.Vb(38,"div",54),c.Vb(39,"label",67),c.Dc(40," Completion Date "),c.Vb(41,"span",16),c.Dc(42,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(43,"div",56),c.Vb(44,"input",68),c.cc("ngModelChange",function(){return c.uc(e),c.gc(3).idleReset()}),c.Ub(),c.Bc(45,Zc,2,1,"div",24),c.Ub(),c.Ub(),c.Vb(46,"div",58),c.Vb(47,"div",54),c.Vb(48,"label",69),c.Dc(49,"City "),c.Vb(50,"span",16),c.Dc(51,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(52,"div",56),c.Vb(53,"input",70),c.cc("ngModelChange",function(){return c.uc(e),c.gc(3).idleReset()}),c.Ub(),c.Bc(54,Jc,2,1,"div",24),c.Ub(),c.Ub(),c.Vb(55,"div",58),c.Vb(56,"div",54),c.Vb(57,"label",71),c.Dc(58,"State "),c.Vb(59,"span",16),c.Dc(60,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(61,"div",56),c.Vb(62,"select",72),c.cc("ngModelChange",function(){return c.uc(e),c.gc(3).idleReset()}),c.Vb(63,"option",73),c.Dc(64,"Select"),c.Ub(),c.Bc(65,Xc,2,2,"option",74),c.Ub(),c.Vb(66,"small",75),c.Dc(67,"NOTE: If your country is outside of USA, please select \u2018Other\u2019. "),c.Ub(),c.Bc(68,tl,2,1,"div",24),c.Ub(),c.Ub(),c.Vb(69,"div",76),c.Bc(70,il,2,0,"button",77),c.Bc(71,nl,2,0,"button",77),c.Ub(),c.Ub(),c.Ub()}if(2&e){const e=c.gc().$implicit,t=c.gc(2);c.Db(1),c.mc("formGroup",t.tempcurrentprojectForm),c.Db(8),c.mc("ngClass",c.pc(18,sc,t.tempcurrentsubmitted&&t.ss.projectName.errors)),c.Db(1),c.mc("ngIf",(t.ss.projectName.touched||t.tempcurrentsubmitted)&&t.ss.projectName.errors),c.Db(11),c.mc("ngClass",c.pc(20,sc,t.tempcurrentsubmitted&&t.ss.isOwner.errors)),c.Db(3),c.mc("ngClass",c.pc(22,sc,t.tempcurrentsubmitted&&t.ss.isOwner.errors)),c.Db(3),c.mc("ngIf",(t.ss.isOwner.touched||t.tempcurrentsubmitted)&&t.ss.isOwner.errors),c.Db(8),c.mc("ngClass",c.pc(24,sc,t.tempcurrentsubmitted&&t.ss.contractPrice.errors)),c.Db(1),c.mc("ngIf",(t.ss.contractPrice.touched||t.tempcurrentsubmitted)&&t.ss.contractPrice.errors),c.Db(8),c.mc("ngClass",c.pc(26,sc,t.tempcurrentsubmitted&&t.ss.completionDate.errors)),c.Db(1),c.mc("ngIf",(t.ss.completionDate.touched||t.tempcurrentsubmitted)&&t.ss.completionDate.errors),c.Db(8),c.mc("ngClass",c.pc(28,sc,t.tempcurrentsubmitted&&t.ss.city.errors)),c.Db(1),c.mc("ngIf",(t.tempcurrentsubmitted||t.ss.city.touched)&&t.ss.city.errors),c.Db(8),c.mc("ngClass",c.pc(30,sc,t.tempcurrentsubmitted&&t.ss.state.errors)),c.Db(1),c.mc("ngValue",""),c.Db(2),c.mc("ngForOf",t.stateNames),c.Db(3),c.mc("ngIf",(t.tempcurrentsubmitted||t.ss.state.touched)&&t.ss.state.errors),c.Db(2),c.mc("ngIf",e.type),c.Db(1),c.mc("ngIf",e.type)}}function al(e,t){if(1&e&&(c.Vb(0,"div"),c.Bc(1,Tc,41,10,"div",41),c.Bc(2,ol,72,32,"div",8),c.Ub()),2&e){const e=t.$implicit;c.Db(1),c.mc("ngIf",!e.showEdit),c.Db(1),c.mc("ngIf",e.showEdit)}}function rl(e,t){if(1&e&&(c.Vb(0,"div",39),c.Bc(1,al,3,2,"div",40),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngForOf",e.currprojectlist)}}function sl(e,t){if(1&e){const e=c.Wb();c.Vb(0,"button",80),c.cc("click",function(){return c.uc(e),c.gc(2).showcurrentproject=!1}),c.Dc(1,"Add Another Ref"),c.Ub()}}function cl(e,t){if(1&e&&(c.Vb(0,"div",76),c.Bc(1,sl,2,0,"button",77),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",!e.showdisabled)}}function ll(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Project Name is required"),c.Ub())}function dl(e,t){if(1&e&&(c.Vb(0,"div",78),c.Bc(1,ll,2,0,"div",79),c.Ub()),2&e){const e=c.gc(2);c.Db(1),c.mc("ngIf",e.s2.projectName.errors.required)}}function ul(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"General contractor/owner is required "),c.Ub())}function ml(e,t){if(1&e&&(c.Vb(0,"div",78),c.Bc(1,ul,2,0,"div",79),c.Ub()),2&e){const e=c.gc(2);c.Db(1),c.mc("ngIf",e.s2.isOwner.errors.required)}}function bl(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Contract price is required "),c.Ub())}function pl(e,t){if(1&e&&(c.Vb(0,"div",78),c.Bc(1,bl,2,0,"div",79),c.Ub()),2&e){const e=c.gc(2);c.Db(1),c.mc("ngIf",e.s2.contractPrice.errors.required)}}function fl(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Completetion date is required "),c.Ub())}function hl(e,t){if(1&e&&(c.Vb(0,"div",78),c.Bc(1,fl,2,0,"div",79),c.Ub()),2&e){const e=c.gc(2);c.Db(1),c.mc("ngIf",e.s2.completionDate.errors.required)}}function gl(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"City is required"),c.Ub())}function _l(e,t){if(1&e&&(c.Vb(0,"div",78),c.Bc(1,gl,2,0,"div",79),c.Ub()),2&e){const e=c.gc(2);c.Db(1),c.mc("ngIf",e.s2.city.errors.required)}}function vl(e,t){if(1&e&&(c.Vb(0,"option",73),c.Dc(1),c.Ub()),2&e){const e=t.$implicit;c.mc("ngValue",e.name),c.Db(1),c.Fc("",e.name," ")}}function yl(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"State is required"),c.Ub())}function Vl(e,t){if(1&e&&(c.Vb(0,"div",78),c.Bc(1,yl,2,0,"div",79),c.Ub()),2&e){const e=c.gc(2);c.Db(1),c.mc("ngIf",e.s2.state.errors.required)}}function Ul(e,t){if(1&e){const e=c.Wb();c.Vb(0,"div",51),c.Vb(1,"form",10),c.cc("keydown.enter",function(e){return e.preventDefault()}),c.Vb(2,"div",53),c.Vb(3,"div",54),c.Vb(4,"label",55),c.Dc(5," Project Name "),c.Vb(6,"span",16),c.Dc(7,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(8,"div",56),c.Vb(9,"input",57),c.cc("ngModelChange",function(){return c.uc(e),c.gc().idleReset()}),c.Ub(),c.Bc(10,dl,2,1,"div",24),c.Ub(),c.Ub(),c.Vb(11,"div",58),c.Vb(12,"div",54),c.Vb(13,"label",59),c.Dc(14," General Contractor/Owner "),c.Vb(15,"span",16),c.Dc(16,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(17,"div",56),c.Vb(18,"div",58),c.Vb(19,"span",60),c.Vb(20,"input",83),c.cc("ngModelChange",function(){return c.uc(e),c.gc().idleReset()}),c.Ub(),c.Vb(21,"label",84),c.Dc(22," YES"),c.Ub(),c.Ub(),c.Vb(23,"span",82),c.Vb(24,"input",85),c.cc("ngModelChange",function(){return c.uc(e),c.gc().idleReset()}),c.Ub(),c.Vb(25,"label",86),c.Dc(26," NO"),c.Ub(),c.Ub(),c.Ub(),c.Bc(27,ml,2,1,"div",24),c.Ub(),c.Ub(),c.Vb(28,"div",58),c.Vb(29,"div",54),c.Vb(30,"label",65),c.Dc(31,"Contract Price "),c.Vb(32,"span",16),c.Dc(33,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(34,"div",56),c.Vb(35,"input",66),c.cc("ngModelChange",function(){return c.uc(e),c.gc().idleReset()}),c.Ub(),c.Bc(36,pl,2,1,"div",24),c.Ub(),c.Ub(),c.Vb(37,"div",58),c.Vb(38,"div",54),c.Vb(39,"label",67),c.Dc(40," Completion Date "),c.Vb(41,"span",16),c.Dc(42,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(43,"div",56),c.Vb(44,"input",68),c.cc("ngModelChange",function(){return c.uc(e),c.gc().idleReset()}),c.Ub(),c.Bc(45,hl,2,1,"div",24),c.Ub(),c.Ub(),c.Vb(46,"div",58),c.Vb(47,"div",54),c.Vb(48,"label",69),c.Dc(49,"City "),c.Vb(50,"span",16),c.Dc(51,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(52,"div",56),c.Vb(53,"input",70),c.cc("ngModelChange",function(){return c.uc(e),c.gc().idleReset()}),c.Ub(),c.Bc(54,_l,2,1,"div",24),c.Ub(),c.Ub(),c.Vb(55,"div",58),c.Vb(56,"div",54),c.Vb(57,"label",71),c.Dc(58,"State "),c.Vb(59,"span",16),c.Dc(60,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(61,"div",56),c.Vb(62,"select",72),c.cc("ngModelChange",function(){return c.uc(e),c.gc().idleReset()}),c.Vb(63,"option",73),c.Dc(64,"Select"),c.Ub(),c.Bc(65,vl,2,2,"option",74),c.Ub(),c.Vb(66,"small",75),c.Dc(67,"NOTE: If your country is outside of USA, please select \u2018Other\u2019. "),c.Ub(),c.Bc(68,Vl,2,1,"div",24),c.Ub(),c.Ub(),c.Qb(69,"div",76),c.Ub(),c.Ub()}if(2&e){const e=c.gc();c.Db(1),c.mc("formGroup",e.currentprojectForm2),c.Db(8),c.mc("ngClass",c.pc(16,sc,e.currentprojsubmitted2&&e.s2.projectName.errors)),c.Db(1),c.mc("ngIf",(e.s2.projectName.touched||e.currentprojsubmitted2)&&e.s2.projectName.errors),c.Db(11),c.mc("ngClass",c.pc(18,sc,e.currentprojsubmitted2&&e.s2.isOwner.errors)),c.Db(3),c.mc("ngClass",c.pc(20,sc,e.currentprojsubmitted2&&e.s2.isOwner.errors)),c.Db(3),c.mc("ngIf",(e.s2.isOwner.touched||e.currentprojsubmitted2)&&e.s2.isOwner.errors),c.Db(8),c.mc("ngClass",c.pc(22,sc,e.currentprojsubmitted2&&e.s2.contractPrice.errors)),c.Db(1),c.mc("ngIf",(e.s2.contractPrice.touched||e.currentprojsubmitted2)&&e.s2.contractPrice.errors),c.Db(8),c.mc("ngClass",c.pc(24,sc,e.currentprojsubmitted2&&e.s2.completionDate.errors)),c.Db(1),c.mc("ngIf",(e.s2.completionDate.touched||e.currentprojsubmitted2)&&e.s2.completionDate.errors),c.Db(8),c.mc("ngClass",c.pc(26,sc,e.currentprojsubmitted2&&e.s2.city.errors)),c.Db(1),c.mc("ngIf",(e.currentprojsubmitted2||e.s2.city.touched)&&e.s2.city.errors),c.Db(8),c.mc("ngClass",c.pc(28,sc,e.currentprojsubmitted2&&e.s2.state.errors)),c.Db(1),c.mc("ngValue",""),c.Db(2),c.mc("ngForOf",e.stateNames),c.Db(3),c.mc("ngIf",(e.currentprojsubmitted2||e.s2.state.touched)&&e.s2.state.errors)}}function Dl(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Project Name is required"),c.Ub())}function Cl(e,t){if(1&e&&(c.Vb(0,"div",78),c.Bc(1,Dl,2,0,"div",79),c.Ub()),2&e){const e=c.gc(2);c.Db(1),c.mc("ngIf",e.s.projectName.errors.required)}}function Il(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"General contractor/owner is required "),c.Ub())}function Rl(e,t){if(1&e&&(c.Vb(0,"div",78),c.Bc(1,Il,2,0,"div",79),c.Ub()),2&e){const e=c.gc(2);c.Db(1),c.mc("ngIf",e.s.isOwner.errors.required)}}function Fl(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Contract price is required "),c.Ub())}function wl(e,t){if(1&e&&(c.Vb(0,"div",78),c.Bc(1,Fl,2,0,"div",79),c.Ub()),2&e){const e=c.gc(2);c.Db(1),c.mc("ngIf",e.s.contractPrice.errors.required)}}function Sl(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Completetion date is required "),c.Ub())}function kl(e,t){if(1&e&&(c.Vb(0,"div",78),c.Bc(1,Sl,2,0,"div",79),c.Ub()),2&e){const e=c.gc(2);c.Db(1),c.mc("ngIf",e.s.completionDate.errors.required)}}function xl(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"City is required"),c.Ub())}function Pl(e,t){if(1&e&&(c.Vb(0,"div",78),c.Bc(1,xl,2,0,"div",79),c.Ub()),2&e){const e=c.gc(2);c.Db(1),c.mc("ngIf",e.s.city.errors.required)}}function Al(e,t){if(1&e&&(c.Vb(0,"option",73),c.Dc(1),c.Ub()),2&e){const e=t.$implicit;c.mc("ngValue",e.name),c.Db(1),c.Fc("",e.name," ")}}function Ol(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"State is required"),c.Ub())}function El(e,t){if(1&e&&(c.Vb(0,"div",78),c.Bc(1,Ol,2,0,"div",79),c.Ub()),2&e){const e=c.gc(2);c.Db(1),c.mc("ngIf",e.s.state.errors.required)}}function jl(e,t){if(1&e){const e=c.Wb();c.Vb(0,"div",51),c.Vb(1,"form",10),c.cc("keydown.enter",function(e){return e.preventDefault()}),c.Vb(2,"div",58),c.Vb(3,"div",54),c.Vb(4,"label",55),c.Dc(5," Project Name "),c.Vb(6,"span",16),c.Dc(7,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(8,"div",56),c.Vb(9,"input",57),c.cc("ngModelChange",function(){return c.uc(e),c.gc().idleReset()}),c.Ub(),c.Bc(10,Cl,2,1,"div",24),c.Ub(),c.Ub(),c.Vb(11,"div",58),c.Vb(12,"div",54),c.Vb(13,"label",59),c.Dc(14," General Contractor/Owner "),c.Vb(15,"span",16),c.Dc(16,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(17,"div",56),c.Vb(18,"div",58),c.Vb(19,"span",60),c.Vb(20,"input",87),c.cc("ngModelChange",function(){return c.uc(e),c.gc().idleReset()}),c.Ub(),c.Vb(21,"label",88),c.Dc(22," YES"),c.Ub(),c.Ub(),c.Vb(23,"span",82),c.Vb(24,"input",89),c.cc("ngModelChange",function(){return c.uc(e),c.gc().idleReset()}),c.Ub(),c.Vb(25,"label",90),c.Dc(26," NO"),c.Ub(),c.Ub(),c.Ub(),c.Bc(27,Rl,2,1,"div",24),c.Ub(),c.Ub(),c.Vb(28,"div",58),c.Vb(29,"div",54),c.Vb(30,"label",65),c.Dc(31,"Contract Price "),c.Vb(32,"span",16),c.Dc(33,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(34,"div",56),c.Vb(35,"input",66),c.cc("ngModelChange",function(){return c.uc(e),c.gc().idleReset()}),c.Ub(),c.Bc(36,wl,2,1,"div",24),c.Ub(),c.Ub(),c.Vb(37,"div",58),c.Vb(38,"div",54),c.Vb(39,"label",67),c.Dc(40," Completion Date "),c.Vb(41,"span",16),c.Dc(42,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(43,"div",56),c.Vb(44,"input",68),c.cc("ngModelChange",function(){return c.uc(e),c.gc().idleReset()}),c.Ub(),c.Bc(45,kl,2,1,"div",24),c.Ub(),c.Ub(),c.Vb(46,"div",58),c.Vb(47,"div",54),c.Vb(48,"label",69),c.Dc(49,"City "),c.Vb(50,"span",16),c.Dc(51,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(52,"div",56),c.Vb(53,"input",70),c.cc("ngModelChange",function(){return c.uc(e),c.gc().idleReset()}),c.Ub(),c.Bc(54,Pl,2,1,"div",24),c.Ub(),c.Ub(),c.Vb(55,"div",58),c.Vb(56,"div",54),c.Vb(57,"label",71),c.Dc(58,"State "),c.Vb(59,"span",16),c.Dc(60,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(61,"div",56),c.Vb(62,"select",72),c.cc("ngModelChange",function(){return c.uc(e),c.gc().idleReset()}),c.Vb(63,"option",73),c.Dc(64,"Select"),c.Ub(),c.Bc(65,Al,2,2,"option",74),c.Ub(),c.Vb(66,"small",75),c.Dc(67,"NOTE: If your country is outside of USA, please select \u2018Other\u2019. "),c.Ub(),c.Bc(68,El,2,1,"div",24),c.Ub(),c.Ub(),c.Qb(69,"div",76),c.Ub(),c.Ub()}if(2&e){const e=c.gc();c.Db(1),c.mc("formGroup",e.currentprojectForm),c.Db(8),c.mc("ngClass",c.pc(16,sc,e.currentprojsubmitted&&e.s.projectName.errors)),c.Db(1),c.mc("ngIf",(e.s.projectName.touched||e.currentprojsubmitted)&&e.s.projectName.errors),c.Db(11),c.mc("ngClass",c.pc(18,sc,e.currentprojsubmitted&&e.s.isOwner.errors)),c.Db(3),c.mc("ngClass",c.pc(20,sc,e.currentprojsubmitted&&e.s.isOwner.errors)),c.Db(3),c.mc("ngIf",(e.s.isOwner.touched||e.currentprojsubmitted)&&e.s.isOwner.errors),c.Db(8),c.mc("ngClass",c.pc(22,sc,e.currentprojsubmitted&&e.s.contractPrice.errors)),c.Db(1),c.mc("ngIf",(e.s.contractPrice.touched||e.currentprojsubmitted)&&e.s.contractPrice.errors),c.Db(8),c.mc("ngClass",c.pc(24,sc,e.currentprojsubmitted&&e.s.completionDate.errors)),c.Db(1),c.mc("ngIf",(e.s.completionDate.touched||e.currentprojsubmitted)&&e.s.completionDate.errors),c.Db(8),c.mc("ngClass",c.pc(26,sc,e.currentprojsubmitted&&e.s.city.errors)),c.Db(1),c.mc("ngIf",(e.currentprojsubmitted||e.s.city.touched)&&e.s.city.errors),c.Db(8),c.mc("ngClass",c.pc(28,sc,e.currentprojsubmitted&&e.s.state.errors)),c.Db(1),c.mc("ngValue",""),c.Db(2),c.mc("ngForOf",e.stateNames),c.Db(3),c.mc("ngIf",(e.currentprojsubmitted||e.s.state.touched)&&e.s.state.errors)}}function Ml(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Company defaulted or failed is required "),c.Ub())}function Nl(e,t){if(1&e&&(c.Vb(0,"div",78),c.Bc(1,Ml,2,0,"div",79),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.g.is_Company_Failed.errors.required)}}function ql(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Company surety is required"),c.Ub())}function Bl(e,t){if(1&e&&(c.Vb(0,"div",78),c.Bc(1,ql,2,0,"div",79),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.g.company_Failed_Info.errors.required)}}function Ll(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Company defaulted or failed is required "),c.Ub())}function Tl(e,t){if(1&e&&(c.Vb(0,"div",78),c.Bc(1,Ll,2,0,"div",79),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.g.is_Officer_Failed.errors.required)}}function Yl(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Company surety is required"),c.Ub())}function Gl(e,t){if(1&e&&(c.Vb(0,"div",78),c.Bc(1,Yl,2,0,"div",79),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.g.officer_Failed_Info.errors.required)}}function Ql(e,t){if(1&e){const e=c.Wb();c.Vb(0,"div",91),c.Vb(1,"button",92),c.cc("click",function(){return c.uc(e),c.gc().gotoHome()}),c.Dc(2," << BACK"),c.Ub(),c.Vb(3,"button",93),c.cc("click",function(){return c.uc(e),c.gc().save()}),c.Dc(4),c.Ub(),c.Vb(5,"button",80),c.cc("click",function(){return c.uc(e),c.gc().submit()}),c.Dc(6,"NEXT >>"),c.Ub(),c.Ub()}if(2&e){const e=c.gc();c.Db(4),c.Ec(e.submitText)}}function zl(e,t){if(1&e){const e=c.Wb();c.Vb(0,"div",94),c.Vb(1,"button",92),c.cc("click",function(){return c.uc(e),c.gc().gotoHome()}),c.Dc(2," << BACK"),c.Ub(),c.Vb(3,"button",95),c.cc("click",function(){return c.uc(e),c.gc().nextroutePage()}),c.Dc(4,"NEXT >>"),c.Ub(),c.Ub()}}const $l=function(e){return{"bg-grey":e}};let Wl=(()=>{class e{constructor(e,t,i,n,a,s,c,l,d){this.formBuilder=e,this.router=t,this.bnIdle=i,this.keepalive=n,this.toastr=a,this.companyservice=s,this.loginInfo=c,this.ngxUiLoader=l,this.relevantexperience=d,this.currentForm=3,this.pastprojectForm=this.formBuilder.group({id:[0],companyId:[0],type:["1"],projectName:["",[o.w.required,o.w.maxLength(130)]],isOwner:["",[o.w.required]],contractPrice:["",[o.w.required,o.w.maxLength(40),o.w.pattern(/^-?(0|[1-9]\d*)?$/)]],completionDate:["",[o.w.required,o.w.maxLength(40)]],city:["",[o.w.required,o.w.maxLength(130)]],state:["",[o.w.required,o.w.maxLength(20)]],isAutosave:["false"],isCompleted:["false"]}),this.pastprojectForm2=this.formBuilder.group({id:[0],companyId:[0],type:["1"],projectName:["",[o.w.required,o.w.maxLength(130)]],isOwner:["",[o.w.required]],contractPrice:["",[o.w.required,o.w.maxLength(40),o.w.pattern(/^-?(0|[1-9]\d*)?$/)]],completionDate:["",[o.w.required,o.w.maxLength(40)]],city:["",[o.w.required,o.w.maxLength(130)]],state:["",[o.w.required,o.w.maxLength(20)]],isAutosave:["false"],isCompleted:["false"]}),this.currentprojectForm=this.formBuilder.group({id:[0],companyId:[0],type:["2"],projectName:["",[o.w.required,o.w.maxLength(130)]],isOwner:["",[o.w.required,o.w.maxLength(130)]],contractPrice:["",[o.w.required,o.w.maxLength(40),o.w.pattern(/^-?(0|[1-9]\d*)?$/)]],completionDate:["",[o.w.required,o.w.maxLength(40)]],city:["",[o.w.required,o.w.maxLength(130)]],state:["",[o.w.required,o.w.maxLength(20)]],isAutosave:["false"],isCompleted:["false"]}),this.currentprojectForm2=this.formBuilder.group({id:[0],companyId:[0],type:["2"],projectName:["",[o.w.required,o.w.maxLength(130)]],isOwner:["",[o.w.required,o.w.maxLength(130)]],contractPrice:["",[o.w.required,o.w.maxLength(40),o.w.pattern(/^-?(0|[1-9]\d*)?$/)]],completionDate:["",[o.w.required,o.w.maxLength(40)]],city:["",[o.w.required,o.w.maxLength(130)]],state:["",[o.w.required,o.w.maxLength(20)]],isAutosave:["false"],isCompleted:["false"]}),this.otherForm=this.formBuilder.group({is_Company_Failed:["",[o.w.required,o.w.maxLength(40)]],company_Failed_Info:[""],is_Officer_Failed:["",[o.w.required]],officer_Failed_Info:[""]}),this.temppastprojectForm=this.formBuilder.group({id:[0],companyId:[0],type:["1"],projectName:["",[o.w.required,o.w.maxLength(130)]],isOwner:["",[o.w.required]],contractPrice:["",[o.w.required,o.w.maxLength(40),o.w.pattern(/^-?(0|[1-9]\d*)?$/)]],completionDate:["",[o.w.required,o.w.maxLength(40)]],city:["",[o.w.required,o.w.maxLength(130)]],state:["",[o.w.required,o.w.maxLength(20)]],isAutosave:["false"],isCompleted:["false"]}),this.tempcurrentprojectForm=this.formBuilder.group({id:[0],companyId:[0],type:["2"],projectName:["",[o.w.required,o.w.maxLength(130)]],isOwner:["",[o.w.required,o.w.maxLength(130)]],contractPrice:["",[o.w.required,o.w.maxLength(40),o.w.pattern(/^-?(0|[1-9]\d*)?$/)]],completionDate:["",[o.w.required,o.w.maxLength(40)]],city:["",[o.w.required,o.w.maxLength(130)]],state:["",[o.w.required,o.w.maxLength(20)]],isAutosave:["false"],isCompleted:["false"]}),this.tempcompanyid=0,this.showAdmin=!1,this.submitText="SAVE",this.resetTimer=0,this.submitted=!1,this.stateNames=r,this.showpastproject=!1,this.pastprojectlist=[],this.currprojectlist=[],this.relevantid=0,this.showcurrentproject=!1,this.currentprojsubmitted=!1,this.otherSubmitted=!1,this.showEditPastProject=!1,this.disableEdit=!1,this.otherlist=[{id:0,companyId:0,type:"3",projectName:"",contractPrice:"",completionDate:new Date,isOwner:"",city:"",state:"",is_Company_Failed:"",company_Failed_Info:"",is_Officer_Failed:"",officer_Failed_Info:""}],this.pastdisabledEdit=!1,this.currdisabledEdit=!1,this.temppastsubmitted=!1,this.tempcurrentsubmitted=!1,this.showdisabled=!1,this.submitted2=!1,this.showpastproject2=!1,this.currentprojsubmitted2=!1,this.showcurrentproject2=!1,this.nextclicked=!1}ngOnInit(){this.ngxUiLoader.startLoader("loader-01"),this.prequalification_status=this.loginInfo.organization_status;let e=localStorage.getItem("userDetails");e=JSON.parse(atob(e)),this.userDetails=e,this.userRole=e.role,this.tempcompanyid=localStorage.getItem("tempcompanyid"),this.tempcompanyid=Number(atob(this.tempcompanyid)),localStorage.setItem("currPage","relevant"),this.tempcompanyid>0&&"Subcontractor"!=this.userRole&&(this.showAdmin=!0,this.relevantexperience.getRecords(this.tempcompanyid).subscribe(e=>{this.updaterelevantinfo(e)}),this.showdisabled=!0,this.pastprojectForm.disable(),this.currentprojectForm.disable(),this.pastprojectForm2.disable(),this.currentprojectForm2.disable(),this.otherForm.disable(),this.pastprojectForm.updateValueAndValidity(),this.currentprojectForm.updateValueAndValidity(),this.pastprojectForm2.updateValueAndValidity(),this.currentprojectForm2.updateValueAndValidity(),this.otherForm.updateValueAndValidity()),this.submitText="SAVE",null!=this.userDetails.vendorId&&null!=this.userDetails.taxId&&"Subcontractor"==this.userRole&&this.relevantexperience.getUser(this.userDetails.vendorId,this.userDetails.taxId).subscribe(e=>{this.companyId=e.id,localStorage.setItem("companyid",btoa(this.companyId)),this.getRecords()}),this.ngxUiLoader.stopLoader("loader-01")}ngAfterViewInit(){0==this.showAdmin&&(this.keepalive.interval(30),this.keepalive.start(),this.keepalive.stop())}ngOnDestroy(){this.keepalive.stop(),this.nextclicked||this.nextpage()}get f(){return this.pastprojectForm.controls}get f2(){return this.pastprojectForm2.controls}get s(){return this.currentprojectForm.controls}get s2(){return this.currentprojectForm2.controls}get ff(){return this.temppastprojectForm.controls}get ss(){return this.tempcurrentprojectForm.controls}get g(){return"yes"==this.otherForm.value.is_Company_Failed?this.otherForm.controls.company_Failed_Info.setValidators([o.w.required]):(this.otherForm.patchValue({company_Failed_Info:this.otherForm.value.company_Failed_Info}),this.otherForm.controls.company_Failed_Info.clearValidators()),this.otherForm.controls.company_Failed_Info.updateValueAndValidity(),"yes"==this.otherForm.value.is_Officer_Failed?this.otherForm.controls.officer_Failed_Info.setValidators([o.w.required]):(this.otherForm.patchValue({officer_Failed_Info:this.otherForm.value.officer_Failed_Info}),this.otherForm.controls.officer_Failed_Info.clearValidators()),this.otherForm.controls.officer_Failed_Info.updateValueAndValidity(),this.otherForm.controls}idleReset(){this.keepalive.start(),this.resetTimer=0}getRecords(){this.relevantexperience.getRecords(this.companyId).subscribe(e=>{e.length&&(this.submitText="UPDATE",this.updaterelevantinfo(e))}),this.companyId>0&&this.companyservice.getRecord(this.companyId).subscribe(e=>{this.prequalification_status=(e=e[0]).preQualification_Status,e.preQualification_Status&&this.loginInfo.formDisable(e.preQualification_Status)&&(this.showdisabled=!0,this.pastprojectForm.disable(),this.currentprojectForm.disable(),this.otherForm.disable(),this.pastprojectForm2.disable(),this.currentprojectForm2.disable(),this.pastprojectForm.updateValueAndValidity(),this.currentprojectForm.updateValueAndValidity(),this.pastprojectForm2.updateValueAndValidity(),this.currentprojectForm2.updateValueAndValidity(),this.otherForm.updateValueAndValidity())})}updaterelevantinfo(e){this.pastprojectlist=[],this.currprojectlist=[],e.filter(e=>{"1"==e.type&&(this.pastprojectlist.push({id:e.id,companyId:e.companyId,type:e.type,projectName:this.loginInfo.validateEmpty(e.projectName),contractPrice:this.loginInfo.validateEmpty(e.contractPrice),completionDate:"2099-12-31T00:00:00"==this.loginInfo.validateEmpty(e.completionDate)?"":this.loginInfo.validateEmpty(e.completionDate),isOwner:this.loginInfo.validateEmpty(e.isOwner),city:this.loginInfo.validateEmpty(e.city),state:this.loginInfo.validateEmpty(e.state),is_Company_Failed:this.loginInfo.validateEmpty(e.is_Company_Failed),company_Failed_Info:this.validateEmpty(e.company_Failed_Info),is_Officer_Failed:this.loginInfo.validateEmpty(e.is_Officer_Failed),officer_Failed_Info:this.validateEmpty(e.officer_Failed_Info),showEdit:!1}),1==this.pastprojectlist.length?(this.showpastproject=!1,this.showpastproject2=!0):this.pastprojectlist.length>1&&(this.showpastproject=!0,this.showpastproject2=!0)),"2"==e.type&&(console.log(e),this.currprojectlist.push({id:e.id,companyId:e.companyId,type:e.type,projectName:this.loginInfo.validateEmpty(e.projectName),contractPrice:this.loginInfo.validateEmpty(e.contractPrice),completionDate:"2099-12-31T00:00:00"==this.loginInfo.validateEmpty(e.completionDate)?"":this.loginInfo.validateEmpty(e.completionDate),isOwner:this.loginInfo.validateEmpty(e.isOwner),city:this.loginInfo.validateEmpty(e.city),state:this.loginInfo.validateEmpty(e.state),is_Company_Failed:this.loginInfo.validateEmpty(e.is_Company_Failed),company_Failed_Info:this.validateEmpty(e.company_Failed_Info),is_Officer_Failed:this.loginInfo.validateEmpty(e.is_Officer_Failed),officer_Failed_Info:this.validateEmpty(e.officer_Failed_Info),showEdit:!1}),1==this.currprojectlist.length?(this.showcurrentproject=!1,this.showcurrentproject2=!0):this.currprojectlist.length>1&&(this.showcurrentproject=!0,this.showcurrentproject2=!0,this.showdisabled=!1)),"3"==e.type&&(console.log(e.company_Failed_Info,this.validateEmpty(e.company_Failed_Info)),this.otherForm.patchValue({is_Company_Failed:e.is_Company_Failed,company_Failed_Info:this.validateEmpty(e.company_Failed_Info),is_Officer_Failed:e.is_Officer_Failed,officer_Failed_Info:this.validateEmpty(e.officer_Failed_Info)}),this.otherlist[0].companyId=this.companyId,this.otherlist[0].id=e.id,this.otherlist[0].is_Company_Failed=this.loginInfo.validateEmpty(e.is_Company_Failed),this.otherlist[0].company_Failed_Info=this.loginInfo.validateEmpty(e.company_Failed_Info),this.otherlist[0].is_Officer_Failed=this.loginInfo.validateEmpty(e.is_Officer_Failed),this.otherlist[0].officer_Failed_Info=this.loginInfo.validateEmpty(e.officer_Failed_Info))}),0==this.pastprojectlist.length&&(this.showpastproject=!1,this.showpastproject2=!1),0==this.currprojectlist.length&&(this.showcurrentproject=!1,this.showcurrentproject2=!1)}submit(){if(this.otherSubmitted=!0,this.keepalive.stop(),"Subcontractor"!=this.userRole)this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`]);else if(this.companyId>0){this.nextclicked=!0,this.pastprojectFormcheckformValidation(),this.pastprojectForm2checkformValidation(),this.currentprojectcheckformValidation(),this.currentproject2checkformValidation(),this.temppastprojectFormcheckformValidation(),this.tempcurrprojectFormcheckformValidation(),this.otherlist[0].companyId=this.companyId,this.otherlist[0].is_Company_Failed=this.otherForm.value.is_Company_Failed,this.otherlist[0].company_Failed_Info=this.otherForm.value.company_Failed_Info,this.otherlist[0].is_Officer_Failed=this.otherForm.value.is_Officer_Failed,this.otherlist[0].officer_Failed_Info=this.otherForm.value.officer_Failed_Info;let e=this.saveForms();console.log(e);let t={id:0,companyId:this.companyId,experienceLineDTO:e};e.length&&(this.pastprojectForm.patchValue({isAutosave:!1}),this.relevantexperience.addRecord(t).subscribe(e=>{this.getRecords(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])}))}}autosave(){if(this.resetTimer+=1,1==this.resetTimer){this.pastprojectFormcheckformValidation(),this.pastprojectForm2checkformValidation(),this.currentprojectcheckformValidation(),this.currentproject2checkformValidation(),this.temppastprojectFormcheckformValidation(),this.tempcurrprojectFormcheckformValidation(),this.otherlist[0].companyId=this.companyId,this.otherlist[0].is_Company_Failed=this.otherForm.value.is_Company_Failed,this.otherlist[0].company_Failed_Info=this.otherForm.value.company_Failed_Info,this.otherlist[0].is_Officer_Failed=this.otherForm.value.is_Officer_Failed,this.otherlist[0].officer_Failed_Info=this.otherForm.value.officer_Failed_Info;let e=this.saveForms();console.log(e);let t={id:0,companyId:this.companyId,experienceLineDTO:e};e.length&&(this.pastprojectForm.patchValue({isAutosave:!1}),this.relevantexperience.addRecord(t).subscribe(e=>{this.getRecords()}))}}save(){if(this.otherSubmitted=!0,this.keepalive.stop(),this.companyId>0){let e=!1;this.showpastproject||(e=!0,this.addpastproject()),this.showcurrentproject||(e=!0,this.addcurrproject()),this.otherlist[0].companyId=this.companyId,this.otherlist[0].is_Company_Failed=this.otherForm.value.is_Company_Failed,this.otherlist[0].company_Failed_Info=this.otherForm.value.company_Failed_Info,this.otherlist[0].is_Officer_Failed=this.otherForm.value.is_Officer_Failed,this.otherlist[0].officer_Failed_Info=this.otherForm.value.officer_Failed_Info;let t=this.saveForms(),i={id:0,companyId:this.companyId,experienceLineDTO:t};console.log(t),e||(t.length&&this.pastprojectlist.length>1&&this.currprojectlist.length>1?this.relevantexperience.addRecord(i).subscribe(e=>{this.pastprojectForm.reset(),this.currentprojectForm.reset(),this.getRecords(),this.submitText="UPDATE",this.toastr.success("Relevant experience saved successfully","Relevant Experience")}):this.firstForms())}}nextpage(){if("Subcontractor"==this.userRole){this.pastprojectFormcheckformValidation(),this.pastprojectForm2checkformValidation(),this.currentprojectcheckformValidation(),this.currentproject2checkformValidation(),this.temppastprojectFormcheckformValidation(),this.tempcurrprojectFormcheckformValidation(),this.otherlist[0].companyId=this.companyId,this.otherlist[0].is_Company_Failed=this.otherForm.value.is_Company_Failed,this.otherlist[0].company_Failed_Info=this.otherForm.value.company_Failed_Info,this.otherlist[0].is_Officer_Failed=this.otherForm.value.is_Officer_Failed,this.otherlist[0].officer_Failed_Info=this.otherForm.value.officer_Failed_Info;let e=this.saveForms();console.log(e);let t={id:0,companyId:this.companyId,experienceLineDTO:e};e.length&&(this.pastprojectForm.patchValue({isAutosave:!1}),this.relevantexperience.addRecord(t).subscribe(e=>{}))}}saveOther(){this.otherlist.length&&(this.otherlist[0].companyId=this.companyId,this.otherlist[0].is_Company_Failed=this.otherForm.value.is_Company_Failed,this.otherlist[0].company_Failed_Info=this.otherForm.value.company_Failed_Info,this.otherlist[0].is_Officer_Failed=this.otherForm.value.is_Officer_Failed,this.otherlist[0].officer_Failed_Info=this.otherForm.value.officer_Failed_Info)}firstForms(){console.log(this.pastprojectForm),this.addpastproject(),this.addcurrproject(),this.addpastproject2(),this.addcurrproject2(),this.pastprojectlist.length>1&&this.currprojectlist.length>1&&this.otherForm.valid&&this.save()}firstFormssubmit(){console.log(this.pastprojectForm),this.addpastproject(),this.addcurrproject(),this.addpastproject2(),this.addcurrproject2(),this.pastprojectlist.length>1&&this.currprojectlist.length>1&&this.otherForm.valid&&this.submit()}saveForms(){let e=[];return this.pastprojectlist.filter(t=>{e.push(t)}),this.currprojectlist.filter(t=>{e.push(t)}),this.otherlist.filter(t=>{e.push(t)}),console.log(e),e}autoSave(){if(this.pastprojectForm.patchValue({companyId:this.companyId}),this.companyId>0){let e=this.saveForms(),t={companyId:this.companyId,referenceLineDTO:this.saveForms()};this.resetTimer+=1,1==this.resetTimer&&e.length&&0==this.relevantid&&(this.pastprojectForm.patchValue({isAutosave:!1}),this.relevantexperience.addRecord(t).subscribe(e=>{this.submitText="UPDATE",this.keepalive.stop(),this.getRecords()}))}}gotoHome(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm-1].url}`])}addpastproject(){this.submitted=!0,console.log(this.pastprojectForm),this.pastprojectForm.valid&&(this.pastprojectlist.push({id:0,companyId:this.companyId,type:"1",projectName:this.pastprojectForm.value.projectName?this.pastprojectForm.value.projectName:"",contractPrice:this.pastprojectForm.value.contractPrice?String(this.pastprojectForm.value.contractPrice):"",completionDate:this.pastprojectForm.value.completionDate?this.pastprojectForm.value.completionDate:"",isOwner:this.pastprojectForm.value.isOwner,city:this.pastprojectForm.value.city,state:this.pastprojectForm.value.state,is_Company_Failed:this.otherForm.value.is_Company_Failed,company_Failed_Info:String(this.otherForm.value.company_Failed_Info)?String(this.otherForm.value.company_Failed_Info):"",is_Officer_Failed:this.otherForm.value.is_Officer_Failed,officer_Failed_Info:this.otherForm.value.officer_Failed_Info,isAutosave:!1,isCompleted:!1,showEdit:!1}),console.log(this.pastprojectlist),this.showpastproject=!0,this.pastprojectForm.reset(),this.submitted=!1)}addpastproject2(){this.submitted2=!0,console.log(this.pastprojectForm2),this.pastprojectForm2.valid&&(this.pastprojectlist.push({id:0,companyId:this.companyId,type:"1",projectName:this.pastprojectForm2.value.projectName?this.pastprojectForm2.value.projectName:"",contractPrice:this.pastprojectForm2.value.contractPrice?String(this.pastprojectForm2.value.contractPrice):"",completionDate:this.pastprojectForm2.value.completionDate?this.pastprojectForm2.value.completionDate:"",isOwner:this.pastprojectForm2.value.isOwner,city:this.pastprojectForm2.value.city,state:this.pastprojectForm2.value.state,is_Company_Failed:this.otherForm.value.is_Company_Failed,company_Failed_Info:String(this.otherForm.value.company_Failed_Info)?String(this.otherForm.value.company_Failed_Info):"",is_Officer_Failed:this.otherForm.value.is_Officer_Failed,officer_Failed_Info:this.otherForm.value.officer_Failed_Info,isAutosave:!1,isCompleted:!1,showEdit:!1}),console.log(this.pastprojectlist),this.showpastproject2=!0,this.pastprojectForm2.reset(),this.submitted2=!1)}addcurrproject(){this.currentprojsubmitted=!0,console.log(this.currentprojectForm),this.currentprojectForm.valid&&(this.currprojectlist.push({id:0,companyId:this.companyId,type:"2",projectName:this.currentprojectForm.value.projectName?this.currentprojectForm.value.projectName:"",contractPrice:this.currentprojectForm.value.contractPrice?String(this.currentprojectForm.value.contractPrice):"",completionDate:this.currentprojectForm.value.completionDate?this.currentprojectForm.value.completionDate:"",isOwner:this.currentprojectForm.value.isOwner,city:this.currentprojectForm.value.city,state:this.currentprojectForm.value.state,is_Company_Failed:this.otherForm.value.is_Company_Failed,company_Failed_Info:String(this.otherForm.value.company_Failed_Info)?String(this.otherForm.value.company_Failed_Info):"",is_Officer_Failed:this.otherForm.value.is_Officer_Failed,officer_Failed_Info:this.otherForm.value.officer_Failed_Info,isAutosave:!1,isCompleted:!1,showEdit:!1}),console.log(this.currprojectlist),this.showcurrentproject=!0,this.currentprojectForm.reset(),this.currentprojsubmitted=!1)}addcurrproject2(){this.currentprojsubmitted2=!0,console.log(this.currentprojectForm2),this.currentprojectForm2.valid&&(this.currprojectlist.push({id:0,companyId:this.companyId,type:"2",projectName:this.currentprojectForm2.value.projectName?this.currentprojectForm2.value.projectName:"",contractPrice:this.currentprojectForm2.value.contractPrice?String(this.currentprojectForm2.value.contractPrice):"",completionDate:this.currentprojectForm2.value.completionDate?this.currentprojectForm2.value.completionDate:"",isOwner:this.currentprojectForm2.value.isOwner,city:this.currentprojectForm2.value.city,state:this.currentprojectForm2.value.state,is_Company_Failed:this.otherForm.value.is_Company_Failed,company_Failed_Info:String(this.otherForm.value.company_Failed_Info)?String(this.otherForm.value.company_Failed_Info):"",is_Officer_Failed:this.otherForm.value.is_Officer_Failed,officer_Failed_Info:this.otherForm.value.officer_Failed_Info,isAutosave:!1,isCompleted:!1,showEdit:!1}),console.log(this.currprojectlist),this.showcurrentproject2=!0,this.currentprojectForm2.reset(),this.currentprojsubmitted2=!1)}removeRelevant(e,t){console.log(t,e),this.showdisabled||(0==t.id?("1"==t.type&&(this.pastprojectlist.splice(e,1),0==this.pastprojectlist.length&&(this.showpastproject=!1)),"2"==t.type&&(this.currprojectlist.splice(e,1),0==this.currprojectlist.length&&(this.showcurrentproject=!1))):this.relevantexperience.deleteRecord(t.id).subscribe(i=>{this.getRecords(),"1"==t.type&&(this.pastprojectlist.splice(e,1),this.showpastproject=!1),"2"==t.type&&(this.currprojectlist.splice(e,1),this.showcurrentproject=!1)}),this.toastr.info("Relevant Experience project removed successfully","Relevant Experience"))}validateEmpty(e){return null==e||"null"==e||null==e||"undefined"==e?"":e}editrelevant(e,t){var i,n;console.log(t),this.showdisabled||(this.disableEdit=!0,"1"==t.type&&(this.pastprojectlist[e].showEdit=!0,this.temppastindex=e,this.pastdisabledEdit=!0,this.temppastprojectForm.patchValue({projectName:t.projectName,contractPrice:t.contractPrice,completionDate:null===(i=t.completionDate)||void 0===i?void 0:i.split("T")[0],isOwner:t.isOwner,city:t.city,state:t.state})),"2"==t.type&&(this.currprojectlist[e].showEdit=!0,this.tempcurrentindex=e,this.currdisabledEdit=!0,this.tempcurrentprojectForm.patchValue({projectName:t.projectName,contractPrice:t.contractPrice,completionDate:null===(n=t.completionDate)||void 0===n?void 0:n.split("T")[0],isOwner:t.isOwner,city:t.city,state:t.state})))}pastprojectFormcheckformValidation(){console.log(""!=this.pastprojectForm.value.projectName||""!=this.pastprojectForm.value.contractPrice||""!=this.pastprojectForm.value.completionDate||""!=this.pastprojectForm.value.isOwner||""!=this.pastprojectForm.value.state),""==this.pastprojectForm.value.projectName&&""==this.pastprojectForm.value.contractPrice&&""==this.pastprojectForm.value.completionDate&&""==this.pastprojectForm.value.isOwner&&""==this.pastprojectForm.value.state||(this.pastprojectlist.push({id:0,companyId:this.companyId,type:"1",projectName:this.pastprojectForm.value.projectName?this.pastprojectForm.value.projectName:"",contractPrice:String(this.pastprojectForm.value.contractPrice)?String(this.pastprojectForm.value.contractPrice):"",completionDate:""==this.loginInfo.validateEmpty(this.pastprojectForm.value.completionDate)?"2099-12-31":"",isOwner:this.pastprojectForm.value.isOwner,city:this.pastprojectForm.value.city,state:this.pastprojectForm.value.state,is_Email:0}),this.pastprojectForm.reset(),console.log(this.pastprojectlist))}pastprojectForm2checkformValidation(){console.log(""!=this.pastprojectForm2.value.projectName||""!=this.pastprojectForm2.value.contractPrice||""!=this.pastprojectForm2.value.completionDate||""!=this.pastprojectForm2.value.isOwner||""!=this.pastprojectForm2.value.city||""!=this.pastprojectForm2.value.state),""==this.pastprojectForm2.value.projectName&&""==this.pastprojectForm2.value.contractPrice&&""==this.pastprojectForm2.value.completionDate&&""==this.pastprojectForm2.value.isOwner&&""==this.pastprojectForm2.value.state||(this.pastprojectlist.push({id:0,companyId:this.companyId,type:"1",projectName:this.pastprojectForm2.value.projectName?this.pastprojectForm2.value.projectName:"",contractPrice:String(this.pastprojectForm2.value.contractPrice)?String(this.pastprojectForm2.value.contractPrice):"",completionDate:""==this.loginInfo.validateEmpty(this.pastprojectForm2.value.completionDate)?"2099-12-31":"",isOwner:this.pastprojectForm2.value.isOwner,city:this.pastprojectForm2.value.city,state:this.pastprojectForm2.value.state,is_Email:0}),this.pastprojectForm2.reset(),console.log(this.pastprojectlist))}currentprojectcheckformValidation(){""==this.currentprojectForm.value.projectName&&""==this.currentprojectForm.value.contractPrice&&""==this.currentprojectForm.value.completionDate&&""==this.currentprojectForm.value.isOwner&&""==this.currentprojectForm.value.state||(this.currprojectlist.push({id:0,companyId:this.companyId,type:"2",projectName:this.currentprojectForm.value.projectName?this.currentprojectForm.value.projectName:"",contractPrice:String(this.currentprojectForm.value.contractPrice)?String(this.currentprojectForm.value.contractPrice):"",completionDate:""==this.loginInfo.validateEmpty(this.currentprojectForm.value.completionDate)?"2099-12-31":"",isOwner:this.currentprojectForm.value.isOwner,city:this.currentprojectForm.value.city,state:this.currentprojectForm.value.state,is_Email:0}),this.currentprojectForm.reset())}currentproject2checkformValidation(){""==this.currentprojectForm2.value.projectName&&""==this.currentprojectForm2.value.contractPrice&&""==this.currentprojectForm2.value.completionDate&&""==this.currentprojectForm2.value.isOwner&&""==this.currentprojectForm2.value.state||(this.currprojectlist.push({id:0,companyId:this.companyId,type:"2",projectName:this.currentprojectForm2.value.projectName?this.currentprojectForm2.value.projectName:"",contractPrice:String(this.currentprojectForm2.value.contractPrice)?String(this.currentprojectForm2.value.contractPrice):"",completionDate:""==this.loginInfo.validateEmpty(this.currentprojectForm2.value.completionDate)?"2099-12-31":"",isOwner:this.currentprojectForm2.value.isOwner,city:this.currentprojectForm2.value.city,state:this.currentprojectForm2.value.state,is_Email:0}),this.currentprojectForm2.reset())}temppastprojectFormcheckformValidation(){""==this.temppastprojectForm.value.projectName&&""==this.temppastprojectForm.value.contractPrice&&""==this.temppastprojectForm.value.completionDate&&""==this.temppastprojectForm.value.isOwner&&""==this.temppastprojectForm.value.state||(this.pastprojectlist[this.temppastindex].showEdit=!1,this.pastprojectlist[this.temppastindex].projectName=this.validateEmpty(this.temppastprojectForm.value.projectName),this.pastprojectlist[this.temppastindex].contractPrice=this.validateEmpty(String(this.temppastprojectForm.value.contractPrice)),this.pastprojectlist[this.temppastindex].completionDate=this.validateEmpty(this.temppastprojectForm.value.completionDate),this.pastprojectlist[this.temppastindex].isOwner=this.validateEmpty(this.temppastprojectForm.value.isOwner),this.pastprojectlist[this.temppastindex].city=this.validateEmpty(this.temppastprojectForm.value.city),this.pastprojectlist[this.temppastindex].state=this.validateEmpty(this.temppastprojectForm.value.state),this.temppastprojectForm.reset(),this.pastdisabledEdit=!1,this.temppastsubmitted=!1)}tempcurrprojectFormcheckformValidation(){""==this.tempcurrentprojectForm.value.projectName&&""==this.tempcurrentprojectForm.value.contractPrice&&""==this.tempcurrentprojectForm.value.completionDate&&""==this.tempcurrentprojectForm.value.isOwner&&""==this.tempcurrentprojectForm.value.state||(this.currprojectlist[this.tempcurrentindex].showEdit=!1,this.currprojectlist[this.tempcurrentindex].projectName=this.validateEmpty(this.tempcurrentprojectForm.value.projectName),this.currprojectlist[this.tempcurrentindex].contractPrice=this.validateEmpty(String(this.tempcurrentprojectForm.value.contractPrice)),this.currprojectlist[this.tempcurrentindex].completionDate=this.validateEmpty(this.tempcurrentprojectForm.value.completionDate),this.currprojectlist[this.tempcurrentindex].isOwner=this.validateEmpty(this.tempcurrentprojectForm.value.isOwner),this.currprojectlist[this.tempcurrentindex].city=this.validateEmpty(this.tempcurrentprojectForm.value.city),this.currprojectlist[this.tempcurrentindex].state=this.validateEmpty(this.tempcurrentprojectForm.value.state),this.tempcurrentprojectForm.reset(),this.currdisabledEdit=!1,this.tempcurrentsubmitted=!1)}relevantupdate(e,t){this.showdisabled||"1"==t.type&&(this.temppastsubmitted=!0,this.temppastprojectForm.valid&&(this.pastprojectlist[e].showEdit=!1,this.pastprojectlist[e].projectName=this.validateEmpty(this.temppastprojectForm.value.projectName),this.pastprojectlist[e].contractPrice=this.validateEmpty(String(this.temppastprojectForm.value.contractPrice)),this.pastprojectlist[e].completionDate=this.validateEmpty(this.temppastprojectForm.value.completionDate),this.pastprojectlist[e].isOwner=this.validateEmpty(this.temppastprojectForm.value.isOwner),this.pastprojectlist[e].city=this.validateEmpty(this.temppastprojectForm.value.city),this.pastprojectlist[e].state=this.validateEmpty(this.temppastprojectForm.value.state),this.pastprojectForm.reset(),this.pastdisabledEdit=!1,this.temppastsubmitted=!1)),"2"==t.type&&(this.temppastsubmitted=!0,this.temppastprojectForm.valid&&(this.currprojectlist[e].showEdit=!1,this.currprojectlist[e].projectName=this.validateEmpty(this.tempcurrentprojectForm.value.projectName),this.currprojectlist[e].contractPrice=this.validateEmpty(String(this.tempcurrentprojectForm.value.contractPrice)),this.currprojectlist[e].completionDate=this.validateEmpty(this.tempcurrentprojectForm.value.completionDate),this.currprojectlist[e].isOwner=this.validateEmpty(this.tempcurrentprojectForm.value.isOwner),this.currprojectlist[e].city=this.validateEmpty(this.tempcurrentprojectForm.value.city),this.currprojectlist[e].state=this.validateEmpty(this.tempcurrentprojectForm.value.state),this.tempcurrentprojectForm.reset(),this.currdisabledEdit=!1,this.tempcurrentsubmitted=!1)),this.disableEdit=!1}cancelpastUpdate(e,t){"1"==t.type?(this.pastprojectlist[e].showEdit=!1,this.pastdisabledEdit=!1,this.temppastprojectForm.reset(),this.temppastsubmitted=!1):"2"==t.type&&(this.currprojectlist[e].showEdit=!1,this.currdisabledEdit=!1,this.tempcurrentprojectForm.reset(),this.tempcurrentsubmitted=!1)}nextroutePage(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(o.d),c.Pb(a.f),c.Pb(d.a),c.Pb(m.a),c.Pb(h.b),c.Pb(l.a),c.Pb(v),c.Pb(y.c),c.Pb(Ys))},e.\u0275cmp=c.Jb({type:e,selectors:[["app-relevant-experience"]],decls:73,vars:48,consts:[[1,"px-2","py-2","my-2","form-bg"],[1,"form-group","input-group","row","mt-2"],[1,"col-lg-6","py-2","mx-auto","bg-white","col-curve-top","col-head-1"],[1,"row","mx-auto","py-2"],[1,"col-12"],["claas","fw-bold"],["class","mt-2",4,"ngIf"],["class","mt-2 text-end",4,"ngIf"],["class","record-shadow p-3 mt-3",4,"ngIf"],[1,"col-lg-6","py-2","mx-auto","bg-white","col-curve-top"],[1,"px-2",3,"formGroup","keydown.enter"],[1,"row","form-group","input-group","row","mt-2"],[1,"col-lg-6","py-2","mx-auto","bg-white","col-curve","col-head-1"],[3,"formGroup","keydown.enter"],[1,"row","mx-0","px-0","py-2"],["for","is_Company_Failed",1,"my-auto","font-italic","float-right"],[1,"text-danger"],[1,"row","pt-1"],[1,"col-lg-2"],["type","radio","formControlName","is_Company_Failed","value","yes","checked","checked","name","is_Company_Failed","id","is_Company_Failed_yes",3,"ngClass","ngModelChange"],["for","is_Company_Failed_yes"],[1,"col-lg-10"],["type","radio","formControlName","is_Company_Failed","value","no","name","is_Company_Failed","id","is_Company_Failed_no",3,"ngClass","ngModelChange"],["for","is_Company_Failed_no"],["class","invalid-feedback",4,"ngIf"],[1,"mr-4","mt-1"],[1,"note","fw-bold",3,"ngClass"],[1,"col-lg-12","bg-white"],["formControlName","company_Failed_Info","id","company_Failed_Info","name","company_Failed_Info",1,"form-control",3,"ngClass","ngModelChange"],[1,"row","px-2"],["for","is_Officer_Failed",1,"my-auto","font-italic","float-right"],["type","radio","formControlName","is_Officer_Failed","value","yes","checked","checked","name","is_Officer_Failed","id","is_Officer_Failed_yes",3,"ngClass","ngModelChange"],["for","is_Officer_Failed_yes"],["type","radio","formControlName","is_Officer_Failed","value","no","name","is_Officer_Failed","id","is_Officer_Failed_no",3,"ngClass","ngModelChange"],["for","is_Officer_Failed_no"],["formControlName","officer_Failed_Info","id","officer_Failed_Info","name","officer_Failed_Info",1,"form-control",3,"ngClass","ngModelChange"],[1,"col-lg-6","py-2","mx-auto","bg-white","col-curve"],["class","text-end mx-lg-4 my-3",4,"ngIf"],["class","text-end mx-4 my-3",4,"ngIf"],[1,"mt-2"],[4,"ngFor","ngForOf"],["class","row mx-auto record-shadow py-2 mt-3",4,"ngIf"],[1,"row","mx-auto","record-shadow","py-2","mt-3"],[1,"col-6","pt-2"],[1,"fw-bold"],[1,"float-left"],[1,"float-end"],["class","fa fa-edit edit me-2",3,"click",4,"ngIf"],[1,"fa","fa-times-circle","fileclose",3,"click"],[1,"col-6"],[1,"fa","fa-edit","edit","me-2",3,"click"],[1,"record-shadow","p-3","mt-3"],[1,"px-2",3,"formGroup"],[1,"row"],[1,"col-5"],["for","owner-projectName",1,"my-auto","font-italic"],[1,"col-7"],["type","text","formControlName","projectName","id","owner-project-Name","name","owner-projectName",1,"form-control",3,"ngClass","ngModelChange"],[1,"row","pt-2"],["for","isOwner",1,"my-auto","font-italic"],[1,"col-lg-4"],["type","radio","formControlName","isOwner","value","yes","name","isOwner","id","isOwner_yes",3,"ngModelChange"],["for","isOwner_yes",3,"ngClass"],["type","radio","formControlName","isOwner","value","no","name","isOwner","id","isOwner",3,"ngClass","ngModelChange"],["for","isOwner"],["for","owner-contractPrice",1,"my-auto","font-italic"],["type","number","formControlName","contractPrice","id","owner-project-Name","name","owner-contractPrice",1,"form-control",3,"ngClass","ngModelChange"],["for","owner-completionDate",1,"my-auto","font-italic"],["type","date","formControlName","completionDate","id","owner-project-Name","name","owner-completionDate",1,"form-control",3,"ngClass","ngModelChange"],["for","city",1,"my-auto","font-italic"],["type","text","formControlName","city","id","city","name","city",1,"form-control",3,"ngClass","ngModelChange"],["for","state",1,"my-auto","font-italic","float-right"],["formControlName","state","id","state","name","state",1,"form-control","form-select",3,"ngClass","ngModelChange"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"note","fw-bold","p-0","pt-3"],[1,"mt-2","text-end"],["type","button","class","btn mx-2 default-btn",3,"click",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],["type","button",1,"btn","mx-2","default-btn",3,"click"],["type","radio","formControlName","isOwner","value","yes","checked","checked","name","isOwner","id","isOwner_yes",3,"ngModelChange"],[1,"col-lg-8"],["type","radio","formControlName","isOwner","value","yes","checked","checked","name","isOwner","id","isOwner_yes2",3,"ngModelChange"],["for","isOwner_yes2",3,"ngClass"],["type","radio","formControlName","isOwner","value","no","name","isOwner","id","isOwner2",3,"ngClass","ngModelChange"],["for","isOwner2"],["type","radio","formControlName","isOwner","value","yes","checked","checked","name","isOwner","id","isOwner_yes22",3,"ngModelChange"],["for","isOwner_yes22",3,"ngClass"],["type","radio","formControlName","isOwner","value","no","name","isOwner","id","isOwner22",3,"ngClass","ngModelChange"],["for","isOwner22"],[1,"text-end","mx-lg-4","my-3"],[1,"btn","float-start","btn","default-btn",3,"click"],["type","button",1,"btn","ml-4","default-btn",3,"click"],[1,"text-end","mx-4","my-3"],[1,"btn","btn-success","mx-2","default-btn",3,"click"]],template:function(e,t){1&e&&(c.Vb(0,"div",0),c.Vb(1,"div",1),c.Vb(2,"div",2),c.Vb(3,"div",3),c.Vb(4,"div",4),c.Vb(5,"h6",5),c.Dc(6,"1. Past Project Experience"),c.Ub(),c.Bc(7,dc,2,1,"div",6),c.Bc(8,mc,2,1,"div",7),c.Bc(9,Rc,70,30,"div",8),c.Bc(10,Bc,70,30,"div",8),c.Ub(),c.Ub(),c.Ub(),c.Vb(11,"div",9),c.Vb(12,"form",10),c.cc("keydown.enter",function(e){return e.preventDefault()}),c.Vb(13,"div",3),c.Vb(14,"div",4),c.Vb(15,"h6",5),c.Dc(16,"2. Current Projects Experience"),c.Ub(),c.Bc(17,rl,2,1,"div",6),c.Bc(18,cl,2,1,"div",7),c.Bc(19,Ul,70,30,"div",8),c.Bc(20,jl,70,30,"div",8),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(21,"div",11),c.Vb(22,"div",12),c.Vb(23,"form",13),c.cc("keydown.enter",function(e){return e.preventDefault()}),c.Vb(24,"div",14),c.Vb(25,"h6",5),c.Dc(26,"3. Other"),c.Ub(),c.Vb(27,"div",4),c.Vb(28,"label",15),c.Dc(29,"In the past three (3) years from today's date, has your company defaulted, been terminated for cause or failed to complete a construction contract awarded to it?"),c.Vb(30,"span",16),c.Dc(31,"*"),c.Ub(),c.Ub(),c.Vb(32,"div",17),c.Vb(33,"span",18),c.Vb(34,"input",19),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Vb(35,"label",20),c.Dc(36," YES"),c.Ub(),c.Ub(),c.Vb(37,"span",21),c.Vb(38,"input",22),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Vb(39,"label",23),c.Dc(40," NO"),c.Ub(),c.Ub(),c.Ub(),c.Bc(41,Nl,2,1,"div",24),c.Vb(42,"div",25),c.Vb(43,"small",26),c.Dc(44,"If yes, describe circumstances, including dates and owner, and if applicable, your company's surety:"),c.Ub(),c.Ub(),c.Vb(45,"div",27),c.Vb(46,"textarea",28),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Bc(47,Bl,2,1,"div",24),c.Ub(),c.Ub(),c.Ub(),c.Vb(48,"div",29),c.Vb(49,"div",4),c.Vb(50,"label",30),c.Dc(51,"In the past three (3) years from today's date has any officer, partner, joint venture or proprietor of your company ever failed to complete a construction contract awarded to that person or entity in their name or on behalf of another organization?"),c.Vb(52,"span",16),c.Dc(53,"*"),c.Ub(),c.Ub(),c.Vb(54,"div",17),c.Vb(55,"span",18),c.Vb(56,"input",31),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Vb(57,"label",32),c.Dc(58," YES"),c.Ub(),c.Ub(),c.Vb(59,"span",21),c.Vb(60,"input",33),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Vb(61,"label",34),c.Dc(62," NO"),c.Ub(),c.Ub(),c.Ub(),c.Bc(63,Tl,2,1,"div",24),c.Vb(64,"div",25),c.Vb(65,"small",26),c.Dc(66,"If yes, describe circumstances:"),c.Ub(),c.Ub(),c.Vb(67,"div",27),c.Vb(68,"textarea",35),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Bc(69,Gl,2,1,"div",24),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Qb(70,"div",36),c.Ub(),c.Ub(),c.Bc(71,Ql,7,1,"div",37),c.Bc(72,zl,5,0,"div",38)),2&e&&(c.Db(7),c.mc("ngIf",t.pastprojectlist.length),c.Db(1),c.mc("ngIf",t.showpastproject),c.Db(1),c.mc("ngIf",!t.showpastproject),c.Db(1),c.mc("ngIf",!t.showpastproject2),c.Db(2),c.mc("formGroup",t.currentprojectForm),c.Db(5),c.mc("ngIf",t.currprojectlist.length),c.Db(1),c.mc("ngIf",t.showcurrentproject),c.Db(1),c.mc("ngIf",!t.showcurrentproject2),c.Db(1),c.mc("ngIf",!t.showcurrentproject),c.Db(3),c.mc("formGroup",t.otherForm),c.Db(11),c.mc("ngClass",c.pc(28,sc,t.otherSubmitted&&t.g.is_Company_Failed.errors)),c.Db(4),c.mc("ngClass",c.pc(30,sc,t.otherSubmitted&&t.g.is_Company_Failed.errors)),c.Db(3),c.mc("ngIf",t.otherSubmitted&&t.g.is_Company_Failed.errors),c.Db(2),c.mc("ngClass",c.pc(32,$l,"no"==t.g.is_Company_Failed.value)),c.Db(3),c.mc("ngClass",c.pc(34,sc,t.otherSubmitted&&t.g.company_Failed_Info.errors))("ngClass",c.pc(36,$l,"no"==t.g.is_Company_Failed.value)),c.Eb("disabled","no"==t.g.is_Company_Failed.value?"":null),c.Db(1),c.mc("ngIf",t.otherSubmitted&&t.g.company_Failed_Info.errors),c.Db(9),c.mc("ngClass",c.pc(38,sc,t.otherSubmitted&&t.g.is_Officer_Failed.errors)),c.Db(4),c.mc("ngClass",c.pc(40,sc,t.otherSubmitted&&t.g.is_Officer_Failed.errors)),c.Db(3),c.mc("ngIf",t.otherSubmitted&&t.g.is_Officer_Failed.errors),c.Db(2),c.mc("ngClass",c.pc(42,$l,"no"==t.g.is_Officer_Failed.value)),c.Db(3),c.mc("ngClass",c.pc(44,sc,t.otherSubmitted&&t.g.officer_Failed_Info.errors))("ngClass",c.pc(46,$l,"no"==t.g.is_Officer_Failed.value)),c.Eb("disabled","no"==t.g.is_Officer_Failed.value?"":null),c.Db(1),c.mc("ngIf",t.otherSubmitted&&t.g.officer_Failed_Info.errors),c.Db(2),c.mc("ngIf",!(t.showAdmin||t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status)),c.Db(1),c.mc("ngIf",!t.showAdmin&&t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status||t.showAdmin))},directives:[n.m,o.x,o.m,o.g,o.s,o.b,o.l,o.f,n.k,n.l,o.q,o.v,o.p,o.y],pipes:[n.e],styles:[".record-shadow[_ngcontent-%COMP%]{border:1px solid #ddd;box-shadow:0 .5rem 1rem rgba(0,0,0,.15)!important}.file-close[_ngcontent-%COMP%]{padding:2px 6px!important;background:#969294!important}.col-curve-top[_ngcontent-%COMP%]{border-top-left-radius:18px 19px!important;border-top-right-radius:18px 19px!important;border-bottom-left-radius:10px 10px!important;border-bottom-right-radius:10px 10px!important;border-top:6px solid #c3bdbd!important}.col-curve[_ngcontent-%COMP%]{border-radius:10px 10px!important}.fileclose[_ngcontent-%COMP%]{font-size:22px;color:#6e6767;cursor:pointer}.edit[_ngcontent-%COMP%]{font-size:18px;cursor:pointer}h6[_ngcontent-%COMP%]{font-size:13px!important}.bg-grey[_ngcontent-%COMP%]{color:#c7bfbf!important}"]}),e})(),Hl=(()=>{class e extends E.a{constructor(e,t){super("Signature",e,t,{root:O.a.webserviceURlLocal})}getAll(){return super.getAll()}getRecords(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("signature/"+e,O.a.webserviceURlLocal);return this.http.get(i,t)}updateRecord(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},n=this.httpUrlGenerator.entityResource("signature/"+t,O.a.webserviceURlLocal);return this.http.put(n,e,i)}addRecord(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("signature",O.a.webserviceURlLocal);return this.http.post(i,e,t)}getUser(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},n=this.httpUrlGenerator.entityResource("Organization/"+e+"/"+t,O.a.webserviceURlLocal);return this.http.get(n,i)}getComplete(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("Organization/Getstatus/"+e,O.a.webserviceURlLocal);return this.http.get(i,t)}deleteRecord(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.delete(O.a.webserviceURlLocal+"Files/"+e,t)}}return e.\u0275fac=function(t){return new(t||e)(c.Zb(j.b),c.Zb(E.c))},e.\u0275prov=c.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Zl(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Signature form is required"),c.Ub())}function Kl(e,t){if(1&e&&(c.Vb(0,"div",25),c.Bc(1,Zl,2,0,"div",26),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.signature_Upload.errors.required)}}function Jl(e,t){1&e&&(c.Vb(0,"div",27),c.Vb(1,"span"),c.Dc(2,"Uploading..."),c.Ub(),c.Qb(3,"mat-progress-spinner",28),c.Ub())}function Xl(e,t){if(1&e){const e=c.Wb();c.Vb(0,"div"),c.Vb(1,"p",29),c.Vb(2,"small"),c.Vb(3,"a",30),c.Dc(4),c.Ub(),c.Ub(),c.Vb(5,"small",31),c.cc("click",function(){c.uc(e);const i=t.index,n=t.$implicit;return c.gc().removeqcpUpload(i,n)}),c.Dc(6,"X"),c.Ub(),c.Ub(),c.Ub()}if(2&e){const e=t.$implicit;c.Db(3),c.nc("href",e.file_Path,c.wc),c.Db(1),c.Ec(e.name)}}function ed(e,t){if(1&e){const e=c.Wb();c.Vb(0,"div",32),c.Vb(1,"button",33),c.cc("click",function(){return c.uc(e),c.gc().gotoHome()}),c.Dc(2," << BACK "),c.Ub(),c.Vb(3,"button",34),c.cc("click",function(){return c.uc(e),c.gc().save()}),c.Dc(4),c.Ub(),c.Vb(5,"button",35),c.cc("click",function(){return c.uc(e),c.gc().submit()}),c.Dc(6,"NEXT >>"),c.Ub(),c.Ub()}if(2&e){const e=c.gc();c.Db(4),c.Ec(e.submitText)}}function td(e,t){if(1&e){const e=c.Wb();c.Vb(0,"div",36),c.Vb(1,"button",33),c.cc("click",function(){return c.uc(e),c.gc().gotoHome()}),c.Dc(2," << BACK"),c.Ub(),c.Vb(3,"button",37),c.cc("click",function(){return c.uc(e),c.gc().nextroutePage()}),c.Dc(4,"NEXT >>"),c.Ub(),c.Ub()}}function id(e,t){if(1&e&&c.Qb(0,"app-comment",38),2&e){const e=c.gc();c.mc("events",e.eventsSubject.asObservable())("formId",e.signatureid)("companyId",e.tempcompanyid)}}const nd=function(e){return{"bg-grey":e}},od=function(e){return{"pointer-events":e}},ad=function(e){return{"is-invalid":e}},rd=function(e){return{opacity:e}};let sd=(()=>{class e{constructor(e,t,i,n,a,r,c,l,d,u){this.formBuilder=e,this.router=t,this.bnIdle=i,this.keepalive=n,this.toastr=a,this.project=r,this.logininfo=c,this.ngxUiLoader=l,this.companyservice=d,this.signatureservice=u,this.currentForm=6,this.signatureForm=this.formBuilder.group({id:[0],companyId:[0,[o.w.maxLength(130)]],signature_Upload:["",[o.w.required]],is_QCP:[""],isAutosave:[!0]}),this.signatureid=0,this.submitText="SAVE",this.submitted=!1,this.companyId=0,this.tempsignatureattachment=[],this.tempcompanyid=0,this.showAdmin=!1,this.spinner={qcpSpinner:!1},this.signatureAttachment=[],this.showdisabled=!1,this.eventsSubject=new s.a}ngOnInit(){this.ngxUiLoader.startLoader("loader-01"),localStorage.setItem("currPage","personnel"),this.prequalification_status=this.logininfo.organization_status,this.submitText="SAVE";let e=localStorage.getItem("userDetails");e=JSON.parse(atob(e)),this.userDetails=e,this.userRole=e.role,this.tempcompanyid=localStorage.getItem("tempcompanyid"),this.tempcompanyid=Number(atob(this.tempcompanyid)),this.tempcompanyid>0&&"Subcontractor"!=this.userRole&&(this.showAdmin=!0,this.signatureservice.getRecords(this.tempcompanyid).subscribe(e=>{this.showdisabled=!0,this.signatureForm.disable(),this.signatureForm.updateValueAndValidity(),this.showAdmin=!0,(null==e?void 0:e.length)&&(this.signatureid=e[0].id,this.submitText="UPDATE",this.updateSignature(e[0]))})),null!=this.userDetails.vendorId&&null!=this.userDetails.taxId&&"Subcontractor"==this.userRole&&this.signatureservice.getUser(this.userDetails.vendorId,this.userDetails.taxId).subscribe(e=>{this.companyId=e.id,localStorage.setItem("companyid",btoa(this.companyId)),this.getRecords()}),this.ngxUiLoader.stopLoader("loader-01")}updateSignature(e){this.signatureForm.patchValue({id:e.id,companyId:e.companyId,isAutosave:e.isAutosave}),this.signatureAttachment=[],e.files.filter(e=>{"Signature_Upload"==e.file_Type&&0==e.isDeleted&&this.signatureAttachment.push(e.file_Name.length<49?{id:e.id,name:e.file_Name,file_Path:e.file_Path}:{id:e.id,name:e.file_Name.substring(0,49)+"....",file_Path:e.file_Path})})}get f(){return this.signatureAttachment.length?this.signatureForm.controls.signature_Upload.clearValidators():this.signatureForm.controls.signature_Upload.setValidators([o.w.required]),this.signatureForm.controls.signature_Upload.updateValueAndValidity(),this.signatureForm.controls}submit(){"Subcontractor"!=this.userRole?(this.emitEventToChild(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])):(this.save(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`]))}save(){if("Subcontractor"!=this.userRole);else if(console.log(this.signatureForm),this.submitted=!0,this.keepalive.stop(),0==this.signatureid){this.signatureForm.patchValue({isAutosave:!1});let e=this.formMethod();this.signatureservice.addRecord(e).subscribe(e=>{this.getRecords(),this.submitText="UPDATE",this.fileReset(),this.resetSpinner(),this.toastr.success("Signature saved successfully","Signature")})}else{this.signatureForm.patchValue({isAutosave:!1});let e=this.formMethod();this.signatureservice.updateRecord(e,this.signatureid).subscribe(e=>{this.getRecords(),this.fileReset(),this.resetSpinner(),this.toastr.success("Signature updated successfully","Signature")})}}fileupload(){if(this.keepalive.stop(),0==this.signatureid){this.signatureForm.patchValue({isAutosave:!0});let e=this.formMethod();this.signatureservice.addRecord(e).subscribe(e=>{this.keepalive.stop(),this.signatureForm.patchValue({signature_Upload:"",id:e.id}),this.submitText="UPDATE",this.getRecords(),this.resetSpinner(),this.submitted=!1})}else{this.signatureForm.patchValue({id:this.signatureid,isAutosave:!0});let e=this.formMethod();this.signatureservice.updateRecord(e,this.signatureForm.value.id).subscribe(e=>{this.keepalive.stop(),this.getRecords(),this.resetSpinner(),this.signatureForm.patchValue({signature_Upload:""}),this.submitted=!1})}}formMethod(){var e=new FormData;e.append("id",this.signatureForm.value.id),e.append("companyId",this.companyId),e.append("isAutosave",this.signatureForm.value.isAutosave);for(let t=0;t<this.tempsignatureattachment.length;t++)e.append("signature_Upload",this.tempsignatureattachment[t]);return this.tempsignatureattachment=[],e}resetSpinner(){this.spinner={qcpSpinner:!1}}fileReset(){this.signatureForm.patchValue({signature_Upload:""})}qcpUpload(e){let t=document.getElementById("signature_Upload");for(let i=0;i<t.files.length;i++)this.tempsignatureattachment.push(t.files[i]);this.spinner.qcpSpinner=!0,this.fileupload()}removeqcpUpload(e,t){this.showdisabled||this.signatureservice.deleteRecord(t.id).subscribe(t=>{this.signatureAttachment.splice(e,1),this.toastr.info("File removed successfully","Signature")})}emitEventToChild(){this.eventsSubject.next()}gotoHome(){this.emitEventToChild(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm-1].url}`])}getRecords(){this.signatureservice.getRecords(this.companyId).subscribe(e=>{e.length&&(this.signatureid=e[0].id,this.submitText="UPDATE",this.updateSignature(e[0]))}),this.companyId>0&&this.companyservice.getRecord(this.companyId).subscribe(e=>{this.prequalification_status=(e=e[0]).preQualification_Status,e.preQualification_Status&&this.logininfo.formDisable(e.preQualification_Status)&&(this.showdisabled=!0,this.signatureForm.disable(),this.signatureForm.updateValueAndValidity())})}nextroutePage(){this.emitEventToChild(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(o.d),c.Pb(a.f),c.Pb(d.a),c.Pb(m.a),c.Pb(h.b),c.Pb(_.a),c.Pb(v),c.Pb(y.c),c.Pb(l.a),c.Pb(Hl))},e.\u0275cmp=c.Jb({type:e,selectors:[["app-signature"]],decls:45,vars:29,consts:[[1,"container","my-2","minheight","row"],[1,"row"],[1,"col-5"],[1,"m-1","pb-5","mb-5",3,"formGroup","ngClass","ngSubmit"],[1,"row","mt-2","pt-3",2,"border","1px solid #31a954","padding","5px"],[2,"margin","5px 2px 5px 10px","list-style-type","decimal"],[1,"px-2","py-2"],[1,"form-group","row","mx-0","px-0","py-2","mt-2","mx-auto"],[1,"col-12","col-curve-top","bg-white","border","border-1","py-2","mx-auto"],[1,"text-center","mb-2"],[1,"fw-bold","font-arial"],["href","assets/MBP Prequal Signature Section.docx",2,"color","blue","font-size","15px !important",3,"ngClass","ngStyle"],[1,"col-12","col-curve","bg-white","border","border-1","py-2","mx-auto"],["for","signature_Upload"],[1,"form-control-customitem","form-control"],["type","file","title","Choose file","formControlName","signature_Upload","id","signature_Upload","name","signature_Upload","multiple","",3,"ngClass","change"],["for","signature_Upload",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["class","spinner__loading pt-3",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"col-7","mt-1",3,"ngClass"],["src","assets/images/signature.jpg",3,"ngStyle"],["class","text-end mx-lg-4 my-3",4,"ngIf"],["class","text-end mx-4 my-3",4,"ngIf"],["headerReview","Risk Review & Inputs","formname","signature",3,"events","formId","companyId",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner__loading","pt-3"],["diameter","18","mode","indeterminate",1,"mt-1"],[1,"file-tag"],["target","_blank",3,"href"],[1,"file-close","text-white",3,"click"],[1,"text-end","mx-lg-4","my-3"],[1,"btn","float-start","btn","default-btn",3,"click"],["type","button",1,"btn","ml-4","default-btn",3,"click"],["type","button",1,"btn","mx-2","default-btn",3,"click"],[1,"text-end","mx-4","my-3"],[1,"btn","btn-success","mx-2","default-btn",3,"click"],["headerReview","Risk Review & Inputs","formname","signature",3,"events","formId","companyId"]],template:function(e,t){1&e&&(c.Vb(0,"div",0),c.Vb(1,"div",1),c.Vb(2,"div",2),c.Vb(3,"div",1),c.Vb(4,"form",3),c.cc("ngSubmit",function(){return t.submit()}),c.Vb(5,"div",4),c.Vb(6,"h3"),c.Dc(7,"Messer Construction requires that you do the following in this section:"),c.Ub(),c.Vb(8,"ul",5),c.Vb(9,"li"),c.Dc(10,"Download and print the signature form"),c.Ub(),c.Vb(11,"li"),c.Dc(12,"Fill in the required info asked"),c.Ub(),c.Vb(13,"li"),c.Dc(14,"Sign the signature form"),c.Ub(),c.Vb(15,"li"),c.Dc(16,"Get notarization on the signature page"),c.Ub(),c.Vb(17,"li"),c.Dc(18,"Upload the signed and notarized signature form in the attachment section below."),c.Ub(),c.Ub(),c.Ub(),c.Vb(19,"div",6),c.Vb(20,"div",7),c.Vb(21,"div",8),c.Vb(22,"div",9),c.Vb(23,"h5",10),c.Vb(24,"a",11),c.Dc(25,"Click here"),c.Ub(),c.Dc(26," to download the form"),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(27,"div",7),c.Vb(28,"div",12),c.Vb(29,"div"),c.Vb(30,"label",13),c.Dc(31,"Attach your signed signature form below: "),c.Ub(),c.Vb(32,"div",14),c.Vb(33,"input",15),c.cc("change",function(e){return t.qcpUpload(e)}),c.Ub(),c.Vb(34,"span",16),c.Dc(35,' \xa0Choose Files with "Click to Add Files"'),c.Ub(),c.Ub(),c.Bc(36,Kl,2,1,"div",17),c.Bc(37,Jl,4,0,"div",18),c.Bc(38,Xl,7,2,"div",19),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(39,"div",20),c.Qb(40,"img",21),c.Ub(),c.Ub(),c.Vb(41,"div",1),c.Bc(42,ed,7,1,"div",22),c.Bc(43,td,5,0,"div",23),c.Ub(),c.Ub(),c.Bc(44,id,1,3,"app-comment",24)),2&e&&(c.Db(4),c.mc("formGroup",t.signatureForm)("ngClass",c.pc(15,nd,t.showdisabled)),c.Db(20),c.mc("ngClass",c.pc(17,nd,t.showdisabled))("ngStyle",c.pc(19,od,t.showdisabled?"none":"auto")),c.Db(9),c.mc("ngClass",c.pc(21,ad,t.submitted&&t.f.signature_Upload.errors)),c.Eb("disabled",t.showdisabled?"":null),c.Db(1),c.mc("ngClass",c.pc(23,nd,1==t.showdisabled)),c.Db(2),c.mc("ngIf",t.submitted&&t.f.signature_Upload.errors),c.Db(1),c.mc("ngIf",null==t.spinner?null:t.spinner.qcpSpinner),c.Db(1),c.mc("ngForOf",t.signatureAttachment),c.Db(1),c.mc("ngClass",c.pc(25,nd,t.showdisabled)),c.Db(1),c.mc("ngStyle",c.pc(27,rd,t.showdisabled?"0.4":"")),c.Db(2),c.mc("ngIf",!(t.showAdmin||t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status)),c.Db(1),c.mc("ngIf",!t.showAdmin&&t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status||t.showAdmin),c.Db(1),c.mc("ngIf","Subcontractor"!=t.userRole&&"Additional Info Needed from Subcontractor"!=t.prequalification_status&&"Prequal form submitted and under quality check"!=t.prequalification_status))},directives:[o.x,o.m,o.g,n.k,n.n,o.b,o.l,o.f,n.m,n.l,A.a,z],styles:[".col-curve-top[_ngcontent-%COMP%]{border-top:6px solid #c3bdbd!important}.col-curve[_ngcontent-%COMP%], .col-curve-top[_ngcontent-%COMP%]{border-radius:18px 19px!important}.minheight[_ngcontent-%COMP%]{min-height:400px}.bg-grey[_ngcontent-%COMP%]{color:#c7bfbf!important}.red[_ngcontent-%COMP%]{color:red}"]}),e})(),cd=(()=>{class e extends E.a{constructor(e,t){super("Summary",e,t,{root:O.a.webserviceURlLocal})}getAll(){return super.getAll()}getRecords(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("Summary/"+e,O.a.webserviceURlLocal);return this.http.get(i,t)}updateRecord(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},n=this.httpUrlGenerator.entityResource("Summary/"+t,O.a.webserviceURlLocal);return this.http.put(n,e,i)}addRecord(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("Summary",O.a.webserviceURlLocal);return this.http.post(i,e,t)}deleteRecord(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.delete(O.a.webserviceURlLocal+"Summary/"+e,t)}}return e.\u0275fac=function(t){return new(t||e)(c.Zb(j.b),c.Zb(E.c))},e.\u0275prov=c.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function ld(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Project Name/ Number is required "),c.Ub())}function dd(e,t){if(1&e&&(c.Vb(0,"div",112),c.Bc(1,ld,2,0,"div",113),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.summary.controls.project_Name.errors.required)}}function ud(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Value of subcontract is required"),c.Ub())}function md(e,t){if(1&e&&(c.Vb(0,"div",112),c.Bc(1,ud,2,0,"div",113),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.summary.controls.project_value_Detail.errors.required)}}function bd(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Project Notes is required"),c.Ub())}function pd(e,t){if(1&e&&(c.Vb(0,"div",112),c.Bc(1,bd,2,0,"div",113),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.summary.controls.project_Notes.errors.required)}}function fd(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Notes on Grade Change is required"),c.Ub())}function hd(e,t){if(1&e&&(c.Vb(0,"div",112),c.Bc(1,fd,2,0,"div",113),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.summary.controls.grade_Notes.errors.required)}}function gd(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Risk Inputs on Safety Review is required"),c.Ub())}function _d(e,t){if(1&e&&(c.Vb(0,"div",112),c.Bc(1,gd,2,0,"div",113),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.summary.controls.risk_Inputs.errors.required)}}function vd(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1," Proposed Risk Mitigation is required"),c.Ub())}function yd(e,t){if(1&e&&(c.Vb(0,"div",112),c.Bc(1,vd,2,0,"div",113),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.riskReview.controls.risk_Mitigation.errors.required)}}function Vd(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1," Proposed Risk Mitigation is required"),c.Ub())}function Ud(e,t){if(1&e&&(c.Vb(0,"div",112),c.Bc(1,Vd,2,0,"div",113),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.riskReview.controls.financial_Types.errors.required)}}function Dd(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Date of subcontractor financials is required"),c.Ub())}function Cd(e,t){if(1&e&&(c.Vb(0,"div",112),c.Bc(1,Dd,2,0,"div",113),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.riskReview.controls.date_Of_Financials.errors.required)}}function Id(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"CSRT Single Limit is required "),c.Ub())}function Rd(e,t){if(1&e&&(c.Vb(0,"div",112),c.Bc(1,Id,2,0,"div",113),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.riskReview.controls.csrt_Single_Limit.errors.required)}}function Fd(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"CSRT Aggregate Limit is required "),c.Ub())}function wd(e,t){if(1&e&&(c.Vb(0,"div",112),c.Bc(1,Fd,2,0,"div",113),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.riskReview.controls.csrt_Aggregate_Limit.errors.required)}}function Sd(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Years of Operations is required"),c.Ub())}function kd(e,t){if(1&e&&(c.Vb(0,"div",112),c.Bc(1,Sd,2,0,"div",113),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.riskReview.controls.operational_Years.errors.required)}}function xd(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Largest Indicated Job is required"),c.Ub())}function Pd(e,t){if(1&e&&(c.Vb(0,"div",112),c.Bc(1,xd,2,0,"div",113),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.riskReview.controls.largest_Indicated.errors.required)}}function Ad(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1," Bondable is required"),c.Ub())}function Od(e,t){if(1&e&&(c.Vb(0,"div",112),c.Bc(1,Ad,2,0,"div",113),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.riskReview.controls.bondable.errors.required)}}function Ed(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Bondable Single Limit is required "),c.Ub())}function jd(e,t){if(1&e&&(c.Vb(0,"div",112),c.Bc(1,Ed,2,0,"div",113),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.riskReview.controls.bondable_Single_Limit.errors.required)}}function Md(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Bondable Aggregate Limit is required "),c.Ub())}function Nd(e,t){if(1&e&&(c.Vb(0,"div",112),c.Bc(1,Md,2,0,"div",113),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.riskReview.controls.bondable_Aggregate_Limit.errors.required)}}function qd(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Signature Page is required"),c.Ub())}function Bd(e,t){if(1&e&&(c.Vb(0,"div",112),c.Bc(1,qd,2,0,"div",113),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.riskReview.controls.signature_Page.errors.required)}}function Ld(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Red Flags Notes is required"),c.Ub())}function Td(e,t){if(1&e&&(c.Vb(0,"div",112),c.Bc(1,Ld,2,0,"div",113),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.riskReview.controls.red_Flags.errors.required)}}function Yd(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Red Flags D&B Notes is required"),c.Ub())}function Gd(e,t){if(1&e&&(c.Vb(0,"div",112),c.Bc(1,Yd,2,0,"div",113),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.riskReview.controls.red_Flags_DB.errors.required)}}function Qd(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1," Risk Financial Grade is required"),c.Ub())}function zd(e,t){if(1&e&&(c.Vb(0,"div",112),c.Bc(1,Qd,2,0,"div",113),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.riskReview.controls.financial_Grade.errors.required)}}function $d(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Risk Financial Grade Notes is required"),c.Ub())}function Wd(e,t){if(1&e&&(c.Vb(0,"div",112),c.Bc(1,$d,2,0,"div",113),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.riskReview.controls.risk_Financial_Grade_Notes.errors.required)}}function Hd(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Prequalification Expiry Date is required"),c.Ub())}function Zd(e,t){if(1&e&&(c.Vb(0,"div",112),c.Bc(1,Hd,2,0,"div",113),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.riskReview.controls.prequal_Expiry_Date.errors.required)}}function Kd(e,t){if(1&e){const e=c.Wb();c.Vb(0,"div",77),c.Vb(1,"button",114),c.cc("click",function(){return c.uc(e),c.gc().saveOrSubmit("REVIEW")}),c.Dc(2,"SEND FOR RISK REVIEW II"),c.Ub(),c.Ub()}}function Jd(e,t){1&e&&c.Qb(0,"div",28)}const Xd=function(e){return{"is-invalid":e}};let eu=(()=>{class e{constructor(e,t,i,n,a,r,s,c,l){this.formBuilder=e,this.router=t,this.bnIdle=i,this.keepalive=n,this.toastr=a,this.financialservice=r,this.logininfo=s,this.ngxUiLoader=c,this.summaryservice=l,this.userRole="",this.tempcompanyid=0,this.showdisabled=!1,this.preQualificationStatus="",this.riskReview=this.formBuilder.group({risk_Mitigation:["",[o.w.required]],financial_Types:["",[o.w.required]],date_Of_Financials:["",[o.w.required]],csrt_Single_Limit:["",[o.w.required]],csrt_Aggregate_Limit:["",[o.w.required]],operational_Years:["",[o.w.required]],largest_Indicated:["",[o.w.required]],bondable:["",[o.w.required]],bondable_Single_Limit:["",[o.w.required]],bondable_Aggregate_Limit:["",[o.w.required]],signature_Page:["",[o.w.required]],red_Flags:["",[o.w.required]],red_Flags_DB:["",[o.w.required]],financial_Grade:["",[o.w.required]],risk_Financial_Grade_Notes:["",[o.w.required]],prequal_Expiry_Date:["",[o.w.required]]}),this.summary=this.formBuilder.group({id:0,companyId:null,project_Name:["",[o.w.required]],project_value_Detail:["",[o.w.required]],project_Notes:["",[o.w.required]],work_Type:["",[]],safety_Grade_Cal:["",[]],safety_Grade_Selc:["",[]],grade_Notes:["",[o.w.required]],safety_Notes:["",[]],risk_Inputs:["",[o.w.required]]}),this.automatedReview=this.formBuilder.group({financial_Grade:["",[]],prev_year_CSRT_Single:["",[o.w.required]],prev_year_CSRT_Agg:["",[o.w.required]],anticipated_work_Size:["",[]],cash_hand:["",[]],working_Capital:["",[]],net_Income:["",[]],annual_Revenue:["",[]],net_Worth:["",[]],credit_line:["",[]],credit_line_Pecentage:["",[]],net_Cash:["",[]],underbillings:["",[]],ppp_Loan:["",[]],paydex_Score:["",[]]});let d=localStorage.getItem("userDetails");d=JSON.parse(atob(d));var u=localStorage.getItem("preQualStatus");u&&(u=atob(u),this.preQualificationStatus=u),this.userDetails=d,this.userRole=d.role;let m=localStorage.getItem("tempcompanyid");this.tempcompanyid=Number(m?atob(m):0),localStorage.setItem("currPage","summary"),(this.preQualificationStatus="Risk Review II")&&(this.showdisabled="Subcontractor"!=this.userRole&&"Risk 1"!=this.userRole),console.log(this.tempcompanyid),this.tempcompanyid>0&&"Subcontractor"!=this.userRole&&this.getRecords(this.tempcompanyid)}getRecords(e){this.summaryservice.getRecords(e).subscribe(e=>{console.log(e),e.length>0&&(this.setFormData(e[0]),this.summaryData=e[0])})}saveOrSubmit(e){if(this.summary.valid&&this.riskReview.valid){var t=[],i=this.formMethod();if(t.push(0==this.summary.value.id?this.summaryservice.addRecord(i):this.summaryservice.updateRecord(i,this.summary.value.id)),"SAVE"!=e){var n="REVIEW"==e?"Under Risk Review II":"Reviewed & Prequalified",o=new FormData;o.append("preQualification_Status",this.logininfo.validateEmpty(n)),o.append("Approved_Date",(new Date).toLocaleString()),o.append("User_Type",this.userRole),t.push(this.financialservice.updateOrgRecord(o,this.tempcompanyid)),Object(Ft.a)(t).subscribe(e=>{this.toastr.success("Summary Information saved successfully","Summary"),this.router.navigate(["home"])},e=>{console.log(e)})}else Object(Ft.a)(t).subscribe(e=>{this.toastr.success("Risk Summary Information saved successfully","Risk Summary"),this.getRecords(this.tempcompanyid)},e=>{console.log(e)})}}setFormData(e){if(e){var t=e.summary;t&&(this.summary.patchValue({id:t.id,companyId:this.tempcompanyid,project_Name:this.logininfo.validateEmpty(t.projectName),project_value_Detail:this.logininfo.validateEmpty(t.subContractValue).toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","),project_Notes:this.logininfo.validateEmpty(t.projectNotes),grade_Notes:this.logininfo.validateEmpty(t.gradeChangeNotes),risk_Inputs:this.logininfo.validateEmpty(t.safetyReviewRiskInput)}),this.riskReview.patchValue({risk_Mitigation:this.logininfo.validateEmpty(t.proposedRiskMigration),financial_Types:this.logininfo.validateEmpty(t.typeOfFinancials),date_Of_Financials:this.logininfo.validateEmpty(t.dateOfSubFinancials).split("T")[0],csrt_Single_Limit:this.logininfo.validateEmpty(t.csrtSingleLimit).toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","),csrt_Aggregate_Limit:this.logininfo.validateEmpty(t.csrtAggLimit).toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","),operational_Years:this.logininfo.validateEmpty(t.yearOfWork),largest_Indicated:this.logininfo.validateEmpty(t.largestIndicatedJob).toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","),bondable:this.logininfo.validateEmpty(t.bondable),bondable_Single_Limit:this.logininfo.validateEmpty(t.bondableSingleLimit).toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","),bondable_Aggregate_Limit:this.logininfo.validateEmpty(t.bondableAggLimit).toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","),signature_Page:this.logininfo.validateEmpty(t.signaturePage),red_Flags:this.logininfo.validateEmpty(t.redFlagsNotes),red_Flags_DB:this.logininfo.validateEmpty(t.redFlagsDBNotes),financial_Grade:this.logininfo.validateEmpty(t.riskFinancialGrade),risk_Financial_Grade_Notes:this.logininfo.validateEmpty(t.riskFinancialGradeNotes),prequal_Expiry_Date:this.logininfo.validateEmpty(t.prequalificationExpiryDate).split("T")[0]})),this.summary.patchValue({work_Type:this.logininfo.validateEmpty(e.workTypes),safety_Grade_Cal:this.logininfo.validateEmpty(e.safetyGradeCalculated),safety_Grade_Selc:this.logininfo.validateEmpty(e.safetyGradeSelected),safety_Notes:this.logininfo.validateEmpty(e.safetyReviewNotes)}),this.automatedReview.patchValue({financial_Grade:this.logininfo.validateEmpty(e.financialGrade),prev_year_CSRT_Single:this.logininfo.validateEmpty(e.prevCSRT).toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","),prev_year_CSRT_Agg:this.logininfo.validateEmpty(e.prevCSRTAggLimit).toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","),anticipated_work_Size:this.logininfo.validateEmpty(e.sizeOfWork),cash_hand:this.logininfo.validateEmpty(e.cashOnHand).toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","),working_Capital:this.logininfo.validateEmpty(e.workCapital).toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","),net_Income:this.logininfo.validateEmpty(e.netIncome).toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","),annual_Revenue:this.logininfo.validateEmpty(e.quarterOfAnnualRevenue).toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","),net_Worth:this.logininfo.validateEmpty(e.netWorth).toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","),credit_line:this.logininfo.validateEmpty(e.unusedLOC).toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","),credit_line_Pecentage:this.logininfo.validateEmpty(e.unusedLOCPercentage),net_Cash:this.logininfo.validateEmpty(e.netCashPercentage),underbillings:this.logininfo.validateEmpty(e.underbilling),ppp_Loan:this.logininfo.validateEmpty(e.pppLoan).toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","),paydex_Score:this.logininfo.validateEmpty(e.payDex)})}}ngOnInit(){}formMethod(){var e=new FormData;return e.append("Summary.Id",this.summary.value.id),e.append("Summary.CompanyId",String(this.tempcompanyid)),e.append("Summary.ProjectName",this.logininfo.validateEmpty(this.summary.value.project_Name)),e.append("Summary.ProjectNotes",this.logininfo.validateEmpty(this.summary.value.project_Notes)),e.append("Summary.SubContractValue",this.logininfo.validateEmpty(this.summary.value.project_value_Detail).replace(",","")),e.append("Summary.GradeChangeNotes",this.logininfo.validateEmpty(this.summary.value.grade_Notes)),e.append("Summary.SafetyReviewRiskInput",this.logininfo.validateEmpty(this.summary.value.risk_Inputs)),e.append("Summary.ProposedRiskMigration",this.logininfo.validateEmpty(this.riskReview.value.risk_Mitigation)),e.append("Summary.TypeOfFinancials",this.logininfo.validateEmpty(this.riskReview.value.financial_Types)),e.append("Summary.DateOfSubFinancials",this.logininfo.validateEmpty(this.riskReview.value.date_Of_Financials)),e.append("Summary.CSRTSingleLimit",this.logininfo.validateEmpty(this.riskReview.value.csrt_Single_Limit).replace(",","")),e.append("Summary.CSRTAggLimit",this.logininfo.validateEmpty(this.riskReview.value.csrt_Aggregate_Limit).replace(",","")),e.append("Summary.YearOfWork",this.logininfo.validateEmpty(this.riskReview.value.operational_Years)),e.append("Summary.LargestIndicatedJob",this.logininfo.validateEmpty(this.riskReview.value.largest_Indicated).replace(",","")),e.append("Summary.Bondable",this.logininfo.validateEmpty(this.riskReview.value.bondable)),e.append("Summary.BondableSingleLimit",this.logininfo.validateEmpty(this.riskReview.value.bondable_Single_Limit).replace(",","")),e.append("Summary.BondableAggLimit",this.logininfo.validateEmpty(this.riskReview.value.bondable_Aggregate_Limit).replace(",","")),e.append("Summary.SignaturePage",this.logininfo.validateEmpty(this.riskReview.value.signature_Page)),e.append("Summary.RedFlagsNotes",this.logininfo.validateEmpty(this.riskReview.value.red_Flags)),e.append("Summary.RedFlagsDBNotes",this.logininfo.validateEmpty(this.riskReview.value.red_Flags_DB)),e.append("Summary.RiskFinancialGrade",this.logininfo.validateEmpty(this.riskReview.value.financial_Grade)),e.append("Summary.RiskFinancialGradeNotes",this.logininfo.validateEmpty(this.riskReview.value.risk_Financial_Grade_Notes)),e.append("Summary.PrequalificationExpiryDate",this.logininfo.validateEmpty(this.riskReview.value.prequal_Expiry_Date)),e}getDefaultValue(e,t){var i=this.logininfo.validateEmpty(e);return""!=i?i:this.summaryData[t]}idleReset(){}CommaFormatted(e,t,i){var n,o;e.AT_TARGET>=37&&e.AT_TARGET<=40||i.patchValue({[t]:null===(o=null===(n=i.get(t))||void 0===n?void 0:n.value)||void 0===o?void 0:o.replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,",")})}numberCheck(e){return"e"!==e.key&&"+"!==e.key&&"-"!==e.key}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(o.d),c.Pb(a.f),c.Pb(d.a),c.Pb(m.a),c.Pb(h.b),c.Pb(Ri),c.Pb(v),c.Pb(y.c),c.Pb(cd))},e.\u0275cmp=c.Jb({type:e,selectors:[["app-summary"]],decls:411,vars:113,consts:[[1,"col-lg-12","px-2","py-2","my-2","form-bg"],[1,"form-group","input-group","row"],[1,"col-lg-12","py-1","mx-auto"],[1,"row"],[1,"col-lg-12"],[1,"row","col-curve-top","bg-white","mx-0","px-0","pt-2","pb-3"],[3,"formGroup","keydown.enter"],[1,"row","pt-1"],[1,"col-5"],[1,"row","pt-2"],[1,"col-7"],["for","project_Name",1,"my-auto","font-italic"],[1,"text-danger"],["type","text","formControlName","project_Name","id","project-Name","name","project_Name",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","project_value_Detail",1,"my-auto","font-italic"],["type","text","formControlName","project_value_Detail","id","project_value_Detail","name","project_value_Detail",1,"form-control",3,"ngClass","keydown","keyup"],[1,"row",2,"height","100%"],[1,"col-3","pt-2",2,"padding-left","0%","padding-right","0%","max-width","21%"],[1,"col-8","pt-2"],["type","text","formControlName","project_Notes","id","project_Notes","name","project_Notes",1,"form-control",2,"height","100%","width","95%",3,"ngClass"],[1,"row","pt-3"],[1,"col-3"],["for","work_Type",1,"my-auto","font-italic"],[1,"col-8"],["type","text","formControlName","work_Type","id","work_Type","name","work_Type","readonly","",1,"form-control",3,"ngModelChange"],["for","safety_Grade_Cal",1,"my-auto","font-italic"],["type","text","formControlName","safety_Grade_Cal","id","safety_Grade_Cal","name","safety_Grade_Cal","readonly","",1,"form-control"],[1,"col-2"],["for","safety_Grade_Selc",1,"my-auto","font-italic"],["type","text","formControlName","safety_Grade_Selc","id","safety_Grade_Selc","name","safety_Grade_Selc","readonly","",1,"form-control"],["for","grade_Notes",1,"my-auto","font-italic","float-right"],["type","text","formControlName","grade_Notes","id","grade_Notes","name","grade_Notes",1,"form-control",3,"ngClass","ngModelChange"],["for","safety_Notes",1,"my-auto","font-italic","float-right"],["type","text","formControlName","safety_Notes","id","safety_Notes","name","safety_Notes","readonly","",1,"form-control",3,"ngModelChange"],["for","risk_Inputs",1,"my-auto","font-italic","float-right"],["type","text","formControlName","risk_Inputs","id","risk_Inputs","name","risk_Inputs",1,"form-control",3,"ngClass","ngModelChange"],[1,"row","pt-5"],[1,"col-6","pull-left","pt-1"],[1,"fw-bold"],["for","financial_Grade",1,"my-auto","font-italic"],["type","text","formControlName","financial_Grade","id","financial_Grade","name","financial_Grade","readonly","",1,"form-control",3,"ngModelChange"],[1,"my-auto","font-italic"],["type","text","formControlName","prev_year_CSRT_Single","id","prev_year_CSRT_Single","name","prev_year_CSRT_Single","readonly","",1,"form-control"],["type","text","formControlName","prev_year_CSRT_Agg","id","prev_year_CSRT_Agg","name","prev_year_CSRT_Agg","readonly","",1,"form-control"],["for","anticipated_work_Size",1,"my-auto","font-italic"],["type","text","formControlName","anticipated_work_Size","id","anticipated_work_Size","name","anticipated_work_Size","readonly","",1,"form-control",3,"ngModelChange"],["for","cash_hand",1,"my-auto","font-italic"],["type","text","formControlName","cash_hand","id","cash_hand","name","cash_hand","readonly","",1,"form-control",3,"ngModelChange"],["for","working_Capital",1,"my-auto","font-italic"],["type","text","formControlName","working_Capital","id","working_Capital","name","working_Capital","readonly","",1,"form-control",3,"ngModelChange"],["for","net_Income",1,"my-auto","font-italic"],["type","text","formControlName","net_Income","id","net_Income","name","net_Income","readonly","",1,"form-control",3,"ngModelChange"],["for","annual_Revenue",1,"my-auto","font-italic"],["type","text","formControlName","annual_Revenue","id","annual_Revenue","name","annual_Revenue","readonly","",1,"form-control",3,"ngModelChange"],["for","net_Worth",1,"my-auto","font-italic"],["type","text","formControlName","net_Worth","id","net_Worth","name","net_Worth","readonly","",1,"form-control",3,"ngModelChange"],["for","credit_line",1,"my-auto","font-italic"],["type","text","formControlName","credit_line","id","credit_line","name","credit_line","readonly","",1,"form-control",3,"ngModelChange"],["for","credit_line_Pecentage",1,"my-auto","font-italic"],["type","text","formControlName","credit_line_Pecentage","id","credit_line_Pecentage","name","credit_line_Pecentage","readonly","",1,"form-control",3,"ngModelChange"],["for","net_Cash",1,"my-auto","font-italic"],["type","text","formControlName","net_Cash","id","net_Cash","name","net_Cash","readonly","",1,"form-control",3,"ngModelChange"],["for","underbillings",1,"my-auto","font-italic"],["type","text","formControlName","underbillings","id","underbillings","name","underbillings","readonly","",1,"form-control",3,"ngModelChange"],["for","ppp_Loan",1,"my-auto","font-italic"],["type","text","formControlName","ppp_Loan","id","ppp_Loan","name","ppp_Loan","readonly","",1,"form-control",3,"ngModelChange"],["for","paydex_Score",1,"my-auto","font-italic"],["type","text","formControlName","paydex_Score","id","paydex_Score","name","paydex_Score","readonly","",1,"form-control",3,"ngModelChange"],["for","risk_Mitigation",1,"my-auto","font-italic"],["formControlName","risk_Mitigation","id","risk_Mitigation","name","risk_Mitigation",1,"form-control","form-select",3,"ngClass","ngModelChange"],[3,"ngValue"],["for","financial_Types",1,"my-auto","font-italic"],["formControlName","financial_Types","id","financial_Types","name","financial_Types",1,"form-control","form-select",3,"ngClass","ngModelChange"],[1,"col-3","my-auto"],["for","date_Of_Financials",1,"my-auto","font-italic"],["type","date","row","5","formControlName","date_Of_Financials","id","date_Of_Financials","name","date_Of_Financials",1,"form-control",3,"ngClass","ngModelChange"],[1,"col-4"],["for","csrt_Single_Limit",1,"my-auto","font-italic"],["type","text","formControlName","csrt_Single_Limit","id","csrt_Single_Limit","name","csrt_Single_Limit",1,"form-control",3,"ngClass","keydown","keyup"],["for","csrt_Aggregate_Limit",1,"my-auto","font-italic"],["type","text","formControlName","csrt_Aggregate_Limit","id","csrt_Aggregate_Limit","name","csrt_Aggregate_Limit",1,"form-control",3,"ngClass","keydown","keyup"],["for","operational_Years",1,"my-auto","font-italic","float-right"],["type","number","formControlName","operational_Years","id","operational_Years","name","operational_Years",1,"form-control",3,"ngClass","ngModelChange"],["for","largest_Indicated",1,"my-auto","font-italic","float-right"],["type","text","formControlName","largest_Indicated","id","largest_Indicated","name","largest_Indicated",1,"form-control",3,"ngClass","ngModelChange","keydown","keyup"],["for","bondable",1,"my-auto","font-italic"],["formControlName","bondable","id","bondable","name","bondable",1,"form-control","form-select",3,"ngClass","ngModelChange"],["for","bondable_Single_Limit",1,"my-auto","font-italic"],["type","text","formControlName","bondable_Single_Limit","id","bondable_Single_Limit","name","bondable_Single_Limit",1,"form-control",3,"ngClass","keydown","keyup"],["for","bondable_Aggregate_Limit",1,"my-auto","font-italic"],["type","text","formControlName","bondable_Aggregate_Limit","id","bondable_Aggregate_Limit","name","bondable_Aggregate_Limit",1,"form-control",3,"ngClass","keydown","keyup"],["for","signature_Page",1,"my-auto","font-italic","float-right"],["type","text","formControlName","signature_Page","id","signature_Page","name","signature_Page",1,"form-control",3,"ngClass","ngModelChange"],["for","red_Flags",1,"my-auto","font-italic","float-right"],["type","text","formControlName","red_Flags","id","red_Flags","name","red_Flags",1,"form-control",3,"ngClass","ngModelChange"],["for","red_Flags_DB",1,"my-auto","font-italic","float-right"],["type","text","formControlName","red_Flags_DB","id","red_Flags_DB","name","red_Flags_DB",1,"form-control",3,"ngClass","ngModelChange"],["for","financial_Grade",1,"my-auto","font-italic","float-right"],["formControlName","financial_Grade","id","financial_Grade","name","financial_Grade",1,"form-control","form-select",3,"ngClass","ngModelChange"],["for","risk_Financial_Grade_Notes",1,"my-auto","font-italic","float-right"],["type","text","formControlName","risk_Financial_Grade_Notes","id","risk_Financial_Grade_Notes","name","risk_Financial_Grade_Notes",1,"form-control",3,"ngClass","ngModelChange"],["for","prequal_Expiry_Date",1,"my-auto","font-italic"],["type","date","row","5","formControlName","prequal_Expiry_Date","id","prequal_Expiry_Date","name","prequal_Expiry_Date",1,"form-control",3,"ngClass","ngModelChange"],[1,"row","text-end","mx-lg-4","my-3"],[1,"btn","float-start","btn","default-btn"],[1,"col-6"],["type","button",1,"btn","mx-2","default-btn",3,"click"],[1,"row","text-end","mx-4","my-3"],["class","col-4",4,"ngIf"],["class","col-2",4,"ngIf"],[1,"btn","btn-success","default-btn",3,"click"],[1,"invalid-feedback"],[4,"ngIf"],[1,"btn","float-start","btn","default-btn",3,"click"]],template:function(e,t){1&e&&(c.Vb(0,"div",0),c.Vb(1,"div",1),c.Vb(2,"div",2),c.Tb(3),c.Vb(4,"div",3),c.Vb(5,"div",4),c.Vb(6,"div",5),c.Vb(7,"form",6),c.cc("keydown.enter",function(e){return e.preventDefault()}),c.Vb(8,"div",7),c.Vb(9,"div",8),c.Vb(10,"div",9),c.Vb(11,"div",10),c.Vb(12,"label",11),c.Dc(13,"Project Name/ Number "),c.Vb(14,"span",12),c.Dc(15,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(16,"div",8),c.Qb(17,"input",13),c.Bc(18,dd,2,1,"div",14),c.Ub(),c.Ub(),c.Vb(19,"div",9),c.Vb(20,"div",10),c.Vb(21,"label",15),c.Dc(22," Value of Subcontract"),c.Vb(23,"span",12),c.Dc(24,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(25,"div",8),c.Vb(26,"input",16),c.cc("keydown",function(e){return t.numberCheck(e)})("keyup",function(e){return t.CommaFormatted(e,"project_value_Detail",t.summary)}),c.Ub(),c.Bc(27,md,2,1,"div",14),c.Ub(),c.Ub(),c.Ub(),c.Vb(28,"div",10),c.Vb(29,"div",17),c.Vb(30,"div",18),c.Vb(31,"label",15),c.Dc(32,"Project Related Notes"),c.Vb(33,"span",12),c.Dc(34,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(35,"div",19),c.Vb(36,"textarea",20),c.Dc(37,"                                                    "),c.Ub(),c.Bc(38,pd,2,1,"div",14),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(39,"div",21),c.Vb(40,"div",22),c.Vb(41,"label",23),c.Dc(42,"Types of Work Performed "),c.Ub(),c.Ub(),c.Vb(43,"div",24),c.Vb(44,"textarea",25),c.cc("ngModelChange",function(){return t.idleReset()}),c.Dc(45,"                                            "),c.Ub(),c.Ub(),c.Ub(),c.Vb(46,"div",21),c.Vb(47,"div",22),c.Vb(48,"label",26),c.Dc(49,"Safety Grade Calculated"),c.Ub(),c.Ub(),c.Vb(50,"div",22),c.Qb(51,"input",27),c.Ub(),c.Vb(52,"div",28),c.Vb(53,"label",29),c.Dc(54," Safety Grade Selected by Safety Reviewer"),c.Ub(),c.Ub(),c.Vb(55,"div",22),c.Qb(56,"input",30),c.Ub(),c.Ub(),c.Vb(57,"div",21),c.Vb(58,"div",22),c.Vb(59,"label",31),c.Dc(60,"Notes on Grade Change"),c.Vb(61,"span",12),c.Dc(62,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(63,"div",24),c.Vb(64,"textarea",32),c.cc("ngModelChange",function(){return t.idleReset()}),c.Dc(65,"                                        "),c.Ub(),c.Bc(66,hd,2,1,"div",14),c.Ub(),c.Ub(),c.Vb(67,"div",21),c.Vb(68,"div",22),c.Vb(69,"label",33),c.Dc(70,"Safety Review Notes "),c.Ub(),c.Ub(),c.Vb(71,"div",24),c.Vb(72,"textarea",34),c.cc("ngModelChange",function(){return t.idleReset()}),c.Dc(73,"                                       "),c.Ub(),c.Ub(),c.Ub(),c.Vb(74,"div",21),c.Vb(75,"div",22),c.Vb(76,"label",35),c.Dc(77,"Risk Inputs on Safety Review "),c.Vb(78,"span",12),c.Dc(79,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(80,"div",24),c.Vb(81,"textarea",36),c.cc("ngModelChange",function(){return t.idleReset()}),c.Dc(82,"                                        "),c.Ub(),c.Bc(83,_d,2,1,"div",14),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(84,"div",37),c.Vb(85,"div",4),c.Vb(86,"div",5),c.Vb(87,"form",6),c.cc("keydown.enter",function(e){return e.preventDefault()}),c.Vb(88,"div",3),c.Vb(89,"div",38),c.Vb(90,"h6",39),c.Dc(91,"Automated Risk Review - Summary "),c.Ub(),c.Ub(),c.Ub(),c.Vb(92,"div",21),c.Vb(93,"div",22),c.Vb(94,"label",40),c.Dc(95,"Financial Grade "),c.Ub(),c.Ub(),c.Vb(96,"div",24),c.Vb(97,"input",41),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Ub(),c.Ub(),c.Vb(98,"div",21),c.Vb(99,"div",22),c.Vb(100,"label",42),c.Dc(101,"Previous Year CSRT"),c.Ub(),c.Ub(),c.Vb(102,"div",22),c.Qb(103,"input",43),c.Ub(),c.Vb(104,"div",28),c.Vb(105,"label",29),c.Dc(106," Aggregate limit"),c.Ub(),c.Ub(),c.Vb(107,"div",22),c.Qb(108,"input",44),c.Ub(),c.Ub(),c.Vb(109,"div",21),c.Vb(110,"div",22),c.Vb(111,"label",45),c.Dc(112,"Anticipated Size of Work"),c.Ub(),c.Ub(),c.Vb(113,"div",24),c.Vb(114,"input",46),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Ub(),c.Ub(),c.Vb(115,"div",21),c.Vb(116,"div",22),c.Vb(117,"label",47),c.Dc(118,"Cash on Hand"),c.Ub(),c.Ub(),c.Vb(119,"div",24),c.Vb(120,"input",48),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Ub(),c.Ub(),c.Vb(121,"div",21),c.Vb(122,"div",22),c.Vb(123,"label",49),c.Dc(124,"Working Capital"),c.Ub(),c.Ub(),c.Vb(125,"div",24),c.Vb(126,"input",50),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Ub(),c.Ub(),c.Vb(127,"div",21),c.Vb(128,"div",22),c.Vb(129,"label",51),c.Dc(130,"Net Income"),c.Ub(),c.Ub(),c.Vb(131,"div",24),c.Vb(132,"input",52),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Ub(),c.Ub(),c.Vb(133,"div",21),c.Vb(134,"div",22),c.Vb(135,"label",53),c.Dc(136,"25% * Annual Revenue"),c.Ub(),c.Ub(),c.Vb(137,"div",24),c.Vb(138,"input",54),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Ub(),c.Ub(),c.Vb(139,"div",21),c.Vb(140,"div",22),c.Vb(141,"label",55),c.Dc(142,"Net Worth"),c.Ub(),c.Ub(),c.Vb(143,"div",24),c.Vb(144,"input",56),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Ub(),c.Ub(),c.Vb(145,"div",21),c.Vb(146,"div",22),c.Vb(147,"label",57),c.Dc(148,"Unused Line of Credit"),c.Ub(),c.Ub(),c.Vb(149,"div",24),c.Vb(150,"input",58),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Ub(),c.Ub(),c.Vb(151,"div",21),c.Vb(152,"div",22),c.Vb(153,"label",59),c.Dc(154,"Unused Line of Credit %"),c.Ub(),c.Ub(),c.Vb(155,"div",24),c.Vb(156,"input",60),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Ub(),c.Ub(),c.Vb(157,"div",21),c.Vb(158,"div",22),c.Vb(159,"label",61),c.Dc(160,"Net Cash % "),c.Ub(),c.Ub(),c.Vb(161,"div",24),c.Vb(162,"input",62),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Ub(),c.Ub(),c.Vb(163,"div",21),c.Vb(164,"div",22),c.Vb(165,"label",63),c.Dc(166,"Underbillings as a % of Total Assets "),c.Ub(),c.Ub(),c.Vb(167,"div",24),c.Vb(168,"input",64),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Ub(),c.Ub(),c.Vb(169,"div",21),c.Vb(170,"div",22),c.Vb(171,"label",65),c.Dc(172,"PPP Loan"),c.Ub(),c.Ub(),c.Vb(173,"div",24),c.Vb(174,"input",66),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Ub(),c.Ub(),c.Vb(175,"div",21),c.Vb(176,"div",22),c.Vb(177,"label",67),c.Dc(178,"Paydex Score"),c.Ub(),c.Ub(),c.Vb(179,"div",24),c.Vb(180,"input",68),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(181,"div",37),c.Vb(182,"div",4),c.Vb(183,"div",5),c.Vb(184,"form",6),c.cc("keydown.enter",function(e){return e.preventDefault()}),c.Vb(185,"div",21),c.Vb(186,"div",38),c.Vb(187,"h6",39),c.Dc(188,"Risk Reviewer Inputs "),c.Ub(),c.Ub(),c.Ub(),c.Vb(189,"div",21),c.Vb(190,"div",22),c.Vb(191,"label",69),c.Dc(192,"Proposed Risk Mitigation"),c.Vb(193,"span",12),c.Dc(194,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(195,"div",24),c.Vb(196,"select",70),c.cc("ngModelChange",function(){return t.idleReset()}),c.Vb(197,"option",71),c.Dc(198,"None"),c.Ub(),c.Vb(199,"option",71),c.Dc(200,"LTLW"),c.Ub(),c.Vb(201,"option",71),c.Dc(202,"Personal Guarantee"),c.Ub(),c.Vb(203,"option",71),c.Dc(204,"Bond"),c.Ub(),c.Vb(205,"option",71),c.Dc(206,"Parent Guarantee"),c.Ub(),c.Vb(207,"option",71),c.Dc(208,"Joint Checks"),c.Ub(),c.Vb(209,"option",71),c.Dc(210,"Letter of Credit"),c.Ub(),c.Vb(211,"option",71),c.Dc(212,"Related Company Guarantees"),c.Ub(),c.Vb(213,"option",71),c.Dc(214,"Others"),c.Ub(),c.Ub(),c.Bc(215,yd,2,1,"div",14),c.Ub(),c.Ub(),c.Vb(216,"div",21),c.Vb(217,"div",22),c.Vb(218,"label",72),c.Dc(219,"Type of Financials"),c.Vb(220,"span",12),c.Dc(221,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(222,"div",24),c.Vb(223,"select",73),c.cc("ngModelChange",function(){return t.idleReset()}),c.Vb(224,"option",71),c.Dc(225,"Select"),c.Ub(),c.Vb(226,"option",71),c.Dc(227,"In-house Financials"),c.Ub(),c.Vb(228,"option",71),c.Dc(229,"Reviewed"),c.Ub(),c.Vb(230,"option",71),c.Dc(231,"Compiled"),c.Ub(),c.Vb(232,"option",71),c.Dc(233,"Audited"),c.Ub(),c.Vb(234,"option",71),c.Dc(235,"Tax Returns"),c.Ub(),c.Vb(236,"option",71),c.Dc(237,"Others"),c.Ub(),c.Ub(),c.Bc(238,Ud,2,1,"div",14),c.Ub(),c.Ub(),c.Vb(239,"div",21),c.Vb(240,"div",74),c.Vb(241,"label",75),c.Dc(242,"Date of subcontractor financials "),c.Vb(243,"span",12),c.Dc(244,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(245,"div",24),c.Vb(246,"div"),c.Vb(247,"input",76),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Bc(248,Cd,2,1,"div",14),c.Ub(),c.Ub(),c.Ub(),c.Vb(249,"div",21),c.Vb(250,"div",22),c.Vb(251,"label",26),c.Dc(252,"CSRT "),c.Vb(253,"span",12),c.Dc(254,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(255,"div",77),c.Vb(256,"div",3),c.Vb(257,"div",77),c.Vb(258,"label",78),c.Dc(259,"Single Limit:"),c.Vb(260,"span",12),c.Dc(261,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(262,"div",24),c.Vb(263,"input",79),c.cc("keydown",function(e){return t.numberCheck(e)})("keyup",function(e){return t.CommaFormatted(e,"csrt_Single_Limit",t.riskReview)}),c.Ub(),c.Ub(),c.Bc(264,Rd,2,1,"div",14),c.Ub(),c.Ub(),c.Vb(265,"div",77),c.Vb(266,"div",3),c.Vb(267,"div",77),c.Vb(268,"label",80),c.Dc(269,"Aggregate Limit:"),c.Vb(270,"span",12),c.Dc(271,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(272,"div",24),c.Vb(273,"input",81),c.cc("keydown",function(e){return t.numberCheck(e)})("keyup",function(e){return t.CommaFormatted(e,"csrt_Aggregate_Limit",t.riskReview)}),c.Ub(),c.Ub(),c.Bc(274,wd,2,1,"div",14),c.Ub(),c.Ub(),c.Ub(),c.Vb(275,"div",21),c.Vb(276,"div",22),c.Vb(277,"label",82),c.Dc(278,"Years of Operations"),c.Vb(279,"span",12),c.Dc(280,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(281,"div",24),c.Vb(282,"input",83),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Bc(283,kd,2,1,"div",14),c.Ub(),c.Ub(),c.Vb(284,"div",21),c.Vb(285,"div",22),c.Vb(286,"label",84),c.Dc(287,"Largest Indicated Job"),c.Vb(288,"span",12),c.Dc(289,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(290,"div",24),c.Vb(291,"input",85),c.cc("ngModelChange",function(){return t.idleReset()})("keydown",function(e){return t.numberCheck(e)})("keyup",function(e){return t.CommaFormatted(e,"largest_Indicated",t.riskReview)}),c.Ub(),c.Bc(292,Pd,2,1,"div",14),c.Ub(),c.Ub(),c.Vb(293,"div",21),c.Vb(294,"div",22),c.Vb(295,"label",86),c.Dc(296,"Bondable "),c.Vb(297,"span",12),c.Dc(298,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(299,"div",28),c.Vb(300,"select",87),c.cc("ngModelChange",function(){return t.idleReset()}),c.Vb(301,"option",71),c.Dc(302,"Select"),c.Ub(),c.Vb(303,"option",71),c.Dc(304,"Yes"),c.Ub(),c.Vb(305,"option",71),c.Dc(306,"No"),c.Ub(),c.Ub(),c.Bc(307,Od,2,1,"div",14),c.Ub(),c.Vb(308,"div",22),c.Vb(309,"div",3),c.Vb(310,"div",8),c.Vb(311,"label",88),c.Dc(312,"Single Limit:"),c.Vb(313,"span",12),c.Dc(314,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(315,"div",10),c.Vb(316,"input",89),c.cc("keydown",function(e){return t.numberCheck(e)})("keyup",function(e){return t.CommaFormatted(e,"bondable_Single_Limit",t.riskReview)}),c.Ub(),c.Ub(),c.Bc(317,jd,2,1,"div",14),c.Ub(),c.Ub(),c.Vb(318,"div",22),c.Vb(319,"div",3),c.Vb(320,"div",8),c.Vb(321,"label",90),c.Dc(322,"Aggregate Limit:"),c.Vb(323,"span",12),c.Dc(324,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(325,"div",10),c.Vb(326,"input",91),c.cc("keydown",function(e){return t.numberCheck(e)})("keyup",function(e){return t.CommaFormatted(e,"bondable_Aggregate_Limit",t.riskReview)}),c.Ub(),c.Ub(),c.Bc(327,Nd,2,1,"div",14),c.Ub(),c.Ub(),c.Ub(),c.Vb(328,"div",21),c.Vb(329,"div",22),c.Vb(330,"label",92),c.Dc(331,"Signature Page"),c.Vb(332,"span",12),c.Dc(333,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(334,"div",24),c.Vb(335,"input",93),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Bc(336,Bd,2,1,"div",14),c.Ub(),c.Ub(),c.Vb(337,"div",21),c.Vb(338,"div",22),c.Vb(339,"label",94),c.Dc(340,"Red Flags Notes"),c.Vb(341,"span",12),c.Dc(342,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(343,"div",24),c.Vb(344,"textarea",95),c.cc("ngModelChange",function(){return t.idleReset()}),c.Dc(345,"                                        "),c.Ub(),c.Bc(346,Td,2,1,"div",14),c.Ub(),c.Ub(),c.Vb(347,"div",21),c.Vb(348,"div",22),c.Vb(349,"label",96),c.Dc(350,"Red Flags - D&B Notes "),c.Vb(351,"span",12),c.Dc(352,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(353,"div",24),c.Vb(354,"textarea",97),c.cc("ngModelChange",function(){return t.idleReset()}),c.Dc(355,"                                        "),c.Ub(),c.Bc(356,Gd,2,1,"div",14),c.Ub(),c.Ub(),c.Vb(357,"div",21),c.Vb(358,"div",22),c.Vb(359,"label",98),c.Dc(360,"Risk Financial Grade "),c.Vb(361,"span",12),c.Dc(362,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(363,"div",24),c.Vb(364,"select",99),c.cc("ngModelChange",function(){return t.idleReset()}),c.Vb(365,"option",71),c.Dc(366,"Select"),c.Ub(),c.Vb(367,"option",71),c.Dc(368,"A"),c.Ub(),c.Vb(369,"option",71),c.Dc(370,"B"),c.Ub(),c.Vb(371,"option",71),c.Dc(372,"C"),c.Ub(),c.Vb(373,"option",71),c.Dc(374,"D"),c.Ub(),c.Ub(),c.Bc(375,zd,2,1,"div",14),c.Ub(),c.Ub(),c.Vb(376,"div",21),c.Vb(377,"div",22),c.Vb(378,"label",100),c.Dc(379,"Risk Financial Grade Notes"),c.Vb(380,"span",12),c.Dc(381,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(382,"div",24),c.Vb(383,"textarea",101),c.cc("ngModelChange",function(){return t.idleReset()}),c.Dc(384,"                                        "),c.Ub(),c.Bc(385,Wd,2,1,"div",14),c.Ub(),c.Ub(),c.Vb(386,"div",21),c.Vb(387,"div",74),c.Vb(388,"label",102),c.Dc(389,"Prequalification Expiry Date "),c.Vb(390,"span",12),c.Dc(391,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(392,"div",24),c.Vb(393,"div"),c.Vb(394,"input",103),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Bc(395,Zd,2,1,"div",14),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Sb(),c.Ub(),c.Ub(),c.Ub(),c.Vb(396,"div",104),c.Vb(397,"div",22),c.Vb(398,"button",105),c.Dc(399," << BACK"),c.Ub(),c.Ub(),c.Qb(400,"div",106),c.Vb(401,"div",22),c.Vb(402,"button",107),c.cc("click",function(){return t.saveOrSubmit("SAVE")}),c.Dc(403,"SAVE"),c.Ub(),c.Ub(),c.Ub(),c.Vb(404,"div",108),c.Qb(405,"div",28),c.Bc(406,Kd,3,0,"div",109),c.Bc(407,Jd,1,0,"div",110),c.Vb(408,"div",77),c.Vb(409,"button",111),c.cc("click",function(){return t.saveOrSubmit("APPROVED")}),c.Dc(410,"APPROVED & SEND INFO TO VP"),c.Ub(),c.Ub(),c.Ub()),2&e&&(c.Db(7),c.mc("formGroup",t.summary),c.Db(10),c.mc("ngClass",c.pc(71,Xd,t.summary.controls.project_Name.errors)),c.Db(1),c.mc("ngIf",t.summary.controls.project_Name.touched&&t.summary.controls.project_Name.errors),c.Db(8),c.mc("ngClass",c.pc(73,Xd,t.summary.controls.project_value_Detail.errors)),c.Db(1),c.mc("ngIf",t.summary.controls.project_value_Detail.touched&&t.summary.controls.project_value_Detail.errors),c.Db(9),c.mc("ngClass",c.pc(75,Xd,t.summary.controls.project_Notes.errors)),c.Db(2),c.mc("ngIf",t.summary.controls.project_Notes.touched&&t.summary.controls.project_Notes.errors),c.Db(26),c.mc("ngClass",c.pc(77,Xd,t.summary.controls.grade_Notes.errors)),c.Db(2),c.mc("ngIf",t.summary.controls.grade_Notes.touched&&t.summary.controls.grade_Notes.errors),c.Db(15),c.mc("ngClass",c.pc(79,Xd,t.summary.controls.risk_Inputs.errors)),c.Db(2),c.mc("ngIf",t.summary.controls.risk_Inputs.touched&&t.summary.controls.risk_Inputs.errors),c.Db(4),c.mc("formGroup",t.automatedReview),c.Db(97),c.mc("formGroup",t.riskReview),c.Db(12),c.mc("ngClass",c.pc(81,Xd,t.riskReview.controls.risk_Mitigation.errors)),c.Db(1),c.mc("ngValue",""),c.Db(2),c.mc("ngValue","LTLW"),c.Db(2),c.mc("ngValue","Personal Guarantee"),c.Db(2),c.mc("ngValue","Bond"),c.Db(2),c.mc("ngValue","Parent Guarantee"),c.Db(2),c.mc("ngValue","Joint Checks"),c.Db(2),c.mc("ngValue","Letter of Credit"),c.Db(2),c.mc("ngValue","Related Company Guarantees"),c.Db(2),c.mc("ngValue","Others"),c.Db(2),c.mc("ngIf",t.riskReview.controls.risk_Mitigation.touched&&t.riskReview.controls.risk_Mitigation.errors),c.Db(8),c.mc("ngClass",c.pc(83,Xd,t.riskReview.controls.financial_Types.errors)),c.Db(1),c.mc("ngValue",""),c.Db(2),c.mc("ngValue","In-house Financials"),c.Db(2),c.mc("ngValue","Reviewed"),c.Db(2),c.mc("ngValue","Compiled"),c.Db(2),c.mc("ngValue","Audited"),c.Db(2),c.mc("ngValue","Tax Returns"),c.Db(2),c.mc("ngValue","Others"),c.Db(2),c.mc("ngIf",t.riskReview.controls.financial_Types.touched&&t.riskReview.controls.financial_Types.errors),c.Db(9),c.mc("ngClass",c.pc(85,Xd,t.riskReview.controls.date_Of_Financials.errors)),c.Db(1),c.mc("ngIf",t.riskReview.controls.date_Of_Financials.errors),c.Db(15),c.mc("ngClass",c.pc(87,Xd,t.riskReview.controls.csrt_Single_Limit.errors)),c.Db(1),c.mc("ngIf",t.riskReview.controls.csrt_Single_Limit.touched&&t.riskReview.controls.csrt_Single_Limit.errors),c.Db(9),c.mc("ngClass",c.pc(89,Xd,t.riskReview.controls.csrt_Aggregate_Limit.errors)),c.Db(1),c.mc("ngIf",t.riskReview.controls.csrt_Aggregate_Limit.touched&&t.riskReview.controls.csrt_Aggregate_Limit.errors),c.Db(8),c.mc("ngClass",c.pc(91,Xd,t.riskReview.controls.operational_Years.errors)),c.Db(1),c.mc("ngIf",t.riskReview.controls.operational_Years.touched&&t.riskReview.controls.operational_Years.errors),c.Db(8),c.mc("ngClass",c.pc(93,Xd,t.riskReview.controls.largest_Indicated.errors)),c.Db(1),c.mc("ngIf",t.riskReview.controls.largest_Indicated.touched&&t.riskReview.controls.largest_Indicated.errors),c.Db(8),c.mc("ngClass",c.pc(95,Xd,t.riskReview.controls.bondable.errors)),c.Db(1),c.mc("ngValue",""),c.Db(2),c.mc("ngValue","yes"),c.Db(2),c.mc("ngValue","no"),c.Db(2),c.mc("ngIf",t.riskReview.controls.bondable.touched&&t.riskReview.controls.bondable.errors),c.Db(9),c.mc("ngClass",c.pc(97,Xd,t.riskReview.controls.bondable_Single_Limit.errors)),c.Db(1),c.mc("ngIf",t.riskReview.controls.bondable_Single_Limit.touched&&t.riskReview.controls.bondable_Single_Limit.errors),c.Db(9),c.mc("ngClass",c.pc(99,Xd,t.riskReview.controls.bondable_Aggregate_Limit.errors)),c.Db(1),c.mc("ngIf",t.riskReview.controls.bondable_Aggregate_Limit.touched&&t.riskReview.controls.bondable_Aggregate_Limit.errors),c.Db(8),c.mc("ngClass",c.pc(101,Xd,t.riskReview.controls.signature_Page.errors)),c.Db(1),c.mc("ngIf",t.riskReview.controls.signature_Page.touched&&t.riskReview.controls.signature_Page.errors),c.Db(8),c.mc("ngClass",c.pc(103,Xd,t.riskReview.controls.red_Flags.errors)),c.Db(2),c.mc("ngIf",t.riskReview.controls.red_Flags.touched&&t.riskReview.controls.red_Flags.errors),c.Db(8),c.mc("ngClass",c.pc(105,Xd,t.riskReview.controls.red_Flags_DB.errors)),c.Db(2),c.mc("ngIf",t.riskReview.controls.red_Flags_DB.touched&&t.riskReview.controls.red_Flags_DB.errors),c.Db(8),c.mc("ngClass",c.pc(107,Xd,t.riskReview.controls.financial_Grade.errors)),c.Db(1),c.mc("ngValue",""),c.Db(2),c.mc("ngValue","a"),c.Db(2),c.mc("ngValue","b"),c.Db(2),c.mc("ngValue","c"),c.Db(2),c.mc("ngValue","d"),c.Db(2),c.mc("ngIf",t.riskReview.controls.financial_Grade.errors&&t.riskReview.controls.financial_Grade.touched),c.Db(8),c.mc("ngClass",c.pc(109,Xd,t.riskReview.controls.risk_Financial_Grade_Notes.errors)),c.Db(2),c.mc("ngIf",t.riskReview.controls.risk_Financial_Grade_Notes.touched&&t.riskReview.controls.risk_Financial_Grade_Notes.errors),c.Db(9),c.mc("ngClass",c.pc(111,Xd,t.riskReview.controls.prequal_Expiry_Date.errors)),c.Db(1),c.mc("ngIf",t.riskReview.controls.prequal_Expiry_Date.errors),c.Db(11),c.mc("ngIf","RiskUser2"!=t.userRole),c.Db(1),c.mc("ngIf","RiskUser2"==t.userRole))},directives:[o.x,o.m,o.g,o.b,o.l,o.f,n.k,n.m,o.v,o.p,o.y,o.q],styles:[""]}),e})(),tu=(()=>{class e extends E.a{constructor(e,t){super("Surety",e,t,{root:O.a.webserviceURlLocal})}getAll(){return super.getAll()}getRecords(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("surety/"+e,O.a.webserviceURlLocal);return this.http.get(i,t)}updateRecord(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},n=this.httpUrlGenerator.entityResource("surety/"+t,O.a.webserviceURlLocal);return this.http.put(n,e,i)}addRecord(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("surety",O.a.webserviceURlLocal);return this.http.post(i,e,t)}getUser(e,t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},n=this.httpUrlGenerator.entityResource("Organization/"+e+"/"+t,O.a.webserviceURlLocal);return this.http.get(n,i)}getComplete(e){const t={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},i=this.httpUrlGenerator.entityResource("Organization/Getstatus/"+e,O.a.webserviceURlLocal);return this.http.get(i,t)}deleteRecord(e){const t={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.delete(O.a.webserviceURlLocal+"Files/"+e,t)}}return e.\u0275fac=function(t){return new(t||e)(c.Zb(j.b),c.Zb(E.c))},e.\u0275prov=c.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function iu(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Surety bond is required"),c.Ub())}function nu(e,t){if(1&e&&(c.Vb(0,"div",67),c.Bc(1,iu,2,0,"div",68),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.is_Surety_Bond.errors.required)}}function ou(e,t){1&e&&(c.Vb(0,"span",8),c.Dc(1,"*"),c.Ub())}function au(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Surety company name is required "),c.Ub())}function ru(e,t){if(1&e&&(c.Vb(0,"div",67),c.Bc(1,au,2,0,"div",68),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.surety_Company_Name.errors.required)}}function su(e,t){1&e&&(c.Vb(0,"span",8),c.Dc(1,"*"),c.Ub())}function cu(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Surety Agent name is required"),c.Ub())}function lu(e,t){if(1&e&&(c.Vb(0,"div",67),c.Bc(1,cu,2,0,"div",68),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.surety_Agent_Name.errors.required)}}function du(e,t){1&e&&(c.Vb(0,"span",8),c.Dc(1,"*"),c.Ub())}function uu(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Surety agent email is required "),c.Ub())}function mu(e,t){if(1&e&&(c.Vb(0,"div",67),c.Bc(1,uu,2,0,"div",68),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.surety_Agent_Email.errors.required)}}function bu(e,t){1&e&&(c.Vb(0,"span",8),c.Dc(1,"*"),c.Ub())}function pu(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Surety Agent Phone is required "),c.Ub())}function fu(e,t){if(1&e&&(c.Vb(0,"div",67),c.Bc(1,pu,2,0,"div",68),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.surety_Agent_Phone.errors.required)}}function hu(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Extention is required "),c.Ub())}function gu(e,t){if(1&e&&(c.Vb(0,"div",67),c.Bc(1,hu,2,0,"div",68),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.surety_Agent_Phone_Ext.errors.required)}}function _u(e,t){1&e&&(c.Vb(0,"span",8),c.Dc(1,"*"),c.Ub())}function vu(e,t){if(1&e&&(c.Vb(0,"option",36),c.Dc(1),c.Ub()),2&e){const e=t.$implicit;c.mc("ngValue",e.name),c.Db(1),c.Fc("",e.name," ")}}function yu(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Present surety years is required "),c.Ub())}function Vu(e,t){if(1&e&&(c.Vb(0,"div",67),c.Bc(1,yu,2,0,"div",68),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.present_Surety_Years.errors.required)}}function Uu(e,t){1&e&&(c.Vb(0,"span",8),c.Dc(1,"*"),c.Ub())}function Du(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Bonding limit is required"),c.Ub())}function Cu(e,t){if(1&e&&(c.Vb(0,"div",67),c.Bc(1,Du,2,0,"div",68),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.bonding_Limit.errors.required)}}function Iu(e,t){1&e&&(c.Vb(0,"span",8),c.Dc(1,"*"),c.Ub())}function Ru(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Aggregate bonding capacity is required "),c.Ub())}function Fu(e,t){if(1&e&&(c.Vb(0,"div",67),c.Bc(1,Ru,2,0,"div",68),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.aggregate_Bonding.errors.required)}}function wu(e,t){1&e&&(c.Vb(0,"span",8),c.Dc(1,"*"),c.Ub())}function Su(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Available bonding capacity is required "),c.Ub())}function ku(e,t){if(1&e&&(c.Vb(0,"div",67),c.Bc(1,Su,2,0,"div",68),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.available_Bonding.errors.required)}}function xu(e,t){1&e&&(c.Vb(0,"span",8),c.Dc(1,"*"),c.Ub())}function Pu(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Bonding letter is required"),c.Ub())}function Au(e,t){if(1&e&&(c.Vb(0,"div",67),c.Bc(1,Pu,2,0,"div",68),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.surety_Upload.errors.required)}}function Ou(e,t){1&e&&(c.Vb(0,"div",69),c.Vb(1,"span"),c.Dc(2,"Uploading..."),c.Ub(),c.Qb(3,"mat-progress-spinner",70),c.Ub())}function Eu(e,t){if(1&e){const e=c.Wb();c.Vb(0,"div"),c.Vb(1,"p",71),c.Vb(2,"small"),c.Vb(3,"a",72),c.Dc(4),c.Ub(),c.Ub(),c.Vb(5,"small",73),c.cc("click",function(){c.uc(e);const i=t.index,n=t.$implicit;return c.gc().removeqcpUpload(i,n)}),c.Dc(6,"X"),c.Ub(),c.Ub(),c.Ub()}if(2&e){const e=t.$implicit;c.Db(3),c.nc("href",e.file_Path,c.wc),c.Db(1),c.Ec(e.name)}}function ju(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Risk manager is required"),c.Ub())}function Mu(e,t){if(1&e&&(c.Vb(0,"div",67),c.Bc(1,ju,2,0,"div",68),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.is_Risk_Manager.errors.required)}}function Nu(e,t){1&e&&(c.Vb(0,"span",8),c.Dc(1,"*"),c.Ub())}function qu(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Risk manager name is required"),c.Ub())}function Bu(e,t){if(1&e&&(c.Vb(0,"div",67),c.Bc(1,qu,2,0,"div",68),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.risk_Manager_Name.errors.required)}}function Lu(e,t){1&e&&(c.Vb(0,"span",8),c.Dc(1,"*"),c.Ub())}function Tu(e,t){1&e&&(c.Vb(0,"div"),c.Dc(1,"Risk manager email is required "),c.Ub())}function Yu(e,t){if(1&e&&(c.Vb(0,"div",67),c.Bc(1,Tu,2,0,"div",68),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",e.f.risk_Manager_Email.errors.required)}}function Gu(e,t){if(1&e){const e=c.Wb();c.Vb(0,"div",74),c.Vb(1,"button",75),c.cc("click",function(){return c.uc(e),c.gc().gotoHome()}),c.Dc(2," << BACK"),c.Ub(),c.Vb(3,"button",76),c.cc("click",function(){return c.uc(e),c.gc().save()}),c.Dc(4),c.Ub(),c.Vb(5,"button",77),c.Dc(6,"NEXT >>"),c.Ub(),c.Ub()}if(2&e){const e=c.gc();c.Db(4),c.Fc("",e.submitText," ")}}function Qu(e,t){if(1&e){const e=c.Wb();c.Vb(0,"div",78),c.Vb(1,"button",75),c.cc("click",function(){return c.uc(e),c.gc().gotoHome()}),c.Dc(2," << BACK"),c.Ub(),c.Vb(3,"button",79),c.cc("click",function(){return c.uc(e),c.gc().nextroutePage()}),c.Dc(4,"NEXT >>"),c.Ub(),c.Ub()}}function zu(e,t){if(1&e&&c.Qb(0,"app-comment",80),2&e){const e=c.gc();c.mc("events",e.eventsSubject.asObservable())("formId",e.suretyid)("companyId",e.tempcompanyid)}}const $u=function(e){return{"bg-grey":e}},Wu=function(e){return{"is-invalid":e}},Hu=[{path:"",component:Ts,children:[{path:"companyinfo",component:Rt},{path:"experience",component:Ii},{path:"safetyinfo",component:hr},{path:"personnel",component:Ps},{path:"relevant",component:Wl},{path:"surety",component:(()=>{class e{constructor(e,t,i,n,a,r,c,l,d,u){this.formBuilder=e,this.router=t,this.bnIdle=i,this.keepalive=n,this.toastr=a,this.project=r,this.logininfo=c,this.ngxUiLoader=l,this.suretyinfoService=d,this.companyservice=u,this.currentForm=4,this.suretyForm=this.formBuilder.group({id:[0],companyId:[null,[o.w.maxLength(130)]],is_Surety_Bond:["no",[o.w.required]],surety_Company_Name:["",[o.w.maxLength(130)]],surety_Agent_Name:["",[o.w.maxLength(256)]],surety_Agent_Email:["",[o.w.required,o.w.email]],surety_Agent_Phone:["",[o.w.maxLength(256),o.w.pattern(/^-?(0|[1-9]\d*)?$/)]],surety_Agent_Phone_Ext:["",[o.w.maxLength(256)]],present_Surety_Years:["",[o.w.maxLength(256)]],bonding_Limit:["",[o.w.maxLength(256),o.w.pattern(/^-?(0|[1-9]\d*)?$/)]],aggregate_Bonding:["",[o.w.pattern(/^-?(0|[1-9]\d*)?$/)]],available_Bonding:["",[o.w.pattern(/^-?(0|[1-9]\d*)?$/)]],surety_Upload:[""],is_Risk_Manager:["no",[o.w.required]],risk_Manager_Name:["",[o.w.required]],risk_Manager_Email:["",[o.w.email,o.w.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)]],isAutosave:[!1]}),this.submitText="SAVE",this.showAdmin=!1,this.suretyid=0,this.setTimeout=0,this.resetTimer=0,this.bondingAttachment=[],this.submitted=!1,this.spinner={bondingSpinner:!1},this.suretyyears=[{name:"less than 1 years"},{name:"1-3 years"},{name:"3-5 years"},{name:"5-7 years"},{name:"7-9 years"},{name:"9+years"}],this.showdisabled=!1,this.eventsSubject=new s.a}ngOnInit(){this.ngxUiLoader.startLoader("loader-01"),localStorage.setItem("currPage","suretyinfo"),this.prequalification_status=this.logininfo.organization_status,this.submitText="SAVE";let e=localStorage.getItem("userDetails");e=JSON.parse(atob(e)),this.userDetails=e,this.userRole=e.role,this.tempcompanyid=localStorage.getItem("tempcompanyid"),this.tempcompanyid=Number(atob(this.tempcompanyid)),this.tempcompanyid>0&&"Subcontractor"!=this.userRole&&(this.showAdmin=!0,this.suretyinfoService.getRecords(this.tempcompanyid).subscribe(e=>{this.showdisabled=!0,this.showAdmin=!0,(null==e?void 0:e.length)&&(this.suretyid=e[0].id,this.submitText=e[0].is_Surety_Bond?"UPDATE":"SAVE",this.updateSurety(e)),this.suretyForm.disable(),this.suretyForm.updateValueAndValidity()})),null!=this.userDetails.vendorId&&null!=this.userDetails.taxId&&"Subcontractor"==this.userRole&&this.suretyinfoService.getUser(this.userDetails.vendorId,this.userDetails.taxId).subscribe(e=>{this.companyId=e.id,localStorage.setItem("companyid",btoa(this.companyId)),this.getRecords()}),this.ngxUiLoader.stopLoader("loader-01"),console.log(this.suretyid)}ngAfterViewInit(){this.keepalive.interval(30),this.keepalive.stop(),0==this.setTimeout&&this.keepalive.stop()}resetSuretyBond(){this.suretyForm.patchValue({surety_Company_Name:"",surety_Agent_Email:"",surety_Agent_Name:"",surety_Agent_Phone:"",surety_Agent_Phone_Ext:"",present_Surety_Years:"",bonding_Limit:"",aggregate_Bonding:"",available_Bonding:"",surety_Upload:""}),this.showdisabled=!1,this.bondingAttachment.forEach((e,t)=>{this.removeqcpUpload(t,e,!1)})}resetRiskManager(){this.suretyForm.patchValue({risk_Manager_Name:"",risk_Manager_Email:""})}ngOnDestroy(){this.keepalive.stop(),this.nextpage()}idleReset(){this.keepalive.stop(),this.keepalive.start(),this.resetTimer=0}gotoHome(){this.emitEventToChild(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm-1].url}`])}get f(){var e;return"yes"==this.suretyForm.value.is_Surety_Bond?(this.suretyForm.controls.surety_Company_Name.setValidators([o.w.required]),this.suretyForm.controls.surety_Agent_Name.setValidators([o.w.required]),this.suretyForm.controls.surety_Agent_Email.setValidators([o.w.required,o.w.email,o.w.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)]),this.suretyForm.controls.surety_Agent_Phone.setValidators([o.w.required]),this.suretyForm.controls.present_Surety_Years.setValidators([o.w.required]),this.suretyForm.controls.bonding_Limit.setValidators([o.w.required]),this.suretyForm.controls.aggregate_Bonding.setValidators([o.w.required]),this.suretyForm.controls.available_Bonding.setValidators([o.w.required]),this.suretyForm.controls.surety_Upload.setValidators([o.w.required])):(this.suretyForm.controls.surety_Company_Name.clearValidators(),this.suretyForm.controls.surety_Agent_Name.clearValidators(),this.suretyForm.controls.surety_Agent_Email.clearValidators(),this.suretyForm.controls.surety_Agent_Phone.clearValidators(),this.suretyForm.controls.present_Surety_Years.clearValidators(),this.suretyForm.controls.bonding_Limit.clearValidators(),this.suretyForm.controls.aggregate_Bonding.clearValidators(),this.suretyForm.controls.available_Bonding.clearValidators(),this.suretyForm.controls.surety_Upload.clearValidators()),this.suretyForm.controls.surety_Company_Name.updateValueAndValidity(),this.suretyForm.controls.surety_Agent_Name.updateValueAndValidity(),this.suretyForm.controls.surety_Agent_Email.updateValueAndValidity(),this.suretyForm.controls.surety_Agent_Phone.updateValueAndValidity(),this.suretyForm.controls.surety_Agent_Phone_Ext.updateValueAndValidity(),this.suretyForm.controls.present_Surety_Years.updateValueAndValidity(),this.suretyForm.controls.bonding_Limit.updateValueAndValidity(),this.suretyForm.controls.aggregate_Bonding.updateValueAndValidity(),this.suretyForm.controls.available_Bonding.updateValueAndValidity(),this.suretyForm.controls.surety_Upload.updateValueAndValidity(),"yes"==this.suretyForm.value.is_Risk_Manager?(this.suretyForm.controls.risk_Manager_Name.setValidators([o.w.required]),this.suretyForm.controls.risk_Manager_Email.setValidators([o.w.required,o.w.email,o.w.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)])):(this.suretyForm.patchValue({risk_Manager_Name:this.suretyForm.value.risk_Manager_Name,risk_Manager_Email:this.suretyForm.value.risk_Manager_Email}),this.suretyForm.controls.risk_Manager_Name.clearValidators(),this.suretyForm.controls.risk_Manager_Email.clearValidators()),this.suretyForm.controls.risk_Manager_Name.updateValueAndValidity(),this.suretyForm.controls.risk_Manager_Email.updateValueAndValidity(),(null===(e=this.bondingAttachment)||void 0===e?void 0:e.length)>0&&(this.suretyForm.controls.surety_Upload.setValidators(null),this.suretyForm.controls.surety_Upload.updateValueAndValidity()),this.suretyForm.controls}updateSurety(e){this.suretyForm.patchValue({id:e[0].id,companyId:e[0].companyId,is_Surety_Bond:null==e[0].is_Surety_Bond?"no":this.logininfo.validateEmpty(e[0].is_Surety_Bond),surety_Company_Name:this.logininfo.validateEmpty(e[0].surety_Company_Name),surety_Agent_Email:this.logininfo.validateEmpty(e[0].surety_Agent_Email),surety_Agent_Name:this.logininfo.validateEmpty(e[0].surety_Agent_Name),surety_Agent_Phone:this.logininfo.validateEmpty(e[0].surety_Agent_Phone),surety_Agent_Phone_Ext:this.logininfo.validateEmpty(e[0].surety_Agent_Phone_Ext),present_Surety_Years:this.logininfo.validateEmpty(e[0].present_Surety_Years),bonding_Limit:this.logininfo.validateEmpty(e[0].bonding_Limit),aggregate_Bonding:this.logininfo.validateEmpty(e[0].aggregate_Bonding),available_Bonding:this.logininfo.validateEmpty(e[0].available_Bonding),is_Risk_Manager:null==e[0].is_Risk_Manager?"no":this.logininfo.validateEmpty(e[0].is_Risk_Manager),risk_Manager_Name:this.logininfo.validateEmpty(e[0].risk_Manager_Name),risk_Manager_Email:this.logininfo.validateEmpty(e[0].risk_Manager_Email)}),this.bondingAttachment=[],e[0].files.filter(e=>{this.bondingAttachment.push(e.file_Name.length<31?{id:e.id,name:e.file_Name,file_Path:e.file_Path}:{id:e.id,name:e.file_Name.substring(0,31)+"....",file_Path:e.file_Path})})}save(){if(console.log(this.suretyForm,this.suretyid),this.submitted=!0,this.keepalive.stop(),this.suretyForm.valid)if(0==this.suretyid){this.suretyForm.patchValue({isAutosave:!1,surety_Upload:""});let e=this.formMethod();this.suretyinfoService.addRecord(e).subscribe(e=>{this.getRecords(),this.submitText="UPDATE",this.fileReset(),this.resetSpinner(),this.toastr.success("Surety Information saved successfully","Surety Information")})}else{this.suretyForm.patchValue({isAutosave:!1,surety_Upload:""});let e=this.formMethod();this.suretyinfoService.updateRecord(e,this.suretyid).subscribe(e=>{this.getRecords(),this.fileReset(),this.resetSpinner(),this.toastr.success("Surety Information updated successfully","Surety Information")})}}submit(){if("Subcontractor"!=this.userRole)this.emitEventToChild(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`]);else if(console.log(this.suretyForm),this.keepalive.stop(),this.ngxUiLoader.startLoader("loader-01"),0==this.suretyid){let e=this.formMethod();this.suretyinfoService.addRecord(e).subscribe(e=>{this.toastr.success("Surety Information saved successfully","Surety Information"),this.getRecords(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])})}else{this.suretyForm.patchValue({isAutosave:!1});let e=this.formMethod();this.suretyinfoService.updateRecord(e,this.suretyid).subscribe(e=>{this.toastr.success("Surety Information updated successfully","Surety Information"),this.getRecords(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])})}}autoSave(){if(this.resetTimer+=1,1==this.resetTimer)if(0==this.suretyid){let e=this.formMethod();this.suretyinfoService.addRecord(e).subscribe(e=>{this.getRecords()})}else{this.suretyForm.patchValue({isAutosave:!1});let e=this.formMethod();this.suretyinfoService.updateRecord(e,this.suretyid).subscribe(e=>{this.getRecords()})}}nextpage(){if("Subcontractor"==this.userRole)if(0==this.suretyid){let e=this.formMethod();this.suretyinfoService.addRecord(e).subscribe(e=>{})}else{this.suretyForm.patchValue({isAutosave:!1});let e=this.formMethod();this.suretyinfoService.updateRecord(e,this.suretyid).subscribe(e=>{})}}fileupload(){if(this.keepalive.stop(),0==this.suretyid){this.suretyForm.patchValue({isAutosave:!0});let e=this.formMethod();this.suretyinfoService.addRecord(e).subscribe(e=>{this.keepalive.stop(),this.suretyForm.patchValue({surety_Upload:"",id:e.id}),this.submitText="UPDATE",this.getRecords(),this.resetSpinner(),this.submitted=!1})}else{this.suretyForm.patchValue({id:this.suretyid,isAutosave:!0});let e=this.formMethod();this.suretyinfoService.updateRecord(e,this.suretyForm.value.id).subscribe(e=>{this.keepalive.stop(),this.getRecords(),this.resetSpinner(),this.suretyForm.patchValue({surety_Upload:""}),this.submitted=!1})}}autosave(){if(this.resetTimer+=1,1==this.resetTimer)if(0==this.suretyid){this.suretyForm.patchValue({isAutosave:!1});let e=this.formMethod();this.suretyinfoService.addRecord(e).subscribe(e=>{this.submitText="UPDATE",this.getRecords(),this.fileReset(),this.keepalive.stop(),this.resetSpinner()})}else{this.suretyForm.patchValue({isAutosave:!0});let e=this.formMethod();this.suretyinfoService.updateRecord(e,this.suretyid).subscribe(e=>{this.getRecords(),this.fileReset(),this.keepalive.stop(),this.resetSpinner(),this.suretyForm.patchValue({isAutosave:!1})})}}formMethod(){var e=new FormData;e.append("id",this.suretyForm.value.id),e.append("companyId",this.companyId),e.append("is_Surety_Bond",this.logininfo.validateEmpty(this.suretyForm.value.is_Surety_Bond)),e.append("surety_Company_Name",this.logininfo.validateEmpty(this.suretyForm.value.surety_Company_Name)),e.append("surety_Agent_Name",this.logininfo.validateEmpty(this.suretyForm.value.surety_Agent_Name)),e.append("surety_Agent_Email",this.logininfo.validateEmpty(this.suretyForm.value.surety_Agent_Email)),e.append("surety_Agent_Phone",this.logininfo.validateEmpty(this.suretyForm.value.surety_Agent_Phone)),e.append("surety_Agent_Phone_Ext",this.logininfo.validateEmpty(this.suretyForm.value.surety_Agent_Phone_Ext)),e.append("present_Surety_Years",this.logininfo.validateEmpty(this.suretyForm.value.present_Surety_Years)),e.append("bonding_Limit",this.logininfo.validateEmpty(this.suretyForm.value.bonding_Limit)),e.append("aggregate_Bonding",this.logininfo.validateEmpty(this.suretyForm.value.aggregate_Bonding)),e.append("available_Bonding",this.logininfo.validateEmpty(this.suretyForm.value.available_Bonding)),e.append("is_Risk_Manager",this.logininfo.validateEmpty(this.suretyForm.value.is_Risk_Manager)),e.append("risk_Manager_Name",this.logininfo.validateEmpty(this.suretyForm.value.risk_Manager_Name)),e.append("risk_Manager_Email",this.logininfo.validateEmpty(this.suretyForm.value.risk_Manager_Email));for(let t=0;t<this.bondingAttachment.length;t++)e.append("surety_Upload",this.bondingAttachment[t]);return this.bondingAttachment=[],e}qcpUpload(e){let t=document.getElementById("surety_Upload");for(let i=0;i<t.files.length;i++)this.bondingAttachment.push(t.files[i]);this.spinner.bondingSpinner=!0,this.fileupload()}filepreview(e,t){var i=new FileReader;i.onload=i=>{console.log(i.target);let n=new Blob(e.files,{type:e.files[t].type});var o=(window.URL||window.webkitURL).createObjectURL(n);console.log("path",o,e.value);var a=document.createElement("a"),r=document.createTextNode("View File");a.target="_blank",a.appendChild(r),a.href=o,a.click(),e.appendChild(a)},i.readAsDataURL(e.files[t])}removeqcpUpload(e,t,i=!0){console.log(this.showdisabled+" "+t),this.showdisabled||this.suretyinfoService.deleteRecord(t.id).subscribe(t=>{this.bondingAttachment.splice(e,1),i&&this.toastr.info("File removed successfully","Surety Info")})}CommaFormatted(e,t){var i,n;e.AT_TARGET>=37&&e.AT_TARGET<=40||this.suretyForm.patchValue({[t]:null===(n=null===(i=this.suretyForm.get(t))||void 0===i?void 0:i.value)||void 0===n?void 0:n.replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,",")})}numberCheck(e){return"e"!==e.key&&"+"!==e.key&&"-"!==e.key}resetSpinner(){this.spinner={bondingSpinner:!1}}fileReset(){this.suretyForm.patchValue({surety_Upload:""})}emitEventToChild(){this.eventsSubject.next()}getRecords(){this.suretyinfoService.getRecords(this.companyId).subscribe(e=>{e.length&&(this.suretyid=e[0].id,this.submitText=e[0].is_Surety_Bond?"UPDATE":"SAVE",this.updateSurety(e))}),this.companyId>0&&this.companyservice.getRecord(this.companyId).subscribe(e=>{e=e[0],console.log(e.preQualification_Status),this.prequalification_status=e.preQualification_Status,e.preQualification_Status&&this.logininfo.formDisable(e.preQualification_Status)&&(this.showdisabled=!0,this.suretyForm.disable(),this.suretyForm.updateValueAndValidity())})}setPatternValidator(e){return!!/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}nextroutePage(){this.emitEventToChild(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(o.d),c.Pb(a.f),c.Pb(d.a),c.Pb(m.a),c.Pb(h.b),c.Pb(_.a),c.Pb(v),c.Pb(y.c),c.Pb(tu),c.Pb(l.a))},e.\u0275cmp=c.Jb({type:e,selectors:[["app-suretyinfo"]],decls:155,vars:108,consts:[[1,"px-2",3,"formGroup","ngSubmit","keydown.enter"],[1,"px-1","my-2","form-bg",3,"ngClass"],[1,"form-group","input-group","row","px-2","mx-auto","pb-3"],[1,"row"],[1,"col-lg-6","px-2","col-head-1","mx-auto","mt-2"],[1,"row","bg-white","col-curve-top","mx-auto","py-2","mt-2"],["for","is_Surety_Bond",1,"my-auto","fw-bold"],[1,"col-7","ps-3","pt-1"],[1,"text-danger"],[1,"col-5"],[1,"col-lg-5"],["type","radio","formControlName","is_Surety_Bond","value","yes","checked","checked","name","is_Surety_Bond","id","is_Surety_Bond_yes",3,"ngModelChange"],["for","is_Surety_Bond_yes",3,"ngClass"],[1,"col-lg-7"],["type","radio","formControlName","is_Surety_Bond","value","no","name","is_Surety_Bond","id","is_Surety_Bond_no",3,"ngClass","ngModelChange","click"],["for","is_Surety_Bond_no"],["class","invalid-feedback",4,"ngIf"],[1,"pb-1"],[1,"ps-3","px-1",3,"ngClass"],[1,"row",3,"ngClass"],[1,"fw-bold","pt-1"],[1,"col-6"],["for","surety_Company_Name",1,"my-auto","font-italic"],["class","text-danger",4,"ngIf"],["type","text","formControlName","surety_Company_Name","id","surety_Company_Name","name","surety_Company_Name",1,"form-control",3,"ngClass","ngModelChange"],["for","surety_Agent_Name",1,"my-auto","font-italic"],["type","text","formControlName","surety_Agent_Name","id","surety_Agent_Name","name","surety_Agent_Name",1,"form-control",3,"ngClass","ngModelChange"],["for","surety_Agent_Email",1,"my-auto","font-italic"],["type","email","formControlName","surety_Agent_Email","id","surety_Agent_Email","email","true","name","surety_Agent_Email","pattern","/^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$/ ",1,"form-control",3,"ngClass","ngModelChange"],["for","surety_Agent_Phone",1,"my-auto","font-italic","float-right"],[1,"col-10","float-left"],["type","text","appPhoneMask","","onKeyPress","if(this.value.length==15) return false;","formControlName","surety_Agent_Phone","id","surety_Agent_Phone","name","surety_Agent_Phone",1,"form-control",3,"ngClass","ngModelChange"],[1,"col-2","float-left"],["type","number","onKeyPress","if(this.value.length==3) return false;","formControlName","surety_Agent_Phone_Ext","pattern","[0-9]+","id","surety_Agent_Phone_Ext","name","surety_Agent_Phone_Ext",1,"form-control",3,"ngClass","ngModelChange"],["for","present_Surety_Years",1,"my-auto","font-italic"],["formControlName","present_Surety_Years","id","present_Surety_Years","name","state",1,"form-control","form-select",3,"ngClass","ngModelChange"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["for","bonding_Limit",1,"my-auto","font-italic"],["type","number","formControlName","bonding_Limit","id","bonding_Limit","name","bonding_Limit",1,"form-control",3,"ngClass","ngModelChange"],["for","aggregate_Bonding",1,"my-auto","font-italic"],["type","text","formControlName","aggregate_Bonding","id","aggregate_Bonding","name","aggregate_Bonding",1,"form-control",3,"ngClass","ngModelChange","keydown","keyup"],["for","available_Bonding",1,"my-auto","font-italic"],["type","text","formControlName","available_Bonding","id","available_Bonding","name","available_Bonding",1,"form-control",3,"ngClass","ngModelChange","keydown","keyup"],["for","surety_Upload",1,"my-auto","font-italic","float-right"],[1,"col-6","pb-2"],[1,"form-control-customitem","form-control"],["type","file","title","Choose file","formControlName","surety_Upload","id","surety_Upload","name","surety_Upload","multiple","",3,"ngClass","change"],["for","surety_Upload"],["class","spinner__loading pt-3",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"col-lg-6","col-curve-top","bg-white","px-2","col-head-2","mx-auto","mt-2"],[1,"row","mx-0","px-0","py-2","mt-1"],[1,"col-7"],["for","is_Risk_Manager",1,"my-auto","fw-bold"],["type","radio","formControlName","is_Risk_Manager","value","yes","checked","checked","name","is_Risk_Manager","id","is_Risk_Manager_yes",3,"ngModelChange"],["for","is_Risk_Manager_yes",3,"ngClass"],["type","radio","formControlName","is_Risk_Manager","value","no","name","is_Risk_Manager","id","is_Risk_Manager",3,"ngClass","ngModelChange","click"],["for","is_Risk_Manager"],["for","risk_Manager_Name",1,"my-auto","font-italic",3,"ngClass"],["type","text","formControlName","risk_Manager_Name","id","risk_Manager_Name","name","risk_Manager_Name",1,"form-control",3,"ngClass","ngModelChange"],["for","risk_Manager_Email",1,"my-auto","font-italic",3,"ngClass"],["type","email","formControlName","risk_Manager_Email","id","risk_Manager_Email","name","risk_Manager_Email",1,"form-control",3,"ngClass","ngModelChange"],[1,"col-lg-6","col-curve","px-2","col-head-1","mx-auto","mt-2"],["class","text-end mx-lg-4 my-3",4,"ngIf"],["class","text-end mx-4 my-3",4,"ngIf"],["headerReview","Risk Review & Inputs","formname","surety",3,"events","formId","companyId",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner__loading","pt-3"],["diameter","18","mode","indeterminate",1,"mt-1"],[1,"file-tag"],["target","_blank",3,"href"],[1,"file-close","text-white",3,"click"],[1,"text-end","mx-lg-4","my-3"],[1,"btn","float-start","btn","default-btn",3,"click"],["type","button",1,"btn","ml-4","default-btn",3,"click"],["type","submit",1,"btn","btn-success","mx-2","default-btn"],[1,"text-end","mx-4","my-3"],[1,"btn","btn-success","mx-2","default-btn",3,"click"],["headerReview","Risk Review & Inputs","formname","surety",3,"events","formId","companyId"]],template:function(e,t){1&e&&(c.Vb(0,"form",0),c.cc("ngSubmit",function(){return t.submit()})("keydown.enter",function(e){return e.preventDefault()}),c.Vb(1,"div",1),c.Vb(2,"div",2),c.Vb(3,"div",3),c.Vb(4,"div",4),c.Vb(5,"div",5),c.Vb(6,"div",3),c.Vb(7,"h6",6),c.Dc(8,"1. Surety bond "),c.Ub(),c.Ub(),c.Vb(9,"div",3),c.Vb(10,"div",7),c.Vb(11,"h6",6),c.Dc(12,"Can your company provide a surety bond? "),c.Vb(13,"span",8),c.Dc(14,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(15,"div",9),c.Vb(16,"div",3),c.Vb(17,"span",10),c.Vb(18,"input",11),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Vb(19,"label",12),c.Dc(20," YES"),c.Ub(),c.Ub(),c.Vb(21,"span",13),c.Vb(22,"input",14),c.cc("ngModelChange",function(){return t.idleReset()})("click",function(){return t.resetSuretyBond()}),c.Ub(),c.Vb(23,"label",15),c.Dc(24," NO"),c.Ub(),c.Ub(),c.Bc(25,nu,2,1,"div",16),c.Ub(),c.Ub(),c.Ub(),c.Qb(26,"div",17),c.Vb(27,"div",18),c.Vb(28,"div",19),c.Vb(29,"h6",20),c.Dc(30,"Surety bond Details"),c.Ub(),c.Vb(31,"div",21),c.Vb(32,"label",22),c.Dc(33,"Surety Company Name: "),c.Bc(34,ou,2,0,"span",23),c.Ub(),c.Ub(),c.Vb(35,"div",21),c.Vb(36,"input",24),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Bc(37,ru,2,1,"div",16),c.Ub(),c.Ub(),c.Vb(38,"div",3),c.Vb(39,"div",21),c.Vb(40,"label",25),c.Dc(41,"Surety Agent Name: "),c.Bc(42,su,2,0,"span",23),c.Ub(),c.Ub(),c.Vb(43,"div",21),c.Vb(44,"input",26),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Bc(45,lu,2,1,"div",16),c.Ub(),c.Ub(),c.Vb(46,"div",3),c.Vb(47,"div",21),c.Vb(48,"label",27),c.Dc(49,"Surety Agent Email: "),c.Bc(50,du,2,0,"span",23),c.Ub(),c.Ub(),c.Vb(51,"div",21),c.Vb(52,"input",28),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Bc(53,mu,2,1,"div",16),c.Ub(),c.Ub(),c.Vb(54,"div",3),c.Vb(55,"div",21),c.Vb(56,"label",29),c.Dc(57,"Surety Agent Phone: "),c.Bc(58,bu,2,0,"span",23),c.Ub(),c.Ub(),c.Vb(59,"div",21),c.Vb(60,"div",30),c.Vb(61,"input",31),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Bc(62,fu,2,1,"div",16),c.Ub(),c.Vb(63,"div",32),c.Vb(64,"input",33),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Bc(65,gu,2,1,"div",16),c.Ub(),c.Ub(),c.Ub(),c.Vb(66,"div",3),c.Vb(67,"div",21),c.Vb(68,"label",34),c.Dc(69,"How long have you been with your present surety: "),c.Bc(70,_u,2,0,"span",23),c.Ub(),c.Ub(),c.Vb(71,"div",21),c.Vb(72,"select",35),c.cc("ngModelChange",function(){return t.idleReset()}),c.Vb(73,"option",36),c.Dc(74,"Select"),c.Ub(),c.Bc(75,vu,2,2,"option",37),c.Ub(),c.Bc(76,Vu,2,1,"div",16),c.Ub(),c.Ub(),c.Vb(77,"div",3),c.Vb(78,"div",21),c.Vb(79,"label",38),c.Dc(80,"Bonding limit per project: "),c.Bc(81,Uu,2,0,"span",23),c.Ub(),c.Ub(),c.Vb(82,"div",21),c.Vb(83,"input",39),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Bc(84,Cu,2,1,"div",16),c.Ub(),c.Ub(),c.Vb(85,"div",3),c.Vb(86,"div",21),c.Vb(87,"label",40),c.Dc(88,"Aggregate bonding capacity: "),c.Bc(89,Iu,2,0,"span",23),c.Ub(),c.Ub(),c.Vb(90,"div",21),c.Vb(91,"input",41),c.cc("ngModelChange",function(){return t.idleReset()})("keydown",function(e){return t.numberCheck(e)})("keyup",function(e){return t.CommaFormatted(e,"aggregate_Bonding")}),c.Ub(),c.Bc(92,Fu,2,1,"div",16),c.Ub(),c.Ub(),c.Vb(93,"div",3),c.Vb(94,"div",21),c.Vb(95,"label",42),c.Dc(96,"Available bonding capacity: "),c.Bc(97,wu,2,0,"span",23),c.Ub(),c.Ub(),c.Vb(98,"div",21),c.Vb(99,"input",43),c.cc("ngModelChange",function(){return t.idleReset()})("keydown",function(e){return t.numberCheck(e)})("keyup",function(e){return t.CommaFormatted(e,"available_Bonding")}),c.Ub(),c.Bc(100,ku,2,1,"div",16),c.Ub(),c.Ub(),c.Vb(101,"div",3),c.Vb(102,"div",21),c.Vb(103,"label",44),c.Dc(104,"Attach Bonding Letter from surety: "),c.Bc(105,xu,2,0,"span",23),c.Ub(),c.Ub(),c.Vb(106,"div",45),c.Vb(107,"div",46),c.Vb(108,"input",47),c.cc("change",function(e){return t.qcpUpload(e)}),c.Ub(),c.Vb(109,"span",48),c.Dc(110," \xa0 Click here to Add Files"),c.Ub(),c.Ub(),c.Bc(111,Au,2,1,"div",16),c.Bc(112,Ou,4,0,"div",49),c.Bc(113,Eu,7,2,"div",50),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(114,"div",51),c.Vb(115,"div",52),c.Vb(116,"div",3),c.Vb(117,"div",53),c.Vb(118,"h6",54),c.Dc(119,"2. Does your company have a Risk Manager? "),c.Vb(120,"span",8),c.Dc(121,"*"),c.Ub(),c.Ub(),c.Ub(),c.Vb(122,"div",9),c.Vb(123,"div",3),c.Vb(124,"span",10),c.Vb(125,"input",55),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Vb(126,"label",56),c.Dc(127," YES"),c.Ub(),c.Ub(),c.Vb(128,"span",13),c.Vb(129,"input",57),c.cc("ngModelChange",function(){return t.idleReset()})("click",function(){return t.resetRiskManager()}),c.Ub(),c.Vb(130,"label",58),c.Dc(131," NO"),c.Ub(),c.Ub(),c.Ub(),c.Bc(132,Mu,2,1,"div",16),c.Ub(),c.Ub(),c.Vb(133,"div",3),c.Vb(134,"div",9),c.Vb(135,"label",59),c.Dc(136,"Risk Manager Name:"),c.Bc(137,Nu,2,0,"span",23),c.Ub(),c.Ub(),c.Vb(138,"div",53),c.Vb(139,"input",60),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Bc(140,Bu,2,1,"div",16),c.Ub(),c.Ub(),c.Vb(141,"div",3),c.Vb(142,"div",9),c.Vb(143,"label",61),c.Dc(144,"Risk Manager Email: "),c.Bc(145,Lu,2,0,"span",23),c.Ub(),c.Ub(),c.Vb(146,"div",53),c.Vb(147,"input",62),c.cc("ngModelChange",function(){return t.idleReset()}),c.Ub(),c.Bc(148,Yu,2,1,"div",16),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(149,"div",3),c.Vb(150,"div",63),c.Dc(151," \xa0 "),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Bc(152,Gu,7,1,"div",64),c.Ub(),c.Bc(153,Qu,5,0,"div",65),c.Bc(154,zu,1,3,"app-comment",66)),2&e&&(c.mc("formGroup",t.suretyForm),c.Db(1),c.mc("ngClass",c.pc(66,$u,1==t.showdisabled)),c.Db(18),c.mc("ngClass",c.pc(68,Wu,t.submitted&&t.f.is_Surety_Bond.errors)),c.Db(3),c.mc("ngClass",c.pc(70,Wu,t.submitted&&t.f.is_Surety_Bond.errors)),c.Db(3),c.mc("ngIf",(t.f.is_Surety_Bond.touched||t.submitted)&&t.f.is_Surety_Bond.errors),c.Db(2),c.mc("ngClass",c.pc(72,$u,"yes"!=t.f.is_Surety_Bond.value)),c.Db(1),c.mc("ngClass",c.pc(74,$u,"yes"!=t.f.is_Surety_Bond.value)),c.Db(6),c.mc("ngIf","yes"==(null==t.suretyForm||null==t.suretyForm.value?null:t.suretyForm.value.is_Surety_Bond)),c.Db(2),c.mc("ngClass",c.pc(76,Wu,t.submitted&&t.f.surety_Company_Name.errors)),c.Eb("disabled",1==t.showdisabled||("yes"!=t.f.is_Surety_Bond.value?"":null)),c.Db(1),c.mc("ngIf",t.submitted&&t.f.surety_Company_Name.errors),c.Db(5),c.mc("ngIf","yes"==(null==t.suretyForm||null==t.suretyForm.value?null:t.suretyForm.value.is_Surety_Bond)),c.Db(2),c.mc("ngClass",c.pc(78,Wu,t.submitted&&t.f.surety_Agent_Name.errors)),c.Eb("disabled",1==t.showdisabled||("yes"!=t.f.is_Surety_Bond.value?"":null)),c.Db(1),c.mc("ngIf",t.submitted&&t.f.surety_Agent_Name.errors),c.Db(5),c.mc("ngIf","yes"==(null==t.suretyForm||null==t.suretyForm.value?null:t.suretyForm.value.is_Surety_Bond)),c.Db(2),c.mc("ngClass",c.pc(80,Wu,t.submitted&&t.f.surety_Agent_Email.errors)),c.Eb("disabled",1==t.showdisabled||("yes"!=t.f.is_Surety_Bond.value?"":null)),c.Db(1),c.mc("ngIf",t.submitted&&t.f.surety_Agent_Email.errors),c.Db(5),c.mc("ngIf","yes"==(null==t.suretyForm||null==t.suretyForm.value?null:t.suretyForm.value.is_Surety_Bond)),c.Db(3),c.mc("ngClass",c.pc(82,Wu,t.submitted&&t.f.surety_Agent_Phone.errors)),c.Eb("disabled",1==t.showdisabled||("yes"!=t.f.is_Surety_Bond.value?"":null)),c.Db(1),c.mc("ngIf",(t.submitted||t.f.surety_Agent_Phone.touched)&&t.f.surety_Agent_Phone.errors),c.Db(2),c.mc("ngClass",c.pc(84,Wu,t.submitted&&t.f.surety_Agent_Phone_Ext.errors)),c.Eb("disabled",1==t.showdisabled||("yes"!=t.f.is_Surety_Bond.value?"":null)),c.Db(1),c.mc("ngIf",(t.submitted||t.f.surety_Agent_Phone_Ext.touched)&&t.f.surety_Agent_Phone_Ext.errors),c.Db(5),c.mc("ngIf","yes"==(null==t.suretyForm||null==t.suretyForm.value?null:t.suretyForm.value.is_Surety_Bond)),c.Db(2),c.mc("ngClass",c.pc(86,Wu,t.submitted&&t.f.present_Surety_Years.errors)),c.Eb("disabled",1==t.showdisabled||("yes"!=t.f.is_Surety_Bond.value?"":null)),c.Db(1),c.mc("ngValue",null),c.Db(2),c.mc("ngForOf",t.suretyyears),c.Db(1),c.mc("ngIf",(t.submitted||t.f.present_Surety_Years.touched)&&t.f.present_Surety_Years.errors),c.Db(5),c.mc("ngIf","yes"==(null==t.suretyForm||null==t.suretyForm.value?null:t.suretyForm.value.is_Surety_Bond)),c.Db(2),c.mc("ngClass",c.pc(88,Wu,t.submitted&&t.f.bonding_Limit.errors)),c.Eb("disabled",1==t.showdisabled||("yes"!=t.f.is_Surety_Bond.value?"":null)),c.Db(1),c.mc("ngIf",t.submitted&&t.f.bonding_Limit.errors),c.Db(5),c.mc("ngIf","yes"==(null==t.suretyForm||null==t.suretyForm.value?null:t.suretyForm.value.is_Surety_Bond)),c.Db(2),c.mc("ngClass",c.pc(90,Wu,t.submitted&&t.f.aggregate_Bonding.errors)),c.Eb("disabled",1==t.showdisabled||("yes"!=t.f.is_Surety_Bond.value?"":null)),c.Db(1),c.mc("ngIf",t.submitted&&t.f.aggregate_Bonding.errors),c.Db(5),c.mc("ngIf","yes"==(null==t.suretyForm||null==t.suretyForm.value?null:t.suretyForm.value.is_Surety_Bond)),c.Db(2),c.mc("ngClass",c.pc(92,Wu,t.submitted&&t.f.available_Bonding.errors)),c.Eb("disabled",1==t.showdisabled||("yes"!=t.f.is_Surety_Bond.value?"":null)),c.Db(1),c.mc("ngIf",t.submitted&&t.f.available_Bonding.errors),c.Db(5),c.mc("ngIf",null==t.f.surety_Upload||null==t.f.surety_Upload.errors?null:t.f.surety_Upload.errors.required),c.Db(3),c.mc("ngClass",c.pc(94,Wu,t.submitted&&t.f.surety_Upload.errors)),c.Eb("disabled",1==t.showdisabled||("yes"!=t.f.is_Surety_Bond.value?"":null)),c.Db(3),c.mc("ngIf",t.submitted&&t.f.surety_Upload.errors),c.Db(1),c.mc("ngIf",null==t.spinner?null:t.spinner.bondingSpinner),c.Db(1),c.mc("ngForOf",t.bondingAttachment),c.Db(13),c.mc("ngClass",c.pc(96,Wu,t.submitted&&t.f.is_Risk_Manager.errors)),c.Db(3),c.mc("ngClass",c.pc(98,Wu,t.submitted&&t.f.is_Risk_Manager.errors)),c.Db(3),c.mc("ngIf",(t.f.is_Risk_Manager.touched||t.submitted)&&t.f.is_Risk_Manager.errors),c.Db(3),c.mc("ngClass",c.pc(100,$u,"no"==t.f.is_Risk_Manager.value)),c.Db(2),c.mc("ngIf","yes"==(null==t.suretyForm||null==t.suretyForm.value?null:t.suretyForm.value.is_Risk_Manager)),c.Db(2),c.mc("ngClass",c.pc(102,Wu,t.submitted&&t.f.risk_Manager_Name.errors)),c.Eb("disabled",1==t.showdisabled||("no"==t.f.is_Risk_Manager.value?"":null)),c.Db(1),c.mc("ngIf",t.submitted&&t.f.risk_Manager_Name.errors),c.Db(3),c.mc("ngClass",c.pc(104,$u,"no"==t.f.is_Risk_Manager.value)),c.Db(2),c.mc("ngIf","yes"==(null==t.suretyForm||null==t.suretyForm.value?null:t.suretyForm.value.is_Risk_Manager)),c.Db(2),c.mc("ngClass",c.pc(106,Wu,t.submitted&&t.f.risk_Manager_Email.errors)),c.Eb("disabled",1==t.showdisabled||("no"==t.f.is_Risk_Manager.value?"":null)),c.Db(1),c.mc("ngIf",t.submitted&&t.f.risk_Manager_Email.errors),c.Db(4),c.mc("ngIf",!(t.showAdmin||t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status)),c.Db(1),c.mc("ngIf",!t.showAdmin&&t.prequalification_status&&"To complete prequalification"!=t.prequalification_status&&"Additional Info Needed from Subcontractor"!=t.prequalification_status||t.showAdmin),c.Db(1),c.mc("ngIf","Subcontractor"!=t.userRole&&"Additional Info Needed from Subcontractor"!=t.prequalification_status&&"Prequal form submitted and under quality check"!=t.prequalification_status))},directives:[o.x,o.m,o.g,n.k,o.s,o.b,o.l,o.f,n.m,o.c,o.r,V,o.q,o.v,o.p,o.y,n.l,A.a,z],styles:["h6[_ngcontent-%COMP%]{font-size:13px!important}.bg-grey[_ngcontent-%COMP%], .bg-grey[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .bg-grey[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{color:#c7bfbf!important}.row[_ngcontent-%COMP%]{margin-top:10px}.float-left[_ngcontent-%COMP%]{float:left}"]}),e})()},{path:"otherinfo",component:ts},{path:"financialinfo",component:ho},{path:"signature",component:sd},{path:"submittomesser",component:Mr},{path:"summary",component:eu}]}];let Zu=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.Nb({type:e}),e.\u0275inj=c.Mb({imports:[[a.i.forChild(Hu),o.h,o.t],a.i]}),e})();var Ku=i("+0xr"),Ju=i("GK3i");let Xu=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.Nb({type:e}),e.\u0275inj=c.Mb({imports:[[n.c,Zu,o.h,o.t,Ju.a,Ku.l]]}),e})()}}]);