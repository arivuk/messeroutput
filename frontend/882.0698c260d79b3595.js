"use strict";(self.webpackChunkmesser_app=self.webpackChunkmesser_app||[]).push([[882],{5882:(X_,ni,x)=>{x.r(ni),x.d(ni,{QualificationModule:()=>W_});var f=x(9808),s=x(3075),U=x(2302);const ye=[{name:"Alabama",abbreviation:"AL"},{name:"Alaska",abbreviation:"AK"},{name:"American Samoa",abbreviation:"AS"},{name:"Arizona",abbreviation:"AZ"},{name:"Arkansas",abbreviation:"AR"},{name:"California",abbreviation:"CA"},{name:"Colorado",abbreviation:"CO"},{name:"Connecticut",abbreviation:"CT"},{name:"Delaware",abbreviation:"DE"},{name:"District Of Columbia",abbreviation:"DC"},{name:"Federated States Of Micronesia",abbreviation:"FM"},{name:"Florida",abbreviation:"FL"},{name:"Georgia",abbreviation:"GA"},{name:"Guam",abbreviation:"GU"},{name:"Hawaii",abbreviation:"HI"},{name:"Idaho",abbreviation:"ID"},{name:"Illinois",abbreviation:"IL"},{name:"Indiana",abbreviation:"IN"},{name:"Iowa",abbreviation:"IA"},{name:"Kansas",abbreviation:"KS"},{name:"Kentucky",abbreviation:"KY"},{name:"Louisiana",abbreviation:"LA"},{name:"Maine",abbreviation:"ME"},{name:"Marshall Islands",abbreviation:"MH"},{name:"Maryland",abbreviation:"MD"},{name:"Massachusetts",abbreviation:"MA"},{name:"Michigan",abbreviation:"MI"},{name:"Minnesota",abbreviation:"MN"},{name:"Mississippi",abbreviation:"MS"},{name:"Missouri",abbreviation:"MO"},{name:"Montana",abbreviation:"MT"},{name:"Nebraska",abbreviation:"NE"},{name:"Nevada",abbreviation:"NV"},{name:"New Hampshire",abbreviation:"NH"},{name:"New Jersey",abbreviation:"NJ"},{name:"New Mexico",abbreviation:"NM"},{name:"New York",abbreviation:"NY"},{name:"North Carolina",abbreviation:"NC"},{name:"North Dakota",abbreviation:"ND"},{name:"Northern Mariana Islands",abbreviation:"MP"},{name:"Ohio",abbreviation:"OH"},{name:"Oklahoma",abbreviation:"OK"},{name:"Oregon",abbreviation:"OR"},{name:"Palau",abbreviation:"PW"},{name:"Pennsylvania",abbreviation:"PA"},{name:"Puerto Rico",abbreviation:"PR"},{name:"Rhode Island",abbreviation:"RI"},{name:"South Carolina",abbreviation:"SC"},{name:"South Dakota",abbreviation:"SD"},{name:"Tennessee",abbreviation:"TN"},{name:"Texas",abbreviation:"TX"},{name:"Utah",abbreviation:"UT"},{name:"Vermont",abbreviation:"VT"},{name:"Virgin Islands",abbreviation:"VI"},{name:"Virginia",abbreviation:"VA"},{name:"Washington",abbreviation:"WA"},{name:"West Virginia",abbreviation:"WV"},{name:"Wisconsin",abbreviation:"WI"},{name:"Wyoming",abbreviation:"WY"},{name:"Other",abbreviation:"OT"}];var re=x(8929),e=x(6435),G=x(6668),K=x(8218),mi=x(6362),Q=x(1346),_i=x(591),fi=x(2198);let hi=(()=>{class n{constructor(){this.toastParam=null,this.subject=new _i.X(this.toastParam),this.toast$=this.subject.asObservable().pipe((0,fi.h)(t=>null!==t))}show(t,i,o,r){this.subject.next({type:t,title:i,body:o,delay:r})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var L=x(2290),te=x(8341),se=x(8583);let D=(()=>{class n{constructor(){this.showAdmin=!1,this.organization_status=""}setAdmin(t){this.showAdmin=t}setOrganization(t){this.organization_status=t}setOrgupdatedate(t){this.getOrgupdatedate=t}validateEmpty(t){return null==t||"null"==t||null==t||"undefined"==t||-2147483648==t?"":t}formDisable(t){return!(!t.includes("Under Risk Review")&&"Reviewed & Prequalified"!=t&&"Prequal form submitted and under quality check"!=t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var V=x(7407);let _e=(()=>{class n{constructor(t){this.ngControl=t}onModelChange(t){this.onInputChange(t,!1)}keydownBackspace(t){this.onInputChange(t.target.value,!0)}onInputChange(t,i){var o;let r=t.replace(/\D/g,"");i&&r.length<=6&&(r=r.substring(0,r.length-1)),0===r.length?r="":r.length<=3?r=r.replace(/^(\d{0,3})/,"($1)"):r.length<=6?r=r.replace(/^(\d{0,3})(\d{0,3})/,"($1) $2"):(r.length<=10||(r=r.substring(0,10)),r=r.replace(/^(\d{0,3})(\d{0,3})(\d{0,4})/,"($1) $2-$3")),null===(o=this.ngControl.valueAccessor)||void 0===o||o.writeValue(r)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.a5))},n.\u0275dir=e.lG2({type:n,selectors:[["","formControlName","","appPhoneMask",""]],hostBindings:function(t,i){1&t&&e.NdJ("ngModelChange",function(r){return i.onModelChange(r)})("keydown.backspace",function(r){return i.keydownBackspace(r)})}}),n})();class fe{constructor(a){this._name=a,this.last=null,this.picker="",this.dragStart=!1,this.dragOver=!1,this.pick=[],this.list=[],this.sift=[]}get name(){return this._name}}function gi(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"form",9)(1,"input",10),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().available.picker=o})("ngModelChange",function(){e.CHM(t);const o=e.oxw();return o.onFilter(o.available)}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.available.picker)}}const oi=function(n,a){return{selected:n,disabled:a}};function vi(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"li",11),e.NdJ("click",function(o){const r=e.CHM(t),l=r.$implicit,c=r.index,d=e.oxw();return d.disabled||d.selectItem(d.available.pick,l),d.shiftClick(o,c,d.available,l)})("dragstart",function(o){const l=e.CHM(t).$implicit,c=e.oxw();return c.drag(o,l,c.available)})("dragend",function(){e.CHM(t);const o=e.oxw();return o.dragEnd(o.available)}),e.TgZ(1,"label"),e._uU(2),e.qZA()()}if(2&n){const t=a.$implicit,i=e.oxw();e.Q6J("ngClass",e.WLB(3,oi,i.isItemSelected(i.available.pick,t),i.disabled))("draggable",!i.disabled&&i.format.draggable),e.xp6(2),e.Oqu(t._name)}}function yi(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"form",9)(1,"input",12),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().confirmed.picker=o})("ngModelChange",function(){e.CHM(t);const o=e.oxw();return o.onFilter(o.confirmed)}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.confirmed.picker)}}function Ci(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"li",11,13),e.NdJ("click",function(o){const r=e.CHM(t),l=r.$implicit,c=r.index,d=e.oxw();return d.disabled||d.selectItem(d.confirmed.pick,l),d.shiftClick(o,c,d.confirmed,l)})("dragstart",function(o){const l=e.CHM(t).$implicit,c=e.oxw();return c.drag(o,l,c.confirmed)})("dragend",function(){e.CHM(t);const o=e.oxw();return o.dragEnd(o.confirmed)}),e.TgZ(2,"label"),e._uU(3),e.qZA()()}if(2&n){const t=a.$implicit,i=e.oxw();e.Q6J("ngClass",e.WLB(3,oi,i.isItemSelected(i.confirmed.pick,t),i.disabled))("draggable",!i.disabled&&i.format.draggable),e.xp6(3),e.Oqu(t._name)}}const ai=function(n,a){return{order:n,"margin-left":a}},ri=function(n,a){return{"max-height":n,"min-height":a}},si=function(n){return{over:n}};var bi=0;class I{constructor(a){this.differs=a,this.id="dual-list-"+bi++,this.key="_id",this.display="_name",this.height="100px",this.filter=!1,this.format=I.DEFAULT_FORMAT,this.sort=!1,this.source=[],this.destination=[],this.destinationChange=new e.vpe,this.sorter=(t,i)=>t._name<i._name?-1:t._name>i._name?1:0,this.available=new fe(I.AVAILABLE_LIST_NAME),this.confirmed=new fe(I.CONFIRMED_LIST_NAME),console.log("dualbox disabled ="+this.disabled)}ngOnChanges(a){a.disabled&&(this.disabled=a.disabled.currentValue),a.filter&&!1===a.filter.currentValue&&(this.clearFilter(this.available),this.clearFilter(this.confirmed)),a.sort&&(!0===a.sort.currentValue&&void 0===this.compare?this.compare=this.sorter:!1===a.sort.currentValue&&(this.compare=void 0)),a.format&&(this.format=a.format.currentValue,void 0===this.format.direction&&(this.format.direction=I.LTR),void 0===this.format.add&&(this.format.add=I.DEFAULT_FORMAT.add),void 0===this.format.remove&&(this.format.remove=I.DEFAULT_FORMAT.remove),void 0===this.format.all&&(this.format.all=I.DEFAULT_FORMAT.all),void 0===this.format.none&&(this.format.none=I.DEFAULT_FORMAT.none),void 0===this.format.draggable&&(this.format.draggable=I.DEFAULT_FORMAT.draggable)),a.source&&(this.available=new fe(I.AVAILABLE_LIST_NAME),this.updatedSource(),this.updatedDestination()),a.destination&&(this.confirmed=new fe(I.CONFIRMED_LIST_NAME),this.updatedDestination(),this.updatedSource())}ngDoCheck(){this.source&&this.buildAvailable(this.source)&&this.onFilter(this.available),this.destination&&this.buildConfirmed(this.destination)&&this.onFilter(this.confirmed)}buildAvailable(a){const t=this.sourceDiffer.diff(a);return!!t&&(t.forEachRemovedItem(i=>{const o=this.findItemIndex(this.available.list,i.item,this.key);-1!==o&&this.available.list.splice(o,1)}),t.forEachAddedItem(i=>{-1===this.findItemIndex(this.available.list,i.item,this.key)&&this.available.list.push({_id:this.makeId(i.item),_name:this.makeName(i.item)})}),void 0!==this.compare&&this.available.list.sort(this.compare),this.available.sift=this.available.list,!0)}buildConfirmed(a){let t=!1;const i=this.destinationDiffer.diff(a);return!!i&&(i.forEachRemovedItem(o=>{const r=this.findItemIndex(this.confirmed.list,o.item,this.key);-1!==r&&(this.isItemSelected(this.confirmed.pick,this.confirmed.list[r])||this.selectItem(this.confirmed.pick,this.confirmed.list[r]),this.moveItem(this.confirmed,this.available,this.confirmed.list[r],!1),t=!0)}),i.forEachAddedItem(o=>{const r=this.findItemIndex(this.available.list,o.item,this.key);-1!==r&&(this.isItemSelected(this.available.pick,this.available.list[r])||this.selectItem(this.available.pick,this.available.list[r]),this.moveItem(this.available,this.confirmed,this.available.list[r],!1),t=!0)}),void 0!==this.compare&&this.confirmed.list.sort(this.compare),this.confirmed.sift=this.confirmed.list,t&&this.trueUp(),!0)}updatedSource(){this.available.list.length=0,this.available.pick.length=0,void 0!==this.source&&(this.sourceDiffer=this.differs.find(this.source).create())}updatedDestination(){void 0!==this.destination&&(this.destinationDiffer=this.differs.find(this.destination).create())}direction(){return this.format.direction===I.LTR}dragEnd(a){return a?a.dragStart=!1:(this.available.dragStart=!1,this.confirmed.dragStart=!1),!1}drag(a,t,i){var o;this.isItemSelected(i.pick,t)||this.selectItem(i.pick,t),i.dragStart=!0,null===(o=null==a?void 0:a.dataTransfer)||void 0===o||o.setData(this.id,t._id)}allowDrop(a,t){var i;return(null===(i=a.dataTransfer)||void 0===i?void 0:i.types.length)&&a.dataTransfer.types[0]===this.id&&(a.preventDefault(),t.dragStart||(t.dragOver=!0)),!1}dragLeave(){this.available.dragOver=!1,this.confirmed.dragOver=!1}drop(a,t){var i;(null===(i=null==a?void 0:a.dataTransfer)||void 0===i?void 0:i.types.length)&&a.dataTransfer.types[0]===this.id&&(a.preventDefault(),this.dragLeave(),this.dragEnd(),t===this.available?this.moveItem(this.available,this.confirmed):this.moveItem(this.confirmed,this.available))}trueUp(){let a=!1,t=this.destination.length;for(;(t-=1)>=0;)0===this.confirmed.list.filter(o=>"object"==typeof this.destination[t]?o._id===this.destination[t][this.key]:o._id===this.destination[t]).length&&(this.destination.splice(t,1),a=!0);for(let i=0,o=this.confirmed.list.length;i<o;i+=1){let r=this.destination.filter(l=>"object"==typeof l?l[this.key]===this.confirmed.list[i]._id:l===this.confirmed.list[i]._id);0===r.length&&(r=this.source.filter(l=>"object"==typeof l?l[this.key]===this.confirmed.list[i]._id:l===this.confirmed.list[i]._id),r.length>0&&(this.destination.push(r[0]),a=!0))}a&&this.destinationChange.emit(this.destination)}findItemIndex(a,t,i="_id"){let o=-1;return a.filter("object"==typeof t?function r(c){return c._id===t[i]&&(o=a.indexOf(c),!0)}:function l(c){return c._id===t&&(o=a.indexOf(c),!0)}),o}makeUnavailable(a,t){const i=a.list.indexOf(t);-1!==i&&a.list.splice(i,1)}moveItem(a,t,i=null,o=!0){let r=0,l=a.pick.length;for(i&&(r=a.list.indexOf(i),l=r+1);r<l;r+=1){let c=[];if(i){const d=this.findItemIndex(a.pick,i);-1!==d&&(c[0]=a.pick[d])}else c=a.list.filter(d=>d._id===a.pick[r]._id);1===c.length&&(0===t.list.filter(d=>d._id===c[0]._id).length&&t.list.push(c[0]),this.makeUnavailable(a,c[0]))}void 0!==this.compare&&t.list.sort(this.compare),a.pick.length=0,o&&this.trueUp(),setTimeout(()=>{this.onFilter(a),this.onFilter(t)},10)}isItemSelected(a,t){return a.filter(i=>Object.is(i,t)).length>0}shiftClick(a,t,i,o){if(a.shiftKey&&i.last&&!Object.is(o,i.last)){const r=i.sift.indexOf(i.last);if(t>r)for(let l=r+1;l<t;l+=1)this.selectItem(i.pick,i.sift[l]);else if(-1!==r)for(let l=t+1;l<r;l+=1)this.selectItem(i.pick,i.sift[l])}i.last=o}selectItem(a,t){const i=a.filter(o=>Object.is(o,t));if(i.length>0)for(let o=0,r=i.length;o<r;o+=1){const l=a.indexOf(i[o]);-1!==l&&a.splice(l,1)}else a.push(t)}selectAll(a){a.pick.length=0,a.pick=a.sift.slice(0)}selectNone(a){a.pick.length=0}isAllSelected(a){return 0===a.list.length||a.list.length===a.pick.length}isAnySelected(a){return a.pick.length>0}unpick(a){for(let t=a.pick.length-1;t>=0;t-=1)-1===a.sift.indexOf(a.pick[t])&&a.pick.splice(t,1)}clearFilter(a){a&&(a.picker="",this.onFilter(a))}onFilter(a){if(a.picker.length>0)try{const t=a.list.filter(i=>"[object Object]"===Object.prototype.toString.call(i)?void 0!==i._name?-1!==i._name.toLocaleLowerCase(this.format.locale).indexOf(a.picker.toLocaleLowerCase(this.format.locale)):-1!==JSON.stringify(i).toLocaleLowerCase(this.format.locale).indexOf(a.picker.toLocaleLowerCase(this.format.locale)):-1!==i.toLocaleLowerCase(this.format.locale).indexOf(a.picker.toLocaleLowerCase(this.format.locale)));a.sift=t,this.unpick(a)}catch(t){t instanceof RangeError&&(this.format.locale=void 0),a.sift=a.list}else a.sift=a.list}makeId(a){return"object"==typeof a?a[this.key]:a}makeName(a,t="_"){const i=this.display;function o(l){switch(Object.prototype.toString.call(l)){case"[object Number]":case"[object String]":return l;default:return void 0!==l?l[i]:"undefined"}}let r="";if(void 0!==this.display)switch(Object.prototype.toString.call(this.display)){case"[object Function]":r=this.display(a);break;case"[object Array]":for(let l=0,c=this.display.length;l<c;l+=1)if(r.length>0&&(r+=t),-1===this.display[l].indexOf("."))r+=a[this.display[l]];else{const d=this.display[l].split("."),p=a[d[0]];if(p)if(-1!==d[1].indexOf("substring")){const _=d[1].substring(d[1].indexOf("(")+1,d[1].indexOf(")")).split(",");switch(_.length){case 1:r+=p.substring(parseInt(_[0],10));break;case 2:r+=p.substring(parseInt(_[0],10),parseInt(_[1],10));break;default:r+=p}}else r+=p}break;default:r=o(a)}else r=o(a);return r}}I.AVAILABLE_LIST_NAME="available",I.CONFIRMED_LIST_NAME="confirmed",I.LTR="left-to-right",I.RTL="right-to-left",I.DEFAULT_FORMAT={add:"Add",remove:"Remove",all:"All",none:"None",direction:I.LTR,draggable:!0,locale:void 0},I.\u0275fac=function(a){return new(a||I)(e.Y36(e.ZZ4))},I.\u0275cmp=e.Xpm({type:I,selectors:[["app-duallist"]],inputs:{id:"id",key:"key",display:"display",height:"height",filter:"filter",format:"format",sort:"sort",compare:"compare",disabled:"disabled",source:"source",destination:"destination"},outputs:{destinationChange:"destinationChange"},features:[e.TTD],decls:17,vars:32,consts:[[1,"dual-list"],[1,"listbox",3,"ngStyle"],["class","filter",4,"ngIf"],[1,"record-picker"],[3,"ngStyle","ngClass","drop","dragover","dragleave"],[3,"ngClass","draggable","click","dragstart","dragend",4,"ngFor","ngForOf"],[1,"button-bar"],["type","button","name","addBtn",1,"btn","btn-primary","btn-block",3,"ngClass","disabled","click"],["type","button","name","removeBtn",1,"btn","btn-primary","btn-block",3,"ngClass","disabled","click"],[1,"filter"],["name","filterSource",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngClass","draggable","click","dragstart","dragend"],["name","filterDestination",1,"form-control",3,"ngModel","ngModelChange"],["itmConf",""]],template:function(a,t){1&a&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,gi,2,1,"form",2),e.TgZ(3,"div",3)(4,"ul",4),e.NdJ("drop",function(o){return t.drop(o,t.confirmed)})("dragover",function(o){return t.allowDrop(o,t.available)})("dragleave",function(){return t.dragLeave()}),e.YNc(5,vi,3,6,"li",5),e.qZA()(),e.TgZ(6,"div",6)(7,"button",7),e.NdJ("click",function(){return t.moveItem(t.available,t.confirmed)}),e._uU(8),e.qZA()()(),e.TgZ(9,"div",1),e.YNc(10,yi,2,1,"form",2),e.TgZ(11,"div",3)(12,"ul",4),e.NdJ("drop",function(o){return t.drop(o,t.available)})("dragover",function(o){return t.allowDrop(o,t.confirmed)})("dragleave",function(){return t.dragLeave()}),e.YNc(13,Ci,4,6,"li",5),e.qZA()(),e.TgZ(14,"div",6)(15,"button",8),e.NdJ("click",function(){return t.moveItem(t.confirmed,t.available)}),e._uU(16),e.qZA()()()()),2&a&&(e.xp6(1),e.Q6J("ngStyle",e.WLB(16,ai,t.direction()?1:2,t.direction()?0:"10px")),e.xp6(1),e.Q6J("ngIf",t.filter),e.xp6(2),e.Q6J("ngStyle",e.WLB(19,ri,t.height,t.height))("ngClass",e.VKq(22,si,t.available.dragOver)),e.xp6(1),e.Q6J("ngForOf",t.available.sift),e.xp6(2),e.Q6J("ngClass",t.direction()?"point-right":"point-left")("disabled",0===t.available.pick.length||t.disabled),e.xp6(1),e.Oqu(t.format.add),e.xp6(1),e.Q6J("ngStyle",e.WLB(24,ai,t.direction()?2:1,t.direction()?"10px":0)),e.xp6(1),e.Q6J("ngIf",t.filter),e.xp6(2),e.Q6J("ngStyle",e.WLB(27,ri,t.height,t.height))("ngClass",e.VKq(30,si,t.confirmed.dragOver)),e.xp6(1),e.Q6J("ngForOf",t.confirmed.sift),e.xp6(2),e.Q6J("ngClass",t.direction()?"point-left":"point-right")("disabled",0===t.confirmed.pick.length||t.disabled),e.xp6(1),e.Oqu(t.format.remove))},directives:[f.PC,f.O5,s._Y,s.JL,s.F,s.Fj,s.JJ,s.On,f.mk,f.sg],styles:['div.record-picker[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto;border:1px solid #ddd;border-radius:8px;position:relative;cursor:pointer;height:175px}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-button{width:0px;height:0px}div.record-picker[_ngcontent-%COMP%]{scrollbar-base-color:#4A7729;scrollbar-3dlight-color:#4A7729;scrollbar-highlight-color:#4A7729;scrollbar-track-color:#eee;scrollbar-arrow-color:gray;scrollbar-shadow-color:gray;scrollbar-dark-shadow-color:gray}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#eee;box-shadow:0 0 3px #dfdfdf inset;border-top-right-radius:8px;border-bottom-right-radius:8px}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#337ab7;border:thin solid gray;border-top-right-radius:8px;border-bottom-right-radius:8px}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#286090}.record-picker[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding:0 0 1px}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-top:thin solid #ddd;border-bottom:1px solid #ddd;display:block;padding:2px 2px 2px 10px;margin-bottom:-1px;font-size:.85em;cursor:pointer;white-space:nowrap;min-height:16px}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.record-picker[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background-color:#d9edf7}.record-picker[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:hover{background-color:#c4e3f3}.record-picker[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:default;background-color:inherit}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{border-top-left-radius:8px;border-top-right-radius:8px;border-top:none}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom-left-radius:8px;border-bottom-right-radius:8px;border-bottom:none}.record-picker[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;font-weight:inherit;font-size:14px;padding:4px;margin-bottom:-1px;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.record-picker[_ngcontent-%COMP%]   ul.over[_ngcontent-%COMP%]{background-color:#d3d3d3}.dual-list[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-content:flex-start}.dual-list[_ngcontent-%COMP%]   .listbox[_ngcontent-%COMP%]{width:50%;margin:0}.dual-list[_ngcontent-%COMP%]   .button-bar[_ngcontent-%COMP%]{margin-top:8px}.point-right[_ngcontent-%COMP%]:after{content:"\\25b6";padding-left:1em}.point-left[_ngcontent-%COMP%]:before{content:"\\25c0";padding-right:1em}.dual-list[_ngcontent-%COMP%]   .button-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:47%}button.btn-block[_ngcontent-%COMP%]{display:block;width:100%;margin-bottom:8px;background-color:#4a7729!important}.filter[_ngcontent-%COMP%]{margin-bottom:-2.2em}.filter[_ngcontent-%COMP%]:after{content:"o";width:40px;color:transparent;font-size:2em;background-image:url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M0 64l192 192v192l128-32V256L512 64H0z"/></svg>\');background-repeat:no-repeat;background-position:center center;opacity:.2;top:-36px;left:calc(100% - 21px);position:relative}']});var ie=x(6808),u=x(8070),S=x(7795),B=x(520);let Ti=(()=>{class n extends S.EJ{constructor(t,i){super("Comments",t,i,{root:u.N.webserviceURlLocal})}getAll(){return super.getAll()}getRecord(t,i,o){const r={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}},l=this.httpUrlGenerator.entityResource(`Comments/${t}/${i}/${o}`,u.N.webserviceURlLocal);return this.http.get(l,r)}deleteRecord(t){const i={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.delete(u.N.webserviceURlLocal+"Files/"+t,i)}getRecords(t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("Comments/"+t,u.N.webserviceURlLocal);return this.http.get(o,i)}updateRecord(t,i){const o={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},r=this.httpUrlGenerator.entityResource("Comments",u.N.webserviceURlLocal)+i;return this.http.put(r,t,o)}addRecord(t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("Comments",u.N.webserviceURlLocal);return this.http.post(o,t,i)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(B.eN),e.LFG(S.hR))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Zi(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Additional notes from Risk is required "),e.qZA())}function xi(n,a){if(1&n&&(e.TgZ(0,"div",16),e.YNc(1,Zi,2,0,"div",17),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.comment.errors.required)}}function Ii(n,a){1&n&&(e.TgZ(0,"div",18)(1,"span"),e._uU(2,"Uploading..."),e.qZA(),e._UZ(3,"mat-progress-spinner",19),e.qZA())}function Ai(n,a){if(1&n&&(e.TgZ(0,"div")(1,"p",20)(2,"small")(3,"a",21),e._uU(4),e.qZA()()()()),2&n){const t=a.$implicit;e.xp6(3),e.s9C("href",t.file_Path,e.LSH),e.xp6(1),e.Oqu(t.name)}}function qi(n,a){if(1&n&&(e.TgZ(0,"a",21),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("href",t.file_path,e.LSH),e.xp6(1),e.Oqu(t.file_name)}}function Fi(n,a){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"date"),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e.YNc(9,qi,2,2,"a",24),e.qZA()()),2&n){const t=a.$implicit;e.xp6(2),e.Oqu(t.createUser),e.xp6(2),e.Oqu(e.xi3(5,4,t.createdDate,"MM-dd-yyyy hh:mm a")),e.xp6(3),e.Oqu(t.comment),e.xp6(2),e.Q6J("ngForOf",t.attachment)}}function Ri(n,a){if(1&n&&(e.TgZ(0,"table",22)(1,"tr",23)(2,"td"),e._uU(3,"Created By"),e.qZA(),e.TgZ(4,"td"),e._uU(5,"Date"),e.qZA(),e.TgZ(6,"td"),e._uU(7,"Risk Notes"),e.qZA(),e.TgZ(8,"td"),e._uU(9,"Attachments"),e.qZA()(),e.YNc(10,Fi,10,7,"tr",12),e.qZA()),2&n){const t=e.oxw();e.xp6(10),e.Q6J("ngForOf",t.listComments)}}const li=function(n){return{"is-invalid":n}};let le=(()=>{class n{constructor(t,i){this.fb=t,this.commentservice=i,this.formname="",this.formId=0,this.companyId=0,this.headerReview="",this.listComments=[],this.url=u.N.webserviceURlLocal.replace("api/",""),this.i=1,this.submitted=!1,this.attachment=[],this.commentForm=this.fb.group({id:[0],companyId:[""],comment:["",s.kI.required],attachment:[""]}),this.spinner={bondingSpinner:!1}}ngAfterContentChecked(){this.companyId>0&&1==this.i&&this.formId>0&&(this.gridload(),this.i=0==this.formId?1:2,this.events&&this.events.subscribe(()=>{this.commentForm.value.comment.length&&this.commentsubmit()}))}ngAfterViewInit(){this.companyId>0&&1==this.i&&this.formId>0&&(this.gridload(),this.i=0==this.formId?1:2,console.log("home",this.events))}gridload(){console.log(this.i),console.log(this.companyId+" "+this.formname+" "+this.formId),this.commentservice.getRecord(this.companyId,this.formname,this.formId).subscribe(t=>{console.log(t),this.listComments=t.map(i=>Object.assign(Object.assign({},i),{attachment:i.files.map(o=>({file_path:o.file_Path,file_name:o.file_Name}))})),console.log(this.listComments)})}ngOnInit(){}get f(){return this.commentForm.controls}qcpUpload(t){let i=document.getElementById("attachment");for(let o=0;o<i.files.length;o++)this.attachment.push(i.files[o]);this.fileupload()}filepreview(t,i){var o=new FileReader;o.onload=r=>{let l=new Blob(t.files,{type:t.files[i].type});var c=(window.URL||window.webkitURL).createObjectURL(l),d=document.createElement("a"),p=document.createTextNode("View File");d.target="_blank",d.appendChild(p),d.href=c,d.click(),t.appendChild(d)},o.readAsDataURL(t.files[i])}fileupload(){}formMethod(){var t=new FormData;switch(t.append("companyId",this.companyId),t.append("comment",this.commentForm.value.comment),this.formname){case"organization":t.append("organizationId",this.formId);break;case"experience":t.append("experienceId",this.formId);break;case"safety":t.append("safetyId",this.formId);break;case"financial":t.append("financialId",this.formId);break;case"personnel":t.append("personnelId",this.formId);break;case"surety":t.append("suretyId",this.formId);break;case"signature":t.append("signatureId",this.formId)}for(let i=0;i<this.attachment.length;i++)t.append("attachment",this.attachment[i]);return t}commentsubmit(){this.submitted=!0;let t=this.formMethod();this.commentservice.addRecord(t).subscribe(i=>{this.gridload(),this.commentForm.patchValue({comment:"",attachment:[]}),this.attachment=[],this.submitted=!1})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.qu),e.Y36(Ti))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-comment"]],inputs:{formname:"formname",formId:"formId",companyId:"companyId",headerReview:"headerReview",events:"events"},decls:27,vars:12,consts:[[1,"section"],[1,"bgyellow"],[1,"comment-section"],[1,"form",3,"formGroup","ngSubmit","keydown.enter"],[1,"row"],["formControlName","comment","id","comment","name","comment",1,"form-control","rowform",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for",""],[1,"form-control-customitem","form-control","rowform"],["type","file","title","Choose file","formControlName","attachment","id","attachment","name","attachment","multiple","",3,"ngClass","change"],["for","attachment"],["class","spinner__loading pt-3",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"text-end"],[1,"btn","ml-4","default-btn"],["class","table",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner__loading","pt-3"],["diameter","18","mode","indeterminate",1,"mt-1"],[1,"file-tag"],["target","_blank",3,"href"],[1,"table"],[2,"font-weight","bold"],["target","_blank",3,"href",4,"ngFor","ngForOf"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div")(2,"span",1),e._uU(3),e.qZA()(),e.TgZ(4,"div",2)(5,"form",3),e.NdJ("ngSubmit",function(){return i.commentsubmit()})("keydown.enter",function(r){return r.preventDefault()}),e.TgZ(6,"div",4)(7,"label"),e._uU(8,"1. Additional notes from Risk"),e.qZA(),e._UZ(9,"textarea",5),e.YNc(10,xi,2,1,"div",6),e.qZA(),e.TgZ(11,"div",4)(12,"label",7),e._uU(13,"2. Additional Attachment "),e.qZA(),e.TgZ(14,"div",8)(15,"input",9),e.NdJ("change",function(r){return i.qcpUpload(r)}),e.qZA(),e.TgZ(16,"span",10),e._uU(17,' \xa0Choose Files with "Click to Add Files"'),e.qZA(),e.YNc(18,Ii,4,0,"div",11),e.YNc(19,Ai,5,2,"div",12),e.qZA()(),e.TgZ(20,"div",13)(21,"button",14),e._uU(22,"Submit"),e.qZA()()(),e.TgZ(23,"h2")(24,"b"),e._uU(25,"Risk Notes History"),e.qZA()(),e.YNc(26,Ri,11,1,"table",15),e.qZA()()),2&t&&(e.xp6(3),e.Oqu(i.headerReview),e.xp6(2),e.Q6J("formGroup",i.commentForm),e.xp6(4),e.Q6J("ngClass",e.VKq(8,li,i.submitted&&i.f.comment.errors)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.comment.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(10,li,i.submitted&&i.f.attachment.errors)),e.xp6(3),e.Q6J("ngIf",null==i.spinner?null:i.spinner.bondingSpinner),e.xp6(1),e.Q6J("ngForOf",i.attachment),e.xp6(7),e.Q6J("ngIf",i.listComments.length))},directives:[s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,f.mk,f.O5,ie.Ou,f.sg],pipes:[f.uU],styles:[".table[_ngcontent-%COMP%]{width:95%;margin:10px auto;border-top:1px solid #ccc;border-right:1px solid #ccc}.table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px;border-bottom:1px solid #ccc;border-left:1px solid #ccc}.section[_ngcontent-%COMP%]{margin:-14px auto 0;padding:10px;width:99%;background-color:#fff}.comment-section[_ngcontent-%COMP%]{width:95%;padding:20px 10px 10px;margin:10px auto;background-color:#fff;border-radius:12px}.form[_ngcontent-%COMP%]{margin:10px;padding:10px 0}.row[_ngcontent-%COMP%]{margin:10px 0}.rowform[_ngcontent-%COMP%]{margin-left:30px;margin-top:5px;width:98%}.bgyellow[_ngcontent-%COMP%]{background-color:#ff0;height:20px;font-weight:700;padding:5px 10px}"]}),n})();const ki=["exampleModal"];function Si(n,a){1&n&&(e.TgZ(0,"div",172),e._uU(1,"Organization type is required "),e.qZA())}function wi(n,a){if(1&n&&(e.TgZ(0,"div",170),e.YNc(1,Si,2,0,"div",171),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.org_Type.errors.required)}}function Ni(n,a){1&n&&(e.TgZ(0,"div",180),e._uU(1," Reason is required "),e.qZA())}function Ui(n,a){if(1&n&&(e.TgZ(0,"div",178),e.YNc(1,Ni,2,0,"div",179),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.org_Other_Details||null==t.f.org_Other_Details.errors?null:t.f.org_Other_Details.errors.required)}}const b=function(n){return{"is-invalid":n}};function Mi(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",9),e._UZ(1,"div",173),e.TgZ(2,"div",103)(3,"div",174)(4,"label",175),e._uU(5,"If other, describe circumstances. "),e.qZA(),e.TgZ(6,"textarea",176),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset(1)}),e.qZA(),e.YNc(7,Ui,2,1,"div",177),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(6),e.Q6J("ngClass",e.VKq(2,b,t.submitted&&(null==t.f.org_Other_Details?null:t.f.org_Other_Details.errors))),e.xp6(1),e.Q6J("ngIf",(t.submitted||t.f.org_Other_Details.touched)&&(null==t.f.org_Other_Details?null:t.f.org_Other_Details.errors))}}function Ei(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Date of incorporation is required"),e.qZA())}function Oi(n,a){if(1&n&&(e.TgZ(0,"div",181),e.YNc(1,Ei,2,0,"div",182),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.date_Of_Incorporation.errors.required)}}function Pi(n,a){if(1&n&&(e.TgZ(0,"option",15),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("ngValue",t.name),e.xp6(1),e.hij("",t.name," ")}}function Ji(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"State of incorporation is required"),e.qZA())}function ji(n,a){if(1&n&&(e.TgZ(0,"div",181),e.YNc(1,Ji,2,0,"div",182),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.state_Of_Incorporation.errors.required)}}function Yi(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Prequalification Contact name is required"),e.qZA())}function Li(n,a){if(1&n&&(e.TgZ(0,"div",181),e.YNc(1,Yi,2,0,"div",182),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.contact_Name.errors.required)}}function Di(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Prequalification Contact email is required"),e.qZA())}function Qi(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Enter a valid Email"),e.qZA())}function Vi(n,a){if(1&n&&(e.TgZ(0,"div",181),e.YNc(1,Di,2,0,"div",182),e.YNc(2,Qi,2,0,"div",182),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.contact_Email.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.contact_Email.errors.email)}}function Bi(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Prequalification contact phone is required"),e.qZA())}function Gi(n,a){if(1&n&&(e.TgZ(0,"div",181),e.YNc(1,Bi,2,0,"div",182),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.contact_Mobile.errors.required)}}function Ki(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Extension is required "),e.qZA())}function Hi(n,a){if(1&n&&(e.TgZ(0,"div",181),e.YNc(1,Ki,2,0,"div",182),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.contact_Mobile_Ext.errors.required)}}function zi(n,a){1&n&&(e.TgZ(0,"div",185),e._uU(1," Certified diverse/minority business is required "),e.qZA())}function $i(n,a){if(1&n&&(e.TgZ(0,"div",183),e.YNc(1,zi,2,0,"div",184),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.is_Certified_Diverse.errors?null:t.f.is_Certified_Diverse.errors.required)}}function Wi(n,a){1&n&&(e.TgZ(0,"span",12),e._uU(1,"*"),e.qZA())}function Xi(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Last year is required"),e.qZA())}function en(n,a){if(1&n&&(e.TgZ(0,"div",181),e.YNc(1,Xi,2,0,"div",182),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.annual_Construction_Last_Year.errors.required)}}function tn(n,a){1&n&&(e.TgZ(0,"span",12),e._uU(1,"*"),e.qZA())}function nn(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Past 2 years is required"),e.qZA())}function on(n,a){if(1&n&&(e.TgZ(0,"div",181),e.YNc(1,nn,2,0,"div",182),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.annual_Construction_2_Years.errors.required)}}function an(n,a){1&n&&(e.TgZ(0,"span",12),e._uU(1,"*"),e.qZA())}function rn(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Past 3 years is required"),e.qZA())}function sn(n,a){if(1&n&&(e.TgZ(0,"div",181),e.YNc(1,rn,2,0,"div",182),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.annual_Construction_3_Years.errors.required)}}function ln(n,a){1&n&&(e.TgZ(0,"div",188),e._uU(1," Parent company is required "),e.qZA())}function cn(n,a){if(1&n&&(e.TgZ(0,"div",186),e.YNc(1,ln,2,0,"div",187),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.is_Parent_Company.errors?null:t.f.is_Parent_Company.errors.required)}}function dn(n,a){1&n&&(e.TgZ(0,"span",12),e._uU(1,"*"),e.qZA())}function pn(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Contact name is required "),e.qZA())}function un(n,a){if(1&n&&(e.TgZ(0,"div",181),e.YNc(1,pn,2,0,"div",182),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.parent_Company_Name.errors.required)}}function mn(n,a){1&n&&(e.TgZ(0,"span",12),e._uU(1,"*"),e.qZA())}function _n(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Address Line 1 is required"),e.qZA())}function fn(n,a){if(1&n&&(e.TgZ(0,"div",181),e.YNc(1,_n,2,0,"div",182),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.parent_Company_Address1.errors.required)}}function hn(n,a){1&n&&(e.TgZ(0,"span",12),e._uU(1,"*"),e.qZA())}function gn(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"City is required"),e.qZA())}function vn(n,a){if(1&n&&(e.TgZ(0,"div",181),e.YNc(1,gn,2,0,"div",182),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.parent_Company_City.errors.required)}}function yn(n,a){1&n&&(e.TgZ(0,"span",12),e._uU(1,"*"),e.qZA())}function Cn(n,a){if(1&n&&(e.TgZ(0,"option",15),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("ngValue",t.name),e.xp6(1),e.hij("",t.name," ")}}function bn(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"State is required"),e.qZA())}function Tn(n,a){if(1&n&&(e.TgZ(0,"div",181),e.YNc(1,bn,2,0,"div",182),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.parent_Company_State.errors.required)}}function Zn(n,a){1&n&&(e.TgZ(0,"span",12),e._uU(1,"*"),e.qZA())}function xn(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Zip code is required "),e.qZA())}function In(n,a){if(1&n&&(e.TgZ(0,"div",181),e.YNc(1,xn,2,0,"div",182),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.parent_Company_Zipcode.errors.required)}}function An(n,a){1&n&&(e.TgZ(0,"span",12),e._uU(1,"*"),e.qZA())}function qn(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Country is required "),e.qZA())}function Fn(n,a){if(1&n&&(e.TgZ(0,"div",181),e.YNc(1,qn,2,0,"div",182),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.parent_Company_Country.errors.required)}}function Rn(n,a){1&n&&(e.TgZ(0,"span",12),e._uU(1,"*"),e.qZA())}function kn(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Parent Company FEIN Number / Tax-id is required"),e.qZA())}function Sn(n,a){if(1&n&&(e.TgZ(0,"div",181),e.YNc(1,kn,2,0,"div",182),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.parent_Company_FEIN.errors.required)}}function wn(n,a){1&n&&(e.TgZ(0,"span",12),e._uU(1,"*"),e.qZA())}function Nn(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Attachment is required"),e.qZA())}function Un(n,a){if(1&n&&(e.TgZ(0,"div",181),e.YNc(1,Nn,2,0,"div",182),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.w9_Document_Attachment.errors.required)}}function Mn(n,a){1&n&&(e.TgZ(0,"div",189)(1,"span"),e._uU(2,"Uploading..."),e.qZA(),e._UZ(3,"mat-progress-spinner",190),e.qZA())}function En(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"p",191)(2,"small")(3,"a",192),e._uU(4),e.qZA()(),e.TgZ(5,"small",193),e.NdJ("click",function(){const o=e.CHM(t),r=o.index,l=o.$implicit;return e.oxw().removedocumentw9file(r,l)}),e._uU(6,"X"),e.qZA()()()}if(2&n){const t=a.$implicit;e.xp6(3),e.s9C("href",t.file_Path,e.LSH),e.xp6(1),e.Oqu(t.name)}}function On(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Executive officer #1 name is required"),e.qZA())}function Pn(n,a){if(1&n&&(e.TgZ(0,"div",181),e.YNc(1,On,2,0,"div",182),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.executive_Officer_Name.errors.required)}}function Jn(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Executive officer #1 title is required"),e.qZA())}function jn(n,a){if(1&n&&(e.TgZ(0,"div",181),e.YNc(1,Jn,2,0,"div",182),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.executive_Officer_Title.errors.required)}}function Yn(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Executive officer #1 email is required"),e.qZA())}function Ln(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Enter a valid Email"),e.qZA())}function Dn(n,a){if(1&n&&(e.TgZ(0,"div",181),e.YNc(1,Yn,2,0,"div",182),e.YNc(2,Ln,2,0,"div",182),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.executive_Officer_Email.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.executive_Officer_Email.errors.email)}}function Qn(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Enter a valid Email"),e.qZA())}function Vn(n,a){if(1&n&&(e.TgZ(0,"div",181),e.YNc(1,Qn,2,0,"div",182),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.executive_Officer_Email2.errors.email)}}function Bn(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Bankruptcy proceeding is required"),e.qZA())}function Gn(n,a){if(1&n&&(e.TgZ(0,"div",181),e.YNc(1,Bn,2,0,"div",182),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.is_Bank_Ruptcy.errors.required)}}function Kn(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Reason is required"),e.qZA())}function Hn(n,a){if(1&n&&(e.TgZ(0,"div",181),e.YNc(1,Kn,2,0,"div",182),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.bank_Ruptcy_Info.errors.required)}}function zn(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Limits or restrictions is required "),e.qZA())}function $n(n,a){if(1&n&&(e.TgZ(0,"div",181),e.YNc(1,zn,2,0,"div",182),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.is_Limit_Licenses.errors.required)}}function Wn(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Reason is required"),e.qZA())}function Xn(n,a){if(1&n&&(e.TgZ(0,"div",181),e.YNc(1,Wn,2,0,"div",182),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.limit_Licenses_Info.errors.required)}}function eo(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"License suspended or revoked is required"),e.qZA())}function to(n,a){if(1&n&&(e.TgZ(0,"div",181),e.YNc(1,eo,2,0,"div",182),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.is_Suspended_Licenses.errors.required)}}function io(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Reason is required"),e.qZA())}function no(n,a){if(1&n&&(e.TgZ(0,"div",181),e.YNc(1,io,2,0,"div",182),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.suspended_Licenses_Info.errors.required)}}function oo(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",194)(1,"button",195),e.NdJ("click",function(){return e.CHM(t),e.oxw().gotoHome()}),e._uU(2," << BACK"),e.qZA(),e.TgZ(3,"button",196),e.NdJ("click",function(){return e.CHM(t),e.oxw().save()}),e._uU(4),e.qZA(),e.TgZ(5,"button",197),e._uU(6,"NEXT >>"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(4),e.Oqu(t.submitText)}}function ao(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",198)(1,"button",195),e.NdJ("click",function(){return e.CHM(t),e.oxw().gotoHome()}),e._uU(2," << BACK"),e.qZA(),e.TgZ(3,"button",199),e.NdJ("click",function(){return e.CHM(t),e.oxw().nextroutePage()}),e._uU(4,"NEXT >>"),e.qZA()()}}function ro(n,a){if(1&n&&e._UZ(0,"app-comment",200),2&n){const t=e.oxw();e.Q6J("events",t.eventsSubject.asObservable())("formId",t.tempcompanyid)("companyId",t.tempcompanyid)}}const Ce=function(n){return{"bg-grey":n}},ae=function(n){return{"bg-grey4":n}};let so=(()=>{class n{constructor(t,i,o,r,l,c,d,p,_,v,g,C,T){this.formBuilder=t,this.router=i,this.companyservice=o,this.bnIdle=r,this.zone=l,this.idle=c,this.keepalive=d,this.toaster=p,this.toastr=_,this.dialog=v,this.project=g,this.logininfo=C,this.ngxUiLoader=T,this.currentForm=0,this.submitted=!1,this.prequalification_status="",this.regionSource=["Charlotte, North Carolina","Cincinnati, Ohio","Columbus, Ohio","Dayton, Ohio","Indianapolis, Indiana","Knoxville, Tennessee","Lexington, Kentucky","Louisville, Kentucky","Nashville, Tennessee","Raleigh, North Carolina"],this.regionDest=[],this.companyInfo=this.formBuilder.group({id:[0],vendorID:[],taxID:[""],companyName:[""],org_Type:["",[s.kI.required,s.kI.maxLength(130)]],org_Other_Details:[""],date_Of_Incorporation:["",[s.kI.required]],state_Of_Incorporation:["",[s.kI.required]],contact_Name:["",[s.kI.required,s.kI.maxLength(256)]],contact_Email:["",[s.kI.required,s.kI.maxLength(256),s.kI.email,s.kI.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)]],contact_Mobile:["",[s.kI.required,s.kI.minLength(15)]],contact_Mobile_Ext:["",[s.kI.maxLength(256)]],is_Certified_Diverse:["no",[s.kI.required,s.kI.maxLength(130)]],is_Parent_Company:["no",[s.kI.required]],parent_Company_Name:[""],parent_Company_Address1:[""],parent_Company_Address2:[""],parent_Company_City:[""],parent_Company_State:[""],parent_Company_Zipcode:[""],parent_Company_Country:["USA"],parent_Company_FEIN:[""],w9_Document_Attachment:[""],geographic_Area:["",[s.kI.required]],percentage_Of_Annual_Revenue:["00",[s.kI.required,s.kI.pattern(/^-?(0|[1-9]\d*)?$/)]],annual_Construction_Last_Year:["",[s.kI.required]],annual_Construction_2_Years:["",[s.kI.required]],annual_Construction_3_Years:["",[s.kI.required]],executive_Officer_Name:["",[s.kI.required]],executive_Officer_Title:["",[s.kI.required]],executive_Officer_Email:["",[s.kI.required,s.kI.maxLength(256),s.kI.email,s.kI.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)]],executive_Officer_Name2:[""],executive_Officer_Title2:[""],executive_Officer_Email2:["",[s.kI.email]],is_Bank_Ruptcy:["no",[s.kI.required]],bank_Ruptcy_Info:[""],is_Limit_Licenses:["no",[s.kI.required]],limit_Licenses_Info:[""],is_Suspended_Licenses:["no",[s.kI.required]],suspended_Licenses_Info:[""],preQualification_Status:["To complete prequalification"],approved_Date:[""],reject_Reason:[""],standing:[""],user_Type:[""],safety:[""],experience:[""],finance:[""],personnel:[""],surity:[""],reference:[""],other:[""],organizationStatus:[""],signature:[""],certified_Diverse_Attachment:["",[s.kI.maxLength(130)]],additional_Details:["",[s.kI.maxLength(256)]],CD_Upload:[""],other_details:["",s.kI.maxLength(256)],isAutosave:[!1],city:[""],state:[null],org_Size:[],region:[]}),this.cpaUpload=[],this.autoSaveAlert=!1,this.setTimeout=0,this.firstTime=0,this.resetTimer=0,this.is_Certified_Diverse="no",this.showSaveModal=!1,this.showAdmin=!1,this.userRole="",this.companyId=0,this.selectdisabled=!1,this.worktypes=["Option 1","Option 2","Option 3","Option 4","Option 1","Option 2","Option 3","Option 4","Option 1","Option 2","Option 3","Option 4","Option 1","Option 2","Option 3","Option 4"],this.spinner={trirLastSpinner:!1,trirTwoSpinner:!1,trirThreeSpinner:!1,docmentSpinner:!1},this.tempannuallastyear=[],this.annualtwoyear=[],this.annualthreeyear=[],this.tempannualtwoyear=[],this.tempannualthreeyear=[],this.annuallastyear=[],this.stateNames=ye,this.tempdocumentw9file=[],this.documentw9file=[],this.toppings=new s.NI,this.stateTotal=[{name:"",percentage:""}],this.eventsSubject=new re.xQ}ngOnInit(){this.ngxUiLoader.startLoader("loader-01");let t=localStorage.getItem("userDetails");t&&(t=JSON.parse(atob(t)),this.userDetails=t,this.userRole=t.role,this.tempcompanyid=localStorage.getItem("tempcompanyid"),this.tempcompanyid=Number(atob(this.tempcompanyid)),console.log(this.tempcompanyid),localStorage.setItem("currPage","companyinfo"),this.tempcompanyid>0&&"Subcontractor"!=this.userRole&&(this.showAdmin=!0,this.selectdisabled=!0,this.companyservice.getRecord(this.tempcompanyid).subscribe(i=>{i=i[0],this.companyservice.companyId=this.tempcompanyid,this.logininfo.setOrgupdatedate(i.updatedDate),this.updateCompanyinfo(i)}),this.companyInfo.disable(),this.companyInfo.updateValueAndValidity(),this.logininfo.setAdmin(!0)),this.submitText="SAVE",null!=this.userDetails.vendorId&&null!=this.userDetails.taxId&&"Subcontractor"==this.userRole&&this.companyservice.getUser(this.userDetails.vendorId,this.userDetails.taxId).subscribe(i=>{this.companyId=i.id,this.companyservice.companyId=i.id,localStorage.setItem("companyid",btoa(i.id)),this.companyId>0&&(localStorage.setItem("companyid",btoa(this.companyId)),this.companyservice.getRecord(this.companyId).subscribe(o=>{this.logininfo.setOrgupdatedate(o[0].updatedDate),console.log(o,o[0].preQualification_Status),console.log(o,o[0].preQualification_Status,"To complete prequalification"!=o[0].preQualification_Status,"Additional Info Needed from Subcontractor"!=o[0].preQualification_Status),o[0].preQualification_Status&&this.logininfo.formDisable(o[0].preQualification_Status)&&(this.selectdisabled=!0,this.companyInfo.disable(),this.companyInfo.updateValueAndValidity()),this.submitText="UPDATE",this.updateCompanyinfo(o[0])}))}),this.ngxUiLoader.stopLoader("loader-01"))}emitEventToChild(){this.eventsSubject.next()}getRecord(){this.companyservice.getUser(this.userDetails.vendorId,this.userDetails.taxId).subscribe(t=>{this.companyId=t.id,this.companyId>0&&(localStorage.setItem("companyid",btoa(this.companyId)),this.companyservice.getRecord(this.companyId).subscribe(i=>{this.submitText=i[0].is_Parent_Company?"UPDATE":"SAVE",console.log(t.updateDate),this.logininfo.setOrgupdatedate(i.updatedDate),this.updateCompanyinfo(i[0])}))})}CommaFormatted(t,i){var o,r;t.AT_TARGET>=37&&t.AT_TARGET<=40||this.companyInfo.patchValue({[i]:null===(r=null===(o=this.companyInfo.get(i))||void 0===o?void 0:o.value)||void 0===r?void 0:r.replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,",")})}numberCheck(t){return!("e"===t.key||"+"===t.key||"-"===t.key)}companyDetailReset(){this.companyInfo.patchValue({parent_Company_Name:"",parent_Company_Address1:"",parent_Company_Address2:"",parent_Company_City:"",parent_Company_State:"",parent_Company_Zipcode:"",parent_Company_Country:"",parent_Company_FEIN:""}),this.selectdisabled=!1,this.documentw9file.forEach((t,i)=>{this.removedocumentw9file(i,t,!1)})}licenseStateReset(){this.companyInfo.patchValue({suspended_Licenses_Info:""})}licenseReset(){this.companyInfo.patchValue({limit_Licenses_Info:""})}bankruptcyReset(){this.companyInfo.patchValue({bank_Ruptcy_Info:""})}updateCompanyinfo(t){var i,o,r,l;let c=[];this.stateTotal=[],null===(i=null==t?void 0:t.geographic_Area)||void 0===i||i.split(",").filter(p=>{this.stateTotal.push({name:p.split("--")[0],percentage:p.split("--")[1]})}),0==this.stateTotal.length&&this.stateTotal.push({name:"",percentage:""}),console.log(c),console.log(t.org_Type),this.companyInfo.patchValue({id:t.id,org_Type:this.logininfo.validateEmpty(null===(o=null==t?void 0:t.org_Type)||void 0===o?void 0:o.toLowerCase()),org_Other_Details:this.logininfo.validateEmpty(t.org_Other_Details),date_Of_Incorporation:this.logininfo.validateEmpty(null===(r=null==t?void 0:t.date_Of_Incorporation)||void 0===r?void 0:r.split("T")[0]),state_Of_Incorporation:this.logininfo.validateEmpty(t.state_Of_Incorporation),contact_Name:this.logininfo.validateEmpty(t.contact_Name),contact_Email:this.logininfo.validateEmpty(t.contact_Email),contact_Mobile:this.logininfo.validateEmpty(t.contact_Mobile),contact_Mobile_Ext:this.logininfo.validateEmpty(t.contact_Mobile_Ext),is_Certified_Diverse:this.logininfo.validateEmpty(t.is_Certified_Diverse),is_Parent_Company:this.logininfo.validateEmpty(t.is_Parent_Company),parent_Company_Name:this.logininfo.validateEmpty(t.parent_Company_Name),parent_Company_Address1:this.logininfo.validateEmpty(t.parent_Company_Address1),parent_Company_Address2:this.logininfo.validateEmpty(t.parent_Company_Address2),parent_Company_City:this.logininfo.validateEmpty(t.parent_Company_City),parent_Company_State:this.logininfo.validateEmpty(t.parent_Company_State),parent_Company_Zipcode:this.logininfo.validateEmpty(t.parent_Company_Zipcode),parent_Company_Country:this.logininfo.validateEmpty(t.parent_Company_Country),parent_Company_FEIN:this.logininfo.validateEmpty(t.parent_Company_FEIN),geographic_Area:this.logininfo.validateEmpty(this.stateTotal),percentage_Of_Annual_Revenue:this.logininfo.validateEmpty(t.percentage_Of_Annual_Revenue),executive_Officer_Name:this.logininfo.validateEmpty(t.executive_Officer_Name),executive_Officer_Title:this.logininfo.validateEmpty(t.executive_Officer_Title),executive_Officer_Email:this.logininfo.validateEmpty(t.executive_Officer_Email),executive_Officer_Name2:this.logininfo.validateEmpty(t.executive_Officer_Name2),executive_Officer_Title2:this.logininfo.validateEmpty(t.executive_Officer_Title2),executive_Officer_Email2:this.logininfo.validateEmpty(t.executive_Officer_Email2),is_Bank_Ruptcy:this.logininfo.validateEmpty(t.is_Bank_Ruptcy),bank_Ruptcy_Info:this.logininfo.validateEmpty(t.bank_Ruptcy_Info),is_Limit_Licenses:this.logininfo.validateEmpty(t.is_Limit_Licenses),limit_Licenses_Info:this.logininfo.validateEmpty(t.limit_Licenses_Info),is_Suspended_Licenses:this.logininfo.validateEmpty(t.is_Suspended_Licenses),suspended_Licenses_Info:this.logininfo.validateEmpty(t.suspended_Licenses_Info),preQualification_Status:this.logininfo.validateEmpty(t.preQualification_Status),reject_Reason:this.logininfo.validateEmpty(t.reject_Reason),standing:t.standing,companyName:t.companyName,vendorID:t.vendorID,taxID:t.taxID,approved_Date:t.approved_Date,annual_Construction_Last_Year:this.logininfo.validateEmpty(t.annual_Construction_Last_Year),annual_Construction_2_Years:this.logininfo.validateEmpty(t.annual_Construction_2_Years),annual_Construction_3_Years:this.logininfo.validateEmpty(t.annual_Construction_3_Years),region:t.messer_Region,org_Size:t.messer_Dollar});let d=null===(l=t.messer_Region)||void 0===l?void 0:l.split(",");if(d)for(let p=0;p<d.length-1;p+=2)this.regionDest.push(`${d[p]},${d[p+1]}`);this.selectedToppings=c,(null==t?void 0:t.additional_Details)&&"null"!=(null==t?void 0:t.additional_Details)&&this.companyInfo.patchValue({additional_Details:null==t?void 0:t.additional_Details}),this.prequalification_status=t.preQualification_Status,this.logininfo.setOrganization(t.preQualification_Status),this.annuallastyear=[],this.annualtwoyear=[],this.annualthreeyear=[],this.documentw9file=[],t.files.filter(p=>{"Annual_Construction_Last_Year"==p.file_Type&&0==p.isDeleted&&(p.file_Name.length<31?this.annuallastyear.push({id:p.id,name:p.file_Name,file_Path:p.file_Path}):0==p.isDeleted&&this.annuallastyear.push({id:p.id,name:p.file_Name.substring(0,31)+"....",file_Path:p.file_Path})),"Annual_Construction_2_Years"==p.file_Type&&0==p.isDeleted&&(p.file_Name.length<31?this.annualtwoyear.push({id:p.id,name:p.file_Name,file_Path:p.file_Path}):0==p.isDeleted&&this.annualtwoyear.push({id:p.id,name:p.file_Name.substring(0,31)+"....",file_Path:p.file_Path})),"Annual_Construction_3_Years"==p.file_Type&&0==p.isDeleted&&(p.file_Name.length<31?this.annualthreeyear.push({id:p.id,name:p.file_Name,file_Path:p.file_Path}):0==p.isDeleted&&this.annualthreeyear.push({id:p.id,name:p.file_Name.substring(0,31)+"....",file_Path:p.file_Path})),"W9_Document_Attachment"==p.file_Type&&0==p.isDeleted&&(p.file_Name.length<31?this.documentw9file.push({id:p.id,name:p.file_Name,file_Path:p.file_Path}):0==p.isDeleted&&this.documentw9file.push({id:p.id,name:p.file_Name.substring(0,31)+"....",file_Path:p.file_Path}))})}ngAfterViewInit(){this.keepalive.interval(30),this.keepalive.start(),this.keepalive.stop()}ngOnDestroy(){this.keepalive.stop(),this.nextpage()}ngOnChanges(){document.getElementById("exampleModals").click()}idleReset(t){this.keepalive.start(),this.resetTimer=0}get f(){return"other"==this.companyInfo.value.org_Type?this.companyInfo.controls.org_Other_Details.setValidators([s.kI.required,s.kI.maxLength(256)]):(this.companyInfo.controls.org_Other_Details.clearValidators(),this.companyInfo.patchValue({org_Other_Details:this.logininfo.validateEmpty(this.companyInfo.value.org_Other_Details)})),this.companyInfo.controls.org_Other_Details.updateValueAndValidity(),"yes"==this.companyInfo.value.is_Parent_Company?(this.companyInfo.controls.parent_Company_Name.setValidators([s.kI.required,s.kI.maxLength(256)]),this.companyInfo.controls.parent_Company_Address1.setValidators([s.kI.required,s.kI.maxLength(256)]),this.companyInfo.controls.parent_Company_City.setValidators([s.kI.required,s.kI.maxLength(256)]),this.companyInfo.controls.parent_Company_State.setValidators([s.kI.required,s.kI.maxLength(256)]),this.companyInfo.controls.parent_Company_Zipcode.setValidators([s.kI.required,s.kI.maxLength(256),s.kI.pattern(/^-?(0|[1-9]\d*)?$/)]),this.companyInfo.controls.parent_Company_Country.setValidators([s.kI.required,s.kI.maxLength(256)]),this.companyInfo.controls.parent_Company_FEIN.setValidators([s.kI.required,s.kI.maxLength(256)]),this.companyInfo.controls.w9_Document_Attachment.setValidators([s.kI.required])):"no"==this.companyInfo.value.is_Parent_Company&&(this.companyInfo.controls.parent_Company_Name.clearValidators(),this.companyInfo.controls.parent_Company_Address1.clearValidators(),this.companyInfo.controls.parent_Company_City.clearValidators(),this.companyInfo.controls.parent_Company_State.clearValidators(),this.companyInfo.controls.parent_Company_Country.clearValidators(),this.companyInfo.controls.parent_Company_Zipcode.clearValidators(),this.companyInfo.controls.parent_Company_FEIN.clearValidators(),this.companyInfo.controls.w9_Document_Attachment.clearValidators()),this.companyInfo.controls.parent_Company_Name.updateValueAndValidity(),this.companyInfo.controls.parent_Company_Address1.updateValueAndValidity(),this.companyInfo.controls.parent_Company_City.updateValueAndValidity(),this.companyInfo.controls.parent_Company_State.updateValueAndValidity(),this.companyInfo.controls.parent_Company_Country.updateValueAndValidity(),this.companyInfo.controls.parent_Company_FEIN.updateValueAndValidity(),this.companyInfo.controls.parent_Company_Zipcode.updateValueAndValidity(),this.companyInfo.controls.w9_Document_Attachment.updateValueAndValidity(),null==this.companyInfo.value.is_Certified_Diverse?this.companyInfo.controls.is_Certified_Diverse.setValidators([s.kI.required]):this.companyInfo.controls.is_Certified_Diverse.setValue(this.companyInfo.value.is_Certified_Diverse),"yes"==this.companyInfo.value.is_Bank_Ruptcy?this.companyInfo.controls.bank_Ruptcy_Info.setValidators([s.kI.required,s.kI.maxLength(256)]):(this.companyInfo.controls.bank_Ruptcy_Info.clearValidators(),this.companyInfo.patchValue({bank_Ruptcy_Info:this.logininfo.validateEmpty(this.companyInfo.value.bank_Ruptcy_Info)})),this.companyInfo.controls.bank_Ruptcy_Info.updateValueAndValidity(),"yes"==this.companyInfo.value.is_Limit_Licenses?this.companyInfo.controls.limit_Licenses_Info.setValidators([s.kI.required,s.kI.maxLength(256)]):(this.companyInfo.controls.limit_Licenses_Info.clearValidators(),this.companyInfo.patchValue({limit_Licenses_Info:this.logininfo.validateEmpty(this.companyInfo.value.limit_Licenses_Info)})),this.companyInfo.controls.limit_Licenses_Info.updateValueAndValidity(),"yes"==this.companyInfo.value.is_Suspended_Licenses?this.companyInfo.controls.suspended_Licenses_Info.setValidators([s.kI.required,s.kI.maxLength(256)]):(this.companyInfo.controls.suspended_Licenses_Info.clearValidators(),this.companyInfo.patchValue({suspended_Licenses_Info:this.logininfo.validateEmpty(this.companyInfo.value.suspended_Licenses_Info)})),this.companyInfo.controls.suspended_Licenses_Info.updateValueAndValidity(),1==this.stateTotal.length?""!=this.stateTotal[0].name||""!=this.stateTotal[0].percentage?(this.companyInfo.controls.geographic_Area.clearValidators(),this.companyInfo.controls.percentage_Of_Annual_Revenue.clearValidators()):(this.companyInfo.controls.geographic_Area.setValidators([s.kI.required]),this.companyInfo.controls.percentage_Of_Annual_Revenue.setValidators([s.kI.required])):this.stateNames.length>1&&(this.companyInfo.controls.geographic_Area.clearValidators(),this.companyInfo.controls.percentage_Of_Annual_Revenue.clearValidators()),this.companyInfo.controls.geographic_Area.updateValueAndValidity(),this.companyInfo.controls.percentage_Of_Annual_Revenue.updateValueAndValidity(),this.companyInfo.controls}submit(){if(this.keepalive.stop(),this.ngxUiLoader.startLoader("loader-01"),"Subcontractor"!=this.userRole)this.emitEventToChild(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`]);else if(0==this.companyId){this.companyInfo.patchValue({isAutosave:!1});let t=this.formMethod();this.companyservice.addRecord(t).subscribe(i=>{localStorage.setItem("companyid",btoa(i.id)),this.companyInfo.patchValue({id:i.id,isAutosave:!1}),this.autoSaveAlert=!1,this.toastr.success("Organization Information saved successfully","Organizational Information"),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])})}else{this.companyInfo.patchValue({id:this.companyId,isAutosave:!0});let t=this.formMethod();this.companyservice.updateRecord(t,this.companyInfo.value.id).subscribe(i=>{this.companyservice.companyId=i.id,localStorage.setItem("companyid",btoa(i.id)),this.toastr.success("Organization Info updated successfully","Organizational Information"),this.autoSaveAlert=!1,this.getRecord(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])})}}save(){if(this.submitted=!0,this.keepalive.stop(),this.companyInfo.patchValue({companyName:this.userDetails.companyName,vendorID:this.userDetails.vendorID,taxID:this.userDetails.taxID}),console.log(this.companyInfo),this.companyInfo.valid)if(0==this.companyId){this.companyInfo.patchValue({isAutosave:!1});let t=this.formMethod();this.companyservice.addRecord(t).subscribe(i=>{localStorage.setItem("companyid",btoa(i.id)),this.companyservice.companyId=i.id,this.companyInfo.patchValue({id:i.id}),this.submitText="UPDATE",this.autoSaveAlert=!1,this.toastr.success("Organizational Information saved successfully","Organization Information"),this.getRecord()},i=>{})}else{this.companyInfo.patchValue({isAutosave:!0,id:this.companyId});let t=this.formMethod();this.companyservice.updateRecord(t,this.companyInfo.value.id).subscribe(i=>{this.companyservice.companyId=i.id,localStorage.setItem("companyid",btoa(i.id)),this.autoSaveAlert=!1,this.getRecord(),this.toastr.success("Organizational Information updated successfully","Organization Information")})}}autoSave(){if(this.companyInfo.patchValue({companyName:this.userDetails.companyName,vendorID:this.userDetails.vendorID,taxID:this.userDetails.taxID}),this.resetTimer+=1,1==this.resetTimer)if(this.keepalive.stop(),this.showSaveModal=!1,0==this.companyId){this.companyInfo.patchValue({isAutosave:!1});let t=this.formMethod();this.companyservice.addRecord(t).subscribe(i=>{this.companyInfo.patchValue({id:i.id,isAutosave:!1}),this.submitText="UPDATE",this.autoSaveAlert=!1,this.keepalive.stop(),this.getRecord()})}else{this.companyInfo.patchValue({id:this.companyId,isAutosave:!0});let t=this.formMethod();this.companyservice.updateRecord(t,this.companyInfo.value.id).subscribe(i=>{this.autoSaveAlert=!1,this.keepalive.stop(),this.getRecord()})}}nextpage(){if("Subcontractor"==this.userRole)if(0==this.companyId){this.companyInfo.patchValue({isAutosave:!1});let t=this.formMethod();this.companyservice.addRecord(t).subscribe(i=>{localStorage.setItem("companyid",btoa(i.id)),this.companyInfo.patchValue({id:i.id,isAutosave:!1}),this.autoSaveAlert=!1})}else{this.companyInfo.patchValue({id:this.companyId,isAutosave:!0});let t=this.formMethod();this.companyservice.updateRecord(t,this.companyInfo.value.id).subscribe(i=>{this.companyservice.companyId=i.id,localStorage.setItem("companyid",btoa(i.id)),this.autoSaveAlert=!1})}}formMethod(){console.log("Form method"),console.log(this.companyInfo.value.date_Of_Incorporation),console.log(this.companyInfo.value.parent_Company_Zipcode);var t=new FormData;t.append("id",this.companyInfo.value.id),t.append("additional_Details",this.logininfo.validateEmpty(this.companyInfo.value.additional_Details)),t.append("certified_Diverse_Attachment",this.logininfo.validateEmpty(this.companyInfo.value.certified_Diverse_Attachment)),t.append("contact_Email",this.logininfo.validateEmpty(this.companyInfo.value.contact_Email)),t.append("contact_Mobile",this.logininfo.validateEmpty(this.companyInfo.value.contact_Mobile)),t.append("contact_Name",this.logininfo.validateEmpty(this.companyInfo.value.contact_Name)),t.append("is_Certified_Diverse",this.logininfo.validateEmpty(this.companyInfo.value.is_Certified_Diverse)),t.append("org_Type",this.logininfo.validateEmpty(this.companyInfo.value.org_Type)),t.append("CD_Upload",""),t.append("preQualification_Status",this.logininfo.validateEmpty(this.companyInfo.value.preQualification_Status)),t.append("companyName",this.logininfo.validateEmpty(this.userDetails.companyName)),t.append("vendorID",this.logininfo.validateEmpty(this.userDetails.vendorId)),t.append("taxID",this.logininfo.validateEmpty(this.userDetails.taxId)),t.append("org_Other_Details",this.logininfo.validateEmpty(this.companyInfo.value.org_Other_Details)),t.append("date_Of_Incorporation",this.logininfo.validateEmpty(this.companyInfo.value.date_Of_Incorporation)),t.append("state_Of_Incorporation",this.logininfo.validateEmpty(this.companyInfo.value.state_Of_Incorporation)),t.append("contact_Name",this.logininfo.validateEmpty(this.companyInfo.value.contact_Name)),t.append("contact_Mobile",this.logininfo.validateEmpty(this.companyInfo.value.contact_Mobile)),t.append("contact_Mobile_Ext",this.logininfo.validateEmpty(this.companyInfo.value.contact_Mobile_Ext)),t.append("is_Parent_Company",this.logininfo.validateEmpty(this.companyInfo.value.is_Parent_Company)),t.append("parent_Company_Name",this.logininfo.validateEmpty(this.companyInfo.value.parent_Company_Name)),t.append("parent_Company_Address1",this.logininfo.validateEmpty(this.companyInfo.value.parent_Company_Address1)),t.append("parent_Company_Address2",this.logininfo.validateEmpty(this.companyInfo.value.parent_Company_Address2)),t.append("parent_Company_City",this.logininfo.validateEmpty(this.companyInfo.value.parent_Company_City)),t.append("parent_Company_State",this.logininfo.validateEmpty(this.companyInfo.value.parent_Company_State)),t.append("parent_Company_Zipcode",this.logininfo.validateEmpty(this.companyInfo.value.parent_Company_Zipcode)),t.append("parent_Company_Country",this.logininfo.validateEmpty(this.companyInfo.value.parent_Company_Country)),t.append("parent_Company_FEIN",this.logininfo.validateEmpty(this.companyInfo.value.parent_Company_FEIN)),t.append("percentage_Of_Annual_Revenue","00"),t.append("executive_Officer_Name",this.logininfo.validateEmpty(this.companyInfo.value.executive_Officer_Name)),t.append("executive_Officer_Title",this.logininfo.validateEmpty(this.companyInfo.value.executive_Officer_Title)),t.append("executive_Officer_Email",this.logininfo.validateEmpty(this.companyInfo.value.executive_Officer_Email)),t.append("executive_Officer_Name2",this.logininfo.validateEmpty(this.companyInfo.value.executive_Officer_Name2)),t.append("executive_Officer_Title2",this.logininfo.validateEmpty(this.companyInfo.value.executive_Officer_Title2)),t.append("executive_Officer_Email2",this.logininfo.validateEmpty(this.companyInfo.value.executive_Officer_Email2)),t.append("is_Bank_Ruptcy",this.logininfo.validateEmpty(this.companyInfo.value.is_Bank_Ruptcy)),t.append("bank_Ruptcy_Info",this.logininfo.validateEmpty(this.companyInfo.value.bank_Ruptcy_Info)),t.append("is_Limit_Licenses",this.logininfo.validateEmpty(this.companyInfo.value.is_Limit_Licenses)),t.append("limit_Licenses_Info",this.logininfo.validateEmpty(this.companyInfo.value.limit_Licenses_Info)),t.append("is_Suspended_Licenses",this.logininfo.validateEmpty(this.companyInfo.value.is_Suspended_Licenses)),t.append("suspended_Licenses_Info",this.logininfo.validateEmpty(this.companyInfo.value.suspended_Licenses_Info)),t.append("annual_Construction_Last_Year",this.companyInfo.value.annual_Construction_Last_Year),t.append("annual_Construction_2_Years",this.companyInfo.value.annual_Construction_2_Years),t.append("annual_Construction_3_Years",this.companyInfo.value.annual_Construction_3_Years),t.append("messer_Region",this.regionDest),t.append("messer_Dollar",this.companyInfo.value.org_Size),this.tempannualthreeyear=[];for(let o=0;o<this.tempdocumentw9file.length;o++)t.append("W9_Document_Attachment",this.tempdocumentw9file[o]);this.tempdocumentw9file=[];let i=[];return this.stateTotal.filter(o=>{""!=o.name&&""!=o.percentage&&i.push(o.name+"--"+o.percentage)}),console.log(i),t.append("geographic_Area",String(i)),t}gotoHome(){this.emitEventToChild(),this.router.navigate(["/home"])}gotoNext(){this.emitEventToChild(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])}triRInfoLastYearUpload(t){let i=document.getElementById("annual_Construction_Last_Year");for(let o=0;o<i.files.length;o++)this.tempannuallastyear.push(i.files[o]);this.spinner.trirLastSpinner=!0,this.fileupload()}removetriRInfoLastYearUpload(t,i){this.selectdisabled||this.companyservice.deleteRecord(i.id).subscribe(o=>{this.toastr.info("File removed successfully","Company Info"),this.annuallastyear.splice(t,1)})}triRInfoThreeYearsUpload(t){let i=document.getElementById("annual_Construction_3_Years");for(let o=0;o<i.files.length;o++)this.tempannualthreeyear.push(i.files[o]);this.spinner.trirThreeSpinner=!0,this.fileupload()}removetriRInfoThreeYearsUpload(t,i){this.selectdisabled||this.companyservice.deleteRecord(i.id).subscribe(o=>{this.toastr.info("File removed successfully","Company Info"),this.annualthreeyear.splice(t,1)})}triRInfoTwoYearsUpload(t){let i=document.getElementById("annual_Construction_2_Years");for(let o=0;o<i.files.length;o++)this.tempannualtwoyear.push(i.files[o]);this.spinner.trirTwoSpinner=!0,this.fileupload()}removetriRInfoTwoYearsUpload(t,i){this.selectdisabled||this.companyservice.deleteRecord(i.id).subscribe(o=>{this.toastr.info("File removed successfully","Company Info"),this.annualtwoyear.splice(t,1)})}documentw9fileUpload(t){let i=document.getElementById("w9_Document_Attachment");for(let o=0;o<i.files.length;o++)this.tempdocumentw9file.push(i.files[o]);this.spinner.docmentSpinner=!0,this.fileupload()}removedocumentw9file(t,i,o=!0){this.selectdisabled||this.companyservice.deleteRecord(i.id).subscribe(r=>{o&&this.toastr.info("File removed successfully","Company Info"),this.documentw9file.splice(t,1)})}fileupload(){if(0==this.companyId){this.companyInfo.patchValue({isAutosave:!0});let t=this.formMethod();this.companyservice.addRecord(t).subscribe(i=>{this.submitText="UPDATE",this.getRecord(),this.fileReset(),this.keepalive.stop(),this.resetSpinner()})}else{this.companyInfo.patchValue({isAutosave:!0});let t=this.formMethod();this.companyservice.updateRecord(t,this.companyId).subscribe(i=>{this.getRecord(),this.fileReset(),this.keepalive.stop(),this.resetSpinner(),this.companyInfo.patchValue({isAutosave:!1})})}}fileReset(){this.companyInfo.patchValue({triR_Info_LastYear:"",triR_Info_TwoYears:"",triR_Info_ThreeYears:""})}resetSpinner(){this.spinner={trirLastSpinner:!1,trirTwoSpinner:!1,trirThreeSpinner:!1,docmentSpinner:!1}}addGeographicarea(){this.stateTotal.push({name:"",percentage:""})}removeGeographicalarea(t,i){this.selectdisabled||(this.stateTotal.splice(i,1),0==this.stateTotal.length&&this.stateTotal.push({name:"",percentage:""}))}nextroutePage(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.qu),e.Y36(U.F0),e.Y36(G.O),e.Y36(K.d),e.Y36(e.R0b),e.Y36(mi.hX),e.Y36(Q.A),e.Y36(hi),e.Y36(L._W),e.Y36(te.uw),e.Y36(se.m),e.Y36(D),e.Y36(V.LA))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-companyinfo"]],viewQuery:function(t,i){if(1&t&&e.Gf(ki,5),2&t){let o;e.iGM(o=e.CRH())&&(i.exampleModals=o.first)}},features:[e.TTD],decls:449,vars:214,consts:[[1,"m-2",3,"formGroup","ngSubmit","keydown.enter"],[1,"px-2","form-bg",3,"ngClass"],[1,"form-group","input-group","row","px-1","mx-auto","pt-3"],[1,"row"],[1,"col-lg-6","col-head-0","mx-auto"],[1,"row","col-curve-top","bg-white","mx-0","px-0","pt-2","pb-4"],[1,"col-12","pt-2"],[1,"row","my-auto","pt-2","ps"],["for","organization-type",1,"my-auto","fw-bold"],[1,"row","my-auto","pt-1","mx-auto","ps-2"],[1,"col-5","col-lg-4","my-auto"],["for","organization-type",1,"my-auto","font-italic"],[1,"text-danger"],[1,"col-7","col-lg-8"],["formControlName","org_Type","id","organization-type","name","org_Type","aria-label","Default select example",1,"form-control","form-select","my-2",3,"ngClass","ngModelChange"],[3,"ngValue"],["selected","",3,"ngValue"],["class","invalid-feedback","id","org_Type",4,"ngIf"],["class","row  my-auto pt-1 mx-auto ps-2",4,"ngIf"],["for","date_Of_Incorporation",1,"my-auto","font-italic"],[1,""],["type","date","row","5","formControlName","date_Of_Incorporation","id","date_Of_Incorporation","name","date_Of_Incorporation",1,"form-control",3,"ngClass","ngModelChange"],["class","invalid-feedback",4,"ngIf"],[1,"row","my-auto","pt-2","mx-auto","ps-2"],["for","state_Of_Incorporation",1,"my-auto","font-italic"],["id","state_Of_Incorporation","name","state_Of_Incorporation","formControlName","state_Of_Incorporation",1,"form-control","form-select","select-height",3,"ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"note","fw-bold","p-0","pt-3",3,"ngClass"],[1,"col-lg-6","pe-1","ps-3","col-head-0","mx-auto"],[1,"row","bg-white","col-curve-top","mx-0","px-0","pt-2","pb-0"],[1,"col-12","pb-1"],[1,"col-5","col-lg-12","my-auto","pt-2","pt-3","pb-2","mx-auto"],[1,"row","my-2","my-auto","pt-2","pb-2","mx-auto"],[1,"col-5","col-lg-4"],["for","contact_Name",1,"my-auto","font-italic"],["type","text","row","5","formControlName","contact_Name","id","contact_Name","name","contact_Name",1,"form-control",3,"ngClass","ngModelChange"],[1,"row","mb-2","my-auto","pt-2","pb-1","mx-auto"],["for","contact_Email",1,"my-auto","font-italic"],["type","email","formControlName","contact_Email","id","contact_Email","name","contact_Email",1,"form-control",3,"ngClass","ngModelChange"],[1,"row","mb-2","my-auto","pt-2","mx-auto"],["for","contact_Mobile",1,"my-auto","font-italic"],[1,"col-9","pe-0"],["appPhoneMask","","onKeyPress","if(this.value.length==15) return false;","autocomplete","disabled","formControlName","contact_Mobile","id","contact_Mobile","name","contact_Mobile",1,"form-control",3,"ngClass","ngModelChange"],[1,"col-3","ps-0"],["type","number","onKeyPress","if(this.value.length==3) return false;","pattern","[0-9]+","formControlName","contact_Mobile_Ext","id","contact_Mobile_Ext","name","contact_Mobile_Ext",1,"form-control",3,"ngClass","ngModelChange"],[1,"col-lg-6","pe-1","ps-2","col-head-1","mx-auto","pt-3"],[1,"row","bg-white","col-curve","py-2","mt-0"],[1,"col-9","pull-left"],["for","is_Certified_Diverse",1,"my-auto","fw-bold"],[1,"col-3","pull-left"],[1,"row","pt-1"],[1,"col-lg-6"],["type","radio","formControlName","is_Certified_Diverse","value","yes","checked","checked","name","is_Certified_Diverse","id","is_Certified_Diverse_yes","required","",3,"ngModel","ngClass","ngModelChange"],["for","is_Certified_Diverse_yes"],["type","radio","formControlName","is_Certified_Diverse","value","no","name","is_Certified_Diverse","id","is_Certified_Diverse_no","required","",3,"ngModel","ngClass","ngModelChange"],["for","is_Certified_Diverse_no"],["class","invalid-feedback mt-2","id","is_Certified_Diverse",4,"ngIf"],[1,"col-12","form-group","input-group","row","m-0"],[1,"row","bg-white","col-curve","py-2","mt-3"],[1,"fw-bold"],[1,"red",3,"source","destination","disabled","destinationChange"],[1,"col-12","mx-auto","pt-2"],["for","annual_Construction_Last_Year",1,"my-auto","float-right"],[1,"col-lg-12","mt-2","bg-white","col-curve"],["for","annual_Construction_Last_Year",1,"font-italic","float-right"],["class","text-danger",4,"ngIf"],["type","text","formControlName","annual_Construction_Last_Year","name","annual_Construction_Last_Year",1,"form-control",3,"ngClass","keydown","keyup"],["for","annual_Construction_2_Years",1,"font-italic","float-right"],["type","text","formControlName","annual_Construction_2_Years","title","Choose file","id","annual_Construction_2_Years","name","annual_Construction_2_Years",1,"form-control",3,"ngClass","keydown","keyup"],[1,"row","pb-3"],["for","annual_Construction_3_Years",1,"font-italic","float-right"],["type","text","formControlName","annual_Construction_3_Years","id","annual_Construction_3_Years","name","annual_Construction_3_Years",1,"form-control",3,"ngClass","keydown","keyup"],[1,"col-lg-6","pe-0","ps-0","col-head-1","mx-auto","pt-3"],[1,"row","bg-white","col-curve","mx-auto","py-2","mx-0","px-0","mt-2"],[1,"col-6"],["for","is_Parent_Company",1,"my-auto","font-italic"],[1,"col-lg-3"],["type","radio","formControlName","is_Parent_Company","value","yes","checked","checked","name","is_Parent_Company","id","is_Parent_Company_yes","required","",3,"ngClass","ngModelChange"],["for","is_Parent_Company_yes"],[1,"col-lg-9"],["type","radio","formControlName","is_Parent_Company","value","no","name","is_Parent_Company","id","is_Parent_Company_no","required","",3,"ngClass","ngModelChange","click"],["for","is_Parent_Company_no"],["class","invalid-feedback mt-2","id","is_Parent_Company",4,"ngIf"],[1,"col-12",3,"ngClass"],[1,"row","my-2"],["for","parent_Company_Name",1,"my-auto","font-italic"],["type","text","row","5","formControlName","parent_Company_Name","id","parent_Company_Name","name","parent_Company_Name",1,"form-control",3,"ngClass","ngModelChange"],["for","parent_Company_Address1",1,"my-auto","font-italic"],["type","text","row","5","formControlName","parent_Company_Address1","id","parent_Company_Address1","name","parent_Company_Address1",1,"form-control",3,"ngClass","ngModelChange"],["type","text","row","5","formControlName","parent_Company_Address2","id","parent_Company_Address2","name","parent_Company_Address2",1,"form-control",3,"ngModelChange"],["for","parent_Company_City",1,"my-auto","font-italic"],["type","text","formControlName","parent_Company_City","id","parent_Company_City","name","parent_Company_City",1,"form-control",3,"ngClass","ngModelChange"],["for","parent_Company_State",1,"my-auto","font-italic","float-right"],["formControlName","parent_Company_State","id","parent_Company_State","name","parent_Company_State",1,"form-control","form-select",3,"ngClass","ngModelChange"],["for","parent_Company_Zipcode",1,"my-auto","font-italic"],["type","number","row","5","formControlName","parent_Company_Zipcode","id","parent_Company_Zipcode","name","parent_Company_Zipcode",1,"form-control",3,"ngClass","ngModelChange"],["for","parent_Company_Country",1,"my-auto","font-italic"],["type","text","row","5","formControlName","parent_Company_Country","id","parent_Company_Country","value","USA","name","parent_Company_Country",1,"form-control",3,"ngClass","ngModelChange"],["for","parent_Company_FEIN",1,"my-auto","font-italic"],["type","text","row","5","formControlName","parent_Company_FEIN","id","parent_Company_FEIN","name","parent_Company_FEIN",1,"form-control",3,"ngClass","ngModelChange"],[1,"row","mb-1"],[1,"col-4","my-auto"],["for","w9_Document_Attachment",1,"my-auto","font-italic","float-right"],[1,"col-8"],[1,"form-control-customitem","form-control"],["type","file","title","Choose file","formControlName","w9_Document_Attachment","id","w9_Document_Attachment","name","w9_Document_Attachment","multiple","",3,"ngClass","change"],["for","w9_Document_Attachment",3,"ngClass"],["class","spinner__loading pt-3",4,"ngIf"],[4,"ngFor","ngForOf"],["formControlName","org_Size","id","organization-Size","name","org_Size","aria-label","Default select example",1,"form-control","form-select","my-2","ml-1",2,"width","96%","margin-left","10px",3,"ngClass","ngModelChange"],[1,"col-lg-6","pe-1","ps-3","col-head-1"],[1,"row","bg-white","col-curve","mx-auto","py-1","mx-0","px-0","mt-1"],["for","executive_Officer_Name",1,"my-auto","fw-bold","pt-3"],[1,"row","my-1"],["for","executive_Officer_Name",1,"my-auto","font-italic"],["type","text","row","5","formControlName","executive_Officer_Name","id","executive_Officer_Name","name","executive_Officer_Name",1,"form-control",3,"ngClass","ngModelChange"],["for","executive_Officer_Title",1,"my-auto","font-italic"],["type","text","row","5","formControlName","executive_Officer_Title","id","executive_Officer_Title","name","executive_Officer_Title",1,"form-control",3,"ngClass","ngModelChange"],["for","executive_Officer_Email",1,"my-auto","font-italic"],["type","email","row","5","formControlName","executive_Officer_Email","id","executive_Officer_Email","name","executive_Officer_Email",1,"form-control",3,"ngClass","ngModelChange"],["for","executive_Officer_Name2",1,"my-auto","font-italic"],["type","text","row","5","formControlName","executive_Officer_Name2","id","executive_Officer_Name2","name","executive_Officer_Name2",1,"form-control",3,"ngModelChange"],["for","executive_Officer_Title2",1,"my-auto","font-italic"],["type","text","row","5","formControlName","executive_Officer_Title2","id","executive_Officer_Title2","name","executive_Officer_Title2",1,"form-control",3,"ngModelChange"],["for","executive_Officer_Email2",1,"my-auto","font-italic"],["type","email","formControlName","executive_Officer_Email2","id","executive_Officer_Email2","name","executive_Officer_Email2",1,"form-control",3,"ngModelChange"],["for","additional_Details",1,"my-auto","font-italic"],[1,"col-lg-2"],["type","radio","formControlName","is_Bank_Ruptcy","value","yes","checked","checked","name","is_Bank_Ruptcy","id","is_Bank_Ruptcy_yes",3,"ngClass","ngModelChange"],["for","is_Bank_Ruptcy_yes"],[1,"col-lg-10"],["type","radio","formControlName","is_Bank_Ruptcy","value","no","name","is_Bank_Ruptcy","id","is_Bank_Ruptcy_no",3,"ngClass","ngModelChange","click"],["for","is_Bank_Ruptcy_no"],[1,"mr-4","mt-1"],[1,"note","fw-bold",3,"ngClass"],[1,"col-lg-12","bg-white"],["formControlName","bank_Ruptcy_Info","id","bank_Ruptcy_Info","name","bank_Ruptcy_Info",1,"form-control",3,"ngClass","ngModelChange"],[1,"col-lg-6","pe-0","ps-0","col-head-1","mx-auto"],[1,"row","bg-white","col-curve","py-2","mx-3","px-0","mt-1"],[1,"mt-2"],["for","is_Limit_Licenses",1,"my-auto","fw-bold"],["for","is_Limit_Licenses",1,"my-auto","font-italic"],["type","radio","formControlName","is_Limit_Licenses","value","yes","checked","checked","name","is_Limit_Licenses","id","is_Limit_Licenses_yes",3,"ngClass","ngModelChange"],["for","is_Limit_Licenses_yes"],["type","radio","formControlName","is_Limit_Licenses","value","no","name","is_Limit_Licenses","id","is_Limit_Licenses_no",3,"ngClass","ngModelChange","click"],["for","is_Limit_Licenses_no"],["formControlName","limit_Licenses_Info","id","limit_Licenses_Info","name","limit_Licenses_Info",1,"form-control",3,"ngClass","ngModelChange"],[1,"pt-1"],["type","radio","formControlName","is_Suspended_Licenses","value","yes","checked","checked","name","is_Suspended_Licenses","id","is_Suspended_Licenses_yes",3,"ngClass","ngModelChange"],["for","is_Suspended_Licenses_yes"],["type","radio","formControlName","is_Suspended_Licenses","value","no","name","is_Suspended_Licenses","id","is_Suspended_Licenses_no",3,"ngClass","ngModelChange","click"],["for","is_Suspended_Licenses_no"],["formControlName","suspended_Licenses_Info","id","suspended_Licenses_Info","name","suspended_Licenses_Info",1,"form-control",3,"ngClass","ngModelChange"],[1,"pt-5","pb-1"],["class","text-end mx-lg-4 my-3",4,"ngIf"],["class","text-end mx-4 my-3",4,"ngIf"],["headerReview","Risk Review & Inputs","formname","organization",3,"events","formId","companyId",4,"ngIf"],["type","button","id","exampleModals","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn-hide"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["exampleModal",""],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"text-success"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","default-btn","modal-cancel"],["type","button","data-bs-dismiss","modal",1,"btn","default-btn"],["id","org_Type",1,"invalid-feedback"],["id","org_Type",4,"ngIf"],["id","org_Type"],[1,"col-4"],[1,"col-12"],["for","organization-others",1,"my-auto","font-italic","note"],["formControlName","org_Other_Details","id","organization-others","name","organizationOthers",1,"form-control",3,"ngClass","ngModelChange"],["class","invalid-feedback","id","organizationothers",4,"ngIf"],["id","organizationothers",1,"invalid-feedback"],["id","org_Other_Details",4,"ngIf"],["id","org_Other_Details"],[1,"invalid-feedback"],[4,"ngIf"],["id","is_Certified_Diverse",1,"invalid-feedback","mt-2"],["id","is_Certified_Diverse",4,"ngIf"],["id","is_Certified_Diverse"],["id","is_Parent_Company",1,"invalid-feedback","mt-2"],["id","is_Parent_Company",4,"ngIf"],["id","is_Parent_Company"],[1,"spinner__loading","pt-3"],["diameter","18","mode","indeterminate",1,"mt-1"],[1,"file-tag"],["target","_blank",3,"href"],[1,"file-close","text-white",3,"click"],[1,"text-end","mx-lg-4","my-3"],[1,"btn","float-start","btn","default-btn",3,"click"],["type","button",1,"btn","ml-4","default-btn",3,"click"],["type","submit",1,"btn","btn-success","mx-2","default-btn"],[1,"text-end","mx-4","my-3"],[1,"btn","btn-success","mx-2","default-btn",3,"click"],["headerReview","Risk Review & Inputs","formname","organization",3,"events","formId","companyId"]],template:function(t,i){1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return i.submit()})("keydown.enter",function(r){return r.preventDefault()}),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h6",8),e._uU(9,"1. Organization Details "),e.qZA()(),e.TgZ(10,"div",9)(11,"div",10)(12,"label",11),e._uU(13,"Type of Organization: "),e.TgZ(14,"span",12),e._uU(15,"*"),e.qZA()()(),e.TgZ(16,"div",13)(17,"select",14),e.NdJ("ngModelChange",function(){return i.idleReset(1)}),e.TgZ(18,"option",15),e._uU(19,"Select"),e.qZA(),e.TgZ(20,"option",16),e._uU(21,"Corporation"),e.qZA(),e.TgZ(22,"option",15),e._uU(23,"Partnership"),e.qZA(),e.TgZ(24,"option",15),e._uU(25,"Joint Venture"),e.qZA(),e.TgZ(26,"option",15),e._uU(27,"Limited Liability Company "),e.qZA(),e.TgZ(28,"option",15),e._uU(29,"Sole Proprietorship"),e.qZA(),e.TgZ(30,"option",15),e._uU(31,"Other"),e.qZA()(),e.YNc(32,wi,2,1,"div",17),e.qZA()(),e.YNc(33,Mi,8,4,"div",18),e.TgZ(34,"div",9)(35,"div",10)(36,"label",19),e._uU(37,"Date of Incorporation: "),e.TgZ(38,"span",12),e._uU(39,"*"),e.qZA()()(),e.TgZ(40,"div",13)(41,"div",20)(42,"input",21),e.NdJ("ngModelChange",function(){return i.idleReset(1)}),e.qZA(),e.YNc(43,Oi,2,1,"div",22),e.qZA()()(),e.TgZ(44,"div",23)(45,"div",10)(46,"label",24),e._uU(47,"State of Incorporation: "),e.TgZ(48,"span",12),e._uU(49,"*"),e.qZA()()(),e.TgZ(50,"div",13)(51,"select",25),e.NdJ("ngModelChange",function(){return i.idleReset(1)}),e.TgZ(52,"option",15),e._uU(53,"Select State"),e.qZA(),e.YNc(54,Pi,2,2,"option",26),e.qZA(),e.TgZ(55,"small",27),e._uU(56,"NOTE: If your country is outside of USA, please select \u2018Other\u2019. "),e.qZA(),e.YNc(57,ji,2,1,"div",22),e.qZA()()()()(),e.TgZ(58,"div",28)(59,"div",29)(60,"div",30)(61,"div",31)(62,"h6",8),e._uU(63,"2. Prequalification Contact Info "),e.TgZ(64,"span",12),e._uU(65,"*"),e.qZA()()(),e.TgZ(66,"div",30)(67,"div",32)(68,"div",33)(69,"label",34),e._uU(70,"Prequalification Contact Name:"),e.TgZ(71,"span",12),e._uU(72,"*"),e.qZA()()(),e.TgZ(73,"div",13)(74,"input",35),e.NdJ("ngModelChange",function(){return i.idleReset(1)}),e.qZA(),e.YNc(75,Li,2,1,"div",22),e.qZA()(),e.TgZ(76,"div",36)(77,"div",33)(78,"label",37),e._uU(79,"Prequalification Contact Email: "),e.TgZ(80,"span",12),e._uU(81,"*"),e.qZA()()(),e.TgZ(82,"div",13)(83,"input",38),e.NdJ("ngModelChange",function(){return i.idleReset(1)}),e.qZA(),e.YNc(84,Vi,3,2,"div",22),e.qZA()(),e.TgZ(85,"div",39)(86,"div",33)(87,"label",40),e._uU(88,"Prequalification Contact Phone: "),e.TgZ(89,"span",12),e._uU(90,"*"),e.qZA()()(),e.TgZ(91,"div",13)(92,"div",3)(93,"div",41)(94,"input",42),e.NdJ("ngModelChange",function(){return i.idleReset(1)}),e.qZA(),e.YNc(95,Gi,2,1,"div",22),e.qZA(),e.TgZ(96,"div",43)(97,"input",44),e.NdJ("ngModelChange",function(){return i.idleReset(1)}),e.qZA(),e.YNc(98,Hi,2,1,"div",22),e.qZA()()()()()()()()(),e.TgZ(99,"div",3)(100,"div",45)(101,"div",46)(102,"div",6)(103,"div",47)(104,"h6",48),e._uU(105,"3. Is your organization a certified diverse business (i.e., MBE, WBE, SBE, DBE, VBE, etc.,)? "),e.TgZ(106,"span",12),e._uU(107,"*"),e.qZA()()(),e.TgZ(108,"div",49)(109,"div",50)(110,"span",51)(111,"input",52),e.NdJ("ngModelChange",function(){return i.idleReset(1)})("ngModelChange",function(r){return i.is_Certified_Diverse=r}),e.qZA(),e.TgZ(112,"label",53),e._uU(113," YES"),e.qZA()(),e.TgZ(114,"span",51)(115,"input",54),e.NdJ("ngModelChange",function(){return i.idleReset(1)})("ngModelChange",function(r){return i.is_Certified_Diverse=r}),e.qZA(),e.TgZ(116,"label",55),e._uU(117," NO"),e.qZA()()(),e.YNc(118,$i,2,1,"div",56),e.qZA()(),e.TgZ(119,"div",57)(120,"small",27),e._uU(121,"If yes, please submit a copy of each of your certification documents on the MBP or contact nmoffitt@messer.com to check if you qualify to become certified. "),e.qZA()()(),e.TgZ(122,"div",58)(123,"div",6)(124,"div")(125,"h6",59),e._uU(126,"5. Please pick all the Messer regions your company is willing to operate / perform work?"),e.qZA()(),e.TgZ(127,"div",50)(128,"app-duallist",60),e.NdJ("destinationChange",function(r){return i.regionDest=r}),e.qZA()()()(),e.TgZ(129,"div",58)(130,"div",61)(131,"h6",62),e._uU(132,"6. Annual Construction volume of work you\u2019ve completed in the past 3 years "),e.TgZ(133,"span",12),e._uU(134,"*"),e.qZA()(),e.TgZ(135,"div",63)(136,"div",3)(137,"div",33)(138,"label",64),e._uU(139,"Last year: "),e.YNc(140,Wi,2,0,"span",65),e.qZA()(),e.TgZ(141,"div",13)(142,"div")(143,"input",66),e.NdJ("keydown",function(r){return i.numberCheck(r)})("keyup",function(r){return i.CommaFormatted(r,"annual_Construction_Last_Year")}),e.qZA()(),e.YNc(144,en,2,1,"div",22),e.qZA()()(),e.TgZ(145,"div",63)(146,"div",3)(147,"div",33)(148,"label",67),e._uU(149,"Past 2 years: "),e.YNc(150,tn,2,0,"span",65),e.qZA()(),e.TgZ(151,"div",13)(152,"div")(153,"input",68),e.NdJ("keydown",function(r){return i.numberCheck(r)})("keyup",function(r){return i.CommaFormatted(r,"annual_Construction_2_Years")}),e.qZA()(),e.YNc(154,on,2,1,"div",22),e.qZA()()(),e.TgZ(155,"div",63)(156,"div",69)(157,"div",33)(158,"label",70),e._uU(159,"Past 3 years:"),e.YNc(160,an,2,0,"span",65),e.qZA()(),e.TgZ(161,"div",13)(162,"div")(163,"input",71),e.NdJ("keydown",function(r){return i.numberCheck(r)})("keyup",function(r){return i.CommaFormatted(r,"annual_Construction_3_Years")}),e.qZA()(),e.YNc(164,sn,2,1,"div",22),e.qZA()()()()()(),e.TgZ(165,"div",72)(166,"div",73)(167,"div",6)(168,"div",3)(169,"h6"),e._uU(170,"4. Parent Company Details"),e.qZA()(),e.TgZ(171,"div",3)(172,"div",74)(173,"label",75),e._uU(174,"Do you have a parent company: "),e.TgZ(175,"span",12),e._uU(176,"*"),e.qZA()()(),e.TgZ(177,"div",74)(178,"div",50)(179,"span",76)(180,"input",77),e.NdJ("ngModelChange",function(){return i.idleReset(1)}),e.qZA(),e.TgZ(181,"label",78),e._uU(182," YES"),e.qZA()(),e.TgZ(183,"span",79)(184,"input",80),e.NdJ("ngModelChange",function(){return i.idleReset(1)})("click",function(){return i.companyDetailReset()}),e.qZA(),e.TgZ(185,"label",81),e._uU(186," NO"),e.qZA()()(),e.YNc(187,cn,2,1,"div",82),e.qZA()()(),e.TgZ(188,"div",83)(189,"div",84)(190,"div",33)(191,"label",85),e._uU(192,"Parent Company Name:"),e.YNc(193,dn,2,0,"span",65),e.qZA()(),e.TgZ(194,"div",13)(195,"input",86),e.NdJ("ngModelChange",function(){return i.idleReset(1)}),e.qZA(),e.YNc(196,un,2,1,"div",22),e.qZA()(),e.TgZ(197,"div",84)(198,"div",33)(199,"label",87),e._uU(200,"Parent Company Address Line 1: "),e.YNc(201,mn,2,0,"span",65),e.qZA()(),e.TgZ(202,"div",13)(203,"input",88),e.NdJ("ngModelChange",function(){return i.idleReset(1)}),e.qZA(),e.YNc(204,fn,2,1,"div",22),e.qZA()(),e.TgZ(205,"div",84)(206,"div",33)(207,"label",87),e._uU(208,"Parent Company Address Line 2: "),e.qZA()(),e.TgZ(209,"div",13)(210,"input",89),e.NdJ("ngModelChange",function(){return i.idleReset(1)}),e.qZA()()(),e.TgZ(211,"div",84)(212,"div",33)(213,"label",90),e._uU(214,"City: "),e.YNc(215,hn,2,0,"span",65),e.qZA()(),e.TgZ(216,"div",13)(217,"input",91),e.NdJ("ngModelChange",function(){return i.idleReset(1)}),e.qZA(),e.YNc(218,vn,2,1,"div",22),e.qZA()(),e.TgZ(219,"div",84)(220,"div",33)(221,"label",92),e._uU(222,"State: "),e.YNc(223,yn,2,0,"span",65),e.qZA()(),e.TgZ(224,"div",13)(225,"select",93),e.NdJ("ngModelChange",function(){return i.idleReset(1)}),e.TgZ(226,"option",15),e._uU(227,"Select"),e.qZA(),e.YNc(228,Cn,2,2,"option",26),e.qZA(),e.TgZ(229,"small",27),e._uU(230,"NOTE: If your country is outside of USA, please select \u2018Other\u2019. "),e.qZA(),e.YNc(231,Tn,2,1,"div",22),e.qZA()(),e.TgZ(232,"div",84)(233,"div",33)(234,"label",94),e._uU(235,"Zip code: "),e.YNc(236,Zn,2,0,"span",65),e.qZA()(),e.TgZ(237,"div",13)(238,"input",95),e.NdJ("ngModelChange",function(){return i.idleReset(1)}),e.qZA(),e.YNc(239,In,2,1,"div",22),e.qZA()(),e.TgZ(240,"div",84)(241,"div",33)(242,"label",96),e._uU(243,"Country: "),e.YNc(244,An,2,0,"span",65),e.qZA()(),e.TgZ(245,"div",13)(246,"input",97),e.NdJ("ngModelChange",function(){return i.idleReset(1)}),e.qZA(),e.YNc(247,Fn,2,1,"div",22),e.qZA()(),e.TgZ(248,"div",84)(249,"div",33)(250,"label",98),e._uU(251,"Parent Company FEIN Number / Tax-id: "),e.YNc(252,Rn,2,0,"span",65),e.qZA()(),e.TgZ(253,"div",13)(254,"input",99),e.NdJ("ngModelChange",function(){return i.idleReset(1)}),e.qZA(),e.YNc(255,Sn,2,1,"div",22),e.qZA()(),e.TgZ(256,"div",100)(257,"div",101)(258,"label",102),e._uU(259,"Attach your w9 document: "),e.YNc(260,wn,2,0,"span",65),e.qZA()(),e.TgZ(261,"div",103)(262,"div",104)(263,"input",105),e.NdJ("change",function(r){return i.documentw9fileUpload(r)}),e.qZA(),e.TgZ(264,"span",106),e._uU(265," \xa0 Click here to Add Files"),e.qZA()(),e.YNc(266,Un,2,1,"div",22),e.YNc(267,Mn,4,0,"div",107),e.YNc(268,En,7,2,"div",108),e.qZA()()()(),e.TgZ(269,"div",73)(270,"div",6)(271,"div",3)(272,"h6"),e._uU(273,"7. What size (dollar value) of contracts do you wish to perform with Messer? "),e.qZA()(),e.TgZ(274,"div",3)(275,"select",109),e.NdJ("ngModelChange",function(){return i.idleReset(1)}),e.TgZ(276,"option",15),e._uU(277,"Select"),e.qZA(),e.TgZ(278,"option",16),e._uU(279,"Less than $50k"),e.qZA(),e.TgZ(280,"option",15),e._uU(281,"$50k - $250K"),e.qZA(),e.TgZ(282,"option",15),e._uU(283,"$250K - $500K"),e.qZA(),e.TgZ(284,"option",15),e._uU(285,"$500K - $1 million "),e.qZA(),e.TgZ(286,"option",15),e._uU(287,"$1million - $5million"),e.qZA(),e.TgZ(288,"option",15),e._uU(289,"$5million - $20 million"),e.qZA(),e.TgZ(290,"option",15),e._uU(291,"$20 million +"),e.qZA()()(),e.TgZ(292,"div"),e._uU(293,"\xa0"),e.qZA()()()()()(),e.TgZ(294,"div",2)(295,"div",3)(296,"div",110)(297,"div",111)(298,"h6",112),e._uU(299,"8. Executive Officers "),e.TgZ(300,"span",12),e._uU(301,"*"),e.qZA()(),e._UZ(302,"br"),e.TgZ(303,"div")(304,"div",113)(305,"div",33)(306,"label",114),e._uU(307,"Executive Officer #1 Name:"),e.TgZ(308,"span",12),e._uU(309,"*"),e.qZA()()(),e.TgZ(310,"div",13)(311,"input",115),e.NdJ("ngModelChange",function(){return i.idleReset(1)}),e.qZA(),e.YNc(312,Pn,2,1,"div",22),e.qZA()(),e.TgZ(313,"div",113)(314,"div",33)(315,"label",116),e._uU(316,"Executive Officer #1 Title:"),e.TgZ(317,"span",12),e._uU(318,"*"),e.qZA()()(),e.TgZ(319,"div",13)(320,"input",117),e.NdJ("ngModelChange",function(){return i.idleReset(1)}),e.qZA(),e.YNc(321,jn,2,1,"div",22),e.qZA()(),e.TgZ(322,"div",100)(323,"div",33)(324,"label",118),e._uU(325,"Executive Officer #1 Email:"),e.TgZ(326,"span",12),e._uU(327,"*"),e.qZA()()(),e.TgZ(328,"div",13)(329,"input",119),e.NdJ("ngModelChange",function(){return i.idleReset(1)}),e.qZA(),e.YNc(330,Dn,3,2,"div",22),e.qZA()()(),e.TgZ(331,"div")(332,"div",113)(333,"div",33)(334,"label",120),e._uU(335,"Executive Officer #2 Name: "),e.qZA()(),e.TgZ(336,"div",13)(337,"input",121),e.NdJ("ngModelChange",function(){return i.idleReset(1)}),e.qZA()()(),e.TgZ(338,"div",113)(339,"div",33)(340,"label",122),e._uU(341,"Executive Officer #2 Title: "),e.qZA()(),e.TgZ(342,"div",13)(343,"input",123),e.NdJ("ngModelChange",function(){return i.idleReset(1)}),e.qZA()()(),e.TgZ(344,"div",100)(345,"div",33)(346,"label",124),e._uU(347,"Executive Officer #2 Email: "),e.qZA()(),e.TgZ(348,"div",13)(349,"input",125),e.NdJ("ngModelChange",function(){return i.idleReset(1)}),e.qZA(),e.YNc(350,Vn,2,1,"div",22),e.qZA()()(),e.TgZ(351,"div")(352,"label",126),e._uU(353,"Has your company, or any of the executive officers mentioned above has/have been the subject of any bankruptcy proceeding within the last three years."),e.TgZ(354,"span",12),e._uU(355,"*"),e.qZA()(),e.TgZ(356,"div",50)(357,"span",127)(358,"input",128),e.NdJ("ngModelChange",function(){return i.idleReset(1)}),e.qZA(),e.TgZ(359,"label",129),e._uU(360," YES"),e.qZA()(),e.TgZ(361,"span",130)(362,"input",131),e.NdJ("ngModelChange",function(){return i.idleReset(1)})("click",function(){return i.bankruptcyReset()}),e.qZA(),e.TgZ(363,"label",132),e._uU(364," NO"),e.qZA()()(),e.YNc(365,Gn,2,1,"div",22),e.TgZ(366,"div",133)(367,"small",134),e._uU(368,"If yes, describe the circumstances."),e.qZA()(),e.TgZ(369,"div",135)(370,"textarea",136),e.NdJ("ngModelChange",function(){return i.idleReset(1)}),e.qZA(),e.YNc(371,Hn,2,1,"div",22),e.qZA()()()(),e.TgZ(372,"div",137)(373,"div",138)(374,"div",139)(375,"h6",140),e._uU(376,"9. Company Licenses & Registrations"),e.TgZ(377,"span",12),e._uU(378,"*"),e.qZA()(),e._UZ(379,"br"),e.qZA(),e.TgZ(380,"div")(381,"label",141),e._uU(382,"Do you have any limits or restrictions to current licenses registrations. "),e.TgZ(383,"span",12),e._uU(384,"*"),e.qZA()(),e.TgZ(385,"div",50)(386,"span",127)(387,"input",142),e.NdJ("ngModelChange",function(){return i.idleReset(1)}),e.qZA(),e.TgZ(388,"label",143),e._uU(389," YES"),e.qZA()(),e.TgZ(390,"span",130)(391,"input",144),e.NdJ("ngModelChange",function(){return i.idleReset(1)})("click",function(){return i.licenseReset()}),e.qZA(),e.TgZ(392,"label",145),e._uU(393," NO"),e.qZA()()(),e.YNc(394,$n,2,1,"div",22),e.TgZ(395,"div",133)(396,"small",134),e._uU(397,"If yes, please explain the details."),e.qZA()(),e.TgZ(398,"div",135)(399,"textarea",146),e.NdJ("ngModelChange",function(){return i.idleReset(1)}),e.qZA(),e.YNc(400,Xn,2,1,"div",22),e.qZA()(),e.TgZ(401,"div",147)(402,"label",126),e._uU(403,"Has your company ever been debarred from performing Federal or State contracts? "),e.TgZ(404,"span",12),e._uU(405,"*"),e.qZA()(),e.TgZ(406,"div",50)(407,"span",127)(408,"input",148),e.NdJ("ngModelChange",function(){return i.idleReset(1)}),e.qZA(),e.TgZ(409,"label",149),e._uU(410," YES"),e.qZA()(),e.TgZ(411,"span",130)(412,"input",150),e.NdJ("ngModelChange",function(){return i.idleReset(1)})("click",function(){return i.licenseStateReset()}),e.qZA(),e.TgZ(413,"label",151),e._uU(414," NO"),e.qZA()()(),e.YNc(415,to,2,1,"div",22),e.TgZ(416,"div",133)(417,"small",134),e._uU(418,"If yes, describe circumstances, including jurisdiction and bases for suspension or revocation:"),e.qZA()(),e.TgZ(419,"div",135)(420,"textarea",152),e.NdJ("ngModelChange",function(){return i.idleReset(1)}),e.qZA(),e.YNc(421,no,2,1,"div",22),e.qZA()(),e.TgZ(422,"div",153),e._uU(423,"\xa0"),e.qZA()()()()(),e.YNc(424,oo,7,1,"div",154),e.qZA()(),e.YNc(425,ao,5,0,"div",155),e.YNc(426,ro,1,3,"app-comment",156),e._UZ(427,"button",157),e.TgZ(428,"div",158,159)(430,"div",160)(431,"div",161)(432,"div",162)(433,"h6",163),e._uU(434,"Leave page?"),e.qZA(),e._UZ(435,"button",164),e.qZA(),e.TgZ(436,"div",165),e._uU(437," You have unsaved changes. Press "),e.TgZ(438,"code",166),e._uU(439,"SAVE"),e.qZA(),e._uU(440," to update these changes, or "),e.TgZ(441,"code",12),e._uU(442,"CANCEL"),e.qZA(),e._uU(443," to lose these changes. "),e.qZA(),e.TgZ(444,"div",167)(445,"button",168),e._uU(446,"CANCEL"),e.qZA(),e.TgZ(447,"button",169),e._uU(448,"SAVE"),e.qZA()()()()()),2&t&&(e.Q6J("formGroup",i.companyInfo),e.xp6(1),e.Q6J("ngClass",e.VKq(128,Ce,1==i.selectdisabled)),e.xp6(16),e.Q6J("ngClass",e.VKq(130,b,i.submitted&&i.f.org_Type.errors)),e.xp6(1),e.Q6J("ngValue",""),e.xp6(2),e.Q6J("ngValue","corporation"),e.xp6(2),e.Q6J("ngValue","partnership"),e.xp6(2),e.Q6J("ngValue","joint_venture"),e.xp6(2),e.Q6J("ngValue","limited_liability_company"),e.xp6(2),e.Q6J("ngValue","sole_proprietorship"),e.xp6(2),e.Q6J("ngValue","other"),e.xp6(2),e.Q6J("ngIf",i.submitted&&i.f.org_Type.errors),e.xp6(1),e.Q6J("ngIf","other"==(null==i.f.org_Type?null:i.f.org_Type.value)),e.xp6(9),e.Q6J("ngClass",e.VKq(132,b,i.submitted&&i.f.date_Of_Incorporation.errors)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.date_Of_Incorporation.errors),e.xp6(8),e.uIk("disabled",i.selectdisabled?"":null),e.xp6(1),e.Q6J("ngValue",""),e.xp6(2),e.Q6J("ngForOf",i.stateNames),e.xp6(1),e.Q6J("ngClass",e.VKq(134,ae,i.selectdisabled)),e.xp6(2),e.Q6J("ngIf",i.submitted&&i.f.state_Of_Incorporation.errors),e.xp6(17),e.Q6J("ngClass",e.VKq(136,b,i.submitted&&i.f.contact_Name.errors)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.contact_Name.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(138,b,i.submitted&&i.f.contact_Email.errors)),e.xp6(1),e.Q6J("ngIf",(i.submitted||i.f.contact_Email.touched)&&i.f.contact_Email.errors),e.xp6(10),e.Q6J("ngClass",e.VKq(140,b,i.submitted&&i.f.contact_Mobile.errors)),e.xp6(1),e.Q6J("ngIf",(i.submitted||i.f.contact_Mobile.touched)&&i.f.contact_Mobile.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(142,b,i.submitted&&i.f.contact_Mobile_Ext.errors)),e.xp6(1),e.Q6J("ngIf",(i.submitted||i.f.contact_Mobile_Ext.touched)&&i.f.contact_Mobile_Ext.errors),e.xp6(13),e.Q6J("ngModel",i.is_Certified_Diverse)("ngClass",e.VKq(144,b,i.submitted&&i.f.is_Certified_Diverse.errors)),e.xp6(4),e.Q6J("ngModel",i.is_Certified_Diverse)("ngClass",e.VKq(146,b,i.submitted&&i.f.is_Certified_Diverse.errors)),e.xp6(3),e.Q6J("ngIf",(i.submitted||i.f.is_Certified_Diverse.touched)&&i.f.is_Certified_Diverse.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(148,ae,i.selectdisabled)),e.xp6(8),e.Q6J("source",i.regionSource)("destination",i.regionDest)("disabled",i.selectdisabled),e.xp6(12),e.Q6J("ngIf",null==i.f.annual_Construction_Last_Year||null==i.f.annual_Construction_Last_Year.errors?null:i.f.annual_Construction_Last_Year.errors.required),e.xp6(3),e.Q6J("ngClass",e.VKq(150,b,i.submitted&&i.f.annual_Construction_Last_Year.errors)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.annual_Construction_Last_Year.errors),e.xp6(6),e.Q6J("ngIf",null==i.f.annual_Construction_2_Years||null==i.f.annual_Construction_2_Years.errors?null:i.f.annual_Construction_2_Years.errors.required),e.xp6(3),e.Q6J("ngClass",e.VKq(152,b,i.submitted&&i.f.annual_Construction_2_Years.errors)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.annual_Construction_2_Years.errors),e.xp6(6),e.Q6J("ngIf",null==i.f.annual_Construction_3_Years||null==i.f.annual_Construction_3_Years.errors?null:i.f.annual_Construction_3_Years.errors.required),e.xp6(3),e.Q6J("ngClass",e.VKq(154,b,i.submitted&&i.f.annual_Construction_3_Years.errors)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.annual_Construction_3_Years.errors),e.xp6(16),e.Q6J("ngClass",e.VKq(156,b,i.submitted&&i.f.is_Parent_Company.errors)),e.xp6(4),e.Q6J("ngClass",e.VKq(158,b,i.submitted&&i.f.is_Parent_Company.errors)),e.xp6(3),e.Q6J("ngIf",(i.submitted||i.f.is_Parent_Company.touched)&&i.f.is_Parent_Company.errors),e.xp6(1),e.Q6J("ngClass",e.VKq(160,Ce,"no"==i.f.is_Parent_Company.value)),e.xp6(5),e.Q6J("ngIf","yes"==(null==i.companyInfo||null==i.companyInfo.value?null:i.companyInfo.value.is_Parent_Company)),e.xp6(2),e.Q6J("ngClass",e.VKq(162,b,i.submitted&&i.f.parent_Company_Name.errors)),e.uIk("disabled","no"==i.f.is_Parent_Company.value?"":null),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.parent_Company_Name.errors),e.xp6(5),e.Q6J("ngIf","yes"==(null==i.companyInfo||null==i.companyInfo.value?null:i.companyInfo.value.is_Parent_Company)),e.xp6(2),e.Q6J("ngClass",e.VKq(164,b,i.submitted&&i.f.parent_Company_Address1.errors)),e.uIk("disabled","no"==i.f.is_Parent_Company.value?"":null),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.parent_Company_Address1.errors),e.xp6(6),e.uIk("disabled","no"==i.f.is_Parent_Company.value?"":null),e.xp6(5),e.Q6J("ngIf","yes"==(null==i.companyInfo||null==i.companyInfo.value?null:i.companyInfo.value.is_Parent_Company)),e.xp6(2),e.Q6J("ngClass",e.VKq(166,b,i.submitted&&i.f.parent_Company_City.errors)),e.uIk("disabled","no"==i.f.is_Parent_Company.value?"":null),e.xp6(1),e.Q6J("ngIf",(i.submitted||i.f.parent_Company_City.touched)&&i.f.parent_Company_City.errors),e.xp6(5),e.Q6J("ngIf","yes"==(null==i.companyInfo||null==i.companyInfo.value?null:i.companyInfo.value.is_Parent_Company)),e.xp6(2),e.Q6J("ngClass",e.VKq(168,b,i.submitted&&i.f.parent_Company_State.errors)),e.uIk("disabled","no"==i.f.is_Parent_Company.value?"":null),e.xp6(1),e.Q6J("ngValue",""),e.xp6(2),e.Q6J("ngForOf",i.stateNames),e.xp6(1),e.Q6J("ngClass",e.VKq(170,ae,i.selectdisabled)),e.xp6(2),e.Q6J("ngIf",(i.submitted||i.f.parent_Company_State.touched)&&i.f.parent_Company_State.errors),e.xp6(5),e.Q6J("ngIf","yes"==(null==i.companyInfo||null==i.companyInfo.value?null:i.companyInfo.value.is_Parent_Company)),e.xp6(2),e.Q6J("ngClass",e.VKq(172,b,i.submitted&&i.f.parent_Company_Zipcode.errors)),e.uIk("disabled","no"==i.f.is_Parent_Company.value?"":null),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.parent_Company_Zipcode.errors),e.xp6(5),e.Q6J("ngIf","yes"==(null==i.companyInfo||null==i.companyInfo.value?null:i.companyInfo.value.is_Parent_Company)),e.xp6(2),e.Q6J("ngClass",e.VKq(174,b,i.submitted&&i.f.parent_Company_Country.errors)),e.uIk("disabled","no"==i.f.is_Parent_Company.value?"":null),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.parent_Company_Country.errors),e.xp6(5),e.Q6J("ngIf","yes"==(null==i.companyInfo||null==i.companyInfo.value?null:i.companyInfo.value.is_Parent_Company)),e.xp6(2),e.Q6J("ngClass",e.VKq(176,b,i.submitted&&i.f.parent_Company_FEIN.errors)),e.uIk("disabled","no"==i.f.is_Parent_Company.value?"":null),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.parent_Company_FEIN.errors),e.xp6(5),e.Q6J("ngIf",null==i.f.w9_Document_Attachment||null==i.f.w9_Document_Attachment.errors?null:i.f.w9_Document_Attachment.errors.required),e.xp6(3),e.Q6J("ngClass",e.VKq(178,b,i.submitted&&i.f.w9_Document_Attachment.errors)),e.uIk("disabled",i.selectdisabled||"no"==i.f.is_Parent_Company.value?"":null),e.xp6(1),e.Q6J("ngClass",e.VKq(180,Ce,"no"==i.f.is_Parent_Company.value)),e.xp6(2),e.Q6J("ngIf",i.submitted&&i.f.w9_Document_Attachment.errors),e.xp6(1),e.Q6J("ngIf",null==i.spinner?null:i.spinner.docmentSpinner),e.xp6(1),e.Q6J("ngForOf",i.documentw9file),e.xp6(7),e.Q6J("ngClass",e.VKq(182,b,i.submitted&&i.f.org_Size.errors)),e.xp6(1),e.Q6J("ngValue",""),e.xp6(2),e.Q6J("ngValue","Less than $50k"),e.xp6(2),e.Q6J("ngValue","$50k - $250K"),e.xp6(2),e.Q6J("ngValue","$250K -  $500K"),e.xp6(2),e.Q6J("ngValue","$500K - $1 million"),e.xp6(2),e.Q6J("ngValue","$1million - $5million"),e.xp6(2),e.Q6J("ngValue","$5million - $20 million"),e.xp6(2),e.Q6J("ngValue","$20 million +"),e.xp6(21),e.Q6J("ngClass",e.VKq(184,b,i.submitted&&i.f.executive_Officer_Name.errors)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.executive_Officer_Name.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(186,b,i.submitted&&i.f.contact_Name.errors)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.executive_Officer_Title.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(188,b,i.submitted&&i.f.executive_Officer_Email.errors)),e.xp6(1),e.Q6J("ngIf",(i.submitted||i.f.executive_Officer_Email.touched)&&i.f.executive_Officer_Email.errors),e.xp6(20),e.Q6J("ngIf",(i.submitted||i.f.executive_Officer_Email2.touched)&&i.f.executive_Officer_Email2.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(190,b,i.submitted&&i.f.is_Bank_Ruptcy.errors)),e.xp6(4),e.Q6J("ngClass",e.VKq(192,b,i.submitted&&i.f.is_Bank_Ruptcy.errors)),e.xp6(3),e.Q6J("ngIf",i.submitted&&i.f.is_Bank_Ruptcy.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(194,ae,"no"==i.f.is_Bank_Ruptcy.value||1==i.selectdisabled)),e.xp6(3),e.Q6J("ngClass",e.VKq(196,b,i.submitted&&i.f.bank_Ruptcy_Info.errors)),e.uIk("disabled","no"==i.f.is_Bank_Ruptcy.value?"":null),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.bank_Ruptcy_Info.errors),e.xp6(16),e.Q6J("ngClass",e.VKq(198,b,i.submitted&&i.f.is_Limit_Licenses.errors)),e.xp6(4),e.Q6J("ngClass",e.VKq(200,b,i.submitted&&i.f.is_Limit_Licenses.errors)),e.xp6(3),e.Q6J("ngIf",i.submitted&&i.f.is_Limit_Licenses.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(202,ae,"no"==i.f.is_Limit_Licenses.value||1==i.selectdisabled)),e.xp6(3),e.Q6J("ngClass",e.VKq(204,b,i.submitted&&i.f.limit_Licenses_Info.errors)),e.uIk("disabled","no"==i.f.is_Limit_Licenses.value?"":null),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.limit_Licenses_Info.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(206,b,i.submitted&&i.f.is_Suspended_Licenses.errors)),e.xp6(4),e.Q6J("ngClass",e.VKq(208,b,i.submitted&&i.f.is_Suspended_Licenses.errors)),e.xp6(3),e.Q6J("ngIf",i.submitted&&i.f.is_Suspended_Licenses.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(210,ae,"no"==i.f.is_Suspended_Licenses.value||1==i.selectdisabled)),e.xp6(3),e.Q6J("ngClass",e.VKq(212,b,i.submitted&&i.f.suspended_Licenses_Info.errors)),e.uIk("disabled","no"==i.f.is_Suspended_Licenses.value?"":null),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.suspended_Licenses_Info.errors),e.xp6(3),e.Q6J("ngIf",!(i.showAdmin||i.prequalification_status&&"To complete prequalification"!=i.prequalification_status&&"Additional Info Needed from Subcontractor"!=i.prequalification_status)),e.xp6(1),e.Q6J("ngIf",!i.showAdmin&&i.prequalification_status&&"To complete prequalification"!=i.prequalification_status&&"Additional Info Needed from Subcontractor"!=i.prequalification_status||i.showAdmin),e.xp6(1),e.Q6J("ngIf","Subcontractor"!=i.userRole&&"Additional Info Needed from Subcontractor"!=i.prequalification_status&&"Prequal form submitted and under quality check"!=i.prequalification_status))},directives:[s._Y,s.JL,s.sg,f.mk,s.EJ,s.JJ,s.u,s.YN,s.Kr,f.O5,s.Fj,f.sg,_e,s.wV,s.c5,s._,s.Q7,I,ie.Ou,le],styles:[".form-group[_ngcontent-%COMP%]{margin:15px 0}.border[_ngcontent-%COMP%]{border:0px solid #dddddd9e!important;border-width:4px!important}.col-curve-top[_ngcontent-%COMP%]{border-radius:22px 22px 18px 18px/22px 22px 19px 19px!important;border-top:6px solid #c3bdbd!important}.col-curve[_ngcontent-%COMP%]{border-radius:18px 19px!important}h6[_ngcontent-%COMP%]{font-size:13px!important}.bg-grey[_ngcontent-%COMP%], .bg-grey[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%], .bg-grey[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .bg-grey4[_ngcontent-%COMP%]{color:#c7bfbf!important}.file-close-geographical[_ngcontent-%COMP%]{padding:2px 6px!important;background:#969294!important;border-radius:50%;cursor:pointer;border:1px solid #ffffff}.listchk[_ngcontent-%COMP%]{list-style-type:none;margin-left:10px}"]}),n})();var ce=x(567);let lo=(()=>{class n extends S.EJ{constructor(t,i){super("Reference",t,i,{root:u.N.webserviceURlLocal})}getAll(){return super.getAll()}getRecords(t){const i={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("Reference/"+t,u.N.webserviceURlLocal);return this.http.get(o,i)}updateRecord(t,i){const o={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},r=this.httpUrlGenerator.entityResource("Reference/"+i,u.N.webserviceURlLocal);return this.http.put(r,t,o)}addRecord(t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("Reference",u.N.webserviceURlLocal);return this.http.post(o,t,i)}getUser(t,i){const o={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},r=this.httpUrlGenerator.entityResource("Organization/"+t+"/"+i,u.N.webserviceURlLocal);return this.http.get(r,o)}getComplete(t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("Organization/Getstatus/"+t,u.N.webserviceURlLocal);return this.http.get(o,i)}deleteRecord(t){const i={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.delete(u.N.webserviceURlLocal+"reference/"+t,i)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(B.eN),e.LFG(S.hR))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),co=(()=>{class n{constructor(t){this.http=t}updateRecord(t,i,o){const r={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.put(u.N.webserviceURlLocal+t+"/"+o,i,r)}addRecord(t,i){const o={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.post(u.N.webserviceURlLocal+t,i,o)}deleteRecord(t){const i={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.delete(u.N.webserviceURlLocal+"reference/"+t,i)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(B.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function po(n,a){1&n&&(e.TgZ(0,"span",20),e._uU(1,"*"),e.qZA())}function uo(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Project Name is required "),e.qZA())}function mo(n,a){if(1&n&&(e.TgZ(0,"div",21),e.YNc(1,uo,2,0,"div",22),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.ff.project_Name.errors.required)}}function _o(n,a){1&n&&(e.TgZ(0,"span",20),e._uU(1,"*"),e.qZA())}function fo(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Scope of work is required"),e.qZA())}function ho(n,a){if(1&n&&(e.TgZ(0,"div",21),e.YNc(1,fo,2,0,"div",22),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.ff.project_Detail.errors.required)}}function go(n,a){1&n&&(e.TgZ(0,"span",20),e._uU(1,"*"),e.qZA())}function vo(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"City is required"),e.qZA())}function yo(n,a){if(1&n&&(e.TgZ(0,"div",21),e.YNc(1,vo,2,0,"div",22),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.ff.project_City.errors.required)}}function Co(n,a){1&n&&(e.TgZ(0,"span",20),e._uU(1,"*"),e.qZA())}function bo(n,a){if(1&n&&(e.TgZ(0,"option",15),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("ngValue",t.name),e.xp6(1),e.hij(" ",t.name,"")}}function To(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"State is required"),e.qZA())}function Zo(n,a){if(1&n&&(e.TgZ(0,"div",21),e.YNc(1,To,2,0,"div",22),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.ff.project_State.errors.required)}}function xo(n,a){1&n&&(e.TgZ(0,"span",20),e._uU(1,"*"),e.qZA())}function Io(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Messer Contact person is required"),e.qZA())}function Ao(n,a){if(1&n&&(e.TgZ(0,"div",21),e.YNc(1,Io,2,0,"div",22),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.ff.project_MesserContact.errors.required)}}const qo=function(n){return{"bg-grey":n}},de=function(n){return{"is-invalid":n}};function Fo(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"label",5),e._uU(5,"Project Name: "),e.YNc(6,po,2,0,"span",6),e.qZA()(),e.TgZ(7,"div",4),e._UZ(8,"input",7),e.YNc(9,mo,2,1,"div",8),e.qZA()(),e.TgZ(10,"div",3)(11,"div",4)(12,"label",9),e._uU(13," Scope of work:"),e.YNc(14,_o,2,0,"span",6),e.qZA()(),e.TgZ(15,"div",4),e._UZ(16,"textarea",10),e.YNc(17,ho,2,1,"div",8),e.qZA()(),e.TgZ(18,"div",3)(19,"div",4)(20,"label",11),e._uU(21,"City: "),e.YNc(22,go,2,0,"span",6),e.qZA()(),e.TgZ(23,"div",4)(24,"input",12),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e.qZA(),e.YNc(25,yo,2,1,"div",8),e.qZA()(),e.TgZ(26,"div",3)(27,"div",4)(28,"label",13),e._uU(29,"State: "),e.YNc(30,Co,2,0,"span",6),e.qZA()(),e.TgZ(31,"div",4)(32,"select",14),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e.TgZ(33,"option",15),e._uU(34,"Select"),e.qZA(),e.YNc(35,bo,2,2,"option",16),e.qZA(),e.TgZ(36,"small",17),e._uU(37,"NOTE: If your country is outside of USA, please select \u2018Other\u2019. "),e.qZA(),e.YNc(38,Zo,2,1,"div",8),e.qZA()(),e.TgZ(39,"div",3)(40,"div",4)(41,"label",18),e._uU(42,"Messer Contact Person: "),e.YNc(43,xo,2,0,"span",6),e.qZA()(),e.TgZ(44,"div",4)(45,"input",19),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e.qZA(),e.YNc(46,Ao,2,1,"div",8),e.qZA()()()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.tempownerForm)("ngClass",e.VKq(20,qo,1==t.showdisabled)),e.xp6(6),e.Q6J("ngIf",1!=t.showdisabled),e.xp6(2),e.Q6J("ngClass",e.VKq(22,de,t.tempownersubmitted&&t.ff.project_Name.errors)),e.xp6(1),e.Q6J("ngIf",(t.ff.project_Name.touched||t.tempownersubmitted)&&t.ff.project_Name.errors),e.xp6(5),e.Q6J("ngIf",1!=t.showdisabled),e.xp6(2),e.Q6J("ngClass",e.VKq(24,de,t.tempownersubmitted&&t.ff.project_Detail.errors)),e.xp6(1),e.Q6J("ngIf",(t.ff.project_Detail.touched||t.tempownersubmitted)&&t.ff.project_Detail.errors),e.xp6(5),e.Q6J("ngIf",1!=t.showdisabled),e.xp6(2),e.Q6J("ngClass",e.VKq(26,de,t.tempownersubmitted&&t.ff.project_City.errors)),e.xp6(1),e.Q6J("ngIf",(t.tempownersubmitted||t.ff.project_City.touched)&&t.ff.project_City.errors),e.xp6(5),e.Q6J("ngIf",1!=t.showdisabled),e.xp6(2),e.Q6J("ngClass",e.VKq(28,de,t.tempownersubmitted&&t.ff.project_State.errors)),e.xp6(1),e.Q6J("ngValue",""),e.xp6(2),e.Q6J("ngForOf",t.stateNames),e.xp6(1),e.Q6J("ngClass",t.stateCSS),e.xp6(2),e.Q6J("ngIf",(t.tempownersubmitted||t.ff.project_State.touched)&&t.ff.project_State.errors),e.xp6(5),e.Q6J("ngIf",1!=t.showdisabled),e.xp6(2),e.Q6J("ngClass",e.VKq(30,de,t.tempownersubmitted&&t.ff.project_MesserContact.errors)),e.xp6(1),e.Q6J("ngIf",(t.tempownersubmitted||t.ff.project_MesserContact.touched)&&t.ff.project_MesserContact.errors)}}let Ro=(()=>{class n{constructor(t,i,o){this.fb=t,this.formBuilder=i,this.keepalive=o,this.tempownersubmitted=!1,this.stateNames=ye,this.submitted=!1,this.stateCSS="note fw-bold p-0 pt-3",this.isMesserProject=!0,this.resetTimer=0}ngAfterContentChecked(){var t;this.showdisabled&&(null===(t=this.tempownerForm)||void 0===t||t.disable())}ngOnChanges(){this.showdisabled&&(this.stateCSS=this.stateCSS+" bg-grey",console.log(this.stateCSS))}ngAfterViewInit(){var t;this.showdisabled&&(null===(t=this.tempownerForm)||void 0===t||t.disable())}ngOnInit(){console.log(this.showdisabled)}chkContractor(t){this.isMesserProject="Yes"==t}get getDisabled(){var t;return"no"==(null===(t=this.ff)||void 0===t?void 0:t.CompletedProject.value)}get ff(){var t;return null===(t=this.tempownerForm)||void 0===t?void 0:t.controls}idleReset(){this.keepalive.start(),this.resetTimer=0}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.qu),e.Y36(s.qu),e.Y36(Q.A))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-experiencenew"]],inputs:{tempownerForm:["formInfo","tempownerForm"],showdisabled:"showdisabled"},features:[e.TTD],decls:1,vars:1,consts:[["style","padding-top:5%;padding-bottom:5%;",3,"formGroup","ngClass",4,"ngIf"],[2,"padding-top","5%","padding-bottom","5%",3,"formGroup","ngClass"],[1,"px-2"],[1,"row"],[1,"col-6"],["for","owner-company_Name",1,"my-auto","font-italic"],["class","text-danger",4,"ngIf"],["type","text","formControlName","project_Name","id","project-Name","autocomplete","disabled","name","project_Name",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","project_Detail",1,"my-auto","font-italic"],["type","text","formControlName","project_Detail","id","project-Name","autocomplete","off","name","project_Detail",1,"form-control",3,"ngClass"],["for","project_City",1,"my-auto","font-italic"],["type","text","formControlName","project_City","id","project_City","name","project_City","autocomplete","disabled",1,"form-control",3,"ngClass","ngModelChange"],["for","project_State",1,"my-auto","font-italic","float-right"],["formControlName","project_State","id","state","name","project_State",1,"form-control","form-select",3,"ngClass","ngModelChange"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngClass"],["for","project_MesserContact",1,"my-auto","font-italic"],["type","text","formControlName","project_MesserContact","autocomplete","disabled","id","project_MesserContact","name","project_MesserContact",1,"form-control",3,"ngClass","ngModelChange"],[1,"text-danger"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(t,i){1&t&&e.YNc(0,Fo,47,32,"div",0),2&t&&e.Q6J("ngIf",i.ff&&i.tempownerForm)},directives:[f.O5,s.JL,s.sg,f.mk,s.Fj,s.JJ,s.u,s.EJ,s.YN,s.Kr,f.sg],styles:[".row[_ngcontent-%COMP%]{padding:5px 1px}"]}),n})();function ko(n,a){1&n&&e._UZ(0,"hr",51)}function So(n,a){if(1&n&&e._UZ(0,"app-experiencenew",17),2&n){const t=e.oxw();e.Q6J("formInfo",t.currentProject1)("showdisabled",t.showdisabled)}}function wo(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",52),e.NdJ("click",function(){return e.CHM(t),e.oxw().addcurrentProject()}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.uIk("disabled",t.radioDisable),e.xp6(1),e.hij("",t.isProject1?"Remove":"Add Another"," ")}}function No(n,a){1&n&&e._UZ(0,"hr",51)}function Uo(n,a){if(1&n&&e._UZ(0,"app-experiencenew",17),2&n){const t=e.oxw();e.Q6J("formInfo",t.ongoingproject1)("showdisabled",t.showdisabled)}}function Mo(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",52),e.NdJ("click",function(){return e.CHM(t),e.oxw().addOngoing()}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.uIk("disabled",t.radioDisable),e.xp6(1),e.Oqu(t.isProject2?"Remove":"Add Another")}}function Eo(n,a){1&n&&(e.TgZ(0,"span",53),e._uU(1,"*"),e.qZA())}function Oo(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1," Project Reference Contact Name is required "),e.qZA())}function Po(n,a){if(1&n&&(e.TgZ(0,"div",54),e.YNc(1,Oo,2,0,"div",55),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.nonMesserReference.controls.project_ReferenceName.errors.required)}}function Jo(n,a){1&n&&(e.TgZ(0,"span",53),e._uU(1,"*"),e.qZA())}function jo(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1," Reference Contact Type is required"),e.qZA())}function Yo(n,a){if(1&n&&(e.TgZ(0,"div",54),e.YNc(1,jo,2,0,"div",55),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.nonMesserReference.controls.project_Contact_Type.errors.required)}}function Lo(n,a){1&n&&(e.TgZ(0,"span",53),e._uU(1,"*"),e.qZA())}function Do(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1," Email Project Reference Contact is required "),e.qZA())}function Qo(n,a){if(1&n&&(e.TgZ(0,"div",54),e.YNc(1,Do,2,0,"div",55),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.nonMesserReference.controls.project_EmailReferenceName.errors.required)}}function Vo(n,a){1&n&&(e.TgZ(0,"span",53),e._uU(1,"*"),e.qZA())}function Bo(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1," Project Reference Contact Name 2 is required "),e.qZA())}function Go(n,a){if(1&n&&(e.TgZ(0,"div",54),e.YNc(1,Bo,2,0,"div",55),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.nonMesserReference.controls.project_ReferenceName2.errors.required)}}function Ko(n,a){1&n&&(e.TgZ(0,"span",53),e._uU(1,"*"),e.qZA())}function Ho(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1," Reference Contact Type 2 is required "),e.qZA())}function zo(n,a){if(1&n&&(e.TgZ(0,"div",54),e.YNc(1,Ho,2,0,"div",55),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.nonMesserReference.controls.project_Contact_Type2.errors.required)}}function $o(n,a){1&n&&(e.TgZ(0,"span",53),e._uU(1,"*"),e.qZA())}function Wo(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1," Email Project Reference Contact 2 is required "),e.qZA())}function Xo(n,a){if(1&n&&(e.TgZ(0,"div",54),e.YNc(1,Wo,2,0,"div",55),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.nonMesserReference.controls.project_EmailReferenceName2.errors.required)}}function ea(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",56)(1,"button",57),e.NdJ("click",function(){return e.CHM(t),e.oxw().gotoHome()}),e._uU(2," << BACK"),e.qZA(),e.TgZ(3,"button",58),e.NdJ("click",function(){return e.CHM(t),e.oxw().save()}),e._uU(4),e.qZA(),e.TgZ(5,"button",59),e.NdJ("click",function(){return e.CHM(t),e.oxw().submit()}),e._uU(6,"NEXT >>"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(4),e.Oqu(t.submitText)}}function ta(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",60)(1,"button",57),e.NdJ("click",function(){return e.CHM(t),e.oxw().gotoHome()}),e._uU(2," << BACK"),e.qZA(),e.TgZ(3,"button",61),e.NdJ("click",function(){return e.CHM(t),e.oxw().nextroutePage()}),e._uU(4,"NEXT >>"),e.qZA()()}}function ia(n,a){if(1&n&&e._UZ(0,"app-comment",62),2&n){const t=e.oxw();e.Q6J("events",t.eventsSubject.asObservable())("formId",t.experienceId)("companyId",t.tempcompanyid)}}const na=function(n){return{"bg-grey":n}},ee=function(n){return{"is-invalid":n}};let oa=(()=>{class n{constructor(t,i,o,r,l,c,d,p,_,v,g){this.formBuilder=t,this.router=i,this.experienceservice=o,this.bnIdle=r,this.keepalive=l,this.toastr=c,this.companyservice=d,this.loginInfo=p,this.ngxUiLoader=_,this.logininfo=v,this.expService=g,this.currentForm=2,this.submitted=!1,this.companyId=0,this.userRole="",this.resetTimer=0,this.showAdmin=!1,this.tempcompanyid=0,this.submitText="",this.prequalification_status="",this.showdisabled=!1,this.radioDisable=null,this.isOngoing=!1,this.isCurrent=!1,this.isNonmesser=!1,this.isOnemesser=!1,this.isProject2=!1,this.isProject1=!1,this.experienceId=0,this.eventsSubject=new re.xQ,this.experienceForm=this.formBuilder.group({experience:this.formBuilder.array([])}),this.nonMesserReference=this.formBuilder.group({project_ReferenceName:["",[s.kI.required]],project_Contact_Type:["",[s.kI.required]],project_EmailReferenceName:["",[s.kI.required,s.kI.email]],project_ReferenceName2:["",[s.kI.required]],project_Contact_Type2:["",[s.kI.required]],project_EmailReferenceName2:["",[s.kI.required,s.kI.email]],project_onemesserreference:["",[]],project_nonmesserreference:["",[]]}),this.ongoingproject=this.newExperience(),this.currentProject=this.newExperience(),this.ongoingproject1=this.newExperience(),this.currentProject1=this.newExperience();let C=localStorage.getItem("userDetails");C=JSON.parse(atob(C)),this.userDetails=C,this.userRole=C.role;let T=localStorage.getItem("tempcompanyid");this.tempcompanyid=Number(T?atob(T):0),this.submitText="SAVE",localStorage.setItem("currPage","experienceinfo"),this.showdisabled="Subcontractor"!=this.userRole,this.tempcompanyid>0&&"Subcontractor"!=this.userRole&&(this.showAdmin=!0,this.showdisabled=!0,this.radioDisable=!0,this.getRecords(this.tempcompanyid),this.nonMesserReference.disable()),null!=this.userDetails.vendorId&&null!=this.userDetails.taxId&&"Subcontractor"==this.userRole&&this.experienceservice.getUser(this.userDetails.vendorId,this.userDetails.taxId).subscribe(w=>{this.companyId=w.id,localStorage.setItem("companyid",btoa(this.companyId.toString())),this.getRecords(this.companyId)})}get getexperience(){return this.experienceForm.get("experience")}addExperience(){this.getexperience.push(this.newExperience()),this.getexperience.push(this.newExperience())}addcurrentProject(){this.isProject1=!this.isProject1}addOngoing(){this.isProject2=!this.isProject2}nonmesserReference(){var t=document.getElementById("project_nonmesserreference");this.isNonmesser=null==t?void 0:t.checked,this.isNonmesser?(this.isOnemesser=!1,this.nonMesserReference.patchValue({project_ReferenceName:"",project_Contact_Type:"",project_EmailReferenceName:"",project_ReferenceName2:"",project_Contact_Type2:"",project_EmailReferenceName2:""}),this.nonMesserReference.disable(),this.nonMesserReference.controls.project_onemesserreference.enable(),this.nonMesserReference.controls.project_nonmesserreference.enable()):(this.nonMesserReference.patchValue({project_ReferenceName:"",project_Contact_Type:"",project_EmailReferenceName:"",project_ReferenceName2:"",project_Contact_Type2:"",project_EmailReferenceName2:""}),this.nonMesserReference.enable())}onemesserReference(){var t=document.getElementById("project_onemesserreference");this.isOnemesser=null==t?void 0:t.checked,this.isNonmesser&&(this.isNonmesser=!this.isOnemesser),1==this.isOnemesser?(this.nonMesserReference.patchValue({project_ReferenceName2:"",project_Contact_Type2:"",project_EmailReferenceName2:""}),this.nonMesserReference.controls.project_ReferenceName.enable(),this.nonMesserReference.controls.project_Contact_Type.enable(),this.nonMesserReference.controls.project_EmailReferenceName.enable(),this.nonMesserReference.controls.project_ReferenceName2.disable(),this.nonMesserReference.controls.project_Contact_Type2.disable(),this.nonMesserReference.controls.project_EmailReferenceName2.disable()):(this.nonMesserReference.patchValue({project_ReferenceName2:"",project_Contact_Type2:"",project_EmailReferenceName2:""}),this.nonMesserReference.controls.project_ReferenceName2.enable(),this.nonMesserReference.controls.project_Contact_Type2.enable(),this.nonMesserReference.controls.project_EmailReferenceName2.enable())}newExperience(){return this.formBuilder.group({id:0,companyId:0,type:[""],CompletedProject:[],project_Name:["",[s.kI.required,s.kI.maxLength(130)]],project_Detail:["",[s.kI.required,s.kI.maxLength(130)]],project_Price:["",[]],isMesserProject:[""],project_Completion:["",[]],project_City:["",[s.kI.required]],project_State:["",[s.kI.required]],project_MesserContact:["",[s.kI.required]],project_Reference:["",[]],project_Contact_Type:["",[]],project_Email:["",[]]})}ngOnInit(){this.ngxUiLoader.startLoader("loader-01"),this.chkExperience("no","CurrentProject"),this.chkExperience("no","OngoingProject"),console.log("show",this.showdisabled)}chkExperience(t,i){console.log(t+" - "+i),"OngoingProject"===i?(this.ongoingproject.controls.CompletedProject.setValue(t),"no"==t?(this.isOngoing=!1,this.ongoingproject.patchValue({type:"",CompletedProject:"",project_Name:"",project_Detail:"",project_Price:"",isMesserProject:"",project_Completion:"",project_City:"",project_State:"",project_MesserContact:"",project_Reference:"",project_Contact_Type:"",project_Email:""}),this.isProject2&&(this.ongoingproject1.patchValue({type:"",CompletedProject:"",project_Name:"",project_Detail:"",project_Price:"",isMesserProject:"",project_Completion:"",project_City:"",project_State:"",project_MesserContact:"",project_Reference:"",project_Contact_Type:"",project_Email:""}),this.addOngoing(),this.ongoingproject1.disable()),this.ongoingproject.disable()):(this.isOngoing=!0,this.ongoingproject.enable(),this.isProject2&&(this.ongoingproject1.enable(),this.ongoingproject1.controls.CompletedProject.setValue(t)))):(this.currentProject.controls.CompletedProject.setValue(t),"no"==t?(this.isCurrent=!1,this.currentProject.disable(),this.currentProject.patchValue({type:"",CompletedProject:"",project_Name:"",project_Detail:"",project_Price:"",isMesserProject:"",project_Completion:"",project_City:"",project_State:"",project_MesserContact:"",project_Reference:"",project_Contact_Type:"",project_Email:""}),this.isProject1&&(this.currentProject1.disable(),this.currentProject1.patchValue({type:"",CompletedProject:"",project_Name:"",project_Detail:"",project_Price:"",isMesserProject:"",project_Completion:"",project_City:"",project_State:"",project_MesserContact:"",project_Reference:"",project_Contact_Type:"",project_Email:""}),this.addcurrentProject())):(this.isCurrent=!0,this.currentProject.enable(),this.isProject1&&(this.currentProject1.enable(),this.currentProject1.controls.CompletedProject.setValue(t))))}ngOnDestroy(){this.keepalive.stop()}getRecords(t){this.experienceservice.getRecords(t).subscribe(i=>{if(i.length>0){this.experienceId=i[0].id;var o=i.filter(function(y){return"CurrentProject"==y.type}),r=i.filter(function(y){return"OngoingProject"==y.type}),l=r.filter(function(y){return y.projectReference||y.projectContactType||y.projectEmail}).length>=1?r.filter(function(y){return y.projectReference||y.projectContactType||y.projectEmail})[0]:null,c=o.filter(function(y){return y.projectReference||y.projectContactType||y.projectEmail}).length>=1?o.filter(function(y){return y.projectReference||y.projectContactType||y.projectEmail})[0]:null;this.isProject1=2==o.length,this.isProject2=2==r.length,this.isOnemesser=i[0].isOneReference,this.isNonmesser=i[0].isNoReference;var d=0,p=0,_=!1;c&&l&&this.isRefPresent(c)&&this.isRefPresent(l)&&(_=(2==i.length||4==i.length)&&o.length==r.length),i=i.sort((y,j)=>{var Y,N,$,W,X;return(null!==(N=null!==(Y=y.projectReference)&&void 0!==Y?Y:y.projectContactType)&&void 0!==N?N:y.projectEmail).length>(null===(X=null!==(W=null!==($=j.projectReference)&&void 0!==$?$:j.projectContactType)&&void 0!==W?W:j.projectEmail)||void 0===X?void 0:X.length)?-1:1});for(var v=0;v<i.length;v++){var g=i[v];if("CurrentProject"==g.type){var C=2==(d+=1)?this.currentProject1:this.currentProject,T=""==g.completedProject||null==g.completedProject?"no":g.completedProject;2==d&&(T="Yes"),this.chkExperience(T,g.type),this.updateExperience(C,g,g.type,2==d)}else{var w=2==(p+=1)?this.ongoingproject1:this.ongoingproject;T=""==g.completedProject||null==g.completedProject?"no":g.completedProject,2==p&&(T="Yes"),this.chkExperience(T,g.type),this.updateExperience(w,g,g.type,2==p||_)}}0==r.length&&this.chkExperience("no","OngoingProject"),0==o.length&&this.chkExperience("no","CurrentProject"),this.submitText="UPDATE",this.nonMesserReference.controls.project_onemesserreference.setValue(this.isOnemesser),this.nonMesserReference.controls.project_nonmesserreference.setValue(this.isNonmesser),this.isNonmesser&&this.nonmesserReference(),this.isOnemesser&&this.onemesserReference()}else this.chkExperience("no","CurrentProject"),this.chkExperience("no","OngoingProject")}),t>0&&this.companyservice.getRecord(t).subscribe(i=>{this.prequalification_status=(i=i[0]).preQualification_Status,i.preQualification_Status&&this.loginInfo.formDisable(i.preQualification_Status)&&(this.showdisabled=!0,this.radioDisable=!0,this.ongoingproject.disable(),this.ongoingproject.updateValueAndValidity(),this.ongoingproject1.disable(),this.ongoingproject1.updateValueAndValidity(),this.currentProject.disable(),this.currentProject.updateValueAndValidity(),this.currentProject1.disable(),this.nonMesserReference.disable())})}updateExperience(t,i,o,r){var l;t.controls.id.setValue(i.id),t.controls.companyId.setValue(this.companyId),t.controls.type.setValue(i.type),t.controls.project_Name.setValue(i.projectName),t.controls.project_Detail.setValue(i.projectDetail),t.controls.project_Price.setValue(null!==(l=i.projectPrice)&&void 0!==l?l:0),t.controls.isMesserProject.setValue(i.isMesserProject),t.controls.project_Completion.setValue(i.projectCompletion),t.controls.project_City.setValue(i.projectCity),t.controls.project_State.setValue(i.projectState),t.controls.project_MesserContact.setValue(i.projectMesserContact),console.log("data",o,i);var c=this.isRefPresent(i);this.nonMesserReference.controls.project_onemesserreference.setValue(i.isOneReference),this.nonMesserReference.controls.project_nonmesserreference.setValue(i.isNoReference),c&&("CurrentProject"==o&&"Yes"==i.completedProject||"OngoingProject"==o&&"Yes"==i.completedProject?r&&!this.nonMesserReference.controls.project_ReferenceName2.value||this.nonMesserReference.controls.project_ReferenceName.value?(this.nonMesserReference.controls.project_ReferenceName2.setValue(i.projectReference),this.nonMesserReference.controls.project_Contact_Type2.setValue(i.projectContactType),this.nonMesserReference.controls.project_EmailReferenceName2.setValue(i.projectEmail)):(this.nonMesserReference.controls.project_ReferenceName.setValue(i.projectReference),this.nonMesserReference.controls.project_Contact_Type.setValue(i.projectContactType),this.nonMesserReference.controls.project_EmailReferenceName.setValue(i.projectEmail)):"CurrentProject"==o?(this.nonMesserReference.controls.project_ReferenceName.setValue(i.projectReference),this.nonMesserReference.controls.project_Contact_Type.setValue(i.projectContactType),this.nonMesserReference.controls.project_EmailReferenceName.setValue(i.projectEmail)):r?(this.nonMesserReference.controls.project_ReferenceName2.setValue(i.projectReference),this.nonMesserReference.controls.project_Contact_Type2.setValue(i.projectContactType),this.nonMesserReference.controls.project_EmailReferenceName2.setValue(i.projectEmail)):(this.nonMesserReference.controls.project_ReferenceName.setValue(i.projectReference),this.nonMesserReference.controls.project_Contact_Type.setValue(i.projectContactType),this.nonMesserReference.controls.project_EmailReferenceName.setValue(i.projectEmail)))}isRefPresent(t){return!!t&&!!(t.projectReference||t.projectContactType||t.projectEmail)}updateExperienceinfo(t){}ngAfterViewInit(){}idleReset(){this.keepalive.start(),this.resetTimer=0}submit(){this.keepalive.stop(),"Subcontractor"!=this.userRole?(this.emitEventToChild(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])):this.companyId>0&&(this.multiSave(!0),this.ngxUiLoader.startLoader("loader-01"))}nextpage(){this.companyId>0&&this.multiSave(!0)}save(){this.keepalive.stop(),this.companyId>0&&this.multiSave(!1)}multiSave(t){var i=this.formMethod(this.currentProject,"CurrentProject"),o=this.formMethod(this.ongoingproject,"OngoingProject"),r=this.formMethod(this.currentProject1,"CurrentProject"),l=this.formMethod(this.ongoingproject1,"OngoingProject"),c=[],d={isCurrent:this.isCurrent,isOngoing:this.isOngoing,isProject1:this.isProject1,isProject2:this.isProject2,isOnemesser:this.isOnemesser,isNonmesser:this.isNonmesser};console.log(d),d.isNonmesser||d.isOnemesser?d.isOnemesser?(i.projectReference=this.nonMesserReference.value.project_ReferenceName,i.projectContactType=this.nonMesserReference.value.project_Contact_Type,i.projectEmail=this.nonMesserReference.value.project_EmailReferenceName,r.projectReference="",r.projectContactType="",r.projectEmail="",o.projectReference="",o.projectContactType="",o.projectEmail="",l.projectReference="",l.projectContactType="",l.projectEmail=""):(i.projectReference="",i.projectContactType="",i.projectEmail="",r.projectReference="",r.projectContactType="",r.projectEmail="",l.projectReference="",l.projectContactType="",l.projectEmail="",o.projectReference="",o.projectContactType="",o.projectEmail=""):(o.projectReference=this.nonMesserReference.value.project_ReferenceName2,o.projectContactType=this.nonMesserReference.value.project_Contact_Type2,o.projectEmail=this.nonMesserReference.value.project_EmailReferenceName2,i.projectReference=this.nonMesserReference.value.project_ReferenceName,i.projectContactType=this.nonMesserReference.value.project_Contact_Type,i.projectEmail=this.nonMesserReference.value.project_EmailReferenceName,r.projectReference="",r.projectContactType="",r.projectEmail="",l.projectReference="",l.projectContactType="",l.projectEmail=""),d.isCurrent||d.isOngoing?d.isCurrent&&!d.isOngoing?(console.log("Secenario 2 curr -yes & ong- no"),i.completedProject="Yes",i.projectReference=this.nonMesserReference.value.project_ReferenceName,i.projectContactType=this.nonMesserReference.value.project_Contact_Type,i.projectEmail=this.nonMesserReference.value.project_EmailReferenceName,(c=this.setDeleteCalls(l,c)).push(this.expService.addRecord("Reference",i)),d.isProject1?(r.completedProject="Yes",!d.isNonmesser&&!d.isOnemesser&&(r.projectReference=this.nonMesserReference.value.project_ReferenceName2,r.projectContactType=this.nonMesserReference.value.project_Contact_Type2,r.projectEmail=this.nonMesserReference.value.project_EmailReferenceName2,i.projectReference=this.nonMesserReference.value.project_ReferenceName,i.projectContactType=this.nonMesserReference.value.project_Contact_Type,i.projectEmail=this.nonMesserReference.value.project_EmailReferenceName),c.push(this.expService.addRecord("Reference",r)),c=this.setDeleteCalls(o,c)):this.nonMesserReference.value.project_ReferenceName2?((o=this.clearFormData(o)).completedProject="no",o.projectReference=this.nonMesserReference.value.project_ReferenceName2,o.projectContactType=this.nonMesserReference.value.project_Contact_Type2,o.projectEmail=this.nonMesserReference.value.project_EmailReferenceName2,c.push(this.expService.addRecord("Reference",o)),c=this.setDeleteCalls(r,c)):(c=this.setDeleteCalls(r,c),c=this.setDeleteCalls(o,c))):!d.isCurrent&&d.isOngoing?(console.log("Secenario 3 curr -no & ong- yes"),o.completedProject="Yes",o.projectReference=this.nonMesserReference.value.project_ReferenceName,o.projectContactType=this.nonMesserReference.value.project_Contact_Type,o.projectEmail=this.nonMesserReference.value.project_EmailReferenceName,c.push(this.expService.addRecord("Reference",o)),c=this.setDeleteCalls(r,c),d.isProject2?(l.completedProject="Yes",!d.isNonmesser&&!d.isOnemesser&&(l.projectReference=this.nonMesserReference.value.project_ReferenceName2,l.projectContactType=this.nonMesserReference.value.project_Contact_Type2,l.projectEmail=this.nonMesserReference.value.project_EmailReferenceName2,o.projectReference=this.nonMesserReference.value.project_ReferenceName,o.projectContactType=this.nonMesserReference.value.project_Contact_Type,o.projectEmail=this.nonMesserReference.value.project_EmailReferenceName),c.push(this.expService.addRecord("Reference",l)),c=this.setDeleteCalls(i,c)):this.nonMesserReference.value.project_ReferenceName2?((i=this.clearFormData(i)).completedProject="no",i.projectReference=this.nonMesserReference.value.project_ReferenceName2,i.projectContactType=this.nonMesserReference.value.project_Contact_Type2,i.projectEmail=this.nonMesserReference.value.project_EmailReferenceName2,c.push(this.expService.addRecord("Reference",i)),c=this.setDeleteCalls(l,c)):(c=this.setDeleteCalls(l,c),c=this.setDeleteCalls(i,c))):(console.log("Secenario 4 both yes"),c.push(this.expService.addRecord("Reference",i)),c.push(this.expService.addRecord("Reference",o)),d.isProject1&&d.isProject2?(r.completedProject="Yes",c.push(this.expService.addRecord("Reference",r)),l.completedProject="Yes",c.push(this.expService.addRecord("Reference",l))):d.isProject1||d.isProject2?d.isProject1?(r.completedProject="Yes",(c=this.setDeleteCalls(l,c)).push(this.expService.addRecord("Reference",r))):(l.completedProject="Yes",(c=this.setDeleteCalls(r,c)).push(this.expService.addRecord("Reference",l))):(c=this.setDeleteCalls(r,c),c=this.setDeleteCalls(l,c))):(console.log("Secenario 1 both no"),c=this.setDeleteCalls(l,c),c=this.setDeleteCalls(r,c),d.isNonmesser||d.isOnemesser?d.isOnemesser?((i=this.clearFormData(i)).completedProject="no",c.push(this.expService.addRecord("Reference",i)),c=this.setDeleteCalls(o,c)):(c=this.setDeleteCalls(i,c),c=this.setDeleteCalls(o,c),d.isNonmesser&&((i=this.clearFormData(i)).completedProject="no",i.isNoReference=!0,c.push(this.expService.addRecord("Reference",i)))):(i=this.clearFormData(i),o=this.clearFormData(o),i.completedProject="no",o.completedProject="no",c.push(this.expService.addRecord("Reference",o)),c.push(this.expService.addRecord("Reference",i)))),(0,ce.D)(c).subscribe(p=>{this.toastr.success("Project Experience & References saved successfully","Project Experience & References"),t&&this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`]),this.submitText="UPDATE"})}setDeleteCalls(t,i){return 0!=t.id&&i.push(this.expService.deleteRecord(t.id)),i}clearFormData(t){return t.completedProject="",t.projectName="",t.projectDetail="",t.projectPrice=0,t.isMesserProject=!1,t.projectCompletion="",t.projectCity="",t.projectState="",t.projectMesserContact="",t}firstFormssubmit(){}saveForms(){return[]}firstForms(){}autoSave(){}formMethod(t,i){var o={};return o.id=t.value.id,o.companyId=this.companyId,o.type=i,o.completedProject=t.value.CompletedProject,o.projectName=t.value.project_Name,o.projectDetail=t.value.project_Detail,o.projectPrice=""==t.value.project_Price?0:t.value.project_Price,o.isMesserProject=""!=t.value.isMesserProject&&t.value.isMesserProject,o.projectCompletion=t.value.project_Completion,o.projectCity=t.value.project_City,o.projectState=t.value.project_State,o.projectMesserContact=t.value.project_MesserContact,o.isOneReference=this.isOnemesser,o.isNoReference=this.isNonmesser,"CurrentProject"==i?(o.projectReference=this.nonMesserReference.value.project_ReferenceName,o.projectContactType=this.nonMesserReference.value.project_Contact_Type,o.projectEmail=this.nonMesserReference.value.project_EmailReferenceName):(o.projectReference=this.nonMesserReference.value.project_ReferenceName2,o.projectContactType=this.nonMesserReference.value.project_Contact_Type2,o.projectEmail=this.nonMesserReference.value.project_EmailReferenceName2),o}emitEventToChild(){this.eventsSubject.next()}gotoHome(){this.emitEventToChild(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm-1].url}`])}addOwner(){}addOwner2(){}addArchitect(){}addArchitect2(){}addSupplier(){}addSupplier2(){}removeReference(t,i){}editreference(t,i){}ownerformcheckformValidation(){}ownerform2checkformValidation(){}architectformcheckformValidation(){}architect2formcheckformValidation(){}supplierformcheckformValidation(){}supplierform2checkformValidation(){}tempownercheckformValidation(){}temparchitectcheckformValidation(){}tempsuppliercheckformValidation(){}validateEmpty(t){return null==t||"null"==t||null==t||"undefined"==t?"":t}referenceupdate(t,i){}cancelUpdate(t,i){}nextroutePage(){this.emitEventToChild(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.qu),e.Y36(U.F0),e.Y36(lo),e.Y36(K.d),e.Y36(Q.A),e.Y36(L._W),e.Y36(G.O),e.Y36(D),e.Y36(V.LA),e.Y36(D),e.Y36(co))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-experience"]],decls:138,vars:81,consts:[[1,"px-2","py-2","my-2","form-bg",3,"ngClass"],[1,"form-group","input-group","row"],[1,"col-lg-11","py-1","mx-auto"],[1,"row"],[1,"col-lg-6","pe-1","ps-2","col-head-1","mx-auto"],[1,"row","col-curve-top","bg-white","mx-0","px-0","pt-2","pb-3"],[3,"formGroup","keydown.enter"],[1,"col-6","pull-left","pt-1"],[1,"fw-bold"],[1,"col-6","pull-left"],[1,"row","pt-1"],[1,"col-lg-6"],["type","radio","value","yes","name","isMesserProject","id","isMesserProject_yes","required","",3,"checked","ngClass","click"],["for","isMesserProject_yes"],[1,"col-lg-4"],["type","radio","value","no","name","isMesserProject","id","isMesserProject_no","required","",3,"checked","ngClass","click"],["for","isMesserProject_no"],[3,"formInfo","showdisabled"],["style","width: 98%;margin: 0 auto;",4,"ngIf"],[3,"formInfo","showdisabled",4,"ngIf"],[1,"row","text-right"],["class","btn btnlg default-btn",3,"click",4,"ngIf"],["type","radio","value","yes","name","Ongoingproject","id","ongoingisMesserProject_yes","required","",3,"checked","ngClass","click"],["for","ongoingisMesserProject_yes"],["type","radio","value","no","name","Ongoingproject","id","ongoingisMesserProject_no","required","",3,"checked","ngClass","click"],["for","ongoingisMesserProject_no"],[1,"col-lg-12","py-2","mx-auto"],[1,"row","bg-white","col-curve","mx-auto","py-2","pt-1"],[1,"row","px-2"],[1,"col-6"],["for","owner-company_Name",1,"my-auto","font-italic"],["class","text-danger",4,"ngIf"],["type","text","formControlName","project_ReferenceName","id","project_ReferenceName","name","project_ReferenceName","autocomplete","disabled",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","project_Contact_Type",1,"my-auto","font-italic"],["formControlName","project_Contact_Type","id","state","name","state",1,"form-control","form-select",3,"ngClass","ngModelChange"],[3,"ngValue"],["type","text","formControlName","project_EmailReferenceName","id","project_EmailReferenceName","name","project_EmailReferenceName","autocomplete","disabled",1,"form-control",3,"ngClass"],[1,"row","mx-auto"],["for","owner-company_Name2",1,"my-auto","font-italic"],["type","text","formControlName","project_ReferenceName2","name","project_EmailReferenceName2","autocomplete","disabled","id","project_ReferenceName2","name","project_ReferenceName2",1,"form-control",3,"ngClass"],["for","project_Contact_Type2",1,"my-auto","font-italic"],["formControlName","project_Contact_Type2","id","state","name","state",1,"form-control","form-select",3,"ngClass","ngModelChange"],["for","project_EmailReferenceName2",1,"my-auto","font-italic"],["type","text","formControlName","project_EmailReferenceName2","id","project_EmailReferenceName2","autocomplete","disabled",1,"form-control",3,"ngClass"],["for","project_onemesserreference",1,"my-auto","font-italic"],["type","checkbox","formControlName","project_onemesserreference","id","project_onemesserreference","name","project_onemesserreference",3,"checked","click"],["type","checkbox","formControlName","project_nonmesserreference","id","project_nonmesserreference","name","project_nonmesserreference",3,"checked","click"],["class","text-end mx-lg-4 my-3",4,"ngIf"],["class","text-end mx-4 my-3",4,"ngIf"],["headerReview","Risk Review & Inputs","formname","experience",3,"events","formId","companyId",4,"ngIf"],[2,"width","98%","margin","0 auto"],[1,"btn","btnlg","default-btn",3,"click"],[1,"text-danger"],[1,"invalid-feedback"],[4,"ngIf"],[1,"text-end","mx-lg-4","my-3"],[1,"btn","float-start","btn","default-btn",3,"click"],["type","button",1,"btn","ml-4","default-btn",3,"click"],["type","button",1,"btn","mx-2","default-btn",3,"click"],[1,"text-end","mx-4","my-3"],[1,"btn","btn-success","mx-2","default-btn",3,"click"],["headerReview","Risk Review & Inputs","formname","experience",3,"events","formId","companyId"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.ynx(3),e.TgZ(4,"div",3)(5,"div",4)(6,"div",5)(7,"form",6),e.NdJ("keydown.enter",function(r){return r.preventDefault()}),e.TgZ(8,"div",3)(9,"div",7)(10,"h6",8),e._uU(11,"1. Have you completed any projects with Messer in the past 5 years? "),e.qZA()(),e.TgZ(12,"div",9)(13,"div",10)(14,"span",11)(15,"input",12),e.NdJ("click",function(){return i.chkExperience("Yes","CurrentProject")}),e.qZA(),e.TgZ(16,"label",13),e._uU(17," YES"),e.qZA()(),e.TgZ(18,"span",14)(19,"input",15),e.NdJ("click",function(){return i.chkExperience("no","CurrentProject")}),e.qZA(),e.TgZ(20,"label",16),e._uU(21," NO"),e.qZA()()()()(),e.TgZ(22,"div",3),e._UZ(23,"app-experiencenew",17),e.YNc(24,ko,1,0,"hr",18),e.YNc(25,So,1,2,"app-experiencenew",19),e.qZA(),e.TgZ(26,"div",20),e.YNc(27,wo,2,2,"button",21),e.qZA()()()(),e.TgZ(28,"div",4)(29,"div",5)(30,"form",6),e.NdJ("keydown.enter",function(r){return r.preventDefault()}),e.TgZ(31,"div",3)(32,"div",7)(33,"h6",8),e._uU(34,"2. Are you currently on any ongoing projects with Messer? "),e.qZA()(),e.TgZ(35,"div",9)(36,"div",10)(37,"span",11)(38,"input",22),e.NdJ("click",function(){return i.chkExperience("Yes","OngoingProject")}),e.qZA(),e.TgZ(39,"label",23),e._uU(40," YES"),e.qZA()(),e.TgZ(41,"span",14)(42,"input",24),e.NdJ("click",function(){return i.chkExperience("no","OngoingProject")}),e.qZA(),e.TgZ(43,"label",25),e._uU(44," NO"),e.qZA()()()()(),e.TgZ(45,"div",3),e._UZ(46,"app-experiencenew",17),e.YNc(47,No,1,0,"hr",18),e.YNc(48,Uo,1,2,"app-experiencenew",19),e.qZA(),e.TgZ(49,"div",20),e.YNc(50,Mo,2,2,"button",21),e.qZA()()()()(),e.TgZ(51,"div",26)(52,"form",6),e.NdJ("keydown.enter",function(r){return r.preventDefault()}),e.TgZ(53,"div",27)(54,"div",7)(55,"h6",8),e._uU(56,"3. Please provide two non - Messer references"),e.qZA()(),e.TgZ(57,"div",28)(58,"div",29)(59,"label",30),e._uU(60,"Project Reference Contact Name: "),e.YNc(61,Eo,2,0,"span",31),e.qZA()(),e.TgZ(62,"div",29),e._UZ(63,"input",32),e.YNc(64,Po,2,1,"div",33),e.qZA()(),e.TgZ(65,"div",28)(66,"div",29)(67,"label",34),e._uU(68,"Reference Contact Type: "),e.YNc(69,Jo,2,0,"span",31),e.qZA()(),e.TgZ(70,"div",29)(71,"select",35),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.TgZ(72,"option",36),e._uU(73,"Select"),e.qZA(),e.TgZ(74,"option",36),e._uU(75,"CM/GC"),e.qZA(),e.TgZ(76,"option",36),e._uU(77,"Owner"),e.qZA(),e.TgZ(78,"option",36),e._uU(79,"Designer"),e.qZA()(),e.YNc(80,Yo,2,1,"div",33),e.qZA()(),e.TgZ(81,"div",28)(82,"div",29)(83,"label",30),e._uU(84,"Email for Project Reference Contact: "),e.YNc(85,Lo,2,0,"span",31),e.qZA()(),e.TgZ(86,"div",29),e._UZ(87,"input",37),e.YNc(88,Qo,2,1,"div",33),e.qZA()(),e.TgZ(89,"div",38),e._UZ(90,"hr"),e.TgZ(91,"div",28)(92,"div",29)(93,"label",39),e._uU(94,"Project Reference Contact Name 2: "),e.YNc(95,Vo,2,0,"span",31),e.qZA()(),e.TgZ(96,"div",29),e._UZ(97,"input",40),e.YNc(98,Go,2,1,"div",33),e.qZA()(),e.TgZ(99,"div",28)(100,"div",29)(101,"label",41),e._uU(102,"Reference Contact Type 2: "),e.YNc(103,Ko,2,0,"span",31),e.qZA()(),e.TgZ(104,"div",29)(105,"select",42),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.TgZ(106,"option",36),e._uU(107,"Select"),e.qZA(),e.TgZ(108,"option",36),e._uU(109,"CM/GC"),e.qZA(),e.TgZ(110,"option",36),e._uU(111,"Owner"),e.qZA(),e.TgZ(112,"option",36),e._uU(113,"Designer"),e.qZA()(),e.YNc(114,zo,2,1,"div",33),e.qZA()(),e.TgZ(115,"div",28)(116,"div",29)(117,"label",43),e._uU(118,"Email for Project Reference Contact 2: "),e.YNc(119,$o,2,0,"span",31),e.qZA()(),e.TgZ(120,"div",29),e._UZ(121,"input",44),e.YNc(122,Xo,2,1,"div",33),e.qZA()()(),e.TgZ(123,"div",28)(124,"div",29)(125,"label",45),e._uU(126,"I only have one non-messer references "),e.qZA()(),e.TgZ(127,"div",29)(128,"input",46),e.NdJ("click",function(){return i.onemesserReference()}),e.qZA()()(),e.TgZ(129,"div",28)(130,"div",29)(131,"label",30),e._uU(132,"I have no non-messer references "),e.qZA()(),e.TgZ(133,"div",29)(134,"input",47),e.NdJ("click",function(){return i.nonmesserReference()}),e.qZA()()()()()(),e.BQk(),e.qZA()(),e.YNc(135,ea,7,1,"div",48),e.YNc(136,ta,5,0,"div",49),e.qZA(),e.YNc(137,ia,1,3,"app-comment",50)),2&t&&(e.Q6J("ngClass",e.VKq(59,na,1==i.showdisabled)),e.xp6(7),e.Q6J("formGroup",i.currentProject),e.uIk("disabled",i.showdisabled),e.xp6(8),e.Q6J("checked",i.isCurrent)("ngClass",e.VKq(61,ee,i.submitted&&i.currentProject.controls.CompletedProject.errors)),e.uIk("disabled",i.radioDisable),e.xp6(4),e.Q6J("checked",!i.isCurrent)("ngClass",e.VKq(63,ee,i.submitted&&i.currentProject.controls.CompletedProject.errors)),e.uIk("disabled",i.radioDisable),e.xp6(4),e.Q6J("formInfo",i.currentProject)("showdisabled",i.showdisabled),e.xp6(1),e.Q6J("ngIf",i.isProject1&&i.isCurrent),e.xp6(1),e.Q6J("ngIf",i.isProject1&&i.isCurrent),e.xp6(2),e.Q6J("ngIf",i.isCurrent),e.xp6(3),e.Q6J("formGroup",i.ongoingproject),e.xp6(8),e.Q6J("checked",i.isOngoing)("ngClass",e.VKq(65,ee,i.submitted&&i.ongoingproject.controls.CompletedProject.errors)),e.uIk("disabled",!0===i.showdisabled)("disabled",i.radioDisable),e.xp6(4),e.Q6J("checked",!i.isOngoing)("ngClass",e.VKq(67,ee,i.submitted&&i.ongoingproject.controls.CompletedProject.errors)),e.uIk("disabled",i.radioDisable),e.xp6(4),e.Q6J("formInfo",i.ongoingproject)("showdisabled",i.showdisabled),e.xp6(1),e.Q6J("ngIf",i.isProject2&&i.isOngoing),e.xp6(1),e.Q6J("ngIf",i.isProject2&&i.isOngoing),e.xp6(2),e.Q6J("ngIf",i.isOngoing),e.xp6(2),e.Q6J("formGroup",i.nonMesserReference),e.xp6(9),e.Q6J("ngIf",1!=i.showdisabled),e.xp6(2),e.Q6J("ngClass",e.VKq(69,ee,i.nonMesserReference.controls.project_ReferenceName.touched&&i.nonMesserReference.controls.project_ReferenceName.errors)),e.xp6(1),e.Q6J("ngIf",i.nonMesserReference.controls.project_ReferenceName.touched&&i.nonMesserReference.controls.project_ReferenceName.errors),e.xp6(5),e.Q6J("ngIf",1!=i.showdisabled),e.xp6(2),e.Q6J("ngClass",e.VKq(71,ee,i.nonMesserReference.controls.project_Contact_Type.touched&&i.nonMesserReference.controls.project_Contact_Type.errors)),e.xp6(1),e.Q6J("ngValue",""),e.xp6(2),e.Q6J("ngValue","Architect"),e.xp6(2),e.Q6J("ngValue","Owner"),e.xp6(2),e.Q6J("ngValue","Designer"),e.xp6(2),e.Q6J("ngIf",i.nonMesserReference.controls.project_Contact_Type.touched&&i.nonMesserReference.controls.project_Contact_Type.errors),e.xp6(5),e.Q6J("ngIf",1!=i.showdisabled),e.xp6(2),e.Q6J("ngClass",e.VKq(73,ee,i.nonMesserReference.controls.project_ReferenceName.touched&&i.nonMesserReference.controls.project_EmailReferenceName.errors)),e.xp6(1),e.Q6J("ngIf",i.nonMesserReference.controls.project_ReferenceName.touched&&i.nonMesserReference.controls.project_EmailReferenceName.errors),e.xp6(7),e.Q6J("ngIf",1!=i.showdisabled),e.xp6(2),e.Q6J("ngClass",e.VKq(75,ee,i.nonMesserReference.controls.project_ReferenceName2.touched&&i.nonMesserReference.controls.project_ReferenceName2.errors)),e.xp6(1),e.Q6J("ngIf",i.nonMesserReference.controls.project_ReferenceName2.touched&&i.nonMesserReference.controls.project_ReferenceName2.errors),e.xp6(5),e.Q6J("ngIf",1!=i.showdisabled),e.xp6(2),e.Q6J("ngClass",e.VKq(77,ee,i.nonMesserReference.controls.project_Contact_Type2.touched&&i.nonMesserReference.controls.project_Contact_Type2.errors)),e.xp6(1),e.Q6J("ngValue",""),e.xp6(2),e.Q6J("ngValue","Architect"),e.xp6(2),e.Q6J("ngValue","Owner"),e.xp6(2),e.Q6J("ngValue","Designer"),e.xp6(2),e.Q6J("ngIf",i.nonMesserReference.controls.project_Contact_Type2.touched&&i.nonMesserReference.controls.project_Contact_Type2.errors),e.xp6(5),e.Q6J("ngIf",1!=i.showdisabled),e.xp6(2),e.Q6J("ngClass",e.VKq(79,ee,i.nonMesserReference.controls.project_ReferenceName2.touched&&i.nonMesserReference.controls.project_EmailReferenceName2.errors)),e.xp6(1),e.Q6J("ngIf",i.nonMesserReference.controls.project_ReferenceName2.touched&&i.nonMesserReference.controls.project_EmailReferenceName2.errors),e.xp6(6),e.Q6J("checked",i.isOnemesser),e.xp6(6),e.Q6J("checked",i.isNonmesser),e.xp6(1),e.Q6J("ngIf",!(i.showAdmin||i.prequalification_status&&"To complete prequalification"!=i.prequalification_status&&"Additional Info Needed from Subcontractor"!=i.prequalification_status)),e.xp6(1),e.Q6J("ngIf",!i.showAdmin&&i.prequalification_status&&"To complete prequalification"!=i.prequalification_status&&"Additional Info Needed from Subcontractor"!=i.prequalification_status||i.showAdmin),e.xp6(1),e.Q6J("ngIf","Subcontractor"!=i.userRole&&"Additional Info Needed from Subcontractor"!=i.prequalification_status&&"Prequal form submitted and under quality check"!=i.prequalification_status))},directives:[f.mk,s._Y,s.JL,s.sg,Ro,f.O5,s.Fj,s.JJ,s.u,s.EJ,s.YN,s.Kr,s.Wl,le],styles:[".cont-border-left[_ngcontent-%COMP%]{border:4px solid #fff;border-right:0px}.cont-border-right[_ngcontent-%COMP%]{border:4px solid #fff;border-left:0px}.col-curve-top[_ngcontent-%COMP%]{border-radius:18px 19px!important;border-top:6px solid #c3bdbd!important}.col-curve[_ngcontent-%COMP%]{border-radius:18px 19px!important}.border[_ngcontent-%COMP%]{border:1px solid #fff!important}.border-end[_ngcontent-%COMP%]{border-bottom-left-radius:13px!important;border-bottom-right-radius:13px!important}.left-col-curve[_ngcontent-%COMP%]{border-top-left-radius:18px 19px!important}.right-col-curve[_ngcontent-%COMP%]{border-top-right-radius:18px 19px!important}.record-shadow[_ngcontent-%COMP%]{border:1px solid #ddd;box-shadow:0 .5rem 1rem #00000026!important}.file-close[_ngcontent-%COMP%]{padding:2px 6px!important;background:#969294!important}.fileclose[_ngcontent-%COMP%]{font-size:22px;color:#6e6767;cursor:pointer}.edit[_ngcontent-%COMP%]{font-size:18px;cursor:pointer}h6[_ngcontent-%COMP%]{font-size:13px!important}.row[_ngcontent-%COMP%]{padding:5px 1px}.btnlg[_ngcontent-%COMP%]{width:180px!important}.text-right[_ngcontent-%COMP%]{float:right;padding-right:10px;display:block;text-align:right}.bg-grey[_ngcontent-%COMP%], .bg-grey[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%], .bg-grey[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{color:#c7bfbf!important}"]}),n})();var pe=x(5902),ci=x(2313);let ue=(()=>{class n{constructor(t,i){this.dialogRef=t,this.data=i,console.log("this",this.data)}onNoClick(){this.dialogRef.close("No")}onYesClick(){this.dialogRef.close("Yes")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(te.so),e.Y36(te.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-safetyapprove"]],decls:11,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","",1,"btn","default-btn",3,"click"],["mat-button","","cdkFocusInitial","",1,"btn","default-btn",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"h1",0),e._uU(1,"Confirmation"),e.qZA(),e.TgZ(2,"div",1)(3,"p"),e._uU(4),e.qZA()(),e.TgZ(5,"div",2)(6,"button",3),e.NdJ("click",function(){return i.onNoClick()}),e._uU(7,"Cancel"),e.qZA(),e._uU(8," \xa0 "),e.TgZ(9,"button",4),e.NdJ("click",function(){return i.onYesClick()}),e._uU(10,"Ok"),e.qZA()()),2&t&&(e.xp6(4),e.Oqu(i.data?i.data:"Are you sure? Data entered will go to go Risk"))},directives:[te.uh,te.xY,te.H8],encapsulation:2}),n})(),be=(()=>{class n extends S.EJ{constructor(t,i){super("FinancialCalculation",t,i,{root:u.N.webserviceURlLocal})}getRecords(t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("financialcalculation/statement/"+t,u.N.webserviceURlLocal);return this.http.get(o,i)}getinterimRecords(t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("financialcalculation/interim/"+t,u.N.webserviceURlLocal);return this.http.get(o,i)}cancelinterim(t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("financialcalculation/cancelinterim",u.N.webserviceURlLocal);let r=localStorage.getItem("userDetails");return this.http.post(o,{CompanyID:t,ModifiedBy:r.username},i)}updateRecord(t,i){const o={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},r=this.httpUrlGenerator.entityResource("Financial",u.N.webserviceURlLocal)+i;return this.http.put(r,t,o)}addRecord(t){console.log("fina",t);const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("financialcalculation",u.N.webserviceURlLocal);return this.http.post(o,this.Financialremovecomma(t),i)}addInterimRecord(t){console.log("fina",t);const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("financialcalculation/interim",u.N.webserviceURlLocal);return this.http.post(o,this.Financialremovecomma(t),i)}addRecords(t,i,o,r){const l={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}};let c=[];const d=this.httpUrlGenerator.entityResource("financialcalculation",u.N.webserviceURlLocal),p=this.http.post(d,this.Financialremovecomma(t),l);if(c.push(p),i.financialYearEndDate&&"0000-12-31"!=i.financialYearEndDate.toString()&&"0001-01-01"!=i.financialYearEndDate.toString()){const _=this.http.post(d,this.Financialremovecomma(i),l);c.push(_)}if(o.financialYearEndDate&&"0000-12-31"!=o.financialYearEndDate.toString()&&"0001-01-01"!=o.financialYearEndDate.toString()){const _=this.http.post(d,this.Financialremovecomma(o),l);c.push(_)}if(r.financialYearEndDate&&"0000-12-31"!=r.financialYearEndDate.toString()&&"0001-01-01"!=r.financialYearEndDate.toString()){const _=this.http.post(d,this.Financialremovecomma(r),l);c.push(_)}return(0,ce.D)(c)}addRecord1(t){console.log("fina",t);const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("FinancialCalculate",u.N.webserviceURlLocal);return this.http.post(o,this.Financialremovecomma(t),i)}Financialremovecomma(t){var i,o,r,l,c,d,p,_,v,g,C,T,w,y,j,Y,N,$,W,X,oe;return t.cashEquivalents=Number(null===(i=t.cashEquivalents)||void 0===i?void 0:i.toString().replace(/,/g,"")),t.accountsReceivableRetainage=Number(null===(o=t.accountsReceivableRetainage)||void 0===o?void 0:o.toString().replace(/,/g,"")),t.marketableSecurities=Number(null===(r=t.marketableSecurities)||void 0===r?void 0:r.toString().replace(/,/g,"")),t.underbillings=Number(null===(l=t.underbillings)||void 0===l?void 0:l.toString().replace(/,/g,"")),t.totalCurrentAssets=Number(null===(c=t.totalCurrentAssets)||void 0===c?void 0:c.toString().replace(/,/g,"")),t.intagibleAssets=Number(null===(d=t.intagibleAssets)||void 0===d?void 0:d.toString().replace(/,/g,"")),t.totalAssets=Number(null===(p=t.totalAssets)||void 0===p?void 0:p.toString().replace(/,/g,"")),t.accountsPayableRetainage=Number(null===(_=t.accountsPayableRetainage)||void 0===_?void 0:_.toString().replace(/,/g,"")),t.overbillings=Number(null===(v=t.overbillings)||void 0===v?void 0:v.toString().replace(/,/g,"")),t.totalCurrentLiabilities=Number(null===(g=t.totalCurrentLiabilities)||void 0===g?void 0:g.toString().replace(/,/g,"")),t.totalLiabilities=Number(null===(C=t.totalLiabilities)||void 0===C?void 0:C.toString().replace(/,/g,"")),t.equity=Number(null===(T=t.equity)||void 0===T?void 0:T.toString().replace(/,/g,"")),t.revenue=Number(null===(w=t.revenue)||void 0===w?void 0:w.toString().replace(/,/g,"")),t.costOfGoodSold=Number(null===(y=t.costOfGoodSold)||void 0===y?void 0:y.toString().replace(/,/g,"")),t.netIncomeBeforeTaxes=Number(null===(j=t.netIncomeBeforeTaxes)||void 0===j?void 0:j.toString().replace(/,/g,"")),t.backlogLast=Number(null===(Y=t.backlogLast)||void 0===Y?void 0:Y.toString().replace(/,/g,"")),t.lineofCredit=Number(null===(N=t.lineofCredit)||void 0===N?void 0:N.toString().replace(/,/g,"")),t.unusedLineofCredit=Number(null===($=t.unusedLineofCredit)||void 0===$?void 0:$.toString().replace(/,/g,"")),t.dbPayIndex=Number(null===(W=t.dbPayIndex)||void 0===W?void 0:W.toString().replace(/,/g,"")),t.pppLoan=Number(null===(X=t.pppLoan)||void 0===X?void 0:X.toString().replace(/,/g,"")),t.lineofCreditPayable=Number(null===(oe=t.lineofCreditPayable)||void 0===oe?void 0:oe.toString().replace(/,/g,"")),t}addCalculate(t,i,o,r){const l={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},c=this.httpUrlGenerator.entityResource("FinancialCalculate",u.N.webserviceURlLocal),d=this.http.post(c,this.Financialremovecomma(t),l);let p=[];if(p.push(d),i.financialYearEndDate&&"0000-12-31"!=i.financialYearEndDate&&"0001-01-01"!=i.financialYearEndDate){const _=this.http.post(c,this.Financialremovecomma(i),l);p.push(_)}if(o.financialYearEndDate&&"0000-12-31"!=o.financialYearEndDate&&"0001-01-01"!=o.financialYearEndDate){const _=this.http.post(c,this.Financialremovecomma(o),l);p.push(_)}if(r.financialYearEndDate&&"0000-12-31"!=r.financialYearEndDate&&"0001-01-01"!=r.financialYearEndDate){const _=this.http.post(c,this.Financialremovecomma(r),l);p.push(_)}return(0,ce.D)(p)}addCalculatecurrent(t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("FinancialCalculate",u.N.webserviceURlLocal);return this.http.post(o,this.Financialremovecomma(t),i)}addCalculateInterim(t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("FinancialCalculate/interim",u.N.webserviceURlLocal);return this.http.post(o,this.Financialremovecomma(t),i)}getUser(t,i){const o={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},r=this.httpUrlGenerator.entityResource("Organization/"+t+"/"+i,u.N.webserviceURlLocal);return this.http.get(r,o)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(B.eN),e.LFG(S.hR))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function aa(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"input",1),e.NdJ("keydown",function(o){return e.CHM(t),e.oxw().numberCheck(o)})("keyup",function(o){return e.CHM(t),e.oxw().CommaFormatted(o)})("change",function(o){return e.CHM(t),e.oxw().format(o)}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("value",t.txtValue)}}function ra(n,a){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.hij("\n",t.txtValue,"")}}let sa=(()=>{class n{constructor(t){this._decimalPipe=t,this.textDispaly=!1,this.txtValue="",this.onChange=i=>{this.txtValue=i},this.onTouched=()=>{}}writeValue(t){this.txtValue=t}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}ngOnInit(){}newValue(t){this.onChange(t)}CommaFormatted(t){t.AT_TARGET>=37&&t.AT_TARGET<=40||(this.onChange(t.target.value),this.writeValue(t.target.value))}numberCheck(t){const i=t.keyCode;return""==t.target.value&&(189==i||109==i)||i>=48&&i<=57||37==i||39==i||9==i||8==i||190==i||110==i||32==i||i>=96&&i<=105}format(t){var i=this._decimalPipe.transform(this.txtValue.replace(/,/g,""),"1.2-2");i&&(this.onChange(i),this.writeValue(i))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.JJ))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-financial-input"]],inputs:{required:"required",textDispaly:"textDispaly"},features:[e._Bn([f.JJ,{provide:s.JU,multi:!0,useExisting:(0,e.Gpc)(()=>n)}])],decls:2,vars:2,consts:[[4,"ngIf"],["type","text",1,"form-control",3,"value","keydown","keyup","change"]],template:function(t,i){1&t&&(e.YNc(0,aa,2,1,"ng-container",0),e.YNc(1,ra,2,1,"ng-container",0)),2&t&&(e.Q6J("ngIf",0==i.textDispaly),e.xp6(1),e.Q6J("ngIf",1==i.textDispaly))},directives:[f.O5],styles:[""]}),n})();function la(n,a){if(1&n&&(e.TgZ(0,"td",6),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.yearStr,"")}}function ca(n,a){1&n&&(e.TgZ(0,"td"),e._UZ(1,"input",109),e.qZA())}function da(n,a){1&n&&(e.TgZ(0,"td"),e._UZ(1,"app-financial-input",110),e.qZA())}function pa(n,a){1&n&&(e.TgZ(0,"td"),e._UZ(1,"app-financial-input",111),e.qZA())}function ua(n,a){1&n&&(e.TgZ(0,"td"),e._UZ(1,"app-financial-input",112),e.qZA())}function ma(n,a){1&n&&(e.TgZ(0,"td"),e._UZ(1,"app-financial-input",113),e.qZA())}function _a(n,a){1&n&&(e.TgZ(0,"td"),e._UZ(1,"app-financial-input",114),e.qZA())}function fa(n,a){1&n&&(e.TgZ(0,"td"),e._UZ(1,"app-financial-input",115),e.qZA())}function ha(n,a){1&n&&(e.TgZ(0,"td"),e._UZ(1,"app-financial-input",116),e.qZA())}function ga(n,a){1&n&&(e.TgZ(0,"td"),e._UZ(1,"app-financial-input",117),e.qZA())}function va(n,a){1&n&&(e.TgZ(0,"td"),e._UZ(1,"app-financial-input",118),e.qZA())}function ya(n,a){1&n&&(e.TgZ(0,"td"),e._UZ(1,"app-financial-input",119),e.qZA())}function Ca(n,a){1&n&&(e.TgZ(0,"td"),e._UZ(1,"app-financial-input",120),e.qZA())}function ba(n,a){1&n&&(e.TgZ(0,"td"),e._UZ(1,"app-financial-input",121),e.qZA())}function Ta(n,a){1&n&&(e.TgZ(0,"td"),e._UZ(1,"app-financial-input",122),e.qZA())}function Za(n,a){1&n&&(e.TgZ(0,"td"),e._UZ(1,"app-financial-input",123),e.qZA())}function xa(n,a){1&n&&(e.TgZ(0,"td"),e._UZ(1,"app-financial-input",124),e.qZA())}function Ia(n,a){1&n&&(e.TgZ(0,"td"),e._UZ(1,"app-financial-input",125),e.qZA())}function Aa(n,a){1&n&&(e.TgZ(0,"td"),e._UZ(1,"app-financial-input",126),e.qZA())}function qa(n,a){1&n&&(e.TgZ(0,"td"),e._UZ(1,"app-financial-input",127),e.qZA())}function Fa(n,a){1&n&&(e.TgZ(0,"td"),e._UZ(1,"app-financial-input",128),e.qZA())}function Ra(n,a){1&n&&(e.TgZ(0,"td"),e._UZ(1,"app-financial-input",129),e.qZA())}function ka(n,a){1&n&&(e.TgZ(0,"td"),e._UZ(1,"app-financial-input",130),e.qZA())}function Sa(n,a){if(1&n&&(e.TgZ(0,"td",101),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.yearStr)}}function wa(n,a){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw().$implicit,i=e.oxw().$implicit;e.xp6(1),e.hij(" ",t[i.key]," ")}}function Na(n,a){if(1&n&&e._uU(0),2&n){const t=e.oxw().$implicit,i=e.oxw().$implicit;e.hij(" ",t[i.key]," ")}}function Ua(n,a){if(1&n&&(e.TgZ(0,"td",101),e.YNc(1,wa,2,1,"ng-container",131),e.YNc(2,Na,1,1,"ng-template",null,132,e.W1O),e.qZA()),2&n){const t=a.index,i=e.MAs(3);e.xp6(1),e.Q6J("ngIf",0==t)("ngIfElse",i)}}function Ma(n,a){if(1&n&&(e.TgZ(0,"tr")(1,"td",101),e._uU(2),e.qZA(),e.YNc(3,Ua,4,2,"td",102),e.qZA()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(2),e.Oqu(t.name),e.xp6(1),e.Q6J("ngForOf",i.financialStatement)}}function Ea(n,a){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw().$implicit,i=e.oxw().$implicit;e.xp6(1),e.hij(" ",t[i.key],"")}}function Oa(n,a){if(1&n&&e._uU(0),2&n){const t=e.oxw().$implicit,i=e.oxw().$implicit;e.hij(" ",t[i.key]," ")}}function Pa(n,a){if(1&n&&(e.TgZ(0,"td",101),e.YNc(1,Ea,2,1,"ng-container",131),e.YNc(2,Oa,1,1,"ng-template",null,132,e.W1O),e.qZA()),2&n){const t=a.index,i=e.MAs(3);e.xp6(1),e.Q6J("ngIf",0==t)("ngIfElse",i)}}function Ja(n,a){if(1&n&&(e.TgZ(0,"tr")(1,"td",101),e._uU(2),e.qZA(),e.YNc(3,Pa,4,2,"td",102),e.qZA()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(2),e.Oqu(t.name),e.xp6(1),e.Q6J("ngForOf",i.financialStatement)}}function ja(n,a){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw().$implicit,i=e.oxw().$implicit;e.xp6(1),e.hij(" ",t[i.key]," ")}}function Ya(n,a){if(1&n&&e._uU(0),2&n){const t=e.oxw().$implicit,i=e.oxw().$implicit;e.hij(" ",t[i.key]," ")}}function La(n,a){if(1&n&&(e.TgZ(0,"td",101),e.YNc(1,ja,2,1,"ng-container",131),e.YNc(2,Ya,1,1,"ng-template",null,132,e.W1O),e.qZA()),2&n){const t=a.index,i=e.MAs(3);e.xp6(1),e.Q6J("ngIf",0==t)("ngIfElse",i)}}function Da(n,a){if(1&n&&(e.TgZ(0,"tr")(1,"td",101),e._uU(2),e.qZA(),e.YNc(3,La,4,2,"td",102),e.qZA()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(2),e.Oqu(t.name),e.xp6(1),e.Q6J("ngForOf",i.financialStatement)}}function Qa(n,a){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw().$implicit,i=e.oxw().$implicit;e.xp6(1),e.hij(" ",t[i.key]," ")}}function Va(n,a){if(1&n&&e._uU(0),2&n){const t=e.oxw().$implicit,i=e.oxw().$implicit;e.hij(" ",t[i.key]," ")}}function Ba(n,a){if(1&n&&(e.TgZ(0,"td",101),e.YNc(1,Qa,2,1,"ng-container",131),e.YNc(2,Va,1,1,"ng-template",null,132,e.W1O),e.qZA()),2&n){const t=a.index,i=e.MAs(3);e.xp6(1),e.Q6J("ngIf",0==t)("ngIfElse",i)}}function Ga(n,a){if(1&n&&(e.TgZ(0,"tr")(1,"td",101),e._uU(2),e.qZA(),e.YNc(3,Ba,4,2,"td",102),e.qZA()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(2),e.Oqu(t.name),e.xp6(1),e.Q6J("ngForOf",i.financialStatement)}}function Ka(n,a){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw().$implicit,i=e.oxw().$implicit;e.xp6(1),e.hij(" ",t[i.key]," ")}}function Ha(n,a){if(1&n&&e._uU(0),2&n){const t=e.oxw().$implicit,i=e.oxw().$implicit;e.hij(" ",t[i.key]," ")}}function za(n,a){if(1&n&&(e.TgZ(0,"td",101),e.YNc(1,Ka,2,1,"ng-container",131),e.YNc(2,Ha,1,1,"ng-template",null,132,e.W1O),e.qZA()),2&n){const t=a.index,i=e.MAs(3);e.xp6(1),e.Q6J("ngIf",0==t)("ngIfElse",i)}}function $a(n,a){if(1&n&&(e.TgZ(0,"tr")(1,"td",101),e._uU(2),e.qZA(),e.YNc(3,za,4,2,"td",102),e.qZA()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(2),e.Oqu(t.name),e.xp6(1),e.Q6J("ngForOf",i.financialStatement)}}function Wa(n,a){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw().$implicit,i=e.oxw().$implicit;e.xp6(1),e.hij(" ",t[i.key]," ")}}function Xa(n,a){if(1&n&&e._uU(0),2&n){const t=e.oxw().$implicit,i=e.oxw().$implicit;e.hij(" ",t[i.key]," ")}}function er(n,a){if(1&n&&(e.TgZ(0,"td",101),e.YNc(1,Wa,2,1,"ng-container",131),e.YNc(2,Xa,1,1,"ng-template",null,132,e.W1O),e.qZA()),2&n){const t=a.index,i=e.MAs(3);e.xp6(1),e.Q6J("ngIf",0==t)("ngIfElse",i)}}function tr(n,a){if(1&n&&(e.TgZ(0,"tr")(1,"td",101),e._uU(2),e.qZA(),e.YNc(3,er,4,2,"td",102),e.qZA()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(2),e.Oqu(t.name),e.xp6(1),e.Q6J("ngForOf",i.financialStatement)}}function ir(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"input",134),e.NdJ("keypress",function(o){return e.CHM(t),e.oxw(2).letterOnly(o)}),e.qZA()}}function nr(n,a){if(1&n&&(e.TgZ(0,"td",101),e.YNc(1,ir,1,0,"input",133),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isInterim)}}function or(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"td",101)(1,"input",135),e.NdJ("keypress",function(o){return e.CHM(t),e.oxw().letterOnly(o)}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.uIk("readonly",t.isInterim)}}function ar(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"td",101)(1,"input",136),e.NdJ("keypress",function(o){return e.CHM(t),e.oxw().letterOnly(o)}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.uIk("readonly",t.isInterim)}}function rr(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"td",101)(1,"input",137),e.NdJ("keypress",function(o){return e.CHM(t),e.oxw().letterOnly(o)}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.uIk("readonly",t.isInterim)}}function sr(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"td",101)(1,"input",138),e.NdJ("keypress",function(o){return e.CHM(t),e.oxw().letterOnly(o)}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.uIk("readonly",t.isInterim)}}function lr(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"td",101)(1,"input",135),e.NdJ("keypress",function(o){return e.CHM(t),e.oxw().letterOnly(o)}),e.qZA()()}}function cr(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"td",101)(1,"input",136),e.NdJ("keypress",function(o){return e.CHM(t),e.oxw().letterOnly(o)}),e.qZA()()}}function dr(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"td",101)(1,"input",137),e.NdJ("keypress",function(o){return e.CHM(t),e.oxw().letterOnly(o)}),e.qZA()()}}function pr(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"td",101)(1,"input",138),e.NdJ("keypress",function(o){return e.CHM(t),e.oxw().letterOnly(o)}),e.qZA()()}}function ur(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",99),e.NdJ("click",function(){return e.CHM(t),e.oxw().saveOther1("Final")}),e._uU(1,"Save & Submit"),e.qZA()}}function mr(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",99),e.NdJ("click",function(){return e.CHM(t),e.oxw().gotointerimSummary()}),e._uU(1,"Go to Interim Review Summary"),e.qZA()}}let _r=(()=>{class n{constructor(t,i,o,r,l,c,d){this.router=t,this.fb=i,this.toastr=o,this.financialstatementdataservice=r,this.financialservice=l,this.dialog=c,this._decimalPipe=d,this.companyId=0,this.taxId=0,this.vendorId=0,this.isInterim=!1,this.cancelText="Clear",this.statement_Calcuate="",this.statementForm=this.fb.group({interimid:[""],interimfinancialYearEndDate:[""],interimcashEquivalents:[""],interimaccountsReceivableRetainage:[""],interimmarketableSecurities:[""],interimunderbillings:[""],interimtotalCurrentAssets:[""],interimtotalLiabilities:[""],interimintagibleAssets:[""],interimtotalAssets:[""],interimaccountsPayableRetainage:[""],interimoverbillings:[""],interimtotalCurrentLiabilities:[""],interimequity:[""],interimrevenue:[""],interimcostOfGoodSold:[""],interimnetIncomeBeforeTaxes:[""],interimbacklogLast:[""],interimlineofCredit:[""],interimunusedLineofCredit:[""],interimdbPayIndex:[""],interimpppLoan:[""],interimlineofCreditPayable:[""],id:[0],id1:[0],id2:[0],id3:[0],companyId:[""],yearStr:[""],isDataAvailable:[""],financialYearEndDate:["",s.kI.required],cashEquivalents:["",s.kI.required],accountsReceivableRetainage:["",s.kI.required],marketableSecurities:["",s.kI.required],underbillings:["",s.kI.required],totalCurrentAssets:["",s.kI.required],intagibleAssets:["",s.kI.required],totalAssets:["",s.kI.required],accountsPayableRetainage:["",s.kI.required],overbillings:["",s.kI.required],totalCurrentLiabilities:["",s.kI.required],totalLiabilities:["",s.kI.required],equity:["",s.kI.required],revenue:["",s.kI.required],costOfGoodSold:["",s.kI.required],netIncomeBeforeTaxes:["",s.kI.required],backlogLast:["",s.kI.required],lineofCredit:["",s.kI.required],unusedLineofCredit:["",s.kI.required],dbPayIndex:["",s.kI.required],pppLoan:["",s.kI.required],lineofCreditPayable:["",s.kI.required],financialYearEndDate1:[""],cashEquivalents1:[""],accountsReceivableRetainage1:[""],marketableSecurities1:[""],underbillings1:[""],totalCurrentAssets1:[""],intagibleAssets1:[""],totalAssets1:[""],accountsPayableRetainage1:[""],overbillings1:[""],totalCurrentLiabilities1:[""],totalLiabilities1:[""],equity1:[""],revenue1:[""],costOfGoodSold1:[""],netIncomeBeforeTaxes1:[""],backlogLast1:[""],lineofCredit1:[""],unusedLineofCredit1:[""],dbPayIndex1:[""],pppLoan1:[""],lineofCreditPayable1:[""],financialYearEndDate2:[""],cashEquivalents2:[""],accountsReceivableRetainage2:[""],marketableSecurities2:[""],underbillings2:[""],totalCurrentAssets2:[""],intagibleAssets2:[""],totalAssets2:[""],accountsPayableRetainage2:[""],overbillings2:[""],totalCurrentLiabilities2:[""],totalLiabilities2:[""],equity2:[""],revenue2:[""],costOfGoodSold2:[""],netIncomeBeforeTaxes2:[""],backlogLast2:[""],lineofCredit2:[""],unusedLineofCredit2:[""],dbPayIndex2:[""],pppLoan2:[""],lineofCreditPayable2:[""],financialYearEndDate3:[""],cashEquivalents3:[""],accountsReceivableRetainage3:[""],marketableSecurities3:[""],underbillings3:[""],totalCurrentAssets3:[""],intagibleAssets3:[""],totalAssets3:[""],accountsPayableRetainage3:[""],overbillings3:[""],totalCurrentLiabilities3:[""],totalLiabilities3:[""],equity3:[""],revenue3:[""],costOfGoodSold3:[""],netIncomeBeforeTaxes3:[""],backlogLast3:[""],lineofCredit3:[""],unusedLineofCredit3:[""],dbPayIndex3:[""],pppLoan3:[""],lineofCreditPayable3:[""]}),this.outputForm=this.fb.group({financialGradeinterim:[""],financialGrade:["",s.kI.required],financialGrade1:[""],financialGrade2:[""],financialGrade3:[""]}),this.newRowsBalanceSheet=[{name:"Financial year end date",key:"financialYearEndDate"},{name:"Cash / Cash Equivalents",key:"cashEquivalents"},{name:"Accounts Receivables & Retainage",key:"accountsReceivableRetainage"},{name:"Marketable Securities",key:"marketableSecurities"},{name:"Under billings",key:"underbillings"},{name:"Total Current Assets",key:"totalCurrentAssets"},{name:"Goodwill / Patents Intangible Assets",key:"intagibleAssets"},{name:"Total Assets",key:"totalAssets"},{name:"Accounts Payables & Retainage",key:"accountsPayableRetainage"},{name:"Overbillings",key:"overbillings"},{name:"Total Current Liabilities",key:"totalCurrentLiabilities"},{name:"Equity",key:"equity"}],this.newRowsIncome=[{name:"Revenue",key:"revenue"},{name:"Cost of Goods sold/Construction",key:"costOfGoodSold"},{name:"Net Income before taxes",key:"netIncomeBeforeTaxes"}],this.newRowsOther=[{name:"Backlog Last",key:"backlogLast"},{name:"Line of credit",key:"lineofCredit"},{name:"Unused line of credit",key:"unusedLineofCredit"},{name:"Line of credit payable",key:"lineofCreditPayable"},{name:"D & B Pay Index",key:"dbPayIndex"},{name:"PPP Loan",key:"pppLoan"}],this.newRowsNetworth=[{name:"Revenue to NW(Equity)",key:"revenueToNWEquity"},{name:"Net Worth to Backlog",key:"netWorthtoBacklog"},{name:"Net Worth Score",key:"netWorthScore"}],this.newRowsWorking=[{name:"Quick Ratio",key:"quickRatio"},{name:"Current Ratio",key:"currentRatio"},{name:"Revenue/ Working Capital",key:"revenueWorkingCaptial"},{name:"Under billings / Working  Capital",key:"underbillingWorkingCaptial"},{name:"Working Capital Score",key:"workingCapitalScore"}],this.newRowsLeverage=[{name:"Debt to Equity",key:"debtToEquity"},{name:"Debt to Net Worth",key:"debtToNetWorth"},{name:"Leverage Score",key:"leverageScore"}],this.newRowsProfit=[{name:"Return on Equity",key:"returnOnEquity"},{name:"% Gross Profit",key:"grossProfit"},{name:"% Net Profit",key:"netProfit"},{name:"2 Year Change in Net Worth",key:"twoYearChangeInNetWorth"},{name:"Profitability Score",key:"profitabilityScore"}],this.newRowsOperation=[{name:"Revenue over receivables",key:"revenueOverReceivables"},{name:"Cost of Rev to Payables",key:"costofRevToPayables"},{name:"Operation Efficiency Score",key:"operationEfficiencyScore"}],this.newRowsSubcontractor=[{name:"Five * Working Capital",key:"fiveXWorkingCaptial"},{name:"25% of Annual Revenue",key:"oneFourthAnnualRevenue"},{name:"Tangible Net Worth",key:"tangibleNetWorth"},{name:"Net Cash %",key:"netCash"}]}format(t){return t||"0"==t?this._decimalPipe.transform(t,"1.2-2")||"":t}ngAfterViewInit(){this.companyId>0&&this.gridLoad()}gridLoad(){var t=localStorage.getItem("preQualStatus");t&&(t=atob(t)),console.log(this.isInterim),this.isInterim="Interim Review"==t,this.isInterim?(this.cancelText="Cancel",this.financialstatementdataservice.getinterimRecords(this.companyId).subscribe(i=>{this.loadfinancialstatement(i,1)})):this.financialstatementdataservice.getRecords(this.companyId).subscribe(i=>{this.loadfinancialstatement(i,0)})}gotointerimSummary(){this.router.navigate(["qualification/summary"])}loadfinancialstatement(t,i){var o,r,l,c,d,p,_,v,g,C,T,w,y,j,Y,N,$,W,X,oe,Ze,xe,Ie,Ae,qe,Fe,Re,ke,Se,we,Ne,Ue,Me,Ee,Oe,Pe,Je,je,Ye,Le,De,Qe,Ve,Be,Ge,Ke,He,ze,$e,We,Xe,et,tt,it,nt,ot,at,rt,st,lt,ct,dt,pt,ut,mt,_t,ft,ht,gt,vt,yt,Ct,bt,Tt,Zt,xt,It,At,qt,Ft,Rt,kt,St,wt,Nt,Ut,Mt,Et,Ot,Pt,Jt,jt,Yt,Lt,Dt,Qt,Vt,Bt,Gt,Kt,Ht,zt,$t,Wt,Xt,ei,ti,ii;t.forEach(m=>{m.revenueToNWEquity=this.format(m.revenueToNWEquity),m.netWorthtoBacklog=this.format(m.netWorthtoBacklog),m.netWorthScore=this.format(m.netWorthScore),m.quickRatio=this.format(m.quickRatio),m.currentRatio=this.format(m.currentRatio),m.revenueWorkingCaptial=this.format(m.revenueWorkingCaptial),m.underbillingWorkingCaptial=this.format(m.underbillingWorkingCaptial),m.workingCapitalScore=this.format(m.workingCapitalScore),m.debtToEquity=this.format(m.debtToEquity),m.debtToNetWorth=this.format(m.debtToNetWorth),m.leverageScore=this.format(m.leverageScore),m.returnOnEquity=this.format(m.returnOnEquity),m.grossProfit=this.format(m.grossProfit),m.netProfit=this.format(m.netProfit),m.twoYearChangeInNetWorth=this.format(m.twoYearChangeInNetWorth),m.profitabilityScore=this.format(m.profitabilityScore),m.revenueOverReceivables=this.format(m.revenueOverReceivables),m.costofRevToPayables=this.format(m.costofRevToPayables),m.operationEfficiencyScore=this.format(m.operationEfficiencyScore),m.fiveXWorkingCaptial=this.format(m.fiveXWorkingCaptial),m.oneFourthAnnualRevenue=this.format(m.oneFourthAnnualRevenue),m.tangibleNetWorth=this.format(m.tangibleNetWorth),m.netCash=this.format(m.netCash),m.cashEquivalents=this.format(m.cashEquivalents),m.accountsReceivableRetainage=this.format(m.accountsReceivableRetainage),m.marketableSecurities=this.format(m.marketableSecurities),m.underbillings=this.format(m.underbillings),m.totalCurrentAssets=this.format(m.totalCurrentAssets),m.intagibleAssets=this.format(m.intagibleAssets),m.totalAssets=this.format(m.totalAssets),m.accountsPayableRetainage=this.format(m.accountsPayableRetainage),m.overbillings=this.format(m.overbillings),m.totalCurrentLiabilities=this.format(m.totalCurrentLiabilities),m.totalLiabilities=this.format(m.totalLiabilities),m.equity=this.format(m.equity),m.revenue=this.format(m.revenue),m.costOfGoodSold=this.format(m.costOfGoodSold),m.netIncomeBeforeTaxes=this.format(m.netIncomeBeforeTaxes),m.backlogLast=this.format(m.backlogLast),m.lineofCredit=this.format(m.lineofCredit),m.unusedLineofCredit=this.format(m.unusedLineofCredit),m.dbPayIndex=this.format(m.dbPayIndex),m.pppLoan=this.format(m.pppLoan),m.lineofCreditPayable=this.format(m.lineofCreditPayable)}),this.financialStatement=t;var A=i-1,q=0+i,F=1+i,R=2+i,k=3+i;t.length>(i>0?3:2)&&(this.outputForm.patchValue({financialGrade:t[q].financialGrade,financialGrade1:t[F].financialGrade,financialGrade2:t[R].financialGrade,financialGrade3:t[k].financialGrade,financialGradeinterim:this.isInterim?t[A].financialGrade:""}),this.statementForm.patchValue({interimid:this.isInterim?t[A].id:"",interimfinancialYearEndDate:this.isInterim?new Date(t[A].financialYearEndDate).toISOString().slice(0,10):(new Date).toISOString().slice(0,10),interimcashEquivalents:this.isInterim&&null!==(o=t[A].cashEquivalents)&&void 0!==o?o:"",interimaccountsReceivableRetainage:this.isInterim&&null!==(r=t[A].accountsReceivableRetainage)&&void 0!==r?r:"",interimmarketableSecurities:this.isInterim&&null!==(l=t[A].marketableSecurities)&&void 0!==l?l:"",interimunderbillings:this.isInterim&&null!==(c=t[A].underbillings)&&void 0!==c?c:"",interimtotalCurrentAssets:this.isInterim&&null!==(d=t[A].totalCurrentAssets)&&void 0!==d?d:"",interimintagibleAssets:this.isInterim&&null!==(p=t[A].intagibleAssets)&&void 0!==p?p:"",interimtotalAssets:this.isInterim&&null!==(_=t[A].totalAssets)&&void 0!==_?_:"",interimaccountsPayableRetainage:this.isInterim&&null!==(v=t[A].accountsPayableRetainage)&&void 0!==v?v:"",interimoverbillings:this.isInterim&&null!==(g=t[A].overbillings)&&void 0!==g?g:"",interimtotalCurrentLiabilities:this.isInterim&&null!==(C=t[A].totalCurrentLiabilities)&&void 0!==C?C:"",interimtotalLiabilities:this.isInterim&&null!==(T=t[A].totalLiabilities)&&void 0!==T?T:"",interimequity:this.isInterim&&null!==(w=t[A].equity)&&void 0!==w?w:"",interimrevenue:this.isInterim&&null!==(y=t[A].revenue)&&void 0!==y?y:"",interimcostOfGoodSold:this.isInterim&&null!==(j=t[A].costOfGoodSold)&&void 0!==j?j:"",interimnetIncomeBeforeTaxes:this.isInterim&&null!==(Y=t[A].netIncomeBeforeTaxes)&&void 0!==Y?Y:"",interimbacklogLast:this.isInterim&&null!==(N=t[A].backlogLast)&&void 0!==N?N:"",interimlineofCredit:this.isInterim&&null!==($=t[A].lineofCredit)&&void 0!==$?$:"",interimunusedLineofCredit:this.isInterim&&null!==(W=t[A].unusedLineofCredit)&&void 0!==W?W:"",interimdbPayIndex:this.isInterim&&null!==(X=t[A].dbPayIndex)&&void 0!==X?X:"",interimpppLoan:this.isInterim&&null!==(oe=t[A].pppLoan)&&void 0!==oe?oe:"",interimlineofCreditPayable:this.isInterim&&null!==(Ze=t[A].lineofCreditPayable)&&void 0!==Ze?Ze:"",id:t[q].id,id1:t[F].id,id2:t[R].id,id3:t[k].id,companyId:this.companyId,yearStr:"last Year",isDataAvailable:!0,financialYearEndDate:new Date(t[q].financialYearEndDate).toISOString().slice(0,10),cashEquivalents:null!==(xe=t[q].cashEquivalents)&&void 0!==xe?xe:"",accountsReceivableRetainage:null!==(Ie=t[q].accountsReceivableRetainage)&&void 0!==Ie?Ie:"",marketableSecurities:null!==(Ae=t[q].marketableSecurities)&&void 0!==Ae?Ae:"",underbillings:null!==(qe=t[q].underbillings)&&void 0!==qe?qe:"",totalCurrentAssets:null!==(Fe=t[q].totalCurrentAssets)&&void 0!==Fe?Fe:"",totalLiabilities:null!==(Re=t[q].totalLiabilities)&&void 0!==Re?Re:"",intagibleAssets:null!==(ke=t[q].intagibleAssets)&&void 0!==ke?ke:"",totalAssets:null!==(Se=t[q].totalAssets)&&void 0!==Se?Se:"",accountsPayableRetainage:null!==(we=t[q].accountsPayableRetainage)&&void 0!==we?we:"",overbillings:null!==(Ne=t[q].overbillings)&&void 0!==Ne?Ne:"",totalCurrentLiabilities:null!==(Ue=t[q].totalCurrentLiabilities)&&void 0!==Ue?Ue:"",equity:null!==(Me=t[q].equity)&&void 0!==Me?Me:"",revenue:null!==(Ee=t[q].revenue)&&void 0!==Ee?Ee:"",costOfGoodSold:null!==(Oe=t[q].costOfGoodSold)&&void 0!==Oe?Oe:"",netIncomeBeforeTaxes:null!==(Pe=t[q].netIncomeBeforeTaxes)&&void 0!==Pe?Pe:"",backlogLast:null!==(Je=t[q].backlogLast)&&void 0!==Je?Je:"",lineofCredit:null!==(je=t[q].lineofCredit)&&void 0!==je?je:"",unusedLineofCredit:null!==(Ye=t[q].unusedLineofCredit)&&void 0!==Ye?Ye:"",dbPayIndex:null!==(Le=t[q].dbPayIndex)&&void 0!==Le?Le:"",pppLoan:null!==(De=t[q].pppLoan)&&void 0!==De?De:"",lineofCreditPayable:null!==(Qe=t[q].lineofCreditPayable)&&void 0!==Qe?Qe:"",financialYearEndDate1:new Date(null!==(Ve=t[F].financialYearEndDate)&&void 0!==Ve?Ve:new Date).toISOString().slice(0,10),cashEquivalents1:null!==(Be=t[F].cashEquivalents)&&void 0!==Be?Be:"",accountsReceivableRetainage1:null!==(Ge=t[F].accountsReceivableRetainage)&&void 0!==Ge?Ge:"",marketableSecurities1:null!==(Ke=t[F].marketableSecurities)&&void 0!==Ke?Ke:"",underbillings1:null!==(He=t[F].underbillings)&&void 0!==He?He:"",totalCurrentAssets1:null!==(ze=t[F].totalCurrentAssets)&&void 0!==ze?ze:"",intagibleAssets1:null!==($e=t[F].intagibleAssets)&&void 0!==$e?$e:"",totalAssets1:null!==(We=t[F].totalAssets)&&void 0!==We?We:"",accountsPayableRetainage1:null!==(Xe=t[F].accountsPayableRetainage)&&void 0!==Xe?Xe:"",overbillings1:null!==(et=t[F].overbillings)&&void 0!==et?et:"",totalCurrentLiabilities1:null!==(tt=t[F].totalCurrentLiabilities)&&void 0!==tt?tt:"",totalLiabilities1:null!==(it=t[F].totalLiabilities)&&void 0!==it?it:"",equity1:null!==(nt=t[F].equity)&&void 0!==nt?nt:"",revenue1:null!==(ot=t[F].revenue)&&void 0!==ot?ot:"",costOfGoodSold1:null!==(at=t[F].costOfGoodSold)&&void 0!==at?at:"",netIncomeBeforeTaxes1:null!==(rt=t[F].netIncomeBeforeTaxes)&&void 0!==rt?rt:"",backlogLast1:null!==(st=t[F].backlogLast)&&void 0!==st?st:"",lineofCredit1:null!==(lt=t[F].lineofCredit)&&void 0!==lt?lt:"",unusedLineofCredit1:null!==(ct=t[F].unusedLineofCredit)&&void 0!==ct?ct:"",dbPayIndex1:null!==(dt=t[F].dbPayIndex)&&void 0!==dt?dt:"",pppLoan1:null!==(pt=t[F].pppLoan)&&void 0!==pt?pt:"",lineofCreditPayable1:null!==(ut=t[F].lineofCreditPayable)&&void 0!==ut?ut:"",financialYearEndDate2:new Date(null!==(mt=t[R].financialYearEndDate)&&void 0!==mt?mt:new Date).toISOString().slice(0,10),cashEquivalents2:null!==(_t=t[R].cashEquivalents)&&void 0!==_t?_t:"",accountsReceivableRetainage2:null!==(ft=t[R].accountsReceivableRetainage)&&void 0!==ft?ft:"",marketableSecurities2:null!==(ht=t[R].marketableSecurities)&&void 0!==ht?ht:"",underbillings2:null!==(gt=t[R].underbillings)&&void 0!==gt?gt:"",totalCurrentAssets2:null!==(vt=t[R].totalCurrentAssets)&&void 0!==vt?vt:"",intagibleAssets2:null!==(yt=t[R].intagibleAssets)&&void 0!==yt?yt:"",totalAssets2:null!==(Ct=t[R].totalAssets)&&void 0!==Ct?Ct:"",accountsPayableRetainage2:null!==(bt=t[R].accountsPayableRetainage)&&void 0!==bt?bt:"",overbillings2:null!==(Tt=t[R].overbillings)&&void 0!==Tt?Tt:"",totalCurrentLiabilities2:null!==(Zt=t[R].totalCurrentLiabilities)&&void 0!==Zt?Zt:"",totalLiabilities2:null!==(xt=t[R].totalLiabilities)&&void 0!==xt?xt:"",equity2:null!==(It=t[R].equity)&&void 0!==It?It:"",revenue2:null!==(At=t[R].revenue)&&void 0!==At?At:"",costOfGoodSold2:null!==(qt=t[R].costOfGoodSold)&&void 0!==qt?qt:"",netIncomeBeforeTaxes2:null!==(Ft=t[R].netIncomeBeforeTaxes)&&void 0!==Ft?Ft:"",backlogLast2:null!==(Rt=t[R].backlogLast)&&void 0!==Rt?Rt:"",lineofCredit2:null!==(kt=t[R].lineofCredit)&&void 0!==kt?kt:"",unusedLineofCredit2:null!==(St=t[R].unusedLineofCredit)&&void 0!==St?St:"",dbPayIndex2:null!==(wt=t[R].dbPayIndex)&&void 0!==wt?wt:"",pppLoan2:null!==(Nt=t[R].pppLoan)&&void 0!==Nt?Nt:"",lineofCreditPayable2:null!==(Ut=t[R].lineofCreditPayable)&&void 0!==Ut?Ut:"",financialYearEndDate3:new Date(null!==(Mt=t[k].financialYearEndDate)&&void 0!==Mt?Mt:new Date).toISOString().slice(0,10),cashEquivalents3:null!==(Et=t[k].cashEquivalents)&&void 0!==Et?Et:"",accountsReceivableRetainage3:null!==(Ot=t[k].accountsReceivableRetainage)&&void 0!==Ot?Ot:"",marketableSecurities3:null!==(Pt=t[k].marketableSecurities)&&void 0!==Pt?Pt:"",underbillings3:null!==(Jt=t[k].underbillings)&&void 0!==Jt?Jt:"",totalCurrentAssets3:null!==(jt=t[k].totalCurrentAssets)&&void 0!==jt?jt:"",intagibleAssets3:null!==(Yt=t[k].intagibleAssets)&&void 0!==Yt?Yt:"",totalAssets3:null!==(Lt=t[k].totalAssets)&&void 0!==Lt?Lt:"",accountsPayableRetainage3:null!==(Dt=t[k].accountsPayableRetainage)&&void 0!==Dt?Dt:"",overbillings3:null!==(Qt=t[k].overbillings)&&void 0!==Qt?Qt:"",totalCurrentLiabilities3:null!==(Vt=t[k].totalCurrentLiabilities)&&void 0!==Vt?Vt:"",totalLiabilities3:null!==(Bt=t[k].totalLiabilities)&&void 0!==Bt?Bt:"",equity3:null!==(Gt=t[k].equity)&&void 0!==Gt?Gt:"",revenue3:null!==(Kt=t[k].revenue)&&void 0!==Kt?Kt:"",costOfGoodSold3:null!==(Ht=t[k].costOfGoodSold)&&void 0!==Ht?Ht:"",netIncomeBeforeTaxes3:null!==(zt=t[k].netIncomeBeforeTaxes)&&void 0!==zt?zt:"",backlogLast3:null!==($t=t[k].backlogLast)&&void 0!==$t?$t:"",lineofCredit3:null!==(Wt=t[k].lineofCredit)&&void 0!==Wt?Wt:"",unusedLineofCredit3:null!==(Xt=t[k].unusedLineofCredit)&&void 0!==Xt?Xt:"",dbPayIndex3:null!==(ei=t[k].dbPayIndex)&&void 0!==ei?ei:"",pppLoan3:null!==(ti=t[k].pppLoan)&&void 0!==ti?ti:"",lineofCreditPayable3:null!==(ii=t[k].lineofCreditPayable)&&void 0!==ii?ii:""})),console.log("this.financialStatement.value.",this.financialStatement),"0001-01-01"==this.statementForm.value.financialYearEndDate3&&this.statementForm.patchValue({financialYearEndDate3:""}),"0001-01-01"==this.statementForm.value.financialYearEndDate2&&this.statementForm.patchValue({financialYearEndDate2:""}),"0001-01-01"==this.statementForm.value.financialYearEndDate1&&this.statementForm.patchValue({financialYearEndDate1:""}),"0001-01-01"==this.statementForm.value.financialYearEndDate&&this.statementForm.patchValue({financialYearEndDate:""})}ngOnInit(){}saveInfo(){var t,i,o;if(this.statementForm.patchValue({companyId:this.companyId}),this.isInterim)this.financialstatementdataservice.addInterimRecord({id:this.statementForm.value.interimid,yearStr:"0",financialGrade:this.outputForm.value.financialGradeinterim,isDataAvailable:!0,financialYearEndDate:this.statementForm.value.interimfinancialYearEndDate,cashEquivalents:this.statementForm.value.interimcashEquivalents,accountsReceivableRetainage:this.statementForm.value.interimaccountsReceivableRetainage,marketableSecurities:this.statementForm.value.interimmarketableSecurities,underbillings:this.statementForm.value.interimunderbillings,totalCurrentAssets:this.statementForm.value.interimtotalCurrentAssets,totalLiabilities:this.statementForm.value.interimtotalLiabilities,intagibleAssets:this.statementForm.value.interimintagibleAssets,totalAssets:this.statementForm.value.interimtotalAssets,accountsPayableRetainage:this.statementForm.value.interimaccountsPayableRetainage,overbillings:this.statementForm.value.interimoverbillings,totalCurrentLiabilities:this.statementForm.value.interimtotalCurrentLiabilities,equity:this.statementForm.value.interimequity,revenue:this.statementForm.value.interimrevenue,costOfGoodSold:this.statementForm.value.interimcostOfGoodSold,netIncomeBeforeTaxes:this.statementForm.value.interimnetIncomeBeforeTaxes,backlogLast:this.statementForm.value.interimbacklogLast,lineofCredit:this.statementForm.value.interimlineofCredit,unusedLineofCredit:this.statementForm.value.interimunusedLineofCredit,dbPayIndex:this.statementForm.value.interimdbPayIndex,pppLoan:this.statementForm.value.interimpppLoan,lineofCreditPayable:this.statementForm.value.interimlineofCreditPayable,taxId:this.taxId,vendorId:this.vendorId,companyId:this.companyId}).subscribe(l=>{console.log(l),this.gridLoad()});else{let r={id:this.statementForm.value.id,yearStr:"1",financialGrade:"1",isDataAvailable:!0,financialYearEndDate:this.statementForm.value.financialYearEndDate,cashEquivalents:this.statementForm.value.cashEquivalents,accountsReceivableRetainage:this.statementForm.value.accountsReceivableRetainage,marketableSecurities:this.statementForm.value.marketableSecurities,underbillings:this.statementForm.value.underbillings,totalCurrentAssets:this.statementForm.value.totalCurrentAssets,totalLiabilities:this.statementForm.value.totalLiabilities,intagibleAssets:this.statementForm.value.intagibleAssets,totalAssets:this.statementForm.value.totalAssets,accountsPayableRetainage:this.statementForm.value.accountsPayableRetainage,overbillings:this.statementForm.value.overbillings,totalCurrentLiabilities:this.statementForm.value.totalCurrentLiabilities,equity:this.statementForm.value.equity,revenue:this.statementForm.value.revenue,costOfGoodSold:this.statementForm.value.costOfGoodSold,netIncomeBeforeTaxes:this.statementForm.value.netIncomeBeforeTaxes,backlogLast:this.statementForm.value.backlogLast,lineofCredit:this.statementForm.value.lineofCredit,unusedLineofCredit:this.statementForm.value.unusedLineofCredit,dbPayIndex:this.statementForm.value.dbPayIndex,pppLoan:this.statementForm.value.pppLoan,lineofCreditPayable:this.statementForm.value.lineofCreditPayable,taxId:this.taxId,vendorId:this.vendorId,companyId:this.companyId};const l=new Date,c="1/1/"+(l.getFullYear()-1),d="1/1/"+(l.getFullYear()-2),p="1/1/"+(l.getFullYear()-3);let _={id:this.statementForm.value.id1,yearStr:"2",financialGrade:"2",isDataAvailable:!0,financialYearEndDate:null!==(t=this.statementForm.value.financialYearEndDate1)&&void 0!==t?t:c,cashEquivalents:""==this.statementForm.value.cashEquivalents1?0:this.statementForm.value.cashEquivalents1,accountsReceivableRetainage:""==this.statementForm.value.accountsReceivableRetainage1?0:this.statementForm.value.accountsReceivableRetainage1,marketableSecurities:""==this.statementForm.value.marketableSecurities1?0:this.statementForm.value.marketableSecurities1,underbillings:""==this.statementForm.value.underbillings1?0:this.statementForm.value.underbillings1,totalCurrentAssets:""==this.statementForm.value.totalCurrentAssets1?0:this.statementForm.value.totalCurrentAssets1,intagibleAssets:""==this.statementForm.value.intagibleAssets1?0:this.statementForm.value.intagibleAssets1,totalLiabilities:""==this.statementForm.value.totalLiabilities1?0:this.statementForm.value.totalLiabilities1,totalAssets:""==this.statementForm.value.totalAssets1?0:this.statementForm.value.totalAssets1,accountsPayableRetainage:""==this.statementForm.value.accountsPayableRetainage1?0:this.statementForm.value.accountsPayableRetainage1,overbillings:""==this.statementForm.value.overbillings1?0:this.statementForm.value.overbillings1,totalCurrentLiabilities:""==this.statementForm.value.totalCurrentLiabilities1?0:this.statementForm.value.totalCurrentLiabilities1,equity:""==this.statementForm.value.equity1?0:this.statementForm.value.equity1,revenue:""==this.statementForm.value.revenue1?0:this.statementForm.value.revenue1,costOfGoodSold:""==this.statementForm.value.costOfGoodSold1?0:this.statementForm.value.costOfGoodSold1,netIncomeBeforeTaxes:""==this.statementForm.value.netIncomeBeforeTaxes1?0:this.statementForm.value.netIncomeBeforeTaxes1,backlogLast:""==this.statementForm.value.backlogLast1?0:this.statementForm.value.backlogLast1,lineofCredit:""==this.statementForm.value.lineofCredit1?0:this.statementForm.value.lineofCredit1,unusedLineofCredit:""==this.statementForm.value.unusedLineofCredit1?0:this.statementForm.value.unusedLineofCredit1,dbPayIndex:""==this.statementForm.value.dbPayIndex1?0:this.statementForm.value.dbPayIndex1,pppLoan:""==this.statementForm.value.pppLoan1?0:this.statementForm.value.pppLoan1,lineofCreditPayable:""==this.statementForm.value.lineofCreditPayable1?0:this.statementForm.value.lineofCreditPayable1,taxId:this.taxId,vendorId:this.vendorId,companyId:this.companyId},v={id:this.statementForm.value.id2,yearStr:"3",financialGrade:"",isDataAvailable:!0,financialYearEndDate:null!==(i=this.statementForm.value.financialYearEndDate2)&&void 0!==i?i:d,cashEquivalents:""==this.statementForm.value.cashEquivalents2?0:this.statementForm.value.cashEquivalents2,accountsReceivableRetainage:""==this.statementForm.value.accountsReceivableRetainage2?0:this.statementForm.value.accountsReceivableRetainage2,marketableSecurities:""==this.statementForm.value.marketableSecurities2?0:this.statementForm.value.marketableSecurities2,underbillings:""==this.statementForm.value.underbillings2?0:this.statementForm.value.underbillings2,totalCurrentAssets:""==this.statementForm.value.totalCurrentAssets2?0:this.statementForm.value.totalCurrentAssets2,intagibleAssets:""==this.statementForm.value.intagibleAssets2?0:this.statementForm.value.intagibleAssets2,totalLiabilities:""==this.statementForm.value.totalLiabilities2?0:this.statementForm.value.totalLiabilities2,totalAssets:""==this.statementForm.value.totalAssets2?0:this.statementForm.value.totalAssets2,accountsPayableRetainage:""==this.statementForm.value.accountsPayableRetainage2?0:this.statementForm.value.accountsPayableRetainage2,overbillings:""==this.statementForm.value.overbillings2?0:this.statementForm.value.overbillings2,totalCurrentLiabilities:""==this.statementForm.value.totalCurrentLiabilities2?0:this.statementForm.value.totalCurrentLiabilities2,equity:""==this.statementForm.value.equity2?0:this.statementForm.value.equity2,revenue:""==this.statementForm.value.revenue2?0:this.statementForm.value.revenue2,costOfGoodSold:""==this.statementForm.value.costOfGoodSold2?0:this.statementForm.value.costOfGoodSold2,netIncomeBeforeTaxes:""==this.statementForm.value.netIncomeBeforeTaxes2?0:this.statementForm.value.netIncomeBeforeTaxes2,backlogLast:""==this.statementForm.value.backlogLast2?0:this.statementForm.value.backlogLast2,lineofCredit:""==this.statementForm.value.lineofCredit2?0:this.statementForm.value.lineofCredit2,unusedLineofCredit:""==this.statementForm.value.unusedLineofCredit2?0:this.statementForm.value.unusedLineofCredit2,dbPayIndex:""==this.statementForm.value.dbPayIndex2?0:this.statementForm.value.dbPayIndex2,pppLoan:""==this.statementForm.value.pppLoan2?0:this.statementForm.value.pppLoan2,lineofCreditPayable:""==this.statementForm.value.lineofCreditPayable2?0:this.statementForm.value.lineofCreditPayable2,taxId:this.taxId,vendorId:this.vendorId,companyId:this.companyId},g={id:this.statementForm.value.id3,yearStr:"4",financialGrade:"",isDataAvailable:!0,financialYearEndDate:null!==(o=this.statementForm.value.financialYearEndDate3)&&void 0!==o?o:p,cashEquivalents:""==this.statementForm.value.cashEquivalents3?0:this.statementForm.value.cashEquivalents3,accountsReceivableRetainage:""==this.statementForm.value.accountsReceivableRetainage3?0:this.statementForm.value.accountsReceivableRetainage3,marketableSecurities:""==this.statementForm.value.marketableSecurities3?0:this.statementForm.value.marketableSecurities3,underbillings:""==this.statementForm.value.underbillings3?0:this.statementForm.value.underbillings3,totalCurrentAssets:""==this.statementForm.value.totalCurrentAssets3?0:this.statementForm.value.totalCurrentAssets3,intagibleAssets:""==this.statementForm.value.intagibleAssets3?0:this.statementForm.value.intagibleAssets3,totalLiabilities:""==this.statementForm.value.totalLiabilities3?0:this.statementForm.value.totalLiabilities3,totalAssets:""==this.statementForm.value.totalAssets3?0:this.statementForm.value.totalAssets3,accountsPayableRetainage:""==this.statementForm.value.accountsPayableRetainage3?0:this.statementForm.value.accountsPayableRetainage3,overbillings:""==this.statementForm.value.overbillings3?0:this.statementForm.value.overbillings3,totalCurrentLiabilities:""==this.statementForm.value.totalCurrentLiabilities3?0:this.statementForm.value.totalCurrentLiabilities3,equity:""==this.statementForm.value.equity3?0:this.statementForm.value.equity3,revenue:""==this.statementForm.value.revenue3?0:this.statementForm.value.revenue3,costOfGoodSold:""==this.statementForm.value.costOfGoodSold3?0:this.statementForm.value.costOfGoodSold3,netIncomeBeforeTaxes:""==this.statementForm.value.netIncomeBeforeTaxes3?0:this.statementForm.value.netIncomeBeforeTaxes3,backlogLast:""==this.statementForm.value.backlogLast3?0:this.statementForm.value.backlogLast3,lineofCredit:""==this.statementForm.value.lineofCredit3?0:this.statementForm.value.lineofCredit3,unusedLineofCredit:""==this.statementForm.value.unusedLineofCredit3?0:this.statementForm.value.unusedLineofCredit3,dbPayIndex:""==this.statementForm.value.dbPayIndex3?0:this.statementForm.value.dbPayIndex3,pppLoan:""==this.statementForm.value.pppLoan3?0:this.statementForm.value.pppLoan3,lineofCreditPayable:""==this.statementForm.value.lineofCreditPayable3?0:this.statementForm.value.lineofCreditPayable3,taxId:this.taxId,vendorId:this.vendorId,companyId:this.companyId};_.financialYearEndDate&&"0000-12-31"!=_.financialYearEndDate.toString()&&"0001-01-01"!=_.financialYearEndDate.toString()?this.financialstatementdataservice.addRecords(r,_,v,g).subscribe(C=>{this.gridLoad()}):this.toastr.error("Please fill the Last year end date","Financial Comment")}}calculate(){this.isInterim?this.financialstatementdataservice.addInterimRecord({id:this.statementForm.value.interimid,yearStr:"0",financialGrade:this.outputForm.value.financialGradeinterim,isDataAvailable:!0,financialYearEndDate:this.statementForm.value.interimfinancialYearEndDate,cashEquivalents:this.statementForm.value.interimcashEquivalents,accountsReceivableRetainage:this.statementForm.value.interimaccountsReceivableRetainage,marketableSecurities:this.statementForm.value.interimmarketableSecurities,underbillings:this.statementForm.value.interimunderbillings,totalCurrentAssets:this.statementForm.value.interimtotalCurrentAssets,totalLiabilities:this.statementForm.value.interimtotalLiabilities,intagibleAssets:this.statementForm.value.interimintagibleAssets,totalAssets:this.statementForm.value.interimtotalAssets,accountsPayableRetainage:this.statementForm.value.interimaccountsPayableRetainage,overbillings:this.statementForm.value.interimoverbillings,totalCurrentLiabilities:this.statementForm.value.interimtotalCurrentLiabilities,equity:this.statementForm.value.interimequity,revenue:this.statementForm.value.interimrevenue,costOfGoodSold:this.statementForm.value.interimcostOfGoodSold,netIncomeBeforeTaxes:this.statementForm.value.interimnetIncomeBeforeTaxes,backlogLast:this.statementForm.value.interimbacklogLast,lineofCredit:this.statementForm.value.interimlineofCredit,unusedLineofCredit:this.statementForm.value.interimunusedLineofCredit,dbPayIndex:this.statementForm.value.interimdbPayIndex,pppLoan:this.statementForm.value.interimpppLoan,lineofCreditPayable:this.statementForm.value.interimlineofCreditPayable,taxId:this.taxId,vendorId:this.vendorId,companyId:this.companyId}).subscribe(i=>{this.financialstatementdataservice.addCalculateInterim({type:"financial",taxId:this.taxId,vendorId:this.vendorId,FinanceDate:this.statementForm.value.interimfinancialYearEndDate}).subscribe(r=>{console.log(r)}),this.gridLoad()}):this.calculateNormal()}calculateNormal(){if(this.statementForm.patchValue({companyId:this.companyId}),this.statementForm.valid){if("0000-12-31"==this.statementForm.value.financialYearEndDate1&&(""!=this.statementForm.value.cashEquivalents1||""!=this.statementForm.value.accountsReceivableRetainage1||""!=this.statementForm.value.marketableSecurities1||""!=this.statementForm.value.underbillings1||""!=this.statementForm.value.totalCurrentAssets1||""!=this.statementForm.value.intagibleAssets1||""!=this.statementForm.value.totalAssets1||""!=this.statementForm.value.accountsPayableRetainage1||""!=this.statementForm.value.overbillings1||""!=this.statementForm.value.totalCurrentLiabilities1||""!=this.statementForm.value.totalLiabilities1||""!=this.statementForm.value.equity1||""!=this.statementForm.value.revenue1||""!=this.statementForm.value.costOfGoodSold1||""!=this.statementForm.value.netIncomeBeforeTaxes1||""!=this.statementForm.value.backlogLast1||""!=this.statementForm.value.lineofCredit1||""!=this.statementForm.value.unusedLineofCredit1||""!=this.statementForm.value.dbPayIndex1||""!=this.statementForm.value.pppLoan1||""!=this.statementForm.value.lineofCreditPayable1))return void this.toastr.error("Please fill the financial year 1","Financial Comment");if("0000-12-31"==this.statementForm.value.financialYearEndDate2&&(""!=this.statementForm.value.cashEquivalents2||""!=this.statementForm.value.accountsReceivableRetainage2||""!=this.statementForm.value.marketableSecurities2||""!=this.statementForm.value.underbillings2||""!=this.statementForm.value.totalCurrentAssets2||""!=this.statementForm.value.intagibleAssets2||""!=this.statementForm.value.totalAssets2||""!=this.statementForm.value.accountsPayableRetainage2||""!=this.statementForm.value.overbillings2||""!=this.statementForm.value.totalCurrentLiabilities2||""!=this.statementForm.value.totalLiabilities2||""!=this.statementForm.value.equity2||""!=this.statementForm.value.revenue2||""!=this.statementForm.value.costOfGoodSold2||""!=this.statementForm.value.netIncomeBeforeTaxes2||""!=this.statementForm.value.backlogLast2||""!=this.statementForm.value.lineofCredit2||""!=this.statementForm.value.unusedLineofCredit2||""!=this.statementForm.value.dbPayIndex2||""!=this.statementForm.value.pppLoan2||""!=this.statementForm.value.lineofCreditPayable2))return void this.toastr.error("Please fill the financial year 2","Financial Comment");if("0000-12-31"==this.statementForm.value.financialYearEndDate3&&(""!=this.statementForm.value.cashEquivalents3||""!=this.statementForm.value.accountsReceivableRetainage3||""!=this.statementForm.value.marketableSecurities3||""!=this.statementForm.value.underbillings3||""!=this.statementForm.value.totalCurrentAssets3||""!=this.statementForm.value.intagibleAssets3||""!=this.statementForm.value.totalAssets3||""!=this.statementForm.value.accountsPayableRetainage3||""!=this.statementForm.value.overbillings3||""!=this.statementForm.value.totalCurrentLiabilities3||""!=this.statementForm.value.totalLiabilities3||""!=this.statementForm.value.equity3||""!=this.statementForm.value.revenue3||""!=this.statementForm.value.costOfGoodSold3||""!=this.statementForm.value.netIncomeBeforeTaxes3||""!=this.statementForm.value.backlogLast3||""!=this.statementForm.value.lineofCredit3||""!=this.statementForm.value.unusedLineofCredit3||""!=this.statementForm.value.dbPayIndex3||""!=this.statementForm.value.pppLoan3||""!=this.statementForm.value.lineofCreditPayable3))return void this.toastr.error("Please fill the financial year 3","Financial Comment");let t={id:this.statementForm.value.id,yearStr:"1",financialGrade:"1",isDataAvailable:!0,financialYearEndDate:this.statementForm.value.financialYearEndDate,cashEquivalents:this.statementForm.value.cashEquivalents,accountsReceivableRetainage:this.statementForm.value.accountsReceivableRetainage,marketableSecurities:this.statementForm.value.marketableSecurities,underbillings:this.statementForm.value.underbillings,totalCurrentAssets:this.statementForm.value.totalCurrentAssets,intagibleAssets:this.statementForm.value.intagibleAssets,totalAssets:this.statementForm.value.totalAssets,accountsPayableRetainage:this.statementForm.value.accountsPayableRetainage,overbillings:this.statementForm.value.overbillings,totalCurrentLiabilities:this.statementForm.value.totalCurrentLiabilities,totalLiabilities:this.statementForm.value.totalLiabilities,equity:this.statementForm.value.equity,revenue:this.statementForm.value.revenue,costOfGoodSold:this.statementForm.value.costOfGoodSold,netIncomeBeforeTaxes:this.statementForm.value.netIncomeBeforeTaxes,backlogLast:this.statementForm.value.backlogLast,lineofCredit:this.statementForm.value.lineofCredit,unusedLineofCredit:this.statementForm.value.unusedLineofCredit,dbPayIndex:this.statementForm.value.dbPayIndex,pppLoan:this.statementForm.value.pppLoan,lineofCreditPayable:this.statementForm.value.lineofCreditPayable,taxId:this.taxId,vendorId:this.vendorId,companyId:this.companyId};const i=new Date;i.getFullYear(),i.getFullYear(),i.getFullYear(),this.financialstatementdataservice.addRecords(t,{id:this.statementForm.value.id1,yearStr:"2",financialGrade:"2",isDataAvailable:!0,financialYearEndDate:this.statementForm.value.financialYearEndDate1,cashEquivalents:""==this.statementForm.value.cashEquivalents1?0:this.statementForm.value.cashEquivalents1,accountsReceivableRetainage:""==this.statementForm.value.accountsReceivableRetainage1?0:this.statementForm.value.accountsReceivableRetainage1,marketableSecurities:""==this.statementForm.value.marketableSecurities1?0:this.statementForm.value.marketableSecurities1,underbillings:""==this.statementForm.value.underbillings1?0:this.statementForm.value.underbillings1,totalCurrentAssets:""==this.statementForm.value.totalCurrentAssets1?0:this.statementForm.value.totalCurrentAssets1,intagibleAssets:""==this.statementForm.value.intagibleAssets1?0:this.statementForm.value.intagibleAssets1,totalAssets:""==this.statementForm.value.totalAssets1?0:this.statementForm.value.totalAssets1,accountsPayableRetainage:""==this.statementForm.value.accountsPayableRetainage1?0:this.statementForm.value.accountsPayableRetainage1,overbillings:""==this.statementForm.value.overbillings1?0:this.statementForm.value.overbillings1,totalCurrentLiabilities:""==this.statementForm.value.totalCurrentLiabilities1?0:this.statementForm.value.totalCurrentLiabilities1,totalLiabilities:""==this.statementForm.value.totalLiabilities1?0:this.statementForm.value.totalLiabilities1,equity:""==this.statementForm.value.equity1?0:this.statementForm.value.equity1,revenue:""==this.statementForm.value.revenue1?0:this.statementForm.value.revenue1,costOfGoodSold:""==this.statementForm.value.costOfGoodSold1?0:this.statementForm.value.costOfGoodSold1,netIncomeBeforeTaxes:""==this.statementForm.value.netIncomeBeforeTaxes1?0:this.statementForm.value.netIncomeBeforeTaxes1,backlogLast:""==this.statementForm.value.backlogLast1?0:this.statementForm.value.backlogLast1,lineofCredit:""==this.statementForm.value.lineofCredit1?0:this.statementForm.value.lineofCredit1,unusedLineofCredit:""==this.statementForm.value.unusedLineofCredit1?0:this.statementForm.value.unusedLineofCredit1,dbPayIndex:""==this.statementForm.value.dbPayIndex1?0:this.statementForm.value.dbPayIndex1,pppLoan:""==this.statementForm.value.pppLoan1?0:this.statementForm.value.pppLoan1,lineofCreditPayable:""==this.statementForm.value.lineofCreditPayable1?0:this.statementForm.value.lineofCreditPayable1,taxId:this.taxId,vendorId:this.vendorId,companyId:this.companyId},{id:this.statementForm.value.id2,yearStr:"3",financialGrade:"",isDataAvailable:!0,financialYearEndDate:this.statementForm.value.financialYearEndDate2,cashEquivalents:""==this.statementForm.value.cashEquivalents2?0:this.statementForm.value.cashEquivalents2,accountsReceivableRetainage:""==this.statementForm.value.accountsReceivableRetainage2?0:this.statementForm.value.accountsReceivableRetainage2,marketableSecurities:""==this.statementForm.value.marketableSecurities2?0:this.statementForm.value.marketableSecurities2,underbillings:""==this.statementForm.value.underbillings2?0:this.statementForm.value.underbillings2,totalCurrentAssets:""==this.statementForm.value.totalCurrentAssets2?0:this.statementForm.value.totalCurrentAssets2,intagibleAssets:""==this.statementForm.value.intagibleAssets2?0:this.statementForm.value.intagibleAssets2,totalAssets:""==this.statementForm.value.totalAssets2?0:this.statementForm.value.totalAssets2,accountsPayableRetainage:""==this.statementForm.value.accountsPayableRetainage2?0:this.statementForm.value.accountsPayableRetainage2,overbillings:""==this.statementForm.value.overbillings2?0:this.statementForm.value.overbillings2,totalCurrentLiabilities:""==this.statementForm.value.totalCurrentLiabilities2?0:this.statementForm.value.totalCurrentLiabilities2,totalLiabilities:""==this.statementForm.value.totalLiabilities2?0:this.statementForm.value.totalLiabilities2,equity:""==this.statementForm.value.equity2?0:this.statementForm.value.equity2,revenue:""==this.statementForm.value.revenue2?0:this.statementForm.value.revenue2,costOfGoodSold:""==this.statementForm.value.costOfGoodSold2?0:this.statementForm.value.costOfGoodSold2,netIncomeBeforeTaxes:""==this.statementForm.value.netIncomeBeforeTaxes2?0:this.statementForm.value.netIncomeBeforeTaxes2,backlogLast:""==this.statementForm.value.backlogLast2?0:this.statementForm.value.backlogLast2,lineofCredit:""==this.statementForm.value.lineofCredit2?0:this.statementForm.value.lineofCredit2,unusedLineofCredit:""==this.statementForm.value.unusedLineofCredit2?0:this.statementForm.value.unusedLineofCredit2,dbPayIndex:""==this.statementForm.value.dbPayIndex2?0:this.statementForm.value.dbPayIndex2,pppLoan:""==this.statementForm.value.pppLoan2?0:this.statementForm.value.pppLoan2,lineofCreditPayable:""==this.statementForm.value.lineofCreditPayable2?0:this.statementForm.value.lineofCreditPayable2,taxId:this.taxId,vendorId:this.vendorId,companyId:this.companyId},{id:this.statementForm.value.id3,yearStr:"4",financialGrade:"",isDataAvailable:!0,financialYearEndDate:this.statementForm.value.financialYearEndDate3,cashEquivalents:""==this.statementForm.value.cashEquivalents3?0:this.statementForm.value.cashEquivalents3,accountsReceivableRetainage:""==this.statementForm.value.accountsReceivableRetainage3?0:this.statementForm.value.accountsReceivableRetainage3,marketableSecurities:""==this.statementForm.value.marketableSecurities3?0:this.statementForm.value.marketableSecurities3,underbillings:""==this.statementForm.value.underbillings3?0:this.statementForm.value.underbillings3,totalCurrentAssets:""==this.statementForm.value.totalCurrentAssets3?0:this.statementForm.value.totalCurrentAssets3,intagibleAssets:""==this.statementForm.value.intagibleAssets3?0:this.statementForm.value.intagibleAssets3,totalAssets:""==this.statementForm.value.totalAssets3?0:this.statementForm.value.totalAssets3,accountsPayableRetainage:""==this.statementForm.value.accountsPayableRetainage3?0:this.statementForm.value.accountsPayableRetainage3,overbillings:""==this.statementForm.value.overbillings3?0:this.statementForm.value.overbillings3,totalCurrentLiabilities:""==this.statementForm.value.totalCurrentLiabilities3?0:this.statementForm.value.totalCurrentLiabilities3,totalLiabilities:""==this.statementForm.value.totalLiabilities3?0:this.statementForm.value.totalLiabilities3,equity:""==this.statementForm.value.equity3?0:this.statementForm.value.equity3,revenue:""==this.statementForm.value.revenue3?0:this.statementForm.value.revenue3,costOfGoodSold:""==this.statementForm.value.costOfGoodSold3?0:this.statementForm.value.costOfGoodSold3,netIncomeBeforeTaxes:""==this.statementForm.value.netIncomeBeforeTaxes3?0:this.statementForm.value.netIncomeBeforeTaxes3,backlogLast:""==this.statementForm.value.backlogLast3?0:this.statementForm.value.backlogLast3,lineofCredit:""==this.statementForm.value.lineofCredit3?0:this.statementForm.value.lineofCredit3,unusedLineofCredit:""==this.statementForm.value.unusedLineofCredit3?0:this.statementForm.value.unusedLineofCredit3,dbPayIndex:""==this.statementForm.value.dbPayIndex3?0:this.statementForm.value.dbPayIndex3,pppLoan:""==this.statementForm.value.pppLoan3?0:this.statementForm.value.pppLoan3,lineofCreditPayable:""==this.statementForm.value.lineofCreditPayable3?0:this.statementForm.value.lineofCreditPayable3,taxId:this.taxId,vendorId:this.vendorId,companyId:this.companyId}).subscribe(_=>{this.financialstatementdataservice.addCalculate({type:"financial",taxId:this.taxId,vendorId:this.vendorId,FinanceDate:this.statementForm.value.financialYearEndDate},{type:"financial",taxId:this.taxId,vendorId:this.vendorId,FinanceDate:this.statementForm.value.financialYearEndDate1},{type:"financial",taxId:this.taxId,vendorId:this.vendorId,FinanceDate:this.statementForm.value.financialYearEndDate2},{type:"financial",taxId:this.taxId,vendorId:this.vendorId,FinanceDate:this.statementForm.value.financialYearEndDate3}).subscribe(w=>{this.gridLoad()})})}else this.toastr.success("Please fill the required field","Financial Comment")}letterOnly(t){var i=t.keyCode;return i>64&&i<91||i>96&&i<123||8==i}saveOther1(t){if(this.statementForm.valid||""==t){if("0000-12-31"==this.statementForm.value.financialYearEndDate1&&(""!=this.statementForm.value.cashEquivalents1||""!=this.statementForm.value.accountsReceivableRetainage1||""!=this.statementForm.value.marketableSecurities1||""!=this.statementForm.value.underbillings1||""!=this.statementForm.value.totalCurrentAssets1||""!=this.statementForm.value.intagibleAssets1||""!=this.statementForm.value.totalAssets1||""!=this.statementForm.value.accountsPayableRetainage1||""!=this.statementForm.value.overbillings1||""!=this.statementForm.value.totalCurrentLiabilities1||""!=this.statementForm.value.totalLiabilities1||""!=this.statementForm.value.equity1||""!=this.statementForm.value.revenue1||""!=this.statementForm.value.costOfGoodSold1||""!=this.statementForm.value.netIncomeBeforeTaxes1||""!=this.statementForm.value.backlogLast1||""!=this.statementForm.value.lineofCredit1||""!=this.statementForm.value.unusedLineofCredit1||""!=this.statementForm.value.dbPayIndex1||""!=this.statementForm.value.pppLoan1||""!=this.statementForm.value.lineofCreditPayable1))return void this.toastr.error("Please fill the financial year 1","Financial Comment");if("0000-12-31"==this.statementForm.value.financialYearEndDate2&&(""!=this.statementForm.value.cashEquivalents2||""!=this.statementForm.value.accountsReceivableRetainage2||""!=this.statementForm.value.marketableSecurities2||""!=this.statementForm.value.underbillings2||""!=this.statementForm.value.totalCurrentAssets2||""!=this.statementForm.value.intagibleAssets2||""!=this.statementForm.value.totalAssets2||""!=this.statementForm.value.accountsPayableRetainage2||""!=this.statementForm.value.overbillings2||""!=this.statementForm.value.totalCurrentLiabilities2||""!=this.statementForm.value.totalLiabilities2||""!=this.statementForm.value.equity2||""!=this.statementForm.value.revenue2||""!=this.statementForm.value.costOfGoodSold2||""!=this.statementForm.value.netIncomeBeforeTaxes2||""!=this.statementForm.value.backlogLast2||""!=this.statementForm.value.lineofCredit2||""!=this.statementForm.value.unusedLineofCredit2||""!=this.statementForm.value.dbPayIndex2||""!=this.statementForm.value.pppLoan2||""!=this.statementForm.value.lineofCreditPayable2))return void this.toastr.error("Please fill the financial year 2","Financial Comment");if("0000-12-31"==this.statementForm.value.financialYearEndDate3&&(""!=this.statementForm.value.cashEquivalents3||""!=this.statementForm.value.accountsReceivableRetainage3||""!=this.statementForm.value.marketableSecurities3||""!=this.statementForm.value.underbillings3||""!=this.statementForm.value.totalCurrentAssets3||""!=this.statementForm.value.intagibleAssets3||""!=this.statementForm.value.totalAssets3||""!=this.statementForm.value.accountsPayableRetainage3||""!=this.statementForm.value.overbillings3||""!=this.statementForm.value.totalCurrentLiabilities3||""!=this.statementForm.value.totalLiabilities3||""!=this.statementForm.value.equity3||""!=this.statementForm.value.revenue3||""!=this.statementForm.value.costOfGoodSold3||""!=this.statementForm.value.netIncomeBeforeTaxes3||""!=this.statementForm.value.backlogLast3||""!=this.statementForm.value.lineofCredit3||""!=this.statementForm.value.unusedLineofCredit3||""!=this.statementForm.value.dbPayIndex3||""!=this.statementForm.value.pppLoan3||""!=this.statementForm.value.lineofCreditPayable3))return void this.toastr.error("Please fill the financial year 3","Financial Comment");""!=t&&this.dialog.open(ue,{width:"350px",data:"Are you sure you want to submit Finance?"}).afterClosed().subscribe(o=>{"Yes"==o&&this.saveOther("Final")})}}padTo2Digits(t){return t.toString().padStart(2,"0")}formatDate(t){return[this.padTo2Digits(t.getMonth()+1),this.padTo2Digits(t.getDate()),t.getFullYear()].join("/")}saveOther(t){if(this.statementForm.patchValue({companyId:this.companyId}),this.isInterim)this.financialstatementdataservice.addInterimRecord({id:this.statementForm.value.interimid,yearStr:"0",financialGrade:this.outputForm.value.financialGradeinterim,isDataAvailable:!0,financialYearEndDate:this.statementForm.value.interimfinancialYearEndDate,cashEquivalents:this.statementForm.value.interimcashEquivalents,accountsReceivableRetainage:this.statementForm.value.interimaccountsReceivableRetainage,marketableSecurities:this.statementForm.value.interimmarketableSecurities,underbillings:this.statementForm.value.interimunderbillings,totalCurrentAssets:this.statementForm.value.interimtotalCurrentAssets,totalLiabilities:this.statementForm.value.interimtotalLiabilities,intagibleAssets:this.statementForm.value.interimintagibleAssets,totalAssets:this.statementForm.value.interimtotalAssets,accountsPayableRetainage:this.statementForm.value.interimaccountsPayableRetainage,overbillings:this.statementForm.value.interimoverbillings,totalCurrentLiabilities:this.statementForm.value.interimtotalCurrentLiabilities,equity:this.statementForm.value.interimequity,revenue:this.statementForm.value.interimrevenue,costOfGoodSold:this.statementForm.value.interimcostOfGoodSold,netIncomeBeforeTaxes:this.statementForm.value.interimnetIncomeBeforeTaxes,backlogLast:this.statementForm.value.interimbacklogLast,lineofCredit:this.statementForm.value.interimlineofCredit,unusedLineofCredit:this.statementForm.value.interimunusedLineofCredit,dbPayIndex:this.statementForm.value.interimdbPayIndex,pppLoan:this.statementForm.value.interimpppLoan,lineofCreditPayable:this.statementForm.value.interimlineofCreditPayable,taxId:this.taxId,vendorId:this.vendorId,companyId:this.companyId}).subscribe(o=>{console.log(o),this.gridLoad()});else{let i={id:this.statementForm.value.id,financialYearEndDate:this.statementForm.value.financialYearEndDate,taxId:this.taxId,vendorId:this.vendorId,companyId:this.companyId,financialGrade:this.outputForm.value.financialGrade,cashEquivalents:this.statementForm.value.cashEquivalents,accountsReceivableRetainage:this.statementForm.value.accountsReceivableRetainage,marketableSecurities:this.statementForm.value.marketableSecurities,underbillings:this.statementForm.value.underbillings,totalCurrentAssets:this.statementForm.value.totalCurrentAssets,intagibleAssets:this.statementForm.value.intagibleAssets,totalAssets:this.statementForm.value.totalAssets,accountsPayableRetainage:this.statementForm.value.accountsPayableRetainage,overbillings:this.statementForm.value.overbillings,totalCurrentLiabilities:this.statementForm.value.totalCurrentLiabilities,totalLiabilities:this.statementForm.value.totalLiabilities,equity:this.statementForm.value.equity,revenue:this.statementForm.value.revenue,costOfGoodSold:this.statementForm.value.costOfGoodSold,netIncomeBeforeTaxes:this.statementForm.value.netIncomeBeforeTaxes,backlogLast:this.statementForm.value.backlogLast,lineofCredit:this.statementForm.value.lineofCredit,unusedLineofCredit:this.statementForm.value.unusedLineofCredit,dbPayIndex:this.statementForm.value.dbPayIndex,pppLoan:this.statementForm.value.pppLoan,lineofCreditPayable:this.statementForm.value.lineofCreditPayable};const o=new Date;o.getFullYear(),o.getFullYear(),o.getFullYear(),this.financialstatementdataservice.addRecords(i,{id:this.statementForm.value.id1,financialYearEndDate:this.statementForm.value.financialYearEndDate1,taxId:this.taxId,vendorId:this.vendorId,companyId:this.companyId,financialGrade:this.outputForm.value.financialGrade1,cashEquivalents:""==this.statementForm.value.cashEquivalents1?0:this.statementForm.value.cashEquivalents1,accountsReceivableRetainage:""==this.statementForm.value.accountsReceivableRetainage1?0:this.statementForm.value.accountsReceivableRetainage1,marketableSecurities:""==this.statementForm.value.marketableSecurities1?0:this.statementForm.value.marketableSecurities1,underbillings:""==this.statementForm.value.underbillings1?0:this.statementForm.value.underbillings1,totalCurrentAssets:""==this.statementForm.value.totalCurrentAssets1?0:this.statementForm.value.totalCurrentAssets1,intagibleAssets:""==this.statementForm.value.intagibleAssets1?0:this.statementForm.value.intagibleAssets1,totalAssets:""==this.statementForm.value.totalAssets1?0:this.statementForm.value.totalAssets1,accountsPayableRetainage:""==this.statementForm.value.accountsPayableRetainage1?0:this.statementForm.value.accountsPayableRetainage1,overbillings:""==this.statementForm.value.overbillings1?0:this.statementForm.value.overbillings1,totalCurrentLiabilities:""==this.statementForm.value.totalCurrentLiabilities1?0:this.statementForm.value.totalCurrentLiabilities1,totalLiabilities:""==this.statementForm.value.totalLiabilities1?0:this.statementForm.value.totalLiabilities1,equity:""==this.statementForm.value.equity1?0:this.statementForm.value.equity1,revenue:""==this.statementForm.value.revenue1?0:this.statementForm.value.revenue1,costOfGoodSold:""==this.statementForm.value.costOfGoodSold1?0:this.statementForm.value.costOfGoodSold1,netIncomeBeforeTaxes:""==this.statementForm.value.netIncomeBeforeTaxes1?0:this.statementForm.value.netIncomeBeforeTaxes1,backlogLast:""==this.statementForm.value.backlogLast1?0:this.statementForm.value.backlogLast1,lineofCredit:""==this.statementForm.value.lineofCredit1?0:this.statementForm.value.lineofCredit1,unusedLineofCredit:""==this.statementForm.value.unusedLineofCredit1?0:this.statementForm.value.unusedLineofCredit1,dbPayIndex:""==this.statementForm.value.dbPayIndex1?0:this.statementForm.value.dbPayIndex1,pppLoan:""==this.statementForm.value.pppLoan1?0:this.statementForm.value.pppLoan1,lineofCreditPayable:""==this.statementForm.value.lineofCreditPayable1?0:this.statementForm.value.lineofCreditPayable1},{id:this.statementForm.value.id2,financialYearEndDate:this.statementForm.value.financialYearEndDate2,taxId:this.taxId,vendorId:this.vendorId,companyId:this.companyId,financialGrade:this.outputForm.value.financialGrade2,cashEquivalents:""==this.statementForm.value.cashEquivalents2?0:this.statementForm.value.cashEquivalents2,accountsReceivableRetainage:""==this.statementForm.value.accountsReceivableRetainage2?0:this.statementForm.value.accountsReceivableRetainage2,marketableSecurities:""==this.statementForm.value.marketableSecurities2?0:this.statementForm.value.marketableSecurities2,underbillings:""==this.statementForm.value.underbillings2?0:this.statementForm.value.underbillings2,totalCurrentAssets:""==this.statementForm.value.totalCurrentAssets2?0:this.statementForm.value.totalCurrentAssets2,intagibleAssets:""==this.statementForm.value.intagibleAssets2?0:this.statementForm.value.intagibleAssets2,totalAssets:""==this.statementForm.value.totalAssets2?0:this.statementForm.value.totalAssets2,accountsPayableRetainage:""==this.statementForm.value.accountsPayableRetainage2?0:this.statementForm.value.accountsPayableRetainage2,overbillings:""==this.statementForm.value.overbillings2?0:this.statementForm.value.overbillings2,totalCurrentLiabilities:""==this.statementForm.value.totalCurrentLiabilities2?0:this.statementForm.value.totalCurrentLiabilities2,totalLiabilities:""==this.statementForm.value.totalLiabilities2?0:this.statementForm.value.totalLiabilities2,equity:""==this.statementForm.value.equity2?0:this.statementForm.value.equity2,revenue:""==this.statementForm.value.revenue2?0:this.statementForm.value.revenue2,costOfGoodSold:""==this.statementForm.value.costOfGoodSold2?0:this.statementForm.value.costOfGoodSold2,netIncomeBeforeTaxes:""==this.statementForm.value.netIncomeBeforeTaxes2?0:this.statementForm.value.netIncomeBeforeTaxes2,backlogLast:""==this.statementForm.value.backlogLast2?0:this.statementForm.value.backlogLast2,lineofCredit:""==this.statementForm.value.lineofCredit2?0:this.statementForm.value.lineofCredit2,unusedLineofCredit:""==this.statementForm.value.unusedLineofCredit2?0:this.statementForm.value.unusedLineofCredit2,dbPayIndex:""==this.statementForm.value.dbPayIndex2?0:this.statementForm.value.dbPayIndex2,pppLoan:""==this.statementForm.value.pppLoan2?0:this.statementForm.value.pppLoan2,lineofCreditPayable:""==this.statementForm.value.lineofCreditPayable2?0:this.statementForm.value.lineofCreditPayable2},{id:this.statementForm.value.id3,financialYearEndDate:this.statementForm.value.financialYearEndDate3,taxId:this.taxId,vendorId:this.vendorId,companyId:this.companyId,financialGrade:this.outputForm.value.financialGrade3,cashEquivalents:""==this.statementForm.value.cashEquivalents3?0:this.statementForm.value.cashEquivalents3,accountsReceivableRetainage:""==this.statementForm.value.accountsReceivableRetainage3?0:this.statementForm.value.accountsReceivableRetainage3,marketableSecurities:""==this.statementForm.value.marketableSecurities3?0:this.statementForm.value.marketableSecurities3,underbillings:""==this.statementForm.value.underbillings3?0:this.statementForm.value.underbillings3,totalCurrentAssets:""==this.statementForm.value.totalCurrentAssets3?0:this.statementForm.value.totalCurrentAssets3,intagibleAssets:""==this.statementForm.value.intagibleAssets3?0:this.statementForm.value.intagibleAssets3,totalAssets:""==this.statementForm.value.totalAssets3?0:this.statementForm.value.totalAssets3,accountsPayableRetainage:""==this.statementForm.value.accountsPayableRetainage3?0:this.statementForm.value.accountsPayableRetainage3,overbillings:""==this.statementForm.value.overbillings3?0:this.statementForm.value.overbillings3,totalCurrentLiabilities:""==this.statementForm.value.totalCurrentLiabilities3?0:this.statementForm.value.totalCurrentLiabilities3,totalLiabilities:""==this.statementForm.value.totalLiabilities3?0:this.statementForm.value.totalLiabilities3,equity:""==this.statementForm.value.equity3?0:this.statementForm.value.equity3,revenue:""==this.statementForm.value.revenue3?0:this.statementForm.value.revenue3,costOfGoodSold:""==this.statementForm.value.costOfGoodSold3?0:this.statementForm.value.costOfGoodSold3,netIncomeBeforeTaxes:""==this.statementForm.value.netIncomeBeforeTaxes3?0:this.statementForm.value.netIncomeBeforeTaxes3,backlogLast:""==this.statementForm.value.backlogLast3?0:this.statementForm.value.backlogLast3,lineofCredit:""==this.statementForm.value.lineofCredit3?0:this.statementForm.value.lineofCredit3,unusedLineofCredit:""==this.statementForm.value.unusedLineofCredit3?0:this.statementForm.value.unusedLineofCredit3,dbPayIndex:""==this.statementForm.value.dbPayIndex3?0:this.statementForm.value.dbPayIndex3,pppLoan:""==this.statementForm.value.pppLoan3?0:this.statementForm.value.pppLoan3,lineofCreditPayable:""==this.statementForm.value.lineofCreditPayable3?0:this.statementForm.value.lineofCreditPayable3}).subscribe(v=>{if(console.log("data",v),"Final"==t){let g=new FormData;g.append("PreQualification_Status","Financial Reviewed"),this.financialservice.updateOrgRecord(g,this.companyId).subscribe(C=>{this.gridLoad()})}})}}cancelInterim(){this.isInterim&&this.dialog.open(ue,{width:"350px",data:"Do you want to Cancel Interim Review, Are you sure ?"}).afterClosed().subscribe(i=>{console.log("The dialog was closed"),"Yes"==i&&this.financialstatementdataservice.cancelinterim(this.companyId).subscribe(o=>{})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(U.F0),e.Y36(s.qu),e.Y36(L._W),e.Y36(be),e.Y36(pe.h),e.Y36(te.uw),e.Y36(f.JJ))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-financial-statement"]],inputs:{companyId:"companyId",taxId:"taxId",vendorId:"vendorId"},decls:347,vars:141,consts:[[1,"section"],[2,"width","100%","text-align-last","center"],[1,"comment-section"],[1,"form",3,"formGroup","keydown.enter"],[1,"table"],[1,"headeryellow"],[1,"td"],["class","td",4,"ngFor","ngForOf"],[4,"ngIf"],["formControlName","financialYearEndDate","type","date","maxlength","10",1,"form-control"],["formControlName","financialYearEndDate1","type","date","maxlength","10",1,"form-control"],["formControlName","financialYearEndDate2","type","date","maxlength","10",1,"form-control"],["formControlName","financialYearEndDate3","type","date","maxlength","10",1,"form-control"],["formControlName","cashEquivalents",3,"textDispaly"],["formControlName","cashEquivalents1",3,"textDispaly"],["formControlName","cashEquivalents2",3,"textDispaly"],["formControlName","cashEquivalents3",3,"textDispaly"],["formControlName","accountsReceivableRetainage",3,"textDispaly"],["formControlName","accountsReceivableRetainage1",3,"textDispaly"],["formControlName","accountsReceivableRetainage2",3,"textDispaly"],["formControlName","accountsReceivableRetainage3",3,"textDispaly"],["formControlName","marketableSecurities",3,"textDispaly"],["formControlName","marketableSecurities1",3,"textDispaly"],["formControlName","marketableSecurities2",3,"textDispaly"],["formControlName","marketableSecurities3",3,"textDispaly"],["formControlName","underbillings",3,"textDispaly"],["formControlName","underbillings1",3,"textDispaly"],["formControlName","underbillings2",3,"textDispaly"],["formControlName","underbillings3",3,"textDispaly"],["formControlName","totalCurrentAssets",3,"textDispaly"],["formControlName","totalCurrentAssets1",3,"textDispaly"],["formControlName","totalCurrentAssets2",3,"textDispaly"],["formControlName","totalCurrentAssets3",3,"textDispaly"],["formControlName","intagibleAssets",3,"textDispaly"],["formControlName","intagibleAssets1",3,"textDispaly"],["formControlName","intagibleAssets2",3,"textDispaly"],["formControlName","intagibleAssets3",3,"textDispaly"],["formControlName","totalAssets",3,"textDispaly"],["formControlName","totalAssets1",3,"textDispaly"],["formControlName","totalAssets2",3,"textDispaly"],["formControlName","totalAssets3",3,"textDispaly"],["formControlName","accountsPayableRetainage",3,"textDispaly"],["formControlName","accountsPayableRetainage1",3,"textDispaly"],["formControlName","accountsPayableRetainage2",3,"textDispaly"],["formControlName","accountsPayableRetainage3",3,"textDispaly"],["formControlName","overbillings",3,"textDispaly"],["formControlName","overbillings1",3,"textDispaly"],["formControlName","overbillings2",3,"textDispaly"],["formControlName","overbillings3",3,"textDispaly"],["formControlName","totalCurrentLiabilities",3,"textDispaly"],["formControlName","totalCurrentLiabilities1",3,"textDispaly"],["formControlName","totalCurrentLiabilities2",3,"textDispaly"],["formControlName","totalCurrentLiabilities3",3,"textDispaly"],["formControlName","totalLiabilities",3,"textDispaly"],["formControlName","totalLiabilities1",3,"textDispaly"],["formControlName","totalLiabilities2",3,"textDispaly"],["formControlName","totalLiabilities3",3,"textDispaly"],["formControlName","equity",3,"textDispaly"],["formControlName","equity1",3,"textDispaly"],["formControlName","equity2",3,"textDispaly"],["formControlName","equity3",3,"textDispaly"],["formControlName","revenue",3,"textDispaly"],["formControlName","revenue1",3,"textDispaly"],["formControlName","revenue2",3,"textDispaly"],["formControlName","revenue3",3,"textDispaly"],["formControlName","costOfGoodSold",3,"textDispaly"],["formControlName","costOfGoodSold1",3,"textDispaly"],["formControlName","costOfGoodSold2",3,"textDispaly"],["formControlName","costOfGoodSold3",3,"textDispaly"],["formControlName","netIncomeBeforeTaxes",3,"textDispaly"],["formControlName","netIncomeBeforeTaxes1",3,"textDispaly"],["formControlName","netIncomeBeforeTaxes2",3,"textDispaly"],["formControlName","netIncomeBeforeTaxes3",3,"textDispaly"],["formControlName","backlogLast",3,"textDispaly"],["formControlName","backlogLast1",3,"textDispaly"],["formControlName","backlogLast2",3,"textDispaly"],["formControlName","backlogLast3",3,"textDispaly"],["formControlName","lineofCredit",3,"textDispaly"],["formControlName","lineofCredit1",3,"textDispaly"],["formControlName","lineofCredit2",3,"textDispaly"],["formControlName","lineofCredit3",3,"textDispaly"],["formControlName","unusedLineofCredit",3,"textDispaly"],["formControlName","unusedLineofCredit1",3,"textDispaly"],["formControlName","unusedLineofCredit2",3,"textDispaly"],["formControlName","unusedLineofCredit3",3,"textDispaly"],["formControlName","lineofCreditPayable",3,"textDispaly"],["formControlName","lineofCreditPayable1",3,"textDispaly"],["formControlName","lineofCreditPayable2",3,"textDispaly"],["formControlName","lineofCreditPayable3",3,"textDispaly"],["formControlName","dbPayIndex",3,"textDispaly"],["formControlName","dbPayIndex1",3,"textDispaly"],["formControlName","dbPayIndex2",3,"textDispaly"],["formControlName","dbPayIndex3",3,"textDispaly"],["formControlName","pppLoan",3,"textDispaly"],["formControlName","pppLoan1",3,"textDispaly"],["formControlName","pppLoan2",3,"textDispaly"],["formControlName","pppLoan3",3,"textDispaly"],[1,"row"],[1,"text-left","col-md-6"],[1,"btn","default-btn",3,"click"],[1,"col-md-6","text-end"],[2,"width","10%!important"],["style","width: 10%!important;",4,"ngFor","ngForOf"],[1,"headergreen"],[4,"ngFor","ngForOf"],["style","width: 10%!important;",4,"ngIf"],[1,"text-left","col-md-4"],[1,"col-md-4","text-end"],["class","btn default-btn ",3,"click",4,"ngIf"],["formControlName","interimfinancialYearEndDate","type","date","maxlength","10",1,"form-control"],["formControlName","interimcashEquivalents"],["formControlName","interimaccountsReceivableRetainage"],["formControlName","interimmarketableSecurities"],["formControlName","interimunderbillings"],["formControlName","interimtotalCurrentAssets"],["formControlName","interimintagibleAssets"],["formControlName","interimtotalAssets"],["formControlName","interimaccountsPayableRetainage"],["formControlName","interimoverbillings"],["formControlName","interimtotalCurrentLiabilities"],["formControlName","interimtotalLiabilities"],["formControlName","interimequity"],["formControlName","interimrevenue"],["formControlName","interimcostOfGoodSold"],["formControlName","interimnetIncomeBeforeTaxes"],["formControlName","interimbacklogLast"],["formControlName","interimlineofCredit"],["formControlName","interimunusedLineofCredit"],["formControlName","interimlineofCreditPayable"],["formControlName","interimdbPayIndex"],["formControlName","interimpppLoan"],[4,"ngIf","ngIfElse"],["loggedOut",""],["formControlName","financialGradeinterim","style","text-transform:uppercase","maxlength","1","class","form-control",3,"keypress",4,"ngIf"],["formControlName","financialGradeinterim","maxlength","1",1,"form-control",2,"text-transform","uppercase",3,"keypress"],["formControlName","financialGrade","maxlength","1",1,"form-control",2,"text-transform","uppercase",3,"keypress"],["formControlName","financialGrade1","maxlength","1",1,"form-control",2,"text-transform","uppercase",3,"keypress"],["formControlName","financialGrade2","maxlength","1",1,"form-control",2,"text-transform","uppercase",3,"keypress"],["formControlName","financialGrade3","maxlength","1",1,"form-control",2,"text-transform","uppercase",3,"keypress"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span"),e._uU(3,"Financial Statements \u2013 Risk enters info from subcontractor financial documents"),e.qZA()(),e.TgZ(4,"div",2)(5,"form",3),e.NdJ("keydown.enter",function(r){return r.preventDefault()}),e.TgZ(6,"table",4)(7,"tr")(8,"th",5),e._uU(9," Balance Sheet"),e.qZA()(),e.TgZ(10,"tr"),e._UZ(11,"td",6),e.YNc(12,la,2,1,"td",7),e.qZA(),e.TgZ(13,"tr")(14,"td"),e._uU(15,"Financial year end date"),e.qZA(),e.YNc(16,ca,2,0,"td",8),e.TgZ(17,"td"),e._UZ(18,"input",9),e.qZA(),e.TgZ(19,"td"),e._UZ(20,"input",10),e.qZA(),e.TgZ(21,"td"),e._UZ(22,"input",11),e.qZA(),e.TgZ(23,"td"),e._UZ(24,"input",12),e.qZA()(),e.TgZ(25,"tr")(26,"td"),e._uU(27,"Cash / Cash Equivalents"),e.qZA(),e.YNc(28,da,2,0,"td",8),e.TgZ(29,"td"),e._UZ(30,"app-financial-input",13),e.qZA(),e.TgZ(31,"td"),e._UZ(32,"app-financial-input",14),e.qZA(),e.TgZ(33,"td"),e._UZ(34,"app-financial-input",15),e.qZA(),e.TgZ(35,"td"),e._UZ(36,"app-financial-input",16),e.qZA()(),e.TgZ(37,"tr")(38,"td"),e._uU(39,"Accounts Receivables & Retainage"),e.qZA(),e.YNc(40,pa,2,0,"td",8),e.TgZ(41,"td"),e._UZ(42,"app-financial-input",17),e.qZA(),e.TgZ(43,"td"),e._UZ(44,"app-financial-input",18),e.qZA(),e.TgZ(45,"td"),e._UZ(46,"app-financial-input",19),e.qZA(),e.TgZ(47,"td"),e._UZ(48,"app-financial-input",20),e.qZA()(),e.TgZ(49,"tr")(50,"td"),e._uU(51,"Marketable Securities"),e.qZA(),e.YNc(52,ua,2,0,"td",8),e.TgZ(53,"td"),e._UZ(54,"app-financial-input",21),e.qZA(),e.TgZ(55,"td"),e._UZ(56,"app-financial-input",22),e.qZA(),e.TgZ(57,"td"),e._UZ(58,"app-financial-input",23),e.qZA(),e.TgZ(59,"td"),e._UZ(60,"app-financial-input",24),e.qZA()(),e.TgZ(61,"tr")(62,"td"),e._uU(63,"Under billings"),e.qZA(),e.YNc(64,ma,2,0,"td",8),e.TgZ(65,"td"),e._UZ(66,"app-financial-input",25),e.qZA(),e.TgZ(67,"td"),e._UZ(68,"app-financial-input",26),e.qZA(),e.TgZ(69,"td"),e._UZ(70,"app-financial-input",27),e.qZA(),e.TgZ(71,"td"),e._UZ(72,"app-financial-input",28),e.qZA()(),e.TgZ(73,"tr")(74,"td"),e._uU(75,"Total Current Assets"),e.qZA(),e.YNc(76,_a,2,0,"td",8),e.TgZ(77,"td"),e._UZ(78,"app-financial-input",29),e.qZA(),e.TgZ(79,"td"),e._UZ(80,"app-financial-input",30),e.qZA(),e.TgZ(81,"td"),e._UZ(82,"app-financial-input",31),e.qZA(),e.TgZ(83,"td"),e._UZ(84,"app-financial-input",32),e.qZA()(),e.TgZ(85,"tr")(86,"td"),e._uU(87,"Goodwill / Patents Intangible Assets"),e.qZA(),e.YNc(88,fa,2,0,"td",8),e.TgZ(89,"td"),e._UZ(90,"app-financial-input",33),e.qZA(),e.TgZ(91,"td"),e._UZ(92,"app-financial-input",34),e.qZA(),e.TgZ(93,"td"),e._UZ(94,"app-financial-input",35),e.qZA(),e.TgZ(95,"td"),e._UZ(96,"app-financial-input",36),e.qZA()(),e.TgZ(97,"tr")(98,"td"),e._uU(99,"Total Assets"),e.qZA(),e.YNc(100,ha,2,0,"td",8),e.TgZ(101,"td"),e._UZ(102,"app-financial-input",37),e.qZA(),e.TgZ(103,"td"),e._UZ(104,"app-financial-input",38),e.qZA(),e.TgZ(105,"td"),e._UZ(106,"app-financial-input",39),e.qZA(),e.TgZ(107,"td"),e._UZ(108,"app-financial-input",40),e.qZA()(),e.TgZ(109,"tr")(110,"td"),e._uU(111,"Accounts Payables & Retainage"),e.qZA(),e.YNc(112,ga,2,0,"td",8),e.TgZ(113,"td"),e._UZ(114,"app-financial-input",41),e.qZA(),e.TgZ(115,"td"),e._UZ(116,"app-financial-input",42),e.qZA(),e.TgZ(117,"td"),e._UZ(118,"app-financial-input",43),e.qZA(),e.TgZ(119,"td"),e._UZ(120,"app-financial-input",44),e.qZA()(),e.TgZ(121,"tr")(122,"td"),e._uU(123,"Overbillings"),e.qZA(),e.YNc(124,va,2,0,"td",8),e.TgZ(125,"td"),e._UZ(126,"app-financial-input",45),e.qZA(),e.TgZ(127,"td"),e._UZ(128,"app-financial-input",46),e.qZA(),e.TgZ(129,"td"),e._UZ(130,"app-financial-input",47),e.qZA(),e.TgZ(131,"td"),e._UZ(132,"app-financial-input",48),e.qZA()(),e.TgZ(133,"tr")(134,"td"),e._uU(135,"Total Current Liabilities"),e.qZA(),e.YNc(136,ya,2,0,"td",8),e.TgZ(137,"td"),e._UZ(138,"app-financial-input",49),e.qZA(),e.TgZ(139,"td"),e._UZ(140,"app-financial-input",50),e.qZA(),e.TgZ(141,"td"),e._UZ(142,"app-financial-input",51),e.qZA(),e.TgZ(143,"td"),e._UZ(144,"app-financial-input",52),e.qZA()(),e.TgZ(145,"tr")(146,"td"),e._uU(147,"Total Liabilities"),e.qZA(),e.YNc(148,Ca,2,0,"td",8),e.TgZ(149,"td"),e._UZ(150,"app-financial-input",53),e.qZA(),e.TgZ(151,"td"),e._UZ(152,"app-financial-input",54),e.qZA(),e.TgZ(153,"td"),e._UZ(154,"app-financial-input",55),e.qZA(),e.TgZ(155,"td"),e._UZ(156,"app-financial-input",56),e.qZA()(),e.TgZ(157,"tr")(158,"td"),e._uU(159,"Equity"),e.qZA(),e.YNc(160,ba,2,0,"td",8),e.TgZ(161,"td"),e._UZ(162,"app-financial-input",57),e.qZA(),e.TgZ(163,"td"),e._UZ(164,"app-financial-input",58),e.qZA(),e.TgZ(165,"td"),e._UZ(166,"app-financial-input",59),e.qZA(),e.TgZ(167,"td"),e._UZ(168,"app-financial-input",60),e.qZA()(),e.TgZ(169,"tr")(170,"th",5),e._uU(171," Income Statement"),e.qZA()(),e.TgZ(172,"tr")(173,"td"),e._uU(174,"Revenue"),e.qZA(),e.YNc(175,Ta,2,0,"td",8),e.TgZ(176,"td"),e._UZ(177,"app-financial-input",61),e.qZA(),e.TgZ(178,"td"),e._UZ(179,"app-financial-input",62),e.qZA(),e.TgZ(180,"td"),e._UZ(181,"app-financial-input",63),e.qZA(),e.TgZ(182,"td"),e._UZ(183,"app-financial-input",64),e.qZA()(),e.TgZ(184,"tr")(185,"td"),e._uU(186,"Cost of Goods sold/Construction"),e.qZA(),e.YNc(187,Za,2,0,"td",8),e.TgZ(188,"td"),e._UZ(189,"app-financial-input",65),e.qZA(),e.TgZ(190,"td"),e._UZ(191,"app-financial-input",66),e.qZA(),e.TgZ(192,"td"),e._UZ(193,"app-financial-input",67),e.qZA(),e.TgZ(194,"td"),e._UZ(195,"app-financial-input",68),e.qZA()(),e.TgZ(196,"tr")(197,"td"),e._uU(198,"Net Income before taxes"),e.qZA(),e.YNc(199,xa,2,0,"td",8),e.TgZ(200,"td"),e._UZ(201,"app-financial-input",69),e.qZA(),e.TgZ(202,"td"),e._UZ(203,"app-financial-input",70),e.qZA(),e.TgZ(204,"td"),e._UZ(205,"app-financial-input",71),e.qZA(),e.TgZ(206,"td"),e._UZ(207,"app-financial-input",72),e.qZA()(),e.TgZ(208,"tr")(209,"th",5),e._uU(210," Other Entries"),e.qZA()(),e.TgZ(211,"tr")(212,"td"),e._uU(213,"Backlog Last"),e.qZA(),e.YNc(214,Ia,2,0,"td",8),e.TgZ(215,"td"),e._UZ(216,"app-financial-input",73),e.qZA(),e.TgZ(217,"td"),e._UZ(218,"app-financial-input",74),e.qZA(),e.TgZ(219,"td"),e._UZ(220,"app-financial-input",75),e.qZA(),e.TgZ(221,"td"),e._UZ(222,"app-financial-input",76),e.qZA()(),e.TgZ(223,"tr")(224,"td"),e._uU(225,"Line of credit"),e.qZA(),e.YNc(226,Aa,2,0,"td",8),e.TgZ(227,"td"),e._UZ(228,"app-financial-input",77),e.qZA(),e.TgZ(229,"td"),e._UZ(230,"app-financial-input",78),e.qZA(),e.TgZ(231,"td"),e._UZ(232,"app-financial-input",79),e.qZA(),e.TgZ(233,"td"),e._UZ(234,"app-financial-input",80),e.qZA()(),e.TgZ(235,"tr")(236,"td"),e._uU(237,"Unused line of credit"),e.qZA(),e.YNc(238,qa,2,0,"td",8),e.TgZ(239,"td"),e._UZ(240,"app-financial-input",81),e.qZA(),e.TgZ(241,"td"),e._UZ(242,"app-financial-input",82),e.qZA(),e.TgZ(243,"td"),e._UZ(244,"app-financial-input",83),e.qZA(),e.TgZ(245,"td"),e._UZ(246,"app-financial-input",84),e.qZA()(),e.TgZ(247,"tr")(248,"td"),e._uU(249,"Line of credit payable"),e.qZA(),e.YNc(250,Fa,2,0,"td",8),e.TgZ(251,"td"),e._UZ(252,"app-financial-input",85),e.qZA(),e.TgZ(253,"td"),e._UZ(254,"app-financial-input",86),e.qZA(),e.TgZ(255,"td"),e._UZ(256,"app-financial-input",87),e.qZA(),e.TgZ(257,"td"),e._UZ(258,"app-financial-input",88),e.qZA()(),e.TgZ(259,"tr")(260,"td"),e._uU(261,"D & B Pay Index"),e.qZA(),e.YNc(262,Ra,2,0,"td",8),e.TgZ(263,"td"),e._UZ(264,"app-financial-input",89),e.qZA(),e.TgZ(265,"td"),e._UZ(266,"app-financial-input",90),e.qZA(),e.TgZ(267,"td"),e._UZ(268,"app-financial-input",91),e.qZA(),e.TgZ(269,"td"),e._UZ(270,"app-financial-input",92),e.qZA()(),e.TgZ(271,"tr")(272,"td"),e._uU(273,"PPP Loan"),e.qZA(),e.YNc(274,ka,2,0,"td",8),e.TgZ(275,"td"),e._UZ(276,"app-financial-input",93),e.qZA(),e.TgZ(277,"td"),e._UZ(278,"app-financial-input",94),e.qZA(),e.TgZ(279,"td"),e._UZ(280,"app-financial-input",95),e.qZA(),e.TgZ(281,"td"),e._UZ(282,"app-financial-input",96),e.qZA()()(),e.TgZ(283,"div",97)(284,"div",98)(285,"button",99),e.NdJ("click",function(){return i.saveInfo()}),e._uU(286,"Save "),e.qZA()(),e.TgZ(287,"div",100)(288,"button",99),e.NdJ("click",function(){return i.calculate()}),e._uU(289,"Calculate"),e.qZA()()()()(),e.TgZ(290,"div",1)(291,"span"),e._uU(292,"Financial Outputs from Risk entered data: "),e.TgZ(293,"b"),e._uU(294,"Ratio Calculation"),e.qZA()()(),e.TgZ(295,"div",2)(296,"form",3),e.NdJ("keydown.enter",function(r){return r.preventDefault()}),e.TgZ(297,"table",4)(298,"tr"),e._UZ(299,"td",101),e.YNc(300,Sa,2,1,"td",102),e.qZA(),e.TgZ(301,"tr")(302,"th",103),e._uU(303," Net Worth"),e.qZA()(),e.YNc(304,Ma,4,2,"tr",104),e.TgZ(305,"tr")(306,"th",103),e._uU(307," Working Capital"),e.qZA()(),e.YNc(308,Ja,4,2,"tr",104),e.TgZ(309,"tr")(310,"th",103),e._uU(311," Leverage"),e.qZA()(),e.YNc(312,Da,4,2,"tr",104),e.TgZ(313,"tr")(314,"th",103),e._uU(315," Profitability"),e.qZA()(),e.YNc(316,Ga,4,2,"tr",104),e.TgZ(317,"tr")(318,"th",103),e._uU(319," Operational Efficiency"),e.qZA()(),e.YNc(320,$a,4,2,"tr",104),e.TgZ(321,"tr")(322,"th",103),e._uU(323," Subcontractor Limits"),e.qZA()(),e.YNc(324,tr,4,2,"tr",104),e.TgZ(325,"tr")(326,"td",101),e._uU(327,"Calculated Financial Grade"),e.qZA(),e.YNc(328,nr,2,1,"td",105),e.YNc(329,or,2,1,"td",105),e.YNc(330,ar,2,1,"td",105),e.YNc(331,rr,2,1,"td",105),e.YNc(332,sr,2,1,"td",105),e.YNc(333,lr,2,0,"td",105),e.YNc(334,cr,2,0,"td",105),e.YNc(335,dr,2,0,"td",105),e.YNc(336,pr,2,0,"td",105),e.qZA()(),e.TgZ(337,"div",97)(338,"div",106)(339,"button",99),e.NdJ("click",function(){return i.cancelInterim()}),e._uU(340),e.qZA()(),e.TgZ(341,"div",106)(342,"button",99),e.NdJ("click",function(){return i.saveOther("")}),e._uU(343,"Save "),e.qZA()(),e.TgZ(344,"div",107),e.YNc(345,ur,2,0,"button",108),e.YNc(346,mr,2,0,"button",108),e.qZA()()()()()),2&t&&(e.xp6(5),e.Q6J("formGroup",i.statementForm),e.xp6(3),e.uIk("colspan",i.isInterim?6:5),e.xp6(4),e.Q6J("ngForOf",i.financialStatement),e.xp6(4),e.Q6J("ngIf",i.isInterim),e.xp6(2),e.uIk("readonly",!!i.isInterim||null),e.xp6(2),e.uIk("readonly",!!i.isInterim||null),e.xp6(2),e.uIk("readonly",!!i.isInterim||null),e.xp6(2),e.uIk("readonly",!!i.isInterim||null),e.xp6(4),e.Q6J("ngIf",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(4),e.Q6J("ngIf",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(4),e.Q6J("ngIf",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(4),e.Q6J("ngIf",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(4),e.Q6J("ngIf",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(4),e.Q6J("ngIf",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(4),e.Q6J("ngIf",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(4),e.Q6J("ngIf",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(4),e.Q6J("ngIf",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(4),e.Q6J("ngIf",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(4),e.Q6J("ngIf",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(4),e.Q6J("ngIf",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.uIk("colspan",i.isInterim?6:5),e.xp6(5),e.Q6J("ngIf",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(4),e.Q6J("ngIf",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(4),e.Q6J("ngIf",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.uIk("colspan",i.isInterim?6:5),e.xp6(5),e.Q6J("ngIf",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(4),e.Q6J("ngIf",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(4),e.Q6J("ngIf",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(4),e.Q6J("ngIf",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(4),e.Q6J("ngIf",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(4),e.Q6J("ngIf",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(2),e.Q6J("textDispaly",i.isInterim),e.xp6(14),e.Q6J("formGroup",i.outputForm),e.xp6(4),e.Q6J("ngForOf",i.financialStatement),e.xp6(2),e.uIk("colspan",i.isInterim?6:5),e.xp6(2),e.Q6J("ngForOf",i.newRowsNetworth),e.xp6(2),e.uIk("colspan",i.isInterim?6:5),e.xp6(2),e.Q6J("ngForOf",i.newRowsWorking),e.xp6(2),e.uIk("colspan",i.isInterim?6:5),e.xp6(2),e.Q6J("ngForOf",i.newRowsLeverage),e.xp6(2),e.uIk("colspan",i.isInterim?6:5),e.xp6(2),e.Q6J("ngForOf",i.newRowsProfit),e.xp6(2),e.uIk("colspan",i.isInterim?6:5),e.xp6(2),e.Q6J("ngForOf",i.newRowsOperation),e.xp6(2),e.uIk("colspan",i.isInterim?6:5),e.xp6(2),e.Q6J("ngForOf",i.newRowsSubcontractor),e.xp6(4),e.Q6J("ngIf",i.isInterim),e.xp6(1),e.Q6J("ngIf",i.isInterim),e.xp6(1),e.Q6J("ngIf",i.isInterim),e.xp6(1),e.Q6J("ngIf",i.isInterim),e.xp6(1),e.Q6J("ngIf",i.isInterim),e.xp6(1),e.Q6J("ngIf",!i.isInterim),e.xp6(1),e.Q6J("ngIf",!i.isInterim),e.xp6(1),e.Q6J("ngIf",!i.isInterim),e.xp6(1),e.Q6J("ngIf",!i.isInterim),e.xp6(4),e.hij("",i.cancelText," "),e.xp6(5),e.Q6J("ngIf",!i.isInterim),e.xp6(1),e.Q6J("ngIf",i.isInterim))},directives:[s._Y,s.JL,s.sg,f.sg,f.O5,s.Fj,s.JJ,s.u,s.nD,sa],styles:[".table[_ngcontent-%COMP%]{width:95%;margin:10px auto;border-top:1px solid #ccc;border-right:1px solid #ccc}.table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1px 5px;border-bottom:1px solid #ccc;border-left:1px solid #ccc;width:20%;font-style:italic!important;font-weight:600;font-size:13px}.section[_ngcontent-%COMP%]{margin:-14px auto 0;padding:10px;width:99%;background-color:#fff}.comment-section[_ngcontent-%COMP%]{width:95%;padding:0 10px 10px;margin:10px auto;background-color:#fff;border-radius:12px}.form[_ngcontent-%COMP%]{margin:10px;padding:10px 0}.row[_ngcontent-%COMP%]{margin:15px 0 15px 5px;width:97%;font-style:italic!important;font-weight:600}.my-auto1[_ngcontent-%COMP%]{margin:0 10px;font-style:italic!important;font-weight:600;font-size:13px!important}.rowform[_ngcontent-%COMP%]{margin-left:18px;margin-top:5px;width:98%}.bgyellow[_ngcontent-%COMP%]{background-color:#ff0;height:20px;font-weight:700;padding:5px 10px}.font-bold[_ngcontent-%COMP%]{font-weight:700;font-style:italic!important;font-weight:600;font-size:15px}.table[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:last-child) > [_ngcontent-%COMP%]:last-child > *[_ngcontent-%COMP%]{border-bottom-color:#fff}.headeryellow[_ngcontent-%COMP%]{align-content:center;background-color:#ff0;width:100%;text-align-last:center;border-bottom:1px solid #ccc;border-left:1px solid #ccc}.headergreen[_ngcontent-%COMP%]{align-content:center;background-color:#3cb371;width:100%;text-align-last:center;border-bottom:1px solid #ccc;border-left:1px solid #ccc}.td[_ngcontent-%COMP%]{width:20%!important}"]}),n})();function fr(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Compiled independent credit is required"),e.qZA())}function hr(n,a){if(1&n&&(e.TgZ(0,"div",99),e.YNc(1,fr,2,0,"div",100),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.is_Independent_CPA.errors.required)}}function gr(n,a){1&n&&(e.TgZ(0,"span",7),e._uU(1,"*"),e.qZA())}function vr(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"CPA audited, reviewed and verified records is required"),e.qZA())}function yr(n,a){if(1&n&&(e.TgZ(0,"div",99),e.YNc(1,vr,2,0,"div",100),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.cpa_auditReviewed.errors.required)}}function Cr(n,a){1&n&&(e.TgZ(0,"div",101)(1,"span"),e._uU(2,"Uploading..."),e.qZA(),e._UZ(3,"mat-progress-spinner",102),e.qZA())}function br(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",103)(1,"p",104)(2,"small")(3,"a",105),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().openlink(r)}),e._uU(4),e.qZA()(),e.TgZ(5,"small",106),e.NdJ("click",function(){const o=e.CHM(t),r=o.index,l=o.$implicit;return e.oxw().removecpaUpload(r,l)}),e._uU(6,"X"),e.qZA()()()}if(2&n){const t=a.$implicit;e.xp6(3),e.s9C("href",t.file_Path,e.LSH),e.xp6(1),e.Oqu(t.name)}}function Tr(n,a){1&n&&(e.TgZ(0,"span",7),e._uU(1,"*"),e.qZA())}function Zr(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Balance sheet is required"),e.qZA())}function xr(n,a){if(1&n&&(e.TgZ(0,"div",99),e.YNc(1,Zr,2,0,"div",100),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.internal_Balance_Upload.errors.required)}}function Ir(n,a){1&n&&(e.TgZ(0,"div",101)(1,"span"),e._uU(2,"Uploading..."),e.qZA(),e._UZ(3,"mat-progress-spinner",102),e.qZA())}function Ar(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",103)(1,"p",104)(2,"small")(3,"a",105),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().openlink(r)}),e._uU(4),e.qZA()(),e.TgZ(5,"small",106),e.NdJ("click",function(){const o=e.CHM(t),r=o.index,l=o.$implicit;return e.oxw().removebalanceSheetUpload(r,l)}),e._uU(6,"X"),e.qZA()()()}if(2&n){const t=a.$implicit;e.xp6(3),e.s9C("href",t.file_Path,e.LSH),e.xp6(1),e.Oqu(t.name)}}function qr(n,a){1&n&&(e.TgZ(0,"span",7),e._uU(1,"*"),e.qZA())}function Fr(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Internal Profit & Loss Statement is required"),e.qZA())}function Rr(n,a){if(1&n&&(e.TgZ(0,"div",99),e.YNc(1,Fr,2,0,"div",100),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.internal_Profit_Upload.errors.required)}}function kr(n,a){1&n&&(e.TgZ(0,"div",101)(1,"span"),e._uU(2,"Uploading..."),e.qZA(),e._UZ(3,"mat-progress-spinner",102),e.qZA())}function Sr(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",103)(1,"p",104)(2,"small")(3,"a",105),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().openlink(r)}),e._uU(4),e.qZA()(),e.TgZ(5,"small",106),e.NdJ("click",function(){const o=e.CHM(t),r=o.index,l=o.$implicit;return e.oxw().removeprofitlossUpload(r,l)}),e._uU(6,"X"),e.qZA()()()}if(2&n){const t=a.$implicit;e.xp6(3),e.s9C("href",t.file_Path,e.LSH),e.xp6(1),e.Oqu(t.name)}}function wr(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Extended credit is required"),e.qZA())}function Nr(n,a){if(1&n&&(e.TgZ(0,"div",99),e.YNc(1,wr,2,0,"div",100),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.iS_Extended_Credit.errors.required)}}function Ur(n,a){1&n&&(e.TgZ(0,"span",7),e._uU(1,"*"),e.qZA())}function Mr(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Approximate value of line of credit is required "),e.qZA())}function Er(n,a){if(1&n&&(e.TgZ(0,"div",99),e.YNc(1,Mr,2,0,"div",100),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.appr_CreditValue.errors.required)}}function Or(n,a){1&n&&(e.TgZ(0,"span",7),e._uU(1,"*"),e.qZA())}function Pr(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Approximate value used on your line of credit is required "),e.qZA())}function Jr(n,a){if(1&n&&(e.TgZ(0,"div",99),e.YNc(1,Pr,2,0,"div",100),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.appr_CreditValue_Used.errors.required)}}function jr(n,a){1&n&&(e.TgZ(0,"span",7),e._uU(1,"*"),e.qZA())}function Yr(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Bank Name of line of credit is required "),e.qZA())}function Lr(n,a){if(1&n&&(e.TgZ(0,"div",99),e.YNc(1,Yr,2,0,"div",100),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.bank_Name.errors.required)}}function Dr(n,a){1&n&&(e.TgZ(0,"span",7),e._uU(1,"*"),e.qZA())}function Qr(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Bank contact personnel is required"),e.qZA())}function Vr(n,a){if(1&n&&(e.TgZ(0,"div",99),e.YNc(1,Qr,2,0,"div",100),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.bank_Contact_Personnnel.errors.required)}}function Br(n,a){1&n&&(e.TgZ(0,"span",7),e._uU(1,"*"),e.qZA())}function Gr(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Bank contact email is required "),e.qZA())}function Kr(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Bank contact email is valid "),e.qZA())}function Hr(n,a){if(1&n&&(e.TgZ(0,"div",99),e.YNc(1,Gr,2,0,"div",100),e.YNc(2,Kr,2,0,"div",100),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.bank_Contact_email.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.bank_Contact_email.errors.email)}}function zr(n,a){1&n&&(e.TgZ(0,"span",7),e._uU(1,"*"),e.qZA())}function $r(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Bank contact phone is required "),e.qZA())}function Wr(n,a){if(1&n&&(e.TgZ(0,"div",99),e.YNc(1,$r,2,0,"div",100),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.bank_Contact_phone.errors.required)}}function Xr(n,a){1&n&&(e.TgZ(0,"div",101)(1,"span"),e._uU(2,"Uploading..."),e.qZA(),e._UZ(3,"mat-progress-spinner",102),e.qZA())}function es(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",103)(1,"p",104)(2,"small")(3,"a",107),e._uU(4),e.qZA()(),e.TgZ(5,"small",106),e.NdJ("click",function(){const o=e.CHM(t),r=o.index,l=o.$implicit;return e.oxw().removetriRInfoTwoYearsUpload(r,l)}),e._uU(6,"X"),e.qZA()()()}if(2&n){const t=a.$implicit;e.xp6(3),e.s9C("href",t.file_Path,e.LSH),e.s9C("download",t.name),e.xp6(1),e.Oqu(t.name)}}function ts(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Work in progress file is required"),e.qZA())}function is(n,a){if(1&n&&(e.TgZ(0,"div",99),e.YNc(1,ts,2,0,"div",100),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.WIP_Upload.errors.required)}}function ns(n,a){if(1&n&&(e.TgZ(0,"p",119),e._uU(1,"Application Status: "),e.TgZ(2,"span",116),e._uU(3),e.qZA()()),2&n){const t=e.oxw(2).$implicit;e.xp6(3),e.Oqu(t.risk_Reviewer_1_Status)}}function os(n,a){1&n&&(e.TgZ(0,"p")(1,"span",120),e._uU(2,"Conditional Approval Reason:"),e.qZA()())}function as(n,a){if(1&n&&(e.TgZ(0,"small",121)(1,"span",122),e._uU(2),e.qZA()()),2&n){const t=e.oxw(2).$implicit;e.xp6(2),e.Oqu(t.risk_Reviewer_1_Reason)}}function rs(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div",8)(2,"div",112),e.YNc(3,ns,4,1,"p",113),e.qZA(),e.TgZ(4,"div",114)(5,"p",115),e._uU(6,"Date: "),e.TgZ(7,"span",116),e._uU(8),e.ALo(9,"date"),e.qZA()()()(),e.TgZ(10,"div",8)(11,"div",117),e.YNc(12,os,3,0,"p",100),e.YNc(13,as,3,1,"small",118),e.qZA()()()),2&n){const t=e.oxw().$implicit;e.xp6(3),e.Q6J("ngIf","Conditionally Approved"==t.risk_Reviewer_1_Status||"Approved"==t.risk_Reviewer_1_Status),e.xp6(5),e.Oqu(e.xi3(9,4,t.reviewer_1_Approved_Date,"MM/dd/yyyy")),e.xp6(4),e.Q6J("ngIf","Conditionally Approved"==t.risk_Reviewer_1_Status),e.xp6(1),e.Q6J("ngIf",null!=t.risk_Reviewer_1_Reason&&"null"!=t.risk_Reviewer_1_Reason&&"Conditionally Approved"==t.risk_Reviewer_1_Status)}}function ss(n,a){if(1&n&&(e.TgZ(0,"div",111),e.YNc(1,rs,14,7,"div",100),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngIf",null!=t.risk_Reviewer_1_Status)}}function ls(n,a){if(1&n&&(e.TgZ(0,"div",108)(1,"h6",109),e._uU(2,"Risk User 1 - Review"),e.qZA(),e.YNc(3,ss,2,1,"div",110),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngForOf",t.getriskrecords)}}function cs(n,a){if(1&n&&(e.TgZ(0,"p",127)(1,"span",120),e._uU(2,"Application Status: "),e.TgZ(3,"span",116),e._uU(4),e.qZA()()()),2&n){const t=e.oxw(2).$implicit;e.xp6(4),e.Oqu(t.risk_Reviewer_2_Status)}}function ds(n,a){1&n&&(e.TgZ(0,"p")(1,"span",120),e._uU(2,"Conditional Approval Reason:"),e.qZA()())}function ps(n,a){if(1&n&&(e.TgZ(0,"small",121)(1,"span",122),e._uU(2),e.qZA()()),2&n){const t=e.oxw(2).$implicit;e.xp6(2),e.Oqu(t.risk_Reviewer_2_Reason)}}function us(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div",8)(2,"div",112),e.YNc(3,cs,5,1,"p",125),e.qZA(),e.TgZ(4,"div",114)(5,"p",126),e._uU(6,"Date: "),e.TgZ(7,"span",116),e._uU(8),e.ALo(9,"date"),e.qZA()()()(),e.TgZ(10,"div",8)(11,"div",117),e.YNc(12,ds,3,0,"p",100),e.YNc(13,ps,3,1,"small",118),e.qZA()()()),2&n){const t=e.oxw().$implicit;e.xp6(3),e.Q6J("ngIf","Conditionally Approved"==t.risk_Reviewer_2_Status||"Approved"==t.risk_Reviewer_2_Status),e.xp6(5),e.Oqu(e.xi3(9,4,t.reviewer_2_Approved_Date,"MM/dd/yyyy")),e.xp6(4),e.Q6J("ngIf","Conditionally Approved"==t.risk_Reviewer_2_Status),e.xp6(1),e.Q6J("ngIf",null!=t.risk_Reviewer_2_Reason&&"null"!=t.risk_Reviewer_2_Reason&&"Conditionally Approved"==t.risk_Reviewer_2_Status)}}function ms(n,a){if(1&n&&(e.TgZ(0,"div",111),e.YNc(1,us,14,7,"div",100),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngIf",null!=t.risk_Reviewer_2_Status)}}function _s(n,a){if(1&n&&(e.TgZ(0,"div",123)(1,"h6",124),e._uU(2,"Risk User 2 - Review"),e.qZA(),e.YNc(3,ms,2,1,"div",110),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngForOf",t.getrisk2records)}}function fs(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",128)(1,"button",129),e.NdJ("click",function(){return e.CHM(t),e.oxw().gotoHome()}),e._uU(2," << BACK"),e.qZA(),e.TgZ(3,"button",130),e.NdJ("click",function(){return e.CHM(t),e.oxw().save()}),e._uU(4),e.qZA(),e.TgZ(5,"button",131),e.NdJ("click",function(){return e.CHM(t),e.oxw().submit()}),e._uU(6,"NEXT >>"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(4),e.Oqu(t.submitText)}}function hs(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",132)(1,"button",129),e.NdJ("click",function(){return e.CHM(t),e.oxw().gotoHome()}),e._uU(2," << BACK"),e.qZA(),e.TgZ(3,"button",133),e.NdJ("click",function(){return e.CHM(t),e.oxw().nextroutePage()}),e._uU(4,"NEXT >>"),e.qZA()()}}function gs(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",134)(1,"button",135),e.NdJ("click",function(){return e.CHM(t),e.oxw().gotoHome()}),e._uU(2," << BACK"),e.qZA()()}}function vs(n,a){if(1&n&&e._UZ(0,"app-financial-statement",136),2&n){const t=e.oxw();e.Q6J("companyId",t.tempcompanyid)("taxId",t.taxId)("vendorId",t.vendorId)}}function ys(n,a){1&n&&(e.TgZ(0,"div",99)(1,"div"),e._uU(2,"Reason is required"),e.qZA()())}const J=function(n){return{"bg-grey":n}},H=function(n){return{"is-invalid":n}},Cs=function(n){return{"pointer-events":n}};let bs=(()=>{class n{constructor(t,i,o,r,l,c,d,p,_,v){this.formBuilder=t,this.router=i,this.financialservice=o,this.bnIdle=r,this.keepalive=l,this.toastr=c,this.companyservice=d,this.loginInfo=p,this.sanitizer=_,this.ngxUiLoader=v,this.currentForm=5,this.submitted=!1,this.isInterim=!1,this.financialinfoForm=this.formBuilder.group({id:[0],companyId:[0],is_Independent_CPA:["no",[s.kI.required]],cpa_auditReviewed:["",[s.kI.required]],internal_Balance_Upload:["",[s.kI.required]],internal_Profit_Upload:["",[s.kI.required]],WIP_Upload:["",[s.kI.required]],iS_Extended_Credit:["no",[s.kI.required]],appr_CreditValue:["",[s.kI.maxLength(256),s.kI.pattern(/^-?(0|[1-9]\d*)?$/)]],appr_CreditValue_Used:["",[s.kI.maxLength(256),s.kI.pattern(/^-?(0|[1-9]\d*)?$/)]],bank_Name:["",[s.kI.required,s.kI.maxLength(256)]],bank_Contact_Personnnel:["",[s.kI.required,s.kI.maxLength(256)]],bank_Contact_email:["",[s.kI.required,s.kI.email,s.kI.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)]],bank_Contact_phone:["",[s.kI.required,s.kI.pattern(/^-?(0|[1-9]\d*)?$/)]],isAutosave:[!1],reject_Reason:[""],approved_Date:[""],preQualification_Status:["In-Progress"],isCompleted:[!1]}),this.companyInfo=this.formBuilder.group({id:["0"],org_Type:[null,[s.kI.required,s.kI.maxLength(130)]],is_Certified_Diverse:["",[s.kI.required,s.kI.maxLength(130)]],certified_Diverse_Attachment:["null",[s.kI.maxLength(130)]],contact_Name:["",[s.kI.required,s.kI.maxLength(256)]],contact_Email:["",[s.kI.required,s.kI.maxLength(256),s.kI.email,s.kI.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)]],contact_Mobile:["",[s.kI.required,s.kI.maxLength(256),s.kI.pattern("^((\\+91-?) |0)?[0-9]{10}$")]],additional_Details:["",[s.kI.required,s.kI.maxLength(256)]],CD_Upload:[null],other_details:["",s.kI.maxLength(256)],isAutosave:[!0],preQualification_Status:["In-Progress"],isComplete:[!1],approved_Date:[""],reject_Reason:[""]}),this.cpaAttachment=[],this.wipAttachment=[],this.tempcpaAttachment=[],this.tempwipAttachment=[],this.setTimeout=0,this.spinner={cpaSpinner:!1,balanceSpinner:!1,lossSpinner:!1,wipSpinner:!1},this.resetTimer=0,this.showAdmin=!1,this.rejecionrequired=!1,this.completionclicked=0,this.userRole="",this.companyId=0,this.financialid=0,this.isCompleted=!1,this.formCompleted=!1,this.prequalification_status="",this.getriskrecords=[],this.getrisk2records=[],this.tempinternalBalanceUpload=[],this.tempinternalProfitUpload=[],this.balancesheetAttachment=[],this.profitlossAttachment=[],this.showdisabled=!1,this.taxId=0,this.vendorId=0}ngOnInit(){this.ngxUiLoader.startLoader("loader-01"),localStorage.setItem("currPage","financialinfo"),this.currentForm=this.companyservice.MenuDetail.findIndex(r=>"financialinfo"==r.url),this.prequalification_status=this.loginInfo.organization_status;let t=localStorage.getItem("userDetails");if(t=JSON.parse(atob(t)),this.userDetails=t,this.userRole=t.role,this.tempcompanyid=localStorage.getItem("tempcompanyid"),this.tempcompanyid=Number(atob(this.tempcompanyid)),this.submitText="SAVE",this.tempcompanyid>0&&"Subcontractor"!=this.userRole){this.showAdmin=!0;var i=localStorage.getItem("taxID");i&&(this.taxId=Number(atob(i)));var o=localStorage.getItem("vendorID");o&&(this.vendorId=Number(atob(o))),console.log("data",this.taxId,this.vendorId),this.companyId=this.tempcompanyid,this.showdisabled=!0,this.getRecords(),this.financialinfoForm.disable(),this.financialinfoForm.updateValueAndValidity(),this.financialinfoForm.controls.reject_Reason.enable(),this.financialinfoForm.controls.reject_Reason.updateValueAndValidity()}null!=this.userDetails.vendorId&&null!=this.userDetails.taxId&&"Subcontractor"==this.userRole&&this.financialservice.getUser(this.userDetails.vendorId,this.userDetails.taxId).subscribe(r=>{this.companyId=r.id,this.getRecords(),this.companyservice.getRecord(this.companyId).subscribe(l=>{this.updateCompanyinfo(l),this.prequalification_status=l.preQualification_Status})}),this.ngxUiLoader.stopLoader("loader-01")}ngAfterViewInit(){this.keepalive.interval(30),this.keepalive.stop()}CommaFormatted(t,i){var o,r;t.AT_TARGET>=37&&t.AT_TARGET<=40||this.financialinfoForm.patchValue({[i]:null===(r=null===(o=this.financialinfoForm.get(i))||void 0===o?void 0:o.value)||void 0===r?void 0:r.replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,",")})}phonePress(t){return 15!=t.target.value.length}numberCheck(t){return!("e"===t.key||"+"===t.key||"-"===t.key)}resetFinance(){this.financialinfoForm.patchValue({appr_CreditValue:"",appr_CreditValue_Used:"",bank_Name:"",bank_Contact_Personnnel:"",bank_Contact_email:"",bank_Contact_phone:""})}resetNo(){this.showdisabled=!1,this.cpaAttachment.forEach((t,i)=>{this.removecpaUpload(i,t,!1)})}resetYes(){this.showdisabled=!1,this.profitlossAttachment.forEach((t,i)=>{this.removeprofitlossUpload(i,t,!1)}),this.balancesheetAttachment.forEach((t,i)=>{this.removebalanceSheetUpload(i,t,!1)})}ngOnDestroy(){this.keepalive.stop(),this.nextpage()}getRecords(){this.financialservice.getRecords(this.companyId).subscribe(t=>{var i;this.submitText=t[0].is_Independent_CPA?"UPDATE":"SAVE",this.financialid=t[0].id,this.updateFinancialinfo(t),this.getFiles(null===(i=t[0])||void 0===i?void 0:i.files),this.companyservice.getRecord(this.companyId).subscribe(o=>{(o=o[0]).preQualification_Status&&this.loginInfo.formDisable(o.preQualification_Status)&&(this.showdisabled=!0,this.financialinfoForm.disable(),this.financialinfoForm.updateValueAndValidity()),this.updateCompanyinfo(o),this.companydata=o,console.log(o)})})}checkRisk2approved(t){return"Approved"==t.risk_Reviewer_2_Status}checkRisk1approved(t){return"Approved"==t.risk_Reviewer_1_Status}editrecord(t){this.tempriskrecord=t.risk_Reviewer_1_Reason,this.financialinfoForm.patchValue({reject_Reason:this.tempriskrecord}),this.financialinfoForm.controls.reject_Reason.updateValueAndValidity()}updateFinancialinfo(t){this.financialinfoForm.patchValue({id:t[0].id,companyId:t[0].companyId,is_Independent_CPA:t[0].is_Independent_CPA,iS_Extended_Credit:t[0].iS_Extended_Credit,appr_CreditValue:t[0].appr_CreditValue,appr_CreditValue_Used:t[0].appr_CreditValue_Used&&"null"!=t[0].appr_CreditValue_Used?t[0].appr_CreditValue_Used:"",bank_Name:t[0].bank_Name&&"null"!=t[0].bank_Name?t[0].bank_Name:"",bank_Contact_Personnnel:t[0].bank_Contact_Personnnel&&"null"!=t[0].bank_Contact_Personnnel?t[0].bank_Contact_Personnnel:"",bank_Contact_email:t[0].bank_Contact_email&&"null"!=t[0].bank_Contact_email?t[0].bank_Contact_email:"",bank_Contact_phone:t[0].bank_Contact_phone&&"null"!=t[0].bank_Contact_phone?t[0].bank_Contact_phone:""}),this.tempcompanyid>0&&"Subcontractor"!=this.userRole&&this.condApprovetxt()}updateCompanyinfo(t){var i;this.companyInfo.patchValue({id:t.id,org_Type:null===(i=t.org_Type)||void 0===i?void 0:i.toLowerCase(),is_Certified_Diverse:t.is_Certified_Diverse,contact_Name:this.loginInfo.validateEmpty(t.contact_Name),contact_Email:this.loginInfo.validateEmpty(t.contact_Email),contact_Mobile:this.loginInfo.validateEmpty(t.contact_Mobile),additional_Details:this.loginInfo.validateEmpty(t.additional_Details),other_details:this.loginInfo.validateEmpty(t.other_details),reject_Reason:this.loginInfo.validateEmpty(t.reject_Reason),standing:this.loginInfo.validateEmpty(t.standing),approved_Date:this.loginInfo.validateEmpty(t.approved_Date)}),this.reject_Reason=t.reject_Reason,this.prequalification_status=t.preQualification_Status,this.risk_Reviewer_1_Reason=t.risk_Reviewer_1_Reason,this.risk_Reviewer_2_Reason=t.risk_Reviewer_2_Reason,"Subcontractor"==this.userRole&&this.companyInfo.patchValue({companyName:this.userDetails.companyName,vendorID:this.userDetails.vendorId,taxID:this.userDetails.taxId}),"Subcontractor"!=this.userRole&&this.companyInfo.patchValue({companyName:localStorage.getItem("userName"),vendorID:localStorage.getItem("vendorID"),taxID:localStorage.getItem("taxID")}),"Subcontractor"!=this.userRole&&this.financialinfoForm.patchValue({reject_Reason:""})}idleReset(){this.keepalive.stop(),this.keepalive.start(),this.resetTimer=0}getFiles(t){this.cpaAttachment=[],this.balancesheetAttachment=[],this.wipAttachment=[],this.profitlossAttachment=[],console.log(t),t.filter(i=>{"Internal_Balance_Upload"==i.file_Type?i.file_Name.length<49&&0==i.isDeleted?this.balancesheetAttachment.push({id:i.id,name:i.file_Name,file_Path:i.file_Path}):0==i.isDeleted&&this.balancesheetAttachment.push({id:i.id,name:i.file_Name.substring(0,49)+"....",file_Path:i.file_Path}):"Internal_Profit_Upload"==i.file_Type?i.file_Name.length<49&&0==i.isDeleted?this.profitlossAttachment.push({id:i.id,name:i.file_Name,file_Path:i.file_Path}):0==i.isDeleted&&this.profitlossAttachment.push({id:i.id,name:i.file_Name.substring(0,49)+"....",file_Path:i.file_Path}):"WIP_Upload"==i.file_Type?i.file_Name.length<49&&0==i.isDeleted?this.wipAttachment.push({id:i.id,name:i.file_Name,file_Path:i.file_Path}):0==i.isDeleted&&this.wipAttachment.push({id:i.id,name:i.file_Name.substring(0,49)+"....",file_Path:i.file_Path}):i.file_Name.length<49&&0==i.isDeleted?this.cpaAttachment.push({id:i.id,name:i.file_Name,file_Path:i.file_Path}):0==i.isDeleted&&this.cpaAttachment.push({id:i.id,name:i.file_Name.substring(0,49)+"....",file_Path:i.file_Path})})}get f(){var t,i,o,r;return"yes"==this.financialinfoForm.value.iS_Extended_Credit?(this.financialinfoForm.controls.appr_CreditValue.setValidators([s.kI.required,s.kI.maxLength(256)]),this.financialinfoForm.controls.appr_CreditValue_Used.setValidators([s.kI.required,s.kI.maxLength(256)]),this.financialinfoForm.controls.bank_Name.setValidators([s.kI.required,s.kI.maxLength(256)]),this.financialinfoForm.controls.bank_Contact_Personnnel.setValidators([s.kI.required,s.kI.maxLength(256)]),this.financialinfoForm.controls.bank_Contact_email.setValidators([s.kI.required,s.kI.maxLength(256),s.kI.email,s.kI.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)]),this.financialinfoForm.controls.bank_Contact_phone.setValidators([s.kI.required,s.kI.maxLength(256)])):(this.financialinfoForm.controls.appr_CreditValue.clearValidators(),this.financialinfoForm.controls.appr_CreditValue_Used.clearValidators(),this.financialinfoForm.controls.bank_Name.clearValidators(),this.financialinfoForm.controls.bank_Contact_Personnnel.clearValidators(),this.financialinfoForm.controls.bank_Contact_email.clearValidators(),this.financialinfoForm.controls.bank_Contact_phone.clearValidators()),this.financialinfoForm.controls.appr_CreditValue.updateValueAndValidity(),this.financialinfoForm.controls.appr_CreditValue_Used.updateValueAndValidity(),this.financialinfoForm.controls.bank_Name.updateValueAndValidity(),this.financialinfoForm.controls.bank_Contact_Personnnel.updateValueAndValidity(),this.financialinfoForm.controls.bank_Contact_email.updateValueAndValidity(),this.financialinfoForm.controls.bank_Contact_phone.updateValueAndValidity(),"no"==this.financialinfoForm.value.is_Independent_CPA?(this.financialinfoForm.controls.cpa_auditReviewed.clearValidators(),this.financialinfoForm.controls.internal_Balance_Upload.setValidators([s.kI.required]),this.financialinfoForm.controls.internal_Profit_Upload.setValidators([s.kI.required])):(this.financialinfoForm.controls.cpa_auditReviewed.setValidators([s.kI.required]),this.financialinfoForm.controls.internal_Balance_Upload.clearValidators(),this.financialinfoForm.controls.internal_Profit_Upload.clearValidators()),this.financialinfoForm.controls.cpa_auditReviewed.updateValueAndValidity(),this.financialinfoForm.controls.internal_Balance_Upload.updateValueAndValidity(),this.financialinfoForm.controls.internal_Profit_Upload.updateValueAndValidity(),(null===(t=this.cpaAttachment)||void 0===t?void 0:t.length)>0&&(this.financialinfoForm.controls.cpa_auditReviewed.setValidators(null),this.financialinfoForm.controls.cpa_auditReviewed.updateValueAndValidity()),(null===(i=this.balancesheetAttachment)||void 0===i?void 0:i.length)>0&&(this.financialinfoForm.controls.internal_Balance_Upload.setValidators(null),this.financialinfoForm.controls.internal_Balance_Upload.updateValueAndValidity()),(null===(o=this.profitlossAttachment)||void 0===o?void 0:o.length)>0&&(this.financialinfoForm.controls.internal_Profit_Upload.setValidators(null),this.financialinfoForm.controls.internal_Profit_Upload.updateValueAndValidity()),(null===(r=this.wipAttachment)||void 0===r?void 0:r.length)>0&&(this.financialinfoForm.controls.WIP_Upload.setValidators(null),this.financialinfoForm.controls.WIP_Upload.updateValueAndValidity()),"Subcontractor"==this.userRole&&(this.financialinfoForm.controls.reject_Reason.setValidators(null),this.financialinfoForm.controls.reject_Reason.updateValueAndValidity()),"Admin"==this.userRole&&(this.financialinfoForm.controls.reject_Reason.setValidators([s.kI.required]),this.financialinfoForm.controls.reject_Reason.updateValueAndValidity()),this.financialinfoForm.value.reject_Reason>0&&(this.financialinfoForm.controls.reject_Reason.setValidators(null),this.financialinfoForm.controls.reject_Reason.updateValueAndValidity()),this.financialinfoForm.updateValueAndValidity(),this.financialinfoForm.controls}submit(){if(this.keepalive.stop(),"Subcontractor"!=this.userRole)this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`]);else{this.formCompleted=!0,this.financialinfoForm.patchValue({isAutosave:!1,isCompleted:!0});let t=this.formMethod();if(0==this.financialid)this.financialservice.addRecord(t).subscribe(i=>{this.financialinfoForm.patchValue({isCompleted:!1,id:i.id}),this.toastr.success("Financial Information saved successfully","Financial Information"),this.getRecords(),this.formCompleted=!1,this.resetSpinner(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])});else{this.financialinfoForm.patchValue({id:this.financialid,isAutosave:!1,isCompleted:!1});let i=this.formMethod();this.financialservice.updateRecord(i,this.financialinfoForm.value.id).subscribe(o=>{this.toastr.success("Financial Information updated successfully","Financial Information"),this.getRecords(),this.resetSpinner()},o=>{},()=>{this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`]),this.resetSpinner()})}}}save(){if(this.submitted=!0,this.keepalive.stop(),console.log(this.financialinfoForm),this.financialinfoForm.valid)if(0==this.financialid){this.financialinfoForm.patchValue({isAutosave:!1,isCompleted:!1});let t=this.formMethod();this.financialservice.addRecord(t).subscribe(i=>{this.financialinfoForm.patchValue({id:i.id}),this.submitText="UPDATE",this.financialinfoForm.patchValue({cpa_auditReviewed:"",internal_Balance_Upload:"",internal_Profit_Upload:"",WIP_Upload:""}),this.toastr.success("Financial Information saved successfully","Financial Information"),this.getRecords(),this.resetSpinner()})}else{this.financialinfoForm.patchValue({id:this.financialid,isAutosave:!1,isCompleted:!1});let t=this.formMethod();this.financialservice.updateRecord(t,this.financialinfoForm.value.id).subscribe(i=>{this.financialinfoForm.patchValue({cpa_auditReviewed:"",internal_Balance_Upload:"",internal_Profit_Upload:"",WIP_Upload:""}),this.toastr.success("Financial Information updated successfully","Financial Information"),this.getRecords(),this.resetSpinner()})}}autoSave(){if(this.resetTimer+=1,1==this.resetTimer)if(0==this.financialid){this.financialinfoForm.patchValue({isAutosave:!1}),this.financialinfoForm.patchValue({isCompleted:!1});let t=this.formMethod();this.financialservice.addRecord(t).subscribe(i=>{this.keepalive.stop(),this.financialinfoForm.patchValue({id:i.id,cpa_auditReviewed:"",internal_Balance_Upload:"",internal_Profit_Upload:"",WIP_Upload:""}),this.submitText="UPDATE",this.getRecords(),this.resetSpinner()})}else{this.financialinfoForm.patchValue({id:this.financialid}),this.financialinfoForm.patchValue({isAutosave:!0}),this.financialinfoForm.patchValue({isCompleted:!1});let t=this.formMethod();this.financialservice.updateRecord(t,this.financialinfoForm.value.id).subscribe(i=>{this.keepalive.stop(),this.getRecords(),this.resetSpinner(),this.financialinfoForm.patchValue({internal_Balance_Upload:"",internal_Profit_Upload:"",WIP_Upload:""})})}}nextpage(){if("Subcontractor"==this.userRole){this.formCompleted=!0,this.financialinfoForm.patchValue({isAutosave:!1,isCompleted:!0});let t=this.formMethod();if(0==this.financialid)this.financialservice.addRecord(t).subscribe(i=>{this.financialinfoForm.patchValue({isCompleted:!1,id:i.id}),this.formCompleted=!1});else{this.financialinfoForm.patchValue({id:this.financialid,isAutosave:!1,isCompleted:!1});let i=this.formMethod();this.financialservice.updateRecord(i,this.financialinfoForm.value.id).subscribe(o=>{})}}}formMethod(){this.financialinfoForm.updateValueAndValidity();var t=new FormData;t.append("id",this.financialinfoForm.value.id),t.append("companyId",String(this.companyId)),t.append("is_Independent_CPA",this.loginInfo.validateEmpty(this.financialinfoForm.value.is_Independent_CPA)),t.append("iS_Extended_Credit",this.loginInfo.validateEmpty(this.financialinfoForm.value.iS_Extended_Credit)),t.append("appr_CreditValue",this.loginInfo.validateEmpty(this.financialinfoForm.value.appr_CreditValue)),t.append("appr_CreditValue_Used",this.loginInfo.validateEmpty(this.financialinfoForm.value.appr_CreditValue_Used)),t.append("bank_Name",this.loginInfo.validateEmpty(this.financialinfoForm.value.bank_Name)),t.append("bank_Contact_Personnnel",this.loginInfo.validateEmpty(this.financialinfoForm.value.bank_Contact_Personnnel)),t.append("bank_Contact_email",this.loginInfo.validateEmpty(this.financialinfoForm.value.bank_Contact_email)),t.append("bank_Contact_phone",this.loginInfo.validateEmpty(this.financialinfoForm.value.bank_Contact_phone)),t.append("isAutosave",this.financialinfoForm.value.isAutosave),t.append("isCompleted",1==this.formCompleted);for(let i=0;i<this.tempcpaAttachment.length;i++)t.append("cpa_auditReviewed",this.tempcpaAttachment[i]);this.tempcpaAttachment=[];for(let i=0;i<this.tempinternalBalanceUpload.length;i++)t.append("internal_Balance_Upload",this.tempinternalBalanceUpload[i]);this.tempinternalBalanceUpload=[];for(let i=0;i<this.tempinternalProfitUpload.length;i++)t.append("internal_Profit_Upload",this.tempinternalProfitUpload[i]);this.tempinternalProfitUpload=[];for(let i=0;i<this.tempwipAttachment.length;i++)t.append("WIP_Upload",this.tempwipAttachment[i]);return this.tempwipAttachment=[],t}companyformMethod(){var t=new FormData;return t.append("id",this.companyInfo.value.id),t.append("additional_Details",this.companyInfo.value.additional_Details),t.append("certified_Diverse_Attachment",this.companyInfo.value.certified_Diverse_Attachment),t.append("contact_Email",this.companyInfo.value.contact_Email),t.append("contact_Mobile",this.companyInfo.value.contact_Mobile),t.append("contact_Name",this.companyInfo.value.contact_Name),t.append("is_Certified_Diverse",this.companyInfo.value.is_Certified_Diverse),t.append("org_Type",this.companyInfo.value.org_Type),this.companyInfo.value.approved_Date&&t.append("approved_Date",this.companyInfo.value.approved_Date),t.append("CD_Upload",""),t.append("standing",this.companyInfo.value.standing),t.append("other_details",this.companyInfo.value.other_details),"Subcontractor"==this.userRole&&(t.append("companyName",this.userDetails.companyName),t.append("vendorID",this.userDetails.vendorId),t.append("taxID",this.userDetails.taxId),t.append("reject_Reason",this.companyInfo.value.reject_Reason),1==this.isCompleted?(t.append("PreQualification_Status","Under Review"),t.append("approved_Date",(new Date).toLocaleDateString("en-us"))):0==this.isCompleted&&t.append("PreQualification_Status",this.companyInfo.value.PreQualification_Status)),("Admin"==this.userRole||"SafetyUser"==this.userRole||"RiskUser"==this.userRole)&&(t.append("companyName",localStorage.getItem("userName")),t.append("vendorID",localStorage.getItem("vendorID")),t.append("taxID",localStorage.getItem("taxID")),t.append("reject_Reason",this.financialinfoForm.value.reject_Reason),1==this.completionclicked?t.append("PreQualification_Status","Approved"):2==this.completionclicked&&t.append("PreQualification_Status","Conditionally Approved")),t}CPAAuditUpload(t){let i=document.getElementById("cpa_auditReviewed");for(let o=0;o<i.files.length;o++)this.tempcpaAttachment.push(i.files[o]);this.spinner.cpaSpinner=!0,this.fileupload()}balanceSheetUpload(t){let i=document.getElementById("internal_Balance_Upload");for(let o=0;o<i.files.length;o++)this.tempinternalBalanceUpload.push(i.files[o]);this.spinner.balanceSpinner=!0,this.fileupload()}filepreview(t,i){var o=new FileReader;o.onload=r=>{console.log(r.target);let l=new Blob(t.files,{type:t.files[i].type});var c=(window.URL||window.webkitURL).createObjectURL(l);console.log("path",c,t.value);var d=document.createElement("a"),p=document.createTextNode("View File");d.target="_blank",d.appendChild(p),d.href=c,d.click(),t.appendChild(d)},o.readAsDataURL(t.files[i])}removebalanceSheetUpload(t,i,o=!0){this.showdisabled||this.financialservice.deleteRecord(i.id).subscribe(r=>{this.balancesheetAttachment.splice(t,1),o&&this.toastr.info("File removed successfully","Financial Info")})}removecpaUpload(t,i,o=!0){this.showdisabled||this.financialservice.deleteRecord(i.id).subscribe(r=>{this.cpaAttachment.splice(t,1),o&&this.toastr.info("File removed successfully","Financial Info")})}profitlossUpload(t){let i=document.getElementById("internal_Profit_Upload");for(let o=0;o<i.files.length;o++)this.tempinternalProfitUpload.push(i.files[o]);this.spinner.cpaSpinner=!0,this.fileupload()}removeprofitlossUpload(t,i,o=!0){this.showdisabled||this.financialservice.deleteRecord(i.id).subscribe(r=>{this.profitlossAttachment.splice(t,1),o&&this.toastr.info("File removed successfully","Financial Info")})}wipUpload(t){let i=document.getElementById("WIP_Upload");for(let o=0;o<i.files.length;o++)this.tempwipAttachment.push(i.files[o]);this.spinner.wipSpinner=!0,this.fileupload()}removetriRInfoTwoYearsUpload(t,i){this.showdisabled||this.financialservice.deleteRecord(i.id).subscribe(o=>{this.toastr.info("File removed successfully","Financial Info"),this.wipAttachment.splice(t,1)})}resetSpinner(){this.spinner={cpaSpinner:!1,balanceSpinner:!1,lossSpinner:!1,wipSpinner:!1}}rejectionalert(){this.financialinfoForm.value.reject_Reason.length>0?(this.financialinfoForm.controls.reject_Reason.setValidators(null),this.financialinfoForm.updateValueAndValidity()):(this.financialinfoForm.controls.reject_Reason.setValidators([s.kI.required]),this.financialinfoForm.updateValueAndValidity()),this.condApprovetxt()}completion(){this.financialinfoForm.controls.reject_Reason.clearValidators(),this.completionclicked=1,this.financialinfoForm.updateValueAndValidity();let t=new FormData;t.append("PreQualification_Status","Approved"),t.append("User_Type",this.userRole),this.financialservice.updateOrgRecord(t,this.companyInfo.value.id).subscribe(i=>{this.companyId=i.id,this.financialinfoForm.patchValue({reject_Reason:""}),this.getRecords(),this.toastr.success("Submission approved successfully","Application Submission")})}condApprove(){if(this.completionclicked=2,0==this.financialinfoForm.value.reject_Reason.length)this.submitted=!0;else{let t=new FormData;t.append("PreQualification_Status","Conditionally Approved"),t.append("User_Type",this.userRole),t.append("reject_Reason",this.financialinfoForm.value.reject_Reason),document.getElementById("exampleModals").click(),this.financialservice.updateOrgRecord(t,this.companyInfo.value.id).subscribe(o=>{this.companyId=o.id,this.getRecords(),this.toastr.success("Submission conditionally approved successfully","Application Submission")})}}condApprovetxt(){var t;(null===(t=this.financialinfoForm.value.reject_Reason)||void 0===t?void 0:t.length)>0?(this.submitted=!1,this.rejecionrequired=!1):(this.submitted=!0,this.rejecionrequired=!0),this.financialinfoForm.controls.reject_Reason.enable(),this.financialinfoForm.controls.reject_Reason.updateValueAndValidity()}fileupload(){if(this.keepalive.stop(),0==this.financialid){this.financialinfoForm.patchValue({isAutosave:!0});let t=this.formMethod();this.financialservice.addRecord(t).subscribe(i=>{this.keepalive.stop(),this.financialinfoForm.patchValue({cpa_auditReviewed:"",internal_Balance_Upload:"",internal_Profit_Upload:"",WIP_Upload:"",id:i.id}),this.submitText="UPDATE",this.getRecords(),this.resetSpinner()})}else{this.financialinfoForm.patchValue({id:this.financialid,isAutosave:!0});let t=this.formMethod();this.financialservice.updateRecord(t,this.financialinfoForm.value.id).subscribe(i=>{this.keepalive.stop(),this.getRecords(),this.resetSpinner(),this.financialinfoForm.patchValue({cpa_auditReviewed:"",internal_Balance_Upload:"",internal_Profit_Upload:"",WIP_Upload:""})})}}getComplete(){this.financialservice.getComplete(this.companyId).subscribe(t=>{if(t.data.length&&"Under Review"==t.data[0].preQualification_Status){this.isCompleted=!0;let i=new FormData;i.append("PreQualification_Status","Under Review"),i.append("Approved_Date",(new Date).toLocaleDateString("en-in")),i.append("User_Type",this.userRole),this.financialservice.updateOrgRecord(i,this.companyInfo.value.id).subscribe(o=>{this.router.navigate(["/home"])})}})}gotoHome(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm-1].url}`])}openlink(t){this.sanitizer.bypassSecurityTrustUrl(t.file_Path)}nextroutePage(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.qu),e.Y36(U.F0),e.Y36(pe.h),e.Y36(K.d),e.Y36(Q.A),e.Y36(L._W),e.Y36(G.O),e.Y36(D),e.Y36(ci.H7),e.Y36(V.LA))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-financialinfo"]],decls:222,vars:130,consts:[[1,"px-2",3,"formGroup","ngClass","ngSubmit","keydown.enter"],[1,"px-2","my-1","pb-1","form-bg"],[1,"form-group","input-group","row","mx-auto","mb-3","pt-2"],[1,"col-lg-6","pe-1","py-2","col-head-1"],[1,"row","bg-white","col-curve-top","mx-auto"],[1,"col-12","py-2"],["for","is_Independent_CPA",1,"my-auto","fw-bold","pt-2"],[1,"text-danger"],[1,"row"],[1,"col-lg-2"],["type","radio","formControlName","is_Independent_CPA","value","yes","checked","checked","name","is_Independent_CPA","id","is_Independent_CPA_yes",3,"ngModelChange","click"],["for","is_Independent_CPA_yes"],[1,"col-lg-10"],["type","radio","formControlName","is_Independent_CPA","value","no","name","is_Independent_CPA","id","is_Independent_CPA_no",3,"ngModelChange","click"],["for","is_Independent_CPA_no"],["class","invalid-feedback",4,"ngIf"],[1,"row","mt-1",3,"ngClass"],[1,"col-5"],["for","cpa_auditReviewed",1,"my-auto","font-italic"],["class","text-danger",4,"ngIf"],[1,"col-7"],[1,"form-control-customitem","form-control"],["type","file","title","Choose file","formControlName","cpa_auditReviewed","id","cpa_auditReviewed","name","cpa_auditReviewed","multiple","",3,"ngClass","change"],["for","cpa_auditReviewed",3,"ngClass"],["class","spinner__loading pt-3",4,"ngIf"],["class","me-2",4,"ngFor","ngForOf"],["for","internal_Balance_Upload",1,"my-auto","font-italic"],["type","file","title","Choose file","formControlName","internal_Balance_Upload","id","internal_Balance_Upload","name","internal_Balance_Upload","multiple","",3,"ngClass","change"],["for","internal_Balance_Upload",3,"ngClass"],[1,"row","py-2",3,"ngClass"],["for","internal_Profit_Upload",1,"my-auto","font-italic"],["type","file","title","Choose file","formControlName","internal_Profit_Upload","id","internal_Profit_Upload","name","internal_Profit_Upload","multiple","",3,"ngClass","change"],["for","internal_Profit_Upload",3,"ngClass"],[1,"row","bg-white","col-curve","py-2","mt-3","mx-auto","wip-bottom"],[1,"row","pt-2"],[1,"fw-bold"],[1,"col-6"],["for","iS_Extended_Credit",1,"my-auto","font-italic","float-right"],[1,"row","pt-1"],[1,"col-lg-4"],["type","radio","formControlName","iS_Extended_Credit","value","yes","checked","checked","name","iS_Extended_Credit","id","iS_Extended_Credit_yes",3,"ngModelChange"],["for","iS_Extended_Credit_yes"],[1,"col-lg-8"],["type","radio","formControlName","iS_Extended_Credit","value","no","name","iS_Extended_Credit","id","iS_Extended_Credit_no",3,"click","ngModelChange"],["for","iS_Extended_Credit_no"],[1,"row","mt-2",3,"ngClass"],["for","appr_CreditValue",1,"my-auto","font-italic","float-right"],["type","text","formControlName","appr_CreditValue","pattern","[0-9]+","id","appr_CreditValue","name","appr_CreditValue",1,"form-control",3,"ngClass","keydown","keyup","ngModelChange"],["for","appr_CreditValue_Used",1,"my-auto","font-italic","float-right"],["type","text","formControlName","appr_CreditValue_Used","pattern","[0-9]+","id","appr_CreditValue_Used","name","appr_CreditValue_Used",1,"form-control",3,"ngClass","keydown","keyup","ngModelChange"],["for","bank_Name",1,"my-auto","font-italic","float-right"],["type","text","formControlName","bank_Name","pattern","[0-9]+","id","bank_Name","name","bank_Name",1,"form-control",3,"ngClass","ngModelChange"],["for","bank_Contact_Personnnel",1,"my-auto","font-italic","float-right"],["type","text","formControlName","bank_Contact_Personnnel","id","bank_Contact_Personnnel","name","bank_Contact_Personnnel",1,"form-control",3,"ngClass","ngModelChange"],["for","bank_Contact_email",1,"my-auto","font-italic","float-right"],["type","text","formControlName","bank_Contact_email","id","bank_Contact_email","name","bank_Contact_email",1,"form-control",3,"ngClass","ngModelChange"],["for","bank_Contact_phone",1,"my-auto","font-italic","float-right"],["type","text","appPhoneMask","","onKeyPress","if(this.value.length==15) return false;","formControlName","bank_Contact_phone","id","bank_Contact_phone","name","bank_Contact_phone",1,"form-control",3,"ngClass","ngModelChange"],[1,"col-lg-6","pe-1","py-2","mt-2","bg-white","col-curve-top","col-head-2","mx-auto"],[1,"row","my-auto","pt-2"],["for","WIP_Upload",1,"my-auto","fw-bold"],["type","file","formControlName","WIP_Upload","title","Choose file","id","WIP_Upload","name","WIP_Upload","multiple","",3,"ngClass","change"],["for","WIP_Upload",3,"ngClass"],[1,"pt-2"],["href","assets/WIP Sheet.XLSX","target","_blank",1,"font-bold",3,"ngClass","ngStyle"],["class","mr-4 px-3 border pb-4",4,"ngIf"],["class","mr-4 px-3 border mt-4 pb-4",4,"ngIf"],["class","text-end mx-lg-4 my-4",4,"ngIf"],["class","text-end mx-lg-4 d-none d-lg-block my-4",4,"ngIf"],["class","text-end mx-lg-4 d-lg-none pb-3",4,"ngIf"],[3,"companyId","taxId","vendorId",4,"ngIf"],["type","button","id","exampleModals","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn-hide"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","false",1,"modal","fade"],["exampleModal",""],[1,"modal-dialog","modal-lg","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","text-success"],["type","button","id","closebutton","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"px-2",3,"formGroup","ngSubmit","keydown.enter"],["formControlName","reject_Reason","id","reject_Reason","rows","13","name","reject_Reason",1,"form-control",3,"ngClass","ngModelChange"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","default-btn","modal-cancel"],["type","submit",1,"btn","default-btn",3,"click"],["type","button","id","formsubmitmodal","data-bs-toggle","modal","data-bs-target","#formsubmitmodals",1,"btn-hide"],["id","formsubmitmodals","tabindex","-1","aria-labelledby","formsubmitmodals","aria-hidden","false",1,"modal","fade"],["formsubmitmodals",""],[1,"modal-dialog","modal-md","modal-dialog-centered"],["id","formsubmitmodal",1,"modal-title","text-success"],[1,"modal-body","my-3"],[1,"modal-footer","py-1"],["type","button","id","beforesubmitmodal","data-bs-toggle","modal","data-bs-target","#beforesubmitmodals",1,"btn-hide"],["id","beforesubmitmodals","tabindex","-1","aria-labelledby","beforesubmitmodals","aria-hidden","false",1,"modal","fade"],["beforesubmitmodals",""],["type","button","data-bs-dismiss","modal",1,"btn","default-btn",3,"click"],["type","button","id","previewimagemodal","data-bs-toggle","modal","data-bs-target","#previewimagemodal",1,"btn-hide"],["id","previewimagemodals","tabindex","-1","aria-labelledby","previewimagemodals","aria-hidden","false",1,"modal","fade"],["previewimagemodal",""],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner__loading","pt-3"],["diameter","18","mode","indeterminate",1,"mt-1"],[1,"me-2"],[1,"file-tag"],["target","_blank",3,"href","click"],[1,"file-close","text-white",3,"click"],["target","_blank",3,"href","download"],[1,"mr-4","px-3","border","pb-4"],[1,"text-center","text-success","my-3"],["class","p-3 record-shadow my-2",4,"ngFor","ngForOf"],[1,"p-3","record-shadow","my-2"],[1,"col-lg-10","p-1","px-lg-2"],["class","pt-2 text-succes fw-bold text-success m-0",4,"ngIf"],[1,"col-lg-2","py-2","ps-1","px-lg-2"],[1,"fw-bold","text-success","float-lg-end","m-0"],[1,"fw-normal"],[1,"col-10","p-1","m-0","px-lg-2"],["class","mb-4",4,"ngIf"],[1,"pt-2","text-succes","fw-bold","text-success","m-0"],[1,"fw-bold","text-success"],[1,"mb-4"],[1,"text-capitalize","ps-4"],[1,"mr-4","px-3","border","mt-4","pb-4"],[1,"text-center","my-2","text-success"],["class","pt-2 text-success",4,"ngIf"],[1,"fw-bold","text-success","float-end"],[1,"pt-2","text-success"],[1,"text-end","mx-lg-4","my-4"],[1,"btn","float-start","btn","default-btn",3,"click"],["type","button",1,"btn","ml-4","default-btn",3,"click"],["type","button",1,"btn","ms-2","default-btn",3,"click"],[1,"text-end","mx-lg-4","d-none","d-lg-block","my-4"],[1,"btn","btn-success","mx-2","default-btn",3,"click"],[1,"text-end","mx-lg-4","d-lg-none","pb-3"],[1,"btn","float-start","btn","mx-3","default-btn",3,"click"],[3,"companyId","taxId","vendorId"]],template:function(t,i){1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return i.submit()})("keydown.enter",function(r){return r.preventDefault()}),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h6",6),e._uU(7,"1. Has your company had their most recent year-end financial statements audited, reviewed, or compiled by an independant CPA? "),e.TgZ(8,"span",7),e._uU(9,"*"),e.qZA()(),e._UZ(10,"br"),e.TgZ(11,"div",8)(12,"span",9)(13,"input",10),e.NdJ("ngModelChange",function(){return i.idleReset()})("click",function(){return i.resetYes()}),e.qZA(),e.TgZ(14,"label",11),e._uU(15," YES"),e.qZA()(),e.TgZ(16,"span",12)(17,"input",13),e.NdJ("ngModelChange",function(){return i.idleReset()})("click",function(){return i.resetNo()}),e.qZA(),e.TgZ(18,"label",14),e._uU(19," NO"),e.qZA()(),e.YNc(20,hr,2,1,"div",15),e.TgZ(21,"div",16)(22,"div",17)(23,"label",18),e._uU(24,"CPA audited, reviewed and verified records "),e.YNc(25,gr,2,0,"span",19),e.qZA()(),e.TgZ(26,"div",20)(27,"div",21)(28,"input",22),e.NdJ("change",function(r){return i.CPAAuditUpload(r)}),e.qZA(),e.TgZ(29,"span",23),e._uU(30," \xa0Click here to Add Files"),e.qZA()(),e.YNc(31,yr,2,1,"div",15),e.YNc(32,Cr,4,0,"div",24),e.YNc(33,br,7,2,"div",25),e.qZA()()()(),e.TgZ(34,"div",16)(35,"div",17)(36,"label",26),e._uU(37,"Internal Balance Sheet "),e.YNc(38,Tr,2,0,"span",19),e.qZA()(),e.TgZ(39,"div",20)(40,"div",21)(41,"input",27),e.NdJ("change",function(r){return i.balanceSheetUpload(r)}),e.qZA(),e.TgZ(42,"span",28),e._uU(43," \xa0Click here to Add Files"),e.qZA()(),e.YNc(44,xr,2,1,"div",15),e.YNc(45,Ir,4,0,"div",24),e.YNc(46,Ar,7,2,"div",25),e.qZA()(),e.TgZ(47,"div",29)(48,"div",17)(49,"label",30),e._uU(50,"Internal Profit & Loss Statement "),e.YNc(51,qr,2,0,"span",19),e.qZA()(),e.TgZ(52,"div",20)(53,"div",21)(54,"input",31),e.NdJ("change",function(r){return i.profitlossUpload(r)}),e.qZA(),e.TgZ(55,"span",32),e._uU(56," \xa0Click here to Add Files"),e.qZA()(),e.YNc(57,Rr,2,1,"div",15),e.YNc(58,kr,4,0,"div",24),e.YNc(59,Sr,7,2,"div",25),e.qZA()()(),e.TgZ(60,"div",33)(61,"div",34)(62,"h6",35),e._uU(63,"3. Banking Information"),e.qZA(),e.TgZ(64,"div",34)(65,"div",36)(66,"label",37),e._uU(67," Do you have access to extended line of credit? "),e.TgZ(68,"span",7),e._uU(69,"*"),e.qZA()()(),e.TgZ(70,"div",36)(71,"div",38)(72,"span",39)(73,"input",40),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.qZA(),e.TgZ(74,"label",41),e._uU(75," YES"),e.qZA()(),e.TgZ(76,"span",42)(77,"input",43),e.NdJ("click",function(){return i.resetFinance()})("ngModelChange",function(){return i.idleReset()}),e.qZA(),e.TgZ(78,"label",44),e._uU(79," NO"),e.qZA()()(),e.YNc(80,Nr,2,1,"div",15),e.qZA(),e.TgZ(81,"div",45)(82,"div",36)(83,"label",46),e._uU(84," Approximate value of line of credit: "),e.YNc(85,Ur,2,0,"span",19),e.qZA()(),e.TgZ(86,"div",36)(87,"input",47),e.NdJ("keydown",function(r){return i.numberCheck(r)})("keyup",function(r){return i.CommaFormatted(r,"appr_CreditValue")})("ngModelChange",function(){return i.idleReset()}),e.qZA(),e.YNc(88,Er,2,1,"div",15),e.qZA()(),e.TgZ(89,"div",45)(90,"div",36)(91,"label",48),e._uU(92," Approximate value used on your line of credit: "),e.YNc(93,Or,2,0,"span",19),e.qZA()(),e.TgZ(94,"div",36)(95,"input",49),e.NdJ("keydown",function(r){return i.numberCheck(r)})("keyup",function(r){return i.CommaFormatted(r,"appr_CreditValue_Used")})("ngModelChange",function(){return i.idleReset()}),e.qZA(),e.YNc(96,Jr,2,1,"div",15),e.qZA()(),e.TgZ(97,"div",45)(98,"div",36)(99,"label",50),e._uU(100," Bank Name: "),e.YNc(101,jr,2,0,"span",19),e.qZA()(),e.TgZ(102,"div",36)(103,"input",51),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.qZA(),e.YNc(104,Lr,2,1,"div",15),e.qZA()(),e.TgZ(105,"div",45)(106,"div",36)(107,"label",52),e._uU(108," Bank contact personnel: "),e.YNc(109,Dr,2,0,"span",19),e.qZA()(),e.TgZ(110,"div",36)(111,"input",53),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.qZA(),e.YNc(112,Vr,2,1,"div",15),e.qZA()(),e.TgZ(113,"div",45)(114,"div",36)(115,"label",54),e._uU(116," Bank contact email: "),e.YNc(117,Br,2,0,"span",19),e.qZA()(),e.TgZ(118,"div",36)(119,"input",55),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.qZA(),e.YNc(120,Hr,3,2,"div",15),e.qZA()(),e.TgZ(121,"div",45)(122,"div",36)(123,"label",56),e._uU(124,"Bank contact phone: "),e.YNc(125,zr,2,0,"span",19),e.qZA()(),e.TgZ(126,"div",36)(127,"input",57),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.qZA(),e.YNc(128,Wr,2,1,"div",15),e.qZA()()()()()(),e.TgZ(129,"div",58)(130,"div",59)(131,"div",17)(132,"h6",60),e._uU(133,"2. Work in progress file attachment "),e.TgZ(134,"span",7),e._uU(135,"*"),e.qZA()()(),e.TgZ(136,"div",20)(137,"div",21)(138,"input",61),e.NdJ("change",function(r){return i.wipUpload(r)}),e.qZA(),e.TgZ(139,"span",62),e._uU(140," \xa0Click here to Add Files"),e.qZA()(),e.YNc(141,Xr,4,0,"div",24),e.YNc(142,es,7,3,"div",25),e.YNc(143,is,2,1,"div",15),e.qZA(),e.TgZ(144,"label",63),e._uU(145,"If you don't have work in progress(WIP) document, please use the "),e.TgZ(146,"u")(147,"a",64),e._uU(148,"attached template"),e.qZA()()()()()()(),e.YNc(149,ls,4,1,"div",65),e.YNc(150,_s,4,1,"div",66),e.YNc(151,fs,7,1,"div",67),e.qZA(),e.YNc(152,hs,5,0,"div",68),e.YNc(153,gs,3,0,"div",69),e.YNc(154,vs,1,3,"app-financial-statement",70),e._UZ(155,"button",71),e.TgZ(156,"div",72,73)(158,"div",74)(159,"div",75)(160,"div",76)(161,"h6",77),e._uU(162,"Conditionally approved reason"),e.qZA(),e._UZ(163,"button",78),e.qZA(),e.TgZ(164,"div",79)(165,"form",80),e.NdJ("ngSubmit",function(){return i.submit()})("keydown.enter",function(r){return r.preventDefault()}),e.TgZ(166,"textarea",81),e.NdJ("ngModelChange",function(){return i.condApprovetxt()}),e.qZA(),e.YNc(167,ys,3,0,"div",15),e.qZA()(),e.TgZ(168,"div",82)(169,"button",83),e._uU(170,"CANCEL"),e.qZA(),e.TgZ(171,"button",84),e.NdJ("click",function(){return i.condApprove()}),e._uU(172,"SAVE"),e.qZA()()()()(),e._UZ(173,"button",85),e.TgZ(174,"div",86,87)(176,"div",88)(177,"div",75)(178,"div",76)(179,"h6",89),e._uU(180,"Application incomplete alert"),e.qZA(),e._UZ(181,"button",78),e.qZA(),e.TgZ(182,"div",90)(183,"small"),e._uU(184,"Application section is incomplete. Please review and ensure all the required fields are filled."),e.qZA()(),e.TgZ(185,"div",91)(186,"button",83),e._uU(187,"CLOSE"),e.qZA()()()()(),e._UZ(188,"button",92),e.TgZ(189,"div",93,94)(191,"div",88)(192,"div",75)(193,"div",76)(194,"h6",89),e._uU(195,"Messer"),e.qZA(),e._UZ(196,"button",78),e.qZA(),e.TgZ(197,"div",90)(198,"small"),e._uU(199,"Are you sure you want to submit the application?"),e.qZA()(),e.TgZ(200,"div",91)(201,"button",95),e.NdJ("click",function(){return i.submit()}),e._uU(202,"YES"),e.qZA(),e.TgZ(203,"button",83),e._uU(204,"NO"),e.qZA()()()()(),e._UZ(205,"button",96),e.TgZ(206,"div",97,98)(208,"div",88)(209,"div",75)(210,"div",76)(211,"h6",89),e._uU(212,"Messer"),e.qZA(),e._UZ(213,"button",78),e.qZA(),e.TgZ(214,"div",90)(215,"p"),e._uU(216),e.qZA()(),e.TgZ(217,"div",91)(218,"button",95),e.NdJ("click",function(){return i.submit()}),e._uU(219,"YES"),e.qZA(),e.TgZ(220,"button",83),e._uU(221,"NO"),e.qZA()()()()()),2&t&&(e.Q6J("formGroup",i.financialinfoForm)("ngClass",e.VKq(76,J,1==i.showdisabled)),e.xp6(20),e.Q6J("ngIf",(i.f.is_Independent_CPA.touched||i.submitted)&&i.f.is_Independent_CPA.errors),e.xp6(1),e.Q6J("ngClass",e.VKq(78,J,!0===i.showdisabled||"no"==i.f.is_Independent_CPA.value)),e.xp6(4),e.Q6J("ngIf","yes"==(null==i.financialinfoForm||null==i.financialinfoForm.value?null:i.financialinfoForm.value.is_Independent_CPA)),e.xp6(3),e.Q6J("ngClass",e.VKq(80,H,i.submitted&&i.f.cpa_auditReviewed.errors)),e.uIk("disabled","no"==(null==i.financialinfoForm||null==i.financialinfoForm.value?null:i.financialinfoForm.value.is_Independent_CPA)?"":null),e.xp6(1),e.Q6J("ngClass",e.VKq(82,J,!0===i.showdisabled||"no"==(null==i.financialinfoForm||null==i.financialinfoForm.value?null:i.financialinfoForm.value.is_Independent_CPA))),e.xp6(2),e.Q6J("ngIf","yes"==(null==i.financialinfoForm||null==i.financialinfoForm.value?null:i.financialinfoForm.value.is_Independent_CPA)&&(i.f.cpa_auditReviewed.touched||i.submitted)&&i.f.cpa_auditReviewed.errors),e.xp6(1),e.Q6J("ngIf",null==i.spinner?null:i.spinner.cpaSpinner),e.xp6(1),e.Q6J("ngForOf",i.cpaAttachment),e.xp6(1),e.Q6J("ngClass",e.VKq(84,J,!0===i.showdisabled||"no"!=i.f.is_Independent_CPA.value)),e.xp6(4),e.Q6J("ngIf","no"==(null==i.financialinfoForm||null==i.financialinfoForm.value?null:i.financialinfoForm.value.is_Independent_CPA)),e.xp6(3),e.Q6J("ngClass",e.VKq(86,H,i.submitted&&i.f.internal_Balance_Upload.errors)),e.uIk("disabled","no"!=(null==i.financialinfoForm||null==i.financialinfoForm.value?null:i.financialinfoForm.value.is_Independent_CPA)?"":null),e.xp6(1),e.Q6J("ngClass",e.VKq(88,J,!0===i.showdisabled||"no"!=(null==i.financialinfoForm||null==i.financialinfoForm.value?null:i.financialinfoForm.value.is_Independent_CPA))),e.xp6(2),e.Q6J("ngIf",(i.f.internal_Balance_Upload.touched||i.submitted)&&i.f.internal_Balance_Upload.errors),e.xp6(1),e.Q6J("ngIf",null==i.spinner?null:i.spinner.balanceSpinner),e.xp6(1),e.Q6J("ngForOf",i.balancesheetAttachment),e.xp6(1),e.Q6J("ngClass",e.VKq(90,J,!0===i.showdisabled||"no"!==i.f.is_Independent_CPA.value)),e.xp6(4),e.Q6J("ngIf","no"==(null==i.financialinfoForm||null==i.financialinfoForm.value?null:i.financialinfoForm.value.is_Independent_CPA)),e.xp6(3),e.Q6J("ngClass",e.VKq(92,H,i.submitted&&i.f.internal_Profit_Upload.errors)),e.uIk("disabled","no"!=(null==i.financialinfoForm||null==i.financialinfoForm.value?null:i.financialinfoForm.value.is_Independent_CPA)?"":null),e.xp6(1),e.Q6J("ngClass",e.VKq(94,J,!0===i.showdisabled||"no"!==(null==i.financialinfoForm||null==i.financialinfoForm.value?null:i.financialinfoForm.value.is_Independent_CPA))),e.xp6(2),e.Q6J("ngIf",(i.f.internal_Profit_Upload.touched||i.submitted)&&i.f.internal_Profit_Upload.errors),e.xp6(1),e.Q6J("ngIf",null==i.spinner?null:i.spinner.lossSpinner),e.xp6(1),e.Q6J("ngForOf",i.profitlossAttachment),e.xp6(21),e.Q6J("ngIf",(i.f.iS_Extended_Credit.touched||i.submitted)&&i.f.iS_Extended_Credit.errors),e.xp6(1),e.Q6J("ngClass",e.VKq(96,J,!0===i.showdisabled||"no"==i.f.iS_Extended_Credit.value)),e.xp6(4),e.Q6J("ngIf","yes"==(null==i.financialinfoForm||null==i.financialinfoForm.value?null:i.financialinfoForm.value.iS_Extended_Credit)),e.xp6(2),e.Q6J("ngClass",e.VKq(98,H,i.submitted&&i.f.appr_CreditValue.errors)),e.uIk("disabled","no"==(null==i.financialinfoForm||null==i.financialinfoForm.value?null:i.financialinfoForm.value.iS_Extended_Credit)?"":null),e.xp6(1),e.Q6J("ngIf",(i.submitted||i.f.appr_CreditValue.touched)&&i.f.appr_CreditValue.errors),e.xp6(1),e.Q6J("ngClass",e.VKq(100,J,"no"==i.f.iS_Extended_Credit.value)),e.xp6(4),e.Q6J("ngIf","yes"==(null==i.financialinfoForm||null==i.financialinfoForm.value?null:i.financialinfoForm.value.iS_Extended_Credit)),e.xp6(2),e.Q6J("ngClass",e.VKq(102,H,i.submitted&&i.f.appr_CreditValue_Used.errors)),e.uIk("disabled","no"==(null==i.financialinfoForm||null==i.financialinfoForm.value?null:i.financialinfoForm.value.iS_Extended_Credit)?"":null),e.xp6(1),e.Q6J("ngIf",(i.submitted||i.f.appr_CreditValue_Used.touched)&&i.f.appr_CreditValue_Used.errors),e.xp6(1),e.Q6J("ngClass",e.VKq(104,J,"no"==i.f.iS_Extended_Credit.value)),e.xp6(4),e.Q6J("ngIf","yes"==(null==i.financialinfoForm||null==i.financialinfoForm.value?null:i.financialinfoForm.value.iS_Extended_Credit)),e.xp6(2),e.Q6J("ngClass",e.VKq(106,H,i.submitted&&i.f.bank_Name.errors)),e.uIk("disabled","no"==(null==i.financialinfoForm||null==i.financialinfoForm.value?null:i.financialinfoForm.value.iS_Extended_Credit)?"":null),e.xp6(1),e.Q6J("ngIf",(i.submitted||i.f.bank_Name.touched)&&i.f.bank_Name.errors),e.xp6(1),e.Q6J("ngClass",e.VKq(108,J,"no"==i.f.iS_Extended_Credit.value)),e.xp6(4),e.Q6J("ngIf","yes"==(null==i.financialinfoForm||null==i.financialinfoForm.value?null:i.financialinfoForm.value.iS_Extended_Credit)),e.xp6(2),e.Q6J("ngClass",e.VKq(110,H,i.submitted&&i.f.bank_Contact_Personnnel.errors)),e.uIk("disabled","no"==(null==i.financialinfoForm||null==i.financialinfoForm.value?null:i.financialinfoForm.value.iS_Extended_Credit)?"":null),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.bank_Contact_Personnnel.errors),e.xp6(1),e.Q6J("ngClass",e.VKq(112,J,"no"==i.f.iS_Extended_Credit.value)),e.xp6(4),e.Q6J("ngIf","yes"==(null==i.financialinfoForm||null==i.financialinfoForm.value?null:i.financialinfoForm.value.iS_Extended_Credit)),e.xp6(2),e.Q6J("ngClass",e.VKq(114,H,i.submitted&&i.f.bank_Contact_email.errors)),e.uIk("disabled","no"==(null==i.financialinfoForm||null==i.financialinfoForm.value?null:i.financialinfoForm.value.iS_Extended_Credit)?"":null),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.bank_Contact_email.errors),e.xp6(1),e.Q6J("ngClass",e.VKq(116,J,"no"==i.f.iS_Extended_Credit.value)),e.xp6(4),e.Q6J("ngIf","yes"==(null==i.financialinfoForm||null==i.financialinfoForm.value?null:i.financialinfoForm.value.iS_Extended_Credit)),e.xp6(2),e.Q6J("ngClass",e.VKq(118,H,i.submitted&&i.f.bank_Contact_phone.errors)),e.uIk("disabled","no"==(null==i.financialinfoForm||null==i.financialinfoForm.value?null:i.financialinfoForm.value.iS_Extended_Credit)?"":null),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.bank_Contact_phone.errors),e.xp6(10),e.Q6J("ngClass",e.VKq(120,H,i.submitted&&i.f.WIP_Upload.errors)),e.xp6(1),e.Q6J("ngClass",e.VKq(122,J,!0===i.showdisabled)),e.xp6(2),e.Q6J("ngIf",null==i.spinner?null:i.spinner.wipSpinner),e.xp6(1),e.Q6J("ngForOf",i.wipAttachment),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.WIP_Upload.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(124,J,i.showdisabled))("ngStyle",e.VKq(126,Cs,i.showdisabled?"none":"auto")),e.xp6(2),e.Q6J("ngIf","Subcontractor"!=i.userRole&&(null==i.getriskrecords?null:i.getriskrecords.length)>0),e.xp6(1),e.Q6J("ngIf","Subcontractor"!=i.userRole&&i.showrisk1status&&(null==i.getrisk2records?null:i.getrisk2records.length)>0),e.xp6(1),e.Q6J("ngIf",!(i.showAdmin||i.prequalification_status&&"To complete prequalification"!=i.prequalification_status&&"Additional Info Needed from Subcontractor"!=i.prequalification_status)),e.xp6(1),e.Q6J("ngIf",!i.showAdmin&&i.prequalification_status&&"To complete prequalification"!=i.prequalification_status&&"Additional Info Needed from Subcontractor"!=i.prequalification_status||i.showAdmin),e.xp6(1),e.Q6J("ngIf",!i.showAdmin&&i.prequalification_status&&"In-Progress"!=i.prequalification_status||i.showAdmin),e.xp6(1),e.Q6J("ngIf","Subcontractor"!=i.userRole&&"Additional Info Needed from Subcontractor"!=i.prequalification_status&&"Prequal form submitted and under quality check"!=i.prequalification_status),e.xp6(11),e.Q6J("formGroup",i.financialinfoForm),e.xp6(1),e.Q6J("ngClass",e.VKq(128,H,i.rejecionrequired)),e.uIk("disable",!1),e.xp6(1),e.Q6J("ngIf",i.rejecionrequired),e.xp6(49),e.Oqu(i.previewimgurl))},directives:[s._Y,s.JL,s.sg,f.mk,s._,s.Fj,s.JJ,s.u,f.O5,ie.Ou,f.sg,s.c5,_e,f.PC,_r],pipes:[f.uU],styles:[".form-group[_ngcontent-%COMP%]{margin:15px 0}input[type=file][_ngcontent-%COMP%]{width:90px;color:transparent}.form-control-customitem[_ngcontent-%COMP%]{width:98%;cursor:pointer}.form-control-customitem[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer}.record-shadow[_ngcontent-%COMP%]{border:1px solid #ddd;box-shadow:0 .5rem 1rem #00000026!important}.border[_ngcontent-%COMP%]{border:1px solid #dddddd9e!important;border-width:4px!important}.col-curve-top[_ngcontent-%COMP%]{border-radius:18px 19px!important;border-top:6px solid #c3bdbd!important}.col-curve[_ngcontent-%COMP%]{border-radius:18px 19px!important}.wip-bottom[_ngcontent-%COMP%]{position:relative;bottom:-8px}h6[_ngcontent-%COMP%]{font-size:13px!important}.bg-grey[_ngcontent-%COMP%]{color:#c7bfbf!important}"]}),n})(),di=(()=>{class n extends S.EJ{constructor(t,i){super("safety",t,i,{root:u.N.webserviceURlLocal})}getAll(){return super.getAll()}getRecord(t){let i={Screen_ID:t,Screen_Type:"Safety"};const o={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")},body:i},r=this.httpUrlGenerator.entityResource("Files/"+t+"?Screen_Type=Safety",u.N.webserviceURlLocal);return this.http.get(r,o)}deleteRecord(t){const i={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.delete(u.N.webserviceURlLocal+"Files/"+t,i)}getRecords(t){const i={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("Safety/"+t,u.N.webserviceURlLocal);return this.http.get(o,i)}updateRecord(t,i){const o={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},r=this.httpUrlGenerator.entityResource("Safety",u.N.webserviceURlLocal)+i;return this.http.put(r,t,o)}addRecord(t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("Safety",u.N.webserviceURlLocal);return this.http.post(o,t,i)}getUser(t,i){const o={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},r=this.httpUrlGenerator.entityResource("Organization/"+t+"/"+i,u.N.webserviceURlLocal);return this.http.get(r,o)}getComplete(t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("Organization/Getstatus/"+t,u.N.webserviceURlLocal);return this.http.get(o,i)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(B.eN),e.LFG(S.hR))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ts=(()=>{class n extends S.EJ{constructor(t,i){super("safetycomment",t,i,{root:u.N.webserviceURlLocal})}getAll(){return super.getAll()}getRecord(t){let i={Screen_ID:t,Screen_Type:"safetycomments"};const o={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")},body:i},r=this.httpUrlGenerator.entityResource("Files/"+t+"?Screen_Type=safetycomments",u.N.webserviceURlLocal);return this.http.get(r,o)}deleteRecord(t){const i={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.delete(u.N.webserviceURlLocal+"Files/"+t,i)}getRecords(t){const i={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("safetycomment/"+t,u.N.webserviceURlLocal);return this.http.get(o,i)}updateRecord(t,i){const o={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},r=this.httpUrlGenerator.entityResource("safetycomment",u.N.webserviceURlLocal)+i;return this.http.put(r,t,o)}addRecord(t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("safetycomment",u.N.webserviceURlLocal);return this.http.post(o,t,i)}addSafetyCalculation(t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("SafetyCalculation",u.N.webserviceURlLocal);return this.http.post(o,t,i)}getSafetyCalculation(t){const i={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("SafetyCalculation/"+t,u.N.webserviceURlLocal);return this.http.get(o,i)}getUser(t,i){const o={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},r=this.httpUrlGenerator.entityResource("Organization/"+t+"/"+i,u.N.webserviceURlLocal);return this.http.get(r,o)}getComplete(t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("Organization/Getstatus/"+t,u.N.webserviceURlLocal);return this.http.get(o,i)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(B.eN),e.LFG(S.hR))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Zs(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Safety Officer is required "),e.qZA())}function xs(n,a){if(1&n&&(e.TgZ(0,"div",31),e.YNc(1,Zs,2,0,"div",32),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.safety_officer.errors.required)}}function Is(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Safety Program is required "),e.qZA())}function As(n,a){if(1&n&&(e.TgZ(0,"div",31),e.YNc(1,Is,2,0,"div",32),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.safety_program.errors.required)}}function qs(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Drug & Alcohol Policy is required "),e.qZA())}function Fs(n,a){if(1&n&&(e.TgZ(0,"div",31),e.YNc(1,qs,2,0,"div",32),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.drug_alcohol.errors.required)}}function Rs(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Current Year is required "),e.qZA())}function ks(n,a){if(1&n&&(e.TgZ(0,"div",31),e.YNc(1,Rs,2,0,"div",32),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.emr_currentyear.errors.required)}}function Ss(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Last Year is required "),e.qZA())}function ws(n,a){if(1&n&&(e.TgZ(0,"div",31),e.YNc(1,Ss,2,0,"div",32),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.emr_lastyear.errors.required)}}function Ns(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Last Year is required "),e.qZA())}function Us(n,a){if(1&n&&(e.TgZ(0,"div",31),e.YNc(1,Ns,2,0,"div",32),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.emr_twoyear.errors.required)}}function Ms(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Last Year is required "),e.qZA())}function Es(n,a){if(1&n&&(e.TgZ(0,"div",31),e.YNc(1,Ms,2,0,"div",32),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.trir_lastyear.errors.required)}}function Os(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Two Years Ago is required "),e.qZA())}function Ps(n,a){if(1&n&&(e.TgZ(0,"div",31),e.YNc(1,Os,2,0,"div",32),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.trir_twoyear.errors.required)}}function Js(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Three Years Ago is required "),e.qZA())}function js(n,a){if(1&n&&(e.TgZ(0,"div",31),e.YNc(1,Js,2,0,"div",32),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.trir_threeyear.errors.required)}}function Ys(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Safety Grade is required "),e.qZA())}function Ls(n,a){if(1&n&&(e.TgZ(0,"div",31),e.YNc(1,Ys,2,0,"div",32),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.grade_safety.errors.required)}}function Ds(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Comments is required "),e.qZA())}function Qs(n,a){if(1&n&&(e.TgZ(0,"div",31),e.YNc(1,Ds,2,0,"div",32),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.comment.errors.required)}}function Vs(n,a){1&n&&(e.TgZ(0,"div",33)(1,"span"),e._uU(2,"Uploading..."),e.qZA(),e._UZ(3,"mat-progress-spinner",34),e.qZA())}function Bs(n,a){if(1&n&&(e.TgZ(0,"div")(1,"p",35)(2,"small")(3,"a",36),e._uU(4),e.qZA()()()()),2&n){const t=a.$implicit;e.xp6(3),e.s9C("href",t.file_Path,e.LSH),e.xp6(1),e.Oqu(t.name)}}const pi=function(n){return{"is-invalid":n}};let Gs=(()=>{class n{constructor(t,i,o,r,l,c){this.fb=t,this.safetycommentservice=i,this.toastr=o,this.financialstatementdataservice=r,this.financialservice=l,this.dialog=c,this.companyId=0,this.formId=0,this.taxId=0,this.vendorId=0,this.attachment=[],this.safety_Calcuate="",this.commentForm=this.fb.group({id:[0],CompanyId:[""],safety_officer:["",s.kI.required],safety_program:["",s.kI.required],drug_alcohol:["",s.kI.required],emr_currentyear:["",s.kI.required],emr_lastyear:["",s.kI.required],emr_twoyear:["",s.kI.required],trir_lastyear:["",s.kI.required],trir_twoyear:["",s.kI.required],trir_threeyear:["",s.kI.required],grade_safety:[""],grade_value:[],comment:[""],overallNotes:[""],attachment:[""]}),this.trirScore="",this.emrScore="",this.drugAlcoholPolicyScore="",this.safetyProgramScore="",this.safetyScore="",this.spinner={bondingSpinner:!1},this.submitted=!1}ngOnInit(){}ngAfterViewInit(){this.companyId>0&&this.loadGrid()}get f(){return this.commentForm.controls}loadGrid(){this.safetycommentservice.getSafetyCalculation(this.companyId).subscribe(t=>{this.commentForm.patchValue({safety_officer:t[0].safetyOfficer,safety_program:t[0].safetyProgram,drug_alcohol:t[0].drugAlcoholPolicy,emr_currentyear:t[0].emr,emr_lastyear:t[0].emR1,emr_twoyear:t[0].emR2,trir_lastyear:t[0].trir,trir_twoyear:t[0].triR1,trir_threeyear:t[0].triR2,grade_safety:t[0].safetyGradeBySafety,grade_value:t[0].grade_value,comment:t[0].reasonForChangeofSafetyGrade,overallNotes:t[0].overallSafetyNotes}),this.safety_Calcuate=t[0].calculatedSafetyGrade,this.trirScore=t[0].trirScore,this.emrScore=t[0].emrScore,this.drugAlcoholPolicyScore=t[0].drugAlcoholPolicyScore,this.safetyProgramScore=t[0].safetyProgramScore,this.safetyScore=t[0].safetyScore})}safetygradecalculation(){if(this.submitted=!0,this.commentForm.valid){let t=this.formMethod();this.safetycommentservice.addSafetyCalculation(t).subscribe(i=>{const o={type:"safety",taxId:this.taxId,vendorId:this.vendorId,financeDate:new Date};this.financialstatementdataservice.addCalculatecurrent(o).subscribe(r=>{this.loadGrid()})})}}qcpUpload(t){let i=document.getElementById("attachment");for(let o=0;o<i.files.length;o++)this.attachment.push(i.files[o])}filepreview(t,i){var o=new FileReader;o.onload=r=>{let l=new Blob(t.files,{type:t.files[i].type});var c=(window.URL||window.webkitURL).createObjectURL(l),d=document.createElement("a"),p=document.createTextNode("View File");d.target="_blank",d.appendChild(p),d.href=c,d.click(),t.appendChild(d)},o.readAsDataURL(t.files[i])}formMethod(){console.log("this.commentForm.value",this.commentForm.value);var t=new FormData;t.append("companyId",this.companyId),t.append("safetyId",this.formId),t.append("safetyOfficer",this.commentForm.value.safety_officer),t.append("safetyProgram",this.commentForm.value.safety_program),t.append("drugAlcoholPolicy",this.commentForm.value.drug_alcohol),t.append("eMR",this.commentForm.value.emr_currentyear),t.append("eMR1",this.commentForm.value.emr_lastyear),t.append("eMR2",this.commentForm.value.emr_twoyear),t.append("tRIR",this.commentForm.value.trir_lastyear),t.append("tRIR1",this.commentForm.value.trir_twoyear),t.append("tRIR2",this.commentForm.value.trir_threeyear),t.append("safetyGradeBySafety",this.commentForm.value.grade_safety?this.commentForm.value.grade_safety:""),t.append("reasonForChangeofSafetyGrade",this.commentForm.value.comment?this.commentForm.value.comment:""),t.append("overallSafetyNotes",this.commentForm.value.overallNotes?this.commentForm.value.overallNotes:"");for(let i=0;i<this.attachment.length;i++)t.append("additionalAttachments",this.attachment[i]);return t.append("vendorId",this.vendorId),t.append("taxId",this.taxId),t.append("year",(new Date).getFullYear()),t}commentsubmit(){this.submitted=!0;let t=this.formMethod();this.safetycommentservice.addSafetyCalculation(t).subscribe(i=>{})}padTo2Digits(t){return t.toString().padStart(2,"0")}formatDate(t){return[this.padTo2Digits(t.getMonth()+1),this.padTo2Digits(t.getDate()),t.getFullYear()].join("/")}commentFinalsubmit(){""!=this.commentForm.value.grade_safety&&this.commentForm.value.grade_safety?""!=this.commentForm.value.comment&&this.commentForm.value.comment?this.commentForm.valid&&this.dialog.open(ue,{width:"350px"}).afterClosed().subscribe(i=>{if(console.log("The dialog was closed"),"Yes"==i){let o=this.formMethod();this.safetycommentservice.addSafetyCalculation(o).subscribe(r=>{let l=new FormData;l.append("PreQualification_Status","Safety Reviewed"),this.financialservice.updateOrgRecord(l,this.companyId).subscribe(c=>{})})}}):this.toastr.error("Please fill the Reason for change of Safety Grade","Safety Comment"):this.toastr.error("Please fill the Safety Grade by Safety","Safety Comment")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.qu),e.Y36(Ts),e.Y36(L._W),e.Y36(be),e.Y36(pe.h),e.Y36(te.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-safetycomment"]],inputs:{companyId:"companyId",formId:"formId",taxId:"taxId",vendorId:"vendorId"},decls:173,vars:26,consts:[[1,"section"],[1,"bgyellow"],[1,"comment-section"],[1,"form",3,"formGroup","keydown.enter"],[1,"table"],["formControlName","safety_officer",1,"form-select"],["class","invalid-feedback",4,"ngIf"],["formControlName","safety_program",1,"form-select"],["formControlName","drug_alcohol",1,"form-select"],[1,"font-bold"],["formControlName","emr_currentyear",1,"form-control"],["rowspan","3"],["formControlName","emr_lastyear",1,"form-control"],["formControlName","emr_twoyear",1,"form-control"],["formControlName","trir_lastyear",1,"form-control"],["formControlName","trir_twoyear",1,"form-control"],["formControlName","trir_threeyear",1,"form-control"],[1,"btn","default-btn",3,"click"],["formControlName","grade_safety",1,"form-select"],[1,"row"],["for","is_Surety_Bond",1,"my-auto1","fw-bold"],["formControlName","comment","id","comment","name","comment",1,"form-control","rowform",3,"ngClass"],["formControlName","overallNotes","id","comment","name","overallNotes",1,"form-control","rowform"],[1,"my-auto1"],[1,"form-control-customitem","form-control","rowform"],["type","file","title","Choose file","formControlName","attachment","id","attachment","name","attachment","multiple","",3,"ngClass","change"],["for","attachment"],["class","spinner__loading pt-3",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"text-left","col-md-6"],[1,"col-md-6","text-end"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner__loading","pt-3"],["diameter","18","mode","indeterminate",1,"mt-1"],[1,"file-tag"],["target","_blank",3,"href"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div")(2,"span",1),e._uU(3,"SAFETY REVIEW \u2013 Info entered on this page will sent to Risk and be a part of the prequalification review"),e.qZA()(),e.TgZ(4,"div",2)(5,"form",3),e.NdJ("keydown.enter",function(r){return r.preventDefault()}),e.TgZ(6,"table",4)(7,"tr")(8,"td"),e._uU(9,"Safety Officer"),e.TgZ(10,"span"),e._uU(11,"*"),e.qZA()(),e.TgZ(12,"td")(13,"select",5)(14,"option"),e._uU(15,"Approved"),e.qZA(),e.TgZ(16,"option"),e._uU(17,"Conditional"),e.qZA(),e.TgZ(18,"option"),e._uU(19,"Not Approved"),e.qZA()(),e.YNc(20,xs,2,1,"div",6),e.qZA(),e.TgZ(21,"td"),e._uU(22),e.qZA()(),e.TgZ(23,"tr")(24,"td"),e._uU(25,"Safety Program"),e.TgZ(26,"span"),e._uU(27,"*"),e.qZA()(),e.TgZ(28,"td")(29,"select",7)(30,"option"),e._uU(31,"Approved"),e.qZA(),e.TgZ(32,"option"),e._uU(33,"Conditional"),e.qZA(),e.TgZ(34,"option"),e._uU(35,"Not Approved"),e.qZA()(),e.YNc(36,As,2,1,"div",6),e.qZA(),e.TgZ(37,"td"),e._uU(38),e.qZA()(),e.TgZ(39,"tr")(40,"td"),e._uU(41,"Drug & Alcohol Policy"),e.TgZ(42,"span"),e._uU(43,"*"),e.qZA()(),e.TgZ(44,"td")(45,"select",8)(46,"option"),e._uU(47,"Approved"),e.qZA(),e.TgZ(48,"option"),e._uU(49,"Conditional"),e.qZA(),e.TgZ(50,"option"),e._uU(51,"Not Approved"),e.qZA()(),e.YNc(52,Fs,2,1,"div",6),e.qZA(),e.TgZ(53,"td"),e._uU(54),e.qZA()()(),e.TgZ(55,"table",4)(56,"tr")(57,"td",9),e._uU(58,"EMR Records"),e.qZA(),e._UZ(59,"td"),e.TgZ(60,"td"),e._uU(61,"EMR Calculation"),e.qZA()(),e.TgZ(62,"tr")(63,"td"),e._uU(64,"Current Year "),e.TgZ(65,"span"),e._uU(66,"*"),e.qZA()(),e.TgZ(67,"td"),e._UZ(68,"input",10),e.YNc(69,ks,2,1,"div",6),e.qZA(),e.TgZ(70,"td",11),e._uU(71),e.qZA()(),e.TgZ(72,"tr")(73,"td"),e._uU(74,"Last Year "),e.TgZ(75,"span"),e._uU(76,"*"),e.qZA()(),e.TgZ(77,"td"),e._UZ(78,"input",12),e.YNc(79,ws,2,1,"div",6),e.qZA()(),e.TgZ(80,"tr")(81,"td"),e._uU(82,"Two Years Ago "),e.TgZ(83,"span"),e._uU(84,"*"),e.qZA()(),e.TgZ(85,"td"),e._UZ(86,"input",13),e.YNc(87,Us,2,1,"div",6),e.qZA()()(),e.TgZ(88,"table",4)(89,"tr")(90,"td",9),e._uU(91,"TRIR Information"),e.qZA(),e._UZ(92,"td"),e.TgZ(93,"td"),e._uU(94,"TRIR Calculation"),e.qZA()(),e.TgZ(95,"tr")(96,"td"),e._uU(97,"Last Year "),e.TgZ(98,"span"),e._uU(99,"*"),e.qZA()(),e.TgZ(100,"td"),e._UZ(101,"input",14),e.YNc(102,Es,2,1,"div",6),e.qZA(),e.TgZ(103,"td",11),e._uU(104),e.qZA()(),e.TgZ(105,"tr")(106,"td"),e._uU(107,"Two Years Ago "),e.TgZ(108,"span"),e._uU(109,"*"),e.qZA()(),e.TgZ(110,"td"),e._UZ(111,"input",15),e.YNc(112,Ps,2,1,"div",6),e.qZA()(),e.TgZ(113,"tr")(114,"td"),e._uU(115,"Three Years Ago "),e.TgZ(116,"span"),e._uU(117,"*"),e.qZA()(),e.TgZ(118,"td"),e._UZ(119,"input",16),e.YNc(120,js,2,1,"div",6),e.qZA()()(),e.TgZ(121,"table",4)(122,"tr")(123,"td",9),e._uU(124,"Safety Score \u2013 All above info is mandatory for calculation"),e.qZA(),e.TgZ(125,"td"),e._uU(126,"Calculated Safety Grade"),e.qZA(),e.TgZ(127,"td"),e._uU(128,"Safety Grade by Safety "),e.TgZ(129,"span"),e._uU(130,"*"),e.qZA()()(),e.TgZ(131,"tr")(132,"td")(133,"button",17),e.NdJ("click",function(){return i.safetygradecalculation()}),e._uU(134,"Calculated Safety Grade"),e.qZA()(),e.TgZ(135,"td"),e._uU(136),e.qZA(),e.TgZ(137,"td")(138,"select",18)(139,"option"),e._uU(140,"A"),e.qZA(),e.TgZ(141,"option"),e._uU(142,"B"),e.qZA(),e.TgZ(143,"option"),e._uU(144,"C"),e.qZA(),e.TgZ(145,"option"),e._uU(146,"D"),e.qZA()(),e.YNc(147,Ls,2,1,"div",6),e.qZA()()(),e.TgZ(148,"div",19)(149,"h6",20),e._uU(150,"Reason for change of Safety Grade*"),e.qZA(),e._UZ(151,"textarea",21),e.YNc(152,Qs,2,1,"div",6),e.qZA(),e.TgZ(153,"div",19)(154,"h6",20),e._uU(155,"Overall Safety Notes"),e.qZA(),e._UZ(156,"textarea",22),e.qZA(),e.TgZ(157,"div",19)(158,"label",23),e._uU(159,"Additional Attachment "),e.qZA(),e.TgZ(160,"div",24)(161,"input",25),e.NdJ("change",function(r){return i.qcpUpload(r)}),e.qZA(),e.TgZ(162,"span",26),e._uU(163,' \xa0Choose Files with "Click to Add Files"'),e.qZA(),e.YNc(164,Vs,4,0,"div",27),e.YNc(165,Bs,5,2,"div",28),e.qZA()(),e.TgZ(166,"div",19)(167,"div",29)(168,"button",17),e.NdJ("click",function(){return i.commentsubmit()}),e._uU(169,"Save "),e.qZA()(),e.TgZ(170,"div",30)(171,"button",17),e.NdJ("click",function(){return i.commentFinalsubmit()}),e._uU(172,"Approve & Send to Risk "),e.qZA()()()()()()),2&t&&(e.xp6(5),e.Q6J("formGroup",i.commentForm),e.xp6(15),e.Q6J("ngIf",i.submitted&&i.f.safety_officer.errors),e.xp6(2),e.Oqu(i.safetyScore),e.xp6(14),e.Q6J("ngIf",i.submitted&&i.f.safety_program.errors),e.xp6(2),e.Oqu(i.safetyProgramScore),e.xp6(14),e.Q6J("ngIf",i.submitted&&i.f.drug_alcohol.errors),e.xp6(2),e.Oqu(i.drugAlcoholPolicyScore),e.xp6(15),e.Q6J("ngIf",i.submitted&&i.f.emr_currentyear.errors),e.xp6(2),e.Oqu(i.emrScore),e.xp6(8),e.Q6J("ngIf",i.submitted&&i.f.emr_lastyear.errors),e.xp6(8),e.Q6J("ngIf",i.submitted&&i.f.emr_twoyear.errors),e.xp6(15),e.Q6J("ngIf",i.submitted&&i.f.trir_lastyear.errors),e.xp6(2),e.Oqu(i.trirScore),e.xp6(8),e.Q6J("ngIf",i.submitted&&i.f.trir_twoyear.errors),e.xp6(8),e.Q6J("ngIf",i.submitted&&i.f.trir_threeyear.errors),e.xp6(16),e.Oqu(i.safety_Calcuate),e.xp6(11),e.Q6J("ngIf",i.submitted&&i.f.grade_safety.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(22,pi,i.submitted&&i.f.comment.errors)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.comment.errors),e.xp6(9),e.Q6J("ngClass",e.VKq(24,pi,i.submitted&&i.f.attachment.errors)),e.xp6(3),e.Q6J("ngIf",null==i.spinner?null:i.spinner.bondingSpinner),e.xp6(1),e.Q6J("ngForOf",i.attachment))},directives:[s._Y,s.JL,s.sg,s.EJ,s.JJ,s.u,s.YN,s.Kr,f.O5,s.Fj,f.mk,ie.Ou,f.sg],styles:[".table[_ngcontent-%COMP%]{width:95%;margin:10px auto;border-top:1px solid #ccc;border-right:1px solid #ccc}.table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px;border-bottom:1px solid #ccc;border-left:1px solid #ccc;width:33%;font-style:italic!important;font-weight:600;font-size:13px}.section[_ngcontent-%COMP%]{margin:-14px auto 0;padding:10px;width:99%;background-color:#fff}.comment-section[_ngcontent-%COMP%]{width:95%;padding:0 10px 10px;margin:10px auto;background-color:#fff;border-radius:12px}.form[_ngcontent-%COMP%]{margin:10px;padding:10px 0}.row[_ngcontent-%COMP%]{margin:15px 0 15px 5px;width:97%;font-style:italic!important;font-weight:600}.my-auto1[_ngcontent-%COMP%]{margin:0 10px;font-style:italic!important;font-weight:600;font-size:13px!important}.rowform[_ngcontent-%COMP%]{margin-left:18px;margin-top:5px;width:98%}.bgyellow[_ngcontent-%COMP%]{background-color:#ff0;height:20px;font-weight:700;padding:5px 10px}.font-bold[_ngcontent-%COMP%]{font-weight:700;font-style:italic!important;font-weight:600;font-size:15px}.table[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:last-child) > [_ngcontent-%COMP%]:last-child > *[_ngcontent-%COMP%]{border-bottom-color:#fff}"]}),n})();function Ks(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Supplier is required"),e.qZA())}function Hs(n,a){if(1&n&&(e.TgZ(0,"div",121),e.YNc(1,Ks,2,0,"div",120),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.is_Supplier.errors.required)}}const M=function(n){return{"bg-grey":n}};function zs(n,a){if(1&n&&(e.TgZ(0,"div",122)(1,"small",123),e._uU(2,"As a supplier, you are not required to complete this section. Please move to the NEXT section."),e.qZA()()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(1,M,1==t.showdisabled))}}function $s(n,a){1&n&&(e.TgZ(0,"span",9),e._uU(1,"*"),e.qZA())}function Ws(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Safety officer/safety department is required"),e.qZA())}function Xs(n,a){if(1&n&&(e.TgZ(0,"div",121),e.YNc(1,Ws,2,0,"div",120),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.is_Safety_Officer.errors.required)}}function el(n,a){1&n&&(e.TgZ(0,"span",9),e._uU(1,"*"),e.qZA())}function tl(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Safety officer name is required "),e.qZA())}function il(n,a){if(1&n&&(e.TgZ(0,"div",121),e.YNc(1,tl,2,0,"div",120),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.safety_Officer_Name.errors.required)}}function nl(n,a){1&n&&(e.TgZ(0,"span",9),e._uU(1,"*"),e.qZA())}function ol(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Safety officer phone is required "),e.qZA())}function al(n,a){if(1&n&&(e.TgZ(0,"div",121),e.YNc(1,ol,2,0,"div",120),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.safety_Officer_Phone.errors.required)}}function rl(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Extention is required "),e.qZA())}function sl(n,a){if(1&n&&(e.TgZ(0,"div",121),e.YNc(1,rl,2,0,"div",120),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.safety_Officer_Phone_Ext.errors.required)}}function ll(n,a){1&n&&(e.TgZ(0,"span",9),e._uU(1,"*"),e.qZA())}function cl(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Safety officer email is required "),e.qZA())}function dl(n,a){if(1&n&&(e.TgZ(0,"div",121),e.YNc(1,cl,2,0,"div",120),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.safety_Officer_Email.errors.required)}}function pl(n,a){1&n&&(e.TgZ(0,"span",9),e._uU(1,"*"),e.qZA())}function ul(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Safety program is required"),e.qZA())}function ml(n,a){if(1&n&&(e.TgZ(0,"div",121),e.YNc(1,ul,2,0,"div",120),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.is_Safety_Program.errors.required)}}function _l(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Safety program attachment is required"),e.qZA())}function fl(n,a){if(1&n&&(e.TgZ(0,"div",121),e.YNc(1,_l,2,0,"div",120),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.safety_Program_Upload.errors.required)}}function hl(n,a){1&n&&(e.TgZ(0,"div",124)(1,"span"),e._uU(2,"Uploading..."),e.qZA(),e._UZ(3,"mat-progress-spinner",125),e.qZA())}function gl(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"p",126)(2,"small")(3,"a",127),e._uU(4),e.qZA()(),e.TgZ(5,"small",128),e.NdJ("click",function(){const o=e.CHM(t),r=o.index,l=o.$implicit;return e.oxw().removesafetyProgramFile(r,l)}),e._uU(6,"X"),e.qZA()()()}if(2&n){const t=a.$implicit;e.xp6(3),e.s9C("href",t.file_Path,e.LSH),e.xp6(1),e.Oqu(t.name)}}function vl(n,a){1&n&&(e.TgZ(0,"span",9),e._uU(1,"*"),e.qZA())}function yl(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Drug and alcohol testing policy is required"),e.qZA())}function Cl(n,a){if(1&n&&(e.TgZ(0,"div",121),e.YNc(1,yl,2,0,"div",120),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.is_Drug_Testing_Policy.errors.required)}}function bl(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Attachment is required"),e.qZA())}function Tl(n,a){if(1&n&&(e.TgZ(0,"div",121),e.YNc(1,bl,2,0,"div",120),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.drug_Testing_Upload.errors.required)}}function Zl(n,a){1&n&&(e.TgZ(0,"div",124)(1,"span"),e._uU(2,"Uploading..."),e.qZA(),e._UZ(3,"mat-progress-spinner",125),e.qZA())}function xl(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"p",126)(2,"small")(3,"a",127),e._uU(4),e.qZA()(),e.TgZ(5,"small",128),e.NdJ("click",function(){const o=e.CHM(t),r=o.index,l=o.$implicit;return e.oxw().removesafetyofficerFile(r,l)}),e._uU(6,"X"),e.qZA()()()}if(2&n){const t=a.$implicit;e.xp6(3),e.s9C("href",t.file_Path,e.LSH),e.xp6(1),e.Oqu(t.name)}}function Il(n,a){1&n&&(e.TgZ(0,"span",9),e._uU(1,"*"),e.qZA())}function Al(n,a){1&n&&(e.TgZ(0,"span",9),e._uU(1,"*"),e.qZA())}function ql(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Last year TRIR is required"),e.qZA())}function Fl(n,a){if(1&n&&(e.TgZ(0,"div",121),e.YNc(1,ql,2,0,"div",120),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.triR_Info_LastYear.errors.required)}}function Rl(n,a){1&n&&(e.TgZ(0,"span",9),e._uU(1,"*"),e.qZA())}function kl(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Two years TRIR is required"),e.qZA())}function Sl(n,a){if(1&n&&(e.TgZ(0,"div",121),e.YNc(1,kl,2,0,"div",120),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.triR_Info_TwoYears.errors.required)}}function wl(n,a){1&n&&(e.TgZ(0,"span",9),e._uU(1,"*"),e.qZA())}function Nl(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Three years TRIR is required "),e.qZA())}function Ul(n,a){if(1&n&&(e.TgZ(0,"div",121),e.YNc(1,Nl,2,0,"div",120),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.triR_Info_ThreeYears.errors.required)}}function Ml(n,a){1&n&&(e.TgZ(0,"span",9),e._uU(1,"*"),e.qZA())}function El(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Employees count is required "),e.qZA())}function Ol(n,a){if(1&n&&(e.TgZ(0,"div",121),e.YNc(1,El,2,0,"div",120),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.number_Of_Employees.errors.required)}}function Pl(n,a){1&n&&(e.TgZ(0,"span",9),e._uU(1,"*"),e.qZA())}function Jl(n,a){1&n&&(e.TgZ(0,"div",124)(1,"span"),e._uU(2,"Uploading..."),e.qZA(),e._UZ(3,"mat-progress-spinner",125),e.qZA())}function jl(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Last year OSHA log is required"),e.qZA())}function Yl(n,a){if(1&n&&(e.TgZ(0,"div",121),e.YNc(1,jl,2,0,"div",120),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.oshA_Log_LastYear.errors.required)}}function Ll(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"p",126)(2,"small")(3,"a",127),e._uU(4),e.qZA()(),e.TgZ(5,"small",128),e.NdJ("click",function(){const o=e.CHM(t),r=o.index,l=o.$implicit;return e.oxw().removeOSHALastYearUpload(r,l)}),e._uU(6,"X"),e.qZA()()()}if(2&n){const t=a.$implicit;e.xp6(3),e.s9C("href",t.file_Path,e.LSH),e.xp6(1),e.Oqu(t.name)}}function Dl(n,a){1&n&&(e.TgZ(0,"span",9),e._uU(1,"*"),e.qZA())}function Ql(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"OSHA is required"),e.qZA())}function Vl(n,a){if(1&n&&(e.TgZ(0,"div",121),e.YNc(1,Ql,2,0,"div",120),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.is_OSHA.errors.required)}}function Bl(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"OSHA citation is required"),e.qZA())}function Gl(n,a){if(1&n&&(e.TgZ(0,"div",121),e.YNc(1,Bl,2,0,"div",120),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.oshA_Citation.errors.required)}}function Kl(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"OSHA additional information is required"),e.qZA())}function Hl(n,a){if(1&n&&(e.TgZ(0,"div",121),e.YNc(1,Kl,2,0,"div",120),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.oshA_AddInfo.errors.required)}}const Z=function(n){return{"is-invalid":n}};function zl(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",129)(1,"label"),e._uU(2,"1. How many citations? "),e.qZA(),e.TgZ(3,"input",130),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e.qZA(),e.YNc(4,Gl,2,1,"div",17),e.TgZ(5,"label"),e._uU(6,"2. Additional Details"),e.qZA(),e.TgZ(7,"textarea",131),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e.qZA(),e.YNc(8,Hl,2,1,"div",17),e.qZA()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngClass",e.VKq(4,Z,t.submitted&&t.f.oshA_AddInfo.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.oshA_Citation.errors),e.xp6(3),e.Q6J("ngClass",e.VKq(6,Z,t.submitted&&t.f.oshA_AddInfo.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.oshA_AddInfo.errors)}}function $l(n,a){1&n&&(e.TgZ(0,"span",9),e._uU(1,"*"),e.qZA())}function Wl(n,a){1&n&&(e.TgZ(0,"span",9),e._uU(1,"*"),e.qZA())}function Xl(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Current year EMR is required"),e.qZA())}function ec(n,a){if(1&n&&(e.TgZ(0,"div",121),e.YNc(1,Xl,2,0,"div",120),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.emR_LastYear_Upload.errors.required)}}function tc(n,a){1&n&&(e.TgZ(0,"span",9),e._uU(1,"*"),e.qZA())}function ic(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Last year EMR is required"),e.qZA())}function nc(n,a){if(1&n&&(e.TgZ(0,"div",121),e.YNc(1,ic,2,0,"div",120),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.emR_TwoYears_Upload.errors.required)}}function oc(n,a){1&n&&(e.TgZ(0,"span",9),e._uU(1,"*"),e.qZA())}function ac(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Two years EMR is required "),e.qZA())}function rc(n,a){if(1&n&&(e.TgZ(0,"div",121),e.YNc(1,ac,2,0,"div",120),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.emR_ThreeYears_Upload.errors.required)}}function sc(n,a){1&n&&(e.TgZ(0,"span",9),e._uU(1,"*"),e.qZA())}function lc(n,a){1&n&&(e.TgZ(0,"span",9),e._uU(1,"*"),e.qZA())}function cc(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"EMR is required"),e.qZA())}function dc(n,a){if(1&n&&(e.TgZ(0,"div",121),e.YNc(1,cc,2,0,"div",120),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.emR_Verification_Upload.errors.required)}}function pc(n,a){1&n&&(e.TgZ(0,"div",124)(1,"span"),e._uU(2,"Uploading..."),e.qZA(),e._UZ(3,"mat-progress-spinner",125),e.qZA())}function uc(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"p",126)(2,"small")(3,"a",127),e._uU(4),e.qZA()(),e.TgZ(5,"small",128),e.NdJ("click",function(){const o=e.CHM(t),r=o.index,l=o.$implicit;return e.oxw().removeemRVerificationUpload(r,l)}),e._uU(6,"X"),e.qZA()()()}if(2&n){const t=a.$implicit;e.xp6(3),e.s9C("href",t.file_Path,e.LSH),e.xp6(1),e.Oqu(t.name)}}function mc(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",132)(1,"button",133),e.NdJ("click",function(){return e.CHM(t),e.oxw().gotoHome()}),e._uU(2," << BACK"),e.qZA(),e.TgZ(3,"button",134),e.NdJ("click",function(){return e.CHM(t),e.oxw().save()}),e._uU(4),e.qZA(),e.TgZ(5,"button",135),e._uU(6,"NEXT >>"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(4),e.Oqu(t.submitText)}}function _c(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",136)(1,"button",133),e.NdJ("click",function(){return e.CHM(t),e.oxw().gotoHome()}),e._uU(2," << BACK"),e.qZA(),e.TgZ(3,"button",137),e.NdJ("click",function(){return e.CHM(t),e.oxw().nextroutePage()}),e._uU(4,"NEXT >>"),e.qZA()()}}function fc(n,a){if(1&n&&e._UZ(0,"app-safetycomment",138),2&n){const t=e.oxw();e.Q6J("formId",t.safetyid)("companyId",t.tempcompanyid)("taxId",t.taxId)("vendorId",t.vendorId)}}function hc(n,a){1&n&&(e.TgZ(0,"div")(1,"button",139),e._uU(2,"SUBMIT SAFETY INPUTS "),e.qZA()())}let gc=(()=>{class n{constructor(t,i,o,r,l,c,d,p,_){this.formBuilder=t,this.router=i,this.safetyservice=o,this.bnIdle=r,this.keepalive=l,this.toastr=c,this.companyservice=d,this.loginInfo=p,this.ngxUiLoader=_,this.currentForm=3,this.submitted=!1,this.safetyinfoForm=this.formBuilder.group({id:[0],companyId:[0],is_Supplier:["no",[s.kI.required]],is_Safety_Officer:["no",[s.kI.required]],safety_Officer_Name:["",[s.kI.required,s.kI.maxLength(130)]],safety_Officer_Phone:["",[s.kI.required,s.kI.pattern(/^-?(0|[1-9]\d*)?$/)]],safety_Officer_Phone_Ext:["",[s.kI.maxLength(5)]],safety_Officer_Email:["",[s.kI.required,s.kI.email,s.kI.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)]],is_Safety_Program:["no",[s.kI.required]],safety_Program_Upload:[null,[s.kI.required]],is_Drug_Testing_Policy:["no",[s.kI.required]],drug_Testing_Upload:[null,[s.kI.required]],number_Of_Employees:["",[s.kI.required,s.kI.maxLength(130)]],oshA_Log_LastYear:[null,[s.kI.required]],is_OSHA:["no",[s.kI.required]],oshA_AddInfo:["",[s.kI.required]],oshA_Citation:["",[s.kI.required]],isnumber_Of_Employees:[!1],triR_Info_LastYear:[null,[s.kI.required]],triR_Info_TwoYears:[null,[s.kI.required]],triR_Info_ThreeYears:[null,[s.kI.required]],emR_LastYear_Upload:[null,[s.kI.required]],emR_TwoYears_Upload:[null,[s.kI.required]],emR_ThreeYears_Upload:[null,[s.kI.required]],emR_Verification_Upload:[null,[s.kI.required]],isAutosave:[!1],preQualification_Status:["In-Progress"],isComplete:[!1]}),this.companyInfo=this.formBuilder.group({id:["0"],org_Type:[null,[s.kI.required,s.kI.maxLength(130)]],is_Certified_Diverse:["",[s.kI.required,s.kI.maxLength(130)]],certified_Diverse_Attachment:["null",[s.kI.maxLength(130)]],contact_Name:[null,[s.kI.required,s.kI.maxLength(256)]],contact_Email:[null,[s.kI.required,s.kI.maxLength(256),s.kI.email,s.kI.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)]],contact_Mobile:[null,[s.kI.required,s.kI.maxLength(256),s.kI.pattern(/^-?(0|[1-9]\d*)?$/)]],additional_Details:["",[s.kI.required,s.kI.maxLength(256)]],CD_Upload:[null],other_details:["",s.kI.maxLength(256)],isAutosave:[!0],preQualification_Status:["In-Progress"],isComplete:[!0],reject_Reason:[""]}),this.safetyProgramAttachments=[],this.oshALogLastYear=[],this.oshALogThreeYears=[],this.oshALogTwoYears=[],this.triRInfoLastYear=[],this.triRInfoThreeYears=[],this.triRInfoTwoYears=[],this.Safety_Program_Upload=[],this.tempSafetyProgramUpload=[],this.tempOSHALastYearUpload=[],this.tempOSHAThreeYearsUpload=[],this.tempOSHATwoYearsUpload=[],this.tempTRIRLastYearUpload=[],this.tempTRIRThreeYearsUpload=[],this.tempTRIRTwoYearsUpload=[],this.setTimeout=0,this.formSubmited=!1,this.is_Supplier=!1,this.spinner={safetySpinner:!1,oshaLastSpinner:!1,oshaTwoSpinner:!1,oshaThreeSpinner:!1,trirLastSpinner:!1,trirTwoSpinner:!1,trirThreeSpinner:!1,drugtestingSpinner:!1,emrLastSpinner:!1,emrTwoSpinner:!1,emrThreeSpinner:!1,emrverification:!1},this.resetTimer=0,this.showAdmin=!1,this.userRole="",this.companyId=0,this.safetyid=0,this.isCompleted=!1,this.prequalification_status="",this.drugTestingUploadAttachments=[],this.tempdrugTestingUpload=[],this.tempemRLastYearUpload=[],this.emRLastYear=[],this.tempemRTwoYearsUpload=[],this.emRTwoYears=[],this.tempemRThreeYearsUpload=[],this.emRThreeYears=[],this.tempemRVerificationUpload=[],this.emRVerification=[],this.showdisabled=!1,this.taxId=0,this.vendorId=0}ngOnInit(){this.ngxUiLoader.startLoader("loader-01"),localStorage.setItem("currPage","safetyinfo"),this.prequalification_status=this.loginInfo.organization_status,this.submitText="SAVE";let t=localStorage.getItem("userDetails");t=JSON.parse(atob(t)),this.userDetails=t,this.userRole=t.role,this.tempcompanyid=localStorage.getItem("tempcompanyid"),this.tempcompanyid=Number(atob(this.tempcompanyid));var i=localStorage.getItem("taxID");i&&(this.taxId=Number(atob(i)));var o=localStorage.getItem("vendorID");o&&(this.vendorId=Number(atob(o))),this.tempcompanyid>0&&"Subcontractor"!=this.userRole&&(this.showAdmin=!0,this.showdisabled=!0,this.safetyservice.getRecords(this.tempcompanyid).subscribe(r=>{var l;this.safetyinfoForm.disable(),this.safetyinfoForm.updateValueAndValidity(),this.showAdmin=!0,this.showdisabled=!0,(null==r?void 0:r.length)&&(this.safetyid=r[0].id,this.submitText=r[0].is_Supplier?"UPDATE":"SAVE",this.updateSafetyinfo(r),this.getFiles(null===(l=r[0])||void 0===l?void 0:l.files))})),null!=this.userDetails.vendorId&&null!=this.userDetails.taxId&&"Subcontractor"==this.userRole&&this.safetyservice.getUser(this.userDetails.vendorId,this.userDetails.taxId).subscribe(r=>{this.companyId=r.id,localStorage.setItem("companyid",btoa(this.companyId)),this.getRecords(this.companyId)}),this.ngxUiLoader.stopLoader("loader-01")}resetSupplierYes(){console.log("resetSafety"),this.safetyinfoForm.controls.is_Safety_Officer.setValue("no"),this.resetSafety(),this.safetyinfoForm.controls.is_Safety_Program.setValue("no"),this.resetSafetyProgram(),this.safetyinfoForm.controls.is_Drug_Testing_Policy.setValue("no"),this.resetDrug(),this.safetyinfoForm.patchValue({triR_Info_LastYear:"",triR_Info_TwoYears:"",triR_Info_ThreeYears:"",emR_LastYear_Upload:"",emR_TwoYears_Upload:"",emR_ThreeYears_Upload:""}),this.safetyinfoForm.controls.number_Of_Employees.setValue(""),this.isNumberEmployees(!0),this.safetyinfoForm.controls.is_OSHA.setValue("no"),this.safetyinfoForm.controls.oshA_AddInfo.setValidators(null),this.safetyinfoForm.controls.oshA_AddInfo.updateValueAndValidity(),this.safetyinfoForm.controls.oshA_AddInfo.setValue(""),this.safetyinfoForm.controls.oshA_Citation.setValidators(null),this.safetyinfoForm.controls.oshA_Citation.updateValueAndValidity(),this.safetyinfoForm.controls.oshA_Citation.setValue(""),this.emRVerification.forEach((t,i)=>{this.safetyservice.deleteRecord(t.id).subscribe(o=>{this.emRVerification.splice(i,1)})})}getRecords(t){this.safetyservice.getRecords(t).subscribe(i=>{var o;console.log(i),i.length&&(this.safetyid=i[0].id,this.submitText=i[0].is_Supplier?"UPDATE":"SAVE",this.updateSafetyinfo(i),this.getFiles(null===(o=i[0])||void 0===o?void 0:o.files))}),this.companyId>0&&this.companyservice.getRecord(t).subscribe(i=>{this.prequalification_status=i[0].preQualification_Status,i[0].preQualification_Status&&this.loginInfo.formDisable(i[0].preQualification_Status)&&(this.showdisabled=!0,this.safetyinfoForm.disable(),this.safetyinfoForm.updateValueAndValidity(),this.safetyinfoForm.controls.oshA_Log_LastYear.disable(),this.safetyinfoForm.controls.oshA_Log_LastYear.updateValueAndValidity())})}resetSafety(){this.safetyinfoForm.patchValue({safety_Officer_Email:"",safety_Officer_Name:"",safety_Officer_Phone:"",safety_Officer_Phone_Ext:""})}resetSafetyProgram(){this.showdisabled=!1,this.safetyProgramAttachments.forEach((t,i)=>{this.removesafetyProgramFile(i,t,!1)})}resetDrug(){var t;this.showdisabled=!1,null===(t=this.drugTesting)||void 0===t||t.forEach((i,o)=>{this.removesafetyofficerFile(o,i,!1)})}updateSafetyinfo(t){this.safetyinfoForm.patchValue({id:t[0].id,companyId:t[0].companyId,is_Supplier:t[0].is_Supplier,is_Safety_Officer:t[0].is_Safety_Officer,is_Drug_Testing_Policy:t[0].is_Drug_Testing_Policy,is_Safety_Program:t[0].is_Safety_Program,number_Of_Employees:t[0].number_Of_Employees&&"null"!=t[0].number_Of_Employees?t[0].number_Of_Employees:"",safety_Officer_Email:t[0].safety_Officer_Email&&"null"!=t[0].safety_Officer_Email?t[0].safety_Officer_Email:"",safety_Officer_Name:t[0].safety_Officer_Name&&"null"!=t[0].safety_Officer_Name?t[0].safety_Officer_Name:"",safety_Officer_Phone:t[0].safety_Officer_Phone&&"null"!=t[0].safety_Officer_Phone?t[0].safety_Officer_Phone:"",safety_Officer_Phone_Ext:t[0].safety_Officer_Phone_Ext&&"null"!=t[0].safety_Officer_Phone_Ext?t[0].safety_Officer_Phone_Ext:"",triR_Info_LastYear:t[0].triR_Info_LastYear?t[0].triR_Info_LastYear:"",triR_Info_TwoYears:t[0].triR_Info_TwoYears?t[0].triR_Info_TwoYears:"",triR_Info_ThreeYears:t[0].triR_Info_ThreeYears?t[0].triR_Info_ThreeYears:"",emR_LastYear_Upload:t[0].emR_LastYear_Upload?t[0].emR_LastYear_Upload:"",emR_TwoYears_Upload:t[0].emR_TwoYears_Upload?t[0].emR_TwoYears_Upload:"",emR_ThreeYears_Upload:t[0].emR_ThreeYears_Upload?t[0].emR_ThreeYears_Upload:"",isnumber_Of_Employees:!!t[0].isnumber_Of_Employees&&t[0].isnumber_Of_Employees}),this.safetyinfoForm.patchValue(t[0].supplier_Definition&&"null"!=t[0].supplier_Definition?{supplier_Definition:t[0].supplier_Definition}:{supplier_Definition:""}),this.safetyinfoForm.patchValue(null!=t[0].oshA_AddInfo&&"null"!=t[0].oshA_AddInfo?{oshA_AddInfo:t[0].oshA_AddInfo}:{oshA_AddInfo:""}),this.safetyinfoForm.patchValue(null!=t[0].citation&&"null"!=t[0].citation?{oshA_Citation:t[0].citation}:{oshA_Citation:""}),null!=t[0].is_OSHA&&"null"!=t[0].is_OSHA&&this.safetyinfoForm.patchValue({is_OSHA:t[0].is_OSHA}),null!=t[0].is_Safety_Program&&"null"!=t[0].is_Safety_Program&&this.safetyinfoForm.patchValue({is_Safety_Program:t[0].is_Safety_Program}),"Subcontractor"!=this.userRole&&"yes"==this.safetyinfoForm.value.is_Supplier&&(this.safetyinfoForm.controls.is_Safety_Program.setValidators([s.kI.required]),this.safetyinfoForm.controls.is_OSHA.setValidators([s.kI.required]),this.safetyinfoForm.controls.oshA_AddInfo.setValidators([s.kI.required]),this.safetyinfoForm.controls.oshA_Citation.setValidators([s.kI.required]),this.safetyinfoForm.controls.oshA_Log_LastYear.setValidators([s.kI.required]),this.safetyinfoForm.controls.triR_Info_LastYear.setValidators([s.kI.required]),this.safetyinfoForm.controls.triR_Info_TwoYears.setValidators([s.kI.required]),this.safetyinfoForm.controls.triR_Info_ThreeYears.setValidators([s.kI.required]))}ngOnDestroy(){this.keepalive.stop(),this.nextpage()}ngAfterViewInit(){this.keepalive.interval(30),this.keepalive.stop(),0==this.setTimeout&&this.keepalive.stop(),0==this.showAdmin&&this.keepalive.onPing.subscribe(()=>{"safetyinfo"==localStorage.getItem("currPage")&&(1==this.setTimeout?(this.autoSave(),this.keepalive.stop(),this.setTimeout=0):this.setTimeout=1)})}idleReset(){this.keepalive.stop(),this.keepalive.start(),this.resetTimer=0}getFiles(t){this.safetyProgramAttachments=[],this.oshALogLastYear=[],this.oshALogTwoYears=[],this.oshALogThreeYears=[],this.triRInfoLastYear=[],this.triRInfoTwoYears=[],this.triRInfoThreeYears=[],this.drugTesting=[],this.emRLastYear=[],this.emRTwoYears=[],this.emRThreeYears=[],this.emRVerification=[],t.filter(i=>{"Safety_Program_Upload"==i.file_Type&&0==i.isDeleted&&(i.file_Name.length<31?this.safetyProgramAttachments.push({id:i.id,name:i.file_Name,file_Path:i.file_Path}):0==i.isDeleted&&this.safetyProgramAttachments.push({id:i.id,name:i.file_Name.substring(0,31)+"....",file_Path:i.file_Path})),"OSHA_LastYear_Upload"==i.file_Type&&0==i.isDeleted&&(i.file_Name.length<31?this.oshALogLastYear.push({id:i.id,name:i.file_Name,file_Path:i.file_Path}):0==i.isDeleted&&this.oshALogLastYear.push({id:i.id,name:i.file_Name.substring(0,31)+"....",file_Path:i.file_Path})),"OSHA_TwoYears_Upload"==i.file_Type&&0==i.isDeleted&&(i.file_Name.length<31?this.oshALogTwoYears.push({id:i.id,name:i.file_Name,file_Path:i.file_Path}):0==i.isDeleted&&this.oshALogTwoYears.push({id:i.id,name:i.file_Name.substring(0,31)+"....",file_Path:i.file_Path})),"OSHA_ThreeYears_Upload"==i.file_Type&&0==i.isDeleted&&(i.file_Name.length<31?this.oshALogThreeYears.push({id:i.id,name:i.file_Name,file_Path:i.file_Path}):0==i.isDeleted&&this.oshALogThreeYears.push({id:i.id,name:i.file_Name.substring(0,31)+"....",file_Path:i.file_Path})),"Drug_Testing_Upload"==i.file_Type&&0==i.isDeleted&&(i.file_Name.length<31?this.drugTesting.push({id:i.id,name:i.file_Name,file_Path:i.file_Path}):0==i.isDeleted&&this.drugTesting.push({id:i.id,name:i.file_Name.substring(0,31)+"....",file_Path:i.file_Path})),"EMR_Verification_Upload"==i.file_Type&&0==i.isDeleted&&(i.file_Name.length<31?this.emRVerification.push({id:i.id,name:i.file_Name,file_Path:i.file_Path}):0==i.isDeleted&&this.emRVerification.push({id:i.id,name:i.file_Name.substring(0,31)+"....",file_Path:i.file_Path}))})}get f(){var t,i,o,r;return this.safetyinfoForm.value.is_Supplier&&"no"!=this.safetyinfoForm.value.is_Supplier||!1!==this.showdisabled?((r=[]).push(this.safetyinfoForm.controls.safety_Officer_Name),r.push(this.safetyinfoForm.controls.safety_Officer_Phone),r.push(this.safetyinfoForm.controls.safety_Officer_Email),r.push(this.safetyinfoForm.controls.safety_Program_Upload),r.push(this.safetyinfoForm.controls.drug_Testing_Upload),r.push(this.safetyinfoForm.controls.triR_Info_LastYear),r.push(this.safetyinfoForm.controls.triR_Info_TwoYears),r.push(this.safetyinfoForm.controls.triR_Info_ThreeYears),r.push(this.safetyinfoForm.controls.number_Of_Employees),r.push(this.safetyinfoForm.controls.oshA_Log_LastYear),r.push(this.safetyinfoForm.controls.oshA_Citation),r.push(this.safetyinfoForm.controls.oshA_AddInfo),r.push(this.safetyinfoForm.controls.emR_LastYear_Upload),r.push(this.safetyinfoForm.controls.emR_TwoYears_Upload),r.push(this.safetyinfoForm.controls.emR_ThreeYears_Upload),r.push(this.safetyinfoForm.controls.emR_Verification_Upload),r=this.validatorEnableOrDisable(!1,r)):((r=[]).push(this.safetyinfoForm.controls.safety_Officer_Name),r.push(this.safetyinfoForm.controls.safety_Officer_Phone),r.push(this.safetyinfoForm.controls.safety_Officer_Email),(r=this.validatorEnableOrDisable(!this.safetyinfoForm.value.is_Safety_Officer||"yes"==this.safetyinfoForm.value.is_Safety_Officer,r)).push(this.safetyinfoForm.controls.safety_Program_Upload),(r=this.validatorEnableOrDisable((!this.safetyinfoForm.value.is_Safety_Program||"yes"==this.safetyinfoForm.value.is_Safety_Program)&&0==(null===(t=this.safetyProgramAttachments)||void 0===t?void 0:t.length),r)).push(this.safetyinfoForm.controls.drug_Testing_Upload),(r=this.validatorEnableOrDisable((!this.safetyinfoForm.value.is_Drug_Testing_Policy||"yes"==this.safetyinfoForm.value.is_Drug_Testing_Policy)&&0==(null===(i=this.drugTesting)||void 0===i?void 0:i.length),r)).push(this.safetyinfoForm.controls.triR_Info_LastYear),r.push(this.safetyinfoForm.controls.triR_Info_TwoYears),r.push(this.safetyinfoForm.controls.triR_Info_ThreeYears),r=this.validatorEnableOrDisable(!0,r),this.safetyinfoForm.controls.number_Of_Employees.setValidators([s.kI.required,s.kI.maxLength(130)]),this.safetyinfoForm.controls.number_Of_Employees.enable(),this.safetyinfoForm.controls.number_Of_Employees.updateValueAndValidity(),r.push(this.safetyinfoForm.controls.oshA_Log_LastYear),(r=this.validatorEnableOrDisable(null==this.safetyinfoForm.value.isnumber_Of_Employees||0==this.safetyinfoForm.value.isnumber_Of_Employees,r)).push(this.safetyinfoForm.controls.oshA_Citation),r.push(this.safetyinfoForm.controls.oshA_AddInfo),(r=this.validatorEnableOrDisable(!this.safetyinfoForm.value.is_OSHA||"yes"==this.safetyinfoForm.value.is_OSHA,r)).push(this.safetyinfoForm.controls.emR_LastYear_Upload),r.push(this.safetyinfoForm.controls.emR_TwoYears_Upload),r.push(this.safetyinfoForm.controls.emR_ThreeYears_Upload),(r=this.validatorEnableOrDisable(!0,r)).push(this.safetyinfoForm.controls.emR_Verification_Upload),r=this.validatorEnableOrDisable(0===(null===(o=this.emRVerification)||void 0===o?void 0:o.length),r)),this.safetyinfoForm.controls}validatorEnableOrDisable(t,i){return i.forEach(o=>{t?(o.setValidators([s.kI.required]),o.enable()):(o.clearValidators(),o.disable()),o.updateValueAndValidity()}),[]}submit(){if(this.keepalive.stop(),this.ngxUiLoader.startLoader("loader-01"),"Subcontractor"!=this.userRole)this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`]);else if(0==this.safetyid){("yes"==this.safetyinfoForm.value.is_Supplier||"no"==this.safetyinfoForm.value.is_Supplier)&&this.safetyinfoForm.patchValue({isAutosave:!0});let t=this.formMethod();this.safetyservice.addRecord(t).subscribe(i=>{this.getRecords(this.companyId)},i=>{},()=>{this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])})}else{this.safetyinfoForm.patchValue({isAutosave:!0});let t=this.formMethod();this.safetyservice.updateRecord(t,this.safetyid).subscribe(i=>{this.getRecords(this.companyId)},i=>{},()=>{this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])})}}save(){if(this.submitted=!0,this.formSubmited=!0,this.keepalive.stop(),this.safetyinfoForm.value.isnumber_Of_Employees&&this.safetyinfoForm.controls.oshA_Log_LastYear.setValidators(null),console.log(this.safetyinfoForm.controls.oshA_Log_LastYear.valid),this.safetyinfoForm.valid)if(0==this.safetyid){this.safetyinfoForm.patchValue({isAutosave:!0}),("yes"==this.safetyinfoForm.value.is_Supplier||"no"==this.safetyinfoForm.value.is_Supplier)&&this.safetyinfoForm.patchValue({isAutosave:!0});let t=this.formMethod();this.safetyservice.addRecord(t).subscribe(i=>{this.getRecords(this.companyId),this.submitText="UPDATE",this.getRecords(this.companyId),this.fileReset(),this.resetSpinner(),this.toastr.success("Safety Information saved successfully","Safety Information")})}else{this.safetyinfoForm.patchValue({isAutosave:!0});let t=this.formMethod();console.log(t),this.safetyservice.updateRecord(t,this.safetyid).subscribe(i=>{this.getRecords(this.companyId),this.fileReset(),this.resetSpinner(),this.toastr.success("Safety Information updated successfully","Safety Information")})}}autoSave(){if(this.resetTimer+=1,1==this.resetTimer)if(0==this.safetyid){this.safetyinfoForm.patchValue({isAutosave:!0});let t=this.formMethod();this.safetyservice.addRecord(t).subscribe(i=>{this.submitText="UPDATE",this.getRecords(this.companyId),this.fileReset(),this.keepalive.stop(),this.resetSpinner()})}else{this.safetyinfoForm.patchValue({isAutosave:!0});let t=this.formMethod();this.safetyservice.updateRecord(t,this.safetyid).subscribe(i=>{this.getRecords(this.companyId),this.fileReset(),this.keepalive.stop(),this.resetSpinner(),this.safetyinfoForm.patchValue({isAutosave:!0})})}}isNumberEmployees(t){1==t?(this.showdisabled=!1,this.oshALogLastYear.forEach((i,o)=>{this.removeOSHALastYearUpload(o,i,!1)}),this.safetyinfoForm.controls.oshA_Log_LastYear.disable(),this.safetyinfoForm.controls.oshA_Log_LastYear.setValidators(null),this.safetyinfoForm.controls.oshA_Log_LastYear.updateValueAndValidity()):(this.safetyinfoForm.controls.oshA_Log_LastYear.setValidators([s.kI.required]),this.safetyinfoForm.controls.oshA_Log_LastYear.enable())}nextpage(){if("Subcontractor"==this.userRole)if(0==this.safetyid){("yes"==this.safetyinfoForm.value.is_Supplier||"no"==this.safetyinfoForm.value.is_Supplier)&&this.safetyinfoForm.patchValue({isAutosave:!0});let t=this.formMethod();this.safetyservice.addRecord(t).subscribe(i=>{this.toastr.success("Safety Information saved successfully","Safety Information"),this.keepalive.stop(),this.resetSpinner()})}else if(!this.showdisabled){this.safetyinfoForm.patchValue({isAutosave:!0});let t=this.formMethod();console.log(t),this.safetyservice.updateRecord(t,this.safetyid).subscribe(i=>{this.toastr.success("Safety Information updated successfully","Safety Information"),this.keepalive.stop(),this.resetSpinner()})}}fileReset(){this.safetyinfoForm.patchValue({oshA_Log_LastYear:"",triR_Info_LastYear:"",triR_Info_TwoYears:"",triR_Info_ThreeYears:"",safety_Program_Upload:"",drug_Testing_Upload:"",emR_LastYear_Upload:"",emR_TwoYears_Upload:"",emR_ThreeYears_Upload:"",emR_Verification_Upload:""})}formMethod(){var t=new FormData;t.append("id",this.safetyinfoForm.value.id),t.append("companyId",this.companyId),t.append("is_Supplier",this.loginInfo.validateEmpty(this.safetyinfoForm.value.is_Supplier)),t.append("is_Safety_Officer",this.loginInfo.validateEmpty(this.safetyinfoForm.value.is_Safety_Officer)),t.append("is_Drug_Testing_Policy",this.loginInfo.validateEmpty(this.safetyinfoForm.value.is_Drug_Testing_Policy)),t.append("safety_Officer_Name",this.loginInfo.validateEmpty(this.safetyinfoForm.value.safety_Officer_Name)),t.append("safety_Officer_Phone",this.loginInfo.validateEmpty(this.safetyinfoForm.value.safety_Officer_Phone)),t.append("safety_Officer_Phone_Ext",this.loginInfo.validateEmpty(this.safetyinfoForm.value.safety_Officer_Phone_Ext)),t.append("safety_Officer_Email",this.loginInfo.validateEmpty(this.safetyinfoForm.value.safety_Officer_Email)),t.append("is_Safety_Program",this.loginInfo.validateEmpty(this.safetyinfoForm.value.is_Safety_Program)),t.append("number_Of_Employees",this.loginInfo.validateEmpty(this.safetyinfoForm.value.number_Of_Employees)),t.append("is_OSHA",this.loginInfo.validateEmpty(this.safetyinfoForm.value.is_OSHA)),t.append("oshA_AddInfo",this.loginInfo.validateEmpty(this.safetyinfoForm.value.oshA_AddInfo)),t.append("citation",this.safetyinfoForm.value.oshA_Citation?this.safetyinfoForm.value.oshA_Citation:0),t.append("isComplete",!1),t.append("isAutosave",this.safetyinfoForm.value.isAutosave),t.append("isnumber_Of_Employees",this.safetyinfoForm.value.isnumber_Of_Employees),t.append("triR_Info_LastYear",this.safetyinfoForm.value.triR_Info_LastYear?this.safetyinfoForm.value.triR_Info_LastYear:""),t.append("triR_Info_TwoYears",this.safetyinfoForm.value.triR_Info_TwoYears?this.safetyinfoForm.value.triR_Info_TwoYears:""),t.append("triR_Info_ThreeYears",this.safetyinfoForm.value.triR_Info_ThreeYears?this.safetyinfoForm.value.triR_Info_ThreeYears:""),t.append("emR_LastYear_Upload",this.safetyinfoForm.value.emR_LastYear_Upload?this.safetyinfoForm.value.emR_LastYear_Upload:""),t.append("emR_TwoYears_Upload",this.safetyinfoForm.value.emR_TwoYears_Upload?this.safetyinfoForm.value.emR_TwoYears_Upload:""),t.append("emR_ThreeYears_Upload",this.safetyinfoForm.value.emR_ThreeYears_Upload?this.safetyinfoForm.value.emR_ThreeYears_Upload:"");for(let i=0;i<this.tempSafetyProgramUpload.length;i++)t.append("Safety_Program_Upload",this.tempSafetyProgramUpload[i]);this.tempSafetyProgramUpload=[];for(let i=0;i<this.tempdrugTestingUpload.length;i++)t.append("drug_Testing_Upload",this.tempdrugTestingUpload[i]);this.tempdrugTestingUpload=[];for(let i=0;i<this.tempOSHALastYearUpload.length;i++)t.append("OSHA_LastYear_Upload",this.tempOSHALastYearUpload[i]);this.tempOSHALastYearUpload=[];for(let i=0;i<this.tempOSHATwoYearsUpload.length;i++)t.append("OSHA_TwoYears_Upload",this.tempOSHATwoYearsUpload[i]);this.tempOSHATwoYearsUpload=[];for(let i=0;i<this.tempOSHAThreeYearsUpload.length;i++)t.append("OSHA_ThreeYears_Upload",this.tempOSHAThreeYearsUpload[i]);return this.tempOSHAThreeYearsUpload=[],this.tempTRIRThreeYearsUpload=[],this.tempemRThreeYearsUpload=[],this.tempemRVerificationUpload.filter(i=>{t.append("emR_Verification_Upload",i)}),this.tempemRVerificationUpload=[],t}safetyProgramUpload(t){let i=document.getElementById("safety_Program_Upload");for(let o=0;o<i.files.length;o++)this.tempSafetyProgramUpload.push(i.files[o]);this.spinner.safetySpinner=!0,this.fileupload()}removesafetyProgramFile(t,i,o=!0){this.showdisabled||this.safetyservice.deleteRecord(i.id).subscribe(r=>{1==o&&this.toastr.info("File removed successfully","Safety Info"),this.safetyProgramAttachments.splice(t,1)})}safetyofficerUpload(t){let i=document.getElementById("drug_Testing_Upload");for(let o=0;o<i.files.length;o++)this.tempdrugTestingUpload.push(i.files[o]);this.spinner.drugtestingSpinner=!0,this.fileupload()}removesafetyofficerFile(t,i,o=!0){this.showdisabled||this.safetyservice.deleteRecord(i.id).subscribe(r=>{o&&this.toastr.info("File removed successfully","Safety Info"),this.drugTesting.splice(t,1)})}OSHALastYearUpload(t){let i=document.getElementById("OSHA_LastYear_Upload");for(let o=0;o<i.files.length;o++)this.tempOSHALastYearUpload.push(i.files[o]);this.spinner.oshaLastSpinner=!0,this.fileupload()}removeOSHALastYearUpload(t,i,o=!0){this.showdisabled||this.safetyservice.deleteRecord(i.id).subscribe(r=>{o&&this.toastr.info("File removed successfully","Safety Info"),this.oshALogLastYear.splice(t,1)})}oshALogThreeYearsUpload(t){let i=document.getElementById("OSHA_ThreeYears_Upload");for(let o=0;o<i.files.length;o++)this.tempOSHAThreeYearsUpload.push(i.files[o]);this.spinner.oshaThreeSpinner=!0,this.fileupload()}removeoshALogThreeYearsUpload(t,i){this.showdisabled||this.safetyservice.deleteRecord(i.id).subscribe(o=>{this.toastr.info("File removed successfully","Safety Info"),this.oshALogThreeYears.splice(t,1)})}oshALogTwoYearsUpload(t){let i=document.getElementById("OSHA_TwoYears_Upload");for(let o=0;o<i.files.length;o++)this.tempOSHATwoYearsUpload.push(i.files[o]);this.spinner.oshaTwoSpinner=!0,this.fileupload()}removeoshALogTwoYearsUpload(t,i){this.showdisabled||this.safetyservice.deleteRecord(i.id).subscribe(o=>{this.toastr.info("File removed successfully","Safety Info"),this.oshALogTwoYears.splice(t,1)})}triRInfoLastYearUpload(t){let i=document.getElementById("TRIR_LastYear_Upload");for(let o=0;o<i.files.length;o++)this.tempTRIRLastYearUpload.push(i.files[o]);this.spinner.trirLastSpinner=!0,this.fileupload()}removetriRInfoLastYearUpload(t,i){this.showdisabled||this.safetyservice.deleteRecord(i.id).subscribe(o=>{this.toastr.info("File removed successfully","Safety Info"),this.triRInfoLastYear.splice(t,1)})}triRInfoThreeYearsUpload(t){let i=document.getElementById("TRIR_ThreeYears_Upload");for(let o=0;o<i.files.length;o++)this.tempTRIRThreeYearsUpload.push(i.files[o]);this.spinner.trirThreeSpinner=!0,this.fileupload()}removetriRInfoThreeYearsUpload(t,i){this.showdisabled||this.safetyservice.deleteRecord(i.id).subscribe(o=>{this.toastr.info("File removed successfully","Safety Info"),this.triRInfoThreeYears.splice(t,1)})}triRInfoTwoYearsUpload(t){let i=document.getElementById("TRIR_TwoYears_Upload");for(let o=0;o<i.files.length;o++)this.tempTRIRTwoYearsUpload.push(i.files[o]);this.spinner.trirTwoSpinner=!0,this.fileupload()}removetriRInfoTwoYearsUpload(t,i){this.showdisabled||this.safetyservice.deleteRecord(i.id).subscribe(o=>{this.toastr.info("File removed successfully","Safety Info"),this.triRInfoTwoYears.splice(t,1)})}emRLastYearUpload(t){let i=document.getElementById("emR_LastYear_Upload");for(let o=0;o<i.files.length;o++)this.tempemRLastYearUpload.push(i.files[o]);this.spinner.trirTwoSpinner=!0,this.fileupload()}removeemRLastYearUpload(t,i){this.showdisabled||this.safetyservice.deleteRecord(i.id).subscribe(o=>{this.toastr.info("File removed successfully","Safety Info"),this.emRLastYear.splice(t,1)})}emRTwoYearsUpload(t){let i=document.getElementById("emR_TwoYears_Upload");for(let o=0;o<i.files.length;o++)this.tempemRTwoYearsUpload.push(i.files[o]);this.spinner.emrTwoSpinner=!0,this.fileupload()}removeemRTwoYearsUpload(t,i){this.showdisabled||this.safetyservice.deleteRecord(i.id).subscribe(o=>{this.toastr.info("File removed successfully","Safety Info"),this.emRTwoYears.splice(t,1)})}emRThreeYearsUpload(t){let i=document.getElementById("emR_ThreeYears_Upload");for(let o=0;o<i.files.length;o++)this.tempemRThreeYearsUpload.push(i.files[o]);this.spinner.emrThreeSpinner=!0,this.fileupload()}removeemRThreeYearsUpload(t,i){this.showdisabled||this.safetyservice.deleteRecord(i.id).subscribe(o=>{this.toastr.info("File removed successfully","Safety Info"),this.emRThreeYears.splice(t,1)})}emRVerificationUpload(t){let i=document.getElementById("emR_Verification_Upload");for(let o=0;o<i.files.length;o++)this.tempemRVerificationUpload.push(i.files[o]);this.spinner.emrverification=!0,this.fileupload()}removeemRVerificationUpload(t,i){this.showdisabled||this.safetyservice.deleteRecord(i.id).subscribe(o=>{this.toastr.info("File removed successfully","Safety Info"),this.emRVerification.splice(t,1)})}resetSpinner(){this.spinner={safetySpinner:!1,oshaLastSpinner:!1,oshaTwoSpinner:!1,oshaThreeSpinner:!1,trirLastSpinner:!1,trirTwoSpinner:!1,trirThreeSpinner:!1,drugtestingSpinner:!1,emrLastSpinner:!1,emrTwoSpinner:!1,emrThreeSpinner:!1,emrverification:!1}}fileupload(){if(0==this.safetyid){this.safetyinfoForm.patchValue({isAutosave:!0});let t=this.formMethod();this.safetyservice.addRecord(t).subscribe(i=>{this.submitText="UPDATE",this.getRecords(this.companyId),this.fileReset(),this.keepalive.stop(),this.resetSpinner()})}else{this.safetyinfoForm.patchValue({isAutosave:!0});let t=this.formMethod();this.safetyservice.updateRecord(t,this.safetyid).subscribe(i=>{this.getRecords(this.companyId),this.fileReset(),this.keepalive.stop(),this.resetSpinner(),this.safetyinfoForm.patchValue({isAutosave:!0})})}}gotoHome(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm-1].url}`])}filepreview(t,i){var o=new FileReader;o.onload=r=>{console.log(r.target);let l=new Blob(t.files,{type:t.files[i].type});var c=(window.URL||window.webkitURL).createObjectURL(l);console.log("path",c,t.value);var d=document.createElement("a"),p=document.createTextNode("View File");d.target="_blank",d.appendChild(p),d.href=c,d.click(),t.appendChild(d)},o.readAsDataURL(t.files[i])}nextroutePage(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.qu),e.Y36(U.F0),e.Y36(di),e.Y36(K.d),e.Y36(Q.A),e.Y36(L._W),e.Y36(G.O),e.Y36(D),e.Y36(V.LA))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-safetyinfo"]],decls:283,vars:207,consts:[[1,"px-2",3,"formGroup","ngSubmit","keydown.enter"],[1,"px-1","my-2","form-bg",3,"ngClass"],[1,"form-group","row","px-2","mx-auto","pb-3"],[1,"row"],[1,"col-lg-6","px-2","mt-2"],[1,"row","col-curve-top","bg-white","mx-0","px-0","py-2","mt-2"],[1,"row","pt-2"],[1,"col-5"],["for","is_Supplier",1,"my-auto"],[1,"text-danger"],[1,"col-7"],[1,"col-lg-3"],["type","radio","formControlName","is_Supplier","value","yes","checked","checked","name","is_Supplier","id","is_Supplier_yes",3,"ngModelChange","click"],["for","is_Supplier_yes",3,"ngClass"],[1,"col-lg-9"],["type","radio","formControlName","is_Supplier","value","no","name","is_Supplier","id","is_Supplier_no",3,"ngClass","ngModelChange"],["for","is_Supplier_no"],["class","invalid-feedback",4,"ngIf"],["class","col-lg-12 text-danger",4,"ngIf"],[1,"row","px-4","mt-2"],[1,"row","pb-5"],[1,"row","pb-4"],[1,"row","col-curve-top","bg-white","mx-0","px-0","py-2","mt-2",3,"ngClass"],[1,"col-lg-12","pt-2","mx-auto","bg-white","col-curve"],[1,"col-8"],["for","is_Safety_Officer",1,"my-auto","float-right"],["class","text-danger",4,"ngIf"],[1,"col-4"],[1,"col-lg-6"],["type","radio","formControlName","is_Safety_Officer","value","yes","checked","checked","name","is_Safety_Officer","id","is_Safety_Officer_yes",3,"ngClass","ngModelChange"],["for","is_Safety_Officer_yes"],["type","radio","formControlName","is_Safety_Officer","value","no","name","is_Safety_Officer","id","is_Safety_Officer_no",3,"ngClass","ngModelChange","click"],["for","is_Safety_Officer_no"],[1,"row","mt-1",3,"ngClass"],["for","safety_Officer_Name",1,"my-auto","font-italic","float-right"],["type","text","formControlName","safety_Officer_Name","pattern","[0-9]+","id","safety_Officer_Name","name","safety_Officer_Name",1,"form-control",3,"ngClass","ngModelChange"],["for","safety_Officer_Phone",1,"my-auto","font-italic","float-right"],[1,"col-10","pe-0"],["type","text","appPhoneMask","","onKeyPress","if(this.value.length==15) return false;","formControlName","safety_Officer_Phone","id","safety_Officer_Phone","name","safety_Officer_Phone",1,"form-control",3,"ngClass","ngModelChange"],[1,"col-2","ps-0"],["type","number","onKeyPress","if(this.value.length==3) return false;","formControlName","safety_Officer_Phone_Ext","pattern","[0-9]+","id","safety_Officer_Phone_Ext","name","safety_Officer_Phone_Ext",1,"form-control",3,"ngClass","ngModelChange"],["for","safety_Officer_Email",1,"my-auto","font-italic","float-right"],["type","text","formControlName","safety_Officer_Email","pattern","[0-9]+","id","safety_Officer_Email","name","safety_Officer_Email",1,"form-control",3,"ngClass","ngModelChange"],[1,"row","col-curve","bg-white","mx-0","px-0","py-2","mt-2",3,"ngClass"],[1,"row","pt-3"],[1,"col-6"],["for","is_Safety_Program",1,"my-auto","float-right"],["type","radio","formControlName","is_Safety_Program","value","yes","checked","checked","name","is_Safety_Program","id","is_Safety_Program_yes",3,"ngClass","ngModelChange"],["for","is_Safety_Program_yes"],["type","radio","formControlName","is_Safety_Program","value","no","name","is_Safety_Program","id","is_Safety_Program_no",3,"ngClass","ngModelChange","click"],["for","is_Safety_Program_no"],[1,"pt-2","pb-4",3,"ngClass"],["for","Safety_Program_Upload",1,"my-auto","font-italic","float-right"],[1,"form-control-customitem","form-control","fupupload"],["type","file","formControlName","safety_Program_Upload","title","Choose file","id","safety_Program_Upload","name","Safety_Program_Upload","multiple","",3,"ngClass","change"],["for","CPA_Upload",3,"ngClass"],["class","spinner__loading pt-3",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"col-lg-12","py-2","mx-auto","bg-white","col-curve"],[1,"mt-1"],[1,"row","pt-1"],["for","is_Drug_Testing_Policy",1,"my-auto","float-right"],["type","radio","formControlName","is_Drug_Testing_Policy","value","yes","checked","checked","name","is_Drug_Testing_Policy","id","is_Drug_Testing_Policy_yes",3,"ngClass","ngModelChange"],["for","is_Drug_Testing_Policy_yes"],["type","radio","formControlName","is_Drug_Testing_Policy","value","no","name","is_Drug_Testing_Policy","id","is_Drug_Testing_Policy_no",3,"ngClass","ngModelChange","click"],["for","is_Drug_Testing_Policy_no"],[1,"pt-2",3,"ngClass"],["for","drug_Testing_Upload",1,"my-auto","font-italic","float-right"],["type","file","formControlName","drug_Testing_Upload","title","Choose file","id","drug_Testing_Upload","name","drug_Testing_Upload","multiple","",3,"ngClass","change"],["for","drug_Testing_Upload",3,"ngClass"],[1,"bg-white","pt-3"],["for","project-zipcode",1,"my-auto","float-right"],["for","project-zipcode",1,"my-auto","font-italic","float-right","mt-3"],["for","triR_Info_LastYear",1,"my-auto","font-italic","float-right"],["type","number","formControlName","triR_Info_LastYear","id","triR_Info_LastYear","name","triR_Info_LastYear",1,"form-control",3,"ngClass"],["for","triR_Info_TwoYears",1,"my-auto","font-italic","float-right"],["type","number","formControlName","triR_Info_TwoYears","id","triR_Info_TwoYears","name","triR_Info_TwoYears",1,"form-control",3,"ngClass"],["for","triR_Info_ThreeYears",1,"my-auto","font-italic","float-right"],["type","number","formControlName","triR_Info_ThreeYears","id","triR_Info_ThreeYears","name","triR_Info_ThreeYears",1,"form-control",3,"ngClass"],[1,"pb-5","pt-4"],[1,"pb-4","pt-4"],[1,"row","mt-2"],[1,"col-12","my-auto","font-italic","float-right"],["type","checkbox","formControlName","isnumber_Of_Employees","id","isnumber_Of_Employees","name","isnumber_Of_Employees",3,"change"],[1,"col-12"],["for","number_Of_Employees",1,"my-auto","font-italic","float-right"],["type","number","formControlName","number_Of_Employees","pattern","[0-9]+","id","number_Of_Employees","name","number_Of_Employees",1,"form-control",3,"ngClass","ngModelChange"],["for","project-zipcode",1,"my-auto","font-italic","float-right"],[1,"col-lg-12","mt-3","bg-white","col-curve"],["type","file","formControlName","oshA_Log_LastYear","id","OSHA_LastYear_Upload","title","Choose file","name","oshA_Log_LastYear","multiple","",3,"ngClass","change"],["for","oshA_Log_LastYear",3,"ngClass"],[1,"mt-2"],["for","is_OSHA",1,"my-auto","font-italic","float-right"],[1,"col-lg-2"],["type","radio","formControlName","is_OSHA","value","yes","checked","checked","name","is_OSHA","id","is_OSHA_yes",3,"ngClass","ngModelChange"],["for","is_OSHA_yes"],[1,"col-lg-10"],["type","radio","formControlName","is_OSHA","value","no","name","is_OSHA","id","is_OSHA_no",3,"ngClass","ngModelChange"],["for","is_OSHA_no"],[1,"mr-4","mt-1"],[1,"note","fw-bold",3,"ngClass"],["class","col-lg-12 bg-white",4,"ngIf"],[1,"my-auto","float-right"],["for","emR_LastYear_Upload",1,"my-auto","font-italic","float-right","mt-2"],["for","emR_LastYear_Upload",1,"my-auto","font-italic","float-right"],["type","number","formControlName","emR_LastYear_Upload","id","emR_LastYear_Upload","name","emR_LastYear_Upload",1,"form-control",3,"ngClass"],["for","emR_TwoYears_Upload",1,"my-auto","font-italic","float-right"],["type","number","formControlName","emR_TwoYears_Upload","title","Choose file","id","emR_TwoYears_Upload","name","emR_TwoYears_Upload",1,"form-control",3,"ngClass"],["for","emR_ThreeYears_Upload",1,"my-auto","font-italic","float-right"],["type","number","formControlName","emR_ThreeYears_Upload","id","emR_ThreeYears_Upload","name","emR_ThreeYears_Upload",1,"form-control",3,"ngClass"],[1,"my-auto","float-right","pt-3"],[1,"col-lg-12","mt-2","bg-white","col-curve"],["for","emR_Verification_Upload",1,"my-auto","font-italic","float-right","col-2"],["type","file","title","Choose file","formControlName","emR_Verification_Upload","id","emR_Verification_Upload","name","emR_Verification_Upload","multiple","",3,"ngClass","change"],["for","emR_Verification_Upload",3,"ngClass"],[1,"pb-5","pt-5"],[1,"pt-2"],["class","text-end mx-lg-4 my-3",4,"ngIf"],["class","text-end mx-4 my-3",4,"ngIf"],[3,"formId","companyId","taxId","vendorId",4,"ngIf"],[4,"ngIf"],[1,"invalid-feedback"],[1,"col-lg-12","text-danger"],[1,"fw-bold","note",3,"ngClass"],[1,"spinner__loading","pt-3"],["diameter","18","mode","indeterminate",1,"mt-1"],[1,"file-tag"],["target","_blank",3,"href"],[1,"file-close","text-white",3,"click"],[1,"col-lg-12","bg-white"],["type","number","formControlName","oshA_Citation","id","oshA_Citation","name","oshA_Citation",1,"form-control",3,"ngClass","ngModelChange"],["formControlName","oshA_AddInfo","id","oshA_AddInfo","name","oshA_AddInfo",1,"form-control",3,"ngClass","ngModelChange"],[1,"text-end","mx-lg-4","my-3"],[1,"btn","float-start","btn","default-btn",3,"click"],["type","button",1,"btn","ml-4","default-btn",3,"click"],["type","submit",1,"btn","mx-2","default-btn"],[1,"text-end","mx-4","my-3"],[1,"btn","btn-success","mx-2","default-btn",3,"click"],[3,"formId","companyId","taxId","vendorId"],[1,"btn","btn","my-2","default-btn","float-end","me-4"]],template:function(t,i){1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return i.submit()})("keydown.enter",function(r){return r.preventDefault()}),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h6",8),e._uU(9,"1. Are you a supplier? "),e.TgZ(10,"span",9),e._uU(11,"*"),e.qZA()()(),e.TgZ(12,"div",10)(13,"div",3)(14,"span",11)(15,"input",12),e.NdJ("ngModelChange",function(){return i.idleReset()})("click",function(){return i.resetSupplierYes()}),e.qZA(),e.TgZ(16,"label",13),e._uU(17," YES"),e.qZA()(),e.TgZ(18,"span",14)(19,"input",15),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.qZA(),e.TgZ(20,"label",16),e._uU(21," NO"),e.qZA()()(),e.YNc(22,Hs,2,1,"div",17),e.qZA(),e.YNc(23,zs,3,3,"div",18),e.qZA(),e.TgZ(24,"div",19),e._uU(25,"Supplier = You only supply materials to the project sites. You DO NOT perform work in the field or provide any field services."),e.qZA(),e._UZ(26,"div",20)(27,"div",21),e.qZA()(),e.TgZ(28,"div",4)(29,"div",22)(30,"div",23)(31,"div",3)(32,"div",24)(33,"h6",25),e._uU(34,"2. Do you have a safety officer/safety department in your company?"),e.YNc(35,$s,2,0,"span",26),e.qZA()(),e.TgZ(36,"div",27)(37,"div",3)(38,"span",28)(39,"input",29),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.qZA(),e.TgZ(40,"label",30),e._uU(41," YES"),e.qZA()(),e.TgZ(42,"span",28)(43,"input",31),e.NdJ("ngModelChange",function(){return i.idleReset()})("click",function(){return i.resetSafety()}),e.qZA(),e.TgZ(44,"label",32),e._uU(45," NO"),e.qZA()()()(),e.YNc(46,Xs,2,1,"div",17),e.qZA(),e.TgZ(47,"div",33)(48,"div",3)(49,"div",7)(50,"label",34),e._uU(51," Safety Officer Name: "),e.YNc(52,el,2,0,"span",26),e.qZA()(),e.TgZ(53,"div",10)(54,"input",35),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.qZA(),e.YNc(55,il,2,1,"div",17),e.qZA()()(),e.TgZ(56,"div",33)(57,"div",3)(58,"div",7)(59,"label",36),e._uU(60," Safety Officer Phone: "),e.YNc(61,nl,2,0,"span",26),e.qZA()(),e.TgZ(62,"div",10)(63,"div",3)(64,"div",37)(65,"input",38),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.qZA(),e.YNc(66,al,2,1,"div",17),e.qZA(),e.TgZ(67,"div",39)(68,"input",40),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.qZA(),e.YNc(69,sl,2,1,"div",17),e.qZA()()()()(),e.TgZ(70,"div",33)(71,"div",3)(72,"div",7)(73,"label",41),e._uU(74," Safety Officer Email: "),e.YNc(75,ll,2,0,"span",26),e.qZA()(),e.TgZ(76,"div",10)(77,"input",42),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.qZA(),e.YNc(78,dl,2,1,"div",17),e.qZA()()()()()()(),e.TgZ(79,"div",3)(80,"div",4)(81,"div",43)(82,"div",44)(83,"div",45)(84,"h6",46),e._uU(85,"3. Do you have a written safety program ? "),e.YNc(86,pl,2,0,"span",26),e.qZA()(),e.TgZ(87,"div",45)(88,"div",3)(89,"span",11)(90,"input",47),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.qZA(),e.TgZ(91,"label",48),e._uU(92," YES"),e.qZA()(),e.TgZ(93,"span",14)(94,"input",49),e.NdJ("ngModelChange",function(){return i.idleReset()})("click",function(){return i.resetSafetyProgram()}),e.qZA(),e.TgZ(95,"label",50),e._uU(96," NO"),e.qZA()()(),e.YNc(97,ml,2,1,"div",17),e.qZA()(),e.TgZ(98,"div",51)(99,"label",52),e._uU(100,"Please attach your company's safety program: "),e.qZA(),e.TgZ(101,"div",53)(102,"input",54),e.NdJ("change",function(r){return i.safetyProgramUpload(r)}),e.qZA(),e.TgZ(103,"span",55),e._uU(104," \xa0 Click here to Add Files"),e.qZA()(),e.YNc(105,fl,2,1,"div",17),e.YNc(106,hl,4,0,"div",56),e.YNc(107,gl,7,2,"div",57),e.qZA()()(),e.TgZ(108,"div",4)(109,"div",43)(110,"div",58)(111,"div",59)(112,"div",60)(113,"div",45)(114,"h6",61),e._uU(115,"4. Do you have a drug and alcohol testing policy? "),e.YNc(116,vl,2,0,"span",26),e.qZA()(),e.TgZ(117,"div",45)(118,"div",3)(119,"span",11)(120,"input",62),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.qZA(),e.TgZ(121,"label",63),e._uU(122," YES"),e.qZA()(),e.TgZ(123,"span",14)(124,"input",64),e.NdJ("ngModelChange",function(){return i.idleReset()})("click",function(){return i.resetDrug()}),e.qZA(),e.TgZ(125,"label",65),e._uU(126," NO"),e.qZA()()(),e.YNc(127,Cl,2,1,"div",17),e.qZA()()(),e.TgZ(128,"div",66)(129,"label",67),e._uU(130,"Please attach your company's alcohol testing policy: "),e.qZA(),e.TgZ(131,"div",53)(132,"input",68),e.NdJ("change",function(r){return i.safetyofficerUpload(r)}),e.qZA(),e.TgZ(133,"span",69),e._uU(134," \xa0 Click here to Add Files"),e.qZA()(),e.YNc(135,Tl,2,1,"div",17),e.YNc(136,Zl,4,0,"div",56),e.YNc(137,xl,7,2,"div",57),e.qZA()()()()(),e.TgZ(138,"div",3)(139,"div",4)(140,"div",43)(141,"div",70)(142,"h6",71),e._uU(143,"5. TRIR Information "),e.qZA()(),e.TgZ(144,"label",72),e._uU(145,"List your company\u2019s Total Recordable Incident Rate (TRIR) for the past 3 years."),e.YNc(146,Il,2,0,"span",26),e.qZA(),e.TgZ(147,"div",6)(148,"div",45)(149,"label",73),e._uU(150,"Last year: "),e.YNc(151,Al,2,0,"span",26),e.qZA()(),e.TgZ(152,"div",45)(153,"div"),e._UZ(154,"input",74),e.qZA(),e.YNc(155,Fl,2,1,"div",17),e.qZA()(),e.TgZ(156,"div",6)(157,"div",45)(158,"label",75),e._uU(159,"Two years ago: "),e.YNc(160,Rl,2,0,"span",26),e.qZA()(),e.TgZ(161,"div",45)(162,"div"),e._UZ(163,"input",76),e.qZA(),e.YNc(164,Sl,2,1,"div",17),e.qZA()(),e.TgZ(165,"div",6)(166,"div",45)(167,"label",77),e._uU(168,"Three years ago: "),e.YNc(169,wl,2,0,"span",26),e.qZA()(),e.TgZ(170,"div",45)(171,"div"),e._UZ(172,"input",78),e.qZA(),e.YNc(173,Ul,2,1,"div",17),e.qZA()(),e._UZ(174,"div",79)(175,"div",80),e.qZA()(),e.TgZ(176,"div",4)(177,"div",43)(178,"div",70)(179,"h6",71),e._uU(180,"6. OSHA Records "),e.qZA(),e.TgZ(181,"div",81)(182,"div",82)(183,"label"),e._uU(184,"I don\u2019t have more than 10 employees as of today?"),e.qZA(),e._uU(185," \xa0 \xa0 \xa0 \xa0 "),e.TgZ(186,"input",83),e.NdJ("change",function(){return i.isNumberEmployees(i.safetyinfoForm.value.isnumber_Of_Employees)}),e.qZA()()(),e.TgZ(187,"div",81)(188,"div",84)(189,"label",85),e._uU(190," How many employees does your company have as of today ? "),e.YNc(191,Ml,2,0,"span",26),e.qZA(),e.TgZ(192,"input",86),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.qZA(),e.YNc(193,Ol,2,1,"div",17),e.qZA()()(),e.TgZ(194,"div",59)(195,"label",87),e._uU(196,"Provide Subcontractors's OSHA No. 300A Summary of Occupational injuries and illnesses of the past three years:"),e.YNc(197,Pl,2,0,"span",26),e.qZA()(),e.TgZ(198,"div",88)(199,"div",53)(200,"input",89),e.NdJ("change",function(r){return i.OSHALastYearUpload(r)}),e.qZA(),e.TgZ(201,"span",90),e._uU(202," \xa0 Click here to Add Files"),e.qZA()(),e.YNc(203,Jl,4,0,"div",56),e.YNc(204,Yl,2,1,"div",17),e.YNc(205,Ll,7,2,"div",57),e.qZA(),e.TgZ(206,"div",91)(207,"label",92),e._uU(208,"Has OSHA (federal or state) issued any citation(s) to your company over the past 5 years period? "),e.YNc(209,Dl,2,0,"span",26),e.qZA(),e.TgZ(210,"div",60)(211,"span",93)(212,"input",94),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.qZA(),e.TgZ(213,"label",95),e._uU(214," YES"),e.qZA()(),e.TgZ(215,"span",96)(216,"input",97),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.qZA(),e.TgZ(217,"label",98),e._uU(218," NO"),e.qZA()()(),e.YNc(219,Vl,2,1,"div",17),e.TgZ(220,"div",99)(221,"small",100),e._uU(222,"If yes, please denote how many & other details."),e.qZA()(),e.YNc(223,zl,9,8,"div",101),e.qZA()()()(),e.TgZ(224,"div",3)(225,"div",4)(226,"div",43)(227,"div",70)(228,"h6",102),e._uU(229,"7. Experience Modification Rate (EMR) Records "),e.qZA()(),e.TgZ(230,"label",103),e._uU(231,"List your company\u2019s workers compensation / Experience Modification Rate (EMR) and the last 3 years. "),e.YNc(232,$l,2,0,"span",26),e.qZA(),e.TgZ(233,"div",81)(234,"div",45)(235,"label",104),e._uU(236,"Current year: "),e.YNc(237,Wl,2,0,"span",26),e.qZA()(),e.TgZ(238,"div",45)(239,"div"),e._UZ(240,"input",105),e.qZA(),e.YNc(241,ec,2,1,"div",17),e.qZA()(),e.TgZ(242,"div",81)(243,"div",45)(244,"label",106),e._uU(245,"Last year: "),e.YNc(246,tc,2,0,"span",26),e.qZA()(),e.TgZ(247,"div",45)(248,"div"),e._UZ(249,"input",107),e.qZA(),e.YNc(250,nc,2,1,"div",17),e.qZA()(),e.TgZ(251,"div",81)(252,"div",45)(253,"label",108),e._uU(254,"Two years ago: "),e.YNc(255,oc,2,0,"span",26),e.qZA()(),e.TgZ(256,"div",45)(257,"div"),e._UZ(258,"input",109),e.qZA(),e.YNc(259,rc,2,1,"div",17),e._UZ(260,"div",80),e.qZA()()()(),e.TgZ(261,"div",4)(262,"div",43)(263,"h6",110),e._uU(264,"8. Attach a copy of the insurance agent's EMR verification letter: "),e.YNc(265,sc,2,0,"span",26),e.qZA(),e.TgZ(266,"div",111)(267,"label",112),e._uU(268,"Add Attachment: "),e.YNc(269,lc,2,0,"span",26),e.qZA(),e.TgZ(270,"div",53)(271,"input",113),e.NdJ("change",function(r){return i.emRVerificationUpload(r)}),e.qZA(),e.TgZ(272,"span",114),e._uU(273," \xa0 Click here to Add Files"),e.qZA()(),e.YNc(274,dc,2,1,"div",17),e.YNc(275,pc,4,0,"div",56),e.YNc(276,uc,7,2,"div",57),e.qZA(),e._UZ(277,"div",115)(278,"div",116),e.qZA()()()()(),e.YNc(279,mc,7,1,"div",117),e.qZA(),e.YNc(280,_c,5,0,"div",118),e.YNc(281,fc,1,4,"app-safetycomment",119),e.YNc(282,hc,3,0,"div",120)),2&t&&(e.Q6J("formGroup",i.safetyinfoForm),e.xp6(1),e.Q6J("ngClass",e.VKq(121,M,1==i.showdisabled)),e.xp6(15),e.Q6J("ngClass",e.VKq(123,Z,i.submitted&&i.f.is_Supplier.errors)),e.xp6(3),e.Q6J("ngClass",e.VKq(125,Z,i.submitted&&i.f.is_Supplier.errors)),e.xp6(3),e.Q6J("ngIf",(i.f.is_Supplier.touched||i.submitted)&&i.f.is_Supplier.errors),e.xp6(1),e.Q6J("ngIf","yes"==i.f.is_Supplier.value),e.xp6(6),e.Q6J("ngClass",e.VKq(127,M,"yes"==i.f.is_Supplier.value)),e.xp6(6),e.Q6J("ngIf",null==i.f.is_Safety_Officer||null==i.f.is_Safety_Officer.errors?null:i.f.is_Safety_Officer.errors.required),e.xp6(4),e.Q6J("ngClass",e.VKq(129,Z,i.submitted&&i.f.is_Safety_Officer.errors)),e.uIk("disabled","yes"==i.f.is_Supplier.value?"":null),e.xp6(4),e.Q6J("ngClass",e.VKq(131,Z,i.submitted&&i.f.is_Safety_Officer.errors)),e.uIk("disabled","yes"==i.f.is_Supplier.value?"":null),e.xp6(3),e.Q6J("ngIf",i.submitted&&i.f.is_Safety_Officer.errors),e.xp6(1),e.Q6J("ngClass",e.VKq(133,M,"no"==i.f.is_Safety_Officer.value)),e.xp6(5),e.Q6J("ngIf",null==i.f.safety_Officer_Name||null==i.f.safety_Officer_Name.errors?null:i.f.safety_Officer_Name.errors.required),e.xp6(2),e.Q6J("ngClass",e.VKq(135,Z,i.submitted&&i.f.safety_Officer_Name.errors)),e.uIk("disabled","no"==i.safetyinfoForm.value.is_Safety_Officer?"":null),e.xp6(1),e.Q6J("ngIf",(i.submitted||i.f.safety_Officer_Name.touched)&&i.f.safety_Officer_Name.errors),e.xp6(1),e.Q6J("ngClass",e.VKq(137,M,"no"==i.f.is_Safety_Officer.value)),e.xp6(5),e.Q6J("ngIf",null==i.f.safety_Officer_Phone||null==i.f.safety_Officer_Phone.errors?null:i.f.safety_Officer_Phone.errors.required),e.xp6(4),e.Q6J("ngClass",e.VKq(139,Z,i.submitted&&i.f.safety_Officer_Phone.errors)),e.uIk("disabled","no"==i.safetyinfoForm.value.is_Safety_Officer?"":null),e.xp6(1),e.Q6J("ngIf",(i.submitted||i.f.safety_Officer_Phone.touched)&&i.f.safety_Officer_Phone.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(141,Z,i.submitted&&i.f.safety_Officer_Phone_Ext.errors)),e.uIk("disabled","no"==i.safetyinfoForm.value.is_Safety_Officer?"":null),e.xp6(1),e.Q6J("ngIf",(i.submitted||i.f.safety_Officer_Phone_Ext.touched)&&i.f.safety_Officer_Phone_Ext.errors),e.xp6(1),e.Q6J("ngClass",e.VKq(143,M,"no"==i.f.is_Safety_Officer.value)),e.xp6(5),e.Q6J("ngIf",null==i.f.safety_Officer_Email||null==i.f.safety_Officer_Email.errors?null:i.f.safety_Officer_Email.errors.required),e.xp6(2),e.Q6J("ngClass",e.VKq(145,Z,i.submitted&&i.f.safety_Officer_Email.errors)),e.uIk("disabled","no"==i.safetyinfoForm.value.is_Safety_Officer?"":null),e.xp6(1),e.Q6J("ngIf",(i.submitted||i.f.safety_Officer_Email.touched)&&i.f.safety_Officer_Email.errors),e.xp6(3),e.Q6J("ngClass",e.VKq(147,M,"yes"==i.f.is_Supplier.value)),e.xp6(5),e.Q6J("ngIf","no"==(null==i.safetyinfoForm||null==i.safetyinfoForm.value?null:i.safetyinfoForm.value.is_Supplier)),e.xp6(4),e.Q6J("ngClass",e.VKq(149,Z,i.submitted&&i.f.is_Safety_Program.errors)),e.uIk("disabled","yes"==i.f.is_Supplier.value?"":null),e.xp6(4),e.Q6J("ngClass",e.VKq(151,Z,i.submitted&&i.f.is_Safety_Program.errors)),e.uIk("disabled","yes"==i.f.is_Supplier.value?"":null),e.xp6(3),e.Q6J("ngIf",i.submitted&&i.f.is_Safety_Program.errors),e.xp6(1),e.Q6J("ngClass",e.VKq(153,M,"no"==i.f.is_Safety_Program.value)),e.xp6(4),e.Q6J("ngClass",e.VKq(155,Z,i.submitted&&i.f.safety_Program_Upload.errors)),e.uIk("disabled",1==i.showdisabled||("no"==i.f.is_Safety_Program.value?"":null)),e.xp6(1),e.Q6J("ngClass",e.VKq(157,M,i.showdisabled||"yes"==i.f.is_Supplier.value||"no"==i.f.is_Safety_Program.value)),e.xp6(2),e.Q6J("ngIf",i.submitted&&i.f.safety_Program_Upload.errors),e.xp6(1),e.Q6J("ngIf",null==i.spinner?null:i.spinner.safetySpinner),e.xp6(1),e.Q6J("ngForOf",i.safetyProgramAttachments),e.xp6(2),e.Q6J("ngClass",e.VKq(159,M,"yes"==i.f.is_Supplier.value)),e.xp6(7),e.Q6J("ngIf","no"==(null==i.safetyinfoForm||null==i.safetyinfoForm.value?null:i.safetyinfoForm.value.is_Supplier)),e.xp6(4),e.Q6J("ngClass",e.VKq(161,Z,i.submitted&&i.f.is_Drug_Testing_Policy.errors)),e.uIk("disabled","yes"==i.f.is_Supplier.value?"":null),e.xp6(4),e.Q6J("ngClass",e.VKq(163,Z,i.submitted&&i.f.is_Drug_Testing_Policy.errors)),e.uIk("disabled","yes"==i.f.is_Supplier.value?"":null),e.xp6(3),e.Q6J("ngIf",i.submitted&&i.f.is_Drug_Testing_Policy.errors),e.xp6(1),e.Q6J("ngClass",e.VKq(165,M,"no"==i.f.is_Drug_Testing_Policy.value)),e.xp6(4),e.Q6J("ngClass",e.VKq(167,Z,i.submitted&&i.f.drug_Testing_Upload.errors)),e.uIk("disabled",1==i.showdisabled||("yes"==i.f.is_Drug_Testing_Policy.value?"":null)),e.xp6(1),e.Q6J("ngClass",e.VKq(169,M,i.showdisabled||"yes"==i.f.is_Supplier.value||"no"==i.f.is_Drug_Testing_Policy.value)),e.xp6(2),e.Q6J("ngIf",i.submitted&&i.f.drug_Testing_Upload.errors),e.xp6(1),e.Q6J("ngIf",null==i.spinner?null:i.spinner.drugtestingSpinner),e.xp6(1),e.Q6J("ngForOf",i.drugTesting),e.xp6(3),e.Q6J("ngClass",e.VKq(171,M,"yes"==i.f.is_Supplier.value)),e.xp6(6),e.Q6J("ngIf","no"==(null==i.safetyinfoForm||null==i.safetyinfoForm.value?null:i.safetyinfoForm.value.is_Supplier)),e.xp6(5),e.Q6J("ngIf","no"==(null==i.safetyinfoForm||null==i.safetyinfoForm.value?null:i.safetyinfoForm.value.is_Supplier)||(null==i.f.triR_Info_LastYear||null==i.f.triR_Info_LastYear.errors?null:i.f.triR_Info_LastYear.errors.required)),e.xp6(3),e.Q6J("ngClass",e.VKq(173,Z,i.submitted&&i.f.triR_Info_LastYear.errors)),e.uIk("disabled","yes"==i.f.is_Supplier.value?"":null),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.triR_Info_LastYear.errors),e.xp6(5),e.Q6J("ngIf","no"==(null==i.safetyinfoForm||null==i.safetyinfoForm.value?null:i.safetyinfoForm.value.is_Supplier)||(null==i.f.triR_Info_TwoYears||null==i.f.triR_Info_TwoYears.errors?null:i.f.triR_Info_TwoYears.errors.required)),e.xp6(3),e.Q6J("ngClass",e.VKq(175,Z,i.submitted&&i.f.triR_Info_TwoYears.errors)),e.uIk("disabled","yes"==i.f.is_Supplier.value?"":null),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.triR_Info_TwoYears.errors),e.xp6(5),e.Q6J("ngIf","no"==(null==i.safetyinfoForm||null==i.safetyinfoForm.value?null:i.safetyinfoForm.value.is_Supplier)||(null==i.f.triR_Info_ThreeYears||null==i.f.triR_Info_ThreeYears.errors?null:i.f.triR_Info_ThreeYears.errors.required)),e.xp6(3),e.Q6J("ngClass",e.VKq(177,Z,i.submitted&&i.f.triR_Info_ThreeYears.errors)),e.uIk("disabled","yes"==i.f.is_Supplier.value?"":null),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.triR_Info_ThreeYears.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(179,M,"yes"==i.f.is_Supplier.value)),e.xp6(9),e.uIk("disabled","yes"==i.f.is_Supplier.value?"":null),e.xp6(5),e.Q6J("ngIf","no"==(null==i.safetyinfoForm||null==i.safetyinfoForm.value?null:i.safetyinfoForm.value.is_Supplier)),e.xp6(1),e.Q6J("ngClass",e.VKq(181,Z,i.submitted&&i.f.number_Of_Employees.errors)),e.uIk("disabled","yes"==i.f.is_Supplier.value?"":null),e.xp6(1),e.Q6J("ngIf",(i.submitted||i.f.number_Of_Employees.touched)&&i.f.number_Of_Employees.errors),e.xp6(4),e.Q6J("ngIf","no"==(null==i.safetyinfoForm||null==i.safetyinfoForm.value?null:i.safetyinfoForm.value.is_Supplier)),e.xp6(3),e.Q6J("ngClass",e.VKq(183,Z,i.submitted&&i.f.oshA_Log_LastYear.errors)),e.uIk("disabled",!0!==i.showdisabled&&("yes"==i.f.is_Supplier.value||1==i.f.isnumber_Of_Employees.value?"":null)),e.xp6(1),e.Q6J("ngClass",e.VKq(185,M,i.showdisabled||"yes"==i.f.is_Supplier.value||1==i.f.isnumber_Of_Employees.value)),e.xp6(2),e.Q6J("ngIf",null==i.spinner?null:i.spinner.oshaLastSpinner),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.oshA_Log_LastYear.errors),e.xp6(1),e.Q6J("ngForOf",i.oshALogLastYear),e.xp6(4),e.Q6J("ngIf","no"==(null==i.safetyinfoForm||null==i.safetyinfoForm.value?null:i.safetyinfoForm.value.is_Supplier)),e.xp6(3),e.Q6J("ngClass",e.VKq(187,Z,i.submitted&&i.f.is_OSHA.errors)),e.uIk("disabled","yes"==i.f.is_Supplier.value?"":null),e.xp6(4),e.Q6J("ngClass",e.VKq(189,Z,i.submitted&&i.f.is_OSHA.errors)),e.uIk("disabled","yes"==i.f.is_Supplier.value?"":null),e.xp6(3),e.Q6J("ngIf",i.submitted&&i.f.is_OSHA.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(191,M,i.showdisabled||"yes"==i.f.is_Supplier.value)),e.xp6(2),e.Q6J("ngIf","yes"==i.f.is_OSHA.value),e.xp6(3),e.Q6J("ngClass",e.VKq(193,M,"yes"==i.f.is_Supplier.value)),e.xp6(6),e.Q6J("ngIf","no"==(null==i.safetyinfoForm||null==i.safetyinfoForm.value?null:i.safetyinfoForm.value.is_Supplier)),e.xp6(5),e.Q6J("ngIf","no"==(null==i.safetyinfoForm||null==i.safetyinfoForm.value?null:i.safetyinfoForm.value.is_Supplier)||(null==i.f.emR_LastYear_Upload||null==i.f.emR_LastYear_Upload.errors?null:i.f.emR_LastYear_Upload.errors.required)),e.xp6(3),e.Q6J("ngClass",e.VKq(195,Z,i.submitted&&i.f.emR_LastYear_Upload.errors)),e.uIk("disabled","yes"==i.f.is_Supplier.value?"":null),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.emR_LastYear_Upload.errors),e.xp6(5),e.Q6J("ngIf","no"==(null==i.safetyinfoForm||null==i.safetyinfoForm.value?null:i.safetyinfoForm.value.is_Supplier)||(null==i.f.emR_TwoYears_Upload||null==i.f.emR_TwoYears_Upload.errors?null:i.f.emR_TwoYears_Upload.errors.required)),e.xp6(3),e.Q6J("ngClass",e.VKq(197,Z,i.submitted&&i.f.emR_TwoYears_Upload.errors)),e.uIk("disabled","yes"==i.f.is_Supplier.value?"":null),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.emR_TwoYears_Upload.errors),e.xp6(5),e.Q6J("ngIf","no"==(null==i.safetyinfoForm||null==i.safetyinfoForm.value?null:i.safetyinfoForm.value.is_Supplier)||(null==i.f.emR_ThreeYears_Upload||null==i.f.emR_ThreeYears_Upload.errors?null:i.f.emR_ThreeYears_Upload.errors.required)),e.xp6(3),e.Q6J("ngClass",e.VKq(199,Z,i.submitted&&i.f.emR_ThreeYears_Upload.errors)),e.uIk("disabled",!0===i.showdisabled||"yes"==i.f.is_Supplier.value?"":null),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.emR_ThreeYears_Upload.errors),e.xp6(3),e.Q6J("ngClass",e.VKq(201,M,"yes"==i.f.is_Supplier.value)),e.xp6(3),e.Q6J("ngIf","no"==(null==i.safetyinfoForm||null==i.safetyinfoForm.value?null:i.safetyinfoForm.value.is_Supplier)),e.xp6(4),e.Q6J("ngIf",null==i.f.emR_Verification_Upload||null==i.f.emR_Verification_Upload.errors?null:i.f.emR_Verification_Upload.errors.required),e.xp6(2),e.Q6J("ngClass",e.VKq(203,Z,i.submitted&&i.f.emR_Verification_Upload.errors)),e.uIk("disabled",1==i.showdisabled||"yes"==i.f.is_Supplier.value?"":null),e.xp6(1),e.Q6J("ngClass",e.VKq(205,M,i.showdisabled||"yes"==i.f.is_Supplier.value)),e.xp6(2),e.Q6J("ngIf",i.submitted&&i.f.emR_Verification_Upload.errors),e.xp6(1),e.Q6J("ngIf",null==i.spinner?null:i.spinner.emrverification),e.xp6(1),e.Q6J("ngForOf",i.emRVerification),e.xp6(3),e.Q6J("ngIf",!(i.showAdmin||i.prequalification_status&&"To complete prequalification"!=i.prequalification_status&&"Additional Info Needed from Subcontractor"!=i.prequalification_status)),e.xp6(1),e.Q6J("ngIf",!i.showAdmin&&i.prequalification_status&&"To complete prequalification"!=i.prequalification_status&&"Additional Info Needed from Subcontractor"!=i.prequalification_status||i.showAdmin&&"SafetyUser"!=i.userRole),e.xp6(1),e.Q6J("ngIf","Subcontractor"!=i.userRole&&"Additional Info Needed from Subcontractor"!=i.prequalification_status&&"Prequal form submitted and under quality check"!=i.prequalification_status),e.xp6(1),e.Q6J("ngIf","SafetyUser"==i.userRole))},directives:[s._Y,s.JL,s.sg,f.mk,s._,s.Fj,s.JJ,s.u,f.O5,s.c5,_e,s.wV,ie.Ou,f.sg,s.Wl,Gs],styles:[".form-group[_ngcontent-%COMP%]{margin:15px 0}input[type=text][_ngcontent-%COMP%]:disabled{background:#dddddd}.border[_ngcontent-%COMP%]{border:1px solid #dddddd9e!important;border-width:4px!important}.col-curve-top[_ngcontent-%COMP%]{border-radius:18px 18px 10px 10px/19px 19px 10px 10px!important;border-top:6px solid #c3bdbd!important}.col-curve[_ngcontent-%COMP%]{border-radius:10px!important}.form-group[_ngcontent-%COMP%]{margin:0!important}.bg-grey[_ngcontent-%COMP%]{color:#c7bfbf!important}h6[_ngcontent-%COMP%]{font-size:13px!important}.fupupload[_ngcontent-%COMP%]{width:75%;display:inline-block;margin-left:5px}.px-auto[_ngcontent-%COMP%]{margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0}"]}),n})();function vc(n,a){1&n&&(e.TgZ(0,"div",36)(1,"div",37)(2,"h6",38),e._uU(3,'PLEASE READ CAREFULLY AND REVIEW NEXT STEPS BEFORE CHECKING ON "SUBMIT"'),e.qZA(),e.TgZ(4,"div",39)(5,"ul",40)(6,"li"),e._uU(7,"Once you click on the \u2018SUBMIT\u2019 button, all the sections on the prequalification form will be closed and no edits can be made."),e.qZA(),e.TgZ(8,"li"),e._uU(9,"Messer will review your information, which can take up to 5-7 business days after you have submitted your information."),e.qZA(),e.TgZ(10,"li"),e._uU(11,"Any missing documents or information from your side will delay in review of your prequalification info."),e.qZA(),e.TgZ(12,"li"),e._uU(13,"Messer will contact your prequalification contact any additional questions or clarifications related to your prequalification info. "),e.qZA(),e.TgZ(14,"li"),e._uU(15,"Messer will reopen your prequalification form only if additional info is required for submission from you. And, yes, this will delay the review of your prequalification form."),e.qZA(),e.TgZ(16,"li"),e._uU(17,"Prequalification form status on your welcome page will give your progress updates as Messer reviews your information."),e.qZA(),e.TgZ(18,"li"),e._uU(19,"You'll also receive email notifications as we review the prequalification information. Please check your spam folder, we don't control your email receipt setting."),e.qZA(),e.TgZ(20,"li"),e._uU(21,"Thanks for your patience and wanting to be a Messer Business partner"),e.qZA()()()()())}function yc(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",61)(1,"button",62),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).riskAddInfoSave("save")}),e._uU(2,"SAVE"),e.qZA(),e.TgZ(3,"button",63),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return o.approvedclicked=!0,o.approvealert()})("click",function(){return e.CHM(t),e.oxw(2).riskAddInfoSave("reject")}),e._uU(4,"POST TO SUBCONTRACTOR"),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.uIk("disabled","no"!=t.submitForm.value.additional_Info&&null),e.xp6(2),e.uIk("disabled","no"!=t.submitForm.value.additional_Info&&null)}}function Cc(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",61)(1,"button",64),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).gotoHome()}),e._uU(2," << BACK"),e.qZA(),e.TgZ(3,"button",65),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).beginRiskReview()}),e._uU(4,"BEGIN RISK REVIEW"),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(3),e.uIk("disabled","yes"==t.submitForm.value.additional_Info?"":null)}}function bc(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"form",22),e.NdJ("keydown.enter",function(o){return o.preventDefault()}),e.TgZ(1,"div",36)(2,"div",36)(3,"h2",41),e._uU(4,"RISK DOCUMENT QUALITY CHECKLIST"),e.qZA(),e.TgZ(5,"div",42)(6,"ul",43)(7,"li"),e._uU(8,"1. Please ensure you've opened and reviewed all documents submitted by the subcontractor are the correct documents for the review."),e.qZA(),e.TgZ(9,"li"),e._uU(10,"2. If additional documents are needed, we suggest you call the subcontractor and have conversation with them before an email is sent to the subcontactor."),e.qZA(),e.TgZ(11,"li"),e._uU(12,'3. Email is auto generated by the MBP and will be sent when you click on "Send notes to Subcontractor". The same will also be posted on the subcontactor\'s welcome page under their status.'),e.qZA(),e.TgZ(13,"li",44),e._uU(14,"4. Don't start the Risk Review I until you have all required documents from the subcontractor."),e.qZA()()()(),e.TgZ(15,"div",45)(16,"div",46)(17,"div",47)(18,"span",48)(19,"input",49),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()})("click",function(){return e.CHM(t),e.oxw().additionalInfoClick("yes")}),e.qZA(),e.TgZ(20,"span",50),e._uU(21," Need Additional info from the subcontractor. "),e.qZA()()()()(),e.TgZ(22,"div",51)(23,"div",52)(24,"label",53),e._uU(25," Risk Notes to Subcontactor"),e.TgZ(26,"span",54),e._uU(27,"(Subcontactor visible)"),e.qZA()()(),e.TgZ(28,"div",55),e._UZ(29,"textarea",56),e.qZA()(),e.TgZ(30,"div",36),e.YNc(31,yc,5,2,"div",57),e.qZA(),e.TgZ(32,"div",51)(33,"div",58)(34,"div",47)(35,"span",48)(36,"input",59),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()})("click",function(){return e.CHM(t),e.oxw().additionalInfoClick("no")}),e.qZA(),e.TgZ(37,"span",60),e._uU(38," Subcontractor has submitted all required all documents, I'm ready for my review. "),e.qZA()()()()(),e.TgZ(39,"div",45),e.YNc(40,Cc,5,1,"div",57),e.qZA()()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.submitForm),e.xp6(29),e.uIk("disabled","no"!=t.submitForm.value.additional_Info&&null),e.xp6(2),e.Q6J("ngIf","Admin"==t.userRole||!t.showrisk1status&&"RiskUser"==t.userRole||!t.showrisk2status&&"RiskUser2"==t.userRole),e.xp6(9),e.Q6J("ngIf","Admin"==t.userRole||!t.showrisk1status&&"RiskUser"==t.userRole||!t.showrisk2status&&"RiskUser2"==t.userRole)}}const Tc=function(n){return{"text-red":n}};function Zc(n,a){if(1&n&&(e.TgZ(0,"p",78)(1,"span",79),e._uU(2,"Application Status: "),e.TgZ(3,"span",80),e._uU(4),e.qZA()()()),2&n){const t=e.oxw(2).$implicit;e.xp6(3),e.Q6J("ngClass",e.VKq(2,Tc,"Additional Info Needed from Subcontractor"==t.risk_Reviewer_2_Status)),e.xp6(1),e.Oqu(t.risk_Reviewer_2_Status)}}function xc(n,a){1&n&&(e.TgZ(0,"p")(1,"span",79),e._uU(2,"Send Back Reason:"),e.qZA()())}function Ic(n,a){if(1&n&&(e.TgZ(0,"small",81)(1,"span",82),e._uU(2),e.qZA()()),2&n){const t=e.oxw(2).$implicit;e.xp6(2),e.Oqu(t.risk_Reviewer_2_Reason)}}function Ac(n,a){if(1&n&&(e.TgZ(0,"small",81)(1,"span",82),e._uU(2),e.qZA()()),2&n){const t=e.oxw(2).$implicit;e.xp6(2),e.Oqu(t.risk_Reviewer_2_Approved_Notes)}}function qc(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div",36)(2,"div",71),e.YNc(3,Zc,5,4,"p",72),e.qZA(),e.TgZ(4,"div",73)(5,"p",74),e._uU(6,"Date: "),e.TgZ(7,"span",75),e._uU(8),e.ALo(9,"date"),e.qZA()()()(),e.TgZ(10,"div",36)(11,"div",76),e.YNc(12,xc,3,0,"p",70),e.YNc(13,Ic,3,1,"small",77),e.YNc(14,Ac,3,1,"small",77),e.qZA()()()),2&n){const t=e.oxw().$implicit;e.xp6(3),e.Q6J("ngIf","Additional Info Needed from Subcontractor"==t.risk_Reviewer_2_Status||"Approved"==t.risk_Reviewer_2_Status),e.xp6(5),e.Oqu(e.xi3(9,5,t.reviewer_2_Approved_Date,"MM/dd/yyyy")),e.xp6(4),e.Q6J("ngIf","Additional Info Needed from Subcontractor"==t.risk_Reviewer_2_Status),e.xp6(1),e.Q6J("ngIf",null!=t.risk_Reviewer_2_Reason&&"undefined"!=t.risk_Reviewer_2_Reason&&"null"!=t.risk_Reviewer_2_Reason&&"Additional Info Needed from Subcontractor"==t.risk_Reviewer_2_Status),e.xp6(1),e.Q6J("ngIf",null!=t.risk_Reviewer_2_Approved_Notes&&"null"!=t.risk_Reviewer_2_Approved_Notes&&"undefined"!=t.risk_Reviewer_2_Reason&&"Approved"==t.risk_Reviewer_2_Status)}}function Fc(n,a){if(1&n&&(e.TgZ(0,"div",69),e.YNc(1,qc,15,8,"div",70),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngIf",null!=t.risk_Reviewer_2_Status)}}function Rc(n,a){if(1&n&&(e.TgZ(0,"div",66)(1,"h6",67),e._uU(2,"Risk User 2 - Review"),e.qZA(),e.YNc(3,Fc,2,1,"div",68),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngForOf",t.getrisk2records)}}function kc(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",85),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).submit()}),e._uU(1,"SUBMIT"),e.qZA()}}function Sc(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",83)(1,"button",64),e.NdJ("click",function(){return e.CHM(t),e.oxw().gotoHome()}),e._uU(2," << BACK"),e.qZA(),e.YNc(3,kc,2,0,"button",84),e.qZA()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngIf",!t.prequalification_status||"To complete prequalification"==t.prequalification_status||"Additional Info Needed from Subcontractor"==t.prequalification_status)}}function wc(n,a){1&n&&(e.TgZ(0,"div",86)(1,"div"),e._uU(2,"Reason is required"),e.qZA()())}function Nc(n,a){1&n&&(e.TgZ(0,"div",86)(1,"div"),e._uU(2,"Reason is required"),e.qZA()())}function Uc(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Reason is required"),e.qZA())}function Mc(n,a){if(1&n&&(e.TgZ(0,"div",86),e.YNc(1,Uc,2,0,"div",70),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.approve_reason.errors.required)}}function Ec(n,a){if(1&n&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t," ")}}const Te=function(n){return{"is-invalid":n}};let Oc=(()=>{class n{constructor(t,i,o,r,l,c,d,p,_,v){this.formBuilder=t,this.router=i,this.financialservice=o,this.bnIdle=r,this.keepalive=l,this.toastr=c,this.companyservice=d,this.loginInfo=p,this.sanitizer=_,this.ngxUiLoader=v,this.currentForm=7,this.tempcompanyid=0,this.submitText="SAVE",this.showAdmin=!1,this.companyId=0,this.requiredField=[],this.submitForm=this.formBuilder.group({id:[0],companyId:[0],reject_Reason:["",[s.kI.required]],additional_Info:"no",approve_reason:[""]}),this.getriskrecords=[],this.getrisk2records=[],this.resetTimer=0,this.submitted=!1,this.isCompleted=!1,this.rejecionrequired=!1,this.approvedclicked=!1,this.approvesubmitted=!1}ngOnInit(){this.ngxUiLoader.startLoader("loader-01"),localStorage.setItem("currPage","submittomesser"),this.prequalification_status=this.loginInfo.organization_status;let t=localStorage.getItem("userDetails");t=JSON.parse(atob(t)),this.userDetails=t,this.userRole=t.role,console.log(this.userRole),this.tempcompanyid=localStorage.getItem("tempcompanyid"),this.tempcompanyid=Number(atob(this.tempcompanyid)),this.submitText="SAVE",this.tempcompanyid>0&&"Subcontractor"!=this.userRole&&(this.showAdmin=!0,this.companyId=this.tempcompanyid,console.log(this.companyId),this.getRecords(),this.submitForm.controls.reject_Reason.enable(),this.submitForm.controls.reject_Reason.updateValueAndValidity()),null!=this.userDetails.vendorId&&null!=this.userDetails.taxId&&"Subcontractor"==this.userRole&&this.financialservice.getUser(this.userDetails.vendorId,this.userDetails.taxId).subscribe(i=>{this.companyId=i.id,this.getRecords(),this.companyservice.getRecord(this.companyId).subscribe(o=>{this.updateCompanyinfo(o),this.prequalification_status=o[0].preQualification_Status})}),this.ngxUiLoader.stopLoader("loader-01")}ngAfterViewInit(){this.keepalive.interval(30),this.keepalive.stop()}ngOnDestroy(){this.keepalive.stop()}getRecords(){console.log(this.userDetails),this.companyservice.getRecord(this.companyId).subscribe(t=>{this.updateCompanyinfo(t),this.financialservice.getRiskRecords(this.companyId).subscribe(i=>{var o,r;console.log(i),this.getriskrecords=[],this.getrisk2records=[],null==i||i.data.filter(l=>{l.risk_Reviewer_1_Status&&this.getriskrecords.push(l),l.risk_Reviewer_2_Status&&this.getrisk2records.push(l)}),this.showrisk1status=null===(o=null==i?void 0:i.data)||void 0===o?void 0:o.some(this.checkRisk1approved),this.showrisk2status=null===(r=null==i?void 0:i.data)||void 0===r?void 0:r.some(this.checkRisk2approved),console.log(this.getrisk2records,this.showrisk2status,this.getriskrecords,this.showrisk1status,this.showrisk2status)})})}checkRisk2approved(t){return"Approved"==t.risk_Reviewer_2_Status}checkRisk1approved(t){return"Approved"==t.risk_Reviewer_1_Status}updateCompanyinfo(t){this.submitForm.patchValue({id:this.companyId}),t.length>0&&(this.reject_Reason=t[0].reject_Reason,this.prequalification_status=t[0].preQualification_Status,this.risk_Reviewer_1_Reason=t[0].risk_Reviewer_1_Reason,this.risk_Reviewer_2_Reason=t[0].risk_Reviewer_2_Reason),"Subcontractor"!=this.userRole&&this.submitForm.patchValue(null!=this.reject_Reason&&"null"!=this.reject_Reason&&"undefined"!=this.reject_Reason?{reject_Reason:this.reject_Reason,additional_Info:"yes"}:{reject_Reason:"",additional_Info:"no"})}idleReset(){this.keepalive.stop(),this.keepalive.start(),this.resetTimer=0}submit(){this.submitted=!0,this.keepalive.stop(),this.companyId&&this.financialservice.getComplete(this.companyId).subscribe(t=>{var i;if((null==t?void 0:t.length)&&"true"==(null===(i=t[0])||void 0===i?void 0:i.standing))document.getElementById("beforesubmitmodal").click();else{let o=[];this.companyservice.getFormStatus(this.companyId).subscribe(r=>{var l,c,d,p,_,v,g;(null==r?void 0:r.length)&&(this.ngxUiLoader.stop(),document.getElementById("formsubmitmodal").click(),"Completed"!=(null===(l=r[0])||void 0===l?void 0:l.organizationStatus)&&o.push("Organization"),"Completed"!=(null===(c=r[0])||void 0===c?void 0:c.personnel)&&o.push("Personnel & Management Approach"),"Completed"!=(null===(d=r[0])||void 0===d?void 0:d.reference)&&o.push("References"),"Completed"!=(null===(p=r[0])||void 0===p?void 0:p.safety)&&o.push("Safety Info"),"Completed"!=(null===(_=r[0])||void 0===_?void 0:_.surity)&&o.push("Surety Info"),"Completed"!=(null===(v=r[0])||void 0===v?void 0:v.finance)&&o.push("Financial Info"),"Completed"!=(null===(g=r[0])||void 0===g?void 0:g.signature)&&o.push("Signature"),this.requiredField=o)})}})}riskAddInfoSave(t){let i=new FormData;i.append("PreQualification_Status","Additional Info Needed from Subcontractor"),i.append("Approved_Date",(new Date).toLocaleString()),i.append("User_Type",this.userRole),i.append("Reject_Reason",this.submitForm.value.reject_Reason),this.financialservice.updateOrgRecord(i,this.submitForm.value.id).subscribe(o=>{this.router.navigate(["/home"])})}beginRiskReview(){let t=new FormData;t.append("PreQualification_Status","Under Risk Review I"),t.append("Approved_Date",(new Date).toLocaleString()),t.append("User_Type",this.userRole),t.append("Reject_Reason",""),this.financialservice.updateOrgRecord(t,this.submitForm.value.id).subscribe(i=>{this.router.navigate(["/home"])})}additionalInfoClick(t){"no"===t?(this.submitForm.controls.reject_Reason.setValue(""),this.submitForm.controls.reject_Reason.clearValidators()):this.submitForm.controls.reject_Reason.setValidators([s.kI.required]),this.submitForm.updateValueAndValidity()}getComplete(){this.financialservice.getComplete(this.companyId).subscribe(t=>{if(t.length>0&&("To complete prequalification"==t[0].preQualification_Status||"Additional Info Needed from Subcontractor"==t[0].preQualification_Status)){this.isCompleted=!0;let i=new FormData;i.append("PreQualification_Status","Prequal form submitted and under quality check"),i.append("Approved_Date",(new Date).toLocaleString()),i.append("User_Type",this.userRole),this.financialservice.updateOrgRecord(i,this.submitForm.value.id).subscribe(o=>{this.router.navigate(["/home"])})}})}completion(){if(this.submitForm.controls.reject_Reason.clearValidators(),this.submitForm.updateValueAndValidity(),this.approvesubmitted=!0,this.submitForm.valid){let t=new FormData;"Subcontractor"==this.userRole?t.append("PreQualification_Status","Under initial Risk review"):"RiskUser"==this.userRole?t.append("PreQualification_Status","Under final Risk review"):"RiskUser2"==this.userRole&&t.append("PreQualification_Status","Risk review Completed"),t.append("User_Type",this.userRole),t.append("Approved_Notes",this.submitForm.value.approve_reason),this.financialservice.updateOrgRecord(t,this.submitForm.value.id).subscribe(i=>{this.companyId=i.id,this.submitForm.patchValue({reject_Reason:""}),this.approvedclicked=!1,document.getElementById("approveModals").click(),this.getRecords(),this.toastr.success("Submission approved successfully","Submit To Messer")})}}condApprove(){if(0==this.submitForm.value.reject_Reason.length)this.submitted=!0;else{let t=new FormData;t.append("PreQualification_Status","Additional Info Needed from Subcontractor"),t.append("User_Type",this.userRole),t.append("reject_Reason",this.submitForm.value.reject_Reason),this.financialservice.updateOrgRecord(t,this.companyId).subscribe(i=>{this.companyId=i.id,document.getElementById("exampleModals").click(),this.getRecords(),this.toastr.success("Submission conditionally approved successfully","Submit To Messer")})}}get f(){var t;return(null===(t=this.submitForm.value.reject_Reason)||void 0===t?void 0:t.length)>0?this.submitForm.controls.reject_Reason.setValidators([s.kI.required]):this.submitForm.controls.reject_Reason.clearValidators(),this.submitForm.controls.reject_Reason.updateValueAndValidity(),1==this.approvedclicked?this.submitForm.controls.approve_reason.setValidators([s.kI.required]):this.submitForm.controls.approve_reason.clearValidators(),this.submitForm.controls.approve_reason.updateValueAndValidity(),this.submitForm.controls}gotoHome(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm-1].url}`])}rejectionalert(){this.submitForm.value.reject_Reason.length>0?(this.submitForm.controls.reject_Reason.setValidators(null),this.submitForm.updateValueAndValidity()):(this.submitForm.controls.reject_Reason.setValidators([s.kI.required]),this.submitForm.updateValueAndValidity()),this.condApprovetxt()}condApprovetxt(){var t;(null===(t=this.submitForm.value.reject_Reason)||void 0===t?void 0:t.length)>0?(this.submitted=!1,this.rejecionrequired=!1):(this.submitted=!0,this.rejecionrequired=!0),this.submitForm.controls.reject_Reason.enable(),this.submitForm.controls.reject_Reason.updateValueAndValidity()}approvealert(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.qu),e.Y36(U.F0),e.Y36(pe.h),e.Y36(K.d),e.Y36(Q.A),e.Y36(L._W),e.Y36(G.O),e.Y36(D),e.Y36(ci.H7),e.Y36(V.LA))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-submit-to-messer"]],decls:75,vars:22,consts:[["class","row",4,"ngIf"],["class","px-2",3,"formGroup","keydown.enter",4,"ngIf"],["class","mr-4 px-3 mt-4 pb-4",4,"ngIf"],["class","text-end mx-lg-4 my-4",4,"ngIf"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","false",1,"modal","fade"],["exampleModal",""],[1,"modal-dialog","modal-lg","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","text-success"],["type","button","id","closebutton","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"px-2",3,"formGroup","ngSubmit","keydown.enter"],["formControlName","reject_Reason","id","reject_Reason","rows","13","name","reject_Reason",1,"form-control",3,"ngClass","ngModelChange"],["class","invalid-feedback",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","default-btn","modal-cancel"],["type","submit",1,"btn","default-btn",3,"click"],["type","button","id","approveModals","data-bs-toggle","modal","data-bs-target","#approveModal",1,"btn-hide"],["id","approveModal","tabindex","-1","aria-labelledby","approveModalLabel","aria-hidden","false",1,"modal","fade"],["approveModal",""],["id","approveModalLabel",1,"modal-title","text-success"],[1,"px-2",3,"formGroup","keydown.enter"],["formControlName","approve_reason","rows","5","id","approve_reason","name","approve_reason",1,"form-control",3,"ngClass"],["type","button","id","formsubmitmodal","data-bs-toggle","modal","data-bs-target","#formsubmitmodals",1,"btn-hide"],["id","formsubmitmodals","tabindex","-1","aria-labelledby","formsubmitmodals","aria-hidden","false",1,"modal","fade"],["formsubmitmodals",""],[1,"modal-dialog","modal-md","modal-dialog-centered"],["id","formsubmitmodal",1,"modal-title","text-success"],[1,"modal-body","my-3"],[4,"ngFor","ngForOf"],[1,"modal-footer","py-1"],["type","button","id","beforesubmitmodal","data-bs-toggle","modal","data-bs-target","#beforesubmitmodals",1,"btn-hide"],["id","beforesubmitmodals","tabindex","-1","aria-labelledby","beforesubmitmodals","aria-hidden","false",1,"modal","fade"],["beforesubmitmodals",""],["type","button","data-bs-dismiss","modal",1,"btn","default-btn",3,"click"],[1,"row"],[1,"col-11","mx-auto","col-curve-top-submit","mt-2","mb-5","px-0","mx-0","border"],[1,"text-center","my-auto","py-3","submit-head"],[1,"col-curve","fw-bold","px-4","pb-5"],[1,"info","font-italic"],[1,"text-left","ps-5","my-2"],[1,"ps-5","my-2"],[1,"info",2,"list-style-type","none","margin","0","padding","0"],[2,"color","red"],[1,"row","pt-1"],[1,"col-11"],[1,"ps-5"],[1,"col-lg-2"],["type","radio","formControlName","additional_Info","value","yes","checked","checked","name","additional_Info","id","additional_Info_Yes",3,"ngModelChange","click"],["for","additional_Info_Yes",1,"float-right","my-auto","font-italic",2,"color","red"],[1,"row","pt-2"],[1,"col-7","pb-3",2,"padding-left","7%"],["for","risk_Notes",1,"my-auto","font-italic"],[1,"text-danger"],[1,"col-12","pe-5",2,"padding-left","7%"],["type","text","id","reject_Reason","formControlName","reject_Reason","name","reject_Reason",1,"form-control",2,"height","200%","width","100%"],["class","text-end mx-lg-4 my-4 pt-5",4,"ngIf"],[1,"col-12"],["type","radio","formControlName","additional_Info","value","no","checked","checked","name","additional_Info","id","additional_Info_No",3,"ngModelChange","click"],["for","additional_Info_No",1,"float-right","my-auto","font-italic",2,"color","red"],[1,"text-end","mx-lg-4","my-4","pt-5"],["type","button","id","risk_AddInfo_Save","data-bs-toggle","modal",1,"btn","ml-lg-4","default-btn",3,"click"],["type","button","id","approveModals",1,"btn","mx-2","default-btn",2,"width","270px",3,"click"],[1,"btn","float-start","btn","default-btn",3,"click"],["type","button","id","beginRiskReview",1,"btn","mx-2","default-btn",2,"width","270px",3,"click"],[1,"mr-4","px-3","mt-4","pb-4"],[1,"text-center","my-2","text-success"],["class","p-3 record-shadow my-2",4,"ngFor","ngForOf"],[1,"p-3","record-shadow","my-2"],[4,"ngIf"],[1,"col-lg-10","p-1","px-lg-2"],["class","pt-2 text-success",4,"ngIf"],[1,"col-lg-2","py-2","ps-1","px-lg-2"],[1,"fw-bold","text-success","float-end"],[1,"fw-bold"],[1,"col-10","p-1","m-0","px-lg-2"],["class","mb-4",4,"ngIf"],[1,"pt-2","text-success"],[1,"fw-bold","text-success"],[1,"fw-bold",3,"ngClass"],[1,"mb-4"],[1,"text-capitalize","ps-4"],[1,"text-end","mx-lg-4","my-4"],["type","button","class","btn ms-2 default-btn",3,"click",4,"ngIf"],["type","button",1,"btn","ms-2","default-btn",3,"click"],[1,"invalid-feedback"]],template:function(t,i){1&t&&(e.YNc(0,vc,22,0,"div",0),e.YNc(1,bc,41,4,"form",1),e.YNc(2,Rc,4,1,"div",2),e.YNc(3,Sc,4,1,"div",3),e.TgZ(4,"div",4,5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"h6",9),e._uU(10,"Send back reason"),e.qZA(),e._UZ(11,"button",10),e.qZA(),e.TgZ(12,"div",11)(13,"form",12),e.NdJ("ngSubmit",function(){return i.submit()})("keydown.enter",function(r){return r.preventDefault()}),e.TgZ(14,"textarea",13),e.NdJ("ngModelChange",function(){return i.condApprovetxt()}),e.qZA(),e.YNc(15,wc,3,0,"div",14),e.qZA()(),e.TgZ(16,"div",15)(17,"button",16),e._uU(18,"CANCEL"),e.qZA(),e.TgZ(19,"button",17),e.NdJ("click",function(){return i.condApprove()}),e._uU(20,"SAVE"),e.qZA()()()()(),e._UZ(21,"button",18),e.TgZ(22,"div",19,20)(24,"div",6)(25,"div",7)(26,"div",8)(27,"h6",21),e._uU(28," Approved reason"),e.qZA(),e._UZ(29,"button",10),e.qZA(),e.TgZ(30,"div",11)(31,"form",22),e.NdJ("keydown.enter",function(r){return r.preventDefault()}),e.TgZ(32,"textarea",13),e.NdJ("ngModelChange",function(){return i.condApprovetxt()}),e.qZA(),e.YNc(33,Nc,3,0,"div",14),e._UZ(34,"textarea",23),e.YNc(35,Mc,2,1,"div",14),e.qZA()(),e.TgZ(36,"div",15)(37,"button",16),e._uU(38,"CANCEL"),e.qZA(),e.TgZ(39,"button",17),e.NdJ("click",function(){return i.completion()}),e._uU(40,"SAVE"),e.qZA()()()()(),e._UZ(41,"button",24),e.TgZ(42,"div",25,26)(44,"div",27)(45,"div",7)(46,"div",8)(47,"h6",28),e._uU(48,"Application Incomplete"),e.qZA(),e._UZ(49,"button",10),e.qZA(),e.TgZ(50,"div",29)(51,"small"),e._uU(52,"Please fill all the required fields in the following forms before submitting the application. "),e.qZA(),e.TgZ(53,"ul"),e.YNc(54,Ec,2,1,"li",30),e.qZA()(),e.TgZ(55,"div",31)(56,"button",16),e._uU(57,"CLOSE"),e.qZA()()()()(),e._UZ(58,"button",32),e.TgZ(59,"div",33,34)(61,"div",27)(62,"div",7)(63,"div",8)(64,"h6",28),e._uU(65,"Messer"),e.qZA(),e._UZ(66,"button",10),e.qZA(),e.TgZ(67,"div",29)(68,"small"),e._uU(69,"Yes I'm ready to submit my prequalification info to Messer for Review."),e.qZA()(),e.TgZ(70,"div",31)(71,"button",35),e.NdJ("click",function(){return i.getComplete()}),e._uU(72,"YES"),e.qZA(),e.TgZ(73,"button",16),e._uU(74,"NO"),e.qZA()()()()()),2&t&&(e.Q6J("ngIf","Subcontractor"==i.userRole),e.xp6(1),e.Q6J("ngIf","Admin"==i.userRole||!i.showrisk1status&&"RiskUser"==i.userRole||!i.showrisk2status&&"RiskUser2"==i.userRole),e.xp6(1),e.Q6J("ngIf","Subcontractor"!=i.userRole&&i.showrisk2status&&(null==i.getrisk2records?null:i.getrisk2records.length)>0),e.xp6(1),e.Q6J("ngIf",!(i.showAdmin||i.prequalification_status&&"To complete prequalification"!=i.prequalification_status&&"Additional Info Needed from Subcontractor"!=i.prequalification_status)),e.xp6(10),e.Q6J("formGroup",i.submitForm),e.xp6(1),e.Q6J("ngClass",e.VKq(16,Te,i.rejecionrequired)),e.uIk("disable",!1),e.xp6(1),e.Q6J("ngIf",i.rejecionrequired),e.xp6(16),e.Q6J("formGroup",i.submitForm),e.xp6(1),e.Q6J("ngClass",e.VKq(18,Te,i.rejecionrequired)),e.uIk("disable",!1),e.xp6(1),e.Q6J("ngIf",i.rejecionrequired),e.xp6(1),e.Q6J("ngClass",e.VKq(20,Te,i.approvesubmitted&&i.f.approve_reason.errors)),e.uIk("disable",!1),e.xp6(1),e.Q6J("ngIf",i.approvesubmitted&&i.f.approve_reason.errors),e.xp6(19),e.Q6J("ngForOf",i.requiredField))},directives:[f.O5,s._Y,s.JL,s.sg,s._,s.Fj,s.JJ,s.u,f.sg,f.mk],pipes:[f.uU],styles:[".col-curve-top-submit[_ngcontent-%COMP%]{border-top-left-radius:28px!important;border-top-right-radius:28px!important;border-top:6px solid #fddede05!important}.col-curve[_ngcontent-%COMP%]{border-radius:18px 19px!important}.submit-head[_ngcontent-%COMP%]{background:#c3bdbd;color:#ce2929;border-top-left-radius:18px 19px!important;border-top-right-radius:18px 19px!important}.record-shadow[_ngcontent-%COMP%]{border:1px solid #ddd;box-shadow:0 .5rem 1rem #00000026!important}.text-red[_ngcontent-%COMP%]{color:#ce2929!important}h6[_ngcontent-%COMP%]{font-size:13px!important}.info[_ngcontent-%COMP%]{list-style-type:decimal;margin-top:10px}"]}),n})(),Pc=(()=>{class n extends S.EJ{constructor(t,i){super("Other",t,i,{root:u.N.webserviceURlLocal})}getAll(){return super.getAll()}getRecords(t){const i={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("other/"+t,u.N.webserviceURlLocal);return this.http.get(o,i)}updateRecord(t,i){const o={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},r=this.httpUrlGenerator.entityResource("other/"+i,u.N.webserviceURlLocal);return this.http.put(r,t,o)}addRecord(t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("other",u.N.webserviceURlLocal);return this.http.post(o,t,i)}getUser(t,i){const o={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},r=this.httpUrlGenerator.entityResource("Organization/"+t+"/"+i,u.N.webserviceURlLocal);return this.http.get(r,o)}getComplete(t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("Organization/Getstatus/"+t,u.N.webserviceURlLocal);return this.http.get(o,i)}deleteRecord(t){const i={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.delete(u.N.webserviceURlLocal+"Files/"+t,i)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(B.eN),e.LFG(S.hR))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Jc(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Current licenses registrations is required"),e.qZA())}function jc(n,a){if(1&n&&(e.TgZ(0,"div",42),e.YNc(1,Jc,2,0,"div",43),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.is_Any_Limits.errors.required)}}function Yc(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Current licenses registrations information is required"),e.qZA())}function Lc(n,a){if(1&n&&(e.TgZ(0,"div",42),e.YNc(1,Yc,2,0,"div",43),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.limits_info.errors.required)}}function Dc(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Suspended or revoked is required"),e.qZA())}function Qc(n,a){if(1&n&&(e.TgZ(0,"div",42),e.YNc(1,Dc,2,0,"div",43),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.is_Suspended.errors.required)}}function Vc(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"OSHA information is required"),e.qZA())}function Bc(n,a){if(1&n&&(e.TgZ(0,"div",42),e.YNc(1,Vc,2,0,"div",43),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.suspended_info.errors.required)}}function Gc(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Attachment is required"),e.qZA())}function Kc(n,a){if(1&n&&(e.TgZ(0,"div",42),e.YNc(1,Gc,2,0,"div",43),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.project_Details_Upload.errors.required)}}function Hc(n,a){1&n&&(e.TgZ(0,"div",44)(1,"span"),e._uU(2,"Uploading..."),e.qZA(),e._UZ(3,"mat-progress-spinner",45),e.qZA())}function zc(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"p",46)(2,"small")(3,"a",47),e._uU(4),e.qZA()(),e.TgZ(5,"small",48),e.NdJ("click",function(){const o=e.CHM(t),r=o.index,l=o.$implicit;return e.oxw().removeprojectUpload(r,l)}),e._uU(6,"X"),e.qZA()()()}if(2&n){const t=a.$implicit;e.xp6(3),e.s9C("href",t.file_Path,e.LSH),e.xp6(1),e.Oqu(t.name)}}function $c(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",49)(1,"button",50),e.NdJ("click",function(){return e.CHM(t),e.oxw().gotoHome()}),e._uU(2,"<< BACK"),e.qZA(),e.TgZ(3,"button",51),e.NdJ("click",function(){return e.CHM(t),e.oxw().save()}),e._uU(4),e.qZA(),e.TgZ(5,"button",52),e._uU(6,"NEXT >>"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(4),e.Oqu(t.submitText)}}function Wc(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",53)(1,"button",50),e.NdJ("click",function(){return e.CHM(t),e.oxw().gotoHome()}),e._uU(2,"<< BACK"),e.qZA(),e.TgZ(3,"button",54),e.NdJ("click",function(){return e.CHM(t),e.oxw().nextroutePage()}),e._uU(4,"NEXT >>"),e.qZA()()}}const he=function(n){return{"bg-grey":n}},ne=function(n){return{"is-invalid":n}};let Xc=(()=>{class n{constructor(t,i,o,r,l,c,d,p,_,v){this.formBuilder=t,this.router=i,this.bnIdle=o,this.keepalive=r,this.toastr=l,this.project=c,this.logininfo=d,this.ngxUiLoader=p,this.otherinfoservice=_,this.companyservice=v,this.currentForm=7,this.otherinfoForm=this.formBuilder.group({id:[0],companyId:[null,[s.kI.maxLength(130)]],is_Any_Limits:["",[s.kI.required]],limits_info:[""],is_Suspended:["",[s.kI.required]],suspended_info:[""],project_Details_Upload:["",[s.kI.required]],isAutosave:[!1]}),this.submitted=!1,this.prequalification_status="",this.submitText="SAVE",this.showAdmin=!1,this.otherinfoid=0,this.companyId=0,this.setTimeout=0,this.resetTimer=0,this.projectAttachment=[],this.tempprojectAttachment=[],this.spinner={projectSpinner:!1},this.showdisabled=!1}ngOnInit(){this.ngxUiLoader.startLoader("loader-01"),localStorage.setItem("currPage","otherinfo"),this.prequalification_status=this.logininfo.organization_status,this.submitText="SAVE";let t=localStorage.getItem("userDetails");t=JSON.parse(atob(t)),this.userDetails=t,this.userRole=t.role,this.tempcompanyid=localStorage.getItem("tempcompanyid"),this.tempcompanyid=Number(atob(this.tempcompanyid)),this.tempcompanyid>0&&"Subcontractor"!=this.userRole&&(this.showAdmin=!0,this.otherinfoservice.getRecords(this.tempcompanyid).subscribe(i=>{this.showdisabled=!0,this.otherinfoForm.disable(),this.otherinfoForm.updateValueAndValidity(),this.showAdmin=!0,(null==i?void 0:i.length)&&(this.otherinfoid=i[0].id,this.submitText="UPDATE",this.updateOtherinfo(i))})),null!=this.userDetails.vendorId&&null!=this.userDetails.taxId&&"Subcontractor"==this.userRole&&this.otherinfoservice.getUser(this.userDetails.vendorId,this.userDetails.taxId).subscribe(i=>{this.companyId=i.id,localStorage.setItem("companyid",btoa(this.companyId)),this.getRecords()}),this.ngxUiLoader.stopLoader("loader-01")}ngAfterViewInit(){this.keepalive.interval(30),this.keepalive.stop(),0==this.setTimeout&&this.keepalive.stop()}ngOnDestroy(){this.keepalive.stop(),this.nextpage()}idleReset(){this.keepalive.stop(),this.keepalive.start(),this.resetTimer=0}gotoHome(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm-1].url}`])}get f(){var t;return"yes"==this.otherinfoForm.value.is_Any_Limits?(this.otherinfoForm.controls.limits_info.setValidators([s.kI.required]),this.otherinfoForm.controls.limits_info.enable()):"no"==this.otherinfoForm.value.is_Any_Limits&&(this.otherinfoForm.controls.limits_info.clearValidators(),this.otherinfoForm.patchValue({limits_info:""}),this.otherinfoForm.controls.limits_info.disable()),"yes"==this.otherinfoForm.value.is_Suspended?(this.otherinfoForm.controls.suspended_info.setValidators([s.kI.required]),this.otherinfoForm.controls.suspended_info.enable()):"no"==this.otherinfoForm.value.is_Suspended&&(this.otherinfoForm.controls.suspended_info.clearValidators(),this.otherinfoForm.patchValue({suspended_info:""}),this.otherinfoForm.controls.suspended_info.disable()),this.otherinfoForm.controls.limits_info.updateValueAndValidity(),this.otherinfoForm.controls.suspended_info.updateValueAndValidity(),(null===(t=this.projectAttachment)||void 0===t?void 0:t.length)>0&&(this.otherinfoForm.controls.project_Details_Upload.setValidators(null),this.otherinfoForm.controls.project_Details_Upload.updateValueAndValidity()),this.otherinfoForm.controls}updateOtherinfo(t){this.otherinfoForm.patchValue({id:t[0].id,companyId:t[0].companyId,is_Any_Limits:t[0].is_Any_Limits,limits_info:this.logininfo.validateEmpty(this.logininfo.validateEmpty(t[0].limits_info)),is_Suspended:t[0].is_Suspended,suspended_info:this.logininfo.validateEmpty(this.logininfo.validateEmpty(t[0].suspended_info))}),this.projectAttachment=[],t[0].files.filter(i=>{i.file_Name.length<31&&0==i.isDeleted?this.projectAttachment.push({id:i.id,name:i.file_Name,file_Path:i.file_Path}):0==i.isDeleted&&this.projectAttachment.push({id:i.id,name:i.file_Name.substring(0,31)+"....",file_Path:i.file_Path})})}save(){if(console.log(this.otherinfoForm),this.submitted=!0,this.keepalive.stop(),this.otherinfoForm.valid)if(0==this.otherinfoid){this.otherinfoForm.patchValue({isAutosave:!1});let t=this.formMethod();this.otherinfoservice.addRecord(t).subscribe(i=>{this.getRecords(),this.submitText="UPDATE",this.fileReset(),this.resetSpinner(),this.toastr.success("Other info saved successfully","Other Info")})}else{this.otherinfoForm.patchValue({isAutosave:!1});let t=this.formMethod();this.otherinfoservice.updateRecord(t,this.otherinfoid).subscribe(i=>{this.getRecords(),this.fileReset(),this.resetSpinner(),this.toastr.success("Other info updated successfully","Other Info")})}}submit(){if(console.log(this.otherinfoForm),this.keepalive.stop(),this.ngxUiLoader.startLoader("loader-01"),0==this.otherinfoid){let t=this.formMethod();this.otherinfoservice.addRecord(t).subscribe(i=>{this.getRecords(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])})}else{this.otherinfoForm.patchValue({isAutosave:!1});let t=this.formMethod();this.otherinfoservice.updateRecord(t,this.otherinfoid).subscribe(i=>{this.getRecords(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])})}}autoSave(){if(this.resetTimer+=1,1==this.resetTimer)if(0==this.otherinfoid){let t=this.formMethod();this.otherinfoservice.addRecord(t).subscribe(i=>{this.getRecords()})}else{this.otherinfoForm.patchValue({isAutosave:!1});let t=this.formMethod();this.otherinfoservice.updateRecord(t,this.otherinfoid).subscribe(i=>{this.getRecords()})}}nextpage(){if(0==this.otherinfoid){let t=this.formMethod();this.otherinfoservice.addRecord(t).subscribe(i=>{})}else{this.otherinfoForm.patchValue({isAutosave:!1});let t=this.formMethod();this.otherinfoservice.updateRecord(t,this.otherinfoid).subscribe(i=>{})}}fileupload(){if(this.keepalive.stop(),0==this.otherinfoid){this.otherinfoForm.patchValue({isAutosave:!0});let t=this.formMethod();this.otherinfoservice.addRecord(t).subscribe(i=>{this.keepalive.stop(),this.otherinfoForm.patchValue({qcP_Attachment:"",id:i.id}),this.submitText="UPDATE",this.getRecords(),this.resetSpinner(),this.submitted=!1})}else{this.otherinfoForm.patchValue({id:this.otherinfoid,isAutosave:!0});let t=this.formMethod();this.otherinfoservice.updateRecord(t,this.otherinfoForm.value.id).subscribe(i=>{this.keepalive.stop(),this.getRecords(),this.resetSpinner(),this.otherinfoForm.patchValue({qcP_Attachment:""}),this.submitted=!1})}}autosave(){if(this.resetTimer+=1,1==this.resetTimer)if(0==this.otherinfoid){this.otherinfoForm.patchValue({isAutosave:!1});let t=this.formMethod();this.otherinfoservice.addRecord(t).subscribe(i=>{this.submitText="UPDATE",this.getRecords(),this.fileReset(),this.keepalive.stop(),this.resetSpinner()})}else{this.otherinfoForm.patchValue({isAutosave:!0});let t=this.formMethod();this.otherinfoservice.updateRecord(t,this.otherinfoid).subscribe(i=>{this.getRecords(),this.fileReset(),this.keepalive.stop(),this.resetSpinner(),this.otherinfoForm.patchValue({isAutosave:!1})})}}getRecords(){this.otherinfoservice.getRecords(this.companyId).subscribe(t=>{t.length&&(this.otherinfoid=t[0].id,this.submitText="UPDATE",this.updateOtherinfo(t))}),this.companyId>0&&this.companyservice.getRecord(this.companyId).subscribe(t=>{this.prequalification_status=(t=t[0]).preQualification_Status,t.preQualification_Status&&this.logininfo.formDisable(t.preQualification_Status)&&(this.showdisabled=!0,this.otherinfoForm.disable(),this.otherinfoForm.updateValueAndValidity())})}formMethod(){var t=new FormData;if(t.append("id",this.otherinfoForm.value.id),t.append("companyId",this.companyId),t.append("is_Any_Limits",this.otherinfoForm.value.is_Any_Limits),t.append("proposed_OP_Title",this.otherinfoForm.value.proposed_OP_Title),t.append("limits_info","undefined"!=this.otherinfoForm.value.limits_info?this.otherinfoForm.value.limits_info:""),t.append("is_Suspended",this.otherinfoForm.value.is_Suspended),t.append("suspended_info",this.otherinfoForm.value.suspended_info),this.tempprojectAttachment.length){for(let i=0;i<this.tempprojectAttachment.length;i++)t.append("project_Details_Upload",this.tempprojectAttachment[i]);this.tempprojectAttachment=[]}return t}projectUpload(t){let i=document.getElementById("project_Details_Upload");for(let o=0;o<i.files.length;o++)this.tempprojectAttachment.push(i.files[o]);this.spinner.projectSpinner=!0,this.fileupload()}filepreview(t,i){var o=new FileReader;o.onload=r=>{console.log(r.target);let l=new Blob(t.files,{type:t.files[i].type});var c=(window.URL||window.webkitURL).createObjectURL(l);console.log("path",c,t.value);var d=document.createElement("a"),p=document.createTextNode("View File");d.target="_blank",d.appendChild(p),d.href=c,d.click(),t.appendChild(d)},o.readAsDataURL(t.files[i])}removeprojectUpload(t,i){this.showdisabled||this.otherinfoservice.deleteRecord(i.id).subscribe(o=>{this.projectAttachment.splice(t,1),this.toastr.info("File removed successfully","Other Info")})}resetSpinner(){this.spinner={projectSpinner:!1}}fileReset(){this.otherinfoForm.patchValue({project_Details_Upload:""})}nextroutePage(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.qu),e.Y36(U.F0),e.Y36(K.d),e.Y36(Q.A),e.Y36(L._W),e.Y36(se.m),e.Y36(D),e.Y36(V.LA),e.Y36(Pc),e.Y36(G.O))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-otherinfo"]],decls:68,vars:45,consts:[[1,"px-2",3,"formGroup","ngSubmit","keydown.enter"],[1,"px-1","my-2","form-bg",3,"ngClass"],[1,"form-group","input-group","row","px-2","mx-auto","pb-3"],[1,"col-lg-6","col-curve-top","bg-white","px-2","col-head-1","mx-auto","mt-2"],[1,"row","mx-0","px-0","py-2","mt-2"],[1,"col-12"],["for","is_Any_Limits",1,"my-auto","fw-bold","float-right"],[1,"text-danger"],[1,"row","pt-1"],[1,"col-lg-2"],["type","radio","formControlName","is_Any_Limits","value","yes","checked","checked","name","is_Any_Limits","id","is_Any_Limits_yes",3,"ngClass","ngModelChange"],["for","is_Any_Limits_yes"],[1,"col-lg-10"],["type","radio","formControlName","is_Any_Limits","value","no","name","is_Any_Limits","id","is_Any_Limits_no",3,"ngClass","ngModelChange"],["for","is_Any_Limits_no"],["class","invalid-feedback",4,"ngIf"],[1,"mr-4","mt-4","pt-1"],[1,"note","fw-bold",3,"ngClass"],[1,"col-lg-12","bg-white","mt-2"],["formControlName","limits_info","id","limits_info","name","limits_info",1,"form-control",3,"ngClass","ngModelChange"],[1,"col-lg-6","px-2","col-head-2","col-curve-top","bg-white","mx-auto","mt-2"],["for","is_Suspended",1,"my-auto","fw-bold","float-right"],["type","radio","formControlName","is_Suspended","value","yes","checked","checked","name","is_Suspended","id","is_Suspended_yes",3,"ngClass","ngModelChange"],["for","is_Suspended_yes"],["type","radio","formControlName","is_Suspended","value","no","name","is_Suspended","id","is_Suspended_no",3,"ngClass","ngModelChange"],["for","is_Suspended_no"],[1,"mr-4"],["for","risk_Manager_Email",1,"note","fw-bold",3,"ngClass"],[1,"col-lg-12","bg-white"],["formControlName","suspended_info","id","suspended_info","name","suspended_info",1,"form-control",3,"ngClass","ngModelChange"],[1,"col-lg-6","col-curve","bg-white","px-2","mx-auto","col-head-1"],[1,"col-5"],["for","project_Details_Upload",1,"my-auto","fw-bold","float-right"],[1,"col-7"],[1,"form-control-customitem","form-control"],["type","file","formControlName","project_Details_Upload","title","Choose file","id","project_Details_Upload","name","project_Details_Upload","multiple","",3,"ngClass","change"],["for","project_Details_Upload",3,"ngClass"],["class","spinner__loading pt-3",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"col-lg-6","col-curve","bg-white","px-2","col-head-2","mx-auto"],["class","text-end mx-lg-4 my-3",4,"ngIf"],["class","text-end mx-4 my-3",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner__loading","pt-3"],["diameter","18","mode","indeterminate",1,"mt-1"],[1,"file-tag"],["target","_blank",3,"href"],[1,"file-close","text-white",3,"click"],[1,"text-end","mx-lg-4","my-3"],[1,"btn","float-start","btn","default-btn",3,"click"],["type","button",1,"btn","ml-4","default-btn",3,"click"],["type","submit",1,"btn","btn-success","mx-2","default-btn"],[1,"text-end","mx-4","my-3"],[1,"btn","btn-success","mx-2","default-btn",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return i.submit()})("keydown.enter",function(r){return r.preventDefault()}),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h6",6),e._uU(7,"1. Do you have any limits or restrictions to current licenses registrations: "),e.TgZ(8,"span",7),e._uU(9,"*"),e.qZA()(),e.TgZ(10,"div",8)(11,"span",9)(12,"input",10),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.qZA(),e.TgZ(13,"label",11),e._uU(14," YES"),e.qZA()(),e.TgZ(15,"span",12)(16,"input",13),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.qZA(),e.TgZ(17,"label",14),e._uU(18," NO"),e.qZA()()(),e.YNc(19,jc,2,1,"div",15),e.TgZ(20,"div",16)(21,"small",17),e._uU(22,"If yes, please explain."),e.qZA()(),e.TgZ(23,"div",18)(24,"textarea",19),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.qZA(),e.YNc(25,Lc,2,1,"div",15),e.qZA()()()(),e.TgZ(26,"div",20)(27,"div",4)(28,"div",5)(29,"h6",21),e._uU(30,"2. In the past three years from the today's date, has your company had any business or professional license suspended or revoked ? "),e.TgZ(31,"span",7),e._uU(32,"*"),e.qZA()(),e.TgZ(33,"div",8)(34,"span",9)(35,"input",22),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.qZA(),e.TgZ(36,"label",23),e._uU(37," YES"),e.qZA()(),e.TgZ(38,"span",12)(39,"input",24),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.qZA(),e.TgZ(40,"label",25),e._uU(41," NO"),e.qZA()()(),e.YNc(42,Qc,2,1,"div",15),e.TgZ(43,"div",26)(44,"small",27),e._uU(45,"If yes, describe circumstances including jurisdiction and bases for suspension or revocation: "),e.qZA()(),e.TgZ(46,"div",28)(47,"textarea",29),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.qZA(),e.YNc(48,Bc,2,1,"div",15),e.qZA()()()()(),e.TgZ(49,"div",2)(50,"div",30)(51,"div",4)(52,"div",31)(53,"h6",32),e._uU(54,"3. Attach any project specific details "),e.TgZ(55,"span",7),e._uU(56,"*"),e.qZA()()(),e.TgZ(57,"div",33)(58,"div",34)(59,"input",35),e.NdJ("change",function(r){return i.projectUpload(r)}),e.qZA(),e.TgZ(60,"span",36),e._uU(61," \xa0 Click here to Add Files"),e.qZA()(),e.YNc(62,Kc,2,1,"div",15),e.YNc(63,Hc,4,0,"div",37),e.YNc(64,zc,7,2,"div",38),e.qZA()()(),e._UZ(65,"div",39),e.qZA()(),e.YNc(66,$c,7,1,"div",40),e.qZA(),e.YNc(67,Wc,5,0,"div",41)),2&t&&(e.Q6J("formGroup",i.otherinfoForm),e.xp6(1),e.Q6J("ngClass",e.VKq(23,he,1==i.showdisabled)),e.xp6(11),e.Q6J("ngClass",e.VKq(25,ne,i.submitted&&i.f.is_Any_Limits.errors)),e.xp6(4),e.Q6J("ngClass",e.VKq(27,ne,i.submitted&&i.f.is_Any_Limits.errors)),e.xp6(3),e.Q6J("ngIf",i.submitted&&i.f.is_Any_Limits.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(29,he,"no"==i.f.is_Any_Limits.value)),e.xp6(3),e.Q6J("ngClass",e.VKq(31,ne,i.submitted&&i.f.limits_info.errors)),e.uIk("disabled","no"==i.f.is_Any_Limits.value?"":null),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.limits_info.errors),e.xp6(10),e.Q6J("ngClass",e.VKq(33,ne,i.submitted&&i.f.is_Suspended.errors)),e.xp6(4),e.Q6J("ngClass",e.VKq(35,ne,i.submitted&&i.f.is_Suspended.errors)),e.xp6(3),e.Q6J("ngIf",i.submitted&&i.f.is_Suspended.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(37,he,"no"==i.f.is_Suspended.value)),e.xp6(3),e.Q6J("ngClass",e.VKq(39,ne,i.submitted&&i.f.suspended_info.errors)),e.uIk("disabled","no"==i.f.is_Suspended.value?"":null),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.suspended_info.errors),e.xp6(11),e.Q6J("ngClass",e.VKq(41,ne,i.submitted&&i.f.project_Details_Upload.errors)),e.xp6(1),e.Q6J("ngClass",e.VKq(43,he,1==i.showdisabled)),e.xp6(2),e.Q6J("ngIf",i.submitted&&i.f.project_Details_Upload.errors),e.xp6(1),e.Q6J("ngIf",null==i.spinner?null:i.spinner.projectSpinner),e.xp6(1),e.Q6J("ngForOf",i.projectAttachment),e.xp6(2),e.Q6J("ngIf",!(i.showAdmin||i.prequalification_status&&"To complete prequalification"!=i.prequalification_status&&"Additional Info Needed from Subcontractor"!=i.prequalification_status)),e.xp6(1),e.Q6J("ngIf",!i.showAdmin&&i.prequalification_status&&"To complete prequalification"!=i.prequalification_status&&"Additional Info Needed from Subcontractor"!=i.prequalification_status||i.showAdmin))},directives:[s._Y,s.JL,s.sg,f.mk,s._,s.Fj,s.JJ,s.u,f.O5,ie.Ou,f.sg],styles:[".col-curve-top[_ngcontent-%COMP%]{border-radius:18px 19px!important;border-top:6px solid #c3bdbd!important}.col-curve[_ngcontent-%COMP%]{border-radius:18px 19px!important}h6[_ngcontent-%COMP%]{font-size:13px!important}.bg-grey[_ngcontent-%COMP%]{color:#c7bfbf!important}input[type=file][_ngcontent-%COMP%]{width:90px}"]}),n})();const ui=["01 General Trades","02 Demolition","02 Hazardous Material Remediation","03 Concrete","03 Material","03 Pump Place Finish","03 Decking","03 Rebar / Post Tension Material","03 Rebar / Post Tension Labor","03 Precast Concrete","04 Masonry","05 Metals - Structural Steel","05 Metals - Misc. Metals","05 Metals - Ornamental Metals","06 Wood\xb8 Plastics\xb8 and Composites","06 - Millwork","06 - Wood Framing","07 Thermal and Moisture Protection","07 Waterproofing","07 Fireproofing","07 Firestopping / Joint Sealants","07 Roofing","07 Metal Panels","08 Openings","08 Doors Frames Hardware","08 Glass & Glazing","08 Overhead / Special Doors","09 Finishes","09 Drywall & Ceilings","09 Flooring","09 Painting","10 Specialties","11 Equipment","12 Furnishings","13 Special Construction","14 Conveying Equipment","21 Fire Suppression","22 Plumbing","23 Heating\xb8 Ventilating\xb8 & Air Conditioning (HVAC)","26 Electrical","27 Communications","28 Electronic Safety and Security","31 Earthwork","31 Deep Foundations","32 Exterior Improvements","32 Landscaping","32 Site Concrete","32 Asphalt Paving","33 Utilities"];let ed=(()=>{class n extends S.EJ{constructor(t,i){super("Personnel",t,i,{root:u.N.webserviceURlLocal})}getAll(){return super.getAll()}getRecords(t){const i={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("personnel/"+t,u.N.webserviceURlLocal);return this.http.get(o,i)}updateRecord(t,i){const o={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},r=this.httpUrlGenerator.entityResource("personnel/"+i,u.N.webserviceURlLocal);return this.http.put(r,t,o)}addRecord(t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("personnel",u.N.webserviceURlLocal);return this.http.post(o,t,i)}getUser(t,i){const o={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},r=this.httpUrlGenerator.entityResource("Organization/"+t+"/"+i,u.N.webserviceURlLocal);return this.http.get(r,o)}getComplete(t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("Organization/Getstatus/"+t,u.N.webserviceURlLocal);return this.http.get(o,i)}deleteRecord(t){const i={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.delete(u.N.webserviceURlLocal+"Files/"+t,i)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(B.eN),e.LFG(S.hR))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function td(n,a){1&n&&(e.TgZ(0,"div",97),e._uU(1,"Quality control plan is required "),e.qZA())}function id(n,a){if(1&n&&(e.TgZ(0,"div",95),e.YNc(1,td,2,0,"div",96),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.is_QCP.errors?null:t.f.is_QCP.errors.required)}}function nd(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Attachment is required"),e.qZA())}function od(n,a){if(1&n&&(e.TgZ(0,"div",98),e.YNc(1,nd,2,0,"div",99),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.qcP_Attachment.errors.required)}}function ad(n,a){1&n&&(e.TgZ(0,"div",100)(1,"span"),e._uU(2,"Uploading..."),e.qZA(),e._UZ(3,"mat-progress-spinner",101),e.qZA())}function rd(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"p",102)(2,"small")(3,"a",103),e._uU(4),e.qZA()(),e.TgZ(5,"small",104),e.NdJ("click",function(){const o=e.CHM(t),r=o.index,l=o.$implicit;return e.oxw().removeqcpUpload(r,l)}),e._uU(6,"X"),e.qZA()()()}if(2&n){const t=a.$implicit;e.xp6(3),e.s9C("href",t.file_Path,e.LSH),e.xp6(1),e.Oqu(t.name)}}function sd(n,a){1&n&&(e.TgZ(0,"div",107),e._uU(1,"your own employees to perform project work is required "),e.qZA())}function ld(n,a){if(1&n&&(e.TgZ(0,"div",105),e.YNc(1,sd,2,0,"div",106),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.is_OwnEmployee.errors?null:t.f.is_OwnEmployee.errors.required)}}function cd(n,a){1&n&&(e.TgZ(0,"div",110),e._uU(1,"Temp labor to perform project work is required "),e.qZA())}function dd(n,a){if(1&n&&(e.TgZ(0,"div",108),e.YNc(1,cd,2,0,"div",109),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.is_TempLabor.errors?null:t.f.is_TempLabor.errors.required)}}function pd(n,a){1&n&&(e.TgZ(0,"div",98)(1,"div"),e._uU(2,"work type is required"),e.qZA()())}function ud(n,a){1&n&&(e.TgZ(0,"div",113),e._uU(1,"Criminal indictment or judgment of conviction is required "),e.qZA())}function md(n,a){if(1&n&&(e.TgZ(0,"div",111),e.YNc(1,ud,2,0,"div",112),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.is_Criminal_Indictment.errors?null:t.f.is_Criminal_Indictment.errors.required)}}function _d(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Criminal indictment or judgment of conviction information is required"),e.qZA())}function fd(n,a){if(1&n&&(e.TgZ(0,"div",98),e.YNc(1,_d,2,0,"div",99),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.criminal_Indictment_Info.errors.required)}}function hd(n,a){1&n&&(e.TgZ(0,"div",116),e._uU(1,"Suspension or disbarment is required "),e.qZA())}function gd(n,a){if(1&n&&(e.TgZ(0,"div",114),e.YNc(1,hd,2,0,"div",115),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.is_Federal.errors?null:t.f.is_Federal.errors.required)}}function vd(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Suspension or disbarment information is required"),e.qZA())}function yd(n,a){if(1&n&&(e.TgZ(0,"div",98),e.YNc(1,vd,2,0,"div",99),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.federal_Info.errors.required)}}function Cd(n,a){1&n&&(e.TgZ(0,"div",119),e._uU(1,"Proceeding or consent order is required "),e.qZA())}function bd(n,a){if(1&n&&(e.TgZ(0,"div",117),e.YNc(1,Cd,2,0,"div",118),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.is_Violation_Of_State.errors?null:t.f.is_Violation_Of_State.errors.required)}}function Td(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Proceeding or consent order information is required"),e.qZA())}function Zd(n,a){if(1&n&&(e.TgZ(0,"div",98),e.YNc(1,Td,2,0,"div",99),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.showdisabled||t.f.violation_Of_State_Info.errors.required)}}function xd(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",120)(1,"button",121),e.NdJ("click",function(){return e.CHM(t),e.oxw().gotoHome()}),e._uU(2," << BACK"),e.qZA(),e.TgZ(3,"button",122),e.NdJ("click",function(){return e.CHM(t),e.oxw().save()}),e._uU(4),e.qZA(),e.TgZ(5,"button",123),e._uU(6,"NEXT >>"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(4),e.Oqu(t.submitText)}}function Id(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",124)(1,"button",121),e.NdJ("click",function(){return e.CHM(t),e.oxw().gotoHome()}),e._uU(2," << BACK"),e.qZA(),e.TgZ(3,"button",125),e.NdJ("click",function(){return e.CHM(t),e.oxw().nextroutePage()}),e._uU(4,"NEXT >>"),e.qZA()()}}function Ad(n,a){if(1&n&&e._UZ(0,"app-comment",126),2&n){const t=e.oxw();e.Q6J("events",t.eventsSubject.asObservable())("formId",t.personnelid)("companyId",t.tempcompanyid)}}const z=function(n){return{"bg-grey":n}},E=function(n){return{"is-invalid":n}};let qd=(()=>{class n{constructor(t,i,o,r,l,c,d,p,_,v){this.formBuilder=t,this.router=i,this.bnIdle=o,this.keepalive=r,this.toastr=l,this.project=c,this.logininfo=d,this.ngxUiLoader=p,this.personnelService=_,this.companyservice=v,this.currentForm=1,this.personnelForm=this.formBuilder.group({id:[0],companyId:[null,[s.kI.maxLength(130)]],proposed_OP_Name:["no",[s.kI.required]],proposed_OP_Title:["",[]],proposed_OP_Years:["",[]],proposed_OP_Experience:["",[]],additional_OP_Name:["",[]],additional_OP_Title:["",[]],additional_OP_Years:["",[]],additional_OP_Experience:["",[]],is_QCP:["no",[s.kI.required]],qcP_Attachment:[""],is_OwnEmployee:["no",[s.kI.required]],is_TempLabor:["no",[s.kI.required]],work_Types:[""],is_Criminal_Indictment:["no",[s.kI.required]],criminal_Indictment_Info:[""],is_Federal:["no",[s.kI.required]],federal_Info:[""],is_Violation_Of_State:["no",[s.kI.required]],violation_Of_State_Info:[""],isAutosave:[!1]}),this.showAdmin=!1,this.personnelid=0,this.companyId=0,this.resetTimer=0,this.spinner={qcpSpinner:!1},this.qcpAttachment=[],this.tempqcpAttachment=[],this.worktypes=ui,this.tempQcpFile=[],this.setTimeout=0,this.toppings=new s.NI,this.copyworktypes=ui,this.workValue=[],this.toppingList=["Extra cheese","Mushroom","Onion","Pepperoni","Sausage","Tomato"],this.showdisabled=!1,this.eventsSubject=new re.xQ;let g=localStorage.getItem("userDetails");g=JSON.parse(atob(g)),this.userDetails=g,this.userRole=g.role,this.tempcompanyid=localStorage.getItem("tempcompanyid"),this.tempcompanyid=Number(atob(this.tempcompanyid)),this.tempcompanyid>0&&"Subcontractor"!=this.userRole&&(this.showAdmin=!0,this.personnelService.getRecords(this.tempcompanyid).subscribe(C=>{this.showdisabled=!0,this.personnelForm.disable(),this.personnelForm.updateValueAndValidity(),this.showAdmin=!0,(null==C?void 0:C.length)>0&&(console.log("Personnel id "+C[0].id),this.personnelid=C[0].id,this.submitText=C[0].is_QCP?"UPDATE":"SAVE",this.updatePersonnel(C))})),null!=this.userDetails.vendorId&&null!=this.userDetails.taxId&&"Subcontractor"==this.userRole&&this.personnelService.getUser(this.userDetails.vendorId,this.userDetails.taxId).subscribe(C=>{this.companyId=C.id,localStorage.setItem("companyid",btoa(this.companyId)),this.getRecords()})}ngOnInit(){this.ngxUiLoader.startLoader("loader-01"),localStorage.setItem("currPage","personnel"),this.prequalification_status=this.logininfo.organization_status,this.submitText="SAVE",this.ngxUiLoader.stopLoader("loader-01")}emitEventToChild(){this.eventsSubject.next()}ngAfterViewInit(){this.keepalive.interval(30),this.keepalive.stop(),0==this.setTimeout&&this.keepalive.stop()}ngOnDestroy(){this.keepalive.stop(),this.autoSave()}qcpReset(){this.showdisabled=!1,this.qcpAttachment.forEach((t,i)=>{this.removeqcpUpload(i,t,!1)})}idleReset(){this.keepalive.stop(),this.keepalive.start(),this.resetTimer=0}gotoHome(){this.emitEventToChild(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm-1].url}`])}get f(){var t;return"yes"==this.personnelForm.value.is_QCP?0==this.qcpAttachment.length?(this.personnelForm.controls.qcP_Attachment.setValidators([s.kI.required]),this.personnelForm.controls.qcP_Attachment.enable()):this.personnelForm.controls.qcP_Attachment.clearValidators():"no"==this.personnelForm.value.is_QCP&&(this.personnelForm.controls.qcP_Attachment.clearValidators(),this.personnelForm.controls.qcP_Attachment.disable()),this.personnelForm.controls.qcP_Attachment.updateValueAndValidity(),"yes"==this.personnelForm.value.is_Criminal_Indictment?this.personnelForm.controls.criminal_Indictment_Info.setValidators([s.kI.required]):(this.personnelForm.patchValue({criminal_Indictment_Info:this.personnelForm.value.criminal_Indictment_Info}),this.personnelForm.controls.criminal_Indictment_Info.clearValidators()),this.personnelForm.controls.criminal_Indictment_Info.updateValueAndValidity(),"yes"==this.personnelForm.value.is_Federal?this.personnelForm.controls.federal_Info.setValidators([s.kI.required]):(this.personnelForm.patchValue({federal_Info:this.personnelForm.value.federal_Info}),this.personnelForm.controls.federal_Info.clearValidators()),this.personnelForm.controls.federal_Info.updateValueAndValidity(),"yes"==this.personnelForm.value.is_Violation_Of_State?this.personnelForm.controls.violation_Of_State_Info.setValidators([s.kI.required]):(this.personnelForm.patchValue({violation_Of_State_Info:this.personnelForm.value.violation_Of_State_Info}),this.personnelForm.controls.violation_Of_State_Info.clearValidators()),this.personnelForm.controls.violation_Of_State_Info.updateValueAndValidity(),(null===(t=this.qcpAttachment)||void 0===t?void 0:t.length)>0&&(this.personnelForm.controls.qcP_Attachment.setValidators(null),this.personnelForm.controls.qcP_Attachment.updateValueAndValidity()),this.personnelForm.controls}resetData(t){this.personnelForm.patchValue({[t]:""})}updatePersonnel(t){var i,o;let r=[];null===(o=null===(i=t[0])||void 0===i?void 0:i.work_Types)||void 0===o||o.split(",").filter(l=>{r.push(l)}),this.workValue=r,console.log(t),this.personnelForm.patchValue({id:t[0].id,companyId:t[0].companyId,proposed_OP_Name:this.logininfo.validateEmpty(t[0].proposed_OP_Name),proposed_OP_Title:this.logininfo.validateEmpty(t[0].proposed_OP_Title),proposed_OP_Years:this.logininfo.validateEmpty(t[0].proposed_OP_Years),proposed_OP_Experience:this.logininfo.validateEmpty(t[0].proposed_OP_Experience),additional_OP_Name:this.logininfo.validateEmpty(t[0].additional_OP_Name),additional_OP_Title:this.logininfo.validateEmpty(t[0].additional_OP_Title),additional_OP_Years:this.logininfo.validateEmpty(t[0].additional_OP_Years),additional_OP_Experience:this.logininfo.validateEmpty(t[0].additional_OP_Experience),is_QCP:this.logininfo.validateEmpty(t[0].is_QCP),is_OwnEmployee:this.logininfo.validateEmpty(t[0].is_OwnEmployee),is_TempLabor:this.logininfo.validateEmpty(t[0].is_TempLabor),work_Types:this.workValue,is_Criminal_Indictment:this.logininfo.validateEmpty(t[0].is_Criminal_Indictment),criminal_Indictment_Info:this.logininfo.validateEmpty(t[0].criminal_Indictment_Info),is_Federal:this.logininfo.validateEmpty(t[0].is_Federal),federal_Info:this.logininfo.validateEmpty(t[0].federal_Info),is_Violation_Of_State:this.logininfo.validateEmpty(t[0].is_Violation_Of_State),violation_Of_State_Info:this.logininfo.validateEmpty(t[0].violation_Of_State_Info)}),this.qcpAttachment=[],t[0].files.filter(l=>{l.file_Name.length<31&&0==l.isDeleted?this.qcpAttachment.push({id:l.id,name:l.file_Name,file_Path:l.file_Path}):0==l.isDeleted&&this.qcpAttachment.push({id:l.id,name:l.file_Name.substring(0,31)+"....",file_Path:l.file_Path})}),"Subcontractor"!=this.userRole&&"yes"==this.personnelForm.value.is_QCP&&this.personnelForm.controls.qcP_Attachment.setValidators([s.kI.required])}save(){if(console.log("save"),console.log(this.personnelForm),this.submitted=!0,this.keepalive.stop(),this.personnelForm.valid)if(0==this.personnelid){this.personnelForm.patchValue({isAutosave:!1});let t=this.formMethod();this.personnelService.addRecord(t).subscribe(i=>{this.getRecords(),this.submitText="UPDATE",this.fileReset(),this.resetSpinner(),this.toastr.success("Work Types & Management approach saved successfully","Work Types & Management")})}else{this.personnelForm.patchValue({isAutosave:!1});let t=this.formMethod();this.personnelService.updateRecord(t,this.personnelid).subscribe(i=>{this.getRecords(),this.fileReset(),this.resetSpinner(),this.toastr.success("Work Types & Management approach updated successfully","Work Types & Management")})}}toggleSelection(t,i){t.selected=!t.selected}submit(){if(console.log("submit"),console.log(this.personnelForm),this.keepalive.stop(),this.ngxUiLoader.startLoader("loader-01"),"Subcontractor"!=this.userRole)this.emitEventToChild(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`]);else if(0==this.personnelid){let t=this.formMethod();this.personnelService.addRecord(t).subscribe(i=>{this.toastr.success("Work Types & Management approach saved successfully","Work Types & Management"),this.getRecords(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])})}else{this.personnelForm.patchValue({isAutosave:!1});let t=this.formMethod();this.personnelService.updateRecord(t,this.personnelid).subscribe(i=>{this.toastr.success("Work Types & Management approach update successfully","Work Types & Management"),this.getRecords()},i=>{},()=>{this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])})}}autoSave(){if(console.log("auto save"),"Subcontractor"==this.userRole&&(this.resetTimer+=1,1==this.resetTimer))if(0==this.personnelid){let t=this.formMethod();this.personnelService.addRecord(t).subscribe(i=>{this.keepalive.stop(),this.getRecords()})}else{this.personnelForm.patchValue({isAutosave:!1});let t=this.formMethod();this.personnelService.updateRecord(t,this.personnelid).subscribe(i=>{this.keepalive.stop(),this.getRecords()})}}nextpage(){if(console.log("nextpage"),0==this.personnelid){let t=this.formMethod();this.personnelService.addRecord(t).subscribe(i=>{this.getRecords()})}else{this.personnelForm.patchValue({isAutosave:!1});let t=this.formMethod();this.personnelService.updateRecord(t,this.personnelid).subscribe(i=>{this.getRecords()})}}fileupload(){if(console.log("file- upload"),this.keepalive.stop(),0==this.personnelid){this.personnelForm.patchValue({isAutosave:!0});let t=this.formMethod();this.personnelService.addRecord(t).subscribe(i=>{this.keepalive.stop(),this.personnelForm.patchValue({qcP_Attachment:"",id:i.id}),this.getRecords(),this.resetSpinner(),this.submitted=!1})}else{this.personnelForm.patchValue({id:this.personnelid,isAutosave:!0});let t=this.formMethod();this.personnelService.updateRecord(t,this.personnelForm.value.id).subscribe(i=>{this.keepalive.stop(),this.getRecords(),this.resetSpinner(),this.personnelForm.patchValue({qcP_Attachment:""}),this.submitted=!1})}}autosave(){if(console.log("auto save"),this.resetTimer+=1,1==this.resetTimer)if(0==this.personnelid){this.personnelForm.patchValue({isAutosave:!1});let t=this.formMethod();this.personnelService.addRecord(t).subscribe(i=>{this.submitText="UPDATE",this.getRecords(),this.fileReset(),this.keepalive.stop(),this.resetSpinner()})}else{this.personnelForm.patchValue({isAutosave:!0});let t=this.formMethod();this.personnelService.updateRecord(t,this.personnelid).subscribe(i=>{this.getRecords(),this.fileReset(),this.keepalive.stop(),this.resetSpinner(),this.personnelForm.patchValue({isAutosave:!1})})}}getRecords(){this.personnelService.getRecords(this.companyId).subscribe(t=>{(null==t?void 0:t.length)>0&&(console.log(t),this.personnelid=t[0].id,this.submitText=t[0].is_QCP?"UPDATE":"SAVE",this.updatePersonnel(t))}),this.companyId>0&&this.companyservice.getRecord(this.companyId).subscribe(t=>{this.prequalification_status=(t=t[0]).preQualification_Status,t.preQualification_Status&&this.logininfo.formDisable(t.preQualification_Status)&&(this.showdisabled=!0,this.personnelForm.disable(),this.personnelForm.updateValueAndValidity())})}formMethod(){this.workValue.length!=this.personnelForm.value.work_Types.toString().length&&(this.personnelForm.value.work_Types=this.workValue);var t=new FormData;t.append("id",this.personnelForm.value.id),t.append("companyId",this.companyId),t.append("proposed_OP_Name",this.personnelForm.value.proposed_OP_Name),t.append("proposed_OP_Title",this.personnelForm.value.proposed_OP_Title),t.append("proposed_OP_Years",this.personnelForm.value.proposed_OP_Years),t.append("proposed_OP_Experience",this.personnelForm.value.proposed_OP_Experience),t.append("additional_OP_Name",this.personnelForm.value.additional_OP_Name),t.append("additional_OP_Title",this.personnelForm.value.additional_OP_Title),t.append("additional_OP_Years",this.personnelForm.value.additional_OP_Years),t.append("additional_OP_Experience",this.personnelForm.value.additional_OP_Experience),t.append("is_QCP",this.personnelForm.value.is_QCP),t.append("is_OwnEmployee",this.personnelForm.value.is_OwnEmployee),t.append("is_TempLabor",this.personnelForm.value.is_TempLabor),t.append("work_Types",this.personnelForm.value.work_Types.toString()),t.append("is_Criminal_Indictment",this.personnelForm.value.is_Criminal_Indictment),t.append("criminal_Indictment_Info",this.personnelForm.value.criminal_Indictment_Info),t.append("is_Federal",this.personnelForm.value.is_Federal),t.append("federal_Info",this.personnelForm.value.federal_Info),t.append("is_Violation_Of_State",this.personnelForm.value.is_Violation_Of_State),t.append("violation_Of_State_Info",this.personnelForm.value.violation_Of_State_Info);for(let i=0;i<this.tempqcpAttachment.length;i++)t.append("qcP_Attachment",this.tempqcpAttachment[i]);return this.tempqcpAttachment=[],t}qcpUpload(t){let i=document.getElementById("qcP_Attachment");for(let o=0;o<i.files.length;o++)this.tempqcpAttachment.push(i.files[o]);this.spinner.qcpSpinner=!0,this.fileupload()}filepreview(t,i){var o=new FileReader;o.onload=r=>{console.log(r.target);let l=new Blob(t.files,{type:t.files[i].type});var c=(window.URL||window.webkitURL).createObjectURL(l);console.log("path",c,t.value);var d=document.createElement("a"),p=document.createTextNode("View File");d.target="_blank",d.appendChild(p),d.href=c,d.click(),t.appendChild(d)},o.readAsDataURL(t.files[i])}removeqcpUpload(t,i,o=!0){this.showdisabled||this.personnelService.deleteRecord(i.id).subscribe(r=>{this.qcpAttachment.splice(t,1),o&&this.toastr.info("File removed successfully","Work Types & Management")})}resetSpinner(){this.spinner={qcpSpinner:!1}}fileReset(){this.personnelForm.patchValue({qcP_Attachment:""})}nextroutePage(){this.emitEventToChild(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.qu),e.Y36(U.F0),e.Y36(K.d),e.Y36(Q.A),e.Y36(L._W),e.Y36(se.m),e.Y36(D),e.Y36(V.LA),e.Y36(ed),e.Y36(G.O))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-personnel-management"]],decls:178,vars:111,consts:[[1,"m-2",3,"formGroup","ngSubmit","keydown.enter"],[1,"px-2","py-2","form-bg",3,"ngClass"],[1,"form-group","input-group","row","px-2","mx-auto"],[1,"col-lg-6","px-0","mx-auto","col-head-1"],[1,"row","col-curve-top","bg-white","mx-0","px-0","py-2","mt-2","pb-2"],[1,"row","bg-white","col-curve","mx-auto","mt-2"],[1,"fw-bold"],[1,"col-12"],[1,"row","pt-1"],[1,"col-6"],["for","is_QCP",1,"my-auto","font-italic"],[1,"text-danger"],[1,"row"],[1,"col-lg-3"],["type","radio","formControlName","is_QCP","value","yes","checked","checked","name","is_QCP","id","is_QCP_yes","required","",3,"ngClass","ngModelChange"],["for","is_QCP_yes"],[1,"col-lg-9"],["type","radio","formControlName","is_QCP","value","no","name","is_QCP","id","is_QCP_no","required","",3,"ngClass","ngModelChange","click"],["for","is_QCP_no"],["class","invalid-feedback mt-2","id","is_QCP",4,"ngIf"],[1,"pt-2","pb-2",3,"ngClass"],["for","qcP_Attachment",1,"my-auto","font-italic"],[1,"form-control-customitem","form-control"],["type","file","title","Choose file","formControlName","qcP_Attachment","id","qcP_Attachment","name","qcP_Attachment","multiple","",3,"ngClass","change"],["for","qcP_Attachment",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["class","spinner__loading pt-3",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"col-lg-6","px-0","mx-auto","col-head-2","ms-1","ps-1","mt-2"],[1,"row","bg-white","col-curve","mx-auto","py-2","col-curve-top"],[1,"fw-bold","mt-2"],[1,"row","pt-2"],[1,"col-8"],["for","is_OwnEmployee",1,"my-auto","font-italic"],[1,"col-4"],[1,"col-lg-6"],["type","radio","formControlName","is_OwnEmployee","value","yes","checked","checked","name","is_OwnEmployee","id","is_OwnEmployee_yes","required","",3,"ngClass","ngModelChange"],["for","is_OwnEmployee_yes"],["type","radio","formControlName","is_OwnEmployee","value","no","name","is_OwnEmployee","id","is_OwnEmployee_no","required","",3,"ngClass","ngModelChange"],["for","is_OwnEmployee_no"],["class","invalid-feedback mt-2","id","is_OwnEmployee",4,"ngIf"],["for","is_TempLabor",1,"my-auto","font-italic"],["type","radio","formControlName","is_TempLabor","value","yes","checked","checked","name","is_TempLabor","id","is_TempLabor_yes","required","",3,"ngClass","ngModelChange"],["for","is_TempLabor_yes"],["type","radio","formControlName","is_TempLabor","value","no","name","is_TempLabor","id","is_TempLabor_no","required","",3,"ngClass","ngModelChange"],["for","is_TempLabor_no"],["class","invalid-feedback mt-2","id","is_TempLabor",4,"ngIf"],["for","is_Subcontractor",1,"my-auto","font-italic"],["type","radio","formControlName","proposed_OP_Name","value","yes","checked","checked","name","proposed_OP_Name","id","is_Subcontractor_yes","required","",3,"ngClass","ngModelChange"],["for","is_Subcontractor_yes"],["type","radio","formControlName","proposed_OP_Name","value","no","name","proposed_OP_Name","id","is_Subcontractor_no","required","",3,"ngClass","ngModelChange"],["for","is_Subcontractor_no"],[1,"form-group","input-group","row","px-2","pb-1","pt-2"],[1,"col-lg-6","py-1","mx-auto","px-0","col-head-1"],[1,"row","col-curve","bg-white","mx-0","px-0","py-2","mt-0","ms-auto","qcp-heights"],[1,"row","bg-white","mx-0","mt-2"],[1,"red",3,"source","destination","disabled","destinationChange"],[1,"col-12","bg-white","pb-3"],[1,"row","pt-5","pb-5"],[1,"row","pt-5","pb-5","mt-2"],[1,"col-lg-6","mx-auto","p-0","col-head-2"],[1,"row","bg-white","col-curve","py-2","border","border-4","mx-0"],[1,"mt-2","fw-bold"],[1,"row","mt-2"],["for","is_Criminal_Indictment",1,"my-auto","font-italic"],[1,"col-lg-3","pt-1"],["type","radio","formControlName","is_Criminal_Indictment","value","yes","checked","checked","name","is_Criminal_Indictment","id","is_Criminal_Indictment_yes","required","",3,"ngClass","ngModelChange"],["for","is_Criminal_Indictment_yes"],[1,"col-lg-9","pt-1"],["type","radio","formControlName","is_Criminal_Indictment","value","no","name","is_Criminal_Indictment","id","is_Criminal_Indictment_no","required","",3,"ngClass","ngModelChange","click"],["for","is_Criminal_Indictment_no"],["class","invalid-feedback mt-2","id","is_Criminal_Indictment",4,"ngIf"],[1,"mr-4","mt-1",3,"ngClass"],[1,"note","fw-bold",3,"ngClass"],[1,"col-lg-12","bg-white"],["formControlName","criminal_Indictment_Info","id","criminal_Indictment_Info","name","criminal_Indictment_Info",1,"form-control",3,"ngClass","ngModelChange"],["for","is_Federal",1,"my-auto","font-italic"],["type","radio","formControlName","is_Federal","value","yes","checked","checked","name","is_Federal","id","is_Federal_yes","required","",3,"ngClass","ngModelChange"],["for","is_Federal_yes"],["type","radio","formControlName","is_Federal","value","no","name","is_Federal","id","is_Federal_no","required","",3,"ngClass","ngModelChange","click"],["for","is_Federal_no"],["class","invalid-feedback mt-2","id","is_Federal",4,"ngIf"],[1,"mr-4","mt-1"],["formControlName","federal_Info","id","federal_Info","name","federal_Info",1,"form-control",3,"ngClass","ngModelChange"],[1,"pb-1"],["for","is_Violation_Of_State",1,"my-auto","font-italic","fw-bold"],["type","radio","formControlName","is_Violation_Of_State","value","yes","checked","checked","name","is_Violation_Of_State","id","is_Violation_Of_State_yes","required","",3,"ngClass","ngModelChange"],["for","is_Violation_Of_State_yes"],["type","radio","formControlName","is_Violation_Of_State","value","no","name","is_Violation_Of_State","id","is_Violation_Of_State_no","required","",3,"ngClass","ngModelChange","click"],["for","is_Violation_Of_State_no"],["class","invalid-feedback mt-2","id","is_Violation_Of_State",4,"ngIf"],["formControlName","violation_Of_State_Info","id","violation_Of_State_Info","name","violation_Of_State_Info",1,"form-control",3,"ngClass","ngModelChange"],["class","text-end mx-lg-4 my-3",4,"ngIf"],["class","text-end mx-4 my-3",4,"ngIf"],["headerReview","Risk Review & Inputs","formname","personnel",3,"events","formId","companyId",4,"ngIf"],["id","is_QCP",1,"invalid-feedback","mt-2"],["id","is_QCP",4,"ngIf"],["id","is_QCP"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner__loading","pt-3"],["diameter","18","mode","indeterminate",1,"mt-1"],[1,"file-tag"],["target","_blank",3,"href"],[1,"file-close","text-white",3,"click"],["id","is_OwnEmployee",1,"invalid-feedback","mt-2"],["id","is_OwnEmployee",4,"ngIf"],["id","is_OwnEmployee"],["id","is_TempLabor",1,"invalid-feedback","mt-2"],["id","is_TempLabor",4,"ngIf"],["id","is_TempLabor"],["id","is_Criminal_Indictment",1,"invalid-feedback","mt-2"],["id","is_Criminal_Indictment",4,"ngIf"],["id","is_Criminal_Indictment"],["id","is_Federal",1,"invalid-feedback","mt-2"],["id","is_Federal",4,"ngIf"],["id","is_Federal"],["id","is_Violation_Of_State",1,"invalid-feedback","mt-2"],["id","is_Violation_Of_State",4,"ngIf"],["id","is_Violation_Of_State"],[1,"text-end","mx-lg-4","my-3"],[1,"btn","float-start","btn","default-btn",3,"click"],["type","button",1,"btn","ml-4","default-btn",3,"click"],["type","submit",1,"btn","btn-success","mx-2","default-btn"],[1,"text-end","mx-4","my-3"],[1,"btn","btn-success","mx-2","default-btn",3,"click"],["headerReview","Risk Review & Inputs","formname","personnel",3,"events","formId","companyId"]],template:function(t,i){1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return i.submit()})("keydown.enter",function(r){return r.preventDefault()}),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h6",6),e._uU(7,"1. Quality Control Plan"),e.qZA(),e.TgZ(8,"div",7)(9,"div",8)(10,"div",9)(11,"label",10),e._uU(12," Does your company have a quality control plan? "),e.TgZ(13,"span",11),e._uU(14,"*"),e.qZA()()(),e.TgZ(15,"div",9)(16,"div",12)(17,"span",13)(18,"input",14),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.qZA(),e.TgZ(19,"label",15),e._uU(20," YES"),e.qZA()(),e.TgZ(21,"span",16)(22,"input",17),e.NdJ("ngModelChange",function(){return i.idleReset()})("click",function(){return i.qcpReset()}),e.qZA(),e.TgZ(23,"label",18),e._uU(24," NO"),e.qZA()()(),e.YNc(25,id,2,1,"div",19),e.qZA()(),e.TgZ(26,"div",20)(27,"label",21),e._uU(28,"Attach a copy your company's quality control plan "),e.qZA(),e.TgZ(29,"div",22)(30,"input",23),e.NdJ("change",function(r){return i.qcpUpload(r)}),e.qZA(),e.TgZ(31,"span",24),e._uU(32," \xa0Click here to Add Files"),e.qZA()(),e.YNc(33,od,2,1,"div",25),e.YNc(34,ad,4,0,"div",26),e.YNc(35,rd,7,2,"div",27),e.qZA()()()()(),e.TgZ(36,"div",28)(37,"div",29)(38,"h6",30),e._uU(39,"2. Labor"),e.qZA(),e.TgZ(40,"div",31)(41,"div",32)(42,"label",33),e._uU(43," Does your company use your own employees to perform project work?"),e.TgZ(44,"span",11),e._uU(45,"*"),e.qZA()()(),e.TgZ(46,"div",34)(47,"div",12)(48,"span",35)(49,"input",36),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.qZA(),e.TgZ(50,"label",37),e._uU(51," YES"),e.qZA()(),e.TgZ(52,"span",35)(53,"input",38),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.qZA(),e.TgZ(54,"label",39),e._uU(55," NO"),e.qZA()()(),e.YNc(56,ld,2,1,"div",40),e.qZA()(),e.TgZ(57,"div",31)(58,"div",32)(59,"label",41),e._uU(60," Does your company use temp labor to perform project work?"),e.TgZ(61,"span",11),e._uU(62,"*"),e.qZA()()(),e.TgZ(63,"div",34)(64,"div",12)(65,"span",35)(66,"input",42),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.qZA(),e.TgZ(67,"label",43),e._uU(68," YES"),e.qZA()(),e.TgZ(69,"span",35)(70,"input",44),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.qZA(),e.TgZ(71,"label",45),e._uU(72," NO"),e.qZA()()(),e.YNc(73,dd,2,1,"div",46),e.qZA()(),e.TgZ(74,"div",31)(75,"div",32)(76,"label",47),e._uU(77," Does your company use subcontractors for field work?"),e.TgZ(78,"span",11),e._uU(79,"*"),e.qZA()()(),e.TgZ(80,"div",34)(81,"div",12)(82,"span",35)(83,"input",48),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.qZA(),e.TgZ(84,"label",49),e._uU(85," YES"),e.qZA()(),e.TgZ(86,"span",35)(87,"input",50),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.qZA(),e.TgZ(88,"label",51),e._uU(89," NO"),e.qZA()()()()()()()(),e.TgZ(90,"div",52)(91,"div",53)(92,"div",54)(93,"div",55)(94,"h6",6),e._uU(95,"3. Select all the Work Types performed by your company's work force "),e.TgZ(96,"span",11),e._uU(97,"*"),e.qZA()(),e.TgZ(98,"div")(99,"app-duallist",56),e.NdJ("destinationChange",function(r){return i.workValue=r}),e.qZA(),e.YNc(100,pd,3,0,"div",25),e.qZA(),e._UZ(101,"div",57),e.qZA(),e.TgZ(102,"div",58),e._uU(103," \xa0 "),e.qZA(),e.TgZ(104,"div",59),e._uU(105," \xa0 "),e.qZA()()(),e.TgZ(106,"div",60)(107,"div",61)(108,"h6",62),e._uU(109,"4. Other Info"),e.qZA(),e.TgZ(110,"div",63)(111,"label",64),e._uU(112," Within the past three years, has your company or any of the individuals identified in this section have been the subject of any criminal indictment or judgment of conviction for any business related conduct constituting a crime under state or federal law? "),e.TgZ(113,"span",11),e._uU(114," *"),e.qZA()(),e.TgZ(115,"div",8)(116,"span",65)(117,"input",66),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.qZA(),e.TgZ(118,"label",67),e._uU(119," YES"),e.qZA()(),e.TgZ(120,"span",68)(121,"input",69),e.NdJ("ngModelChange",function(){return i.idleReset()})("click",function(){return i.resetData("criminal_Indictment_Info")}),e.qZA(),e.TgZ(122,"label",70),e._uU(123," NO"),e.qZA()()(),e.YNc(124,md,2,1,"div",71),e.TgZ(125,"div",72)(126,"small",73),e._uU(127,"If yes, describe circumstances"),e.qZA()(),e.TgZ(128,"div",74)(129,"textarea",75),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.qZA(),e.YNc(130,fd,2,1,"div",25),e.qZA()(),e.TgZ(131,"div",63)(132,"label",76),e._uU(133,"Within the past three years, has your company or any of the individuals identified in this section have been the subject of any federal or state suspension or disbarment? "),e.TgZ(134,"span",11),e._uU(135," *"),e.qZA()(),e.TgZ(136,"div",8)(137,"span",65)(138,"input",77),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.qZA(),e.TgZ(139,"label",78),e._uU(140," YES"),e.qZA()(),e.TgZ(141,"span",68)(142,"input",79),e.NdJ("ngModelChange",function(){return i.idleReset()})("click",function(){return i.resetData("federal_Info")}),e.qZA(),e.TgZ(143,"label",80),e._uU(144," NO"),e.qZA()()(),e.YNc(145,gd,2,1,"div",81),e.TgZ(146,"div",82)(147,"small",73),e._uU(148,"If yes, describe circumstances"),e.qZA()(),e.TgZ(149,"div",74)(150,"textarea",83),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.qZA(),e.YNc(151,yd,2,1,"div",25),e.qZA(),e.TgZ(152,"div",84),e._uU(153,"\xa0"),e.qZA()(),e.TgZ(154,"div",12)(155,"label",85),e._uU(156,"Within the past three years, has your company or any of the individuals identified in this section have been the subject of any formal proceeding or consent order with a state or federal environment agency involving a violation of state or federal environment laws? "),e.TgZ(157,"span",11),e._uU(158," *"),e.qZA()(),e.TgZ(159,"div",8)(160,"span",65)(161,"input",86),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.qZA(),e.TgZ(162,"label",87),e._uU(163," YES"),e.qZA()(),e.TgZ(164,"span",68)(165,"input",88),e.NdJ("ngModelChange",function(){return i.idleReset()})("click",function(){return i.resetData("violation_Of_State_Info")}),e.qZA(),e.TgZ(166,"label",89),e._uU(167," NO"),e.qZA()()(),e.YNc(168,bd,2,1,"div",90),e.TgZ(169,"div",72)(170,"small",73),e._uU(171,"If yes, describe circumstances"),e.qZA()(),e.TgZ(172,"div",74)(173,"textarea",91),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.qZA(),e.YNc(174,Zd,2,1,"div",25),e.qZA()()()()()(),e.YNc(175,xd,7,1,"div",92),e.qZA(),e.YNc(176,Id,5,0,"div",93),e.YNc(177,Ad,1,3,"app-comment",94)),2&t&&(e.Q6J("formGroup",i.personnelForm),e.xp6(1),e.Q6J("ngClass",e.VKq(53,z,1==i.showdisabled)),e.xp6(17),e.Q6J("ngClass",e.VKq(55,E,i.submitted&&i.f.is_QCP.errors)),e.xp6(4),e.Q6J("ngClass",e.VKq(57,E,i.submitted&&i.f.is_QCP.errors)),e.xp6(3),e.Q6J("ngIf",(i.submitted||i.f.is_QCP.touched)&&i.f.is_QCP.errors),e.xp6(1),e.Q6J("ngClass",e.VKq(59,z,"no"==i.f.is_QCP.value)),e.xp6(4),e.Q6J("ngClass",e.VKq(61,E,i.submitted&&i.f.qcP_Attachment.errors)),e.uIk("disabled",i.showdisabled||"no"==i.f.is_QCP.value?"":null),e.xp6(1),e.Q6J("ngClass",e.VKq(63,z,"no"==i.f.is_QCP.value)),e.xp6(2),e.Q6J("ngIf",i.submitted&&i.f.qcP_Attachment.errors),e.xp6(1),e.Q6J("ngIf",null==i.spinner?null:i.spinner.qcpSpinner),e.xp6(1),e.Q6J("ngForOf",i.qcpAttachment),e.xp6(14),e.Q6J("ngClass",e.VKq(65,E,i.submitted&&i.f.is_OwnEmployee.errors)),e.xp6(4),e.Q6J("ngClass",e.VKq(67,E,i.submitted&&i.f.is_OwnEmployee.errors)),e.xp6(3),e.Q6J("ngIf",(i.submitted||i.f.is_OwnEmployee.touched)&&i.f.is_OwnEmployee.errors),e.xp6(10),e.Q6J("ngClass",e.VKq(69,E,i.submitted&&i.f.is_TempLabor.errors)),e.xp6(4),e.Q6J("ngClass",e.VKq(71,E,i.submitted&&i.f.is_TempLabor.errors)),e.xp6(3),e.Q6J("ngIf",(i.submitted||i.f.is_TempLabor.touched)&&i.f.is_TempLabor.errors),e.xp6(10),e.Q6J("ngClass",e.VKq(73,E,i.submitted&&(null==i.f.proposed_OP_Name?null:i.f.proposed_OP_Name.errors))),e.xp6(4),e.Q6J("ngClass",e.VKq(75,E,i.submitted&&(null==i.f.proposed_OP_Name?null:i.f.proposed_OP_Name.errors))),e.xp6(12),e.Q6J("source",i.copyworktypes)("destination",i.workValue)("disabled",i.showdisabled),e.xp6(1),e.Q6J("ngIf",i.submitted&&0==i.workValue.length),e.xp6(17),e.Q6J("ngClass",e.VKq(77,E,i.submitted&&i.f.is_Criminal_Indictment.errors)),e.xp6(4),e.Q6J("ngClass",e.VKq(79,E,i.submitted&&i.f.is_Criminal_Indictment.errors)),e.xp6(3),e.Q6J("ngIf",(i.submitted||i.f.is_Criminal_Indictment.touched)&&i.f.is_Criminal_Indictment.errors),e.xp6(1),e.Q6J("ngClass",e.VKq(81,z,"no"==i.f.is_Criminal_Indictment.value)),e.xp6(1),e.Q6J("ngClass",e.VKq(83,z,i.showdisabled||"no"==i.f.is_Criminal_Indictment.value)),e.xp6(3),e.Q6J("ngClass",e.VKq(85,E,i.submitted&&i.f.criminal_Indictment_Info.errors))("ngClass",e.VKq(87,z,"no"==i.f.is_Criminal_Indictment.value)),e.uIk("disabled","no"==i.f.is_Criminal_Indictment.value?"":null),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.criminal_Indictment_Info.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(89,E,i.submitted&&i.f.is_Federal.errors)),e.xp6(4),e.Q6J("ngClass",e.VKq(91,E,i.submitted&&i.f.is_Federal.errors)),e.xp6(3),e.Q6J("ngIf",(i.submitted||i.f.is_Federal.touched)&&i.f.is_Federal.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(93,z,i.showdisabled||"no"==i.f.is_Federal.value)),e.xp6(3),e.Q6J("ngClass",e.VKq(95,z,"no"==i.f.is_Federal.value))("ngClass",e.VKq(97,E,i.submitted&&i.f.federal_Info.errors)),e.uIk("disabled","no"==i.f.is_Federal.value?"":null),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.federal_Info.errors),e.xp6(10),e.Q6J("ngClass",e.VKq(99,E,i.submitted&&i.f.is_Violation_Of_State.errors)),e.xp6(4),e.Q6J("ngClass",e.VKq(101,E,i.submitted&&i.f.is_Violation_Of_State.errors)),e.xp6(3),e.Q6J("ngIf",(i.submitted||i.f.is_Violation_Of_State.touched)&&i.f.is_Violation_Of_State.errors),e.xp6(1),e.Q6J("ngClass",e.VKq(103,z,"no"==i.f.is_Violation_Of_State.value)),e.xp6(1),e.Q6J("ngClass",e.VKq(105,z,i.showdisabled||"no"==i.f.is_Violation_Of_State.value)),e.xp6(3),e.Q6J("ngClass",e.VKq(107,E,i.submitted&&i.f.violation_Of_State_Info.errors))("ngClass",e.VKq(109,z,"no"==i.f.is_Violation_Of_State.value)),e.uIk("disabled","no"==i.f.is_Violation_Of_State.value?"":null),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.violation_Of_State_Info.errors),e.xp6(1),e.Q6J("ngIf",!(i.showAdmin||i.prequalification_status&&"To complete prequalification"!=i.prequalification_status&&"Additional Info Needed from Subcontractor"!=i.prequalification_status)),e.xp6(1),e.Q6J("ngIf",!i.showAdmin&&i.prequalification_status&&"To complete prequalification"!=i.prequalification_status&&"Additional Info Needed from Subcontractor"!=i.prequalification_status||i.showAdmin),e.xp6(1),e.Q6J("ngIf","Subcontractor"!=i.userRole&&"Additional Info Needed from Subcontractor"!=i.prequalification_status&&"Prequal form submitted and under quality check"!=i.prequalification_status))},directives:[s._Y,s.JL,s.sg,f.mk,s._,s.Fj,s.JJ,s.u,s.Q7,f.O5,ie.Ou,f.sg,I,le],styles:["select[_ngcontent-%COMP%]:-internal-list-box   option[_ngcontent-%COMP%]:checked{background-color:#4a7729!important}.border[_ngcontent-%COMP%]{border:4px solid #dddddd9e!important}.col-curve-top[_ngcontent-%COMP%]{border-radius:18px 19px!important;border-top:6px solid #c3bdbd!important}.col-curve[_ngcontent-%COMP%]{border-radius:18px 19px!important}.qcp-height[_ngcontent-%COMP%]{min-height:229px}.select-height[_ngcontent-%COMP%]{min-height:215px!important}h6[_ngcontent-%COMP%]{font-size:13px!important}.bg-grey[_ngcontent-%COMP%], .bg-grey[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{color:#c7bfbf!important}.multiple-select[_ngcontent-%COMP%]{width:45%;float:left}[_nghost-%COMP%]   .red[_ngcontent-%COMP%]     .btn-primary{background-color:#4a7729!important}[_nghost-%COMP%]   .red[_ngcontent-%COMP%]     .btn-primary:disabled{background-color:#708362!important}"]}),n})();function Fd(n,a){if(1&n&&(e.TgZ(0,"strong"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(null==t.userDetails?null:t.userDetails.companyName)}}function Rd(n,a){if(1&n&&(e.TgZ(0,"strong",38),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.companyName)}}function kd(n,a){if(1&n&&(e.TgZ(0,"strong"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(null==t.userDetails?null:t.userDetails.taxId)}}function Sd(n,a){if(1&n&&(e.TgZ(0,"strong"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.taxId)}}function wd(n,a){if(1&n&&(e.TgZ(0,"strong"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(null==t.userDetails?null:t.userDetails.vendorId)}}function Nd(n,a){if(1&n&&(e.TgZ(0,"strong"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.vendorId)}}const Ud=function(n){return{activeTab:n}};function Md(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"a",39),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().ActiveMenu(r)}),e.TgZ(2,"strong"),e._uU(3),e.qZA(),e._UZ(4,"br"),e.TgZ(5,"small",40),e._uU(6),e.qZA()()()}if(2&n){const t=a.$implicit,i=a.index,o=e.oxw();e.xp6(1),e.Q6J("routerLink",t.url)("ngClass",e.VKq(4,Ud,o.activeItem===t.desc)),e.xp6(2),e.Oqu(t.name),e.xp6(3),e.hij(" ",null==o.completeStatus[i]?null:o.completeStatus[i].status,"")}}function Ed(n,a){if(1&n&&(e.TgZ(0,"small",41),e._uU(1),e.ALo(2,"date"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("Last Updated on: ",e.xi3(2,1,t.orgupdatedate,"MM/dd/yyyy"),"")}}let Od=(()=>{class n{constructor(t,i,o,r,l,c){this.router=t,this.activatedRouter=i,this.safetyService=o,this.companyservice=r,this.ngxUiLoader=l,this.logininfo=c,this.activeItem="",this.activeDetail="",this.leftMenu=[],this.leftMenudisplay=this.companyservice.getMenuDetails(),this.companyId=0,this.userRole="",this.userDetails="",this.companyName="",this.taxId="",this.vendorId="",this.navbarOpen=!1,this.completeStatus=[{formname:"organization",status:""},{formname:"personnel",status:""},{formname:"experience",status:""},{formname:"relevant",status:""},{formname:"safety",status:""},{formname:"surety",status:""},{formname:"financial",status:""},{formname:"signature",status:""},{formname:"submit",status:""}],this.signature="",this.router.events.subscribe(d=>{if(d instanceof U.OD){let p=localStorage.getItem("userDetails");if(p=JSON.parse(atob(p)),this.userDetails=p,this.userRole=p.role,"Subcontractor"==this.userRole){let _=localStorage.getItem("companyid");this.companyId=Number(atob(_)),this.getFormStatus(this.companyId)}}})}ngOnInit(){var t;this.leftMenu=this.leftMenudisplay.slice(),this.router.events.subscribe(l=>{var c;let p=null===(c=this.activatedRouter.snapshot._routerState.url)||void 0===c?void 0:c.split("/");if(p.length>1){let _=this.leftMenu.find(v=>v.url==p[2]);_&&(this.activeItem=_.desc,this.activeDetail=_.detail)}this.activeItem||(this.activeItem=this.leftMenu[0].desc,this.activeDetail=this.leftMenu[0].detail)});let o=null===(t=this.activatedRouter.snapshot._routerState.url)||void 0===t?void 0:t.split("/");if(o.length>1){let l=this.leftMenu.find(c=>c.url==o[2]);l&&(this.activeItem=l.desc,this.activeDetail=l.detail)}this.activeItem||(this.activeItem=this.leftMenu[0].desc,this.activeDetail=this.leftMenu[0].detail);let r=localStorage.getItem("userDetails");if(r){if(r=JSON.parse(atob(r)),this.userDetails=r,this.userRole=r.role,"Subcontractor"!=this.userRole&&(this.companyName=localStorage.getItem("userName"),this.companyName=atob(this.companyName),this.taxId=localStorage.getItem("taxID"),this.taxId=atob(this.taxId),this.vendorId=localStorage.getItem("vendorID"),this.vendorId=atob(this.vendorId)),"Subcontractor"==this.userRole){let l=localStorage.getItem("companyid");this.companyId=Number(atob(l)),this.getFormStatus(this.companyId)}if("SafetyUser"==this.userRole){this.leftMenu=[];for(let l=0;l<this.leftMenudisplay.length;l++)"Safety Information"==this.leftMenudisplay[l].name&&this.leftMenu.push(this.leftMenudisplay[l]);localStorage.getItem("tempcompanyid")&&(this.companyId=localStorage.getItem("tempcompanyid"),this.companyId=Number(atob(this.companyId))),this.activeItem=this.leftMenu[0].desc,this.router.navigate(["qualification/"+this.leftMenu[0].url])}}this.getOrganization()}ActiveMenu(t){if(localStorage.getItem("companyid")){let i=localStorage.getItem("companyid");this.companyId=Number(atob(i))}if(localStorage.getItem("tempcompanyid")){let i=localStorage.getItem("tempcompanyid");this.companyId=Number(atob(i))}0==this.companyId?this.activeItem=this.leftMenu[0].desc:(this.activeItem=t.desc,this.router.navigate(["qualification/"+t.url]))}gotoHome(){this.router.navigate(["/home"])}redirecttohome(){this.router.navigate(["/home"])}getOrganization(){if(null!=this.userDetails.vendorId&&null!=this.userDetails.taxId&&"Subcontractor"==this.userRole)this.companyservice.getUser(this.userDetails.vendorId,this.userDetails.taxId).subscribe(i=>{});else{let i=localStorage.getItem("tempcompanyid");i=Number(atob(i))}}getFormStatus(t){this.companyservice.getRecord(t).subscribe(i=>{this.orgupdatedate=i.updatedDate}),this.companyservice.getFormStatus(t).subscribe(i=>{var o,r,l,c,d,p,_,v,g,C,T,w,y,j,Y;if(null==i?void 0:i.length){let N=[{formname:"organization",status:""},{formname:"personnel",status:""},{formname:"experience",status:""},{formname:"relevant",status:""},{formname:"safety",status:""},{formname:"surety",status:""},{formname:"financial",status:""},{formname:"signature",status:""},{formname:"submit",status:""}];N[0].status="Completed"==(null===(o=i[0])||void 0===o?void 0:o.organizationStatus)?null===(r=i[0])||void 0===r?void 0:r.organizationStatus:"",N[1].status="Completed"==(null===(l=i[0])||void 0===l?void 0:l.personnel)?null===(c=i[0])||void 0===c?void 0:c.personnel:"",N[2].status="Completed"==(null===(d=i[0])||void 0===d?void 0:d.reference)?null===(p=i[0])||void 0===p?void 0:p.reference:"",N[3].status="Completed"==(null===(_=i[0])||void 0===_?void 0:_.safety)?null===(v=i[0])||void 0===v?void 0:v.safety:"",N[4].status="Completed"==(null===(g=i[0])||void 0===g?void 0:g.surity)?null===(C=i[0])||void 0===C?void 0:C.surity:"",N[5].status="Completed"==(null===(T=i[0])||void 0===T?void 0:T.finance)?null===(w=i[0])||void 0===w?void 0:w.finance:"",N[6].status="Completed"==(null===(y=i[0])||void 0===y?void 0:y.signature)?null===(j=i[0])||void 0===j?void 0:j.signature:"",N[7].status="Under initial Risk review"==(null===(Y=i[0])||void 0===Y?void 0:Y.preQualification_Status)?"Completed":"",this.completeStatus=N}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(U.F0),e.Y36(U.gz),e.Y36(di),e.Y36(G.O),e.Y36(V.LA),e.Y36(D))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-qualification"]],decls:65,vars:11,consts:[[1,"container-fluid","mt-3","pt-5"],[1,"row","mx-auto","align-items-center"],[1,"col-lg-12","col-md-12","ps-1"],[1,"row"],[1,"col-lg-3","pt-lg-3","pt-2","text-center"],[1,"col-lg-9","col-md-12"],[1,"row","border","pt-3"],[1,"col-lg-4","col-md-5"],[1,"text-center"],[1,"font-weight-bold"],[1,"text-success","font-weight-bold"],[4,"ngIf"],["class","text-capitalize",4,"ngIf"],[1,"col-lg-2","col-md-2","text-center"],[1,"col-lg-3","col-md-2"],[1,"vendor","text-center"],[1,"col-lg-3","col-md-3"],[1,"row","mt-lg-1","pt-3","pt-lg-0"],[1,"col-lg-3","col-md-12"],[1,"list-group"],[1,"leftmenu","mb-3","mb-lg-0","mb-lg-0"],[4,"ngFor","ngForOf"],[1,"col-lg-9","col-md-12","col-xs-12","px-0","border","section-head"],[1,"row","align-items-center","bg-success","mx-0","header"],[1,"col-8","mx-0"],[1,"bg-success","py-3","ps-2","m-0","text-white"],[1,"col-4","mx-0"],["class","float-end pe-2 text-center pt-lg-1 fw-normal text-white bg-success",4,"ngIf"],[1,"subheading"],["type","button","id","directalertmodal","data-bs-toggle","modal","data-bs-target","#directalertmodals",1,"btn-hide"],["id","directalertmodals","tabindex","-1","aria-labelledby","directalertmodals","aria-hidden","false",1,"modal","fade"],["directalertmodals",""],[1,"modal-dialog","modal-md","modal-dialog-centered"],[1,"modal-content"],[1,"modal-body","my-3"],[1,"modal-footer","p-0"],["type","button","data-bs-dismiss","modal",1,"btn","default-btn","modal-cancel","px-4",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","default-btn","bg-danger","modal-cancel","px-4"],[1,"text-capitalize"],["routerLinkActive","activeTab",1,"list-group-item","text-center","sec-tab","py-3","px-2",3,"routerLink","ngClass","click"],[1,"completeStatus"],[1,"float-end","pe-2","text-center","pt-lg-1","fw-normal","text-white","bg-success"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h6"),e._uU(6,"FORM SECTIONS"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"p",8)(11,"span",9),e._uU(12," Company Name: "),e.qZA(),e.TgZ(13,"span",10),e.YNc(14,Fd,2,1,"strong",11),e.YNc(15,Rd,2,1,"strong",12),e.qZA()()(),e.TgZ(16,"div",13)(17,"p",8)(18,"span",9),e._uU(19,"Tax Id: "),e.qZA(),e.TgZ(20,"span",10),e.YNc(21,kd,2,1,"strong",11),e.YNc(22,Sd,2,1,"strong",11),e.qZA()()(),e.TgZ(23,"div",14)(24,"p",15)(25,"span",9),e._uU(26,"Messer Vendor Id: "),e.qZA(),e.TgZ(27,"span",10),e.YNc(28,wd,2,1,"strong",11),e.YNc(29,Nd,2,1,"strong",11),e.qZA()()(),e.TgZ(30,"div",16)(31,"p",15)(32,"span",9),e._uU(33,"Prequal Expiry Date: "),e.qZA(),e.TgZ(34,"span",10)(35,"strong"),e._uU(36),e.qZA()()()()()()(),e.TgZ(37,"div",17)(38,"div",18)(39,"div",19)(40,"ul",20),e.YNc(41,Md,7,6,"li",21),e.qZA()()(),e.TgZ(42,"div",22)(43,"div",23)(44,"div",24)(45,"h5",25),e._uU(46),e.qZA()(),e.TgZ(47,"div",26),e.YNc(48,Ed,3,4,"small",27),e.qZA()(),e.TgZ(49,"div",28),e._uU(50),e.qZA(),e._UZ(51,"router-outlet"),e.qZA()()()(),e._UZ(52,"button",29),e.TgZ(53,"div",30,31)(55,"div",32)(56,"div",33)(57,"div",34)(58,"p"),e._uU(59,"Do you want to stop completing the prequalifcation form and go to the homepage?"),e.qZA()(),e.TgZ(60,"div",35)(61,"button",36),e.NdJ("click",function(){return i.redirecttohome()}),e._uU(62,"YES"),e.qZA(),e.TgZ(63,"button",37),e._uU(64,"NO"),e.qZA()()()()()()),2&t&&(e.xp6(14),e.Q6J("ngIf","Subcontractor"==i.userRole),e.xp6(1),e.Q6J("ngIf","Subcontractor"!=i.userRole),e.xp6(6),e.Q6J("ngIf","Subcontractor"==i.userRole),e.xp6(1),e.Q6J("ngIf","Subcontractor"!=i.userRole),e.xp6(6),e.Q6J("ngIf","Subcontractor"==i.userRole),e.xp6(1),e.Q6J("ngIf","Subcontractor"!=i.userRole),e.xp6(7),e.Oqu(null==i.userDetails?null:i.userDetails.expDate),e.xp6(5),e.Q6J("ngForOf",i.leftMenu),e.xp6(5),e.Oqu(i.activeItem),e.xp6(2),e.Q6J("ngIf",i.orgupdatedate),e.xp6(2),e.Oqu(i.activeDetail))},directives:[f.O5,f.sg,U.yS,U.Od,f.mk,U.lC],pipes:[f.uU],styles:['@charset "UTF-8";.leftmenu[_ngcontent-%COMP%]{padding:0;margin:0;list-style-type:none;font-size:14px}.sec-tab[_ngcontent-%COMP%]{background-color:#fafad2;text-transform:uppercase;color:#dc4405!important}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .leftmenu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none!important}.activeTab[_ngcontent-%COMP%]:after{content:"";position:absolute;left:100%;top:50%;margin-top:-13px;border-left:0;border-bottom:13px solid transparent;border-top:13px solid transparent;border-left:10px solid #4A7729!important}.activeTab[_ngcontent-%COMP%]{padding:14px \\200b 4px;color:#fff!important;border:1px solid #4A7729!important;background:#4A7729!important;text-decoration:none;text-align:center;cursor:pointer;font-weight:700;font-size:12px!important}.activeTab[_ngcontent-%COMP%]   .completeStatus[_ngcontent-%COMP%]{font-size:10px!important;color:#fff!important;font-weight:400!important}.bg-success[_ngcontent-%COMP%]{background-color:#4a7729!important}.font-weight-bold[_ngcontent-%COMP%]{font-weight:600!important}.vendor[_ngcontent-%COMP%]{text-align:right}.btn-outline-success[_ngcontent-%COMP%]{color:#4a7729!important;border-color:#4a7729!important}.btn-outline-success[_ngcontent-%COMP%]:hover{background-color:#4a7729!important;color:#fff!important}.completeStatus[_ngcontent-%COMP%]{font-size:10px!important;color:green;position:absolute;right:5px;bottom:2px}.header[_ngcontent-%COMP%]{text-transform:uppercase}.subheading[_ngcontent-%COMP%]{color:orange;padding:6px 7px 0 30px;font-weight:700;font-size:13px!important}']}),n})(),Pd=(()=>{class n extends S.EJ{constructor(t,i){super("Experience",t,i,{root:u.N.webserviceURlLocal})}getAll(){return super.getAll()}getRecords(t){const i={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("experience/"+t,u.N.webserviceURlLocal);return this.http.get(o,i)}updateRecord(t,i){const o={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},r=this.httpUrlGenerator.entityResource("experience/"+i,u.N.webserviceURlLocal);return this.http.put(r,t,o)}addRecord(t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("experience",u.N.webserviceURlLocal);return this.http.post(o,t,i)}getUser(t,i){const o={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},r=this.httpUrlGenerator.entityResource("Organization/"+t+"/"+i,u.N.webserviceURlLocal);return this.http.get(r,o)}getComplete(t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("Organization/Getstatus/"+t,u.N.webserviceURlLocal);return this.http.get(o,i)}deleteRecord(t){const i={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.delete(u.N.webserviceURlLocal+"experience/"+t,i)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(B.eN),e.LFG(S.hR))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Jd(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"i",50),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2),r=o.index,l=o.$implicit;return e.oxw(2).editrelevant(r,l)}),e.qZA()}}function jd(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",42)(1,"div",43)(2,"p",44),e._uU(3,"Project Name"),e.qZA()(),e.TgZ(4,"div",43)(5,"p")(6,"span",45),e._uU(7),e.qZA(),e.TgZ(8,"small",46),e.YNc(9,Jd,1,0,"i",47),e.TgZ(10,"i",48),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(),r=o.index,l=o.$implicit;return e.oxw(2).removeRelevant(r,l)}),e.qZA()()()(),e.TgZ(11,"div",49)(12,"p",44),e._uU(13,"General Contractor/Owner"),e.qZA()(),e.TgZ(14,"div",49)(15,"p"),e._uU(16),e.qZA()(),e.TgZ(17,"div",49)(18,"p",44),e._uU(19,"Contract Price"),e.qZA()(),e.TgZ(20,"div",49)(21,"p"),e._uU(22),e.qZA()(),e.TgZ(23,"div",49)(24,"p",44),e._uU(25,"Completion Date"),e.qZA()(),e.TgZ(26,"div",49)(27,"p"),e._uU(28),e.ALo(29,"date"),e.qZA()(),e.TgZ(30,"div",49)(31,"p",44),e._uU(32,"City"),e.qZA()(),e.TgZ(33,"div",49)(34,"p"),e._uU(35),e.qZA()(),e.TgZ(36,"div",49)(37,"p",44),e._uU(38,"State"),e.qZA()(),e.TgZ(39,"div",49)(40,"p"),e._uU(41),e.qZA()()()}if(2&n){const t=e.oxw().$implicit,i=e.oxw(2);e.xp6(7),e.Oqu(t.projectName),e.xp6(2),e.Q6J("ngIf",!i.pastdisabledEdit),e.xp6(7),e.Oqu(t.isOwner),e.xp6(6),e.Oqu(t.contractPrice),e.xp6(6),e.Oqu(e.xi3(29,7,t.completionDate,"MM-dd-yyyy")),e.xp6(7),e.Oqu(t.city),e.xp6(6),e.Oqu(t.state)}}function Yd(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Project Name is required "),e.qZA())}function Ld(n,a){if(1&n&&(e.TgZ(0,"div",78),e.YNc(1,Yd,2,0,"div",79),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",t.ff.projectName.errors.required)}}function Dd(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"General contractor/owner is required "),e.qZA())}function Qd(n,a){if(1&n&&(e.TgZ(0,"div",78),e.YNc(1,Dd,2,0,"div",79),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",t.ff.isOwner.errors.required)}}function Vd(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Contract price is required "),e.qZA())}function Bd(n,a){if(1&n&&(e.TgZ(0,"div",78),e.YNc(1,Vd,2,0,"div",79),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",t.ff.contractPrice.errors.required)}}function Gd(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Completion date is required "),e.qZA())}function Kd(n,a){if(1&n&&(e.TgZ(0,"div",78),e.YNc(1,Gd,2,0,"div",79),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",t.ff.completionDate.errors.required)}}function Hd(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"City is required"),e.qZA())}function zd(n,a){if(1&n&&(e.TgZ(0,"div",78),e.YNc(1,Hd,2,0,"div",79),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",t.ff.city.errors.required)}}function $d(n,a){if(1&n&&(e.TgZ(0,"option",73),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("ngValue",t.name),e.xp6(1),e.hij(" ",t.name,"")}}function Wd(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"State is required"),e.qZA())}function Xd(n,a){if(1&n&&(e.TgZ(0,"div",78),e.YNc(1,Wd,2,0,"div",79),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",t.ff.state.errors.required)}}function ep(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",80),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2),r=o.index,l=o.$implicit;return e.oxw(2).cancelpastUpdate(r,l)}),e._uU(1,"CANCEL"),e.qZA()}}function tp(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",80),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2),r=o.index,l=o.$implicit;return e.oxw(2).relevantupdate(r,l)}),e._uU(1,"UPDATE"),e.qZA()}}const h=function(n){return{"is-invalid":n}};function ip(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",51)(1,"form",52)(2,"div",53)(3,"div",54)(4,"label",55),e._uU(5," Project Name "),e.TgZ(6,"span",16),e._uU(7,"*"),e.qZA()()(),e.TgZ(8,"div",56)(9,"input",57),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw(3).idleReset()}),e.qZA(),e.YNc(10,Ld,2,1,"div",24),e.qZA()(),e.TgZ(11,"div",58)(12,"div",54)(13,"label",59),e._uU(14," General Contractor/Owner "),e.TgZ(15,"span",16),e._uU(16,"*"),e.qZA()()(),e.TgZ(17,"div",56)(18,"div",17)(19,"span",60)(20,"input",61),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw(3).idleReset()}),e.qZA(),e.TgZ(21,"label",62),e._uU(22," YES"),e.qZA()(),e.TgZ(23,"span",60)(24,"input",63),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw(3).idleReset()}),e.qZA(),e.TgZ(25,"label",64),e._uU(26," NO"),e.qZA()()(),e.YNc(27,Qd,2,1,"div",24),e.qZA()(),e.TgZ(28,"div",53)(29,"div",54)(30,"label",65),e._uU(31,"Contract Price "),e.TgZ(32,"span",16),e._uU(33,"*"),e.qZA()()(),e.TgZ(34,"div",56)(35,"input",66),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw(3).idleReset()}),e.qZA(),e.YNc(36,Bd,2,1,"div",24),e.qZA()(),e.TgZ(37,"div",53)(38,"div",54)(39,"label",67),e._uU(40," Completion Date "),e.TgZ(41,"span",16),e._uU(42,"*"),e.qZA()()(),e.TgZ(43,"div",56)(44,"input",68),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw(3).idleReset()}),e.qZA(),e.YNc(45,Kd,2,1,"div",24),e.qZA()(),e.TgZ(46,"div",53)(47,"div",54)(48,"label",69),e._uU(49,"City "),e.TgZ(50,"span",16),e._uU(51,"*"),e.qZA()()(),e.TgZ(52,"div",56)(53,"input",70),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw(3).idleReset()}),e.qZA(),e.YNc(54,zd,2,1,"div",24),e.qZA()(),e.TgZ(55,"div",53)(56,"div",54)(57,"label",71),e._uU(58,"State "),e.TgZ(59,"span",16),e._uU(60,"*"),e.qZA()()(),e.TgZ(61,"div",56)(62,"select",72),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw(3).idleReset()}),e.TgZ(63,"option",73),e._uU(64,"Select"),e.qZA(),e.YNc(65,$d,2,2,"option",74),e.qZA(),e.TgZ(66,"small",75),e._uU(67,"NOTE: If your country is outside of USA, please select \u2018Other\u2019. "),e.qZA(),e.YNc(68,Xd,2,1,"div",24),e.qZA()(),e.TgZ(69,"div",76),e.YNc(70,ep,2,0,"button",77),e.YNc(71,tp,2,0,"button",77),e.qZA()()()}if(2&n){const t=e.oxw().$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("formGroup",i.temppastprojectForm),e.xp6(8),e.Q6J("ngClass",e.VKq(18,h,i.temppastsubmitted&&i.ff.projectName.errors)),e.xp6(1),e.Q6J("ngIf",(i.ff.projectName.touched||i.temppastsubmitted)&&i.ff.projectName.errors),e.xp6(11),e.Q6J("ngClass",e.VKq(20,h,i.temppastsubmitted&&i.ff.isOwner.errors)),e.xp6(3),e.Q6J("ngClass",e.VKq(22,h,i.temppastsubmitted&&i.ff.isOwner.errors)),e.xp6(3),e.Q6J("ngIf",(i.ff.isOwner.touched||i.temppastsubmitted)&&i.ff.isOwner.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(24,h,i.temppastsubmitted&&i.ff.contractPrice.errors)),e.xp6(1),e.Q6J("ngIf",(i.ff.contractPrice.touched||i.temppastsubmitted)&&i.ff.contractPrice.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(26,h,i.temppastsubmitted&&i.ff.completionDate.errors)),e.xp6(1),e.Q6J("ngIf",(i.ff.completionDate.touched||i.temppastsubmitted)&&i.ff.completionDate.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(28,h,i.temppastsubmitted&&i.ff.city.errors)),e.xp6(1),e.Q6J("ngIf",(i.temppastsubmitted||i.ff.city.touched)&&i.ff.city.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(30,h,i.temppastsubmitted&&i.ff.state.errors)),e.xp6(1),e.Q6J("ngValue",""),e.xp6(2),e.Q6J("ngForOf",i.stateNames),e.xp6(3),e.Q6J("ngIf",(i.temppastsubmitted||i.ff.state.touched)&&i.ff.state.errors),e.xp6(2),e.Q6J("ngIf",t.type),e.xp6(1),e.Q6J("ngIf",t.type)}}function np(n,a){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,jd,42,10,"div",41),e.YNc(2,ip,72,32,"div",8),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngIf",!t.showEdit),e.xp6(1),e.Q6J("ngIf",t.showEdit)}}function op(n,a){if(1&n&&(e.TgZ(0,"div",39),e.YNc(1,np,3,2,"div",40),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.pastprojectlist)}}function ap(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",80),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).showpastproject=!1}),e._uU(1,"Add Another Ref"),e.qZA()}}function rp(n,a){if(1&n&&(e.TgZ(0,"div",76),e.YNc(1,ap,2,0,"button",77),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.showdisabled)}}function sp(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Project Name is required"),e.qZA())}function lp(n,a){if(1&n&&(e.TgZ(0,"div",78),e.YNc(1,sp,2,0,"div",79),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.projectName.errors.required)}}function cp(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"General contractor/owner is required"),e.qZA())}function dp(n,a){if(1&n&&(e.TgZ(0,"div",78),e.YNc(1,cp,2,0,"div",79),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.isOwner.errors.required)}}function pp(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Contract price is required"),e.qZA())}function up(n,a){if(1&n&&(e.TgZ(0,"div",78),e.YNc(1,pp,2,0,"div",79),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.contractPrice.errors.required)}}function mp(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Completetion date is required "),e.qZA())}function _p(n,a){if(1&n&&(e.TgZ(0,"div",78),e.YNc(1,mp,2,0,"div",79),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.completionDate.errors.required)}}function fp(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"City is required"),e.qZA())}function hp(n,a){if(1&n&&(e.TgZ(0,"div",78),e.YNc(1,fp,2,0,"div",79),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.city.errors.required)}}function gp(n,a){if(1&n&&(e.TgZ(0,"option",73),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("ngValue",t.name),e.xp6(1),e.hij("",t.name," ")}}function vp(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"State is required"),e.qZA())}function yp(n,a){if(1&n&&(e.TgZ(0,"div",78),e.YNc(1,vp,2,0,"div",79),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.state.errors.required)}}function Cp(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",51)(1,"form",10),e.NdJ("keydown.enter",function(o){return o.preventDefault()}),e.TgZ(2,"div",53)(3,"div",54)(4,"label",55),e._uU(5," Project Name "),e.TgZ(6,"span",16),e._uU(7,"*"),e.qZA()()(),e.TgZ(8,"div",56)(9,"input",57),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e.qZA(),e.YNc(10,lp,2,1,"div",24),e.qZA()(),e.TgZ(11,"div",58)(12,"div",54)(13,"label",59),e._uU(14," General Contractor/Owner "),e.TgZ(15,"span",16),e._uU(16,"*"),e.qZA()()(),e.TgZ(17,"div",56)(18,"div",58)(19,"span",60)(20,"input",81),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e.qZA(),e.TgZ(21,"label",62),e._uU(22," YES"),e.qZA()(),e.TgZ(23,"span",82)(24,"input",63),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e.qZA(),e.TgZ(25,"label",64),e._uU(26," NO"),e.qZA()()()(),e.YNc(27,dp,2,1,"div",24),e.qZA(),e.TgZ(28,"div",58)(29,"div",54)(30,"label",65),e._uU(31,"Contract Price "),e.TgZ(32,"span",16),e._uU(33,"*"),e.qZA()()(),e.TgZ(34,"div",56)(35,"input",66),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e.qZA(),e.YNc(36,up,2,1,"div",24),e.qZA()(),e.TgZ(37,"div",58)(38,"div",54)(39,"label",67),e._uU(40," Completion Date "),e.TgZ(41,"span",16),e._uU(42,"*"),e.qZA()()(),e.TgZ(43,"div",56)(44,"input",68),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e.qZA(),e.YNc(45,_p,2,1,"div",24),e.qZA()(),e.TgZ(46,"div",58)(47,"div",54)(48,"label",69),e._uU(49,"City "),e.TgZ(50,"span",16),e._uU(51,"*"),e.qZA()()(),e.TgZ(52,"div",56)(53,"input",70),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e.qZA(),e.YNc(54,hp,2,1,"div",24),e.qZA()(),e.TgZ(55,"div",58)(56,"div",54)(57,"label",71),e._uU(58,"State "),e.TgZ(59,"span",16),e._uU(60,"*"),e.qZA()()(),e.TgZ(61,"div",56)(62,"select",72),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e.TgZ(63,"option",73),e._uU(64,"Select"),e.qZA(),e.YNc(65,gp,2,2,"option",74),e.qZA(),e.TgZ(66,"small",75),e._uU(67,"NOTE: If your country is outside of USA, please select \u2018Other\u2019. "),e.qZA(),e.YNc(68,yp,2,1,"div",24),e.qZA()(),e._UZ(69,"div",76),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.pastprojectForm),e.xp6(8),e.Q6J("ngClass",e.VKq(16,h,t.submitted&&t.f.projectName.errors)),e.xp6(1),e.Q6J("ngIf",(t.f.projectName.touched||t.submitted)&&t.f.projectName.errors),e.xp6(11),e.Q6J("ngClass",e.VKq(18,h,t.submitted&&t.f.isOwner.errors)),e.xp6(3),e.Q6J("ngClass",e.VKq(20,h,t.submitted&&t.f.isOwner.errors)),e.xp6(3),e.Q6J("ngIf",(t.f.isOwner.touched||t.submitted)&&t.f.isOwner.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(22,h,t.submitted&&t.f.contractPrice.errors)),e.xp6(1),e.Q6J("ngIf",(t.f.contractPrice.touched||t.submitted)&&t.f.contractPrice.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(24,h,t.submitted&&t.f.completionDate.errors)),e.xp6(1),e.Q6J("ngIf",(t.f.completionDate.touched||t.submitted)&&t.f.completionDate.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(26,h,t.submitted&&t.f.city.errors)),e.xp6(1),e.Q6J("ngIf",(t.submitted||t.f.city.touched)&&t.f.city.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(28,h,t.submitted&&t.f.state.errors)),e.xp6(1),e.Q6J("ngValue",""),e.xp6(2),e.Q6J("ngForOf",t.stateNames),e.xp6(3),e.Q6J("ngIf",(t.submitted||t.f.state.touched)&&t.f.state.errors)}}function bp(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Project Name is required"),e.qZA())}function Tp(n,a){if(1&n&&(e.TgZ(0,"div",78),e.YNc(1,bp,2,0,"div",79),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f2.projectName.errors.required)}}function Zp(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"General contractor/owner is required "),e.qZA())}function xp(n,a){if(1&n&&(e.TgZ(0,"div",78),e.YNc(1,Zp,2,0,"div",79),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f2.isOwner.errors.required)}}function Ip(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Contract price is required"),e.qZA())}function Ap(n,a){if(1&n&&(e.TgZ(0,"div",78),e.YNc(1,Ip,2,0,"div",79),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f2.contractPrice.errors.required)}}function qp(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Completetion date is required "),e.qZA())}function Fp(n,a){if(1&n&&(e.TgZ(0,"div",78),e.YNc(1,qp,2,0,"div",79),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f2.completionDate.errors.required)}}function Rp(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"City is required"),e.qZA())}function kp(n,a){if(1&n&&(e.TgZ(0,"div",78),e.YNc(1,Rp,2,0,"div",79),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f2.city.errors.required)}}function Sp(n,a){if(1&n&&(e.TgZ(0,"option",73),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("ngValue",t.name),e.xp6(1),e.hij("",t.name," ")}}function wp(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"State is required"),e.qZA())}function Np(n,a){if(1&n&&(e.TgZ(0,"div",78),e.YNc(1,wp,2,0,"div",79),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f2.state.errors.required)}}function Up(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",51)(1,"form",10),e.NdJ("keydown.enter",function(o){return o.preventDefault()}),e.TgZ(2,"div",53)(3,"div",54)(4,"label",55),e._uU(5," Project Name "),e.TgZ(6,"span",16),e._uU(7,"*"),e.qZA()()(),e.TgZ(8,"div",56)(9,"input",57),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e.qZA(),e.YNc(10,Tp,2,1,"div",24),e.qZA()(),e.TgZ(11,"div",58)(12,"div",54)(13,"label",59),e._uU(14," General Contractor/Owner "),e.TgZ(15,"span",16),e._uU(16,"*"),e.qZA()()(),e.TgZ(17,"div",56)(18,"div",58)(19,"span",60)(20,"input",83),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e.qZA(),e.TgZ(21,"label",84),e._uU(22," YES"),e.qZA()(),e.TgZ(23,"span",82)(24,"input",85),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e.qZA(),e.TgZ(25,"label",86),e._uU(26," NO"),e.qZA()()(),e.YNc(27,xp,2,1,"div",24),e.qZA()(),e.TgZ(28,"div",58)(29,"div",54)(30,"label",65),e._uU(31,"Contract Price "),e.TgZ(32,"span",16),e._uU(33,"*"),e.qZA()()(),e.TgZ(34,"div",56)(35,"input",66),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e.qZA(),e.YNc(36,Ap,2,1,"div",24),e.qZA()(),e.TgZ(37,"div",58)(38,"div",54)(39,"label",67),e._uU(40," Completion Date "),e.TgZ(41,"span",16),e._uU(42,"*"),e.qZA()()(),e.TgZ(43,"div",56)(44,"input",68),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e.qZA(),e.YNc(45,Fp,2,1,"div",24),e.qZA()(),e.TgZ(46,"div",58)(47,"div",54)(48,"label",69),e._uU(49,"City "),e.TgZ(50,"span",16),e._uU(51,"*"),e.qZA()()(),e.TgZ(52,"div",56)(53,"input",70),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e.qZA(),e.YNc(54,kp,2,1,"div",24),e.qZA()(),e.TgZ(55,"div",58)(56,"div",54)(57,"label",71),e._uU(58,"State "),e.TgZ(59,"span",16),e._uU(60,"*"),e.qZA()()(),e.TgZ(61,"div",56)(62,"select",72),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e.TgZ(63,"option",73),e._uU(64,"Select"),e.qZA(),e.YNc(65,Sp,2,2,"option",74),e.qZA(),e.TgZ(66,"small",75),e._uU(67,"NOTE: If your country is outside of USA, please select \u2018Other\u2019. "),e.qZA(),e.YNc(68,Np,2,1,"div",24),e.qZA()(),e._UZ(69,"div",76),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.pastprojectForm2),e.xp6(8),e.Q6J("ngClass",e.VKq(16,h,t.submitted2&&t.f2.projectName.errors)),e.xp6(1),e.Q6J("ngIf",(t.f2.projectName.touched||t.submitted2)&&t.f2.projectName.errors),e.xp6(11),e.Q6J("ngClass",e.VKq(18,h,t.submitted2&&t.f2.isOwner.errors)),e.xp6(3),e.Q6J("ngClass",e.VKq(20,h,t.submitted2&&t.f2.isOwner.errors)),e.xp6(3),e.Q6J("ngIf",(t.f2.isOwner.touched||t.submitted2)&&t.f2.isOwner.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(22,h,t.submitted2&&t.f2.contractPrice.errors)),e.xp6(1),e.Q6J("ngIf",(t.f2.contractPrice.touched||t.submitted2)&&t.f2.contractPrice.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(24,h,t.submitted2&&t.f2.completionDate.errors)),e.xp6(1),e.Q6J("ngIf",(t.f2.completionDate.touched||t.submitted2)&&t.f2.completionDate.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(26,h,t.submitted2&&t.f2.city.errors)),e.xp6(1),e.Q6J("ngIf",(t.submitted2||t.f2.city.touched)&&t.f2.city.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(28,h,t.submitted2&&t.f2.state.errors)),e.xp6(1),e.Q6J("ngValue",""),e.xp6(2),e.Q6J("ngForOf",t.stateNames),e.xp6(3),e.Q6J("ngIf",(t.submitted2||t.f2.state.touched)&&t.f2.state.errors)}}function Mp(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"i",50),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2),r=o.index,l=o.$implicit;return e.oxw(2).editrelevant(r,l)}),e.qZA()}}function Ep(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",42)(1,"div",43)(2,"p",44),e._uU(3,"Project Name"),e.qZA()(),e.TgZ(4,"div",43)(5,"p"),e._uU(6),e.TgZ(7,"small",46),e.YNc(8,Mp,1,0,"i",47),e.TgZ(9,"i",48),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(),r=o.index,l=o.$implicit;return e.oxw(2).removeRelevant(r,l)}),e.qZA()()()(),e.TgZ(10,"div",49)(11,"p",44),e._uU(12,"General Contractor/Owner"),e.qZA()(),e.TgZ(13,"div",49)(14,"p"),e._uU(15),e.qZA()(),e.TgZ(16,"div",49)(17,"p",44),e._uU(18,"Contract Price"),e.qZA()(),e.TgZ(19,"div",49)(20,"p"),e._uU(21),e.qZA()(),e.TgZ(22,"div",49)(23,"p",44),e._uU(24,"Completion Date"),e.qZA()(),e.TgZ(25,"div",49)(26,"p"),e._uU(27),e.ALo(28,"date"),e.qZA()(),e.TgZ(29,"div",49)(30,"p",44),e._uU(31,"City"),e.qZA()(),e.TgZ(32,"div",49)(33,"p"),e._uU(34),e.qZA()(),e.TgZ(35,"div",49)(36,"p",44),e._uU(37,"State"),e.qZA()(),e.TgZ(38,"div",49)(39,"p"),e._uU(40),e.qZA()()()}if(2&n){const t=e.oxw().$implicit,i=e.oxw(2);e.xp6(6),e.Oqu(t.projectName),e.xp6(2),e.Q6J("ngIf",!i.currdisabledEdit),e.xp6(7),e.Oqu(t.isOwner),e.xp6(6),e.Oqu(t.contractPrice),e.xp6(6),e.Oqu(e.xi3(28,7,t.completionDate,"MM-dd-yyyy")),e.xp6(7),e.Oqu(t.city),e.xp6(6),e.Oqu(t.state)}}function Op(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Project Name is required "),e.qZA())}function Pp(n,a){if(1&n&&(e.TgZ(0,"div",78),e.YNc(1,Op,2,0,"div",79),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",t.ss.projectName.errors.required)}}function Jp(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"General contractor/owner is required"),e.qZA())}function jp(n,a){if(1&n&&(e.TgZ(0,"div",78),e.YNc(1,Jp,2,0,"div",79),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",t.ss.isOwner.errors.required)}}function Yp(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Contract price is required "),e.qZA())}function Lp(n,a){if(1&n&&(e.TgZ(0,"div",78),e.YNc(1,Yp,2,0,"div",79),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",t.ss.contractPrice.errors.required)}}function Dp(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Completion date is required"),e.qZA())}function Qp(n,a){if(1&n&&(e.TgZ(0,"div",78),e.YNc(1,Dp,2,0,"div",79),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",t.ss.completionDate.errors.required)}}function Vp(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"City is required"),e.qZA())}function Bp(n,a){if(1&n&&(e.TgZ(0,"div",78),e.YNc(1,Vp,2,0,"div",79),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",t.ss.city.errors.required)}}function Gp(n,a){if(1&n&&(e.TgZ(0,"option",73),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("ngValue",t.name),e.xp6(1),e.hij(" ",t.name,"")}}function Kp(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"State is required"),e.qZA())}function Hp(n,a){if(1&n&&(e.TgZ(0,"div",78),e.YNc(1,Kp,2,0,"div",79),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",t.ss.state.errors.required)}}function zp(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",80),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2),r=o.index,l=o.$implicit;return e.oxw(2).cancelpastUpdate(r,l)}),e._uU(1,"CANCEL"),e.qZA()}}function $p(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",80),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2),r=o.index,l=o.$implicit;return e.oxw(2).relevantupdate(r,l)}),e._uU(1,"UPDATE"),e.qZA()}}function Wp(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",51)(1,"form",10),e.NdJ("keydown.enter",function(o){return o.preventDefault()}),e.TgZ(2,"div",58)(3,"div",54)(4,"label",55),e._uU(5," Project Name "),e.TgZ(6,"span",16),e._uU(7,"*"),e.qZA()()(),e.TgZ(8,"div",56)(9,"input",57),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw(3).idleReset()}),e.qZA(),e.YNc(10,Pp,2,1,"div",24),e.qZA()(),e.TgZ(11,"div",58)(12,"div",54)(13,"label",59),e._uU(14," General Contractor/Owner "),e.TgZ(15,"span",16),e._uU(16,"*"),e.qZA()()(),e.TgZ(17,"div",49)(18,"div",17)(19,"span",60)(20,"input",61),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw(3).idleReset()}),e.qZA(),e.TgZ(21,"label",62),e._uU(22," YES"),e.qZA()(),e.TgZ(23,"span",60)(24,"input",63),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw(3).idleReset()}),e.qZA(),e.TgZ(25,"label",64),e._uU(26," NO"),e.qZA()()(),e.YNc(27,jp,2,1,"div",24),e.qZA()(),e.TgZ(28,"div",58)(29,"div",54)(30,"label",65),e._uU(31,"Contract Price "),e.TgZ(32,"span",16),e._uU(33,"*"),e.qZA()()(),e.TgZ(34,"div",56)(35,"input",66),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw(3).idleReset()}),e.qZA(),e.YNc(36,Lp,2,1,"div",24),e.qZA()(),e.TgZ(37,"div",58)(38,"div",54)(39,"label",67),e._uU(40," Completion Date "),e.TgZ(41,"span",16),e._uU(42,"*"),e.qZA()()(),e.TgZ(43,"div",56)(44,"input",68),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw(3).idleReset()}),e.qZA(),e.YNc(45,Qp,2,1,"div",24),e.qZA()(),e.TgZ(46,"div",58)(47,"div",54)(48,"label",69),e._uU(49,"City "),e.TgZ(50,"span",16),e._uU(51,"*"),e.qZA()()(),e.TgZ(52,"div",56)(53,"input",70),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw(3).idleReset()}),e.qZA(),e.YNc(54,Bp,2,1,"div",24),e.qZA()(),e.TgZ(55,"div",58)(56,"div",54)(57,"label",71),e._uU(58,"State "),e.TgZ(59,"span",16),e._uU(60,"*"),e.qZA()()(),e.TgZ(61,"div",56)(62,"select",72),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw(3).idleReset()}),e.TgZ(63,"option",73),e._uU(64,"Select"),e.qZA(),e.YNc(65,Gp,2,2,"option",74),e.qZA(),e.TgZ(66,"small",75),e._uU(67,"NOTE: If your country is outside of USA, please select \u2018Other\u2019. "),e.qZA(),e.YNc(68,Hp,2,1,"div",24),e.qZA()(),e.TgZ(69,"div",76),e.YNc(70,zp,2,0,"button",77),e.YNc(71,$p,2,0,"button",77),e.qZA()()()}if(2&n){const t=e.oxw().$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("formGroup",i.tempcurrentprojectForm),e.xp6(8),e.Q6J("ngClass",e.VKq(18,h,i.tempcurrentsubmitted&&i.ss.projectName.errors)),e.xp6(1),e.Q6J("ngIf",(i.ss.projectName.touched||i.tempcurrentsubmitted)&&i.ss.projectName.errors),e.xp6(11),e.Q6J("ngClass",e.VKq(20,h,i.tempcurrentsubmitted&&i.ss.isOwner.errors)),e.xp6(3),e.Q6J("ngClass",e.VKq(22,h,i.tempcurrentsubmitted&&i.ss.isOwner.errors)),e.xp6(3),e.Q6J("ngIf",(i.ss.isOwner.touched||i.tempcurrentsubmitted)&&i.ss.isOwner.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(24,h,i.tempcurrentsubmitted&&i.ss.contractPrice.errors)),e.xp6(1),e.Q6J("ngIf",(i.ss.contractPrice.touched||i.tempcurrentsubmitted)&&i.ss.contractPrice.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(26,h,i.tempcurrentsubmitted&&i.ss.completionDate.errors)),e.xp6(1),e.Q6J("ngIf",(i.ss.completionDate.touched||i.tempcurrentsubmitted)&&i.ss.completionDate.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(28,h,i.tempcurrentsubmitted&&i.ss.city.errors)),e.xp6(1),e.Q6J("ngIf",(i.tempcurrentsubmitted||i.ss.city.touched)&&i.ss.city.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(30,h,i.tempcurrentsubmitted&&i.ss.state.errors)),e.xp6(1),e.Q6J("ngValue",""),e.xp6(2),e.Q6J("ngForOf",i.stateNames),e.xp6(3),e.Q6J("ngIf",(i.tempcurrentsubmitted||i.ss.state.touched)&&i.ss.state.errors),e.xp6(2),e.Q6J("ngIf",t.type),e.xp6(1),e.Q6J("ngIf",t.type)}}function Xp(n,a){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Ep,41,10,"div",41),e.YNc(2,Wp,72,32,"div",8),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngIf",!t.showEdit),e.xp6(1),e.Q6J("ngIf",t.showEdit)}}function eu(n,a){if(1&n&&(e.TgZ(0,"div",39),e.YNc(1,Xp,3,2,"div",40),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.currprojectlist)}}function tu(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",80),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).showcurrentproject=!1}),e._uU(1,"Add Another Ref"),e.qZA()}}function iu(n,a){if(1&n&&(e.TgZ(0,"div",76),e.YNc(1,tu,2,0,"button",77),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.showdisabled)}}function nu(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Project Name is required"),e.qZA())}function ou(n,a){if(1&n&&(e.TgZ(0,"div",78),e.YNc(1,nu,2,0,"div",79),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.s2.projectName.errors.required)}}function au(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"General contractor/owner is required "),e.qZA())}function ru(n,a){if(1&n&&(e.TgZ(0,"div",78),e.YNc(1,au,2,0,"div",79),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.s2.isOwner.errors.required)}}function su(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Contract price is required "),e.qZA())}function lu(n,a){if(1&n&&(e.TgZ(0,"div",78),e.YNc(1,su,2,0,"div",79),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.s2.contractPrice.errors.required)}}function cu(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Completetion date is required "),e.qZA())}function du(n,a){if(1&n&&(e.TgZ(0,"div",78),e.YNc(1,cu,2,0,"div",79),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.s2.completionDate.errors.required)}}function pu(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"City is required"),e.qZA())}function uu(n,a){if(1&n&&(e.TgZ(0,"div",78),e.YNc(1,pu,2,0,"div",79),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.s2.city.errors.required)}}function mu(n,a){if(1&n&&(e.TgZ(0,"option",73),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("ngValue",t.name),e.xp6(1),e.hij("",t.name," ")}}function _u(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"State is required"),e.qZA())}function fu(n,a){if(1&n&&(e.TgZ(0,"div",78),e.YNc(1,_u,2,0,"div",79),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.s2.state.errors.required)}}function hu(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",51)(1,"form",10),e.NdJ("keydown.enter",function(o){return o.preventDefault()}),e.TgZ(2,"div",53)(3,"div",54)(4,"label",55),e._uU(5," Project Name "),e.TgZ(6,"span",16),e._uU(7,"*"),e.qZA()()(),e.TgZ(8,"div",56)(9,"input",57),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e.qZA(),e.YNc(10,ou,2,1,"div",24),e.qZA()(),e.TgZ(11,"div",58)(12,"div",54)(13,"label",59),e._uU(14," General Contractor/Owner "),e.TgZ(15,"span",16),e._uU(16,"*"),e.qZA()()(),e.TgZ(17,"div",56)(18,"div",58)(19,"span",60)(20,"input",83),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e.qZA(),e.TgZ(21,"label",84),e._uU(22," YES"),e.qZA()(),e.TgZ(23,"span",82)(24,"input",85),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e.qZA(),e.TgZ(25,"label",86),e._uU(26," NO"),e.qZA()()(),e.YNc(27,ru,2,1,"div",24),e.qZA()(),e.TgZ(28,"div",58)(29,"div",54)(30,"label",65),e._uU(31,"Contract Price "),e.TgZ(32,"span",16),e._uU(33,"*"),e.qZA()()(),e.TgZ(34,"div",56)(35,"input",66),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e.qZA(),e.YNc(36,lu,2,1,"div",24),e.qZA()(),e.TgZ(37,"div",58)(38,"div",54)(39,"label",67),e._uU(40," Completion Date "),e.TgZ(41,"span",16),e._uU(42,"*"),e.qZA()()(),e.TgZ(43,"div",56)(44,"input",68),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e.qZA(),e.YNc(45,du,2,1,"div",24),e.qZA()(),e.TgZ(46,"div",58)(47,"div",54)(48,"label",69),e._uU(49,"City "),e.TgZ(50,"span",16),e._uU(51,"*"),e.qZA()()(),e.TgZ(52,"div",56)(53,"input",70),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e.qZA(),e.YNc(54,uu,2,1,"div",24),e.qZA()(),e.TgZ(55,"div",58)(56,"div",54)(57,"label",71),e._uU(58,"State "),e.TgZ(59,"span",16),e._uU(60,"*"),e.qZA()()(),e.TgZ(61,"div",56)(62,"select",72),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e.TgZ(63,"option",73),e._uU(64,"Select"),e.qZA(),e.YNc(65,mu,2,2,"option",74),e.qZA(),e.TgZ(66,"small",75),e._uU(67,"NOTE: If your country is outside of USA, please select \u2018Other\u2019. "),e.qZA(),e.YNc(68,fu,2,1,"div",24),e.qZA()(),e._UZ(69,"div",76),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.currentprojectForm2),e.xp6(8),e.Q6J("ngClass",e.VKq(16,h,t.currentprojsubmitted2&&t.s2.projectName.errors)),e.xp6(1),e.Q6J("ngIf",(t.s2.projectName.touched||t.currentprojsubmitted2)&&t.s2.projectName.errors),e.xp6(11),e.Q6J("ngClass",e.VKq(18,h,t.currentprojsubmitted2&&t.s2.isOwner.errors)),e.xp6(3),e.Q6J("ngClass",e.VKq(20,h,t.currentprojsubmitted2&&t.s2.isOwner.errors)),e.xp6(3),e.Q6J("ngIf",(t.s2.isOwner.touched||t.currentprojsubmitted2)&&t.s2.isOwner.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(22,h,t.currentprojsubmitted2&&t.s2.contractPrice.errors)),e.xp6(1),e.Q6J("ngIf",(t.s2.contractPrice.touched||t.currentprojsubmitted2)&&t.s2.contractPrice.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(24,h,t.currentprojsubmitted2&&t.s2.completionDate.errors)),e.xp6(1),e.Q6J("ngIf",(t.s2.completionDate.touched||t.currentprojsubmitted2)&&t.s2.completionDate.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(26,h,t.currentprojsubmitted2&&t.s2.city.errors)),e.xp6(1),e.Q6J("ngIf",(t.currentprojsubmitted2||t.s2.city.touched)&&t.s2.city.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(28,h,t.currentprojsubmitted2&&t.s2.state.errors)),e.xp6(1),e.Q6J("ngValue",""),e.xp6(2),e.Q6J("ngForOf",t.stateNames),e.xp6(3),e.Q6J("ngIf",(t.currentprojsubmitted2||t.s2.state.touched)&&t.s2.state.errors)}}function gu(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Project Name is required"),e.qZA())}function vu(n,a){if(1&n&&(e.TgZ(0,"div",78),e.YNc(1,gu,2,0,"div",79),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.s.projectName.errors.required)}}function yu(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"General contractor/owner is required "),e.qZA())}function Cu(n,a){if(1&n&&(e.TgZ(0,"div",78),e.YNc(1,yu,2,0,"div",79),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.s.isOwner.errors.required)}}function bu(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Contract price is required "),e.qZA())}function Tu(n,a){if(1&n&&(e.TgZ(0,"div",78),e.YNc(1,bu,2,0,"div",79),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.s.contractPrice.errors.required)}}function Zu(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Completetion date is required "),e.qZA())}function xu(n,a){if(1&n&&(e.TgZ(0,"div",78),e.YNc(1,Zu,2,0,"div",79),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.s.completionDate.errors.required)}}function Iu(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"City is required"),e.qZA())}function Au(n,a){if(1&n&&(e.TgZ(0,"div",78),e.YNc(1,Iu,2,0,"div",79),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.s.city.errors.required)}}function qu(n,a){if(1&n&&(e.TgZ(0,"option",73),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("ngValue",t.name),e.xp6(1),e.hij("",t.name," ")}}function Fu(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"State is required"),e.qZA())}function Ru(n,a){if(1&n&&(e.TgZ(0,"div",78),e.YNc(1,Fu,2,0,"div",79),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.s.state.errors.required)}}function ku(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",51)(1,"form",10),e.NdJ("keydown.enter",function(o){return o.preventDefault()}),e.TgZ(2,"div",58)(3,"div",54)(4,"label",55),e._uU(5," Project Name "),e.TgZ(6,"span",16),e._uU(7,"*"),e.qZA()()(),e.TgZ(8,"div",56)(9,"input",57),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e.qZA(),e.YNc(10,vu,2,1,"div",24),e.qZA()(),e.TgZ(11,"div",58)(12,"div",54)(13,"label",59),e._uU(14," General Contractor/Owner "),e.TgZ(15,"span",16),e._uU(16,"*"),e.qZA()()(),e.TgZ(17,"div",56)(18,"div",58)(19,"span",60)(20,"input",87),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e.qZA(),e.TgZ(21,"label",88),e._uU(22," YES"),e.qZA()(),e.TgZ(23,"span",82)(24,"input",89),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e.qZA(),e.TgZ(25,"label",90),e._uU(26," NO"),e.qZA()()(),e.YNc(27,Cu,2,1,"div",24),e.qZA()(),e.TgZ(28,"div",58)(29,"div",54)(30,"label",65),e._uU(31,"Contract Price "),e.TgZ(32,"span",16),e._uU(33,"*"),e.qZA()()(),e.TgZ(34,"div",56)(35,"input",66),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e.qZA(),e.YNc(36,Tu,2,1,"div",24),e.qZA()(),e.TgZ(37,"div",58)(38,"div",54)(39,"label",67),e._uU(40," Completion Date "),e.TgZ(41,"span",16),e._uU(42,"*"),e.qZA()()(),e.TgZ(43,"div",56)(44,"input",68),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e.qZA(),e.YNc(45,xu,2,1,"div",24),e.qZA()(),e.TgZ(46,"div",58)(47,"div",54)(48,"label",69),e._uU(49,"City "),e.TgZ(50,"span",16),e._uU(51,"*"),e.qZA()()(),e.TgZ(52,"div",56)(53,"input",70),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e.qZA(),e.YNc(54,Au,2,1,"div",24),e.qZA()(),e.TgZ(55,"div",58)(56,"div",54)(57,"label",71),e._uU(58,"State "),e.TgZ(59,"span",16),e._uU(60,"*"),e.qZA()()(),e.TgZ(61,"div",56)(62,"select",72),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e.TgZ(63,"option",73),e._uU(64,"Select"),e.qZA(),e.YNc(65,qu,2,2,"option",74),e.qZA(),e.TgZ(66,"small",75),e._uU(67,"NOTE: If your country is outside of USA, please select \u2018Other\u2019. "),e.qZA(),e.YNc(68,Ru,2,1,"div",24),e.qZA()(),e._UZ(69,"div",76),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.currentprojectForm),e.xp6(8),e.Q6J("ngClass",e.VKq(16,h,t.currentprojsubmitted&&t.s.projectName.errors)),e.xp6(1),e.Q6J("ngIf",(t.s.projectName.touched||t.currentprojsubmitted)&&t.s.projectName.errors),e.xp6(11),e.Q6J("ngClass",e.VKq(18,h,t.currentprojsubmitted&&t.s.isOwner.errors)),e.xp6(3),e.Q6J("ngClass",e.VKq(20,h,t.currentprojsubmitted&&t.s.isOwner.errors)),e.xp6(3),e.Q6J("ngIf",(t.s.isOwner.touched||t.currentprojsubmitted)&&t.s.isOwner.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(22,h,t.currentprojsubmitted&&t.s.contractPrice.errors)),e.xp6(1),e.Q6J("ngIf",(t.s.contractPrice.touched||t.currentprojsubmitted)&&t.s.contractPrice.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(24,h,t.currentprojsubmitted&&t.s.completionDate.errors)),e.xp6(1),e.Q6J("ngIf",(t.s.completionDate.touched||t.currentprojsubmitted)&&t.s.completionDate.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(26,h,t.currentprojsubmitted&&t.s.city.errors)),e.xp6(1),e.Q6J("ngIf",(t.currentprojsubmitted||t.s.city.touched)&&t.s.city.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(28,h,t.currentprojsubmitted&&t.s.state.errors)),e.xp6(1),e.Q6J("ngValue",""),e.xp6(2),e.Q6J("ngForOf",t.stateNames),e.xp6(3),e.Q6J("ngIf",(t.currentprojsubmitted||t.s.state.touched)&&t.s.state.errors)}}function Su(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Company defaulted or failed is required "),e.qZA())}function wu(n,a){if(1&n&&(e.TgZ(0,"div",78),e.YNc(1,Su,2,0,"div",79),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.g.is_Company_Failed.errors.required)}}function Nu(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Company surety is required"),e.qZA())}function Uu(n,a){if(1&n&&(e.TgZ(0,"div",78),e.YNc(1,Nu,2,0,"div",79),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.g.company_Failed_Info.errors.required)}}function Mu(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Company defaulted or failed is required "),e.qZA())}function Eu(n,a){if(1&n&&(e.TgZ(0,"div",78),e.YNc(1,Mu,2,0,"div",79),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.g.is_Officer_Failed.errors.required)}}function Ou(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Company surety is required"),e.qZA())}function Pu(n,a){if(1&n&&(e.TgZ(0,"div",78),e.YNc(1,Ou,2,0,"div",79),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.g.officer_Failed_Info.errors.required)}}function Ju(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",91)(1,"button",92),e.NdJ("click",function(){return e.CHM(t),e.oxw().gotoHome()}),e._uU(2," << BACK"),e.qZA(),e.TgZ(3,"button",93),e.NdJ("click",function(){return e.CHM(t),e.oxw().save()}),e._uU(4),e.qZA(),e.TgZ(5,"button",80),e.NdJ("click",function(){return e.CHM(t),e.oxw().submit()}),e._uU(6,"NEXT >>"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(4),e.Oqu(t.submitText)}}function ju(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",94)(1,"button",92),e.NdJ("click",function(){return e.CHM(t),e.oxw().gotoHome()}),e._uU(2," << BACK"),e.qZA(),e.TgZ(3,"button",95),e.NdJ("click",function(){return e.CHM(t),e.oxw().nextroutePage()}),e._uU(4,"NEXT >>"),e.qZA()()}}const ge=function(n){return{"bg-grey":n}};let Yu=(()=>{class n{constructor(t,i,o,r,l,c,d,p,_){this.formBuilder=t,this.router=i,this.bnIdle=o,this.keepalive=r,this.toastr=l,this.companyservice=c,this.loginInfo=d,this.ngxUiLoader=p,this.relevantexperience=_,this.currentForm=3,this.pastprojectForm=this.formBuilder.group({id:[0],companyId:[0],type:["1"],projectName:["",[s.kI.required,s.kI.maxLength(130)]],isOwner:["",[s.kI.required]],contractPrice:["",[s.kI.required,s.kI.maxLength(40),s.kI.pattern(/^-?(0|[1-9]\d*)?$/)]],completionDate:["",[s.kI.required,s.kI.maxLength(40)]],city:["",[s.kI.required,s.kI.maxLength(130)]],state:["",[s.kI.required,s.kI.maxLength(20)]],isAutosave:["false"],isCompleted:["false"]}),this.pastprojectForm2=this.formBuilder.group({id:[0],companyId:[0],type:["1"],projectName:["",[s.kI.required,s.kI.maxLength(130)]],isOwner:["",[s.kI.required]],contractPrice:["",[s.kI.required,s.kI.maxLength(40),s.kI.pattern(/^-?(0|[1-9]\d*)?$/)]],completionDate:["",[s.kI.required,s.kI.maxLength(40)]],city:["",[s.kI.required,s.kI.maxLength(130)]],state:["",[s.kI.required,s.kI.maxLength(20)]],isAutosave:["false"],isCompleted:["false"]}),this.currentprojectForm=this.formBuilder.group({id:[0],companyId:[0],type:["2"],projectName:["",[s.kI.required,s.kI.maxLength(130)]],isOwner:["",[s.kI.required,s.kI.maxLength(130)]],contractPrice:["",[s.kI.required,s.kI.maxLength(40),s.kI.pattern(/^-?(0|[1-9]\d*)?$/)]],completionDate:["",[s.kI.required,s.kI.maxLength(40)]],city:["",[s.kI.required,s.kI.maxLength(130)]],state:["",[s.kI.required,s.kI.maxLength(20)]],isAutosave:["false"],isCompleted:["false"]}),this.currentprojectForm2=this.formBuilder.group({id:[0],companyId:[0],type:["2"],projectName:["",[s.kI.required,s.kI.maxLength(130)]],isOwner:["",[s.kI.required,s.kI.maxLength(130)]],contractPrice:["",[s.kI.required,s.kI.maxLength(40),s.kI.pattern(/^-?(0|[1-9]\d*)?$/)]],completionDate:["",[s.kI.required,s.kI.maxLength(40)]],city:["",[s.kI.required,s.kI.maxLength(130)]],state:["",[s.kI.required,s.kI.maxLength(20)]],isAutosave:["false"],isCompleted:["false"]}),this.otherForm=this.formBuilder.group({is_Company_Failed:["",[s.kI.required,s.kI.maxLength(40)]],company_Failed_Info:[""],is_Officer_Failed:["",[s.kI.required]],officer_Failed_Info:[""]}),this.temppastprojectForm=this.formBuilder.group({id:[0],companyId:[0],type:["1"],projectName:["",[s.kI.required,s.kI.maxLength(130)]],isOwner:["",[s.kI.required]],contractPrice:["",[s.kI.required,s.kI.maxLength(40),s.kI.pattern(/^-?(0|[1-9]\d*)?$/)]],completionDate:["",[s.kI.required,s.kI.maxLength(40)]],city:["",[s.kI.required,s.kI.maxLength(130)]],state:["",[s.kI.required,s.kI.maxLength(20)]],isAutosave:["false"],isCompleted:["false"]}),this.tempcurrentprojectForm=this.formBuilder.group({id:[0],companyId:[0],type:["2"],projectName:["",[s.kI.required,s.kI.maxLength(130)]],isOwner:["",[s.kI.required,s.kI.maxLength(130)]],contractPrice:["",[s.kI.required,s.kI.maxLength(40),s.kI.pattern(/^-?(0|[1-9]\d*)?$/)]],completionDate:["",[s.kI.required,s.kI.maxLength(40)]],city:["",[s.kI.required,s.kI.maxLength(130)]],state:["",[s.kI.required,s.kI.maxLength(20)]],isAutosave:["false"],isCompleted:["false"]}),this.tempcompanyid=0,this.showAdmin=!1,this.submitText="SAVE",this.resetTimer=0,this.submitted=!1,this.stateNames=ye,this.showpastproject=!1,this.pastprojectlist=[],this.currprojectlist=[],this.relevantid=0,this.showcurrentproject=!1,this.currentprojsubmitted=!1,this.otherSubmitted=!1,this.showEditPastProject=!1,this.disableEdit=!1,this.otherlist=[{id:0,companyId:0,type:"3",projectName:"",contractPrice:"",completionDate:new Date,isOwner:"",city:"",state:"",is_Company_Failed:"",company_Failed_Info:"",is_Officer_Failed:"",officer_Failed_Info:""}],this.pastdisabledEdit=!1,this.currdisabledEdit=!1,this.temppastsubmitted=!1,this.tempcurrentsubmitted=!1,this.showdisabled=!1,this.submitted2=!1,this.showpastproject2=!1,this.currentprojsubmitted2=!1,this.showcurrentproject2=!1,this.nextclicked=!1}ngOnInit(){this.ngxUiLoader.startLoader("loader-01"),this.prequalification_status=this.loginInfo.organization_status;let t=localStorage.getItem("userDetails");t=JSON.parse(atob(t)),this.userDetails=t,this.userRole=t.role,this.tempcompanyid=localStorage.getItem("tempcompanyid"),this.tempcompanyid=Number(atob(this.tempcompanyid)),localStorage.setItem("currPage","relevant"),this.tempcompanyid>0&&"Subcontractor"!=this.userRole&&(this.showAdmin=!0,this.relevantexperience.getRecords(this.tempcompanyid).subscribe(i=>{this.updaterelevantinfo(i)}),this.showdisabled=!0,this.pastprojectForm.disable(),this.currentprojectForm.disable(),this.pastprojectForm2.disable(),this.currentprojectForm2.disable(),this.otherForm.disable(),this.pastprojectForm.updateValueAndValidity(),this.currentprojectForm.updateValueAndValidity(),this.pastprojectForm2.updateValueAndValidity(),this.currentprojectForm2.updateValueAndValidity(),this.otherForm.updateValueAndValidity()),this.submitText="SAVE",null!=this.userDetails.vendorId&&null!=this.userDetails.taxId&&"Subcontractor"==this.userRole&&this.relevantexperience.getUser(this.userDetails.vendorId,this.userDetails.taxId).subscribe(i=>{this.companyId=i.id,localStorage.setItem("companyid",btoa(this.companyId)),this.getRecords()}),this.ngxUiLoader.stopLoader("loader-01")}ngAfterViewInit(){0==this.showAdmin&&(this.keepalive.interval(30),this.keepalive.start(),this.keepalive.stop())}ngOnDestroy(){this.keepalive.stop(),this.nextclicked||this.nextpage()}get f(){return this.pastprojectForm.controls}get f2(){return this.pastprojectForm2.controls}get s(){return this.currentprojectForm.controls}get s2(){return this.currentprojectForm2.controls}get ff(){return this.temppastprojectForm.controls}get ss(){return this.tempcurrentprojectForm.controls}get g(){return"yes"==this.otherForm.value.is_Company_Failed?this.otherForm.controls.company_Failed_Info.setValidators([s.kI.required]):(this.otherForm.patchValue({company_Failed_Info:this.otherForm.value.company_Failed_Info}),this.otherForm.controls.company_Failed_Info.clearValidators()),this.otherForm.controls.company_Failed_Info.updateValueAndValidity(),"yes"==this.otherForm.value.is_Officer_Failed?this.otherForm.controls.officer_Failed_Info.setValidators([s.kI.required]):(this.otherForm.patchValue({officer_Failed_Info:this.otherForm.value.officer_Failed_Info}),this.otherForm.controls.officer_Failed_Info.clearValidators()),this.otherForm.controls.officer_Failed_Info.updateValueAndValidity(),this.otherForm.controls}idleReset(){this.keepalive.start(),this.resetTimer=0}getRecords(){this.relevantexperience.getRecords(this.companyId).subscribe(t=>{t.length&&(this.submitText="UPDATE",this.updaterelevantinfo(t))}),this.companyId>0&&this.companyservice.getRecord(this.companyId).subscribe(t=>{this.prequalification_status=(t=t[0]).preQualification_Status,t.preQualification_Status&&this.loginInfo.formDisable(t.preQualification_Status)&&(this.showdisabled=!0,this.pastprojectForm.disable(),this.currentprojectForm.disable(),this.otherForm.disable(),this.pastprojectForm2.disable(),this.currentprojectForm2.disable(),this.pastprojectForm.updateValueAndValidity(),this.currentprojectForm.updateValueAndValidity(),this.pastprojectForm2.updateValueAndValidity(),this.currentprojectForm2.updateValueAndValidity(),this.otherForm.updateValueAndValidity())})}updaterelevantinfo(t){this.pastprojectlist=[],this.currprojectlist=[],t.filter(i=>{"1"==i.type&&(this.pastprojectlist.push({id:i.id,companyId:i.companyId,type:i.type,projectName:this.loginInfo.validateEmpty(i.projectName),contractPrice:this.loginInfo.validateEmpty(i.contractPrice),completionDate:"2099-12-31T00:00:00"==this.loginInfo.validateEmpty(i.completionDate)?"":this.loginInfo.validateEmpty(i.completionDate),isOwner:this.loginInfo.validateEmpty(i.isOwner),city:this.loginInfo.validateEmpty(i.city),state:this.loginInfo.validateEmpty(i.state),is_Company_Failed:this.loginInfo.validateEmpty(i.is_Company_Failed),company_Failed_Info:this.validateEmpty(i.company_Failed_Info),is_Officer_Failed:this.loginInfo.validateEmpty(i.is_Officer_Failed),officer_Failed_Info:this.validateEmpty(i.officer_Failed_Info),showEdit:!1}),1==this.pastprojectlist.length?(this.showpastproject=!1,this.showpastproject2=!0):this.pastprojectlist.length>1&&(this.showpastproject=!0,this.showpastproject2=!0)),"2"==i.type&&(console.log(i),this.currprojectlist.push({id:i.id,companyId:i.companyId,type:i.type,projectName:this.loginInfo.validateEmpty(i.projectName),contractPrice:this.loginInfo.validateEmpty(i.contractPrice),completionDate:"2099-12-31T00:00:00"==this.loginInfo.validateEmpty(i.completionDate)?"":this.loginInfo.validateEmpty(i.completionDate),isOwner:this.loginInfo.validateEmpty(i.isOwner),city:this.loginInfo.validateEmpty(i.city),state:this.loginInfo.validateEmpty(i.state),is_Company_Failed:this.loginInfo.validateEmpty(i.is_Company_Failed),company_Failed_Info:this.validateEmpty(i.company_Failed_Info),is_Officer_Failed:this.loginInfo.validateEmpty(i.is_Officer_Failed),officer_Failed_Info:this.validateEmpty(i.officer_Failed_Info),showEdit:!1}),1==this.currprojectlist.length?(this.showcurrentproject=!1,this.showcurrentproject2=!0):this.currprojectlist.length>1&&(this.showcurrentproject=!0,this.showcurrentproject2=!0,this.showdisabled=!1)),"3"==i.type&&(console.log(i.company_Failed_Info,this.validateEmpty(i.company_Failed_Info)),this.otherForm.patchValue({is_Company_Failed:i.is_Company_Failed,company_Failed_Info:this.validateEmpty(i.company_Failed_Info),is_Officer_Failed:i.is_Officer_Failed,officer_Failed_Info:this.validateEmpty(i.officer_Failed_Info)}),this.otherlist[0].companyId=this.companyId,this.otherlist[0].id=i.id,this.otherlist[0].is_Company_Failed=this.loginInfo.validateEmpty(i.is_Company_Failed),this.otherlist[0].company_Failed_Info=this.loginInfo.validateEmpty(i.company_Failed_Info),this.otherlist[0].is_Officer_Failed=this.loginInfo.validateEmpty(i.is_Officer_Failed),this.otherlist[0].officer_Failed_Info=this.loginInfo.validateEmpty(i.officer_Failed_Info))}),0==this.pastprojectlist.length&&(this.showpastproject=!1,this.showpastproject2=!1),0==this.currprojectlist.length&&(this.showcurrentproject=!1,this.showcurrentproject2=!1)}submit(){if(this.otherSubmitted=!0,this.keepalive.stop(),"Subcontractor"!=this.userRole)this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`]);else if(this.companyId>0){this.nextclicked=!0,this.pastprojectFormcheckformValidation(),this.pastprojectForm2checkformValidation(),this.currentprojectcheckformValidation(),this.currentproject2checkformValidation(),this.temppastprojectFormcheckformValidation(),this.tempcurrprojectFormcheckformValidation(),this.otherlist[0].companyId=this.companyId,this.otherlist[0].is_Company_Failed=this.otherForm.value.is_Company_Failed,this.otherlist[0].company_Failed_Info=this.otherForm.value.company_Failed_Info,this.otherlist[0].is_Officer_Failed=this.otherForm.value.is_Officer_Failed,this.otherlist[0].officer_Failed_Info=this.otherForm.value.officer_Failed_Info;let i=this.saveForms();console.log(i);let o={id:0,companyId:this.companyId,experienceLineDTO:i};i.length&&(this.pastprojectForm.patchValue({isAutosave:!1}),this.relevantexperience.addRecord(o).subscribe(r=>{this.getRecords(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])}))}}autosave(){if(this.resetTimer+=1,1==this.resetTimer){this.pastprojectFormcheckformValidation(),this.pastprojectForm2checkformValidation(),this.currentprojectcheckformValidation(),this.currentproject2checkformValidation(),this.temppastprojectFormcheckformValidation(),this.tempcurrprojectFormcheckformValidation(),this.otherlist[0].companyId=this.companyId,this.otherlist[0].is_Company_Failed=this.otherForm.value.is_Company_Failed,this.otherlist[0].company_Failed_Info=this.otherForm.value.company_Failed_Info,this.otherlist[0].is_Officer_Failed=this.otherForm.value.is_Officer_Failed,this.otherlist[0].officer_Failed_Info=this.otherForm.value.officer_Failed_Info;let t=this.saveForms();console.log(t);let i={id:0,companyId:this.companyId,experienceLineDTO:t};t.length&&(this.pastprojectForm.patchValue({isAutosave:!1}),this.relevantexperience.addRecord(i).subscribe(o=>{this.getRecords()}))}}save(){if(this.otherSubmitted=!0,this.keepalive.stop(),this.companyId>0){let t=!1;this.showpastproject||(t=!0,this.addpastproject()),this.showcurrentproject||(t=!0,this.addcurrproject()),this.otherlist[0].companyId=this.companyId,this.otherlist[0].is_Company_Failed=this.otherForm.value.is_Company_Failed,this.otherlist[0].company_Failed_Info=this.otherForm.value.company_Failed_Info,this.otherlist[0].is_Officer_Failed=this.otherForm.value.is_Officer_Failed,this.otherlist[0].officer_Failed_Info=this.otherForm.value.officer_Failed_Info;let i=this.saveForms(),o={id:0,companyId:this.companyId,experienceLineDTO:i};console.log(i),t||(i.length&&this.pastprojectlist.length>1&&this.currprojectlist.length>1?this.relevantexperience.addRecord(o).subscribe(r=>{this.pastprojectForm.reset(),this.currentprojectForm.reset(),this.getRecords(),this.submitText="UPDATE",this.toastr.success("Relevant experience saved successfully","Relevant Experience")}):this.firstForms())}}nextpage(){if("Subcontractor"==this.userRole){this.pastprojectFormcheckformValidation(),this.pastprojectForm2checkformValidation(),this.currentprojectcheckformValidation(),this.currentproject2checkformValidation(),this.temppastprojectFormcheckformValidation(),this.tempcurrprojectFormcheckformValidation(),this.otherlist[0].companyId=this.companyId,this.otherlist[0].is_Company_Failed=this.otherForm.value.is_Company_Failed,this.otherlist[0].company_Failed_Info=this.otherForm.value.company_Failed_Info,this.otherlist[0].is_Officer_Failed=this.otherForm.value.is_Officer_Failed,this.otherlist[0].officer_Failed_Info=this.otherForm.value.officer_Failed_Info;let t=this.saveForms();console.log(t);let i={id:0,companyId:this.companyId,experienceLineDTO:t};t.length&&(this.pastprojectForm.patchValue({isAutosave:!1}),this.relevantexperience.addRecord(i).subscribe(o=>{}))}}saveOther(){this.otherlist.length&&(this.otherlist[0].companyId=this.companyId,this.otherlist[0].is_Company_Failed=this.otherForm.value.is_Company_Failed,this.otherlist[0].company_Failed_Info=this.otherForm.value.company_Failed_Info,this.otherlist[0].is_Officer_Failed=this.otherForm.value.is_Officer_Failed,this.otherlist[0].officer_Failed_Info=this.otherForm.value.officer_Failed_Info)}firstForms(){console.log(this.pastprojectForm),this.addpastproject(),this.addcurrproject(),this.addpastproject2(),this.addcurrproject2(),this.pastprojectlist.length>1&&this.currprojectlist.length>1&&this.otherForm.valid&&this.save()}firstFormssubmit(){console.log(this.pastprojectForm),this.addpastproject(),this.addcurrproject(),this.addpastproject2(),this.addcurrproject2(),this.pastprojectlist.length>1&&this.currprojectlist.length>1&&this.otherForm.valid&&this.submit()}saveForms(){let t=[];return this.pastprojectlist.filter(i=>{t.push(i)}),this.currprojectlist.filter(i=>{t.push(i)}),this.otherlist.filter(i=>{t.push(i)}),console.log(t),t}autoSave(){if(this.pastprojectForm.patchValue({companyId:this.companyId}),this.companyId>0){let t=this.saveForms(),i={companyId:this.companyId,referenceLineDTO:this.saveForms()};this.resetTimer+=1,1==this.resetTimer&&t.length&&0==this.relevantid&&(this.pastprojectForm.patchValue({isAutosave:!1}),this.relevantexperience.addRecord(i).subscribe(o=>{this.submitText="UPDATE",this.keepalive.stop(),this.getRecords()}))}}gotoHome(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm-1].url}`])}addpastproject(){this.submitted=!0,console.log(this.pastprojectForm),this.pastprojectForm.valid&&(this.pastprojectlist.push({id:0,companyId:this.companyId,type:"1",projectName:this.pastprojectForm.value.projectName?this.pastprojectForm.value.projectName:"",contractPrice:this.pastprojectForm.value.contractPrice?String(this.pastprojectForm.value.contractPrice):"",completionDate:this.pastprojectForm.value.completionDate?this.pastprojectForm.value.completionDate:"",isOwner:this.pastprojectForm.value.isOwner,city:this.pastprojectForm.value.city,state:this.pastprojectForm.value.state,is_Company_Failed:this.otherForm.value.is_Company_Failed,company_Failed_Info:String(this.otherForm.value.company_Failed_Info)?String(this.otherForm.value.company_Failed_Info):"",is_Officer_Failed:this.otherForm.value.is_Officer_Failed,officer_Failed_Info:this.otherForm.value.officer_Failed_Info,isAutosave:!1,isCompleted:!1,showEdit:!1}),console.log(this.pastprojectlist),this.showpastproject=!0,this.pastprojectForm.reset(),this.submitted=!1)}addpastproject2(){this.submitted2=!0,console.log(this.pastprojectForm2),this.pastprojectForm2.valid&&(this.pastprojectlist.push({id:0,companyId:this.companyId,type:"1",projectName:this.pastprojectForm2.value.projectName?this.pastprojectForm2.value.projectName:"",contractPrice:this.pastprojectForm2.value.contractPrice?String(this.pastprojectForm2.value.contractPrice):"",completionDate:this.pastprojectForm2.value.completionDate?this.pastprojectForm2.value.completionDate:"",isOwner:this.pastprojectForm2.value.isOwner,city:this.pastprojectForm2.value.city,state:this.pastprojectForm2.value.state,is_Company_Failed:this.otherForm.value.is_Company_Failed,company_Failed_Info:String(this.otherForm.value.company_Failed_Info)?String(this.otherForm.value.company_Failed_Info):"",is_Officer_Failed:this.otherForm.value.is_Officer_Failed,officer_Failed_Info:this.otherForm.value.officer_Failed_Info,isAutosave:!1,isCompleted:!1,showEdit:!1}),console.log(this.pastprojectlist),this.showpastproject2=!0,this.pastprojectForm2.reset(),this.submitted2=!1)}addcurrproject(){this.currentprojsubmitted=!0,console.log(this.currentprojectForm),this.currentprojectForm.valid&&(this.currprojectlist.push({id:0,companyId:this.companyId,type:"2",projectName:this.currentprojectForm.value.projectName?this.currentprojectForm.value.projectName:"",contractPrice:this.currentprojectForm.value.contractPrice?String(this.currentprojectForm.value.contractPrice):"",completionDate:this.currentprojectForm.value.completionDate?this.currentprojectForm.value.completionDate:"",isOwner:this.currentprojectForm.value.isOwner,city:this.currentprojectForm.value.city,state:this.currentprojectForm.value.state,is_Company_Failed:this.otherForm.value.is_Company_Failed,company_Failed_Info:String(this.otherForm.value.company_Failed_Info)?String(this.otherForm.value.company_Failed_Info):"",is_Officer_Failed:this.otherForm.value.is_Officer_Failed,officer_Failed_Info:this.otherForm.value.officer_Failed_Info,isAutosave:!1,isCompleted:!1,showEdit:!1}),console.log(this.currprojectlist),this.showcurrentproject=!0,this.currentprojectForm.reset(),this.currentprojsubmitted=!1)}addcurrproject2(){this.currentprojsubmitted2=!0,console.log(this.currentprojectForm2),this.currentprojectForm2.valid&&(this.currprojectlist.push({id:0,companyId:this.companyId,type:"2",projectName:this.currentprojectForm2.value.projectName?this.currentprojectForm2.value.projectName:"",contractPrice:this.currentprojectForm2.value.contractPrice?String(this.currentprojectForm2.value.contractPrice):"",completionDate:this.currentprojectForm2.value.completionDate?this.currentprojectForm2.value.completionDate:"",isOwner:this.currentprojectForm2.value.isOwner,city:this.currentprojectForm2.value.city,state:this.currentprojectForm2.value.state,is_Company_Failed:this.otherForm.value.is_Company_Failed,company_Failed_Info:String(this.otherForm.value.company_Failed_Info)?String(this.otherForm.value.company_Failed_Info):"",is_Officer_Failed:this.otherForm.value.is_Officer_Failed,officer_Failed_Info:this.otherForm.value.officer_Failed_Info,isAutosave:!1,isCompleted:!1,showEdit:!1}),console.log(this.currprojectlist),this.showcurrentproject2=!0,this.currentprojectForm2.reset(),this.currentprojsubmitted2=!1)}removeRelevant(t,i){console.log(i,t),this.showdisabled||(0==i.id?("1"==i.type&&(this.pastprojectlist.splice(t,1),0==this.pastprojectlist.length&&(this.showpastproject=!1)),"2"==i.type&&(this.currprojectlist.splice(t,1),0==this.currprojectlist.length&&(this.showcurrentproject=!1))):this.relevantexperience.deleteRecord(i.id).subscribe(o=>{this.getRecords(),"1"==i.type&&(this.pastprojectlist.splice(t,1),this.showpastproject=!1),"2"==i.type&&(this.currprojectlist.splice(t,1),this.showcurrentproject=!1)}),this.toastr.info("Relevant Experience project removed successfully","Relevant Experience"))}validateEmpty(t){return null==t||"null"==t||null==t||"undefined"==t?"":t}editrelevant(t,i){var o,r;console.log(i),this.showdisabled||(this.disableEdit=!0,"1"==i.type&&(this.pastprojectlist[t].showEdit=!0,this.temppastindex=t,this.pastdisabledEdit=!0,this.temppastprojectForm.patchValue({projectName:i.projectName,contractPrice:i.contractPrice,completionDate:null===(o=i.completionDate)||void 0===o?void 0:o.split("T")[0],isOwner:i.isOwner,city:i.city,state:i.state})),"2"==i.type&&(this.currprojectlist[t].showEdit=!0,this.tempcurrentindex=t,this.currdisabledEdit=!0,this.tempcurrentprojectForm.patchValue({projectName:i.projectName,contractPrice:i.contractPrice,completionDate:null===(r=i.completionDate)||void 0===r?void 0:r.split("T")[0],isOwner:i.isOwner,city:i.city,state:i.state})))}pastprojectFormcheckformValidation(){console.log(""!=this.pastprojectForm.value.projectName||""!=this.pastprojectForm.value.contractPrice||""!=this.pastprojectForm.value.completionDate||""!=this.pastprojectForm.value.isOwner||""!=this.pastprojectForm.value.state),(""!=this.pastprojectForm.value.projectName||""!=this.pastprojectForm.value.contractPrice||""!=this.pastprojectForm.value.completionDate||""!=this.pastprojectForm.value.isOwner||""!=this.pastprojectForm.value.state)&&(this.pastprojectlist.push({id:0,companyId:this.companyId,type:"1",projectName:this.pastprojectForm.value.projectName?this.pastprojectForm.value.projectName:"",contractPrice:String(this.pastprojectForm.value.contractPrice)?String(this.pastprojectForm.value.contractPrice):"",completionDate:""==this.loginInfo.validateEmpty(this.pastprojectForm.value.completionDate)?"2099-12-31":"",isOwner:this.pastprojectForm.value.isOwner,city:this.pastprojectForm.value.city,state:this.pastprojectForm.value.state,is_Email:0}),this.pastprojectForm.reset(),console.log(this.pastprojectlist))}pastprojectForm2checkformValidation(){console.log(""!=this.pastprojectForm2.value.projectName||""!=this.pastprojectForm2.value.contractPrice||""!=this.pastprojectForm2.value.completionDate||""!=this.pastprojectForm2.value.isOwner||""!=this.pastprojectForm2.value.city||""!=this.pastprojectForm2.value.state),(""!=this.pastprojectForm2.value.projectName||""!=this.pastprojectForm2.value.contractPrice||""!=this.pastprojectForm2.value.completionDate||""!=this.pastprojectForm2.value.isOwner||""!=this.pastprojectForm2.value.state)&&(this.pastprojectlist.push({id:0,companyId:this.companyId,type:"1",projectName:this.pastprojectForm2.value.projectName?this.pastprojectForm2.value.projectName:"",contractPrice:String(this.pastprojectForm2.value.contractPrice)?String(this.pastprojectForm2.value.contractPrice):"",completionDate:""==this.loginInfo.validateEmpty(this.pastprojectForm2.value.completionDate)?"2099-12-31":"",isOwner:this.pastprojectForm2.value.isOwner,city:this.pastprojectForm2.value.city,state:this.pastprojectForm2.value.state,is_Email:0}),this.pastprojectForm2.reset(),console.log(this.pastprojectlist))}currentprojectcheckformValidation(){(""!=this.currentprojectForm.value.projectName||""!=this.currentprojectForm.value.contractPrice||""!=this.currentprojectForm.value.completionDate||""!=this.currentprojectForm.value.isOwner||""!=this.currentprojectForm.value.state)&&(this.currprojectlist.push({id:0,companyId:this.companyId,type:"2",projectName:this.currentprojectForm.value.projectName?this.currentprojectForm.value.projectName:"",contractPrice:String(this.currentprojectForm.value.contractPrice)?String(this.currentprojectForm.value.contractPrice):"",completionDate:""==this.loginInfo.validateEmpty(this.currentprojectForm.value.completionDate)?"2099-12-31":"",isOwner:this.currentprojectForm.value.isOwner,city:this.currentprojectForm.value.city,state:this.currentprojectForm.value.state,is_Email:0}),this.currentprojectForm.reset())}currentproject2checkformValidation(){(""!=this.currentprojectForm2.value.projectName||""!=this.currentprojectForm2.value.contractPrice||""!=this.currentprojectForm2.value.completionDate||""!=this.currentprojectForm2.value.isOwner||""!=this.currentprojectForm2.value.state)&&(this.currprojectlist.push({id:0,companyId:this.companyId,type:"2",projectName:this.currentprojectForm2.value.projectName?this.currentprojectForm2.value.projectName:"",contractPrice:String(this.currentprojectForm2.value.contractPrice)?String(this.currentprojectForm2.value.contractPrice):"",completionDate:""==this.loginInfo.validateEmpty(this.currentprojectForm2.value.completionDate)?"2099-12-31":"",isOwner:this.currentprojectForm2.value.isOwner,city:this.currentprojectForm2.value.city,state:this.currentprojectForm2.value.state,is_Email:0}),this.currentprojectForm2.reset())}temppastprojectFormcheckformValidation(){(""!=this.temppastprojectForm.value.projectName||""!=this.temppastprojectForm.value.contractPrice||""!=this.temppastprojectForm.value.completionDate||""!=this.temppastprojectForm.value.isOwner||""!=this.temppastprojectForm.value.state)&&(this.pastprojectlist[this.temppastindex].showEdit=!1,this.pastprojectlist[this.temppastindex].projectName=this.validateEmpty(this.temppastprojectForm.value.projectName),this.pastprojectlist[this.temppastindex].contractPrice=this.validateEmpty(String(this.temppastprojectForm.value.contractPrice)),this.pastprojectlist[this.temppastindex].completionDate=this.validateEmpty(this.temppastprojectForm.value.completionDate),this.pastprojectlist[this.temppastindex].isOwner=this.validateEmpty(this.temppastprojectForm.value.isOwner),this.pastprojectlist[this.temppastindex].city=this.validateEmpty(this.temppastprojectForm.value.city),this.pastprojectlist[this.temppastindex].state=this.validateEmpty(this.temppastprojectForm.value.state),this.temppastprojectForm.reset(),this.pastdisabledEdit=!1,this.temppastsubmitted=!1)}tempcurrprojectFormcheckformValidation(){(""!=this.tempcurrentprojectForm.value.projectName||""!=this.tempcurrentprojectForm.value.contractPrice||""!=this.tempcurrentprojectForm.value.completionDate||""!=this.tempcurrentprojectForm.value.isOwner||""!=this.tempcurrentprojectForm.value.state)&&(this.currprojectlist[this.tempcurrentindex].showEdit=!1,this.currprojectlist[this.tempcurrentindex].projectName=this.validateEmpty(this.tempcurrentprojectForm.value.projectName),this.currprojectlist[this.tempcurrentindex].contractPrice=this.validateEmpty(String(this.tempcurrentprojectForm.value.contractPrice)),this.currprojectlist[this.tempcurrentindex].completionDate=this.validateEmpty(this.tempcurrentprojectForm.value.completionDate),this.currprojectlist[this.tempcurrentindex].isOwner=this.validateEmpty(this.tempcurrentprojectForm.value.isOwner),this.currprojectlist[this.tempcurrentindex].city=this.validateEmpty(this.tempcurrentprojectForm.value.city),this.currprojectlist[this.tempcurrentindex].state=this.validateEmpty(this.tempcurrentprojectForm.value.state),this.tempcurrentprojectForm.reset(),this.currdisabledEdit=!1,this.tempcurrentsubmitted=!1)}relevantupdate(t,i){this.showdisabled||"1"==i.type&&(this.temppastsubmitted=!0,this.temppastprojectForm.valid&&(this.pastprojectlist[t].showEdit=!1,this.pastprojectlist[t].projectName=this.validateEmpty(this.temppastprojectForm.value.projectName),this.pastprojectlist[t].contractPrice=this.validateEmpty(String(this.temppastprojectForm.value.contractPrice)),this.pastprojectlist[t].completionDate=this.validateEmpty(this.temppastprojectForm.value.completionDate),this.pastprojectlist[t].isOwner=this.validateEmpty(this.temppastprojectForm.value.isOwner),this.pastprojectlist[t].city=this.validateEmpty(this.temppastprojectForm.value.city),this.pastprojectlist[t].state=this.validateEmpty(this.temppastprojectForm.value.state),this.pastprojectForm.reset(),this.pastdisabledEdit=!1,this.temppastsubmitted=!1)),"2"==i.type&&(this.temppastsubmitted=!0,this.temppastprojectForm.valid&&(this.currprojectlist[t].showEdit=!1,this.currprojectlist[t].projectName=this.validateEmpty(this.tempcurrentprojectForm.value.projectName),this.currprojectlist[t].contractPrice=this.validateEmpty(String(this.tempcurrentprojectForm.value.contractPrice)),this.currprojectlist[t].completionDate=this.validateEmpty(this.tempcurrentprojectForm.value.completionDate),this.currprojectlist[t].isOwner=this.validateEmpty(this.tempcurrentprojectForm.value.isOwner),this.currprojectlist[t].city=this.validateEmpty(this.tempcurrentprojectForm.value.city),this.currprojectlist[t].state=this.validateEmpty(this.tempcurrentprojectForm.value.state),this.tempcurrentprojectForm.reset(),this.currdisabledEdit=!1,this.tempcurrentsubmitted=!1)),this.disableEdit=!1}cancelpastUpdate(t,i){"1"==i.type?(this.pastprojectlist[t].showEdit=!1,this.pastdisabledEdit=!1,this.temppastprojectForm.reset(),this.temppastsubmitted=!1):"2"==i.type&&(this.currprojectlist[t].showEdit=!1,this.currdisabledEdit=!1,this.tempcurrentprojectForm.reset(),this.tempcurrentsubmitted=!1)}nextroutePage(){this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.qu),e.Y36(U.F0),e.Y36(K.d),e.Y36(Q.A),e.Y36(L._W),e.Y36(G.O),e.Y36(D),e.Y36(V.LA),e.Y36(Pd))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-relevant-experience"]],decls:73,vars:48,consts:[[1,"px-2","py-2","my-2","form-bg"],[1,"form-group","input-group","row","mt-2"],[1,"col-lg-6","py-2","mx-auto","bg-white","col-curve-top","col-head-1"],[1,"row","mx-auto","py-2"],[1,"col-12"],["claas","fw-bold"],["class","mt-2",4,"ngIf"],["class","mt-2 text-end",4,"ngIf"],["class","record-shadow p-3 mt-3",4,"ngIf"],[1,"col-lg-6","py-2","mx-auto","bg-white","col-curve-top"],[1,"px-2",3,"formGroup","keydown.enter"],[1,"row","form-group","input-group","row","mt-2"],[1,"col-lg-6","py-2","mx-auto","bg-white","col-curve","col-head-1"],[3,"formGroup","keydown.enter"],[1,"row","mx-0","px-0","py-2"],["for","is_Company_Failed",1,"my-auto","font-italic","float-right"],[1,"text-danger"],[1,"row","pt-1"],[1,"col-lg-2"],["type","radio","formControlName","is_Company_Failed","value","yes","checked","checked","name","is_Company_Failed","id","is_Company_Failed_yes",3,"ngClass","ngModelChange"],["for","is_Company_Failed_yes"],[1,"col-lg-10"],["type","radio","formControlName","is_Company_Failed","value","no","name","is_Company_Failed","id","is_Company_Failed_no",3,"ngClass","ngModelChange"],["for","is_Company_Failed_no"],["class","invalid-feedback",4,"ngIf"],[1,"mr-4","mt-1"],[1,"note","fw-bold",3,"ngClass"],[1,"col-lg-12","bg-white"],["formControlName","company_Failed_Info","id","company_Failed_Info","name","company_Failed_Info",1,"form-control",3,"ngClass","ngModelChange"],[1,"row","px-2"],["for","is_Officer_Failed",1,"my-auto","font-italic","float-right"],["type","radio","formControlName","is_Officer_Failed","value","yes","checked","checked","name","is_Officer_Failed","id","is_Officer_Failed_yes",3,"ngClass","ngModelChange"],["for","is_Officer_Failed_yes"],["type","radio","formControlName","is_Officer_Failed","value","no","name","is_Officer_Failed","id","is_Officer_Failed_no",3,"ngClass","ngModelChange"],["for","is_Officer_Failed_no"],["formControlName","officer_Failed_Info","id","officer_Failed_Info","name","officer_Failed_Info",1,"form-control",3,"ngClass","ngModelChange"],[1,"col-lg-6","py-2","mx-auto","bg-white","col-curve"],["class","text-end mx-lg-4 my-3",4,"ngIf"],["class","text-end mx-4 my-3",4,"ngIf"],[1,"mt-2"],[4,"ngFor","ngForOf"],["class","row mx-auto record-shadow py-2 mt-3",4,"ngIf"],[1,"row","mx-auto","record-shadow","py-2","mt-3"],[1,"col-6","pt-2"],[1,"fw-bold"],[1,"float-left"],[1,"float-end"],["class","fa fa-edit edit me-2",3,"click",4,"ngIf"],[1,"fa","fa-times-circle","fileclose",3,"click"],[1,"col-6"],[1,"fa","fa-edit","edit","me-2",3,"click"],[1,"record-shadow","p-3","mt-3"],[1,"px-2",3,"formGroup"],[1,"row"],[1,"col-5"],["for","owner-projectName",1,"my-auto","font-italic"],[1,"col-7"],["type","text","formControlName","projectName","id","owner-project-Name","name","owner-projectName",1,"form-control",3,"ngClass","ngModelChange"],[1,"row","pt-2"],["for","isOwner",1,"my-auto","font-italic"],[1,"col-lg-4"],["type","radio","formControlName","isOwner","value","yes","name","isOwner","id","isOwner_yes",3,"ngModelChange"],["for","isOwner_yes",3,"ngClass"],["type","radio","formControlName","isOwner","value","no","name","isOwner","id","isOwner",3,"ngClass","ngModelChange"],["for","isOwner"],["for","owner-contractPrice",1,"my-auto","font-italic"],["type","number","formControlName","contractPrice","id","owner-project-Name","name","owner-contractPrice",1,"form-control",3,"ngClass","ngModelChange"],["for","owner-completionDate",1,"my-auto","font-italic"],["type","date","formControlName","completionDate","id","owner-project-Name","name","owner-completionDate",1,"form-control",3,"ngClass","ngModelChange"],["for","city",1,"my-auto","font-italic"],["type","text","formControlName","city","id","city","name","city",1,"form-control",3,"ngClass","ngModelChange"],["for","state",1,"my-auto","font-italic","float-right"],["formControlName","state","id","state","name","state",1,"form-control","form-select",3,"ngClass","ngModelChange"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"note","fw-bold","p-0","pt-3"],[1,"mt-2","text-end"],["type","button","class","btn mx-2 default-btn",3,"click",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],["type","button",1,"btn","mx-2","default-btn",3,"click"],["type","radio","formControlName","isOwner","value","yes","checked","checked","name","isOwner","id","isOwner_yes",3,"ngModelChange"],[1,"col-lg-8"],["type","radio","formControlName","isOwner","value","yes","checked","checked","name","isOwner","id","isOwner_yes2",3,"ngModelChange"],["for","isOwner_yes2",3,"ngClass"],["type","radio","formControlName","isOwner","value","no","name","isOwner","id","isOwner2",3,"ngClass","ngModelChange"],["for","isOwner2"],["type","radio","formControlName","isOwner","value","yes","checked","checked","name","isOwner","id","isOwner_yes22",3,"ngModelChange"],["for","isOwner_yes22",3,"ngClass"],["type","radio","formControlName","isOwner","value","no","name","isOwner","id","isOwner22",3,"ngClass","ngModelChange"],["for","isOwner22"],[1,"text-end","mx-lg-4","my-3"],[1,"btn","float-start","btn","default-btn",3,"click"],["type","button",1,"btn","ml-4","default-btn",3,"click"],[1,"text-end","mx-4","my-3"],[1,"btn","btn-success","mx-2","default-btn",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h6",5),e._uU(6,"1. Past Project Experience"),e.qZA(),e.YNc(7,op,2,1,"div",6),e.YNc(8,rp,2,1,"div",7),e.YNc(9,Cp,70,30,"div",8),e.YNc(10,Up,70,30,"div",8),e.qZA()()(),e.TgZ(11,"div",9)(12,"form",10),e.NdJ("keydown.enter",function(r){return r.preventDefault()}),e.TgZ(13,"div",3)(14,"div",4)(15,"h6",5),e._uU(16,"2. Current Projects Experience"),e.qZA(),e.YNc(17,eu,2,1,"div",6),e.YNc(18,iu,2,1,"div",7),e.YNc(19,hu,70,30,"div",8),e.YNc(20,ku,70,30,"div",8),e.qZA()()()()(),e.TgZ(21,"div",11)(22,"div",12)(23,"form",13),e.NdJ("keydown.enter",function(r){return r.preventDefault()}),e.TgZ(24,"div",14)(25,"h6",5),e._uU(26,"3. Other"),e.qZA(),e.TgZ(27,"div",4)(28,"label",15),e._uU(29,"In the past three (3) years from today's date, has your company defaulted, been terminated for cause or failed to complete a construction contract awarded to it?"),e.TgZ(30,"span",16),e._uU(31,"*"),e.qZA()(),e.TgZ(32,"div",17)(33,"span",18)(34,"input",19),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.qZA(),e.TgZ(35,"label",20),e._uU(36," YES"),e.qZA()(),e.TgZ(37,"span",21)(38,"input",22),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.qZA(),e.TgZ(39,"label",23),e._uU(40," NO"),e.qZA()()(),e.YNc(41,wu,2,1,"div",24),e.TgZ(42,"div",25)(43,"small",26),e._uU(44,"If yes, describe circumstances, including dates and owner, and if applicable, your company's surety:"),e.qZA()(),e.TgZ(45,"div",27)(46,"textarea",28),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.qZA(),e.YNc(47,Uu,2,1,"div",24),e.qZA()()(),e.TgZ(48,"div",29)(49,"div",4)(50,"label",30),e._uU(51,"In the past three (3) years from today's date has any officer, partner, joint venture or proprietor of your company ever failed to complete a construction contract awarded to that person or entity in their name or on behalf of another organization?"),e.TgZ(52,"span",16),e._uU(53,"*"),e.qZA()(),e.TgZ(54,"div",17)(55,"span",18)(56,"input",31),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.qZA(),e.TgZ(57,"label",32),e._uU(58," YES"),e.qZA()(),e.TgZ(59,"span",21)(60,"input",33),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.qZA(),e.TgZ(61,"label",34),e._uU(62," NO"),e.qZA()()(),e.YNc(63,Eu,2,1,"div",24),e.TgZ(64,"div",25)(65,"small",26),e._uU(66,"If yes, describe circumstances:"),e.qZA()(),e.TgZ(67,"div",27)(68,"textarea",35),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.qZA(),e.YNc(69,Pu,2,1,"div",24),e.qZA()()()()(),e._UZ(70,"div",36),e.qZA()(),e.YNc(71,Ju,7,1,"div",37),e.YNc(72,ju,5,0,"div",38)),2&t&&(e.xp6(7),e.Q6J("ngIf",i.pastprojectlist.length),e.xp6(1),e.Q6J("ngIf",i.showpastproject),e.xp6(1),e.Q6J("ngIf",!i.showpastproject),e.xp6(1),e.Q6J("ngIf",!i.showpastproject2),e.xp6(2),e.Q6J("formGroup",i.currentprojectForm),e.xp6(5),e.Q6J("ngIf",i.currprojectlist.length),e.xp6(1),e.Q6J("ngIf",i.showcurrentproject),e.xp6(1),e.Q6J("ngIf",!i.showcurrentproject2),e.xp6(1),e.Q6J("ngIf",!i.showcurrentproject),e.xp6(3),e.Q6J("formGroup",i.otherForm),e.xp6(11),e.Q6J("ngClass",e.VKq(28,h,i.otherSubmitted&&i.g.is_Company_Failed.errors)),e.xp6(4),e.Q6J("ngClass",e.VKq(30,h,i.otherSubmitted&&i.g.is_Company_Failed.errors)),e.xp6(3),e.Q6J("ngIf",i.otherSubmitted&&i.g.is_Company_Failed.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(32,ge,"no"==i.g.is_Company_Failed.value)),e.xp6(3),e.Q6J("ngClass",e.VKq(34,h,i.otherSubmitted&&i.g.company_Failed_Info.errors))("ngClass",e.VKq(36,ge,"no"==i.g.is_Company_Failed.value)),e.uIk("disabled","no"==i.g.is_Company_Failed.value?"":null),e.xp6(1),e.Q6J("ngIf",i.otherSubmitted&&i.g.company_Failed_Info.errors),e.xp6(9),e.Q6J("ngClass",e.VKq(38,h,i.otherSubmitted&&i.g.is_Officer_Failed.errors)),e.xp6(4),e.Q6J("ngClass",e.VKq(40,h,i.otherSubmitted&&i.g.is_Officer_Failed.errors)),e.xp6(3),e.Q6J("ngIf",i.otherSubmitted&&i.g.is_Officer_Failed.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(42,ge,"no"==i.g.is_Officer_Failed.value)),e.xp6(3),e.Q6J("ngClass",e.VKq(44,h,i.otherSubmitted&&i.g.officer_Failed_Info.errors))("ngClass",e.VKq(46,ge,"no"==i.g.is_Officer_Failed.value)),e.uIk("disabled","no"==i.g.is_Officer_Failed.value?"":null),e.xp6(1),e.Q6J("ngIf",i.otherSubmitted&&i.g.officer_Failed_Info.errors),e.xp6(2),e.Q6J("ngIf",!(i.showAdmin||i.prequalification_status&&"To complete prequalification"!=i.prequalification_status&&"Additional Info Needed from Subcontractor"!=i.prequalification_status)),e.xp6(1),e.Q6J("ngIf",!i.showAdmin&&i.prequalification_status&&"To complete prequalification"!=i.prequalification_status&&"Additional Info Needed from Subcontractor"!=i.prequalification_status||i.showAdmin))},directives:[f.O5,f.sg,s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,f.mk,s._,s.wV,s.EJ,s.YN,s.Kr],pipes:[f.uU],styles:[".record-shadow[_ngcontent-%COMP%]{border:1px solid #ddd;box-shadow:0 .5rem 1rem #00000026!important}.file-close[_ngcontent-%COMP%]{padding:2px 6px!important;background:#969294!important}.col-curve-top[_ngcontent-%COMP%]{border-radius:18px 18px 10px 10px/19px 19px 10px 10px!important;border-top:6px solid #c3bdbd!important}.col-curve[_ngcontent-%COMP%]{border-radius:10px!important}.fileclose[_ngcontent-%COMP%]{font-size:22px;color:#6e6767;cursor:pointer}.edit[_ngcontent-%COMP%]{font-size:18px;cursor:pointer}h6[_ngcontent-%COMP%]{font-size:13px!important}.bg-grey[_ngcontent-%COMP%]{color:#c7bfbf!important}"]}),n})(),Lu=(()=>{class n extends S.EJ{constructor(t,i){super("Signature",t,i,{root:u.N.webserviceURlLocal})}getAll(){return super.getAll()}getRecords(t){const i={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("signature/"+t,u.N.webserviceURlLocal);return this.http.get(o,i)}updateRecord(t,i){const o={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},r=this.httpUrlGenerator.entityResource("signature/"+i,u.N.webserviceURlLocal);return this.http.put(r,t,o)}addRecord(t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("signature",u.N.webserviceURlLocal);return this.http.post(o,t,i)}getUser(t,i){const o={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},r=this.httpUrlGenerator.entityResource("Organization/"+t+"/"+i,u.N.webserviceURlLocal);return this.http.get(r,o)}getComplete(t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("Organization/Getstatus/"+t,u.N.webserviceURlLocal);return this.http.get(o,i)}deleteRecord(t){const i={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.delete(u.N.webserviceURlLocal+"Files/"+t,i)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(B.eN),e.LFG(S.hR))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Du(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Signature form is required"),e.qZA())}function Qu(n,a){if(1&n&&(e.TgZ(0,"div",25),e.YNc(1,Du,2,0,"div",26),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.signature_Upload.errors.required)}}function Vu(n,a){1&n&&(e.TgZ(0,"div",27)(1,"span"),e._uU(2,"Uploading..."),e.qZA(),e._UZ(3,"mat-progress-spinner",28),e.qZA())}function Bu(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"p",29)(2,"small")(3,"a",30),e._uU(4),e.qZA()(),e.TgZ(5,"small",31),e.NdJ("click",function(){const o=e.CHM(t),r=o.index,l=o.$implicit;return e.oxw().removeqcpUpload(r,l)}),e._uU(6,"X"),e.qZA()()()}if(2&n){const t=a.$implicit;e.xp6(3),e.s9C("href",t.file_Path,e.LSH),e.xp6(1),e.Oqu(t.name)}}function Gu(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",32)(1,"button",33),e.NdJ("click",function(){return e.CHM(t),e.oxw().gotoHome()}),e._uU(2," << BACK "),e.qZA(),e.TgZ(3,"button",34),e.NdJ("click",function(){return e.CHM(t),e.oxw().save()}),e._uU(4),e.qZA(),e.TgZ(5,"button",35),e.NdJ("click",function(){return e.CHM(t),e.oxw().submit()}),e._uU(6,"NEXT >>"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(4),e.Oqu(t.submitText)}}function Ku(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",36)(1,"button",33),e.NdJ("click",function(){return e.CHM(t),e.oxw().gotoHome()}),e._uU(2," << BACK"),e.qZA(),e.TgZ(3,"button",37),e.NdJ("click",function(){return e.CHM(t),e.oxw().nextroutePage()}),e._uU(4,"NEXT >>"),e.qZA()()}}function Hu(n,a){if(1&n&&e._UZ(0,"app-comment",38),2&n){const t=e.oxw();e.Q6J("events",t.eventsSubject.asObservable())("formId",t.signatureid)("companyId",t.tempcompanyid)}}const ve=function(n){return{"bg-grey":n}},zu=function(n){return{"pointer-events":n}},$u=function(n){return{"is-invalid":n}},Wu=function(n){return{opacity:n}};let Xu=(()=>{class n{constructor(t,i,o,r,l,c,d,p,_,v){this.formBuilder=t,this.router=i,this.bnIdle=o,this.keepalive=r,this.toastr=l,this.project=c,this.logininfo=d,this.ngxUiLoader=p,this.companyservice=_,this.signatureservice=v,this.currentForm=6,this.signatureForm=this.formBuilder.group({id:[0],companyId:[0,[s.kI.maxLength(130)]],signature_Upload:["",[s.kI.required]],is_QCP:[""],isAutosave:[!0]}),this.signatureid=0,this.submitText="SAVE",this.submitted=!1,this.companyId=0,this.tempsignatureattachment=[],this.tempcompanyid=0,this.showAdmin=!1,this.spinner={qcpSpinner:!1},this.signatureAttachment=[],this.showdisabled=!1,this.eventsSubject=new re.xQ}ngOnInit(){this.ngxUiLoader.startLoader("loader-01"),localStorage.setItem("currPage","personnel"),this.prequalification_status=this.logininfo.organization_status,this.submitText="SAVE";let t=localStorage.getItem("userDetails");t=JSON.parse(atob(t)),this.userDetails=t,this.userRole=t.role,this.tempcompanyid=localStorage.getItem("tempcompanyid"),this.tempcompanyid=Number(atob(this.tempcompanyid)),this.tempcompanyid>0&&"Subcontractor"!=this.userRole&&(this.showAdmin=!0,this.signatureservice.getRecords(this.tempcompanyid).subscribe(i=>{this.showdisabled=!0,this.signatureForm.disable(),this.signatureForm.updateValueAndValidity(),this.showAdmin=!0,(null==i?void 0:i.length)&&(this.signatureid=i[0].id,this.submitText="UPDATE",this.updateSignature(i[0]))})),null!=this.userDetails.vendorId&&null!=this.userDetails.taxId&&"Subcontractor"==this.userRole&&this.signatureservice.getUser(this.userDetails.vendorId,this.userDetails.taxId).subscribe(i=>{this.companyId=i.id,localStorage.setItem("companyid",btoa(this.companyId)),this.getRecords()}),this.ngxUiLoader.stopLoader("loader-01")}updateSignature(t){this.signatureForm.patchValue({id:t.id,companyId:t.companyId,isAutosave:t.isAutosave}),this.signatureAttachment=[],t.files.filter(i=>{"Signature_Upload"==i.file_Type&&0==i.isDeleted&&this.signatureAttachment.push(i.file_Name.length<49?{id:i.id,name:i.file_Name,file_Path:i.file_Path}:{id:i.id,name:i.file_Name.substring(0,49)+"....",file_Path:i.file_Path})})}get f(){return this.signatureAttachment.length?this.signatureForm.controls.signature_Upload.clearValidators():this.signatureForm.controls.signature_Upload.setValidators([s.kI.required]),this.signatureForm.controls.signature_Upload.updateValueAndValidity(),this.signatureForm.controls}submit(){"Subcontractor"!=this.userRole?(this.emitEventToChild(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])):(this.save(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`]))}save(){if("Subcontractor"==this.userRole)if(console.log(this.signatureForm),this.submitted=!0,this.keepalive.stop(),0==this.signatureid){this.signatureForm.patchValue({isAutosave:!1});let t=this.formMethod();this.signatureservice.addRecord(t).subscribe(i=>{this.getRecords(),this.submitText="UPDATE",this.fileReset(),this.resetSpinner(),this.toastr.success("Signature saved successfully","Signature")})}else{this.signatureForm.patchValue({isAutosave:!1});let t=this.formMethod();this.signatureservice.updateRecord(t,this.signatureid).subscribe(i=>{this.getRecords(),this.fileReset(),this.resetSpinner(),this.toastr.success("Signature updated successfully","Signature")})}}fileupload(){if(this.keepalive.stop(),0==this.signatureid){this.signatureForm.patchValue({isAutosave:!0});let t=this.formMethod();this.signatureservice.addRecord(t).subscribe(i=>{this.keepalive.stop(),this.signatureForm.patchValue({signature_Upload:"",id:i.id}),this.submitText="UPDATE",this.getRecords(),this.resetSpinner(),this.submitted=!1})}else{this.signatureForm.patchValue({id:this.signatureid,isAutosave:!0});let t=this.formMethod();this.signatureservice.updateRecord(t,this.signatureForm.value.id).subscribe(i=>{this.keepalive.stop(),this.getRecords(),this.resetSpinner(),this.signatureForm.patchValue({signature_Upload:""}),this.submitted=!1})}}formMethod(){var t=new FormData;t.append("id",this.signatureForm.value.id),t.append("companyId",this.companyId),t.append("isAutosave",this.signatureForm.value.isAutosave);for(let i=0;i<this.tempsignatureattachment.length;i++)t.append("signature_Upload",this.tempsignatureattachment[i]);return this.tempsignatureattachment=[],t}resetSpinner(){this.spinner={qcpSpinner:!1}}fileReset(){this.signatureForm.patchValue({signature_Upload:""})}qcpUpload(t){let i=document.getElementById("signature_Upload");for(let o=0;o<i.files.length;o++)this.tempsignatureattachment.push(i.files[o]);this.spinner.qcpSpinner=!0,this.fileupload()}removeqcpUpload(t,i){this.showdisabled||this.signatureservice.deleteRecord(i.id).subscribe(o=>{this.signatureAttachment.splice(t,1),this.toastr.info("File removed successfully","Signature")})}emitEventToChild(){this.eventsSubject.next()}gotoHome(){this.emitEventToChild(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm-1].url}`])}getRecords(){this.signatureservice.getRecords(this.companyId).subscribe(t=>{t.length&&(this.signatureid=t[0].id,this.submitText="UPDATE",this.updateSignature(t[0]))}),this.companyId>0&&this.companyservice.getRecord(this.companyId).subscribe(t=>{this.prequalification_status=(t=t[0]).preQualification_Status,t.preQualification_Status&&this.logininfo.formDisable(t.preQualification_Status)&&(this.showdisabled=!0,this.signatureForm.disable(),this.signatureForm.updateValueAndValidity())})}nextroutePage(){this.emitEventToChild(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.qu),e.Y36(U.F0),e.Y36(K.d),e.Y36(Q.A),e.Y36(L._W),e.Y36(se.m),e.Y36(D),e.Y36(V.LA),e.Y36(G.O),e.Y36(Lu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-signature"]],decls:45,vars:29,consts:[[1,"container","my-2","minheight","row"],[1,"row"],[1,"col-5"],[1,"m-1","pb-5","mb-5",3,"formGroup","ngClass","ngSubmit"],[1,"row","mt-2","pt-3",2,"border","1px solid #31a954","padding","5px"],[2,"margin","5px 2px 5px 10px","list-style-type","decimal"],[1,"px-2","py-2"],[1,"form-group","row","mx-0","px-0","py-2","mt-2","mx-auto"],[1,"col-12","col-curve-top","bg-white","border","border-1","py-2","mx-auto"],[1,"text-center","mb-2"],[1,"fw-bold","font-arial"],["href","assets/MBP Prequal Signature Section.docx",2,"color","blue","font-size","15px !important",3,"ngClass","ngStyle"],[1,"col-12","col-curve","bg-white","border","border-1","py-2","mx-auto"],["for","signature_Upload"],[1,"form-control-customitem","form-control"],["type","file","title","Choose file","formControlName","signature_Upload","id","signature_Upload","name","signature_Upload","multiple","",3,"ngClass","change"],["for","signature_Upload",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["class","spinner__loading pt-3",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"col-7","mt-1",3,"ngClass"],["src","assets/images/signature.jpg",3,"ngStyle"],["class","text-end mx-lg-4 my-3",4,"ngIf"],["class","text-end mx-4 my-3",4,"ngIf"],["headerReview","Risk Review & Inputs","formname","signature",3,"events","formId","companyId",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner__loading","pt-3"],["diameter","18","mode","indeterminate",1,"mt-1"],[1,"file-tag"],["target","_blank",3,"href"],[1,"file-close","text-white",3,"click"],[1,"text-end","mx-lg-4","my-3"],[1,"btn","float-start","btn","default-btn",3,"click"],["type","button",1,"btn","ml-4","default-btn",3,"click"],["type","button",1,"btn","mx-2","default-btn",3,"click"],[1,"text-end","mx-4","my-3"],[1,"btn","btn-success","mx-2","default-btn",3,"click"],["headerReview","Risk Review & Inputs","formname","signature",3,"events","formId","companyId"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",1)(4,"form",3),e.NdJ("ngSubmit",function(){return i.submit()}),e.TgZ(5,"div",4)(6,"h3"),e._uU(7,"Messer Construction requires that you do the following in this section:"),e.qZA(),e.TgZ(8,"ul",5)(9,"li"),e._uU(10,"Download and print the signature form"),e.qZA(),e.TgZ(11,"li"),e._uU(12,"Fill in the required info asked"),e.qZA(),e.TgZ(13,"li"),e._uU(14,"Sign the signature form"),e.qZA(),e.TgZ(15,"li"),e._uU(16,"Get notarization on the signature page"),e.qZA(),e.TgZ(17,"li"),e._uU(18,"Upload the signed and notarized signature form in the attachment section below."),e.qZA()()(),e.TgZ(19,"div",6)(20,"div",7)(21,"div",8)(22,"div",9)(23,"h5",10)(24,"a",11),e._uU(25,"Click here"),e.qZA(),e._uU(26," to download the form"),e.qZA()()()(),e.TgZ(27,"div",7)(28,"div",12)(29,"div")(30,"label",13),e._uU(31,"Attach your signed signature form below: "),e.qZA(),e.TgZ(32,"div",14)(33,"input",15),e.NdJ("change",function(r){return i.qcpUpload(r)}),e.qZA(),e.TgZ(34,"span",16),e._uU(35,' \xa0Choose Files with "Click to Add Files"'),e.qZA()(),e.YNc(36,Qu,2,1,"div",17),e.YNc(37,Vu,4,0,"div",18),e.YNc(38,Bu,7,2,"div",19),e.qZA()()()()()()(),e.TgZ(39,"div",20),e._UZ(40,"img",21),e.qZA()(),e.TgZ(41,"div",1),e.YNc(42,Gu,7,1,"div",22),e.YNc(43,Ku,5,0,"div",23),e.qZA()(),e.YNc(44,Hu,1,3,"app-comment",24)),2&t&&(e.xp6(4),e.Q6J("formGroup",i.signatureForm)("ngClass",e.VKq(15,ve,i.showdisabled)),e.xp6(20),e.Q6J("ngClass",e.VKq(17,ve,i.showdisabled))("ngStyle",e.VKq(19,zu,i.showdisabled?"none":"auto")),e.xp6(9),e.Q6J("ngClass",e.VKq(21,$u,i.submitted&&i.f.signature_Upload.errors)),e.uIk("disabled",i.showdisabled?"":null),e.xp6(1),e.Q6J("ngClass",e.VKq(23,ve,1==i.showdisabled)),e.xp6(2),e.Q6J("ngIf",i.submitted&&i.f.signature_Upload.errors),e.xp6(1),e.Q6J("ngIf",null==i.spinner?null:i.spinner.qcpSpinner),e.xp6(1),e.Q6J("ngForOf",i.signatureAttachment),e.xp6(1),e.Q6J("ngClass",e.VKq(25,ve,i.showdisabled)),e.xp6(1),e.Q6J("ngStyle",e.VKq(27,Wu,i.showdisabled?"0.4":"")),e.xp6(2),e.Q6J("ngIf",!(i.showAdmin||i.prequalification_status&&"To complete prequalification"!=i.prequalification_status&&"Additional Info Needed from Subcontractor"!=i.prequalification_status)),e.xp6(1),e.Q6J("ngIf",!i.showAdmin&&i.prequalification_status&&"To complete prequalification"!=i.prequalification_status&&"Additional Info Needed from Subcontractor"!=i.prequalification_status||i.showAdmin),e.xp6(1),e.Q6J("ngIf","Subcontractor"!=i.userRole&&"Additional Info Needed from Subcontractor"!=i.prequalification_status&&"Prequal form submitted and under quality check"!=i.prequalification_status))},directives:[s._Y,s.JL,s.sg,f.mk,f.PC,s.Fj,s.JJ,s.u,f.O5,ie.Ou,f.sg,le],styles:[".col-curve-top[_ngcontent-%COMP%]{border-radius:18px 19px!important;border-top:6px solid #c3bdbd!important}.col-curve[_ngcontent-%COMP%]{border-radius:18px 19px!important}.minheight[_ngcontent-%COMP%]{min-height:400px}.bg-grey[_ngcontent-%COMP%]{color:#c7bfbf!important}.red[_ngcontent-%COMP%]{color:red}"]}),n})(),em=(()=>{class n extends S.EJ{constructor(t,i){super("Summary",t,i,{root:u.N.webserviceURlLocal})}getAll(){return super.getAll()}getRecords(t){const i={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("Summary/"+t,u.N.webserviceURlLocal);return this.http.get(o,i)}getInterimRecords(t){const i={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("Summary/interim/"+t,u.N.webserviceURlLocal);return this.http.get(o,i)}updateRecord(t,i){const o={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},r=this.httpUrlGenerator.entityResource("Summary/"+i,u.N.webserviceURlLocal);return this.http.put(r,t,o)}addRecord(t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("Summary",u.N.webserviceURlLocal);return this.http.post(o,t,i)}deleteRecord(t){const i={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.delete(u.N.webserviceURlLocal+"Summary/"+t,i)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(B.eN),e.LFG(S.hR))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tm(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Project Name/ Number is required "),e.qZA())}function im(n,a){if(1&n&&(e.TgZ(0,"div",67),e.YNc(1,tm,2,0,"div",22),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.saved&&t.summary.controls.project_Name.errors.required)}}function nm(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Value of subcontract is required"),e.qZA())}function om(n,a){if(1&n&&(e.TgZ(0,"div",67),e.YNc(1,nm,2,0,"div",22),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.saved&&t.summary.controls.project_value_Detail.errors.required)}}function am(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Project Notes is required"),e.qZA())}function rm(n,a){if(1&n&&(e.TgZ(0,"div",67),e.YNc(1,am,2,0,"div",22),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.saved&&t.summary.controls.project_Notes.errors.required)}}function sm(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Risk Inputs on Safety Review is required"),e.qZA())}function lm(n,a){if(1&n&&(e.TgZ(0,"div",67),e.YNc(1,sm,2,0,"div",22),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.saved&&t.summary.controls.risk_Inputs.errors.required)}}const O=function(n){return{"is-invalid":n}};function cm(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",8)(1,"div",5)(2,"div",6)(3,"form",7),e.NdJ("keydown.enter",function(o){return o.preventDefault()}),e.TgZ(4,"div",45)(5,"div",46)(6,"div",47)(7,"div",48)(8,"label",49),e._uU(9,"Project Name/ Number "),e.qZA()(),e.TgZ(10,"div",46),e._UZ(11,"input",50),e.YNc(12,im,2,1,"div",28),e.qZA()(),e.TgZ(13,"div",47)(14,"div",48)(15,"label",51),e._uU(16," Value of Subcontract"),e.qZA()(),e.TgZ(17,"div",46)(18,"input",52),e.NdJ("keydown",function(o){return e.CHM(t),e.oxw().numberCheck(o)})("keyup",function(o){e.CHM(t);const r=e.oxw();return r.CommaFormatted(o,"project_value_Detail",r.summary)}),e.qZA(),e.YNc(19,om,2,1,"div",28),e.qZA()()(),e.TgZ(20,"div",48)(21,"div",53)(22,"div",54)(23,"label",51),e._uU(24,"Project Related Notes"),e.qZA()(),e.TgZ(25,"div",55)(26,"textarea",56),e._uU(27,"                                                    "),e.qZA(),e.YNc(28,rm,2,1,"div",28),e.qZA()()()(),e.TgZ(29,"div",11)(30,"div",12)(31,"label",57),e._uU(32,"Types of Work Performed "),e.qZA()(),e.TgZ(33,"div",14)(34,"textarea",58),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e._uU(35,"                                            "),e.qZA()()(),e.TgZ(36,"div",11)(37,"div",12)(38,"label",23),e._uU(39,"Safety Grade Calculated"),e.qZA()(),e.TgZ(40,"div",12),e._UZ(41,"input",59),e.qZA(),e.TgZ(42,"div",18)(43,"label",19),e._uU(44," Safety Grade Selected by Safety Reviewer"),e.qZA()(),e.TgZ(45,"div",12),e._UZ(46,"input",60),e.qZA()(),e.TgZ(47,"div",11)(48,"div",12)(49,"label",61),e._uU(50,"Notes on Grade Change"),e.TgZ(51,"span",24),e._uU(52,"*"),e.qZA()()(),e.TgZ(53,"div",14)(54,"textarea",62),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e._uU(55,"                                        "),e.qZA()()(),e.TgZ(56,"div",11)(57,"div",12)(58,"label",63),e._uU(59,"Safety Review Notes "),e.qZA()(),e.TgZ(60,"div",14)(61,"textarea",64),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e._uU(62,"                                       "),e.qZA()()(),e.TgZ(63,"div",11)(64,"div",12)(65,"label",65),e._uU(66,"Risk Inputs on Safety Review "),e.TgZ(67,"span",24),e._uU(68,"*"),e.qZA()()(),e.TgZ(69,"div",14)(70,"textarea",66),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e._uU(71,"                                        "),e.qZA(),e.YNc(72,lm,2,1,"div",28),e.qZA()()()()()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("formGroup",t.summary),e.xp6(8),e.Q6J("ngClass",e.VKq(9,O,t.saved&&t.summary.controls.project_Name.errors)),e.xp6(1),e.Q6J("ngIf",t.saved&&t.summary.controls.project_Name.touched&&t.summary.controls.project_Name.errors),e.xp6(6),e.Q6J("ngClass",e.VKq(11,O,t.saved&&t.summary.controls.project_value_Detail.errors)),e.xp6(1),e.Q6J("ngIf",t.saved&&t.summary.controls.project_value_Detail.touched&&t.summary.controls.project_value_Detail.errors),e.xp6(7),e.Q6J("ngClass",e.VKq(13,O,t.saved&&t.summary.controls.project_Notes.errors)),e.xp6(2),e.Q6J("ngIf",t.saved&&t.summary.controls.project_Notes.touched&&t.summary.controls.project_Notes.errors),e.xp6(42),e.Q6J("ngClass",e.VKq(15,O,t.saved&&t.summary.controls.risk_Inputs.errors)),e.xp6(2),e.Q6J("ngIf",t.saved&&t.summary.controls.risk_Inputs.touched&&t.summary.controls.risk_Inputs.errors)}}function dm(n,a){1&n&&(e.TgZ(0,"div",11)(1,"div",68)(2,"label",69),e._uU(3,"Date of Subcontractor financial (interim) "),e.qZA()(),e.TgZ(4,"div",14)(5,"div"),e._UZ(6,"input",70),e.qZA()()())}function pm(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",11)(2,"div",12)(3,"label",71),e._uU(4,"Anticipated Size of Work"),e.qZA()(),e.TgZ(5,"div",14)(6,"input",72),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e.qZA()()(),e.TgZ(7,"div",11)(8,"div",12)(9,"label",73),e._uU(10,"Cash on Hand"),e.qZA()(),e.TgZ(11,"div",14)(12,"input",74),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e.qZA()()(),e.TgZ(13,"div",11)(14,"div",12)(15,"label",75),e._uU(16,"Working Capital"),e.qZA()(),e.TgZ(17,"div",14)(18,"input",76),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e.qZA()()(),e.TgZ(19,"div",11)(20,"div",12)(21,"label",77),e._uU(22,"Net Income"),e.qZA()(),e.TgZ(23,"div",14)(24,"input",78),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e.qZA()()(),e.TgZ(25,"div",11)(26,"div",12)(27,"label",79),e._uU(28,"25% * Annual Revenue"),e.qZA()(),e.TgZ(29,"div",14)(30,"input",80),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e.qZA()()(),e.TgZ(31,"div",11)(32,"div",12)(33,"label",81),e._uU(34,"Net Worth"),e.qZA()(),e.TgZ(35,"div",14)(36,"input",82),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e.qZA()()(),e.TgZ(37,"div",11)(38,"div",12)(39,"label",83),e._uU(40,"Unused Line of Credit"),e.qZA()(),e.TgZ(41,"div",14)(42,"input",84),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e.qZA()()(),e.TgZ(43,"div",11)(44,"div",12)(45,"label",85),e._uU(46,"Unused Line of Credit %"),e.qZA()(),e.TgZ(47,"div",14)(48,"input",86),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e.qZA()()(),e.TgZ(49,"div",11)(50,"div",12)(51,"label",87),e._uU(52,"Net Cash % "),e.qZA()(),e.TgZ(53,"div",14)(54,"input",88),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e.qZA()()(),e.TgZ(55,"div",11)(56,"div",12)(57,"label",89),e._uU(58,"Underbillings as a % of Total Assets "),e.qZA()(),e.TgZ(59,"div",14)(60,"input",90),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e.qZA()()(),e.TgZ(61,"div",11)(62,"div",12)(63,"label",91),e._uU(64,"PPP Loan"),e.qZA()(),e.TgZ(65,"div",14)(66,"input",92),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e.qZA()()(),e.TgZ(67,"div",11)(68,"div",12)(69,"label",93),e._uU(70,"Paydex Score"),e.qZA()(),e.TgZ(71,"div",14)(72,"input",94),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e.qZA()()()()}}function um(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1," Proposed Risk Mitigation is required"),e.qZA())}function mm(n,a){if(1&n&&(e.TgZ(0,"div",67),e.YNc(1,um,2,0,"div",22),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.saved&&t.riskReview.controls.risk_Mitigation.errors.required)}}function _m(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"input",103),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw(2).idleReset()}),e.qZA()}}function fm(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1," Proposed Risk Mitigation is required"),e.qZA())}function hm(n,a){if(1&n&&(e.TgZ(0,"div",67),e.YNc(1,fm,2,0,"div",22),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.saved&&t.riskReview.controls.financial_Types.errors.required)}}function gm(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"input",104),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw(2).idleReset()}),e.qZA()}}function vm(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Date of subcontractor financials is required"),e.qZA())}function ym(n,a){if(1&n&&(e.TgZ(0,"div",67),e.YNc(1,vm,2,0,"div",22),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.saved&&t.riskReview.controls.date_Of_Financials.errors.required)}}function Cm(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",11)(2,"div",12)(3,"label",95),e._uU(4,"Proposed Risk Mitigation"),e.TgZ(5,"span",24),e._uU(6,"*"),e.qZA()()(),e.TgZ(7,"div",14)(8,"select",96),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e.TgZ(9,"option",34),e._uU(10,"None"),e.qZA(),e.TgZ(11,"option",34),e._uU(12,"LTLW"),e.qZA(),e.TgZ(13,"option",34),e._uU(14,"Personal Guarantee"),e.qZA(),e.TgZ(15,"option",34),e._uU(16,"Bond"),e.qZA(),e.TgZ(17,"option",34),e._uU(18,"Parent Guarantee"),e.qZA(),e.TgZ(19,"option",34),e._uU(20,"Joint Checks"),e.qZA(),e.TgZ(21,"option",34),e._uU(22,"Letter of Credit"),e.qZA(),e.TgZ(23,"option",34),e._uU(24,"Related Company Guarantees"),e.qZA(),e.TgZ(25,"option",34),e._uU(26,"Others"),e.qZA()(),e.YNc(27,mm,2,1,"div",28),e.YNc(28,_m,1,0,"input",97),e.qZA()(),e.TgZ(29,"div",11)(30,"div",12)(31,"label",98),e._uU(32,"Type of Financials"),e.TgZ(33,"span",24),e._uU(34,"*"),e.qZA()()(),e.TgZ(35,"div",14)(36,"select",99),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e.TgZ(37,"option",34),e._uU(38,"Select"),e.qZA(),e.TgZ(39,"option",34),e._uU(40,"In-house Financials"),e.qZA(),e.TgZ(41,"option",34),e._uU(42,"Reviewed"),e.qZA(),e.TgZ(43,"option",34),e._uU(44,"Compiled"),e.qZA(),e.TgZ(45,"option",34),e._uU(46,"Audited"),e.qZA(),e.TgZ(47,"option",34),e._uU(48,"Tax Returns"),e.qZA(),e.TgZ(49,"option",34),e._uU(50,"Others"),e.qZA()(),e.YNc(51,hm,2,1,"div",28),e.YNc(52,gm,1,0,"input",100),e.qZA()(),e.TgZ(53,"div",11)(54,"div",68)(55,"label",101),e._uU(56,"Date of subcontractor financials "),e.TgZ(57,"span",24),e._uU(58,"*"),e.qZA()()(),e.TgZ(59,"div",14)(60,"div")(61,"input",102),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e.qZA(),e.YNc(62,ym,2,1,"div",28),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(8),e.Q6J("ngClass",e.VKq(24,O,t.saved&&t.riskReview.controls.risk_Mitigation.errors)),e.xp6(1),e.Q6J("ngValue",""),e.xp6(2),e.Q6J("ngValue","LTLW"),e.xp6(2),e.Q6J("ngValue","Personal Guarantee"),e.xp6(2),e.Q6J("ngValue","Bond"),e.xp6(2),e.Q6J("ngValue","Parent Guarantee"),e.xp6(2),e.Q6J("ngValue","Joint Checks"),e.xp6(2),e.Q6J("ngValue","Letter of Credit"),e.xp6(2),e.Q6J("ngValue","Related Company Guarantees"),e.xp6(2),e.Q6J("ngValue","Others"),e.xp6(2),e.Q6J("ngIf",t.saved&&t.riskReview.controls.risk_Mitigation.touched&&t.riskReview.controls.risk_Mitigation.errors),e.xp6(1),e.Q6J("ngIf","Others"==t.riskReview.value.risk_Mitigation),e.xp6(8),e.Q6J("ngClass",e.VKq(26,O,t.saved&&t.riskReview.controls.financial_Types.errors)),e.xp6(1),e.Q6J("ngValue",""),e.xp6(2),e.Q6J("ngValue","In-house Financials"),e.xp6(2),e.Q6J("ngValue","Reviewed"),e.xp6(2),e.Q6J("ngValue","Compiled"),e.xp6(2),e.Q6J("ngValue","Audited"),e.xp6(2),e.Q6J("ngValue","Tax Returns"),e.xp6(2),e.Q6J("ngValue","Others"),e.xp6(2),e.Q6J("ngIf",t.saved&&t.riskReview.controls.financial_Types.touched&&t.riskReview.controls.financial_Types.errors),e.xp6(1),e.Q6J("ngIf","Others"==t.riskReview.value.financial_Types),e.xp6(9),e.Q6J("ngClass",e.VKq(28,O,t.saved&&t.riskReview.controls.date_Of_Financials.errors)),e.xp6(1),e.Q6J("ngIf",t.saved&&t.riskReview.controls.date_Of_Financials.errors)}}function bm(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"CSRT Single Limit is required "),e.qZA())}function Tm(n,a){if(1&n&&(e.TgZ(0,"div",67),e.YNc(1,bm,2,0,"div",22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.saved&&t.riskReview.controls.csrt_Single_Limit.errors.required)}}function Zm(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"CSRT Aggregate Limit is required "),e.qZA())}function xm(n,a){if(1&n&&(e.TgZ(0,"div",67),e.YNc(1,Zm,2,0,"div",22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.saved&&t.riskReview.controls.csrt_Aggregate_Limit.errors.required)}}function Im(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Years of Operations is required"),e.qZA())}function Am(n,a){if(1&n&&(e.TgZ(0,"div",67),e.YNc(1,Im,2,0,"div",22),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.saved&&t.riskReview.controls.operational_Years.errors.required)}}function qm(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Largest Indicated Job is required"),e.qZA())}function Fm(n,a){if(1&n&&(e.TgZ(0,"div",67),e.YNc(1,qm,2,0,"div",22),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.saved&&t.riskReview.controls.largest_Indicated.errors.required)}}function Rm(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1," Bondable is required"),e.qZA())}function km(n,a){if(1&n&&(e.TgZ(0,"div",67),e.YNc(1,Rm,2,0,"div",22),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.saved&&t.riskReview.controls.bondable.errors.required)}}function Sm(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Bondable Single Limit is required "),e.qZA())}function wm(n,a){if(1&n&&(e.TgZ(0,"div",67),e.YNc(1,Sm,2,0,"div",22),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.saved&&t.riskReview.controls.bondable_Single_Limit.errors.required)}}function Nm(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Bondable Aggregate Limit is required "),e.qZA())}function Um(n,a){if(1&n&&(e.TgZ(0,"div",67),e.YNc(1,Nm,2,0,"div",22),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.saved&&t.riskReview.controls.bondable_Aggregate_Limit.errors.required)}}function Mm(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Signature Page is required"),e.qZA())}function Em(n,a){if(1&n&&(e.TgZ(0,"div",67),e.YNc(1,Mm,2,0,"div",22),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.saved&&t.riskReview.controls.signature_Page.errors.required)}}function Om(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Red Flags Notes is required"),e.qZA())}function Pm(n,a){if(1&n&&(e.TgZ(0,"div",67),e.YNc(1,Om,2,0,"div",22),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.saved&&t.riskReview.controls.red_Flags.errors.required)}}function Jm(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Red Flags D&B Notes is required"),e.qZA())}function jm(n,a){if(1&n&&(e.TgZ(0,"div",67),e.YNc(1,Jm,2,0,"div",22),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.saved&&t.riskReview.controls.red_Flags_DB.errors.required)}}function Ym(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",11)(2,"div",12)(3,"label",105),e._uU(4,"Years of Operations"),e.TgZ(5,"span",24),e._uU(6,"*"),e.qZA()()(),e.TgZ(7,"div",14)(8,"input",106),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e.qZA(),e.YNc(9,Am,2,1,"div",28),e.qZA()(),e.TgZ(10,"div",11)(11,"div",12)(12,"label",107),e._uU(13,"Largest Indicated Job"),e.TgZ(14,"span",24),e._uU(15,"*"),e.qZA()()(),e.TgZ(16,"div",14)(17,"input",108),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()})("keydown",function(o){return e.CHM(t),e.oxw().numberCheck(o)})("keyup",function(o){e.CHM(t);const r=e.oxw();return r.CommaFormatted(o,"largest_Indicated",r.riskReview)}),e.qZA(),e.YNc(18,Fm,2,1,"div",28),e.qZA()(),e.TgZ(19,"div",11)(20,"div",12)(21,"label",109),e._uU(22,"Bondable "),e.TgZ(23,"span",24),e._uU(24,"*"),e.qZA()()(),e.TgZ(25,"div",18)(26,"select",110),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e.TgZ(27,"option",34),e._uU(28,"Select"),e.qZA(),e.TgZ(29,"option",34),e._uU(30,"Yes"),e.qZA(),e.TgZ(31,"option",34),e._uU(32,"No"),e.qZA()(),e.YNc(33,km,2,1,"div",28),e.qZA(),e.TgZ(34,"div",12)(35,"div",8)(36,"div",46)(37,"label",111),e._uU(38,"Single Limit:"),e.TgZ(39,"span",24),e._uU(40,"*"),e.qZA()()(),e.TgZ(41,"div",48)(42,"input",112),e.NdJ("keydown",function(o){return e.CHM(t),e.oxw().numberCheck(o)})("keyup",function(o){e.CHM(t);const r=e.oxw();return r.CommaFormatted(o,"bondable_Single_Limit",r.riskReview)}),e.qZA()(),e.YNc(43,wm,2,1,"div",28),e.qZA()(),e.TgZ(44,"div",12)(45,"div",8)(46,"div",46)(47,"label",113),e._uU(48,"Aggregate Limit:"),e.TgZ(49,"span",24),e._uU(50,"*"),e.qZA()()(),e.TgZ(51,"div",48)(52,"input",114),e.NdJ("keydown",function(o){return e.CHM(t),e.oxw().numberCheck(o)})("keyup",function(o){e.CHM(t);const r=e.oxw();return r.CommaFormatted(o,"bondable_Aggregate_Limit",r.riskReview)}),e.qZA()(),e.YNc(53,Um,2,1,"div",28),e.qZA()()(),e.TgZ(54,"div",11)(55,"div",12)(56,"label",115),e._uU(57,"Signature Page"),e.TgZ(58,"span",24),e._uU(59,"*"),e.qZA()()(),e.TgZ(60,"div",14)(61,"input",116),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e.qZA(),e.YNc(62,Em,2,1,"div",28),e.qZA()(),e.TgZ(63,"div",11)(64,"div",12)(65,"label",117),e._uU(66,"Red Flags Notes"),e.TgZ(67,"span",24),e._uU(68,"*"),e.qZA()()(),e.TgZ(69,"div",14)(70,"textarea",118),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e._uU(71,"                                        "),e.qZA(),e.YNc(72,Pm,2,1,"div",28),e.qZA()(),e.TgZ(73,"div",11)(74,"div",12)(75,"label",119),e._uU(76,"Red Flags - D&B Notes "),e.TgZ(77,"span",24),e._uU(78,"*"),e.qZA()()(),e.TgZ(79,"div",14)(80,"textarea",120),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e._uU(81,"                                        "),e.qZA(),e.YNc(82,jm,2,1,"div",28),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(8),e.Q6J("ngClass",e.VKq(19,O,t.saved&&t.riskReview.controls.operational_Years.errors)),e.xp6(1),e.Q6J("ngIf",t.saved&&t.riskReview.controls.operational_Years.touched&&t.riskReview.controls.operational_Years.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(21,O,t.saved&&t.riskReview.controls.largest_Indicated.errors)),e.xp6(1),e.Q6J("ngIf",t.saved&&t.riskReview.controls.largest_Indicated.touched&&t.riskReview.controls.largest_Indicated.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(23,O,t.saved&&t.riskReview.controls.bondable.errors)),e.xp6(1),e.Q6J("ngValue",""),e.xp6(2),e.Q6J("ngValue","yes"),e.xp6(2),e.Q6J("ngValue","no"),e.xp6(2),e.Q6J("ngIf",t.saved&&t.riskReview.controls.bondable.touched&&t.riskReview.controls.bondable.errors),e.xp6(9),e.Q6J("ngClass",e.VKq(25,O,t.saved&&t.riskReview.controls.bondable_Single_Limit.errors)),e.xp6(1),e.Q6J("ngIf",t.saved&&t.riskReview.controls.bondable_Single_Limit.touched&&t.riskReview.controls.bondable_Single_Limit.errors),e.xp6(9),e.Q6J("ngClass",e.VKq(27,O,t.saved&&t.riskReview.controls.bondable_Aggregate_Limit.errors)),e.xp6(1),e.Q6J("ngIf",t.saved&&t.riskReview.controls.bondable_Aggregate_Limit.touched&&t.riskReview.controls.bondable_Aggregate_Limit.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(29,O,t.saved&&t.riskReview.controls.signature_Page.errors)),e.xp6(1),e.Q6J("ngIf",t.saved&&t.riskReview.controls.signature_Page.touched&&t.riskReview.controls.signature_Page.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(31,O,t.saved&&t.riskReview.controls.red_Flags.errors)),e.xp6(2),e.Q6J("ngIf",t.saved&&t.riskReview.controls.red_Flags.touched&&t.riskReview.controls.red_Flags.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(33,O,t.saved&&t.riskReview.controls.red_Flags_DB.errors)),e.xp6(2),e.Q6J("ngIf",t.saved&&t.riskReview.controls.red_Flags_DB.touched&&t.riskReview.controls.red_Flags_DB.errors)}}function Lm(n,a){1&n&&(e.TgZ(0,"span",24),e._uU(1,"*"),e.qZA())}function Dm(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1," Risk Financial Grade is required"),e.qZA())}function Qm(n,a){if(1&n&&(e.TgZ(0,"div",67),e.YNc(1,Dm,2,0,"div",22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.saved&&t.riskReview.controls.financial_Grade.errors&&t.riskReview.controls.financial_Grade.errors.required)}}function Vm(n,a){1&n&&(e.TgZ(0,"span",24),e._uU(1,"*"),e.qZA())}function Bm(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Risk Financial Grade Notes is required"),e.qZA())}function Gm(n,a){if(1&n&&(e.TgZ(0,"div",67),e.YNc(1,Bm,2,0,"div",22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.saved&&t.riskReview.controls.risk_Financial_Grade_Notes.errors&&t.riskReview.controls.risk_Financial_Grade_Notes.errors.required)}}function Km(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Prequalification Expiry Date is required"),e.qZA())}function Hm(n,a){if(1&n&&(e.TgZ(0,"div",67),e.YNc(1,Km,2,0,"div",22),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.saved&&t.riskReview.controls.prequal_Expiry_Date.errors.required)}}function zm(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",11)(1,"div",68)(2,"label",121),e._uU(3,"Prequalification Expiry Date "),e.TgZ(4,"span",24),e._uU(5,"*"),e.qZA()()(),e.TgZ(6,"div",14)(7,"div")(8,"input",122),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().idleReset()}),e.qZA(),e.YNc(9,Hm,2,1,"div",28),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(8),e.Q6J("ngClass",e.VKq(2,O,t.saved&&t.riskReview.controls.prequal_Expiry_Date.errors)),e.xp6(1),e.Q6J("ngIf",t.saved&&t.riskReview.controls.prequal_Expiry_Date.errors)}}function $m(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",123),e.NdJ("click",function(){return e.CHM(t),e.oxw().saveOrSubmit("REVIEW")}),e._uU(1,"SEND FOR RISK REVIEW II"),e.qZA()}}function Wm(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",123),e.NdJ("click",function(){return e.CHM(t),e.oxw().saveOrSubmit("CANCEL")}),e._uU(1,"CANCEL INTERIM REVIEW"),e.qZA()}}function Xm(n,a){1&n&&e._UZ(0,"div",18)}const e_=function(n){return{"bg-grey":n}};let t_=(()=>{class n{constructor(t,i,o,r,l,c,d,p,_,v,g,C){this.formBuilder=t,this.router=i,this.bnIdle=o,this.keepalive=r,this.toastr=l,this.financialservice=c,this.financialstatementdataservice=d,this.logininfo=p,this.ngxUiLoader=_,this.summaryservice=v,this.dialog=g,this._decimalPipe=C,this.isInterim=!1,this.userRole="",this.tempcompanyid=0,this.showdisabled=!1,this.preQualificationStatus="",this.riskReview=this.formBuilder.group({risk_Mitigation:["",[s.kI.required]],financial_Types:["",[s.kI.required]],risk_Mitigation1:[""],financial_Types1:[""],date_Of_Financials:["",[s.kI.required]],csrt_Single_Limit:["",[s.kI.required]],csrt_Aggregate_Limit:["",[s.kI.required]],operational_Years:["",[s.kI.required]],largest_Indicated:["",[s.kI.required]],bondable:["",[s.kI.required]],bondable_Single_Limit:["",[s.kI.required]],bondable_Aggregate_Limit:["",[s.kI.required]],signature_Page:["",[s.kI.required]],red_Flags:["",[s.kI.required]],red_Flags_DB:["",[s.kI.required]],financial_Grade:[""],risk_Financial_Grade_Notes:[""],prequal_Expiry_Date:["",[s.kI.required]]}),this.saved=!1,this.summary=this.formBuilder.group({id:0,companyId:[""],project_Name:[""],project_value_Detail:[""],project_Notes:[""],work_Type:["",[]],safety_Grade_Cal:["",[]],safety_Grade_Selc:["",[]],grade_Notes:["",[s.kI.required]],safety_Notes:["",[]],risk_Inputs:["",[s.kI.required]]}),this.automatedReview=this.formBuilder.group({financial_Grade:["",[]],prev_year_CSRT_Single:["",[]],prev_year_CSRT_Agg:["",[]],anticipated_work_Size:["",[]],cash_hand:["",[]],working_Capital:["",[]],net_Income:["",[]],annual_Revenue:["",[]],net_Worth:["",[]],credit_line:["",[]],credit_line_Pecentage:["",[]],net_Cash:["",[]],underbillings:["",[]],ppp_Loan:["",[]],interim_Date_Of_Financials:["",[]],paydex_Score:["",[]]});let T=localStorage.getItem("userDetails");T=JSON.parse(atob(T));var w=localStorage.getItem("preQualStatus");w&&(w=atob(w),this.preQualificationStatus=w,this.isInterim="Interim Review"==w),this.isInterim&&(this.summary.disable(),this.summary.clearValidators(),this.riskReview.clearValidators(),this.riskReview.updateValueAndValidity(),this.riskReview.controls.csrt_Single_Limit.setValidators([s.kI.required]),this.riskReview.controls.csrt_Aggregate_Limit.setValidators([s.kI.required]),this.riskReview.controls.csrt_Single_Limit.updateValueAndValidity(),this.riskReview.controls.csrt_Aggregate_Limit.updateValueAndValidity()),this.userDetails=T,this.userRole=T.role;let y=localStorage.getItem("tempcompanyid");this.tempcompanyid=Number(y?atob(y):0),localStorage.setItem("currPage","summary"),this.showdisabled="Under Risk Review II"==this.preQualificationStatus?"RiskUser"==this.userRole:"Risk Review II"==this.preQualificationStatus?"Subcontractor"==this.userRole||"Risk 1"==this.userRole:"Reviewed & Prequalified"==this.preQualificationStatus}getRecords(t){(this.isInterim?this.summaryservice.getInterimRecords(t):this.summaryservice.getRecords(t)).subscribe(o=>{console.log(o),o.length>0&&(this.setFormData(o[0]),this.summaryData=o[0])})}ngAfterViewInit(){console.log(this.tempcompanyid),this.tempcompanyid>0&&"Subcontractor"!=this.userRole&&this.getRecords(this.tempcompanyid)}saveOrSubmit(t){if("CANCEL"==t)this.dialog.open(ue,{width:"350px",data:"Do you want to Cancel Interim Review, Are you sure ?"}).afterClosed().subscribe(c=>{console.log("The dialog was closed"),"Yes"==c&&this.financialstatementdataservice.cancelinterim(this.tempcompanyid).subscribe(d=>{})});else if(this.saved=!0,this.isInterim?this.riskReview.controls.csrt_Aggregate_Limit.valid&&this.riskReview.controls.csrt_Single_Limit.valid:this.summary.valid&&this.riskReview.valid){var o=[],r=this.formMethod();"SAVE"!=t?"APPROVED"==t?this.dialog.open(ue,{width:"350px",data:"Do you want to Approved & Send info to VP , Are you sure ?"}).afterClosed().subscribe(c=>{console.log("The dialog was closed"),"Yes"==c&&this.reviewOrApprove(o,r,t)}):this.reviewOrApprove(o,r,t):(r.append("Summary.Interim",this.isInterim),o.push(0==this.summary.value.id?this.summaryservice.addRecord(r):this.summaryservice.updateRecord(r,this.summary.value.id)),(0,ce.D)(o).subscribe(l=>{this.toastr.success("Risk Summary Information saved successfully","Risk Summary"),this.getRecords(this.tempcompanyid)},l=>{console.log(l)}))}}reviewOrApprove(t,i,o){i.append("Summary.Interim",this.isInterim),"APPROVED"==o&&i.append("Summary.ApprovedDate",(new Date).toLocaleString()),t.push(0==this.summary.value.id?this.summaryservice.addRecord(i):this.summaryservice.updateRecord(i,this.summary.value.id));var r="REVIEW"==o?"Under Risk Review II":"Reviewed & Prequalified",l=new FormData;l.append("preQualification_Status",this.logininfo.validateEmpty(r)),l.append("User_Type",this.userRole),t.push(this.financialservice.updateOrgRecord(l,this.tempcompanyid)),(0,ce.D)(t).subscribe(c=>{this.toastr.success("Summary Information saved successfully","Summary"),this.getRecords(this.tempcompanyid)},c=>{console.log(c)})}setFormData(t){if(t){console.log("sss",t);var i=t.summary;if(this.summary.patchValue({grade_Notes:this.logininfo.validateEmpty(i.gradeChangeNotes)}),this.riskReview.patchValue({date_Of_Financials:this.logininfo.validateEmpty(i.dateOfSubFinancials).split("T")[0]}),i&&i.id){const r=["","LTLW","Personal Guarantee","Bond","Parent Guarantee","Joint Checks","Letter of Credit","Related Company Guarantees","Others"],l=["","In-house Financials","Reviewed","Compiled","Audited","Tax Returns","Others"].includes(this.logininfo.validateEmpty(i.typeOfFinancials)),c=r.includes(this.logininfo.validateEmpty(i.proposedRiskMigration));this.summary.patchValue({id:i.id,companyId:this.tempcompanyid,project_Name:this.logininfo.validateEmpty(i.projectName),project_value_Detail:this.logininfo.validateEmpty(i.subContractValue).toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","),project_Notes:this.logininfo.validateEmpty(i.projectNotes),grade_Notes:this.logininfo.validateEmpty(i.gradeChangeNotes),risk_Inputs:this.logininfo.validateEmpty(i.safetyReviewRiskInput)}),this.riskReview.patchValue({risk_Mitigation:c?this.logininfo.validateEmpty(i.proposedRiskMigration):"Others",risk_Mitigation1:c?"":this.logininfo.validateEmpty(i.proposedRiskMigration),financial_Types:l?this.logininfo.validateEmpty(i.typeOfFinancials):"Others",financial_Types1:l?"":this.logininfo.validateEmpty(i.typeOfFinancials),date_Of_Financials:this.logininfo.validateEmpty(i.dateOfSubFinancials).split("T")[0],csrt_Single_Limit:0==i.csrtSingleLimit?"":this.logininfo.validateEmpty(i.csrtSingleLimit).toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","),csrt_Aggregate_Limit:0==i.csrtAggLimit?"":this.logininfo.validateEmpty(i.csrtAggLimit).toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","),operational_Years:this.logininfo.validateEmpty(i.yearOfWork),largest_Indicated:this.logininfo.validateEmpty(i.largestIndicatedJob).toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","),bondable:this.logininfo.validateEmpty(i.bondable),bondable_Single_Limit:this.logininfo.validateEmpty(i.bondableSingleLimit).toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","),bondable_Aggregate_Limit:this.logininfo.validateEmpty(i.bondableAggLimit).toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","),signature_Page:this.logininfo.validateEmpty(i.signaturePage),red_Flags:this.logininfo.validateEmpty(i.redFlagsNotes),red_Flags_DB:this.logininfo.validateEmpty(i.redFlagsDBNotes),financial_Grade:this.logininfo.validateEmpty(i.riskFinancialGrade),risk_Financial_Grade_Notes:this.logininfo.validateEmpty(i.riskFinancialGradeNotes),prequal_Expiry_Date:""==this.logininfo.validateEmpty(i.prequalificationExpiryDate)||"0001-01-01T00:00:00"==this.logininfo.validateEmpty(i.prequalificationExpiryDate)?"":this.logininfo.validateEmpty(i.prequalificationExpiryDate).split("T")[0]})}this.summary.patchValue({work_Type:this.logininfo.validateEmpty(t.workTypes),safety_Grade_Cal:this.logininfo.validateEmpty(t.safetyGradeCalculated),safety_Grade_Selc:this.logininfo.validateEmpty(t.safetyGradeSelected),safety_Notes:this.logininfo.validateEmpty(t.safetyReviewNotes)}),this.automatedReview.patchValue({interim_Date_Of_Financials:this.logininfo.validateEmpty(i.dateOfSubFinancials).split("T")[0],financial_Grade:this.logininfo.validateEmpty(t.financialGrade),prev_year_CSRT_Single:this.logininfo.validateEmpty(t.prevCSRT).toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","),prev_year_CSRT_Agg:this.logininfo.validateEmpty(t.prevCSRTAggLimit).toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","),anticipated_work_Size:this.logininfo.validateEmpty(t.sizeOfWork),cash_hand:this.logininfo.validateEmpty(t.cashOnHand).toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","),working_Capital:this.logininfo.validateEmpty(t.workCapital).toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","),net_Income:this.logininfo.validateEmpty(t.netIncome).toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","),annual_Revenue:this.logininfo.validateEmpty(t.quarterOfAnnualRevenue).toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","),net_Worth:this.logininfo.validateEmpty(t.netWorth).toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","),credit_line:this.logininfo.validateEmpty(t.unusedLOC).toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","),credit_line_Pecentage:this.logininfo.validateEmpty(t.unusedLOCPercentage),net_Cash:this.logininfo.validateEmpty(t.netCashPercentage),underbillings:this.logininfo.validateEmpty(t.underbilling),ppp_Loan:this.logininfo.validateEmpty(t.pppLoan).toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","),paydex_Score:this.logininfo.validateEmpty(t.payDex)})}}ngOnInit(){console.log("init"),this.showdisabled&&(this.automatedReview.disable(),this.riskReview.disable(),this.summary.disable())}formMethod(){var t=new FormData;return t.append("Summary.Id",this.summary.value.id),t.append("Summary.CompanyId",String(this.tempcompanyid)),t.append("Summary.ProjectName",this.logininfo.validateEmpty(this.summary.value.project_Name)),t.append("Summary.ProjectNotes",this.logininfo.validateEmpty(this.summary.value.project_Notes)),t.append("Summary.SubContractValue",""==this.summary.value.project_value_Detail?-1:this.logininfo.validateEmpty(this.summary.value.project_value_Detail).replace(/,/g,"")),t.append("Summary.GradeChangeNotes",this.logininfo.validateEmpty(this.summary.value.grade_Notes)),t.append("Summary.SafetyReviewRiskInput",this.logininfo.validateEmpty(this.summary.value.risk_Inputs)),t.append("Summary.ProposedRiskMigration","Others"==this.logininfo.validateEmpty(this.riskReview.value.risk_Mitigation)?this.riskReview.value.risk_Mitigation1:this.logininfo.validateEmpty(this.riskReview.value.risk_Mitigation)),t.append("Summary.TypeOfFinancials","Others"==this.logininfo.validateEmpty(this.riskReview.value.financial_Types)?this.riskReview.value.financial_Types1:this.logininfo.validateEmpty(this.riskReview.value.financial_Types)),t.append("Summary.DateOfSubFinancials",this.logininfo.validateEmpty(this.riskReview.value.date_Of_Financials)),t.append("Summary.CSRTSingleLimit",this.logininfo.validateEmpty(this.riskReview.value.csrt_Single_Limit).replace(/,/g,"")),t.append("Summary.CSRTAggLimit",this.logininfo.validateEmpty(this.riskReview.value.csrt_Aggregate_Limit).replace(/,/g,"")),t.append("Summary.YearOfWork",this.logininfo.validateEmpty(this.riskReview.value.operational_Years)),t.append("Summary.LargestIndicatedJob",this.logininfo.validateEmpty(this.riskReview.value.largest_Indicated).replace(/,/g,"")),t.append("Summary.Bondable",this.logininfo.validateEmpty(this.riskReview.value.bondable)),t.append("Summary.BondableSingleLimit",this.logininfo.validateEmpty(this.riskReview.value.bondable_Single_Limit).replace(/,/g,"")),t.append("Summary.BondableAggLimit",this.logininfo.validateEmpty(this.riskReview.value.bondable_Aggregate_Limit).replace(/,/g,"")),t.append("Summary.SignaturePage",this.logininfo.validateEmpty(this.riskReview.value.signature_Page)),t.append("Summary.RedFlagsNotes",this.logininfo.validateEmpty(this.riskReview.value.red_Flags)),t.append("Summary.RedFlagsDBNotes",this.logininfo.validateEmpty(this.riskReview.value.red_Flags_DB)),t.append("Summary.RiskFinancialGrade",this.logininfo.validateEmpty(this.riskReview.value.financial_Grade)),t.append("Summary.RiskFinancialGradeNotes",this.logininfo.validateEmpty(this.riskReview.value.risk_Financial_Grade_Notes)),t.append("Summary.PrequalificationExpiryDate",this.logininfo.validateEmpty(this.riskReview.value.prequal_Expiry_Date)),t}getDefaultValue(t,i){var o=this.logininfo.validateEmpty(t);return""!=o?o:this.summaryData[i]}idleReset(){}CommaFormatted(t,i,o){var r,l;t.AT_TARGET>=37&&t.AT_TARGET<=40||o.patchValue({[i]:null===(l=null===(r=o.get(i))||void 0===r?void 0:r.value)||void 0===l?void 0:l.replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,",")})}numberCheck(t){return!("e"===t.key||"+"===t.key||"-"===t.key)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.qu),e.Y36(U.F0),e.Y36(K.d),e.Y36(Q.A),e.Y36(L._W),e.Y36(pe.h),e.Y36(be),e.Y36(D),e.Y36(V.LA),e.Y36(em),e.Y36(te.uw),e.Y36(f.JJ))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-summary"]],decls:113,vars:31,consts:[[1,"col-lg-12","px-2","py-2","my-2","form-bg",3,"ngClass"],[1,"form-group","input-group","row"],[1,"col-lg-12","py-1","mx-auto"],["class","row",4,"ngIf"],[1,"row","pt-5"],[1,"col-lg-12"],[1,"row","col-curve-top","bg-white","mx-0","px-0","pt-2","pb-3"],[3,"formGroup","keydown.enter"],[1,"row"],[1,"col-6","pull-left","pt-1"],[1,"fw-bold"],[1,"row","pt-3"],[1,"col-3"],["for","financial_Grade",1,"my-auto","font-italic"],[1,"col-8"],["type","text","formControlName","financial_Grade","id","financial_Grade","name","financial_Grade","readonly","",1,"form-control",3,"ngModelChange"],[1,"my-auto","font-italic"],["type","text","formControlName","prev_year_CSRT_Single","id","prev_year_CSRT_Single","name","prev_year_CSRT_Single","readonly","",1,"form-control"],[1,"col-2"],["for","safety_Grade_Selc",1,"my-auto","font-italic"],["type","text","formControlName","prev_year_CSRT_Agg","id","prev_year_CSRT_Agg","name","prev_year_CSRT_Agg","readonly","",1,"form-control"],["class","row pt-3",4,"ngIf"],[4,"ngIf"],["for","safety_Grade_Cal",1,"my-auto","font-italic"],[1,"text-danger"],[1,"col-4"],["for","csrt_Single_Limit",1,"my-auto","font-italic"],["type","text","formControlName","csrt_Single_Limit","id","csrt_Single_Limit","name","csrt_Single_Limit",1,"form-control",3,"ngClass","keydown","keyup"],["class","invalid-feedback",4,"ngIf"],["for","csrt_Aggregate_Limit",1,"my-auto","font-italic"],["type","text","formControlName","csrt_Aggregate_Limit","id","csrt_Aggregate_Limit","name","csrt_Aggregate_Limit",1,"form-control",3,"ngClass","keydown","keyup"],["for","financial_Grade",1,"my-auto","font-italic","float-right"],["class","text-danger",4,"ngIf"],["formControlName","financial_Grade","id","financial_Grade","name","financial_Grade",1,"form-control","form-select",3,"ngModelChange"],[3,"ngValue"],["for","risk_Financial_Grade_Notes",1,"my-auto","font-italic","float-right"],["type","text","formControlName","risk_Financial_Grade_Notes","id","risk_Financial_Grade_Notes","name","risk_Financial_Grade_Notes",1,"form-control",3,"ngModelChange"],[1,"row","text-end","mx-lg-4","my-3"],[1,"btn","float-start","btn","default-btn"],[1,"col-6"],["type","button",1,"btn","mx-2","default-btn",3,"click"],[1,"row","text-end","mx-4","my-3"],["class","btn float-start btn default-btn",3,"click",4,"ngIf"],["class","col-2",4,"ngIf"],[1,"btn","btn-success","default-btn",3,"click"],[1,"row","pt-1"],[1,"col-5"],[1,"row","pt-2"],[1,"col-7"],["for","project_Name",1,"my-auto","font-italic"],["type","text","formControlName","project_Name","id","project-Name","name","project_Name",1,"form-control",3,"ngClass"],["for","project_value_Detail",1,"my-auto","font-italic"],["type","text","formControlName","project_value_Detail","id","project_value_Detail","name","project_value_Detail",1,"form-control",3,"ngClass","keydown","keyup"],[1,"row",2,"height","100%"],[1,"col-3","pt-2",2,"padding-left","0%","padding-right","0%","max-width","21%"],[1,"col-8","pt-2"],["type","text","formControlName","project_Notes","id","project_Notes","name","project_Notes",1,"form-control",2,"height","100%","width","95%",3,"ngClass"],["for","work_Type",1,"my-auto","font-italic"],["type","text","formControlName","work_Type","id","work_Type","name","work_Type","readonly","",1,"form-control",3,"ngModelChange"],["type","text","formControlName","safety_Grade_Cal","id","safety_Grade_Cal","name","safety_Grade_Cal","readonly","",1,"form-control"],["type","text","formControlName","safety_Grade_Selc","id","safety_Grade_Selc","name","safety_Grade_Selc","readonly","",1,"form-control"],["for","grade_Notes",1,"my-auto","font-italic","float-right"],["type","text","formControlName","grade_Notes","id","grade_Notes","name","grade_Notes","readonly","",1,"form-control",3,"ngModelChange"],["for","safety_Notes",1,"my-auto","font-italic","float-right"],["type","text","formControlName","safety_Notes","id","safety_Notes","name","safety_Notes","readonly","",1,"form-control",3,"ngModelChange"],["for","risk_Inputs",1,"my-auto","font-italic","float-right"],["type","text","formControlName","risk_Inputs","id","risk_Inputs","name","risk_Inputs",1,"form-control",3,"ngClass","ngModelChange"],[1,"invalid-feedback"],[1,"col-3","my-auto"],["for","interim_Date_Of_Financials",1,"my-auto","font-italic"],["type","date","row","5","formControlName","interim_Date_Of_Financials","id","interim_Date_Of_Financials","name","interim_Date_Of_Financials","readonly","true",1,"form-control"],["for","anticipated_work_Size",1,"my-auto","font-italic"],["type","text","formControlName","anticipated_work_Size","id","anticipated_work_Size","name","anticipated_work_Size","readonly","",1,"form-control",3,"ngModelChange"],["for","cash_hand",1,"my-auto","font-italic"],["type","text","formControlName","cash_hand","id","cash_hand","name","cash_hand","readonly","",1,"form-control",3,"ngModelChange"],["for","working_Capital",1,"my-auto","font-italic"],["type","text","formControlName","working_Capital","id","working_Capital","name","working_Capital","readonly","",1,"form-control",3,"ngModelChange"],["for","net_Income",1,"my-auto","font-italic"],["type","text","formControlName","net_Income","id","net_Income","name","net_Income","readonly","",1,"form-control",3,"ngModelChange"],["for","annual_Revenue",1,"my-auto","font-italic"],["type","text","formControlName","annual_Revenue","id","annual_Revenue","name","annual_Revenue","readonly","",1,"form-control",3,"ngModelChange"],["for","net_Worth",1,"my-auto","font-italic"],["type","text","formControlName","net_Worth","id","net_Worth","name","net_Worth","readonly","",1,"form-control",3,"ngModelChange"],["for","credit_line",1,"my-auto","font-italic"],["type","text","formControlName","credit_line","id","credit_line","name","credit_line","readonly","",1,"form-control",3,"ngModelChange"],["for","credit_line_Pecentage",1,"my-auto","font-italic"],["type","text","formControlName","credit_line_Pecentage","id","credit_line_Pecentage","name","credit_line_Pecentage","readonly","",1,"form-control",3,"ngModelChange"],["for","net_Cash",1,"my-auto","font-italic"],["type","text","formControlName","net_Cash","id","net_Cash","name","net_Cash","readonly","",1,"form-control",3,"ngModelChange"],["for","underbillings",1,"my-auto","font-italic"],["type","text","formControlName","underbillings","id","underbillings","name","underbillings","readonly","",1,"form-control",3,"ngModelChange"],["for","ppp_Loan",1,"my-auto","font-italic"],["type","text","formControlName","ppp_Loan","id","ppp_Loan","name","ppp_Loan","readonly","",1,"form-control",3,"ngModelChange"],["for","paydex_Score",1,"my-auto","font-italic"],["type","text","formControlName","paydex_Score","id","paydex_Score","name","paydex_Score","readonly","",1,"form-control",3,"ngModelChange"],["for","risk_Mitigation",1,"my-auto","font-italic"],["formControlName","risk_Mitigation","id","risk_Mitigation","name","risk_Mitigation",1,"form-control","form-select",3,"ngClass","ngModelChange"],["type","text","class","form-control","style","margin-top: 10px;","formControlName","risk_Mitigation1","id","risk_Mitigation1","name","risk_Mitigation1",3,"ngModelChange",4,"ngIf"],["for","financial_Types",1,"my-auto","font-italic"],["formControlName","financial_Types","id","financial_Types","name","financial_Types",1,"form-control","form-select",3,"ngClass","ngModelChange"],["type","text","class","form-control","style","margin-top: 10px;","formControlName","financial_Types1","id","financial_Types1","name","financial_Types1",3,"ngModelChange",4,"ngIf"],["for","date_Of_Financials",1,"my-auto","font-italic"],["type","date","row","5","formControlName","date_Of_Financials","id","date_Of_Financials","name","date_Of_Financials",1,"form-control",3,"ngClass","ngModelChange"],["type","text","formControlName","risk_Mitigation1","id","risk_Mitigation1","name","risk_Mitigation1",1,"form-control",2,"margin-top","10px",3,"ngModelChange"],["type","text","formControlName","financial_Types1","id","financial_Types1","name","financial_Types1",1,"form-control",2,"margin-top","10px",3,"ngModelChange"],["for","operational_Years",1,"my-auto","font-italic","float-right"],["type","number","formControlName","operational_Years","id","operational_Years","name","operational_Years",1,"form-control",3,"ngClass","ngModelChange"],["for","largest_Indicated",1,"my-auto","font-italic","float-right"],["type","text","formControlName","largest_Indicated","id","largest_Indicated","name","largest_Indicated",1,"form-control",3,"ngClass","ngModelChange","keydown","keyup"],["for","bondable",1,"my-auto","font-italic"],["formControlName","bondable","id","bondable","name","bondable",1,"form-control","form-select",3,"ngClass","ngModelChange"],["for","bondable_Single_Limit",1,"my-auto","font-italic"],["type","text","formControlName","bondable_Single_Limit","id","bondable_Single_Limit","name","bondable_Single_Limit",1,"form-control",3,"ngClass","keydown","keyup"],["for","bondable_Aggregate_Limit",1,"my-auto","font-italic"],["type","text","formControlName","bondable_Aggregate_Limit","id","bondable_Aggregate_Limit","name","bondable_Aggregate_Limit",1,"form-control",3,"ngClass","keydown","keyup"],["for","signature_Page",1,"my-auto","font-italic","float-right"],["type","text","formControlName","signature_Page","id","signature_Page","name","signature_Page",1,"form-control",3,"ngClass","ngModelChange"],["for","red_Flags",1,"my-auto","font-italic","float-right"],["type","text","formControlName","red_Flags","id","red_Flags","name","red_Flags",1,"form-control",3,"ngClass","ngModelChange"],["for","red_Flags_DB",1,"my-auto","font-italic","float-right"],["type","text","formControlName","red_Flags_DB","id","red_Flags_DB","name","red_Flags_DB",1,"form-control",3,"ngClass","ngModelChange"],["for","prequal_Expiry_Date",1,"my-auto","font-italic"],["type","date","row","5","formControlName","prequal_Expiry_Date","id","prequal_Expiry_Date","name","prequal_Expiry_Date",1,"form-control",3,"ngClass","ngModelChange"],[1,"btn","float-start","btn","default-btn",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.ynx(3),e.YNc(4,cm,73,17,"div",3),e.TgZ(5,"div",4)(6,"div",5)(7,"div",6)(8,"form",7),e.NdJ("keydown.enter",function(r){return r.preventDefault()}),e.TgZ(9,"div",8)(10,"div",9)(11,"h6",10),e._uU(12,"Automated Risk Review - Summary "),e.qZA()()(),e.TgZ(13,"div",11)(14,"div",12)(15,"label",13),e._uU(16,"Financial Grade "),e.qZA()(),e.TgZ(17,"div",14)(18,"input",15),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.qZA()()(),e.TgZ(19,"div",11)(20,"div",12)(21,"label",16),e._uU(22,"Previous Year CSRT"),e.qZA()(),e.TgZ(23,"div",12),e._UZ(24,"input",17),e.qZA(),e.TgZ(25,"div",18)(26,"label",19),e._uU(27," Aggregate limit"),e.qZA()(),e.TgZ(28,"div",12),e._UZ(29,"input",20),e.qZA()(),e.YNc(30,dm,7,0,"div",21),e.YNc(31,pm,73,0,"div",22),e.qZA()()()(),e.TgZ(32,"div",4)(33,"div",5)(34,"div",6)(35,"form",7),e.NdJ("keydown.enter",function(r){return r.preventDefault()}),e.TgZ(36,"div",11)(37,"div",9)(38,"h6",10),e._uU(39,"Risk Reviewer Inputs "),e.qZA()()(),e.YNc(40,Cm,63,30,"div",22),e.TgZ(41,"div",11)(42,"div",12)(43,"label",23),e._uU(44,"CSRT "),e.TgZ(45,"span",24),e._uU(46,"*"),e.qZA()()(),e.TgZ(47,"div",25)(48,"div",8)(49,"div",25)(50,"label",26),e._uU(51,"Single Limit:"),e.TgZ(52,"span",24),e._uU(53,"*"),e.qZA()()(),e.TgZ(54,"div",14)(55,"input",27),e.NdJ("keydown",function(r){return i.numberCheck(r)})("keyup",function(r){return i.CommaFormatted(r,"csrt_Single_Limit",i.riskReview)}),e.qZA()(),e.YNc(56,Tm,2,1,"div",28),e.qZA()(),e.TgZ(57,"div",25)(58,"div",8)(59,"div",25)(60,"label",29),e._uU(61,"Aggregate Limit:"),e.TgZ(62,"span",24),e._uU(63,"*"),e.qZA()()(),e.TgZ(64,"div",14)(65,"input",30),e.NdJ("keydown",function(r){return i.numberCheck(r)})("keyup",function(r){return i.CommaFormatted(r,"csrt_Aggregate_Limit",i.riskReview)}),e.qZA()(),e.YNc(66,xm,2,1,"div",28),e.qZA()()(),e.YNc(67,Ym,83,35,"div",22),e.TgZ(68,"div",11)(69,"div",12)(70,"label",31),e._uU(71," Risk Financial Grade "),e.YNc(72,Lm,2,0,"span",32),e.qZA()(),e.TgZ(73,"div",14)(74,"select",33),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.TgZ(75,"option",34),e._uU(76,"Select"),e.qZA(),e.TgZ(77,"option",34),e._uU(78,"A"),e.qZA(),e.TgZ(79,"option",34),e._uU(80,"B"),e.qZA(),e.TgZ(81,"option",34),e._uU(82,"C"),e.qZA(),e.TgZ(83,"option",34),e._uU(84,"D"),e.qZA()(),e.YNc(85,Qm,2,1,"div",28),e.qZA()(),e.TgZ(86,"div",11)(87,"div",12)(88,"label",35),e._uU(89,"Risk Financial Grade Notes"),e.YNc(90,Vm,2,0,"span",32),e.qZA()(),e.TgZ(91,"div",14)(92,"textarea",36),e.NdJ("ngModelChange",function(){return i.idleReset()}),e._uU(93,"                                        "),e.qZA(),e.YNc(94,Gm,2,1,"div",28),e.qZA()(),e.YNc(95,zm,10,4,"div",21),e.qZA()()()(),e.BQk(),e.qZA()()(),e.TgZ(96,"div",37)(97,"div",12)(98,"button",38),e._uU(99," << BACK"),e.qZA()(),e._UZ(100,"div",39),e.TgZ(101,"div",12)(102,"button",40),e.NdJ("click",function(){return i.saveOrSubmit("SAVE")}),e._uU(103,"SAVE"),e.qZA()()(),e.TgZ(104,"div",41),e._UZ(105,"div",18),e.TgZ(106,"div",25),e.YNc(107,$m,2,0,"button",42),e.YNc(108,Wm,2,0,"button",42),e.qZA(),e.YNc(109,Xm,1,0,"div",43),e.TgZ(110,"div",25)(111,"button",44),e.NdJ("click",function(){return i.saveOrSubmit("APPROVED")}),e._uU(112,"APPROVED & SEND INFO TO VP"),e.qZA()()()),2&t&&(e.Q6J("ngClass",e.VKq(25,e_,i.showdisabled)),e.xp6(4),e.Q6J("ngIf",!i.isInterim),e.xp6(4),e.Q6J("formGroup",i.automatedReview),e.xp6(22),e.Q6J("ngIf",i.isInterim),e.xp6(1),e.Q6J("ngIf",!i.isInterim),e.xp6(4),e.Q6J("formGroup",i.riskReview),e.xp6(5),e.Q6J("ngIf",!i.isInterim),e.xp6(15),e.Q6J("ngClass",e.VKq(27,O,i.saved&&i.riskReview.controls.csrt_Single_Limit.errors)),e.xp6(1),e.Q6J("ngIf",i.saved&&i.riskReview.controls.csrt_Single_Limit.touched&&i.riskReview.controls.csrt_Single_Limit.errors),e.xp6(9),e.Q6J("ngClass",e.VKq(29,O,i.saved&&i.riskReview.controls.csrt_Aggregate_Limit.errors)),e.xp6(1),e.Q6J("ngIf",i.saved&&i.riskReview.controls.csrt_Aggregate_Limit.touched&&i.riskReview.controls.csrt_Aggregate_Limit.errors),e.xp6(1),e.Q6J("ngIf",!i.isInterim),e.xp6(5),e.Q6J("ngIf",!i.isInterim),e.xp6(3),e.Q6J("ngValue",""),e.xp6(2),e.Q6J("ngValue","a"),e.xp6(2),e.Q6J("ngValue","b"),e.xp6(2),e.Q6J("ngValue","c"),e.xp6(2),e.Q6J("ngValue","d"),e.xp6(2),e.Q6J("ngIf",i.saved&&(i.riskReview.controls.financial_Grade.errors&&i.riskReview.controls.financial_Grade.touched||i.isInterim)),e.xp6(5),e.Q6J("ngIf",!i.isInterim),e.xp6(4),e.Q6J("ngIf",i.saved&&(i.riskReview.controls.risk_Financial_Grade_Notes.touched&&i.riskReview.controls.risk_Financial_Grade_Notes.errors||i.isInterim)),e.xp6(1),e.Q6J("ngIf",!i.isInterim),e.xp6(12),e.Q6J("ngIf","RiskUser2"!=i.userRole&&!i.isInterim),e.xp6(1),e.Q6J("ngIf","Subcontractor"!=i.userRole&&i.isInterim),e.xp6(1),e.Q6J("ngIf","RiskUser2"==i.userRole))},directives:[f.mk,f.O5,s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,s.EJ,s.YN,s.Kr,s.wV],styles:[".bg-grey[_ngcontent-%COMP%]{color:#c7bfbf!important}"]}),n})(),i_=(()=>{class n extends S.EJ{constructor(t,i){super("Surety",t,i,{root:u.N.webserviceURlLocal})}getAll(){return super.getAll()}getRecords(t){const i={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("surety/"+t,u.N.webserviceURlLocal);return this.http.get(o,i)}updateRecord(t,i){const o={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},r=this.httpUrlGenerator.entityResource("surety/"+i,u.N.webserviceURlLocal);return this.http.put(r,t,o)}addRecord(t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("surety",u.N.webserviceURlLocal);return this.http.post(o,t,i)}getUser(t,i){const o={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},r=this.httpUrlGenerator.entityResource("Organization/"+t+"/"+i,u.N.webserviceURlLocal);return this.http.get(r,o)}getComplete(t){const i={headers:{Authorization:"Bearer "+localStorage.getItem("usr-tok")}},o=this.httpUrlGenerator.entityResource("Organization/Getstatus/"+t,u.N.webserviceURlLocal);return this.http.get(o,i)}deleteRecord(t){const i={headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("usr-tok")}};return this.http.delete(u.N.webserviceURlLocal+"Files/"+t,i)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(B.eN),e.LFG(S.hR))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function n_(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Surety bond is required"),e.qZA())}function o_(n,a){if(1&n&&(e.TgZ(0,"div",67),e.YNc(1,n_,2,0,"div",68),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.is_Surety_Bond.errors.required)}}function a_(n,a){1&n&&(e.TgZ(0,"span",8),e._uU(1,"*"),e.qZA())}function r_(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Surety company name is required "),e.qZA())}function s_(n,a){if(1&n&&(e.TgZ(0,"div",67),e.YNc(1,r_,2,0,"div",68),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.surety_Company_Name.errors.required)}}function l_(n,a){1&n&&(e.TgZ(0,"span",8),e._uU(1,"*"),e.qZA())}function c_(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Surety Agent name is required"),e.qZA())}function d_(n,a){if(1&n&&(e.TgZ(0,"div",67),e.YNc(1,c_,2,0,"div",68),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.surety_Agent_Name.errors.required)}}function p_(n,a){1&n&&(e.TgZ(0,"span",8),e._uU(1,"*"),e.qZA())}function u_(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Surety agent email is required "),e.qZA())}function m_(n,a){if(1&n&&(e.TgZ(0,"div",67),e.YNc(1,u_,2,0,"div",68),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.surety_Agent_Email.errors.required)}}function __(n,a){1&n&&(e.TgZ(0,"span",8),e._uU(1,"*"),e.qZA())}function f_(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Surety Agent Phone is required "),e.qZA())}function h_(n,a){if(1&n&&(e.TgZ(0,"div",67),e.YNc(1,f_,2,0,"div",68),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.surety_Agent_Phone.errors.required)}}function g_(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Extention is required "),e.qZA())}function v_(n,a){if(1&n&&(e.TgZ(0,"div",67),e.YNc(1,g_,2,0,"div",68),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.surety_Agent_Phone_Ext.errors.required)}}function y_(n,a){1&n&&(e.TgZ(0,"span",8),e._uU(1,"*"),e.qZA())}function C_(n,a){if(1&n&&(e.TgZ(0,"option",36),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("ngValue",t.name),e.xp6(1),e.hij("",t.name," ")}}function b_(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Present surety years is required "),e.qZA())}function T_(n,a){if(1&n&&(e.TgZ(0,"div",67),e.YNc(1,b_,2,0,"div",68),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.present_Surety_Years.errors.required)}}function Z_(n,a){1&n&&(e.TgZ(0,"span",8),e._uU(1,"*"),e.qZA())}function x_(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Bonding limit is required"),e.qZA())}function I_(n,a){if(1&n&&(e.TgZ(0,"div",67),e.YNc(1,x_,2,0,"div",68),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.bonding_Limit.errors.required)}}function A_(n,a){1&n&&(e.TgZ(0,"span",8),e._uU(1,"*"),e.qZA())}function q_(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Aggregate bonding capacity is required "),e.qZA())}function F_(n,a){if(1&n&&(e.TgZ(0,"div",67),e.YNc(1,q_,2,0,"div",68),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.aggregate_Bonding.errors.required)}}function R_(n,a){1&n&&(e.TgZ(0,"span",8),e._uU(1,"*"),e.qZA())}function k_(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Available bonding capacity is required "),e.qZA())}function S_(n,a){if(1&n&&(e.TgZ(0,"div",67),e.YNc(1,k_,2,0,"div",68),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.available_Bonding.errors.required)}}function w_(n,a){1&n&&(e.TgZ(0,"span",8),e._uU(1,"*"),e.qZA())}function N_(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Bonding letter is required"),e.qZA())}function U_(n,a){if(1&n&&(e.TgZ(0,"div",67),e.YNc(1,N_,2,0,"div",68),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.surety_Upload.errors.required)}}function M_(n,a){1&n&&(e.TgZ(0,"div",69)(1,"span"),e._uU(2,"Uploading..."),e.qZA(),e._UZ(3,"mat-progress-spinner",70),e.qZA())}function E_(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"p",71)(2,"small")(3,"a",72),e._uU(4),e.qZA()(),e.TgZ(5,"small",73),e.NdJ("click",function(){const o=e.CHM(t),r=o.index,l=o.$implicit;return e.oxw().removeqcpUpload(r,l)}),e._uU(6,"X"),e.qZA()()()}if(2&n){const t=a.$implicit;e.xp6(3),e.s9C("href",t.file_Path,e.LSH),e.xp6(1),e.Oqu(t.name)}}function O_(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Risk manager is required"),e.qZA())}function P_(n,a){if(1&n&&(e.TgZ(0,"div",67),e.YNc(1,O_,2,0,"div",68),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.is_Risk_Manager.errors.required)}}function J_(n,a){1&n&&(e.TgZ(0,"span",8),e._uU(1,"*"),e.qZA())}function j_(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Risk manager name is required"),e.qZA())}function Y_(n,a){if(1&n&&(e.TgZ(0,"div",67),e.YNc(1,j_,2,0,"div",68),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.risk_Manager_Name.errors.required)}}function L_(n,a){1&n&&(e.TgZ(0,"span",8),e._uU(1,"*"),e.qZA())}function D_(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Risk manager email is required "),e.qZA())}function Q_(n,a){if(1&n&&(e.TgZ(0,"div",67),e.YNc(1,D_,2,0,"div",68),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.risk_Manager_Email.errors.required)}}function V_(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",74)(1,"button",75),e.NdJ("click",function(){return e.CHM(t),e.oxw().gotoHome()}),e._uU(2," << BACK"),e.qZA(),e.TgZ(3,"button",76),e.NdJ("click",function(){return e.CHM(t),e.oxw().save()}),e._uU(4),e.qZA(),e.TgZ(5,"button",77),e._uU(6,"NEXT >>"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(4),e.hij("",t.submitText," ")}}function B_(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",78)(1,"button",75),e.NdJ("click",function(){return e.CHM(t),e.oxw().gotoHome()}),e._uU(2," << BACK"),e.qZA(),e.TgZ(3,"button",79),e.NdJ("click",function(){return e.CHM(t),e.oxw().nextroutePage()}),e._uU(4,"NEXT >>"),e.qZA()()}}function G_(n,a){if(1&n&&e._UZ(0,"app-comment",80),2&n){const t=e.oxw();e.Q6J("events",t.eventsSubject.asObservable())("formId",t.suretyid)("companyId",t.tempcompanyid)}}const me=function(n){return{"bg-grey":n}},P=function(n){return{"is-invalid":n}},K_=[{path:"",component:Od,children:[{path:"companyinfo",component:so},{path:"experience",component:oa},{path:"safetyinfo",component:gc},{path:"personnel",component:qd},{path:"relevant",component:Yu},{path:"surety",component:(()=>{class n{constructor(t,i,o,r,l,c,d,p,_,v){this.formBuilder=t,this.router=i,this.bnIdle=o,this.keepalive=r,this.toastr=l,this.project=c,this.logininfo=d,this.ngxUiLoader=p,this.suretyinfoService=_,this.companyservice=v,this.currentForm=4,this.suretyForm=this.formBuilder.group({id:[0],companyId:[null,[s.kI.maxLength(130)]],is_Surety_Bond:["no",[s.kI.required]],surety_Company_Name:["",[s.kI.maxLength(130)]],surety_Agent_Name:["",[s.kI.maxLength(256)]],surety_Agent_Email:["",[s.kI.required,s.kI.email]],surety_Agent_Phone:["",[s.kI.maxLength(256),s.kI.pattern(/^-?(0|[1-9]\d*)?$/)]],surety_Agent_Phone_Ext:["",[s.kI.maxLength(256)]],present_Surety_Years:["",[s.kI.maxLength(256)]],bonding_Limit:["",[s.kI.maxLength(256),s.kI.pattern(/^-?(0|[1-9]\d*)?$/)]],aggregate_Bonding:["",[s.kI.pattern(/^-?(0|[1-9]\d*)?$/)]],available_Bonding:["",[s.kI.pattern(/^-?(0|[1-9]\d*)?$/)]],surety_Upload:[""],is_Risk_Manager:["no",[s.kI.required]],risk_Manager_Name:["",[s.kI.required]],risk_Manager_Email:["",[s.kI.email,s.kI.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)]],isAutosave:[!1]}),this.submitText="SAVE",this.showAdmin=!1,this.suretyid=0,this.setTimeout=0,this.resetTimer=0,this.bondingAttachment=[],this.submitted=!1,this.spinner={bondingSpinner:!1},this.suretyyears=[{name:"less than 1 years"},{name:"1-3 years"},{name:"3-5 years"},{name:"5-7 years"},{name:"7-9 years"},{name:"9+years"}],this.showdisabled=!1,this.eventsSubject=new re.xQ}ngOnInit(){this.ngxUiLoader.startLoader("loader-01"),localStorage.setItem("currPage","suretyinfo"),this.prequalification_status=this.logininfo.organization_status,this.submitText="SAVE";let t=localStorage.getItem("userDetails");t=JSON.parse(atob(t)),this.userDetails=t,this.userRole=t.role,this.tempcompanyid=localStorage.getItem("tempcompanyid"),this.tempcompanyid=Number(atob(this.tempcompanyid)),this.tempcompanyid>0&&"Subcontractor"!=this.userRole&&(this.showAdmin=!0,this.suretyinfoService.getRecords(this.tempcompanyid).subscribe(i=>{this.showdisabled=!0,this.showAdmin=!0,(null==i?void 0:i.length)&&(this.suretyid=i[0].id,this.submitText=i[0].is_Surety_Bond?"UPDATE":"SAVE",this.updateSurety(i)),this.suretyForm.disable(),this.suretyForm.updateValueAndValidity()})),null!=this.userDetails.vendorId&&null!=this.userDetails.taxId&&"Subcontractor"==this.userRole&&this.suretyinfoService.getUser(this.userDetails.vendorId,this.userDetails.taxId).subscribe(i=>{this.companyId=i.id,localStorage.setItem("companyid",btoa(this.companyId)),this.getRecords()}),this.ngxUiLoader.stopLoader("loader-01"),console.log(this.suretyid)}ngAfterViewInit(){this.keepalive.interval(30),this.keepalive.stop(),0==this.setTimeout&&this.keepalive.stop()}resetSuretyBond(){this.suretyForm.patchValue({surety_Company_Name:"",surety_Agent_Email:"",surety_Agent_Name:"",surety_Agent_Phone:"",surety_Agent_Phone_Ext:"",present_Surety_Years:"",bonding_Limit:"",aggregate_Bonding:"",available_Bonding:"",surety_Upload:""}),this.showdisabled=!1,this.bondingAttachment.forEach((t,i)=>{this.removeqcpUpload(i,t,!1)})}resetRiskManager(){this.suretyForm.patchValue({risk_Manager_Name:"",risk_Manager_Email:""})}ngOnDestroy(){this.keepalive.stop(),this.nextpage()}idleReset(){this.keepalive.stop(),this.keepalive.start(),this.resetTimer=0}gotoHome(){this.emitEventToChild(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm-1].url}`])}get f(){var t;return"yes"==this.suretyForm.value.is_Surety_Bond?(this.suretyForm.controls.surety_Company_Name.setValidators([s.kI.required]),this.suretyForm.controls.surety_Agent_Name.setValidators([s.kI.required]),this.suretyForm.controls.surety_Agent_Email.setValidators([s.kI.required,s.kI.email,s.kI.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)]),this.suretyForm.controls.surety_Agent_Phone.setValidators([s.kI.required]),this.suretyForm.controls.present_Surety_Years.setValidators([s.kI.required]),this.suretyForm.controls.bonding_Limit.setValidators([s.kI.required]),this.suretyForm.controls.aggregate_Bonding.setValidators([s.kI.required]),this.suretyForm.controls.available_Bonding.setValidators([s.kI.required]),this.suretyForm.controls.surety_Upload.setValidators([s.kI.required])):(this.suretyForm.controls.surety_Company_Name.clearValidators(),this.suretyForm.controls.surety_Agent_Name.clearValidators(),this.suretyForm.controls.surety_Agent_Email.clearValidators(),this.suretyForm.controls.surety_Agent_Phone.clearValidators(),this.suretyForm.controls.present_Surety_Years.clearValidators(),this.suretyForm.controls.bonding_Limit.clearValidators(),this.suretyForm.controls.aggregate_Bonding.clearValidators(),this.suretyForm.controls.available_Bonding.clearValidators(),this.suretyForm.controls.surety_Upload.clearValidators()),this.suretyForm.controls.surety_Company_Name.updateValueAndValidity(),this.suretyForm.controls.surety_Agent_Name.updateValueAndValidity(),this.suretyForm.controls.surety_Agent_Email.updateValueAndValidity(),this.suretyForm.controls.surety_Agent_Phone.updateValueAndValidity(),this.suretyForm.controls.surety_Agent_Phone_Ext.updateValueAndValidity(),this.suretyForm.controls.present_Surety_Years.updateValueAndValidity(),this.suretyForm.controls.bonding_Limit.updateValueAndValidity(),this.suretyForm.controls.aggregate_Bonding.updateValueAndValidity(),this.suretyForm.controls.available_Bonding.updateValueAndValidity(),this.suretyForm.controls.surety_Upload.updateValueAndValidity(),"yes"==this.suretyForm.value.is_Risk_Manager?(this.suretyForm.controls.risk_Manager_Name.setValidators([s.kI.required]),this.suretyForm.controls.risk_Manager_Email.setValidators([s.kI.required,s.kI.email,s.kI.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)])):(this.suretyForm.patchValue({risk_Manager_Name:this.suretyForm.value.risk_Manager_Name,risk_Manager_Email:this.suretyForm.value.risk_Manager_Email}),this.suretyForm.controls.risk_Manager_Name.clearValidators(),this.suretyForm.controls.risk_Manager_Email.clearValidators()),this.suretyForm.controls.risk_Manager_Name.updateValueAndValidity(),this.suretyForm.controls.risk_Manager_Email.updateValueAndValidity(),(null===(t=this.bondingAttachment)||void 0===t?void 0:t.length)>0&&(this.suretyForm.controls.surety_Upload.setValidators(null),this.suretyForm.controls.surety_Upload.updateValueAndValidity()),this.suretyForm.controls}updateSurety(t){this.suretyForm.patchValue({id:t[0].id,companyId:t[0].companyId,is_Surety_Bond:null==t[0].is_Surety_Bond?"no":this.logininfo.validateEmpty(t[0].is_Surety_Bond),surety_Company_Name:this.logininfo.validateEmpty(t[0].surety_Company_Name),surety_Agent_Email:this.logininfo.validateEmpty(t[0].surety_Agent_Email),surety_Agent_Name:this.logininfo.validateEmpty(t[0].surety_Agent_Name),surety_Agent_Phone:this.logininfo.validateEmpty(t[0].surety_Agent_Phone),surety_Agent_Phone_Ext:this.logininfo.validateEmpty(t[0].surety_Agent_Phone_Ext),present_Surety_Years:this.logininfo.validateEmpty(t[0].present_Surety_Years),bonding_Limit:this.logininfo.validateEmpty(t[0].bonding_Limit),aggregate_Bonding:this.logininfo.validateEmpty(t[0].aggregate_Bonding),available_Bonding:this.logininfo.validateEmpty(t[0].available_Bonding),is_Risk_Manager:null==t[0].is_Risk_Manager?"no":this.logininfo.validateEmpty(t[0].is_Risk_Manager),risk_Manager_Name:this.logininfo.validateEmpty(t[0].risk_Manager_Name),risk_Manager_Email:this.logininfo.validateEmpty(t[0].risk_Manager_Email)}),this.bondingAttachment=[],t[0].files.filter(i=>{this.bondingAttachment.push(i.file_Name.length<31?{id:i.id,name:i.file_Name,file_Path:i.file_Path}:{id:i.id,name:i.file_Name.substring(0,31)+"....",file_Path:i.file_Path})})}save(){if(console.log(this.suretyForm,this.suretyid),this.submitted=!0,this.keepalive.stop(),this.suretyForm.valid)if(0==this.suretyid){this.suretyForm.patchValue({isAutosave:!1,surety_Upload:""});let t=this.formMethod();this.suretyinfoService.addRecord(t).subscribe(i=>{this.getRecords(),this.submitText="UPDATE",this.fileReset(),this.resetSpinner(),this.toastr.success("Surety Information saved successfully","Surety Information")})}else{this.suretyForm.patchValue({isAutosave:!1,surety_Upload:""});let t=this.formMethod();this.suretyinfoService.updateRecord(t,this.suretyid).subscribe(i=>{this.getRecords(),this.fileReset(),this.resetSpinner(),this.toastr.success("Surety Information updated successfully","Surety Information")})}}submit(){if("Subcontractor"!=this.userRole)this.emitEventToChild(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`]);else if(console.log(this.suretyForm),this.keepalive.stop(),this.ngxUiLoader.startLoader("loader-01"),0==this.suretyid){let t=this.formMethod();this.suretyinfoService.addRecord(t).subscribe(i=>{this.toastr.success("Surety Information saved successfully","Surety Information"),this.getRecords(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])})}else{this.suretyForm.patchValue({isAutosave:!1});let t=this.formMethod();this.suretyinfoService.updateRecord(t,this.suretyid).subscribe(i=>{this.toastr.success("Surety Information updated successfully","Surety Information"),this.getRecords(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])})}}autoSave(){if(this.resetTimer+=1,1==this.resetTimer)if(0==this.suretyid){let t=this.formMethod();this.suretyinfoService.addRecord(t).subscribe(i=>{this.getRecords()})}else{this.suretyForm.patchValue({isAutosave:!1});let t=this.formMethod();this.suretyinfoService.updateRecord(t,this.suretyid).subscribe(i=>{this.getRecords()})}}nextpage(){if("Subcontractor"==this.userRole)if(0==this.suretyid){let t=this.formMethod();this.suretyinfoService.addRecord(t).subscribe(i=>{})}else{this.suretyForm.patchValue({isAutosave:!1});let t=this.formMethod();this.suretyinfoService.updateRecord(t,this.suretyid).subscribe(i=>{})}}fileupload(){if(this.keepalive.stop(),0==this.suretyid){this.suretyForm.patchValue({isAutosave:!0});let t=this.formMethod();this.suretyinfoService.addRecord(t).subscribe(i=>{this.keepalive.stop(),this.suretyForm.patchValue({surety_Upload:"",id:i.id}),this.submitText="UPDATE",this.getRecords(),this.resetSpinner(),this.submitted=!1})}else{this.suretyForm.patchValue({id:this.suretyid,isAutosave:!0});let t=this.formMethod();this.suretyinfoService.updateRecord(t,this.suretyForm.value.id).subscribe(i=>{this.keepalive.stop(),this.getRecords(),this.resetSpinner(),this.suretyForm.patchValue({surety_Upload:""}),this.submitted=!1})}}autosave(){if(this.resetTimer+=1,1==this.resetTimer)if(0==this.suretyid){this.suretyForm.patchValue({isAutosave:!1});let t=this.formMethod();this.suretyinfoService.addRecord(t).subscribe(i=>{this.submitText="UPDATE",this.getRecords(),this.fileReset(),this.keepalive.stop(),this.resetSpinner()})}else{this.suretyForm.patchValue({isAutosave:!0});let t=this.formMethod();this.suretyinfoService.updateRecord(t,this.suretyid).subscribe(i=>{this.getRecords(),this.fileReset(),this.keepalive.stop(),this.resetSpinner(),this.suretyForm.patchValue({isAutosave:!1})})}}formMethod(){var t=new FormData;t.append("id",this.suretyForm.value.id),t.append("companyId",this.companyId),t.append("is_Surety_Bond",this.logininfo.validateEmpty(this.suretyForm.value.is_Surety_Bond)),t.append("surety_Company_Name",this.logininfo.validateEmpty(this.suretyForm.value.surety_Company_Name)),t.append("surety_Agent_Name",this.logininfo.validateEmpty(this.suretyForm.value.surety_Agent_Name)),t.append("surety_Agent_Email",this.logininfo.validateEmpty(this.suretyForm.value.surety_Agent_Email)),t.append("surety_Agent_Phone",this.logininfo.validateEmpty(this.suretyForm.value.surety_Agent_Phone)),t.append("surety_Agent_Phone_Ext",this.logininfo.validateEmpty(this.suretyForm.value.surety_Agent_Phone_Ext)),t.append("present_Surety_Years",this.logininfo.validateEmpty(this.suretyForm.value.present_Surety_Years)),t.append("bonding_Limit",this.logininfo.validateEmpty(this.suretyForm.value.bonding_Limit)),t.append("aggregate_Bonding",this.logininfo.validateEmpty(this.suretyForm.value.aggregate_Bonding)),t.append("available_Bonding",this.logininfo.validateEmpty(this.suretyForm.value.available_Bonding)),t.append("is_Risk_Manager",this.logininfo.validateEmpty(this.suretyForm.value.is_Risk_Manager)),t.append("risk_Manager_Name",this.logininfo.validateEmpty(this.suretyForm.value.risk_Manager_Name)),t.append("risk_Manager_Email",this.logininfo.validateEmpty(this.suretyForm.value.risk_Manager_Email));for(let i=0;i<this.bondingAttachment.length;i++)t.append("surety_Upload",this.bondingAttachment[i]);return this.bondingAttachment=[],t}qcpUpload(t){let i=document.getElementById("surety_Upload");for(let o=0;o<i.files.length;o++)this.bondingAttachment.push(i.files[o]);this.spinner.bondingSpinner=!0,this.fileupload()}filepreview(t,i){var o=new FileReader;o.onload=r=>{console.log(r.target);let l=new Blob(t.files,{type:t.files[i].type});var c=(window.URL||window.webkitURL).createObjectURL(l);console.log("path",c,t.value);var d=document.createElement("a"),p=document.createTextNode("View File");d.target="_blank",d.appendChild(p),d.href=c,d.click(),t.appendChild(d)},o.readAsDataURL(t.files[i])}removeqcpUpload(t,i,o=!0){console.log(this.showdisabled+" "+i),this.showdisabled||this.suretyinfoService.deleteRecord(i.id).subscribe(r=>{this.bondingAttachment.splice(t,1),o&&this.toastr.info("File removed successfully","Surety Info")})}CommaFormatted(t,i){var o,r;t.AT_TARGET>=37&&t.AT_TARGET<=40||this.suretyForm.patchValue({[i]:null===(r=null===(o=this.suretyForm.get(i))||void 0===o?void 0:o.value)||void 0===r?void 0:r.replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,",")})}numberCheck(t){return!("e"===t.key||"+"===t.key||"-"===t.key)}resetSpinner(){this.spinner={bondingSpinner:!1}}fileReset(){this.suretyForm.patchValue({surety_Upload:""})}emitEventToChild(){this.eventsSubject.next()}getRecords(){this.suretyinfoService.getRecords(this.companyId).subscribe(t=>{t.length&&(this.suretyid=t[0].id,this.submitText=t[0].is_Surety_Bond?"UPDATE":"SAVE",this.updateSurety(t))}),this.companyId>0&&this.companyservice.getRecord(this.companyId).subscribe(t=>{t=t[0],console.log(t.preQualification_Status),this.prequalification_status=t.preQualification_Status,t.preQualification_Status&&this.logininfo.formDisable(t.preQualification_Status)&&(this.showdisabled=!0,this.suretyForm.disable(),this.suretyForm.updateValueAndValidity())})}setPatternValidator(t){return!!/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)}nextroutePage(){this.emitEventToChild(),this.router.navigate([`qualification/${this.companyservice.MenuDetail[this.currentForm+1].url}`])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.qu),e.Y36(U.F0),e.Y36(K.d),e.Y36(Q.A),e.Y36(L._W),e.Y36(se.m),e.Y36(D),e.Y36(V.LA),e.Y36(i_),e.Y36(G.O))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-suretyinfo"]],decls:155,vars:108,consts:[[1,"px-2",3,"formGroup","ngSubmit","keydown.enter"],[1,"px-1","my-2","form-bg",3,"ngClass"],[1,"form-group","input-group","row","px-2","mx-auto","pb-3"],[1,"row"],[1,"col-lg-6","px-2","col-head-1","mx-auto","mt-2"],[1,"row","bg-white","col-curve-top","mx-auto","py-2","mt-2"],["for","is_Surety_Bond",1,"my-auto","fw-bold"],[1,"col-7","ps-3","pt-1"],[1,"text-danger"],[1,"col-5"],[1,"col-lg-5"],["type","radio","formControlName","is_Surety_Bond","value","yes","checked","checked","name","is_Surety_Bond","id","is_Surety_Bond_yes",3,"ngModelChange"],["for","is_Surety_Bond_yes",3,"ngClass"],[1,"col-lg-7"],["type","radio","formControlName","is_Surety_Bond","value","no","name","is_Surety_Bond","id","is_Surety_Bond_no",3,"ngClass","ngModelChange","click"],["for","is_Surety_Bond_no"],["class","invalid-feedback",4,"ngIf"],[1,"pb-1"],[1,"ps-3","px-1",3,"ngClass"],[1,"row",3,"ngClass"],[1,"fw-bold","pt-1"],[1,"col-6"],["for","surety_Company_Name",1,"my-auto","font-italic"],["class","text-danger",4,"ngIf"],["type","text","formControlName","surety_Company_Name","id","surety_Company_Name","name","surety_Company_Name",1,"form-control",3,"ngClass","ngModelChange"],["for","surety_Agent_Name",1,"my-auto","font-italic"],["type","text","formControlName","surety_Agent_Name","id","surety_Agent_Name","name","surety_Agent_Name",1,"form-control",3,"ngClass","ngModelChange"],["for","surety_Agent_Email",1,"my-auto","font-italic"],["type","email","formControlName","surety_Agent_Email","id","surety_Agent_Email","email","true","name","surety_Agent_Email","pattern","/^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$/ ",1,"form-control",3,"ngClass","ngModelChange"],["for","surety_Agent_Phone",1,"my-auto","font-italic","float-right"],[1,"col-10","float-left"],["type","text","appPhoneMask","","onKeyPress","if(this.value.length==15) return false;","formControlName","surety_Agent_Phone","id","surety_Agent_Phone","name","surety_Agent_Phone",1,"form-control",3,"ngClass","ngModelChange"],[1,"col-2","float-left"],["type","number","onKeyPress","if(this.value.length==3) return false;","formControlName","surety_Agent_Phone_Ext","pattern","[0-9]+","id","surety_Agent_Phone_Ext","name","surety_Agent_Phone_Ext",1,"form-control",3,"ngClass","ngModelChange"],["for","present_Surety_Years",1,"my-auto","font-italic"],["formControlName","present_Surety_Years","id","present_Surety_Years","name","state",1,"form-control","form-select",3,"ngClass","ngModelChange"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["for","bonding_Limit",1,"my-auto","font-italic"],["type","number","formControlName","bonding_Limit","id","bonding_Limit","name","bonding_Limit",1,"form-control",3,"ngClass","ngModelChange"],["for","aggregate_Bonding",1,"my-auto","font-italic"],["type","text","formControlName","aggregate_Bonding","id","aggregate_Bonding","name","aggregate_Bonding",1,"form-control",3,"ngClass","ngModelChange","keydown","keyup"],["for","available_Bonding",1,"my-auto","font-italic"],["type","text","formControlName","available_Bonding","id","available_Bonding","name","available_Bonding",1,"form-control",3,"ngClass","ngModelChange","keydown","keyup"],["for","surety_Upload",1,"my-auto","font-italic","float-right"],[1,"col-6","pb-2"],[1,"form-control-customitem","form-control"],["type","file","title","Choose file","formControlName","surety_Upload","id","surety_Upload","name","surety_Upload","multiple","",3,"ngClass","change"],["for","surety_Upload"],["class","spinner__loading pt-3",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"col-lg-6","col-curve-top","bg-white","px-2","col-head-2","mx-auto","mt-2"],[1,"row","mx-0","px-0","py-2","mt-1"],[1,"col-7"],["for","is_Risk_Manager",1,"my-auto","fw-bold"],["type","radio","formControlName","is_Risk_Manager","value","yes","checked","checked","name","is_Risk_Manager","id","is_Risk_Manager_yes",3,"ngModelChange"],["for","is_Risk_Manager_yes",3,"ngClass"],["type","radio","formControlName","is_Risk_Manager","value","no","name","is_Risk_Manager","id","is_Risk_Manager",3,"ngClass","ngModelChange","click"],["for","is_Risk_Manager"],["for","risk_Manager_Name",1,"my-auto","font-italic",3,"ngClass"],["type","text","formControlName","risk_Manager_Name","id","risk_Manager_Name","name","risk_Manager_Name",1,"form-control",3,"ngClass","ngModelChange"],["for","risk_Manager_Email",1,"my-auto","font-italic",3,"ngClass"],["type","email","formControlName","risk_Manager_Email","id","risk_Manager_Email","name","risk_Manager_Email",1,"form-control",3,"ngClass","ngModelChange"],[1,"col-lg-6","col-curve","px-2","col-head-1","mx-auto","mt-2"],["class","text-end mx-lg-4 my-3",4,"ngIf"],["class","text-end mx-4 my-3",4,"ngIf"],["headerReview","Risk Review & Inputs","formname","surety",3,"events","formId","companyId",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner__loading","pt-3"],["diameter","18","mode","indeterminate",1,"mt-1"],[1,"file-tag"],["target","_blank",3,"href"],[1,"file-close","text-white",3,"click"],[1,"text-end","mx-lg-4","my-3"],[1,"btn","float-start","btn","default-btn",3,"click"],["type","button",1,"btn","ml-4","default-btn",3,"click"],["type","submit",1,"btn","btn-success","mx-2","default-btn"],[1,"text-end","mx-4","my-3"],[1,"btn","btn-success","mx-2","default-btn",3,"click"],["headerReview","Risk Review & Inputs","formname","surety",3,"events","formId","companyId"]],template:function(t,i){1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return i.submit()})("keydown.enter",function(r){return r.preventDefault()}),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",3)(7,"h6",6),e._uU(8,"1. Surety bond "),e.qZA()(),e.TgZ(9,"div",3)(10,"div",7)(11,"h6",6),e._uU(12,"Can your company provide a surety bond? "),e.TgZ(13,"span",8),e._uU(14,"*"),e.qZA()()(),e.TgZ(15,"div",9)(16,"div",3)(17,"span",10)(18,"input",11),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.qZA(),e.TgZ(19,"label",12),e._uU(20," YES"),e.qZA()(),e.TgZ(21,"span",13)(22,"input",14),e.NdJ("ngModelChange",function(){return i.idleReset()})("click",function(){return i.resetSuretyBond()}),e.qZA(),e.TgZ(23,"label",15),e._uU(24," NO"),e.qZA()(),e.YNc(25,o_,2,1,"div",16),e.qZA()()(),e._UZ(26,"div",17),e.TgZ(27,"div",18)(28,"div",19)(29,"h6",20),e._uU(30,"Surety bond Details"),e.qZA(),e.TgZ(31,"div",21)(32,"label",22),e._uU(33,"Surety Company Name: "),e.YNc(34,a_,2,0,"span",23),e.qZA()(),e.TgZ(35,"div",21)(36,"input",24),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.qZA(),e.YNc(37,s_,2,1,"div",16),e.qZA()(),e.TgZ(38,"div",3)(39,"div",21)(40,"label",25),e._uU(41,"Surety Agent Name: "),e.YNc(42,l_,2,0,"span",23),e.qZA()(),e.TgZ(43,"div",21)(44,"input",26),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.qZA(),e.YNc(45,d_,2,1,"div",16),e.qZA()(),e.TgZ(46,"div",3)(47,"div",21)(48,"label",27),e._uU(49,"Surety Agent Email: "),e.YNc(50,p_,2,0,"span",23),e.qZA()(),e.TgZ(51,"div",21)(52,"input",28),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.qZA(),e.YNc(53,m_,2,1,"div",16),e.qZA()(),e.TgZ(54,"div",3)(55,"div",21)(56,"label",29),e._uU(57,"Surety Agent Phone: "),e.YNc(58,__,2,0,"span",23),e.qZA()(),e.TgZ(59,"div",21)(60,"div",30)(61,"input",31),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.qZA(),e.YNc(62,h_,2,1,"div",16),e.qZA(),e.TgZ(63,"div",32)(64,"input",33),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.qZA(),e.YNc(65,v_,2,1,"div",16),e.qZA()()(),e.TgZ(66,"div",3)(67,"div",21)(68,"label",34),e._uU(69,"How long have you been with your present surety: "),e.YNc(70,y_,2,0,"span",23),e.qZA()(),e.TgZ(71,"div",21)(72,"select",35),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.TgZ(73,"option",36),e._uU(74,"Select"),e.qZA(),e.YNc(75,C_,2,2,"option",37),e.qZA(),e.YNc(76,T_,2,1,"div",16),e.qZA()(),e.TgZ(77,"div",3)(78,"div",21)(79,"label",38),e._uU(80,"Bonding limit per project: "),e.YNc(81,Z_,2,0,"span",23),e.qZA()(),e.TgZ(82,"div",21)(83,"input",39),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.qZA(),e.YNc(84,I_,2,1,"div",16),e.qZA()(),e.TgZ(85,"div",3)(86,"div",21)(87,"label",40),e._uU(88,"Aggregate bonding capacity: "),e.YNc(89,A_,2,0,"span",23),e.qZA()(),e.TgZ(90,"div",21)(91,"input",41),e.NdJ("ngModelChange",function(){return i.idleReset()})("keydown",function(r){return i.numberCheck(r)})("keyup",function(r){return i.CommaFormatted(r,"aggregate_Bonding")}),e.qZA(),e.YNc(92,F_,2,1,"div",16),e.qZA()(),e.TgZ(93,"div",3)(94,"div",21)(95,"label",42),e._uU(96,"Available bonding capacity: "),e.YNc(97,R_,2,0,"span",23),e.qZA()(),e.TgZ(98,"div",21)(99,"input",43),e.NdJ("ngModelChange",function(){return i.idleReset()})("keydown",function(r){return i.numberCheck(r)})("keyup",function(r){return i.CommaFormatted(r,"available_Bonding")}),e.qZA(),e.YNc(100,S_,2,1,"div",16),e.qZA()(),e.TgZ(101,"div",3)(102,"div",21)(103,"label",44),e._uU(104,"Attach Bonding Letter from surety: "),e.YNc(105,w_,2,0,"span",23),e.qZA()(),e.TgZ(106,"div",45)(107,"div",46)(108,"input",47),e.NdJ("change",function(r){return i.qcpUpload(r)}),e.qZA(),e.TgZ(109,"span",48),e._uU(110," \xa0 Click here to Add Files"),e.qZA()(),e.YNc(111,U_,2,1,"div",16),e.YNc(112,M_,4,0,"div",49),e.YNc(113,E_,7,2,"div",50),e.qZA()()()()(),e.TgZ(114,"div",51)(115,"div",52)(116,"div",3)(117,"div",53)(118,"h6",54),e._uU(119,"2. Does your company have a Risk Manager? "),e.TgZ(120,"span",8),e._uU(121,"*"),e.qZA()()(),e.TgZ(122,"div",9)(123,"div",3)(124,"span",10)(125,"input",55),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.qZA(),e.TgZ(126,"label",56),e._uU(127," YES"),e.qZA()(),e.TgZ(128,"span",13)(129,"input",57),e.NdJ("ngModelChange",function(){return i.idleReset()})("click",function(){return i.resetRiskManager()}),e.qZA(),e.TgZ(130,"label",58),e._uU(131," NO"),e.qZA()()(),e.YNc(132,P_,2,1,"div",16),e.qZA()(),e.TgZ(133,"div",3)(134,"div",9)(135,"label",59),e._uU(136,"Risk Manager Name:"),e.YNc(137,J_,2,0,"span",23),e.qZA()(),e.TgZ(138,"div",53)(139,"input",60),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.qZA(),e.YNc(140,Y_,2,1,"div",16),e.qZA()(),e.TgZ(141,"div",3)(142,"div",9)(143,"label",61),e._uU(144,"Risk Manager Email: "),e.YNc(145,L_,2,0,"span",23),e.qZA()(),e.TgZ(146,"div",53)(147,"input",62),e.NdJ("ngModelChange",function(){return i.idleReset()}),e.qZA(),e.YNc(148,Q_,2,1,"div",16),e.qZA()()()()(),e.TgZ(149,"div",3)(150,"div",63),e._uU(151," \xa0 "),e.qZA()()()(),e.YNc(152,V_,7,1,"div",64),e.qZA(),e.YNc(153,B_,5,0,"div",65),e.YNc(154,G_,1,3,"app-comment",66)),2&t&&(e.Q6J("formGroup",i.suretyForm),e.xp6(1),e.Q6J("ngClass",e.VKq(66,me,1==i.showdisabled)),e.xp6(18),e.Q6J("ngClass",e.VKq(68,P,i.submitted&&i.f.is_Surety_Bond.errors)),e.xp6(3),e.Q6J("ngClass",e.VKq(70,P,i.submitted&&i.f.is_Surety_Bond.errors)),e.xp6(3),e.Q6J("ngIf",(i.f.is_Surety_Bond.touched||i.submitted)&&i.f.is_Surety_Bond.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(72,me,"yes"!=i.f.is_Surety_Bond.value)),e.xp6(1),e.Q6J("ngClass",e.VKq(74,me,"yes"!=i.f.is_Surety_Bond.value)),e.xp6(6),e.Q6J("ngIf","yes"==(null==i.suretyForm||null==i.suretyForm.value?null:i.suretyForm.value.is_Surety_Bond)),e.xp6(2),e.Q6J("ngClass",e.VKq(76,P,i.submitted&&i.f.surety_Company_Name.errors)),e.uIk("disabled",1==i.showdisabled||("yes"!=i.f.is_Surety_Bond.value?"":null)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.surety_Company_Name.errors),e.xp6(5),e.Q6J("ngIf","yes"==(null==i.suretyForm||null==i.suretyForm.value?null:i.suretyForm.value.is_Surety_Bond)),e.xp6(2),e.Q6J("ngClass",e.VKq(78,P,i.submitted&&i.f.surety_Agent_Name.errors)),e.uIk("disabled",1==i.showdisabled||("yes"!=i.f.is_Surety_Bond.value?"":null)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.surety_Agent_Name.errors),e.xp6(5),e.Q6J("ngIf","yes"==(null==i.suretyForm||null==i.suretyForm.value?null:i.suretyForm.value.is_Surety_Bond)),e.xp6(2),e.Q6J("ngClass",e.VKq(80,P,i.submitted&&i.f.surety_Agent_Email.errors)),e.uIk("disabled",1==i.showdisabled||("yes"!=i.f.is_Surety_Bond.value?"":null)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.surety_Agent_Email.errors),e.xp6(5),e.Q6J("ngIf","yes"==(null==i.suretyForm||null==i.suretyForm.value?null:i.suretyForm.value.is_Surety_Bond)),e.xp6(3),e.Q6J("ngClass",e.VKq(82,P,i.submitted&&i.f.surety_Agent_Phone.errors)),e.uIk("disabled",1==i.showdisabled||("yes"!=i.f.is_Surety_Bond.value?"":null)),e.xp6(1),e.Q6J("ngIf",(i.submitted||i.f.surety_Agent_Phone.touched)&&i.f.surety_Agent_Phone.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(84,P,i.submitted&&i.f.surety_Agent_Phone_Ext.errors)),e.uIk("disabled",1==i.showdisabled||("yes"!=i.f.is_Surety_Bond.value?"":null)),e.xp6(1),e.Q6J("ngIf",(i.submitted||i.f.surety_Agent_Phone_Ext.touched)&&i.f.surety_Agent_Phone_Ext.errors),e.xp6(5),e.Q6J("ngIf","yes"==(null==i.suretyForm||null==i.suretyForm.value?null:i.suretyForm.value.is_Surety_Bond)),e.xp6(2),e.Q6J("ngClass",e.VKq(86,P,i.submitted&&i.f.present_Surety_Years.errors)),e.uIk("disabled",1==i.showdisabled||("yes"!=i.f.is_Surety_Bond.value?"":null)),e.xp6(1),e.Q6J("ngValue",null),e.xp6(2),e.Q6J("ngForOf",i.suretyyears),e.xp6(1),e.Q6J("ngIf",(i.submitted||i.f.present_Surety_Years.touched)&&i.f.present_Surety_Years.errors),e.xp6(5),e.Q6J("ngIf","yes"==(null==i.suretyForm||null==i.suretyForm.value?null:i.suretyForm.value.is_Surety_Bond)),e.xp6(2),e.Q6J("ngClass",e.VKq(88,P,i.submitted&&i.f.bonding_Limit.errors)),e.uIk("disabled",1==i.showdisabled||("yes"!=i.f.is_Surety_Bond.value?"":null)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.bonding_Limit.errors),e.xp6(5),e.Q6J("ngIf","yes"==(null==i.suretyForm||null==i.suretyForm.value?null:i.suretyForm.value.is_Surety_Bond)),e.xp6(2),e.Q6J("ngClass",e.VKq(90,P,i.submitted&&i.f.aggregate_Bonding.errors)),e.uIk("disabled",1==i.showdisabled||("yes"!=i.f.is_Surety_Bond.value?"":null)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.aggregate_Bonding.errors),e.xp6(5),e.Q6J("ngIf","yes"==(null==i.suretyForm||null==i.suretyForm.value?null:i.suretyForm.value.is_Surety_Bond)),e.xp6(2),e.Q6J("ngClass",e.VKq(92,P,i.submitted&&i.f.available_Bonding.errors)),e.uIk("disabled",1==i.showdisabled||("yes"!=i.f.is_Surety_Bond.value?"":null)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.available_Bonding.errors),e.xp6(5),e.Q6J("ngIf",null==i.f.surety_Upload||null==i.f.surety_Upload.errors?null:i.f.surety_Upload.errors.required),e.xp6(3),e.Q6J("ngClass",e.VKq(94,P,i.submitted&&i.f.surety_Upload.errors)),e.uIk("disabled",1==i.showdisabled||("yes"!=i.f.is_Surety_Bond.value?"":null)),e.xp6(3),e.Q6J("ngIf",i.submitted&&i.f.surety_Upload.errors),e.xp6(1),e.Q6J("ngIf",null==i.spinner?null:i.spinner.bondingSpinner),e.xp6(1),e.Q6J("ngForOf",i.bondingAttachment),e.xp6(13),e.Q6J("ngClass",e.VKq(96,P,i.submitted&&i.f.is_Risk_Manager.errors)),e.xp6(3),e.Q6J("ngClass",e.VKq(98,P,i.submitted&&i.f.is_Risk_Manager.errors)),e.xp6(3),e.Q6J("ngIf",(i.f.is_Risk_Manager.touched||i.submitted)&&i.f.is_Risk_Manager.errors),e.xp6(3),e.Q6J("ngClass",e.VKq(100,me,"no"==i.f.is_Risk_Manager.value)),e.xp6(2),e.Q6J("ngIf","yes"==(null==i.suretyForm||null==i.suretyForm.value?null:i.suretyForm.value.is_Risk_Manager)),e.xp6(2),e.Q6J("ngClass",e.VKq(102,P,i.submitted&&i.f.risk_Manager_Name.errors)),e.uIk("disabled",1==i.showdisabled||("no"==i.f.is_Risk_Manager.value?"":null)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.risk_Manager_Name.errors),e.xp6(3),e.Q6J("ngClass",e.VKq(104,me,"no"==i.f.is_Risk_Manager.value)),e.xp6(2),e.Q6J("ngIf","yes"==(null==i.suretyForm||null==i.suretyForm.value?null:i.suretyForm.value.is_Risk_Manager)),e.xp6(2),e.Q6J("ngClass",e.VKq(106,P,i.submitted&&i.f.risk_Manager_Email.errors)),e.uIk("disabled",1==i.showdisabled||("no"==i.f.is_Risk_Manager.value?"":null)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.risk_Manager_Email.errors),e.xp6(4),e.Q6J("ngIf",!(i.showAdmin||i.prequalification_status&&"To complete prequalification"!=i.prequalification_status&&"Additional Info Needed from Subcontractor"!=i.prequalification_status)),e.xp6(1),e.Q6J("ngIf",!i.showAdmin&&i.prequalification_status&&"To complete prequalification"!=i.prequalification_status&&"Additional Info Needed from Subcontractor"!=i.prequalification_status||i.showAdmin),e.xp6(1),e.Q6J("ngIf","Subcontractor"!=i.userRole&&"Additional Info Needed from Subcontractor"!=i.prequalification_status&&"Prequal form submitted and under quality check"!=i.prequalification_status))},directives:[s._Y,s.JL,s.sg,f.mk,s._,s.Fj,s.JJ,s.u,f.O5,s.on,s.c5,_e,s.wV,s.EJ,s.YN,s.Kr,f.sg,ie.Ou,le],styles:["h6[_ngcontent-%COMP%]{font-size:13px!important}.bg-grey[_ngcontent-%COMP%], .bg-grey[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%], .bg-grey[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{color:#c7bfbf!important}.row[_ngcontent-%COMP%]{margin-top:10px}.float-left[_ngcontent-%COMP%]{float:left}"]}),n})()},{path:"otherinfo",component:Xc},{path:"financialinfo",component:bs},{path:"signature",component:Xu},{path:"submittomesser",component:Oc},{path:"summary",component:t_}]}];let H_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[U.Bz.forChild(K_),s.u5,s.UX],U.Bz]}),n})();var z_=x(9854),$_=x(1005);let W_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[f.JJ],imports:[[f.ez,H_,s.u5,s.UX,$_.l,z_.p0]]}),n})()}}]);